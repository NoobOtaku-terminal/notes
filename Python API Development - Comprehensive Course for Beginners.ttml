<?xml version="1.0" encoding="utf-8" ?>
<tt xml:lang="en" xmlns="http://www.w3.org/ns/ttml" xmlns:ttm="http://www.w3.org/ns/ttml#metadata" xmlns:tts="http://www.w3.org/ns/ttml#styling" xmlns:ttp="http://www.w3.org/ns/ttml#parameter" ttp:profile="http://www.w3.org/TR/profile/sdp-us" >
<head>
<styling>
<style xml:id="s1" tts:textAlign="center" tts:extent="90% 90%" tts:origin="5% 5%" tts:displayAlign="after"/>
<style xml:id="s2" tts:fontSize=".72c" tts:backgroundColor="black" tts:color="white"/>
</styling>
<layout>
<region xml:id="r1" style="s1"/>
</layout>
</head>
<body region="r1">
<div>
<p begin="00:00:00.160" end="00:00:05.560" style="s2">this massive and comprehensive python</p>
<p begin="00:00:02.560" end="00:00:07.919" style="s2">API course is taught by Sanji</p>
<p begin="00:00:05.560" end="00:00:10.840" style="s2">thiagarajan he is an excellent teacher</p>
<p begin="00:00:07.919" end="00:00:12.320" style="s2">and has taught many popular courses hey</p>
<p begin="00:00:10.840" end="00:00:14.440" style="s2">how&#39;s it going everyone I just wanted to</p>
<p begin="00:00:12.320" end="00:00:15.920" style="s2">welcome you to my python API development</p>
<p begin="00:00:14.440" end="00:00:17.320" style="s2">course so in this course I&#39;m going to</p>
<p begin="00:00:15.920" end="00:00:19.880" style="s2">walk you through building out your very</p>
<p begin="00:00:17.320" end="00:00:21.199" style="s2">own API in Python however keep in mind</p>
<p begin="00:00:19.880" end="00:00:23.880" style="s2">this course is so much more than just</p>
<p begin="00:00:21.199" end="00:00:25.439" style="s2">building out a simple API in fact as I&#39;m</p>
<p begin="00:00:23.880" end="00:00:27.240" style="s2">sure you saw the video length this</p>
<p begin="00:00:25.439" end="00:00:28.880" style="s2">course does come out to a whopping 19</p>
<p begin="00:00:27.240" end="00:00:30.039" style="s2">hours in length and so you&#39;re probably</p>
<p begin="00:00:28.880" end="00:00:31.679" style="s2">wondering well what exactly are we going</p>
<p begin="00:00:30.039" end="00:00:34.040" style="s2">to be covering for 19 hours we don&#39;t</p>
<p begin="00:00:31.679" end="00:00:35.440" style="s2">need 19 hours to create an API well</p>
<p begin="00:00:34.040" end="00:00:37.160" style="s2">first of all we&#39;re going to build out a</p>
<p begin="00:00:35.440" end="00:00:39.559" style="s2">fully featured API that includes</p>
<p begin="00:00:37.160" end="00:00:40.760" style="s2">authentication CR operations scheme of</p>
<p begin="00:00:39.559" end="00:00:42.280" style="s2">validation and we&#39;re going to set up</p>
<p begin="00:00:40.760" end="00:00:44.079" style="s2">documentation for our API because that&#39;s</p>
<p begin="00:00:42.280" end="00:00:46.559" style="s2">very important however the learning</p>
<p begin="00:00:44.079" end="00:00:48.480" style="s2">doesn&#39;t stop just there this course is</p>
<p begin="00:00:46.559" end="00:00:50.120" style="s2">going to extend well past just basic API</p>
<p begin="00:00:48.480" end="00:00:51.480" style="s2">development we&#39;ll also learn all of the</p>
<p begin="00:00:50.120" end="00:00:54.039" style="s2">tooling that surrounds building a</p>
<p begin="00:00:51.480" end="00:00:55.359" style="s2">complete and robust API I&#39;ve dedicated a</p>
<p begin="00:00:54.039" end="00:00:57.320" style="s2">large section of this course to learning</p>
<p begin="00:00:55.359" end="00:00:59.359" style="s2">SQL and I&#39;ve noticed that a lot of the</p>
<p begin="00:00:57.320" end="00:01:01.680" style="s2">other API and web development courses</p>
<p begin="00:00:59.359" end="00:01:03.399" style="s2">they just quick gloss over SQL without</p>
<p begin="00:01:01.680" end="00:01:06.280" style="s2">diving into the nitty-gritty of how SQL</p>
<p begin="00:01:03.399" end="00:01:08.200" style="s2">databases work and for this course we&#39;re</p>
<p begin="00:01:06.280" end="00:01:10.119" style="s2">going to cover SQL extensively and we&#39;re</p>
<p begin="00:01:08.200" end="00:01:11.400" style="s2">going to start from the absolute Basics</p>
<p begin="00:01:10.119" end="00:01:14.240" style="s2">so you don&#39;t need to know a single thing</p>
<p begin="00:01:11.400" end="00:01:15.439" style="s2">about databases or SQL in general but by</p>
<p begin="00:01:14.240" end="00:01:17.040" style="s2">the time you complete this course you</p>
<p begin="00:01:15.439" end="00:01:19.240" style="s2">will be very proficient at generating</p>
<p begin="00:01:17.040" end="00:01:20.920" style="s2">database schemas you&#39;ll know core SQL</p>
<p begin="00:01:19.240" end="00:01:22.799" style="s2">Concepts like primary Keys foreign Keys</p>
<p begin="00:01:20.920" end="00:01:24.560" style="s2">table constraints and you can pretty</p>
<p begin="00:01:22.799" end="00:01:26.520" style="s2">much be able to generate SQL queries to</p>
<p begin="00:01:24.560" end="00:01:28.799" style="s2">grab the exact data that you&#39;re looking</p>
<p begin="00:01:26.520" end="00:01:30.880" style="s2">for and on top of that I&#39;ll show you how</p>
<p begin="00:01:28.799" end="00:01:33.320" style="s2">to integrate your SQL databases in your</p>
<p begin="00:01:30.880" end="00:01:36.240" style="s2">API using two different methods so we&#39;ll</p>
<p begin="00:01:33.320" end="00:01:38.240" style="s2">cover both uh using raw SQL queries as</p>
<p begin="00:01:36.240" end="00:01:40.399" style="s2">well as or so that no matter which</p>
<p begin="00:01:38.240" end="00:01:42.280" style="s2">method you ultimately prefer you&#39;ll have</p>
<p begin="00:01:40.399" end="00:01:44.759" style="s2">all the skills and resources to start</p>
<p begin="00:01:42.280" end="00:01:46.680" style="s2">building out your own projects we&#39;ll</p>
<p begin="00:01:44.759" end="00:01:48.799" style="s2">also familiarize ourselves with database</p>
<p begin="00:01:46.680" end="00:01:50.520" style="s2">migration tools like almic which allow</p>
<p begin="00:01:48.799" end="00:01:52.600" style="s2">us to make incremental changes to our</p>
<p begin="00:01:50.520" end="00:01:54.399" style="s2">database schema to track changes in git</p>
<p begin="00:01:52.600" end="00:01:56.640" style="s2">just like we can with our regular python</p>
<p begin="00:01:54.399" end="00:01:59.039" style="s2">code we&#39;ll also learn how to use tools</p>
<p begin="00:01:56.640" end="00:02:00.680" style="s2">like Postman to construct HTTP packets</p>
<p begin="00:01:59.039" end="00:02:02.520" style="s2">so that we can test our API during the</p>
<p begin="00:02:00.680" end="00:02:04.439" style="s2">whole development process and when it</p>
<p begin="00:02:02.520" end="00:02:06.640" style="s2">comes to testing I&#39;ve added about you</p>
<p begin="00:02:04.439" end="00:02:08.440" style="s2">know 2 to 3 hours of content going over</p>
<p begin="00:02:06.640" end="00:02:10.119" style="s2">how to set up automated integration</p>
<p begin="00:02:08.440" end="00:02:11.879" style="s2">tests so that when you make changes to</p>
<p begin="00:02:10.119" end="00:02:13.920" style="s2">your code you can run these automated</p>
<p begin="00:02:11.879" end="00:02:16.080" style="s2">tests to verify that your code changes</p>
<p begin="00:02:13.920" end="00:02:18.200" style="s2">haven&#39;t broke any pre-existing</p>
<p begin="00:02:16.080" end="00:02:19.680" style="s2">functionality and then after testing</p>
<p begin="00:02:18.200" end="00:02:21.519" style="s2">we&#39;re going to move on to the deployment</p>
<p begin="00:02:19.680" end="00:02:23.879" style="s2">phase we&#39;re going to actually deploy our</p>
<p begin="00:02:21.519" end="00:02:25.480" style="s2">application and I didn&#39;t just include</p>
<p begin="00:02:23.879" end="00:02:26.959" style="s2">one method of deployment I&#39;ve actually</p>
<p begin="00:02:25.480" end="00:02:29.440" style="s2">included two different deployment</p>
<p begin="00:02:26.959" end="00:02:30.840" style="s2">scenarios the first scenario is probably</p>
<p begin="00:02:29.440" end="00:02:32.480" style="s2">um the most most common scenario which</p>
<p begin="00:02:30.840" end="00:02:34.599" style="s2">is deploying our app onto like an auntu</p>
<p begin="00:02:32.480" end="00:02:37.480" style="s2">machine that can be hosted on any cloud</p>
<p begin="00:02:34.599" end="00:02:39.599" style="s2">provider like AWS gcp Azure or even</p>
<p begin="00:02:37.480" end="00:02:41.040" style="s2">digital ocean and you know we&#39;ll cover</p>
<p begin="00:02:39.599" end="00:02:43.480" style="s2">things like how to set up engine X to</p>
<p begin="00:02:41.040" end="00:02:45.120" style="s2">act as a reverse proxy we&#39;ll uh we&#39;ll</p>
<p begin="00:02:43.480" end="00:02:46.920" style="s2">configure our own system Des service</p>
<p begin="00:02:45.120" end="00:02:49.519" style="s2">we&#39;ll set up a firewall to block all non</p>
<p begin="00:02:46.920" end="00:02:51.800" style="s2">HTTP traffic and we&#39;ll even set up SSL</p>
<p begin="00:02:49.519" end="00:02:53.720" style="s2">so that our application can handle https</p>
<p begin="00:02:51.800" end="00:02:55.120" style="s2">traffic um but after that we&#39;ll also</p>
<p begin="00:02:53.720" end="00:02:57.760" style="s2">take a look at how we can deploy our</p>
<p begin="00:02:55.120" end="00:03:00.040" style="s2">application onto Heroku uh just because</p>
<p begin="00:02:57.760" end="00:03:02.200" style="s2">if you don&#39;t have um you know maybe you</p>
<p begin="00:03:00.040" end="00:03:04.319" style="s2">can&#39;t afford to pay for uh cloud</p>
<p begin="00:03:02.200" end="00:03:06.480" style="s2">services um or you just don&#39;t have the</p>
<p begin="00:03:04.319" end="00:03:07.599" style="s2">ability to sign up for an account or</p>
<p begin="00:03:06.480" end="00:03:10.280" style="s2">something like that I do want to make</p>
<p begin="00:03:07.599" end="00:03:11.599" style="s2">sure that uh you still have a way of uh</p>
<p begin="00:03:10.280" end="00:03:12.920" style="s2">deploying your application so that you</p>
<p begin="00:03:11.599" end="00:03:15.280" style="s2">can show off to your friends and family</p>
<p begin="00:03:12.920" end="00:03:17.560" style="s2">what you created so I added the hoko</p>
<p begin="00:03:15.280" end="00:03:19.080" style="s2">section cuz they&#39;ve got a very very nice</p>
<p begin="00:03:17.560" end="00:03:21.080" style="s2">and convenient free tier where we can</p>
<p begin="00:03:19.080" end="00:03:22.319" style="s2">deploy our entire application for free</p>
<p begin="00:03:21.080" end="00:03:23.560" style="s2">we don&#39;t need to sign up with the credit</p>
<p begin="00:03:22.319" end="00:03:25.959" style="s2">card so that&#39;s why I included that</p>
<p begin="00:03:23.560" end="00:03:28.080" style="s2">second deployment scenario and since all</p>
<p begin="00:03:25.959" end="00:03:29.879" style="s2">the cool kids are hardcore into Docker</p>
<p begin="00:03:28.080" end="00:03:31.560" style="s2">today I&#39;m going to show you how to dock</p>
<p begin="00:03:29.879" end="00:03:34.120" style="s2">oriz your API in case that is your</p>
<p begin="00:03:31.560" end="00:03:35.480" style="s2">preferred method of deployment and then</p>
<p begin="00:03:34.120" end="00:03:38.239" style="s2">finally we&#39;re going to wrap things up by</p>
<p begin="00:03:35.480" end="00:03:40.239" style="s2">building out our very own cicd pipeline</p>
<p begin="00:03:38.239" end="00:03:42.040" style="s2">uh using GitHub actions this will allow</p>
<p begin="00:03:40.239" end="00:03:43.640" style="s2">us to push out changes to GitHub</p>
<p begin="00:03:42.040" end="00:03:45.480" style="s2">resulting in our pipeline running which</p>
<p begin="00:03:43.640" end="00:03:47.159" style="s2">will pull our code run all of our</p>
<p begin="00:03:45.480" end="00:03:49.159" style="s2">integration tests build all of the</p>
<p begin="00:03:47.159" end="00:03:51.000" style="s2">necessary images and if all the tests</p>
<p begin="00:03:49.159" end="00:03:52.360" style="s2">ultimately pass it&#39;ll actually push out</p>
<p begin="00:03:51.000" end="00:03:54.200" style="s2">our changes to our production</p>
<p begin="00:03:52.360" end="00:03:55.799" style="s2">environment so that we can do all of</p>
<p begin="00:03:54.200" end="00:03:58.079" style="s2">this in an automated fashion without</p>
<p begin="00:03:55.799" end="00:04:00.200" style="s2">having to manually go in and run each</p>
<p begin="00:03:58.079" end="00:04:02.120" style="s2">step manually so let&#39;s let&#39;s take a look</p>
<p begin="00:04:00.200" end="00:04:04.040" style="s2">at our text deck since this is a python</p>
<p begin="00:04:02.120" end="00:04:06.159" style="s2">API course we will be using python to</p>
<p begin="00:04:04.040" end="00:04:07.640" style="s2">build out our API there were a couple of</p>
<p begin="00:04:06.159" end="00:04:09.239" style="s2">different web Frameworks in Python that</p>
<p begin="00:04:07.640" end="00:04:11.360" style="s2">we could have used most notably D Jango</p>
<p begin="00:04:09.239" end="00:04:13.040" style="s2">and flask I decided to use neither one</p>
<p begin="00:04:11.360" end="00:04:15.760" style="s2">of them and I decided to use a newer</p>
<p begin="00:04:13.040" end="00:04:17.519" style="s2">framework called Fast API and the reason</p>
<p begin="00:04:15.760" end="00:04:20.199" style="s2">why I chose to use this framework was</p>
<p begin="00:04:17.519" end="00:04:22.400" style="s2">because it has apis uh kind of built in</p>
<p begin="00:04:20.199" end="00:04:23.800" style="s2">mind right it wasn&#39;t there to address</p>
<p begin="00:04:22.400" end="00:04:26.199" style="s2">like the model view controller type</p>
<p begin="00:04:23.800" end="00:04:29.960" style="s2">scenario it really is all about building</p>
<p begin="00:04:26.199" end="00:04:32.080" style="s2">out apis and on top of that it is really</p>
<p begin="00:04:29.960" end="00:04:33.880" style="s2">fast right but when I say fast it&#39;s not</p>
<p begin="00:04:32.080" end="00:04:36.000" style="s2">just fast from a performance perspective</p>
<p begin="00:04:33.880" end="00:04:38.720" style="s2">which it is but it&#39;s also fast from the</p>
<p begin="00:04:36.000" end="00:04:41.479" style="s2">fact that it can it makes it really easy</p>
<p begin="00:04:38.720" end="00:04:43.280" style="s2">uh and quick to spin up new apis and one</p>
<p begin="00:04:41.479" end="00:04:45.479" style="s2">of my favorite features of this</p>
<p begin="00:04:43.280" end="00:04:47.880" style="s2">framework is the auto documentation</p>
<p begin="00:04:45.479" end="00:04:49.960" style="s2">functionality when you build an API you</p>
<p begin="00:04:47.880" end="00:04:51.600" style="s2">have to document how your API works and</p>
<p begin="00:04:49.960" end="00:04:53.000" style="s2">this is a very cumbersome task um</p>
<p begin="00:04:51.600" end="00:04:54.400" style="s2">because anytime you make any changes to</p>
<p begin="00:04:53.000" end="00:04:56.280" style="s2">your API you have to remember to update</p>
<p begin="00:04:54.400" end="00:04:58.440" style="s2">your API or then the front end can be</p>
<p begin="00:04:56.280" end="00:05:00.360" style="s2">making the wrong request fast API</p>
<p begin="00:04:58.440" end="00:05:01.960" style="s2">automatically documents your API for you</p>
<p begin="00:05:00.360" end="00:05:04.560" style="s2">so that you don&#39;t have to do it yourself</p>
<p begin="00:05:01.960" end="00:05:06.479" style="s2">it&#39;s truly a game Cher and finally the</p>
<p begin="00:05:04.560" end="00:05:09.479" style="s2">most important reason why I chose fast</p>
<p begin="00:05:06.479" end="00:05:11.479" style="s2">API is because of this you see This</p>
<p begin="00:05:09.479" end="00:05:13.759" style="s2">Magnificent Beast this is the creator of</p>
<p begin="00:05:11.479" end="00:05:15.520" style="s2">the fast API framework and my mom always</p>
<p begin="00:05:13.759" end="00:05:17.360" style="s2">told me when someone with the mustache</p>
<p begin="00:05:15.520" end="00:05:19.240" style="s2">as glorious as that creates a web</p>
<p begin="00:05:17.360" end="00:05:21.479" style="s2">framework you use that damn</p>
<p begin="00:05:19.240" end="00:05:23.680" style="s2">framework now as I mentioned we will be</p>
<p begin="00:05:21.479" end="00:05:25.600" style="s2">covering SQL extensively and I&#39;ve</p>
<p begin="00:05:23.680" end="00:05:26.960" style="s2">decided to go with postgress uh it</p>
<p begin="00:05:25.600" end="00:05:28.400" style="s2">doesn&#39;t really matter what type of SQL</p>
<p begin="00:05:26.960" end="00:05:30.080" style="s2">database you use they&#39;re all</p>
<p begin="00:05:28.400" end="00:05:31.680" style="s2">fundamentally the same with only minor</p>
<p begin="00:05:30.080" end="00:05:33.440" style="s2">differences I chose postris cuz that&#39;s</p>
<p begin="00:05:31.680" end="00:05:36.479" style="s2">my favorite and who doesn&#39;t like</p>
<p begin="00:05:33.440" end="00:05:38.600" style="s2">elephants anyways for our orm when we do</p>
<p begin="00:05:36.479" end="00:05:40.919" style="s2">eventually migrate to orms from using</p>
<p begin="00:05:38.600" end="00:05:43.400" style="s2">raw SQL queries we will be using SQL</p>
<p begin="00:05:40.919" end="00:05:44.800" style="s2">Alchemy um I decided to use that because</p>
<p begin="00:05:43.400" end="00:05:46.120" style="s2">that seems like that&#39;s the most standard</p>
<p begin="00:05:44.800" end="00:05:47.800" style="s2">one for python I really could have chose</p>
<p begin="00:05:46.120" end="00:05:49.319" style="s2">any of them I didn&#39;t really care which</p>
<p begin="00:05:47.800" end="00:05:52.039" style="s2">one I used so I just picked the most</p>
<p begin="00:05:49.319" end="00:05:53.400" style="s2">popular one so that covers our text</p>
<p begin="00:05:52.039" end="00:05:55.199" style="s2">stack let&#39;s now take a look at the</p>
<p begin="00:05:53.400" end="00:05:56.720" style="s2">project that we&#39;ll be building now I</p>
<p begin="00:05:55.199" end="00:05:57.840" style="s2">would love to show you some cool flashy</p>
<p begin="00:05:56.720" end="00:05:59.639" style="s2">website that you can show off to your</p>
<p begin="00:05:57.840" end="00:06:01.360" style="s2">friends however we&#39;re not building a</p>
<p begin="00:05:59.639" end="00:06:03.000" style="s2">website we&#39;re building an API and</p>
<p begin="00:06:01.360" end="00:06:05.440" style="s2">unfortunately apis don&#39;t really have a</p>
<p begin="00:06:03.000" end="00:06:07.080" style="s2">visual aspect to them so I don&#39;t really</p>
<p begin="00:06:05.440" end="00:06:09.000" style="s2">have anything to show you I mean I could</p>
<p begin="00:06:07.080" end="00:06:10.840" style="s2">I guess construct a couple HTTP packets</p>
<p begin="00:06:09.000" end="00:06:12.360" style="s2">and send it and verify that we get the</p>
<p begin="00:06:10.840" end="00:06:13.840" style="s2">proper Json response but that&#39;s not</p>
<p begin="00:06:12.360" end="00:06:15.160" style="s2">really exciting so what I&#39;m going to do</p>
<p begin="00:06:13.840" end="00:06:16.599" style="s2">is I&#39;m going to show you our</p>
<p begin="00:06:15.160" end="00:06:17.840" style="s2">documentation for our project so that</p>
<p begin="00:06:16.599" end="00:06:19.680" style="s2">you can see all the different features</p>
<p begin="00:06:17.840" end="00:06:20.960" style="s2">that we Implement and the nice part</p>
<p begin="00:06:19.680" end="00:06:22.360" style="s2">about the documentation is these are</p>
<p begin="00:06:20.960" end="00:06:24.639" style="s2">interactive docs so from the</p>
<p begin="00:06:22.360" end="00:06:26.199" style="s2">documentation I can actually send HTTP</p>
<p begin="00:06:24.639" end="00:06:28.599" style="s2">requests to my application and get a</p>
<p begin="00:06:26.199" end="00:06:29.880" style="s2">response back so you can really see all</p>
<p begin="00:06:28.599" end="00:06:30.960" style="s2">of the different features things like</p>
<p begin="00:06:29.880" end="00:06:32.680" style="s2">the authentication and the crowd</p>
<p begin="00:06:30.960" end="00:06:34.919" style="s2">operations that we&#39;ll be performing and</p>
<p begin="00:06:32.680" end="00:06:36.199" style="s2">setting up in our API so the app that</p>
<p begin="00:06:34.919" end="00:06:37.960" style="s2">we&#39;re going to build for this course is</p>
<p begin="00:06:36.199" end="00:06:41.000" style="s2">going to be a social media type</p>
<p begin="00:06:37.960" end="00:06:42.880" style="s2">application where users can create posts</p>
<p begin="00:06:41.000" end="00:06:44.360" style="s2">uh they can read other people&#39;s posts</p>
<p begin="00:06:42.880" end="00:06:45.919" style="s2">they&#39;ll be able to perform all the cred</p>
<p begin="00:06:44.360" end="00:06:47.840" style="s2">operations so they&#39;ll able to create</p>
<p begin="00:06:45.919" end="00:06:51.199" style="s2">read update and delete</p>
<p begin="00:06:47.840" end="00:06:53.160" style="s2">posts and we&#39;ll also be able to uh vote</p>
<p begin="00:06:51.199" end="00:06:55.080" style="s2">on posts so you know most social media</p>
<p begin="00:06:53.160" end="00:06:57.440" style="s2">apps have some sort of like system or</p>
<p begin="00:06:55.080" end="00:06:59.960" style="s2">voting system uh and so we will be able</p>
<p begin="00:06:57.440" end="00:07:01.639" style="s2">to like other users posts as well so</p>
<p begin="00:06:59.960" end="00:07:03.599" style="s2">this is the built-in documentation that</p>
<p begin="00:07:01.639" end="00:07:05.400" style="s2">comes with fast API and you&#39;ll be able</p>
<p begin="00:07:03.599" end="00:07:06.759" style="s2">to see all of the API endpoints that</p>
<p begin="00:07:05.400" end="00:07:08.560" style="s2">we&#39;re going to create in this course so</p>
<p begin="00:07:06.759" end="00:07:10.000" style="s2">we&#39;re going to have all of the post end</p>
<p begin="00:07:08.560" end="00:07:12.639" style="s2">point which is going to be responsible</p>
<p begin="00:07:10.000" end="00:07:14.120" style="s2">for retrieving all posts creating posts</p>
<p begin="00:07:12.639" end="00:07:15.639" style="s2">uh retrieving an individual post</p>
<p begin="00:07:14.120" end="00:07:18.639" style="s2">updating a post as well as deleting a</p>
<p begin="00:07:15.639" end="00:07:20.199" style="s2">post then we&#39;ll have the user specific</p>
<p begin="00:07:18.639" end="00:07:22.520" style="s2">um endpoints so things like creating a</p>
<p begin="00:07:20.199" end="00:07:24.039" style="s2">user getting a user&#39;s information uh and</p>
<p begin="00:07:22.520" end="00:07:25.960" style="s2">then we&#39;ve got our authentication which</p>
<p begin="00:07:24.039" end="00:07:27.360" style="s2">is going to be used for logging in and</p>
<p begin="00:07:25.960" end="00:07:29.199" style="s2">then finally we&#39;ve got the one for</p>
<p begin="00:07:27.360" end="00:07:32.120" style="s2">voting so when you want to vote on a</p>
<p begin="00:07:29.199" end="00:07:33.560" style="s2">specific specific um uh specific post</p>
<p begin="00:07:32.120" end="00:07:36.319" style="s2">that you like you can go ahead and like</p>
<p begin="00:07:33.560" end="00:07:38.319" style="s2">that post so let&#39;s just use the</p>
<p begin="00:07:36.319" end="00:07:41.039" style="s2">documentation to actually uh you know</p>
<p begin="00:07:38.319" end="00:07:43.520" style="s2">test out our API so first things first</p>
<p begin="00:07:41.039" end="00:07:45.159" style="s2">uh let&#39;s actually try to retrieve any or</p>
<p begin="00:07:43.520" end="00:07:47.199" style="s2">all of our posts so if I hit this get</p>
<p begin="00:07:45.159" end="00:07:49.240" style="s2">button right here we can actually try to</p>
<p begin="00:07:47.199" end="00:07:50.759" style="s2">send a request to our API with the</p>
<p begin="00:07:49.240" end="00:07:53.080" style="s2">built-in documentation so you can just</p>
<p begin="00:07:50.759" end="00:07:55.479" style="s2">say execute right and you&#39;ll see that we</p>
<p begin="00:07:53.080" end="00:07:57.759" style="s2">got a 401 which means that we are right</p>
<p begin="00:07:55.479" end="00:07:59.759" style="s2">now not logged in so we are unauthorized</p>
<p begin="00:07:57.759" end="00:08:01.000" style="s2">to retrieve any of the posts so uh the</p>
<p begin="00:07:59.759" end="00:08:02.560" style="s2">API that we&#39;re going to build is going</p>
<p begin="00:08:01.000" end="00:08:04.919" style="s2">to require all users to be logged in to</p>
<p begin="00:08:02.560" end="00:08:06.440" style="s2">be to even be able to read the posts so</p>
<p begin="00:08:04.919" end="00:08:08.560" style="s2">let&#39;s actually go ahead and create a</p>
<p begin="00:08:06.440" end="00:08:11.000" style="s2">user and so we&#39;ll go down to the users</p>
<p begin="00:08:08.560" end="00:08:13.039" style="s2">endpoint uh under create user and I&#39;m</p>
<p begin="00:08:11.000" end="00:08:14.840" style="s2">going to do try it out and it&#39;s going to</p>
<p begin="00:08:13.039" end="00:08:16.840" style="s2">give us an example of the structure of</p>
<p begin="00:08:14.840" end="00:08:18.360" style="s2">the data that we have to send to our API</p>
<p begin="00:08:16.840" end="00:08:20.680" style="s2">to create a user so we need to provide a</p>
<p begin="00:08:18.360" end="00:08:23.120" style="s2">username or an email and a</p>
<p begin="00:08:20.680" end="00:08:26.039" style="s2">password so I&#39;m going to create an email</p>
<p begin="00:08:23.120" end="00:08:28.039" style="s2">I&#39;ll call this John</p>
<p begin="00:08:26.039" end="00:08:29.680" style="s2">gmail.com and the password is going to</p>
<p begin="00:08:28.039" end="00:08:32.240" style="s2">be something simple just for</p>
<p begin="00:08:29.680" end="00:08:32.240" style="s2">demonstration</p>
<p begin="00:08:33.839" end="00:08:38.000" style="s2">purposes and we&#39;ll execute that right so</p>
<p begin="00:08:36.599" end="00:08:40.200" style="s2">it&#39;ll actually send that data back to</p>
<p begin="00:08:38.000" end="00:08:41.519" style="s2">our back end you can see we get a 2011</p>
<p begin="00:08:40.200" end="00:08:43.719" style="s2">which means we&#39;re successfully able to</p>
<p begin="00:08:41.519" end="00:08:45.600" style="s2">create it you can see the ID of the user</p>
<p begin="00:08:43.719" end="00:08:47.279" style="s2">account that was created we can see the</p>
<p begin="00:08:45.600" end="00:08:49.240" style="s2">email is what it is and then we can see</p>
<p begin="00:08:47.279" end="00:08:50.640" style="s2">the date that it was created at as well</p>
<p begin="00:08:49.240" end="00:08:51.880" style="s2">and so now we can actually log in as</p>
<p begin="00:08:50.640" end="00:08:53.800" style="s2">this user so there&#39;s a couple of</p>
<p begin="00:08:51.880" end="00:08:56.040" style="s2">different ways to log in I can go to the</p>
<p begin="00:08:53.800" end="00:08:58.160" style="s2">login endpoint or we can just go up here</p>
<p begin="00:08:56.040" end="00:08:59.640" style="s2">at the top and just do authorize and</p>
<p begin="00:08:58.160" end="00:09:01.480" style="s2">then we can provide that information so</p>
<p begin="00:08:59.640" end="00:09:04.279" style="s2">I&#39;ll do John</p>
<p begin="00:09:01.480" end="00:09:07.560" style="s2">gmail.com and we&#39;ll provide his password</p>
<p begin="00:09:04.279" end="00:09:08.959" style="s2">and if we do authorize now uh we can see</p>
<p begin="00:09:07.560" end="00:09:11.120" style="s2">that we have successfully logged in so</p>
<p begin="00:09:08.959" end="00:09:13.600" style="s2">I&#39;ll close this out and so now if I try</p>
<p begin="00:09:11.120" end="00:09:15.680" style="s2">to retrieve the posts and then hit</p>
<p begin="00:09:13.600" end="00:09:17.160" style="s2">execute you could see that we were able</p>
<p begin="00:09:15.680" end="00:09:19.360" style="s2">to retrieve all of the posts in our</p>
<p begin="00:09:17.160" end="00:09:20.680" style="s2">database right now there&#39;s only two um</p>
<p begin="00:09:19.360" end="00:09:22.720" style="s2">but you can see that these were created</p>
<p begin="00:09:20.680" end="00:09:25.720" style="s2">by some other users like saniv in this</p>
<p begin="00:09:22.720" end="00:09:27.200" style="s2">case and then sanie 123 and if we want</p>
<p begin="00:09:25.720" end="00:09:28.760" style="s2">to create our own post we can go ahead</p>
<p begin="00:09:27.200" end="00:09:30.079" style="s2">and do that so I&#39;ll go to the create</p>
<p begin="00:09:28.760" end="00:09:32.120" style="s2">post endpoint</p>
<p begin="00:09:30.079" end="00:09:33.560" style="s2">and we&#39;ll do try it out and it&#39;s going</p>
<p begin="00:09:32.120" end="00:09:36.279" style="s2">to give us an example here so we have to</p>
<p begin="00:09:33.560" end="00:09:37.320" style="s2">provide title content as well as is this</p>
<p begin="00:09:36.279" end="00:09:39.279" style="s2">post going to be published or is it</p>
<p begin="00:09:37.320" end="00:09:42.600" style="s2">going to be a draft and uh you&#39;ll</p>
<p begin="00:09:39.279" end="00:09:46.120" style="s2">actually see uh the structure of this uh</p>
<p begin="00:09:42.600" end="00:09:49.120" style="s2">schema uh right down</p>
<p begin="00:09:46.120" end="00:09:51.920" style="s2">here I think it&#39;s at the bottom actually</p>
<p begin="00:09:49.120" end="00:09:53.800" style="s2">uh so if you go to post create here this</p>
<p begin="00:09:51.920" end="00:09:54.880" style="s2">is going to show us the uh the schema</p>
<p begin="00:09:53.800" end="00:09:57.519" style="s2">that we have to pass so we have to</p>
<p begin="00:09:54.880" end="00:09:59.600" style="s2">provide a title a Content so this the</p>
<p begin="00:09:57.519" end="00:10:01.560" style="s2">asri means it&#39;s um required the</p>
<p begin="00:09:59.600" end="00:10:03.000" style="s2">published is um not required and you can</p>
<p begin="00:10:01.560" end="00:10:04.920" style="s2">see that it defaults to true so if we</p>
<p begin="00:10:03.000" end="00:10:07.480" style="s2">don&#39;t provide a value it&#39;ll default to</p>
<p begin="00:10:04.920" end="00:10:09.160" style="s2">true so let&#39;s test that out and so I&#39;ll</p>
<p begin="00:10:07.480" end="00:10:12.160" style="s2">just say</p>
<p begin="00:10:09.160" end="00:10:15.120" style="s2">um favorite foods is going to be the</p>
<p begin="00:10:12.160" end="00:10:18.079" style="s2">title and then content is going to be</p>
<p begin="00:10:15.120" end="00:10:20.120" style="s2">piz and burgers and I will remove the</p>
<p begin="00:10:18.079" end="00:10:22.160" style="s2">published section because it is optional</p>
<p begin="00:10:20.120" end="00:10:24.320" style="s2">and it&#39;ll default to true anyways and</p>
<p begin="00:10:22.160" end="00:10:25.839" style="s2">we&#39;ll hit execute and if we take a look</p>
<p begin="00:10:24.320" end="00:10:27.760" style="s2">at the response we get a 2011 which</p>
<p begin="00:10:25.839" end="00:10:29.000" style="s2">means it&#39;s successfully created it and</p>
<p begin="00:10:27.760" end="00:10:30.839" style="s2">you can see what the post looks like in</p>
<p begin="00:10:29.000" end="00:10:32.200" style="s2">our dat database you&#39;ve got the title</p>
<p begin="00:10:30.839" end="00:10:34.600" style="s2">content we can see the published got</p>
<p begin="00:10:32.200" end="00:10:36.480" style="s2">defaulted to true we can see the ID of</p>
<p begin="00:10:34.600" end="00:10:38.120" style="s2">the post when it was created we could</p>
<p begin="00:10:36.480" end="00:10:39.800" style="s2">see the owner ID which is you know who</p>
<p begin="00:10:38.120" end="00:10:42.160" style="s2">created the post and so that&#39;s the ID of</p>
<p begin="00:10:39.800" end="00:10:43.440" style="s2">our account which is 17 and we can see</p>
<p begin="00:10:42.160" end="00:10:45.160" style="s2">the information about the owner so this</p>
<p begin="00:10:43.440" end="00:10:47.560" style="s2">is John</p>
<p begin="00:10:45.160" end="00:10:49.079" style="s2">gmail.com and then you know as usual we</p>
<p begin="00:10:47.560" end="00:10:50.519" style="s2">could perform all perform all the other</p>
<p begin="00:10:49.079" end="00:10:53.800" style="s2">crud operations so we can retrieve an</p>
<p begin="00:10:50.519" end="00:10:55.519" style="s2">individual post update it and delete it</p>
<p begin="00:10:53.800" end="00:10:57.680" style="s2">and then once again um if we go down</p>
<p begin="00:10:55.519" end="00:11:00.399" style="s2">here we can also vote uh to like a post</p>
<p begin="00:10:57.680" end="00:11:02.920" style="s2">as well uh and so you know this kind of</p>
<p begin="00:11:00.399" end="00:11:05.079" style="s2">forms the backbone of a traditional</p>
<p begin="00:11:02.920" end="00:11:06.720" style="s2">social media type application so once</p>
<p begin="00:11:05.079" end="00:11:08.320" style="s2">you can really do this you can really</p>
<p begin="00:11:06.720" end="00:11:10.440" style="s2">create any application you want and I</p>
<p begin="00:11:08.320" end="00:11:12.399" style="s2">think this covers uh enough things from</p>
<p begin="00:11:10.440" end="00:11:13.680" style="s2">an API perspective as well as from a SQL</p>
<p begin="00:11:12.399" end="00:11:15.720" style="s2">and database perspective that you will</p>
<p begin="00:11:13.680" end="00:11:17.440" style="s2">have a solid foundation to really build</p>
<p begin="00:11:15.720" end="00:11:18.680" style="s2">out any API that you&#39;re interested in</p>
<p begin="00:11:17.440" end="00:11:20.279" style="s2">building out and so I think that&#39;s</p>
<p begin="00:11:18.680" end="00:11:22.920" style="s2">enough talking let&#39;s get to actually</p>
<p begin="00:11:20.279" end="00:11:24.839" style="s2">start coding out our application in this</p>
<p begin="00:11:22.920" end="00:11:27.000" style="s2">video we&#39;ll take a look at how to set up</p>
<p begin="00:11:24.839" end="00:11:28.720" style="s2">python as well as vs code on a Mac</p>
<p begin="00:11:27.000" end="00:11:30.079" style="s2">machine so the first thing we&#39;re going</p>
<p begin="00:11:28.720" end="00:11:31.959" style="s2">to do is we&#39;re going to just search for</p>
<p begin="00:11:30.079" end="00:11:34.200" style="s2">Python and the first result should take</p>
<p begin="00:11:31.959" end="00:11:36.120" style="s2">us to the main python page and what we</p>
<p begin="00:11:34.200" end="00:11:37.320" style="s2">want to do is Select downloads and it&#39;s</p>
<p begin="00:11:36.120" end="00:11:38.920" style="s2">automatically going to give us a button</p>
<p begin="00:11:37.320" end="00:11:41.560" style="s2">to download whatever the latest version</p>
<p begin="00:11:38.920" end="00:11:43.480" style="s2">of python is and the nice part is it&#39;ll</p>
<p begin="00:11:41.560" end="00:11:44.639" style="s2">automatically detect uh what platform</p>
<p begin="00:11:43.480" end="00:11:46.279" style="s2">you&#39;re using so it&#39;ll know that we&#39;re on</p>
<p begin="00:11:44.639" end="00:11:48.279" style="s2">a Mac and right now it says that the</p>
<p begin="00:11:46.279" end="00:11:50.040" style="s2">latest version is 39.6 so it&#39;s going to</p>
<p begin="00:11:48.279" end="00:11:51.279" style="s2">offer me that keep in mind if you&#39;re</p>
<p begin="00:11:50.040" end="00:11:52.720" style="s2">watching this video in the future it&#39;s</p>
<p begin="00:11:51.279" end="00:11:54.399" style="s2">going to show a different version and</p>
<p begin="00:11:52.720" end="00:11:56.639" style="s2">it&#39;s okay for you to download a newer</p>
<p begin="00:11:54.399" end="00:11:58.760" style="s2">version as long as it&#39;s later than 3.7</p>
<p begin="00:11:56.639" end="00:11:59.880" style="s2">you should be okay for this course so</p>
<p begin="00:11:58.760" end="00:12:01.959" style="s2">I&#39;m going to select this and it&#39;s going</p>
<p begin="00:11:59.880" end="00:12:03.560" style="s2">to download it like any other</p>
<p begin="00:12:01.959" end="00:12:05.040" style="s2">application once it&#39;s finished</p>
<p begin="00:12:03.560" end="00:12:06.480" style="s2">downloading we&#39;re going to select that</p>
<p begin="00:12:05.040" end="00:12:08.200" style="s2">and then select the file that we just</p>
<p begin="00:12:06.480" end="00:12:10.040" style="s2">downloaded and then this is going to</p>
<p begin="00:12:08.200" end="00:12:12.560" style="s2">take us through the python installation</p>
<p begin="00:12:10.040" end="00:12:14.399" style="s2">process so we&#39;ll hit continue we&#39;ll hit</p>
<p begin="00:12:12.560" end="00:12:17.440" style="s2">continue again</p>
<p begin="00:12:14.399" end="00:12:19.279" style="s2">continue we&#39;ll hit agree and then</p>
<p begin="00:12:17.440" end="00:12:21.560" style="s2">install and then it&#39;s going to prompt us</p>
<p begin="00:12:19.279" end="00:12:21.560" style="s2">for a</p>
<p begin="00:12:24.360" end="00:12:27.880" style="s2">password all right and so once you get</p>
<p begin="00:12:26.279" end="00:12:29.800" style="s2">this popup it means that python was</p>
<p begin="00:12:27.880" end="00:12:32.040" style="s2">successfully installed so we can then</p>
<p begin="00:12:29.800" end="00:12:35.040" style="s2">close that out real</p>
<p begin="00:12:32.040" end="00:12:37.160" style="s2">quick and we can move this to trash and</p>
<p begin="00:12:35.040" end="00:12:39.320" style="s2">the next thing that we want to do is uh</p>
<p begin="00:12:37.160" end="00:12:41.720" style="s2">go up to your search bar at the top and</p>
<p begin="00:12:39.320" end="00:12:43.519" style="s2">I want you to search for the terminal</p>
<p begin="00:12:41.720" end="00:12:45.600" style="s2">application right and it should find</p>
<p begin="00:12:43.519" end="00:12:48.000" style="s2">that just double click on that so we can</p>
<p begin="00:12:45.600" end="00:12:48.000" style="s2">open up a</p>
<p begin="00:12:48.880" end="00:12:54.000" style="s2">terminal and with our terminal what we</p>
<p begin="00:12:50.800" end="00:12:57.199" style="s2">want to do is we want to type in Python</p>
<p begin="00:12:54.000" end="00:12:59.360" style="s2">3-- version and the reason we um specify</p>
<p begin="00:12:57.199" end="00:13:01.440" style="s2">Python 3 is that you can actually have a</p>
<p begin="00:12:59.360" end="00:13:03.519" style="s2">python 2 and a Python 3 version</p>
<p begin="00:13:01.440" end="00:13:05.079" style="s2">simultaneously installed simultaneously</p>
<p begin="00:13:03.519" end="00:13:06.519" style="s2">on your machine we want to make sure</p>
<p begin="00:13:05.079" end="00:13:08.279" style="s2">that we got Python 3 successfully</p>
<p begin="00:13:06.519" end="00:13:09.480" style="s2">installed so if we type this in it</p>
<p begin="00:13:08.279" end="00:13:10.720" style="s2">should then print out the version that</p>
<p begin="00:13:09.480" end="00:13:13.279" style="s2">we installed so we can see that we did</p>
<p begin="00:13:10.720" end="00:13:15.839" style="s2">successfully install python 39.6 so we</p>
<p begin="00:13:13.279" end="00:13:17.199" style="s2">should be set from a python perspective</p>
<p begin="00:13:15.839" end="00:13:19.279" style="s2">and now that we have python installed</p>
<p begin="00:13:17.199" end="00:13:21.040" style="s2">let&#39;s go ahead and install VSS code so</p>
<p begin="00:13:19.279" end="00:13:23.880" style="s2">like I said vs code is going to act as</p>
<p begin="00:13:21.040" end="00:13:27.440" style="s2">our text editor or our IDE and so what</p>
<p begin="00:13:23.880" end="00:13:29.519" style="s2">we&#39;re going to do is just search for vs</p>
<p begin="00:13:27.440" end="00:13:31.519" style="s2">code and this is going to take us to the</p>
<p begin="00:13:29.519" end="00:13:32.959" style="s2">Microsoft page and then once again</p>
<p begin="00:13:31.519" end="00:13:34.600" style="s2">Microsoft will automatically detect that</p>
<p begin="00:13:32.959" end="00:13:37.880" style="s2">we&#39;re running a Mac and then we can just</p>
<p begin="00:13:34.600" end="00:13:37.880" style="s2">go ahead and select download Mac</p>
<p begin="00:13:38.480" end="00:13:42.639" style="s2">universal all right and once that&#39;s done</p>
<p begin="00:13:40.720" end="00:13:45.519" style="s2">installing or downloading we can select</p>
<p begin="00:13:42.639" end="00:13:47.639" style="s2">that and open it up and you&#39;ll get this</p>
<p begin="00:13:45.519" end="00:13:50.240" style="s2">warning just go ahead and select</p>
<p begin="00:13:47.639" end="00:13:53.959" style="s2">open and so this is going to open up our</p>
<p begin="00:13:50.240" end="00:13:56.360" style="s2">vs code and what we need to do is uh VSS</p>
<p begin="00:13:53.959" end="00:13:58.160" style="s2">code is just a very basic text editor</p>
<p begin="00:13:56.360" end="00:13:59.600" style="s2">however it comes with extensions that we</p>
<p begin="00:13:58.160" end="00:14:01.839" style="s2">can install that make</p>
<p begin="00:13:59.600" end="00:14:04.639" style="s2">significantly more feature Rich so it&#39;ll</p>
<p begin="00:14:01.839" end="00:14:06.519" style="s2">almost act like a traditional IDE and if</p>
<p begin="00:14:04.639" end="00:14:07.839" style="s2">you select the extensions icon which is</p>
<p begin="00:14:06.519" end="00:14:09.720" style="s2">this icon right here with the extra</p>
<p begin="00:14:07.839" end="00:14:11.279" style="s2">blocks select that and I want you to</p>
<p begin="00:14:09.720" end="00:14:13.399" style="s2">search for</p>
<p begin="00:14:11.279" end="00:14:14.440" style="s2">Python and the first result should be</p>
<p begin="00:14:13.399" end="00:14:16.600" style="s2">the one you want and it should be the</p>
<p begin="00:14:14.440" end="00:14:18.199" style="s2">one um that&#39;s made by Microsoft so this</p>
<p begin="00:14:16.600" end="00:14:20.199" style="s2">is going to provide things like linting</p>
<p begin="00:14:18.199" end="00:14:21.959" style="s2">intellisense debugging and a few other</p>
<p begin="00:14:20.199" end="00:14:23.519" style="s2">features that are going to come in handy</p>
<p begin="00:14:21.959" end="00:14:26.360" style="s2">when it comes to writing python code</p>
<p begin="00:14:23.519" end="00:14:28.160" style="s2">within vs code so go ahead and install</p>
<p begin="00:14:26.360" end="00:14:29.759" style="s2">this all right so now that it&#39;s</p>
<p begin="00:14:28.160" end="00:14:31.680" style="s2">installed what we want to do is Select</p>
<p begin="00:14:29.759" end="00:14:33.000" style="s2">this icon to go back to our folder menu</p>
<p begin="00:14:31.680" end="00:14:33.839" style="s2">and we want to select open folder so</p>
<p begin="00:14:33.000" end="00:14:35.920" style="s2">what we&#39;re going to do is we&#39;re going to</p>
<p begin="00:14:33.839" end="00:14:37.440" style="s2">create a folder to store all of our</p>
<p begin="00:14:35.920" end="00:14:40.519" style="s2">project code so I&#39;m going to select open</p>
<p begin="00:14:37.440" end="00:14:42.160" style="s2">folder now we haven&#39;t created a folder</p>
<p begin="00:14:40.519" end="00:14:44.199" style="s2">uh to actually store our application so</p>
<p begin="00:14:42.160" end="00:14:46.759" style="s2">I&#39;m going to go under U my traditional</p>
<p begin="00:14:44.199" end="00:14:48.519" style="s2">users sanie and then I&#39;m just going to</p>
<p begin="00:14:46.759" end="00:14:50.519" style="s2">store this within my documents so I&#39;m</p>
<p begin="00:14:48.519" end="00:14:53.120" style="s2">going to make a new folder called um</p>
<p begin="00:14:50.519" end="00:14:55.000" style="s2">I&#39;ll call this uh we&#39;ll just call this</p>
<p begin="00:14:53.120" end="00:14:57.040" style="s2">fast</p>
<p begin="00:14:55.000" end="00:14:58.480" style="s2">API so I&#39;ll create that and then we&#39;re</p>
<p begin="00:14:57.040" end="00:15:00.399" style="s2">going to open up the fast API folder</p>
<p begin="00:14:58.480" end="00:15:02.600" style="s2">that we just created</p>
<p begin="00:15:00.399" end="00:15:03.959" style="s2">created and so this is going to open up</p>
<p begin="00:15:02.600" end="00:15:06.120" style="s2">all of our project code right now we</p>
<p begin="00:15:03.959" end="00:15:07.320" style="s2">have no files and that&#39;s to be expected</p>
<p begin="00:15:06.120" end="00:15:09.480" style="s2">but what I want to do is I want to right</p>
<p begin="00:15:07.320" end="00:15:12.320" style="s2">click here and select new file and we</p>
<p begin="00:15:09.480" end="00:15:15.000" style="s2">want to do is type in</p>
<p begin="00:15:12.320" end="00:15:17.519" style="s2">main.py and before we hit enter I want</p>
<p begin="00:15:15.000" end="00:15:19.279" style="s2">you to look down here so when I hit</p>
<p begin="00:15:17.519" end="00:15:20.880" style="s2">enter you&#39;ll see that something&#39;s</p>
<p begin="00:15:19.279" end="00:15:23.000" style="s2">happening so it&#39;s activating the python</p>
<p begin="00:15:20.880" end="00:15:25.519" style="s2">extension and it&#39;s automatically going</p>
<p begin="00:15:23.000" end="00:15:26.759" style="s2">to select a python interpreter and so</p>
<p begin="00:15:25.519" end="00:15:28.600" style="s2">like I said you can have multiple</p>
<p begin="00:15:26.759" end="00:15:30.120" style="s2">different versions of python so</p>
<p begin="00:15:28.600" end="00:15:31.639" style="s2">technically we could you know for any</p>
<p begin="00:15:30.120" end="00:15:34.160" style="s2">one of our projects we could be running</p>
<p begin="00:15:31.639" end="00:15:35.720" style="s2">39.6 or maybe we&#39;re running 2.7 if we</p>
<p begin="00:15:34.160" end="00:15:37.800" style="s2">want to stick to python 2 we can</p>
<p begin="00:15:35.720" end="00:15:39.959" style="s2">actually select which specific python</p>
<p begin="00:15:37.800" end="00:15:42.199" style="s2">interpreter we want to run on a per a</p>
<p begin="00:15:39.959" end="00:15:44.399" style="s2">project basis and if you ever want to</p>
<p begin="00:15:42.199" end="00:15:46.199" style="s2">change this or for some reason it wasn&#39;t</p>
<p begin="00:15:44.399" end="00:15:49.360" style="s2">able to find this correctly just go</p>
<p begin="00:15:46.199" end="00:15:51.319" style="s2">ahead and select view command pallet and</p>
<p begin="00:15:49.360" end="00:15:52.600" style="s2">then it automatically uh found the most</p>
<p begin="00:15:51.319" end="00:15:54.759" style="s2">recently used ones but you would just</p>
<p begin="00:15:52.600" end="00:15:57.199" style="s2">search for python select interpreter</p>
<p begin="00:15:54.759" end="00:15:59.000" style="s2">select this and it shows the currently</p>
<p begin="00:15:57.199" end="00:16:01.360" style="s2">selected interpreter but you can also</p>
<p begin="00:15:59.000" end="00:16:02.519" style="s2">enter in the path to find a specific</p>
<p begin="00:16:01.360" end="00:16:05.000" style="s2">interpreter so you would just find</p>
<p begin="00:16:02.519" end="00:16:07.120" style="s2">wherever Python 2.7 was installed if you</p>
<p begin="00:16:05.000" end="00:16:10.240" style="s2">wanted to use that or if it was unable</p>
<p begin="00:16:07.120" end="00:16:12.279" style="s2">to find 39.6 go ahead and just uh find</p>
<p begin="00:16:10.240" end="00:16:14.279" style="s2">where python 39.6 was installed on your</p>
<p begin="00:16:12.279" end="00:16:17.440" style="s2">machine and point to that python.exe</p>
<p begin="00:16:14.279" end="00:16:18.720" style="s2">file actually it&#39;s not called exe uh</p>
<p begin="00:16:17.440" end="00:16:20.759" style="s2">within Mac I forget what it&#39;s called on</p>
<p begin="00:16:18.720" end="00:16:22.279" style="s2">a Mac I actually use a Windows machine</p>
<p begin="00:16:20.759" end="00:16:24.360" style="s2">for most of my things but that&#39;s all you</p>
<p begin="00:16:22.279" end="00:16:27.360" style="s2">have to do uh and so at this point we&#39;ve</p>
<p begin="00:16:24.360" end="00:16:30.199" style="s2">got python set up and then we&#39;ve got our</p>
<p begin="00:16:27.360" end="00:16:32.399" style="s2">uh vs code set up so once again uh</p>
<p begin="00:16:30.199" end="00:16:34.240" style="s2">anytime vs code closes you want to open</p>
<p begin="00:16:32.399" end="00:16:37.279" style="s2">it back up and then um open up the</p>
<p begin="00:16:34.240" end="00:16:39.519" style="s2">folder fast API in this</p>
<p begin="00:16:37.279" end="00:16:41.880" style="s2">case in this video I&#39;m going to walk you</p>
<p begin="00:16:39.519" end="00:16:44.560" style="s2">through setting up python as well as vs</p>
<p begin="00:16:41.880" end="00:16:46.079" style="s2">code on a Windows machine so the first</p>
<p begin="00:16:44.560" end="00:16:48.720" style="s2">thing that we&#39;re going to do is within</p>
<p begin="00:16:46.079" end="00:16:49.839" style="s2">your web browser just search for Python</p>
<p begin="00:16:48.720" end="00:16:51.279" style="s2">and then we&#39;re going to select the first</p>
<p begin="00:16:49.839" end="00:16:53.160" style="s2">result so this is going to take us to</p>
<p begin="00:16:51.279" end="00:16:55.360" style="s2">the main python page and we want to go</p>
<p begin="00:16:53.160" end="00:16:57.000" style="s2">to the download section and so here</p>
<p begin="00:16:55.360" end="00:16:58.360" style="s2">python uh the website&#39;s going to offer</p>
<p begin="00:16:57.000" end="00:17:00.920" style="s2">you up whatever the latest version of</p>
<p begin="00:16:58.360" end="00:17:03.120" style="s2">python is in this case it happens to be</p>
<p begin="00:17:00.920" end="00:17:04.199" style="s2">39.6 keep in mind if you&#39;re watching</p>
<p begin="00:17:03.120" end="00:17:06.000" style="s2">this video in the future it&#39;s going to</p>
<p begin="00:17:04.199" end="00:17:07.360" style="s2">show some other version and that&#39;s okay</p>
<p begin="00:17:06.000" end="00:17:10.000" style="s2">go ahead and just download the latest</p>
<p begin="00:17:07.360" end="00:17:11.600" style="s2">version as long as it&#39;s a later than 3.7</p>
<p begin="00:17:10.000" end="00:17:13.880" style="s2">you should be okay so I&#39;m going to just</p>
<p begin="00:17:11.600" end="00:17:15.839" style="s2">hit download python</p>
<p begin="00:17:13.880" end="00:17:17.000" style="s2">3.96 just going to download that once</p>
<p begin="00:17:15.839" end="00:17:18.160" style="s2">it&#39;s finished downloading I&#39;m going to</p>
<p begin="00:17:17.000" end="00:17:20.600" style="s2">select that and it&#39;s going to open up</p>
<p begin="00:17:18.160" end="00:17:23.240" style="s2">the installer now with this installer</p>
<p begin="00:17:20.600" end="00:17:26.480" style="s2">open it&#39;s very important that you select</p>
<p begin="00:17:23.240" end="00:17:27.720" style="s2">add python 3.9 to path do not forget to</p>
<p begin="00:17:26.480" end="00:17:29.320" style="s2">do this or then you&#39;re going to run into</p>
<p begin="00:17:27.720" end="00:17:31.679" style="s2">some issues so make make sure that&#39;s</p>
<p begin="00:17:29.320" end="00:17:32.919" style="s2">selected and then hit install now if you</p>
<p begin="00:17:31.679" end="00:17:34.559" style="s2">go through the installation process and</p>
<p begin="00:17:32.919" end="00:17:35.880" style="s2">you realize you forgot to do this</p>
<p begin="00:17:34.559" end="00:17:37.679" style="s2">technically there&#39;s a way to fix it</p>
<p begin="00:17:35.880" end="00:17:38.840" style="s2">afterwards but um instead of me</p>
<p begin="00:17:37.679" end="00:17:40.280" style="s2">explaining to do that the best thing to</p>
<p begin="00:17:38.840" end="00:17:43.360" style="s2">do is just uninstall Python and</p>
<p begin="00:17:40.280" end="00:17:45.559" style="s2">reinstall it so we&#39;ll hit install now</p>
<p begin="00:17:43.360" end="00:17:47.600" style="s2">you&#39;ll get a popup just go ahead and hit</p>
<p begin="00:17:45.559" end="00:17:48.679" style="s2">yes all right and once you see this</p>
<p begin="00:17:47.600" end="00:17:49.960" style="s2">message where it says setup was</p>
<p begin="00:17:48.679" end="00:17:51.440" style="s2">successful that means python was</p>
<p begin="00:17:49.960" end="00:17:53.320" style="s2">installed and the next thing that we</p>
<p begin="00:17:51.440" end="00:17:55.360" style="s2">want to do is just quickly verify that</p>
<p begin="00:17:53.320" end="00:17:56.120" style="s2">Python&#39;s up and running and working so</p>
<p begin="00:17:55.360" end="00:17:58.320" style="s2">what we&#39;re going to do is we&#39;re just</p>
<p begin="00:17:56.120" end="00:17:59.799" style="s2">going to search for CMD so that&#39;s going</p>
<p begin="00:17:58.320" end="00:18:04.840" style="s2">to open up our our Command Prompt or</p>
<p begin="00:17:59.799" end="00:18:07.640" style="s2">terminal and then in here just type in</p>
<p begin="00:18:04.840" end="00:18:10.120" style="s2">python-3 D-</p>
<p begin="00:18:07.640" end="00:18:14.320" style="s2">version sorry we should actually type in</p>
<p begin="00:18:10.120" end="00:18:16.200" style="s2">Python py- 3-- version all right and so</p>
<p begin="00:18:14.320" end="00:18:17.559" style="s2">when you type this command in uh it&#39;s</p>
<p begin="00:18:16.200" end="00:18:18.799" style="s2">going to tell us the specific version</p>
<p begin="00:18:17.559" end="00:18:21.559" style="s2">that we installed so we can see that I</p>
<p begin="00:18:18.799" end="00:18:23.840" style="s2">was successfully installed python 39.6</p>
<p begin="00:18:21.559" end="00:18:25.360" style="s2">if you get any kind of error um or any</p>
<p begin="00:18:23.840" end="00:18:27.520" style="s2">message saying that this command is not</p>
<p begin="00:18:25.360" end="00:18:29.000" style="s2">available that means that python wasn&#39;t</p>
<p begin="00:18:27.520" end="00:18:31.320" style="s2">installed successfully so just go ahead</p>
<p begin="00:18:29.000" end="00:18:32.480" style="s2">and redo that process just in case now</p>
<p begin="00:18:31.320" end="00:18:34.280" style="s2">the next thing that we want to do is</p>
<p begin="00:18:32.480" end="00:18:37.080" style="s2">install VSS code so let&#39;s open up a new</p>
<p begin="00:18:34.280" end="00:18:38.960" style="s2">tab just search for VSS</p>
<p begin="00:18:37.080" end="00:18:40.760" style="s2">code and then we&#39;ll select this it&#39;s</p>
<p begin="00:18:38.960" end="00:18:42.600" style="s2">going to take us to this page and you&#39;ll</p>
<p begin="00:18:40.760" end="00:18:43.880" style="s2">see that vs code will automatically</p>
<p begin="00:18:42.600" end="00:18:47.080" style="s2">detect what version you&#39;re running so</p>
<p begin="00:18:43.880" end="00:18:47.080" style="s2">you can just select download for</p>
<p begin="00:18:47.880" end="00:18:52.120" style="s2">Windows and then once it&#39;s finished in</p>
<p begin="00:18:50.080" end="00:18:56.159" style="s2">uh downloading go ahead and open it</p>
<p begin="00:18:52.120" end="00:18:58.799" style="s2">up hit the accept agreement hit next</p>
<p begin="00:18:56.159" end="00:18:59.919" style="s2">next next and then you can leave</p>
<p begin="00:18:58.799" end="00:19:01.960" style="s2">everything as</p>
<p begin="00:18:59.919" end="00:19:04.080" style="s2">default and then go ahead and run</p>
<p begin="00:19:01.960" end="00:19:05.720" style="s2">install all right and then go ahead and</p>
<p begin="00:19:04.080" end="00:19:08.440" style="s2">finish it&#39;s going to automatically open</p>
<p begin="00:19:05.720" end="00:19:08.440" style="s2">up a vs</p>
<p begin="00:19:08.840" end="00:19:13.720" style="s2">code uh now there&#39;s a couple things I</p>
<p begin="00:19:10.880" end="00:19:16.080" style="s2">want to do so uh VSS code at its core is</p>
<p begin="00:19:13.720" end="00:19:18.400" style="s2">just a basic text editor however we can</p>
<p begin="00:19:16.080" end="00:19:20.080" style="s2">install extensions that give it extra</p>
<p begin="00:19:18.400" end="00:19:21.559" style="s2">functionality extra features that&#39;ll</p>
<p begin="00:19:20.080" end="00:19:25.000" style="s2">make it operate a little bit more like a</p>
<p begin="00:19:21.559" end="00:19:26.720" style="s2">full-blown IDE so go ahead and select</p>
<p begin="00:19:25.000" end="00:19:28.480" style="s2">this icon right here this is for</p>
<p begin="00:19:26.720" end="00:19:30.840" style="s2">extensions and then what we want to do</p>
<p begin="00:19:28.480" end="00:19:33.039" style="s2">is we want to search for</p>
<p begin="00:19:30.840" end="00:19:34.440" style="s2">Python and we usually just want to</p>
<p begin="00:19:33.039" end="00:19:35.559" style="s2">select the first one it&#39;ll have a star</p>
<p begin="00:19:34.440" end="00:19:37.159" style="s2">and it&#39;s going to be the one made by</p>
<p begin="00:19:35.559" end="00:19:39.120" style="s2">Microsoft you&#39;ll see that there&#39;s other</p>
<p begin="00:19:37.159" end="00:19:41.799" style="s2">ones made by other users but we want the</p>
<p begin="00:19:39.120" end="00:19:42.960" style="s2">main Microsoft one hit install and so</p>
<p begin="00:19:41.799" end="00:19:45.120" style="s2">this extension is going to give us</p>
<p begin="00:19:42.960" end="00:19:46.480" style="s2">intellisense linting debugging and a few</p>
<p begin="00:19:45.120" end="00:19:48.000" style="s2">other features that are going to make it</p>
<p begin="00:19:46.480" end="00:19:51.120" style="s2">a little bit easier to start working</p>
<p begin="00:19:48.000" end="00:19:52.679" style="s2">with python within vs code all right uh</p>
<p begin="00:19:51.120" end="00:19:55.120" style="s2">and so now that it&#39;s done installing we</p>
<p begin="00:19:52.679" end="00:19:57.320" style="s2">can just close this close this and then</p>
<p begin="00:19:55.120" end="00:19:59.480" style="s2">select this one to get back to your main</p>
<p begin="00:19:57.320" end="00:20:02.080" style="s2">file browser and and uh right now we</p>
<p begin="00:19:59.480" end="00:20:03.600" style="s2">haven&#39;t opened up any folder so what we</p>
<p begin="00:20:02.080" end="00:20:05.799" style="s2">want to do is we want to create a folder</p>
<p begin="00:20:03.600" end="00:20:08.320" style="s2">to store all of our application code so</p>
<p begin="00:20:05.799" end="00:20:10.440" style="s2">select open folder and then figure out</p>
<p begin="00:20:08.320" end="00:20:11.480" style="s2">where you want to store your application</p>
<p begin="00:20:10.440" end="00:20:12.840" style="s2">code so I&#39;m just going to store this in</p>
<p begin="00:20:11.480" end="00:20:14.559" style="s2">my documents you can store this wherever</p>
<p begin="00:20:12.840" end="00:20:16.000" style="s2">you want I&#39;m going to create a new file</p>
<p begin="00:20:14.559" end="00:20:17.960" style="s2">or a new folder I&#39;m just going to call</p>
<p begin="00:20:16.000" end="00:20:19.760" style="s2">it fast API but you can name your</p>
<p begin="00:20:17.960" end="00:20:21.320" style="s2">project whatever you want so just H</p>
<p begin="00:20:19.760" end="00:20:23.880" style="s2">select</p>
<p begin="00:20:21.320" end="00:20:25.559" style="s2">folder and so that&#39;s going to not only</p>
<p begin="00:20:23.880" end="00:20:27.120" style="s2">create not only create the folder but</p>
<p begin="00:20:25.559" end="00:20:28.679" style="s2">it&#39;s going to open it up within vs code</p>
<p begin="00:20:27.120" end="00:20:31.720" style="s2">if you get this eror just select Trust</p>
<p begin="00:20:28.679" end="00:20:33.200" style="s2">the author and just select yes and then</p>
<p begin="00:20:31.720" end="00:20:36.240" style="s2">we can close out this welcome menu and</p>
<p begin="00:20:33.200" end="00:20:38.960" style="s2">so now what we have is we&#39;ve opened up</p>
<p begin="00:20:36.240" end="00:20:40.840" style="s2">whoops uh we&#39;ve opened up VSS code and</p>
<p begin="00:20:38.960" end="00:20:42.200" style="s2">within VSS code we&#39;ve opened up our uh</p>
<p begin="00:20:40.840" end="00:20:44.400" style="s2">project code so right now there&#39;s no</p>
<p begin="00:20:42.200" end="00:20:45.600" style="s2">code that&#39;s to be expected but I what I</p>
<p begin="00:20:44.400" end="00:20:47.640" style="s2">want to do is I want to create a new</p>
<p begin="00:20:45.600" end="00:20:49.240" style="s2">file real quick just uh for testing</p>
<p begin="00:20:47.640" end="00:20:50.919" style="s2">purposes so I&#39;m just going to right</p>
<p begin="00:20:49.240" end="00:20:52.760" style="s2">click hit new file and I&#39;m going to name</p>
<p begin="00:20:50.919" end="00:20:55.880" style="s2">it Ma</p>
<p begin="00:20:52.760" end="00:20:56.880" style="s2">main.py uh and so we want to name it py</p>
<p begin="00:20:55.880" end="00:20:58.600" style="s2">because this is going to be a python</p>
<p begin="00:20:56.880" end="00:21:00.159" style="s2">file and before I hit enter I want I</p>
<p begin="00:20:58.600" end="00:21:01.440" style="s2">want you to focus your eyes right down</p>
<p begin="00:21:00.159" end="00:21:03.720" style="s2">here and you&#39;ll notice something happens</p>
<p begin="00:21:01.440" end="00:21:05.159" style="s2">down there so when I hit enter you&#39;ll</p>
<p begin="00:21:03.720" end="00:21:07.080" style="s2">see activating extension so it&#39;s</p>
<p begin="00:21:05.159" end="00:21:08.400" style="s2">activating the python extension and what</p>
<p begin="00:21:07.080" end="00:21:10.520" style="s2">the python extension is going to do is</p>
<p begin="00:21:08.400" end="00:21:12.360" style="s2">it&#39;s automatically going to uh select</p>
<p begin="00:21:10.520" end="00:21:13.600" style="s2">the correct python interpreter or it may</p>
<p begin="00:21:12.360" end="00:21:15.400" style="s2">not be corrected depending on what</p>
<p begin="00:21:13.600" end="00:21:17.640" style="s2">happens on your machine for me it</p>
<p begin="00:21:15.400" end="00:21:18.720" style="s2">automatically detected python 39.6 was</p>
<p begin="00:21:17.640" end="00:21:20.919" style="s2">installed on this machine so let&#39;s</p>
<p begin="00:21:18.720" end="00:21:22.640" style="s2">selected that one for me keep in mind if</p>
<p begin="00:21:20.919" end="00:21:24.960" style="s2">you have multiple versions of python</p>
<p begin="00:21:22.640" end="00:21:26.679" style="s2">installed it may select the wrong</p>
<p begin="00:21:24.960" end="00:21:28.120" style="s2">interpreter so what you can do is if you</p>
<p begin="00:21:26.679" end="00:21:30.240" style="s2">ever want to change The Interpreter or</p>
<p begin="00:21:28.120" end="00:21:32.919" style="s2">specify a specific interpreter go to</p>
<p begin="00:21:30.240" end="00:21:34.520" style="s2">view command pallet and what I want you</p>
<p begin="00:21:32.919" end="00:21:37.440" style="s2">to do is search for</p>
<p begin="00:21:34.520" end="00:21:40.120" style="s2">python interpreter and then look for</p>
<p begin="00:21:37.440" end="00:21:42.159" style="s2">python select interpreter so right now</p>
<p begin="00:21:40.120" end="00:21:43.600" style="s2">it&#39;s going to highlight where um the</p>
<p begin="00:21:42.159" end="00:21:45.799" style="s2">current python interpreters which one</p>
<p begin="00:21:43.600" end="00:21:47.640" style="s2">selected and what&#39;s the executable for</p>
<p begin="00:21:45.799" end="00:21:49.240" style="s2">it but if you want to change that you</p>
<p begin="00:21:47.640" end="00:21:50.840" style="s2">can select enter interpreter path and</p>
<p begin="00:21:49.240" end="00:21:52.000" style="s2">then provide the path to the specific</p>
<p begin="00:21:50.840" end="00:21:53.720" style="s2">version that you want so you can</p>
<p begin="00:21:52.000" end="00:21:55.279" style="s2">obviously change it but usually it&#39;s</p>
<p begin="00:21:53.720" end="00:21:57.360" style="s2">able to detect the latest version so you</p>
<p begin="00:21:55.279" end="00:21:58.760" style="s2">should be good to go uh and so that&#39;s</p>
<p begin="00:21:57.360" end="00:22:00.279" style="s2">all I wanted to do from a setup</p>
<p begin="00:21:58.760" end="00:22:02.840" style="s2">perspective there&#39;s one more thing that</p>
<p begin="00:22:00.279" end="00:22:04.679" style="s2">we&#39;ll cover uh later um but we&#39;ll get to</p>
<p begin="00:22:02.840" end="00:22:06.120" style="s2">that in the next section um but right</p>
<p begin="00:22:04.679" end="00:22:07.840" style="s2">now we&#39;ve got python installed and we&#39;ve</p>
<p begin="00:22:06.120" end="00:22:09.320" style="s2">got vs code set up and we&#39;ve got our</p>
<p begin="00:22:07.840" end="00:22:10.799" style="s2">project directory set up so we should be</p>
<p begin="00:22:09.320" end="00:22:13.360" style="s2">good to</p>
<p begin="00:22:10.799" end="00:22:14.679" style="s2">go so now that we have Python and vs</p>
<p begin="00:22:13.360" end="00:22:17.000" style="s2">code set up the next thing that we have</p>
<p begin="00:22:14.679" end="00:22:18.200" style="s2">to do is set up our virtual environment</p>
<p begin="00:22:17.000" end="00:22:20.159" style="s2">before we do that we have to actually</p>
<p begin="00:22:18.200" end="00:22:22.799" style="s2">talk about what are virtual environments</p>
<p begin="00:22:20.159" end="00:22:24.320" style="s2">and what problem do they try to address</p>
<p begin="00:22:22.799" end="00:22:26.120" style="s2">so let me give you a little bit of an</p>
<p begin="00:22:24.320" end="00:22:28.159" style="s2">example scenario of the issue that we</p>
<p begin="00:22:26.120" end="00:22:30.200" style="s2">can run into when working with specific</p>
<p begin="00:22:28.159" end="00:22:32.200" style="s2">package within python on your local</p>
<p begin="00:22:30.200" end="00:22:33.440" style="s2">machine so let&#39;s say that we created a</p>
<p begin="00:22:32.200" end="00:22:35.600" style="s2">project and this project is called</p>
<p begin="00:22:33.440" end="00:22:38.919" style="s2">project one and what we need to do is we</p>
<p begin="00:22:35.600" end="00:22:40.960" style="s2">need to install fast API version 1.2.1</p>
<p begin="00:22:38.919" end="00:22:43.360" style="s2">so what do we do we install version</p>
<p begin="00:22:40.960" end="00:22:45.480" style="s2">1.2.1 on our machine so that we can</p>
<p begin="00:22:43.360" end="00:22:47.520" style="s2">actually use that version now let&#39;s say</p>
<p begin="00:22:45.480" end="00:22:50.000" style="s2">later down the road we start a new</p>
<p begin="00:22:47.520" end="00:22:53.080" style="s2">project called project 2 and let&#39;s say</p>
<p begin="00:22:50.000" end="00:22:55.360" style="s2">this version uh requires us to run fast</p>
<p begin="00:22:53.080" end="00:22:57.640" style="s2">API version 2.4.3 because we want to try</p>
<p begin="00:22:55.360" end="00:22:59.159" style="s2">out some of the newer features well at</p>
<p begin="00:22:57.640" end="00:23:02.000" style="s2">this point if we need to try out a newer</p>
<p begin="00:22:59.159" end="00:23:05.159" style="s2">version we have to upgrade fast API to</p>
<p begin="00:23:02.000" end="00:23:06.840" style="s2">version 2.4.3 on our local machine and</p>
<p begin="00:23:05.159" end="00:23:09.760" style="s2">this may or may not be a problem it</p>
<p begin="00:23:06.840" end="00:23:12.520" style="s2">really just depends on if version 2.4.3</p>
<p begin="00:23:09.760" end="00:23:15.559" style="s2">is backwards compatible with version</p>
<p begin="00:23:12.520" end="00:23:17.400" style="s2">1.2.1 uh because if version 2.4.3 has</p>
<p begin="00:23:15.559" end="00:23:18.880" style="s2">breaking changes then ultimately that&#39;s</p>
<p begin="00:23:17.400" end="00:23:20.440" style="s2">going to create issues with our project</p>
<p begin="00:23:18.880" end="00:23:22.919" style="s2">one because that project expects us to</p>
<p begin="00:23:20.440" end="00:23:24.600" style="s2">run version 1.2.1 and so if we can&#39;t</p>
<p begin="00:23:22.919" end="00:23:26.600" style="s2">upgrade well we&#39;re in a little bit of a</p>
<p begin="00:23:24.600" end="00:23:28.000" style="s2">pickle because one project needs one</p>
<p begin="00:23:26.600" end="00:23:29.720" style="s2">version the other project needs another</p>
<p begin="00:23:28.000" end="00:23:31.760" style="s2">version we can&#39;t have two different</p>
<p begin="00:23:29.720" end="00:23:34.320" style="s2">versions installed on our machine so</p>
<p begin="00:23:31.760" end="00:23:36.960" style="s2">what exactly do we do well this is where</p>
<p begin="00:23:34.320" end="00:23:38.640" style="s2">virtual environments come into play so</p>
<p begin="00:23:36.960" end="00:23:40.640" style="s2">with virtual environments let&#39;s say we</p>
<p begin="00:23:38.640" end="00:23:42.200" style="s2">want to create a project so we create</p>
<p begin="00:23:40.640" end="00:23:43.559" style="s2">project one and what we do is we create</p>
<p begin="00:23:42.200" end="00:23:46.039" style="s2">a virtual environment call it whatever</p>
<p begin="00:23:43.559" end="00:23:47.960" style="s2">you want and so this is a isolated</p>
<p begin="00:23:46.039" end="00:23:49.559" style="s2">environment that will not affect any</p>
<p begin="00:23:47.960" end="00:23:51.200" style="s2">other environments and within this</p>
<p begin="00:23:49.559" end="00:23:53.080" style="s2">environment we can install any python</p>
<p begin="00:23:51.200" end="00:23:55.360" style="s2">packages running whatever version we</p>
<p begin="00:23:53.080" end="00:23:57.559" style="s2">want and it&#39;s completely isolated to</p>
<p begin="00:23:55.360" end="00:23:59.440" style="s2">this project and so when we create a</p>
<p begin="00:23:57.559" end="00:24:01.000" style="s2">second project what we can do is we can</p>
<p begin="00:23:59.440" end="00:24:02.120" style="s2">create its very own virtual environment</p>
<p begin="00:24:01.000" end="00:24:04.200" style="s2">as well we&#39;ll call it virtual</p>
<p begin="00:24:02.120" end="00:24:06.400" style="s2">environment 2 and within this virtual</p>
<p begin="00:24:04.200" end="00:24:08.440" style="s2">environment we can install any version</p>
<p begin="00:24:06.400" end="00:24:11.640" style="s2">of any package that we want so then we</p>
<p begin="00:24:08.440" end="00:24:12.799" style="s2">can install version 2.4.3 and so both of</p>
<p begin="00:24:11.640" end="00:24:15.039" style="s2">these virtual environments are</p>
<p begin="00:24:12.799" end="00:24:16.520" style="s2">completely separated completely isolated</p>
<p begin="00:24:15.039" end="00:24:18.440" style="s2">with one another and so we can</p>
<p begin="00:24:16.520" end="00:24:20.919" style="s2">essentially install multiple different</p>
<p begin="00:24:18.440" end="00:24:22.919" style="s2">versions of a single package for each of</p>
<p begin="00:24:20.919" end="00:24:24.919" style="s2">our projects and that way our projects</p>
<p begin="00:24:22.919" end="00:24:27.200" style="s2">don&#39;t end up stepping on the toes of</p>
<p begin="00:24:24.919" end="00:24:28.399" style="s2">other projects and so now that we have a</p>
<p begin="00:24:27.200" end="00:24:30.200" style="s2">basic understanding of virtual</p>
<p begin="00:24:28.399" end="00:24:31.640" style="s2">environments let&#39;s go ahead and figure</p>
<p begin="00:24:30.200" end="00:24:33.240" style="s2">out how we can actually create our first</p>
<p begin="00:24:31.640" end="00:24:35.360" style="s2">virtual environment and use it within</p>
<p begin="00:24:33.240" end="00:24:37.240" style="s2">our</p>
<p begin="00:24:35.360" end="00:24:38.760" style="s2">project in this video I&#39;m going to walk</p>
<p begin="00:24:37.240" end="00:24:40.919" style="s2">you through setting up a virtual</p>
<p begin="00:24:38.760" end="00:24:42.279" style="s2">environment on a Windows machine now if</p>
<p begin="00:24:40.919" end="00:24:44.600" style="s2">you already closed out your VSS code</p>
<p begin="00:24:42.279" end="00:24:46.240" style="s2">window go ahead and open up a new one</p>
<p begin="00:24:44.600" end="00:24:48.360" style="s2">and make sure you open up the specific</p>
<p begin="00:24:46.240" end="00:24:50.480" style="s2">directory we created a couple lessons</p>
<p begin="00:24:48.360" end="00:24:52.200" style="s2">ago now what we want to do is we want to</p>
<p begin="00:24:50.480" end="00:24:54.559" style="s2">select a terminal and we want to select</p>
<p begin="00:24:52.200" end="00:24:56.159" style="s2">new terminal and this is a awesome</p>
<p begin="00:24:54.559" end="00:24:58.679" style="s2">feature with vs code it allows us to</p>
<p begin="00:24:56.159" end="00:25:01.039" style="s2">have a integrated terminal within our or</p>
<p begin="00:24:58.679" end="00:25:02.600" style="s2">VSS code window and this terminal is</p>
<p begin="00:25:01.039" end="00:25:04.440" style="s2">fundamentally no different than a</p>
<p begin="00:25:02.600" end="00:25:06.080" style="s2">regular terminal within windows it&#39;s</p>
<p begin="00:25:04.440" end="00:25:07.679" style="s2">just built into vs code so that we don&#39;t</p>
<p begin="00:25:06.080" end="00:25:09.720" style="s2">have to keep flipping between different</p>
<p begin="00:25:07.679" end="00:25:11.440" style="s2">windows and if you actually take a look</p>
<p begin="00:25:09.720" end="00:25:13.200" style="s2">at this right column we can have</p>
<p begin="00:25:11.440" end="00:25:15.120" style="s2">multiple terminals open and we can even</p>
<p begin="00:25:13.200" end="00:25:16.480" style="s2">use different terminals so the default</p>
<p begin="00:25:15.120" end="00:25:18.480" style="s2">one on this machine happens to be</p>
<p begin="00:25:16.480" end="00:25:19.679" style="s2">Powershell but you can also use command</p>
<p begin="00:25:18.480" end="00:25:20.799" style="s2">prompt if that&#39;s what you prefer so if</p>
<p begin="00:25:19.679" end="00:25:22.640" style="s2">you select command prompt it&#39;s going to</p>
<p begin="00:25:20.799" end="00:25:24.039" style="s2">create a new terminal and you can see</p>
<p begin="00:25:22.640" end="00:25:25.200" style="s2">that this is a traditional command</p>
<p begin="00:25:24.039" end="00:25:26.919" style="s2">prompt so I&#39;m going to use this one</p>
<p begin="00:25:25.200" end="00:25:28.039" style="s2">because that&#39;s the one I normally use</p>
<p begin="00:25:26.919" end="00:25:30.919" style="s2">however if you&#39;re more comfortable with</p>
<p begin="00:25:28.039" end="00:25:33.279" style="s2">power feel free to use that now the</p>
<p begin="00:25:30.919" end="00:25:35.399" style="s2">command to actually create a virtual</p>
<p begin="00:25:33.279" end="00:25:37.480" style="s2">environment within Windows is</p>
<p begin="00:25:35.399" end="00:25:41.080" style="s2">py</p>
<p begin="00:25:37.480" end="00:25:42.559" style="s2">-3- M VNV so that stands for virtual</p>
<p begin="00:25:41.080" end="00:25:44.320" style="s2">environment and then you want to give it</p>
<p begin="00:25:42.559" end="00:25:45.880" style="s2">a name so give whatever name you want</p>
<p begin="00:25:44.320" end="00:25:48.600" style="s2">for your virtual environment you can</p>
<p begin="00:25:45.880" end="00:25:50.440" style="s2">name it after your project name or you</p>
<p begin="00:25:48.600" end="00:25:51.799" style="s2">could just do what I do which is just</p>
<p begin="00:25:50.440" end="00:25:54.399" style="s2">call it</p>
<p begin="00:25:51.799" end="00:25:56.000" style="s2">VMV and what I like to do is for all of</p>
<p begin="00:25:54.399" end="00:25:57.960" style="s2">my projects I give it the same exact</p>
<p begin="00:25:56.000" end="00:25:59.799" style="s2">name and that&#39;s perfectly okay because</p>
<p begin="00:25:57.960" end="00:26:02.720" style="s2">this virtual environment is going to be</p>
<p begin="00:25:59.799" end="00:26:04.720" style="s2">isolated to this project directory and</p>
<p begin="00:26:02.720" end="00:26:06.399" style="s2">so even though this project has a</p>
<p begin="00:26:04.720" end="00:26:08.080" style="s2">virtual environment named VNV I can</p>
<p begin="00:26:06.399" end="00:26:09.840" style="s2">create another virtual environment in</p>
<p begin="00:26:08.080" end="00:26:10.720" style="s2">any other project with the same exact</p>
<p begin="00:26:09.840" end="00:26:13.240" style="s2">name and they&#39;re all going to be</p>
<p begin="00:26:10.720" end="00:26:14.760" style="s2">isolated to that specific project folder</p>
<p begin="00:26:13.240" end="00:26:16.799" style="s2">so go ahead and hit</p>
<p begin="00:26:14.760" end="00:26:19.240" style="s2">enter and take a look over here you&#39;ll</p>
<p begin="00:26:16.799" end="00:26:21.760" style="s2">see that a folder was created called V</p>
<p begin="00:26:19.240" end="00:26:23.120" style="s2">uh virtual environment or VNV and that&#39;s</p>
<p begin="00:26:21.760" end="00:26:24.760" style="s2">going to be the name of this folder is</p>
<p begin="00:26:23.120" end="00:26:27.200" style="s2">always going to refer to whatever name</p>
<p begin="00:26:24.760" end="00:26:28.720" style="s2">you gave it so if I named this cookies</p>
<p begin="00:26:27.200" end="00:26:30.679" style="s2">this would open up a new folder called</p>
<p begin="00:26:28.720" end="00:26:31.799" style="s2">cookies and if you want you can take a</p>
<p begin="00:26:30.679" end="00:26:34.039" style="s2">look at what&#39;s in here and if you go</p>
<p begin="00:26:31.799" end="00:26:35.960" style="s2">under script specifically you&#39;ll notice</p>
<p begin="00:26:34.039" end="00:26:38.039" style="s2">that we&#39;ve got our python executable so</p>
<p begin="00:26:35.960" end="00:26:40.080" style="s2">this is going to act as our new</p>
<p begin="00:26:38.039" end="00:26:42.440" style="s2">interpreter uh and so what we want to do</p>
<p begin="00:26:40.080" end="00:26:44.840" style="s2">is right now we are using our Global</p>
<p begin="00:26:42.440" end="00:26:46.480" style="s2">interpreter and we want to change that</p>
<p begin="00:26:44.840" end="00:26:48.360" style="s2">we don&#39;t want to use the global one we</p>
<p begin="00:26:46.480" end="00:26:50.559" style="s2">want to use the specific one in our</p>
<p begin="00:26:48.360" end="00:26:52.480" style="s2">virtual environment uh and that way we</p>
<p begin="00:26:50.559" end="00:26:54.039" style="s2">can install packages that are exclusive</p>
<p begin="00:26:52.480" end="00:26:56.200" style="s2">to just this specific virtual</p>
<p begin="00:26:54.039" end="00:26:58.799" style="s2">environment and so to do that go ahead</p>
<p begin="00:26:56.200" end="00:27:00.919" style="s2">and select view once again</p>
<p begin="00:26:58.799" end="00:27:03.039" style="s2">and we want to go to command pallet and</p>
<p begin="00:27:00.919" end="00:27:06.360" style="s2">then search for python select</p>
<p begin="00:27:03.039" end="00:27:07.720" style="s2">interpreter as usual and then you&#39;ll see</p>
<p begin="00:27:06.360" end="00:27:10.520" style="s2">the one we&#39;re currently using but we</p>
<p begin="00:27:07.720" end="00:27:12.480" style="s2">want to pass in our newest one so select</p>
<p begin="00:27:10.520" end="00:27:13.960" style="s2">enter interpreter path and then we want</p>
<p begin="00:27:12.480" end="00:27:15.919" style="s2">to give it the path to our interpreter</p>
<p begin="00:27:13.960" end="00:27:18.360" style="s2">which is the path from the root of our</p>
<p begin="00:27:15.919" end="00:27:20.960" style="s2">project directory to this python.exe</p>
<p begin="00:27:18.360" end="00:27:22.440" style="s2">file we&#39;re going to say dot which is our</p>
<p begin="00:27:20.960" end="00:27:24.640" style="s2">current folder so this is going to be</p>
<p begin="00:27:22.440" end="00:27:29.000" style="s2">the fast API folder and then within here</p>
<p begin="00:27:24.640" end="00:27:30.720" style="s2">we want to go into uh Scripts</p>
<p begin="00:27:29.000" end="00:27:33.840" style="s2">and then within scripts well sorry we</p>
<p begin="00:27:30.720" end="00:27:35.000" style="s2">want to go into the virtual EnV folder</p>
<p begin="00:27:33.840" end="00:27:38.960" style="s2">then</p>
<p begin="00:27:35.000" end="00:27:41.080" style="s2">scripts and then python.exe go ahead and</p>
<p begin="00:27:38.960" end="00:27:42.799" style="s2">hit enter and then if you look down here</p>
<p begin="00:27:41.080" end="00:27:45.559" style="s2">you&#39;ll see that this gets updated so now</p>
<p begin="00:27:42.799" end="00:27:48.480" style="s2">we&#39;re still using 39.6 but we&#39;re using</p>
<p begin="00:27:45.559" end="00:27:50.360" style="s2">our virtual environment uh and so that&#39;s</p>
<p begin="00:27:48.480" end="00:27:52.720" style="s2">all we need to do and it should remember</p>
<p begin="00:27:50.360" end="00:27:54.559" style="s2">this every time we open up our project</p>
<p begin="00:27:52.720" end="00:27:55.919" style="s2">however double check every time you open</p>
<p begin="00:27:54.559" end="00:27:57.399" style="s2">up just to make sure you&#39;re using that</p>
<p begin="00:27:55.919" end="00:28:00.279" style="s2">if it&#39;s for some reason moved back to</p>
<p begin="00:27:57.399" end="00:28:02.399" style="s2">the default one just do the same</p>
<p begin="00:28:00.279" end="00:28:03.600" style="s2">process now the second thing that we</p>
<p begin="00:28:02.399" end="00:28:05.159" style="s2">need to do is we need to make sure our</p>
<p begin="00:28:03.600" end="00:28:07.760" style="s2">terminal is also using the virtual</p>
<p begin="00:28:05.159" end="00:28:09.880" style="s2">environment uh and so what we want to do</p>
<p begin="00:28:07.760" end="00:28:13.640" style="s2">to do that is just type</p>
<p begin="00:28:09.880" end="00:28:15.679" style="s2">in uh the path to this specific activate</p>
<p begin="00:28:13.640" end="00:28:17.000" style="s2">dobat file this is going to activate</p>
<p begin="00:28:15.679" end="00:28:20.320" style="s2">that virtual environment within our</p>
<p begin="00:28:17.000" end="00:28:23.399" style="s2">command line as well so I&#39;m going to</p>
<p begin="00:28:20.320" end="00:28:26.159" style="s2">say uh virtual</p>
<p begin="00:28:23.399" end="00:28:31.559" style="s2">NV and then we want to pass in our</p>
<p begin="00:28:26.159" end="00:28:34.840" style="s2">scripts folder and then then activate</p>
<p begin="00:28:31.559" end="00:28:36.519" style="s2">dobat hit enter and then notice what&#39;s</p>
<p begin="00:28:34.840" end="00:28:38.120" style="s2">changed right so when you&#39;re using a</p>
<p begin="00:28:36.519" end="00:28:39.360" style="s2">virtual environment right you&#39;re going</p>
<p begin="00:28:38.120" end="00:28:41.360" style="s2">to see the name of the virtual</p>
<p begin="00:28:39.360" end="00:28:43.120" style="s2">environment to the side of it so always</p>
<p begin="00:28:41.360" end="00:28:44.880" style="s2">double check whenever you start up VSS</p>
<p begin="00:28:43.120" end="00:28:46.399" style="s2">code and you start up your project that</p>
<p begin="00:28:44.880" end="00:28:48.519" style="s2">this is enabled if you don&#39;t see this</p>
<p begin="00:28:46.399" end="00:28:49.840" style="s2">then just run the same exact command and</p>
<p begin="00:28:48.519" end="00:28:52.159" style="s2">that&#39;s going to reactivate the virtual</p>
<p begin="00:28:49.840" end="00:28:53.720" style="s2">environment and so at this point we are</p>
<p begin="00:28:52.159" end="00:28:56.399" style="s2">good to go with our virtual environment</p>
<p begin="00:28:53.720" end="00:28:58.480" style="s2">and we can start coding out our</p>
<p begin="00:28:56.399" end="00:28:59.600" style="s2">project in this video I&#39;m going to walk</p>
<p begin="00:28:58.480" end="00:29:01.760" style="s2">you through setting up a virtual</p>
<p begin="00:28:59.600" end="00:29:03.399" style="s2">environment on a Mac machine now if</p>
<p begin="00:29:01.760" end="00:29:05.519" style="s2">you&#39;ve already closed out your vs code</p>
<p begin="00:29:03.399" end="00:29:07.000" style="s2">window go ahead and open it back up and</p>
<p begin="00:29:05.519" end="00:29:08.399" style="s2">open up the folder that we created a</p>
<p begin="00:29:07.000" end="00:29:10.640" style="s2">couple lessons</p>
<p begin="00:29:08.399" end="00:29:12.640" style="s2">ago now within here what we want to do</p>
<p begin="00:29:10.640" end="00:29:14.399" style="s2">is we want to access our terminal so we</p>
<p begin="00:29:12.640" end="00:29:15.640" style="s2">can access our terminal just by</p>
<p begin="00:29:14.399" end="00:29:17.600" style="s2">selecting this and then this is our</p>
<p begin="00:29:15.640" end="00:29:19.159" style="s2">terminal however vs code has a feature</p>
<p begin="00:29:17.600" end="00:29:21.320" style="s2">where we can access the terminal</p>
<p begin="00:29:19.159" end="00:29:23.600" style="s2">directly within our vs code window so if</p>
<p begin="00:29:21.320" end="00:29:25.000" style="s2">we select terminal and the new terminal</p>
<p begin="00:29:23.600" end="00:29:28.080" style="s2">that&#39;s going to create a new terminal</p>
<p begin="00:29:25.000" end="00:29:29.720" style="s2">for us all right and so this is fun</p>
<p begin="00:29:28.080" end="00:29:32.279" style="s2">fundamentally the same</p>
<p begin="00:29:29.720" end="00:29:34.159" style="s2">thing uh as this terminal right here</p>
<p begin="00:29:32.279" end="00:29:35.760" style="s2">it&#39;s no different but at least by having</p>
<p begin="00:29:34.159" end="00:29:37.640" style="s2">it built into vsod we don&#39;t have to keep</p>
<p begin="00:29:35.760" end="00:29:39.000" style="s2">flipping back and forth between the two</p>
<p begin="00:29:37.640" end="00:29:40.720" style="s2">so you can use either one whichever your</p>
<p begin="00:29:39.000" end="00:29:42.440" style="s2">preference is keep in mind that when you</p>
<p begin="00:29:40.720" end="00:29:45.640" style="s2">open up the terminal within vs code it</p>
<p begin="00:29:42.440" end="00:29:47.200" style="s2">automatically moves you to the um the</p>
<p begin="00:29:45.640" end="00:29:49.600" style="s2">directory folder of your project so you</p>
<p begin="00:29:47.200" end="00:29:51.200" style="s2">don&#39;t have to move there yourself uh you</p>
<p begin="00:29:49.600" end="00:29:52.880" style="s2">can use whichever one you want now I&#39;m</p>
<p begin="00:29:51.200" end="00:29:55.159" style="s2">actually using I&#39;m running Mac on a</p>
<p begin="00:29:52.880" end="00:29:56.679" style="s2">virtual machine right now just because I</p>
<p begin="00:29:55.159" end="00:29:58.279" style="s2">I natively use a Windows machine so I</p>
<p begin="00:29:56.679" end="00:29:59.960" style="s2">don&#39;t actually own a Mac so this is is a</p>
<p begin="00:29:58.279" end="00:30:02.200" style="s2">little bit buggy you know if you see me</p>
<p begin="00:29:59.960" end="00:30:03.600" style="s2">type things you can see it vanish so for</p>
<p begin="00:30:02.200" end="00:30:05.440" style="s2">demonstration purposes I&#39;m just going to</p>
<p begin="00:30:03.600" end="00:30:06.919" style="s2">use the regular terminal but I strongly</p>
<p begin="00:30:05.440" end="00:30:08.200" style="s2">recommend you use the one built into vs</p>
<p begin="00:30:06.919" end="00:30:09.799" style="s2">code so you don&#39;t have to keep flipping</p>
<p begin="00:30:08.200" end="00:30:13.039" style="s2">back and</p>
<p begin="00:30:09.799" end="00:30:14.760" style="s2">forth now to actually create a uh</p>
<p begin="00:30:13.039" end="00:30:19.480" style="s2">virtual environment there&#39;s one command</p>
<p begin="00:30:14.760" end="00:30:19.480" style="s2">that we have to run so you run python</p>
<p begin="00:30:20.440" end="00:30:25.120" style="s2">3-m V NV for virtual environment and</p>
<p begin="00:30:23.679" end="00:30:26.240" style="s2">then you have to give it a name so what</p>
<p begin="00:30:25.120" end="00:30:28.000" style="s2">name do you want to give your virtual</p>
<p begin="00:30:26.240" end="00:30:29.720" style="s2">environment you can technically give it</p>
<p begin="00:30:28.000" end="00:30:31.880" style="s2">any name you want you can name it after</p>
<p begin="00:30:29.720" end="00:30:33.760" style="s2">uh your project uh you can give it some</p>
<p begin="00:30:31.880" end="00:30:35.000" style="s2">arbitrary name what I like to do is I</p>
<p begin="00:30:33.760" end="00:30:36.840" style="s2">like to name all of my virtual</p>
<p begin="00:30:35.000" end="00:30:39.120" style="s2">environments</p>
<p begin="00:30:36.840" end="00:30:41.360" style="s2">venv and so for every project that I</p>
<p begin="00:30:39.120" end="00:30:44.120" style="s2">create I just create uh the same exact</p>
<p begin="00:30:41.360" end="00:30:45.200" style="s2">virtual environment name um venv and</p>
<p begin="00:30:44.120" end="00:30:46.480" style="s2">that&#39;s not going to create an issue it&#39;s</p>
<p begin="00:30:45.200" end="00:30:48.240" style="s2">perfectly okay to name all of your</p>
<p begin="00:30:46.480" end="00:30:49.679" style="s2">virtual environments the same thing</p>
<p begin="00:30:48.240" end="00:30:51.679" style="s2">because it&#39;s all going to be exclusive</p>
<p begin="00:30:49.679" end="00:30:53.360" style="s2">to this specific project folder so no</p>
<p begin="00:30:51.679" end="00:30:55.200" style="s2">other projects can access it so it&#39;s</p>
<p begin="00:30:53.360" end="00:30:57.240" style="s2">okay if they all use the same name it&#39;s</p>
<p begin="00:30:55.200" end="00:30:59.880" style="s2">just easier and so that way uh you know</p>
<p begin="00:30:57.240" end="00:31:02.440" style="s2">if I ever create a get ignore file I can</p>
<p begin="00:30:59.880" end="00:31:03.880" style="s2">automatically add V EnV and I can make</p>
<p begin="00:31:02.440" end="00:31:05.760" style="s2">sure to just use the same exact GE</p>
<p begin="00:31:03.880" end="00:31:08.440" style="s2">ignore template across all of my python</p>
<p begin="00:31:05.760" end="00:31:10.039" style="s2">projects so I&#39;m going to use VV and I</p>
<p begin="00:31:08.440" end="00:31:11.120" style="s2">want to make sure that you pay attention</p>
<p begin="00:31:10.039" end="00:31:13.840" style="s2">right here because after I run this</p>
<p begin="00:31:11.120" end="00:31:16.720" style="s2">command take a look at what happens it</p>
<p begin="00:31:13.840" end="00:31:18.320" style="s2">creates a folder called venv and that&#39;s</p>
<p begin="00:31:16.720" end="00:31:20.159" style="s2">based off of the name of the virtual</p>
<p begin="00:31:18.320" end="00:31:21.760" style="s2">environment and if we take a look at our</p>
<p begin="00:31:20.159" end="00:31:24.240" style="s2">virtual environment you can see a couple</p>
<p begin="00:31:21.760" end="00:31:26.120" style="s2">of different files uh you can see the um</p>
<p begin="00:31:24.240" end="00:31:28.159" style="s2">the python file as well so if you go</p>
<p begin="00:31:26.120" end="00:31:29.720" style="s2">under bin this is going to be the new</p>
<p begin="00:31:28.159" end="00:31:31.799" style="s2">python file or the Python 3 file that</p>
<p begin="00:31:29.720" end="00:31:34.360" style="s2">we&#39;re going to use for our interpreter</p>
<p begin="00:31:31.799" end="00:31:36.159" style="s2">so down here at the bottom you&#39;ll see</p>
<p begin="00:31:34.360" end="00:31:38.080" style="s2">that we are still using the global</p>
<p begin="00:31:36.159" end="00:31:39.639" style="s2">interpreter we no longer want to use the</p>
<p begin="00:31:38.080" end="00:31:41.799" style="s2">global one we want to use the one in our</p>
<p begin="00:31:39.639" end="00:31:43.480" style="s2">virtual environment that way we don&#39;t</p>
<p begin="00:31:41.799" end="00:31:44.639" style="s2">you know cause any issues with other</p>
<p begin="00:31:43.480" end="00:31:46.440" style="s2">projects we want to use the virtual</p>
<p begin="00:31:44.639" end="00:31:48.279" style="s2">environment so to do that what we want</p>
<p begin="00:31:46.440" end="00:31:51.679" style="s2">to do is we want to select a</p>
<p begin="00:31:48.279" end="00:31:51.679" style="s2">view command</p>
<p begin="00:31:52.000" end="00:31:56.279" style="s2">pallet and then we want to do the python</p>
<p begin="00:31:54.399" end="00:31:59.279" style="s2">select interpreter again so we&#39;ll select</p>
<p begin="00:31:56.279" end="00:32:01.720" style="s2">that right and so right now it shows us</p>
<p begin="00:31:59.279" end="00:32:03.080" style="s2">that um we are using the global one</p>
<p begin="00:32:01.720" end="00:32:05.880" style="s2">however we&#39;re going to pass in the path</p>
<p begin="00:32:03.080" end="00:32:06.960" style="s2">to our specific interpreter within our</p>
<p begin="00:32:05.880" end="00:32:08.760" style="s2">virtual environment so we&#39;ll select</p>
<p begin="00:32:06.960" end="00:32:12.200" style="s2">enter interpreter</p>
<p begin="00:32:08.760" end="00:32:13.639" style="s2">path we&#39;ll say dot for current directory</p>
<p begin="00:32:12.200" end="00:32:15.519" style="s2">and so that&#39;s going to mean uh the</p>
<p begin="00:32:13.639" end="00:32:16.840" style="s2">current fast API directory then within</p>
<p begin="00:32:15.519" end="00:32:18.919" style="s2">there we want to go into the virtual</p>
<p begin="00:32:16.840" end="00:32:20.600" style="s2">environment folder and then within there</p>
<p begin="00:32:18.919" end="00:32:23.840" style="s2">we want to go into</p>
<p begin="00:32:20.600" end="00:32:26.799" style="s2">bin and then just say</p>
<p begin="00:32:23.840" end="00:32:29.840" style="s2">Python and so we&#39;ll hit enter and then</p>
<p begin="00:32:26.799" end="00:32:32.000" style="s2">take a look at what happened down here</p>
<p begin="00:32:29.840" end="00:32:34.240" style="s2">right you notice that the uh version</p>
<p begin="00:32:32.000" end="00:32:36.480" style="s2">still says 39.6 but our interpreter is</p>
<p begin="00:32:34.240" end="00:32:38.279" style="s2">actually pointing to our local virtual</p>
<p begin="00:32:36.480" end="00:32:40.840" style="s2">environment now because we changed The</p>
<p begin="00:32:38.279" end="00:32:43.399" style="s2">Interpreter to use this specific python</p>
<p begin="00:32:40.840" end="00:32:45.000" style="s2">file right here uh and so this is what&#39;s</p>
<p begin="00:32:43.399" end="00:32:47.240" style="s2">going to allow us to install our own</p>
<p begin="00:32:45.000" end="00:32:48.559" style="s2">specific fast API version as well as any</p>
<p begin="00:32:47.240" end="00:32:49.919" style="s2">other version of any package that we</p>
<p begin="00:32:48.559" end="00:32:52.399" style="s2">want so it doesn&#39;t actually install it</p>
<p begin="00:32:49.919" end="00:32:54.440" style="s2">globally on our machine now we&#39;re almost</p>
<p begin="00:32:52.399" end="00:32:56.399" style="s2">done but there&#39;s one other thing to note</p>
<p begin="00:32:54.440" end="00:32:57.840" style="s2">if you look at our terminal our terminal</p>
<p begin="00:32:56.399" end="00:33:00.240" style="s2">isn&#39;t using our virtual environment so</p>
<p begin="00:32:57.840" end="00:33:01.960" style="s2">if I run pip install any package it&#39;s</p>
<p begin="00:33:00.240" end="00:33:03.000" style="s2">not going to install it for a specific</p>
<p begin="00:33:01.960" end="00:33:04.919" style="s2">virtual environment it&#39;s going to</p>
<p begin="00:33:03.000" end="00:33:06.600" style="s2">install it globally so we have to enable</p>
<p begin="00:33:04.919" end="00:33:08.080" style="s2">the virtual environment for the command</p>
<p begin="00:33:06.600" end="00:33:10.799" style="s2">line as</p>
<p begin="00:33:08.080" end="00:33:13.120" style="s2">well and to do that all you have to do</p>
<p begin="00:33:10.799" end="00:33:16.360" style="s2">is type in</p>
<p begin="00:33:13.120" end="00:33:19.039" style="s2">source and then we want to pass in uh</p>
<p begin="00:33:16.360" end="00:33:24.360" style="s2">the path to this specific activate file</p>
<p begin="00:33:19.039" end="00:33:28.480" style="s2">right here within bin so we do V EnV SL</p>
<p begin="00:33:24.360" end="00:33:30.120" style="s2">bin SL activate you hit enter</p>
<p begin="00:33:28.480" end="00:33:32.440" style="s2">and then notice how our command line</p>
<p begin="00:33:30.120" end="00:33:33.760" style="s2">changes now it&#39;s prepended by the name</p>
<p begin="00:33:32.440" end="00:33:36.320" style="s2">of our virtual environment so since we</p>
<p begin="00:33:33.760" end="00:33:38.519" style="s2">named it V EnV you can see that it shows</p>
<p begin="00:33:36.320" end="00:33:40.159" style="s2">it right before the terminal and so</p>
<p begin="00:33:38.519" end="00:33:42.279" style="s2">that&#39;s all you have to do our virtual</p>
<p begin="00:33:40.159" end="00:33:44.000" style="s2">environment is set up keep in mind if</p>
<p begin="00:33:42.279" end="00:33:46.840" style="s2">you close out your</p>
<p begin="00:33:44.000" end="00:33:48.120" style="s2">terminal and then reopen it you you&#39;ll</p>
<p begin="00:33:46.840" end="00:33:50.000" style="s2">notice that your virtual environment is</p>
<p begin="00:33:48.120" end="00:33:51.159" style="s2">gone so you have to run that same exact</p>
<p begin="00:33:50.000" end="00:33:53.720" style="s2">command every time you open up your</p>
<p begin="00:33:51.159" end="00:33:55.840" style="s2">terminal to ensure that you are in your</p>
<p begin="00:33:53.720" end="00:33:57.960" style="s2">virtual environment and anytime you</p>
<p begin="00:33:55.840" end="00:34:00.080" style="s2">close out vs code make sure that when</p>
<p begin="00:33:57.960" end="00:34:01.639" style="s2">you reopen your project it still points</p>
<p begin="00:34:00.080" end="00:34:03.200" style="s2">to the virtual environment if for some</p>
<p begin="00:34:01.639" end="00:34:05.240" style="s2">reason it changes then just go back to</p>
<p begin="00:34:03.200" end="00:34:07.440" style="s2">that command pallet by going to view</p>
<p begin="00:34:05.240" end="00:34:09.560" style="s2">command pallet and then selecting The</p>
<p begin="00:34:07.440" end="00:34:10.879" style="s2">Interpreter that you specifically want</p>
<p begin="00:34:09.560" end="00:34:12.879" style="s2">um but that&#39;s all we have to do guys so</p>
<p begin="00:34:10.879" end="00:34:14.520" style="s2">our virtual environment set up and so at</p>
<p begin="00:34:12.879" end="00:34:17.159" style="s2">this point we can go ahead and get</p>
<p begin="00:34:14.520" end="00:34:19.040" style="s2">started on coding out our</p>
<p begin="00:34:17.159" end="00:34:20.679" style="s2">project so now that we got our</p>
<p begin="00:34:19.040" end="00:34:23.240" style="s2">environment set up it&#39;s time to get</p>
<p begin="00:34:20.679" end="00:34:24.960" style="s2">started coding out our project and what</p>
<p begin="00:34:23.240" end="00:34:27.200" style="s2">I want you guys to do is first of all go</p>
<p begin="00:34:24.960" end="00:34:28.599" style="s2">to the fast API documentation this is</p>
<p begin="00:34:27.200" end="00:34:31.000" style="s2">really important what I want you guys to</p>
<p begin="00:34:28.599" end="00:34:33.040" style="s2">do is really get a solid understanding</p>
<p begin="00:34:31.000" end="00:34:35.200" style="s2">of how the documentation works so pull</p>
<p begin="00:34:33.040" end="00:34:36.879" style="s2">up the fast API website and then head on</p>
<p begin="00:34:35.200" end="00:34:38.399" style="s2">over to the tutorial section and then</p>
<p begin="00:34:36.879" end="00:34:40.000" style="s2">select the intro part so this is going</p>
<p begin="00:34:38.399" end="00:34:42.399" style="s2">to walk us through setting up our</p>
<p begin="00:34:40.000" end="00:34:44.520" style="s2">project and what we will need to do is</p>
<p begin="00:34:42.399" end="00:34:47.000" style="s2">first of all we need to install the fast</p>
<p begin="00:34:44.520" end="00:34:50.040" style="s2">API package uh and so what we can do is</p>
<p begin="00:34:47.000" end="00:34:53.440" style="s2">we can either do pip install fast API or</p>
<p begin="00:34:50.040" end="00:34:55.639" style="s2">we can do pip install uh fast API all</p>
<p begin="00:34:53.440" end="00:34:56.919" style="s2">when we do F uh pip install fast API all</p>
<p begin="00:34:55.639" end="00:34:59.520" style="s2">it&#39;s going to install all of the</p>
<p begin="00:34:56.919" end="00:35:01.079" style="s2">optional depend as well which we may or</p>
<p begin="00:34:59.520" end="00:35:02.599" style="s2">may not need depending on what features</p>
<p begin="00:35:01.079" end="00:35:03.880" style="s2">we want we&#39;re going to go ahead and use</p>
<p begin="00:35:02.599" end="00:35:05.160" style="s2">the all option because we&#39;re going to</p>
<p begin="00:35:03.880" end="00:35:07.520" style="s2">use a lot of them and there&#39;s no point</p>
<p begin="00:35:05.160" end="00:35:09.800" style="s2">in having to go one by one and install</p>
<p begin="00:35:07.520" end="00:35:12.000" style="s2">them so that&#39;s what we&#39;re going to do so</p>
<p begin="00:35:09.800" end="00:35:13.680" style="s2">here uh in our command line and make</p>
<p begin="00:35:12.000" end="00:35:16.320" style="s2">sure that we are in our virtual</p>
<p begin="00:35:13.680" end="00:35:19.839" style="s2">environment and then just type in PIP</p>
<p begin="00:35:16.320" end="00:35:23.119" style="s2">install fast API and then we&#39;ll pass in</p>
<p begin="00:35:19.839" end="00:35:25.560" style="s2">all and we&#39;ll let that run now it&#39;s</p>
<p begin="00:35:23.119" end="00:35:27.119" style="s2">moving fairly fast um but if you kind of</p>
<p begin="00:35:25.560" end="00:35:30.079" style="s2">scroll through the history you&#39;ll notice</p>
<p begin="00:35:27.119" end="00:35:31.520" style="s2">a lot packages and a lot of dependencies</p>
<p begin="00:35:30.079" end="00:35:33.400" style="s2">that are getting installed so we&#39;ll take</p>
<p begin="00:35:31.520" end="00:35:34.920" style="s2">a look at those once it&#39;s done just to</p>
<p begin="00:35:33.400" end="00:35:37.200" style="s2">see what are the different dependencies</p>
<p begin="00:35:34.920" end="00:35:40.400" style="s2">that were installed and so now that</p>
<p begin="00:35:37.200" end="00:35:41.400" style="s2">that&#39;s done if we type in PIP freeze</p>
<p begin="00:35:40.400" end="00:35:42.920" style="s2">this is going to show all of the</p>
<p begin="00:35:41.400" end="00:35:44.760" style="s2">packages that were installed so it&#39;s not</p>
<p begin="00:35:42.920" end="00:35:46.520" style="s2">going to be just fast API it&#39;s going to</p>
<p begin="00:35:44.760" end="00:35:48.200" style="s2">include a lot of the optional</p>
<p begin="00:35:46.520" end="00:35:50.520" style="s2">dependencies as well so if we take a</p>
<p begin="00:35:48.200" end="00:35:52.680" style="s2">look um you can see that we&#39;ve got uh</p>
<p begin="00:35:50.520" end="00:35:55.480" style="s2">graphql installed if we want to use any</p>
<p begin="00:35:52.680" end="00:35:57.000" style="s2">graphql uh we have bcrypt UV coin that&#39;s</p>
<p begin="00:35:55.480" end="00:35:58.880" style="s2">going to be like our web server</p>
<p begin="00:35:57.000" end="00:36:00.800" style="s2">websocket we want to work with websocket</p>
<p begin="00:35:58.880" end="00:36:02.839" style="s2">so it already comes bundled with a lot</p>
<p begin="00:36:00.800" end="00:36:04.040" style="s2">of things that we&#39;re going to use um and</p>
<p begin="00:36:02.839" end="00:36:05.640" style="s2">I just wanted to make sure that you guys</p>
<p begin="00:36:04.040" end="00:36:08.319" style="s2">understood what&#39;s happening when we pass</p>
<p begin="00:36:05.640" end="00:36:10.400" style="s2">in that that all flag and if you want to</p>
<p begin="00:36:08.319" end="00:36:13.319" style="s2">if you open up your virtual environment</p>
<p begin="00:36:10.400" end="00:36:16.560" style="s2">folder and you go under lib you&#39;ll see</p>
<p begin="00:36:13.319" end="00:36:17.800" style="s2">all of the uh the code associated with</p>
<p begin="00:36:16.560" end="00:36:19.160" style="s2">those packages that we installed so</p>
<p begin="00:36:17.800" end="00:36:20.280" style="s2">that&#39;s where all of them are going to</p>
<p begin="00:36:19.160" end="00:36:22.359" style="s2">reside they&#39;re all going to reside</p>
<p begin="00:36:20.280" end="00:36:24.640" style="s2">within the lib folder all right so now</p>
<p begin="00:36:22.359" end="00:36:25.640" style="s2">that we&#39;ve got uh fast API installed the</p>
<p begin="00:36:24.640" end="00:36:28.079" style="s2">first thing that we have to do is we</p>
<p begin="00:36:25.640" end="00:36:30.119" style="s2">have to import fast API and to import</p>
<p begin="00:36:28.079" end="00:36:32.800" style="s2">fast API we just say</p>
<p begin="00:36:30.119" end="00:36:34.920" style="s2">from Fast API which is the name of the</p>
<p begin="00:36:32.800" end="00:36:37.240" style="s2">library we</p>
<p begin="00:36:34.920" end="00:36:39.560" style="s2">import fast</p>
<p begin="00:36:37.240" end="00:36:41.720" style="s2">API all right so we&#39;ve now successfully</p>
<p begin="00:36:39.560" end="00:36:45.000" style="s2">imported fast API let&#39;s create an</p>
<p begin="00:36:41.720" end="00:36:48.319" style="s2">instance of fast API so we&#39;ll say app</p>
<p begin="00:36:45.000" end="00:36:50.319" style="s2">equals fast API and then we&#39;ll call that</p>
<p begin="00:36:48.319" end="00:36:51.680" style="s2">function uh keep in mind you can name</p>
<p begin="00:36:50.319" end="00:36:53.319" style="s2">this anything you want but if you take a</p>
<p begin="00:36:51.680" end="00:36:55.560" style="s2">look at the documentation and just</p>
<p begin="00:36:53.319" end="00:36:56.920" style="s2">follow along uh you can see that it&#39;s</p>
<p begin="00:36:55.560" end="00:36:58.440" style="s2">going to name an app so I think it&#39;s</p>
<p begin="00:36:56.920" end="00:36:59.960" style="s2">best if we just kind of follow along</p>
<p begin="00:36:58.440" end="00:37:01.520" style="s2">with that convention then what we&#39;re</p>
<p begin="00:36:59.960" end="00:37:03.560" style="s2">going to do is we&#39;re going to just copy</p>
<p begin="00:37:01.520" end="00:37:05.079" style="s2">this code right here so this is going to</p>
<p begin="00:37:03.560" end="00:37:06.640" style="s2">be what&#39;s referred to as a path</p>
<p begin="00:37:05.079" end="00:37:09.079" style="s2">operation and we&#39;ll go over what that</p>
<p begin="00:37:06.640" end="00:37:11.400" style="s2">means in a bit and we&#39;ll just paste this</p>
<p begin="00:37:09.079" end="00:37:13.560" style="s2">here I want you to save your code you&#39;ll</p>
<p begin="00:37:11.400" end="00:37:15.599" style="s2">see if you get this uh warning or this</p>
<p begin="00:37:13.560" end="00:37:18.760" style="s2">message saying format autop pep 8 is not</p>
<p begin="00:37:15.599" end="00:37:20.280" style="s2">installed go ahead and hit yes and so</p>
<p begin="00:37:18.760" end="00:37:22.640" style="s2">this is nice because it&#39;ll automatically</p>
<p begin="00:37:20.280" end="00:37:23.920" style="s2">format our codes so if we ever put too</p>
<p begin="00:37:22.640" end="00:37:25.319" style="s2">many spaces or things like that you&#39;ll</p>
<p begin="00:37:23.920" end="00:37:26.680" style="s2">see that as soon as you save it it&#39;s</p>
<p begin="00:37:25.319" end="00:37:28.800" style="s2">going to snap into place and make</p>
<p begin="00:37:26.680" end="00:37:30.319" style="s2">everything look nice and pretty so let&#39;s</p>
<p begin="00:37:28.800" end="00:37:32.240" style="s2">save this and so once we&#39;ve got our code</p>
<p begin="00:37:30.319" end="00:37:33.480" style="s2">let&#39;s actually start our web server up</p>
<p begin="00:37:32.240" end="00:37:35.839" style="s2">so how do we actually start our web</p>
<p begin="00:37:33.480" end="00:37:37.480" style="s2">server well once again let&#39;s go to our</p>
<p begin="00:37:35.839" end="00:37:40.240" style="s2">documentation uh so we&#39;re going to make</p>
<p begin="00:37:37.480" end="00:37:43.720" style="s2">use of the UV corn Library so because we</p>
<p begin="00:37:40.240" end="00:37:45.319" style="s2">installed a fast API with the all flag</p>
<p begin="00:37:43.720" end="00:37:46.440" style="s2">um it&#39;ll automatically install UV corn</p>
<p begin="00:37:45.319" end="00:37:48.359" style="s2">if you didn&#39;t use the all flag then</p>
<p begin="00:37:46.440" end="00:37:50.640" style="s2">you&#39;ll have to do pip install UV corn as</p>
<p begin="00:37:48.359" end="00:37:54.920" style="s2">well but we already got it installed and</p>
<p begin="00:37:50.640" end="00:37:57.839" style="s2">so let&#39;s go back here and let&#39;s run our</p>
<p begin="00:37:54.920" end="00:38:00.160" style="s2">API so we do UV corn then what we have</p>
<p begin="00:37:57.839" end="00:38:02.000" style="s2">to do is we have to uh reference the</p>
<p begin="00:38:00.160" end="00:38:03.240" style="s2">name of our file so this is their entry</p>
<p begin="00:38:02.000" end="00:38:05.280" style="s2">point into our application which is our</p>
<p begin="00:38:03.240" end="00:38:07.280" style="s2">main file so here we&#39;re going to say</p>
<p begin="00:38:05.280" end="00:38:08.839" style="s2">main keep in mind if this file was named</p>
<p begin="00:38:07.280" end="00:38:10.680" style="s2">anything else you don&#39;t have to name it</p>
<p begin="00:38:08.839" end="00:38:11.920" style="s2">main you can name it anything else you</p>
<p begin="00:38:10.680" end="00:38:13.960" style="s2">would just want to pass the name of</p>
<p begin="00:38:11.920" end="00:38:16.119" style="s2">whatever the file name is then you do</p>
<p begin="00:38:13.960" end="00:38:18.680" style="s2">colon then you pass in the name of your</p>
<p begin="00:38:16.119" end="00:38:19.800" style="s2">fast API instance so we named it app and</p>
<p begin="00:38:18.680" end="00:38:22.720" style="s2">so we&#39;ll do</p>
<p begin="00:38:19.800" end="00:38:24.359" style="s2">app and then we&#39;ll start that right and</p>
<p begin="00:38:22.720" end="00:38:26.880" style="s2">so this is saying that we started our</p>
<p begin="00:38:24.359" end="00:38:28.079" style="s2">server perfect and we could see the URL</p>
<p begin="00:38:26.880" end="00:38:29.560" style="s2">that our server running on so it&#39;s going</p>
<p begin="00:38:28.079" end="00:38:32.560" style="s2">to say</p>
<p begin="00:38:29.560" end="00:38:34.800" style="s2">http/1 127.0.0.1 so if you guys don&#39;t</p>
<p begin="00:38:32.560" end="00:38:37.000" style="s2">know what that address is that means um</p>
<p begin="00:38:34.800" end="00:38:38.440" style="s2">it&#39;s this machine so whatever IP address</p>
<p begin="00:38:37.000" end="00:38:40.680" style="s2">this machine runs on that&#39;s what this is</p>
<p begin="00:38:38.440" end="00:38:42.280" style="s2">going to be uh so it&#39;s just saying hey</p>
<p begin="00:38:40.680" end="00:38:44.640" style="s2">we want to refer to the Local Host and</p>
<p begin="00:38:42.280" end="00:38:46.680" style="s2">it&#39;s going to run on Port 8,000 so if</p>
<p begin="00:38:44.640" end="00:38:50.200" style="s2">you want to you can just copy this</p>
<p begin="00:38:46.680" end="00:38:52.319" style="s2">URL go to your web browser paste it in</p>
<p begin="00:38:50.200" end="00:38:53.880" style="s2">here and then see what happens and then</p>
<p begin="00:38:52.319" end="00:38:56.800" style="s2">look at this I&#39;m going to zoom in for</p>
<p begin="00:38:53.880" end="00:38:59.839" style="s2">you it says message hello world and</p>
<p begin="00:38:56.800" end="00:39:01.960" style="s2">that&#39;s coming from our</p>
<p begin="00:38:59.839" end="00:39:04.920" style="s2">code right and that&#39;s coming from this</p>
<p begin="00:39:01.960" end="00:39:06.520" style="s2">return statement right here uh so that</p>
<p begin="00:39:04.920" end="00:39:08.920" style="s2">so this kind of verifies that everything</p>
<p begin="00:39:06.520" end="00:39:10.520" style="s2">worked perfectly all right so now that</p>
<p begin="00:39:08.920" end="00:39:12.000" style="s2">we&#39;ve got everything up and running and</p>
<p begin="00:39:10.520" end="00:39:14.880" style="s2">working and you can see that when we go</p>
<p begin="00:39:12.000" end="00:39:16.880" style="s2">to our website uh we can see that we are</p>
<p begin="00:39:14.880" end="00:39:18.440" style="s2">properly getting back our message uh</p>
<p begin="00:39:16.880" end="00:39:20.640" style="s2">let&#39;s pause this video and in the next</p>
<p begin="00:39:18.440" end="00:39:23.160" style="s2">video we&#39;ll take a look at exactly what</p>
<p begin="00:39:20.640" end="00:39:25.160" style="s2">each line of this code actually</p>
<p begin="00:39:23.160" end="00:39:26.800" style="s2">means all right guys so let&#39;s take a</p>
<p begin="00:39:25.160" end="00:39:29.240" style="s2">look at the code that we added and</p>
<p begin="00:39:26.800" end="00:39:30.640" style="s2">actually dis detect what each line means</p>
<p begin="00:39:29.240" end="00:39:32.359" style="s2">so we&#39;ve got these three lines of code</p>
<p begin="00:39:30.640" end="00:39:34.319" style="s2">and if you take a look at the fast API</p>
<p begin="00:39:32.359" end="00:39:36.440" style="s2">documentation that we were on it&#39;s going</p>
<p begin="00:39:34.319" end="00:39:38.280" style="s2">to define those three lines of code as a</p>
<p begin="00:39:36.440" end="00:39:40.480" style="s2">path operation so that&#39;s the terminology</p>
<p begin="00:39:38.280" end="00:39:42.760" style="s2">is using it refers to this as a path</p>
<p begin="00:39:40.480" end="00:39:44.319" style="s2">operation now the name itself doesn&#39;t</p>
<p begin="00:39:42.760" end="00:39:46.160" style="s2">really matter uh you&#39;ll see that in</p>
<p begin="00:39:44.319" end="00:39:48.119" style="s2">other web Frameworks uh especially in</p>
<p begin="00:39:46.160" end="00:39:50.720" style="s2">other languages sometimes they refer to</p>
<p begin="00:39:48.119" end="00:39:52.560" style="s2">this as a route um but they uh within</p>
<p begin="00:39:50.720" end="00:39:54.119" style="s2">the documentation for fast API referred</p>
<p begin="00:39:52.560" end="00:39:55.680" style="s2">to as a path operation so you&#39;ll see me</p>
<p begin="00:39:54.119" end="00:39:57.800" style="s2">flip between those two terms but they</p>
<p begin="00:39:55.680" end="00:39:59.240" style="s2">fundamentally mean the same thing so</p>
<p begin="00:39:57.800" end="00:40:00.920" style="s2">let&#39;s actually take a look at this</p>
<p begin="00:39:59.240" end="00:40:02.680" style="s2">specific path operation and we can</p>
<p begin="00:40:00.920" end="00:40:04.680" style="s2">really see that it&#39;s made up of two</p>
<p begin="00:40:02.680" end="00:40:06.520" style="s2">components the first component is going</p>
<p begin="00:40:04.680" end="00:40:08.240" style="s2">to be the function and the second thing</p>
<p begin="00:40:06.520" end="00:40:09.920" style="s2">is going to be the decorator so we&#39;ll</p>
<p begin="00:40:08.240" end="00:40:11.680" style="s2">come back to The Decorator in a bit</p>
<p begin="00:40:09.920" end="00:40:13.599" style="s2">let&#39;s take a look at this function so</p>
<p begin="00:40:11.680" end="00:40:15.160" style="s2">this function is fundamentally no</p>
<p begin="00:40:13.599" end="00:40:17.160" style="s2">different than any other python function</p>
<p begin="00:40:15.160" end="00:40:18.720" style="s2">it&#39;s a plain old function uh you&#39;ll see</p>
<p begin="00:40:17.160" end="00:40:20.640" style="s2">that there&#39;s this async keyword</p>
<p begin="00:40:18.720" end="00:40:22.040" style="s2">technically this is optional this</p>
<p begin="00:40:20.640" end="00:40:23.680" style="s2">keywords only needed if you&#39;re going to</p>
<p begin="00:40:22.040" end="00:40:24.960" style="s2">be performing some sort of asynchronous</p>
<p begin="00:40:23.680" end="00:40:26.720" style="s2">task so something that takes a certain</p>
<p begin="00:40:24.960" end="00:40:28.599" style="s2">amount of time so things like uh you</p>
<p begin="00:40:26.720" end="00:40:29.880" style="s2">know making an API call things like</p>
<p begin="00:40:28.599" end="00:40:31.760" style="s2">talking to the database if you want to</p>
<p begin="00:40:29.880" end="00:40:33.680" style="s2">do that asynchronously you do have to</p>
<p begin="00:40:31.760" end="00:40:34.960" style="s2">pass in the async keyword but we&#39;re not</p>
<p begin="00:40:33.680" end="00:40:36.599" style="s2">doing that right now so what we can do</p>
<p begin="00:40:34.960" end="00:40:38.440" style="s2">is we can actually just remove that so</p>
<p begin="00:40:36.599" end="00:40:40.079" style="s2">I&#39;m going to delete that and just remove</p>
<p begin="00:40:38.440" end="00:40:41.560" style="s2">that and so now it&#39;s just a regular</p>
<p begin="00:40:40.079" end="00:40:44.480" style="s2">function and you&#39;ll see that the code</p>
<p begin="00:40:41.560" end="00:40:46.359" style="s2">behaves exactly the same so we have a</p>
<p begin="00:40:44.480" end="00:40:48.160" style="s2">function um we give the function a name</p>
<p begin="00:40:46.359" end="00:40:50.160" style="s2">so the documentation just CHS an</p>
<p begin="00:40:48.160" end="00:40:51.920" style="s2">arbitrary name of root keep in mind the</p>
<p begin="00:40:50.160" end="00:40:55.560" style="s2">name itself doesn&#39;t matter so if I</p>
<p begin="00:40:51.920" end="00:40:56.960" style="s2">wanted to name this you know uh get user</p>
<p begin="00:40:55.560" end="00:40:58.119" style="s2">then that&#39;s going to be fine it&#39;s not</p>
<p begin="00:40:56.960" end="00:41:00.280" style="s2">going to change anything it&#39;s an</p>
<p begin="00:40:58.119" end="00:41:03.200" style="s2">arbitrary name however I do recommend</p>
<p begin="00:41:00.280" end="00:41:05.440" style="s2">you name your functions your path</p>
<p begin="00:41:03.200" end="00:41:07.200" style="s2">operation functions uh to be as</p>
<p begin="00:41:05.440" end="00:41:10.119" style="s2">descriptive as possible so if you&#39;re</p>
<p begin="00:41:07.200" end="00:41:12.680" style="s2">trying to log in a user uh then maybe</p>
<p begin="00:41:10.119" end="00:41:14.480" style="s2">you should call this login user or just</p>
<p begin="00:41:12.680" end="00:41:16.240" style="s2">log in so that it&#39;s as descriptive as</p>
<p begin="00:41:14.480" end="00:41:18.079" style="s2">possible but keep in mind the name that</p>
<p begin="00:41:16.240" end="00:41:19.640" style="s2">we put here does not matter so I&#39;ll</p>
<p begin="00:41:18.079" end="00:41:22.160" style="s2">change this back to root for</p>
<p begin="00:41:19.640" end="00:41:23.440" style="s2">now and then we have so then within this</p>
<p begin="00:41:22.160" end="00:41:25.160" style="s2">function you can perform any kind of</p>
<p begin="00:41:23.440" end="00:41:27.720" style="s2">logic so if this function is meant to</p>
<p begin="00:41:25.160" end="00:41:30.000" style="s2">log in a user it&#39;s going to have all the</p>
<p begin="00:41:27.720" end="00:41:31.640" style="s2">code for logging in a user whatever that</p>
<p begin="00:41:30.000" end="00:41:32.960" style="s2">may be so maybe you know checking the</p>
<p begin="00:41:31.640" end="00:41:34.400" style="s2">passwords in a database to make sure</p>
<p begin="00:41:32.960" end="00:41:37.560" style="s2">that they match and to make sure that</p>
<p begin="00:41:34.400" end="00:41:39.040" style="s2">the credentials are properly accurate uh</p>
<p begin="00:41:37.560" end="00:41:40.319" style="s2">and then after that you know just like</p>
<p begin="00:41:39.040" end="00:41:42.599" style="s2">any other function we can return</p>
<p begin="00:41:40.319" end="00:41:44.000" style="s2">something so whatever we return here is</p>
<p begin="00:41:42.599" end="00:41:46.160" style="s2">going to be the data that get sent back</p>
<p begin="00:41:44.000" end="00:41:48.480" style="s2">to the user so if we go back to the</p>
<p begin="00:41:46.160" end="00:41:50.440" style="s2">website go to our web server if you take</p>
<p begin="00:41:48.480" end="00:41:52.079" style="s2">a look at this message hello world</p>
<p begin="00:41:50.440" end="00:41:54.319" style="s2">that&#39;s exactly what we sent and if we</p>
<p begin="00:41:52.079" end="00:41:55.839" style="s2">change this to be whatever we want it&#39;s</p>
<p begin="00:41:54.319" end="00:41:58.359" style="s2">going to get returned back in the same</p>
<p begin="00:41:55.839" end="00:42:01.240" style="s2">way so here we&#39;re just returning a</p>
<p begin="00:41:58.359" end="00:42:03.839" style="s2">python uh dictionary I guess and what</p>
<p begin="00:42:01.240" end="00:42:06.240" style="s2">happens is fast API will automatically</p>
<p begin="00:42:03.839" end="00:42:09.079" style="s2">convert this to Json which is the main</p>
<p begin="00:42:06.240" end="00:42:11.560" style="s2">universal language of uh apis right we</p>
<p begin="00:42:09.079" end="00:42:13.480" style="s2">all talk to we use Json to send data</p>
<p begin="00:42:11.560" end="00:42:15.560" style="s2">back and forth between an API so it</p>
<p begin="00:42:13.480" end="00:42:16.960" style="s2">converts this to Json and it sends it</p>
<p begin="00:42:15.560" end="00:42:18.359" style="s2">back to the user and that&#39;s why we see</p>
<p begin="00:42:16.960" end="00:42:20.480" style="s2">that on the web</p>
<p begin="00:42:18.359" end="00:42:22.319" style="s2">browser now the next thing that we have</p>
<p begin="00:42:20.480" end="00:42:24.520" style="s2">is this decorator if you&#39;re not really</p>
<p begin="00:42:22.319" end="00:42:26.359" style="s2">familiar with decorators in Python it&#39;s</p>
<p begin="00:42:24.520" end="00:42:28.200" style="s2">okay you don&#39;t really actually need to</p>
<p begin="00:42:26.359" end="00:42:30.079" style="s2">understand you know the core concept of</p>
<p begin="00:42:28.200" end="00:42:32.640" style="s2">a decorator just understand that when</p>
<p begin="00:42:30.079" end="00:42:34.200" style="s2">you apply a decorator to a function it&#39;s</p>
<p begin="00:42:32.640" end="00:42:36.119" style="s2">going to perform a little magic to this</p>
<p begin="00:42:34.200" end="00:42:38.359" style="s2">function because if I remove this</p>
<p begin="00:42:36.119" end="00:42:40.000" style="s2">decorator if we just comment it out take</p>
<p begin="00:42:38.359" end="00:42:41.720" style="s2">a look at this code this code has</p>
<p begin="00:42:40.000" end="00:42:43.800" style="s2">nothing to do with fast API it&#39;s a plain</p>
<p begin="00:42:41.720" end="00:42:46.280" style="s2">old function so how do we actually make</p>
<p begin="00:42:43.800" end="00:42:48.359" style="s2">it you know act like an API well we have</p>
<p begin="00:42:46.280" end="00:42:50.599" style="s2">to use this magical decorator this</p>
<p begin="00:42:48.359" end="00:42:52.240" style="s2">decorator turns this into an actual path</p>
<p begin="00:42:50.599" end="00:42:55.319" style="s2">operation so that someone who wants to</p>
<p begin="00:42:52.240" end="00:42:57.720" style="s2">use her API can hit this end point uh</p>
<p begin="00:42:55.319" end="00:42:59.640" style="s2">and so you just specify at the at symbol</p>
<p begin="00:42:57.720" end="00:43:01.400" style="s2">that&#39;s what the that&#39;s how we clarify</p>
<p begin="00:42:59.640" end="00:43:04.319" style="s2">that this is going to be a decorator</p>
<p begin="00:43:01.400" end="00:43:05.520" style="s2">then we reference our fast API instance</p>
<p begin="00:43:04.319" end="00:43:07.400" style="s2">and then we have a couple of different</p>
<p begin="00:43:05.520" end="00:43:10.400" style="s2">options so what here we be pass in is</p>
<p begin="00:43:07.400" end="00:43:12.640" style="s2">the HTTP method that the user should use</p>
<p begin="00:43:10.400" end="00:43:16.960" style="s2">so this is a get method which means that</p>
<p begin="00:43:12.640" end="00:43:19.640" style="s2">we have to send a get request to our API</p>
<p begin="00:43:16.960" end="00:43:22.319" style="s2">and but we can use plenty of different</p>
<p begin="00:43:19.640" end="00:43:23.319" style="s2">HTTP methods and I strongly recommend</p>
<p begin="00:43:22.319" end="00:43:26.079" style="s2">you actually take a look at the</p>
<p begin="00:43:23.319" end="00:43:29.079" style="s2">different HTTP methods if you do HTTP</p>
<p begin="00:43:26.079" end="00:43:29.079" style="s2">methods</p>
<p begin="00:43:29.480" end="00:43:32.680" style="s2">we can select this one this is the</p>
<p begin="00:43:31.119" end="00:43:35.119" style="s2">Mozilla page you could see all of the</p>
<p begin="00:43:32.680" end="00:43:37.119" style="s2">different HTTP methods so there&#39;s get</p>
<p begin="00:43:35.119" end="00:43:39.160" style="s2">post put delete so those are the main</p>
<p begin="00:43:37.119" end="00:43:40.839" style="s2">ones there&#39;s a couple of other ones that</p>
<p begin="00:43:39.160" end="00:43:42.520" style="s2">uh are sometimes used but for the most</p>
<p begin="00:43:40.839" end="00:43:45.000" style="s2">part those are the core</p>
<p begin="00:43:42.520" end="00:43:47.559" style="s2">ones and so here once again just the</p>
<p begin="00:43:45.000" end="00:43:50.920" style="s2">HTTP method and then finally we have the</p>
<p begin="00:43:47.559" end="00:43:52.920" style="s2">path uh uh and so this is the root path</p>
<p begin="00:43:50.920" end="00:43:55.160" style="s2">uh and so and so it&#39;s a little bit hard</p>
<p begin="00:43:52.920" end="00:43:57.319" style="s2">to explain the path but it&#39;s basically</p>
<p begin="00:43:55.160" end="00:43:59.760" style="s2">the path after the specific domain name</p>
<p begin="00:43:57.319" end="00:44:02.520" style="s2">of your API so if you take a look at our</p>
<p begin="00:43:59.760" end="00:44:05.599" style="s2">uh our URL our web server is hosted on</p>
<p begin="00:44:02.520" end="00:44:06.960" style="s2">this specific uh URL if I go to this</p>
<p begin="00:44:05.599" end="00:44:09.920" style="s2">page let&#39;s open up a new link and just</p>
<p begin="00:44:06.960" end="00:44:11.640" style="s2">paste it in here so so the URL and the</p>
<p begin="00:44:09.920" end="00:44:12.720" style="s2">path in this case is just slash so</p>
<p begin="00:44:11.640" end="00:44:14.599" style="s2">that&#39;s the equivalent of just hitting</p>
<p begin="00:44:12.720" end="00:44:16.720" style="s2">enter right here or putting a slash</p>
<p begin="00:44:14.599" end="00:44:18.240" style="s2">which doesn&#39;t change anything right</p>
<p begin="00:44:16.720" end="00:44:19.599" style="s2">right whether there slashes there or not</p>
<p begin="00:44:18.240" end="00:44:22.119" style="s2">it&#39;s basically going to take you to the</p>
<p begin="00:44:19.599" end="00:44:24.319" style="s2">same URL it&#39;s very similar to going to</p>
<p begin="00:44:22.119" end="00:44:26.040" style="s2">you know</p>
<p begin="00:44:24.319" end="00:44:27.720" style="s2">google.com right that&#39;s going to take us</p>
<p begin="00:44:26.040" end="00:44:29.800" style="s2">to google.com but if you go to</p>
<p begin="00:44:27.720" end="00:44:32.880" style="s2">google.com/ it&#39;s it&#39;s the same thing so</p>
<p begin="00:44:29.800" end="00:44:35.400" style="s2">it&#39;s the root path so whatever um domain</p>
<p begin="00:44:32.880" end="00:44:37.920" style="s2">name our API is hosted on whatever URL</p>
<p begin="00:44:35.400" end="00:44:40.960" style="s2">it&#39;s just saying it&#39;s the root path you</p>
<p begin="00:44:37.920" end="00:44:43.599" style="s2">know if I change this to um you know log</p>
<p begin="00:44:40.960" end="00:44:46.160" style="s2">in right that means that this path</p>
<p begin="00:44:43.599" end="00:44:50.280" style="s2">operation will only apply if the user</p>
<p begin="00:44:46.160" end="00:44:53.640" style="s2">goes to our URL and then goes to slash</p>
<p begin="00:44:50.280" end="00:44:55.280" style="s2">login so that decorator this path right</p>
<p begin="00:44:53.640" end="00:44:57.920" style="s2">here just references the path that we</p>
<p begin="00:44:55.280" end="00:45:00.440" style="s2">have to go to in the URL</p>
<p begin="00:44:57.920" end="00:45:03.559" style="s2">and so if this is actually changed to um</p>
<p begin="00:45:00.440" end="00:45:05.319" style="s2">how about posts and then you know like</p>
<p begin="00:45:03.559" end="00:45:07.960" style="s2">vote so maybe this is a URL for voting</p>
<p begin="00:45:05.319" end="00:45:09.720" style="s2">on a specific post then we would have to</p>
<p begin="00:45:07.960" end="00:45:12.440" style="s2">go and do the same thing here so we&#39;d</p>
<p begin="00:45:09.720" end="00:45:14.359" style="s2">have to go to post SL vote so nothing</p>
<p begin="00:45:12.440" end="00:45:16.559" style="s2">too complicated but those are the two</p>
<p begin="00:45:14.359" end="00:45:18.520" style="s2">pieces that make up a simple path</p>
<p begin="00:45:16.559" end="00:45:20.200" style="s2">operation you&#39;ve got the function then</p>
<p begin="00:45:18.520" end="00:45:22.520" style="s2">you&#39;ve got this uh decorator where you</p>
<p begin="00:45:20.200" end="00:45:24.440" style="s2">have to pass in the specific HTTP method</p>
<p begin="00:45:22.520" end="00:45:25.800" style="s2">and then the URL you want it to go to</p>
<p begin="00:45:24.440" end="00:45:28.040" style="s2">and I&#39;m going to change this back to the</p>
<p begin="00:45:25.800" end="00:45:30.079" style="s2">default</p>
<p begin="00:45:28.040" end="00:45:32.200" style="s2">and now what I want to do is let&#39;s go</p>
<p begin="00:45:30.079" end="00:45:33.240" style="s2">ahead and make a simple change so what</p>
<p begin="00:45:32.200" end="00:45:34.680" style="s2">I&#39;m going to do is I&#39;m going to change</p>
<p begin="00:45:33.240" end="00:45:40.640" style="s2">this I&#39;m going to change the message to</p>
<p begin="00:45:34.680" end="00:45:43.040" style="s2">be um welcome to my API we&#39;ll save</p>
<p begin="00:45:40.640" end="00:45:44.720" style="s2">this go back to the root URL because we</p>
<p begin="00:45:43.040" end="00:45:47.520" style="s2">changed it to the root</p>
<p begin="00:45:44.720" end="00:45:49.960" style="s2">URL let&#39;s hit refresh notice how it</p>
<p begin="00:45:47.520" end="00:45:52.240" style="s2">still says hello world nothing changed</p>
<p begin="00:45:49.960" end="00:45:54.240" style="s2">so what gives right it you know our</p>
<p begin="00:45:52.240" end="00:45:55.599" style="s2">code&#39;s changed I saved it why are we not</p>
<p begin="00:45:54.240" end="00:45:57.960" style="s2">updating it so that it returns welcome</p>
<p begin="00:45:55.599" end="00:45:59.599" style="s2">to my API well the problem is is that</p>
<p begin="00:45:57.960" end="00:46:02.040" style="s2">anytime you make a change we have to</p>
<p begin="00:45:59.599" end="00:46:04.040" style="s2">restart our server so to restart our</p>
<p begin="00:46:02.040" end="00:46:06.119" style="s2">server you hit contrl C which is going</p>
<p begin="00:46:04.040" end="00:46:07.440" style="s2">to stop it then you can just hit the up</p>
<p begin="00:46:06.119" end="00:46:09.400" style="s2">Arrow key so that you can find that</p>
<p begin="00:46:07.440" end="00:46:12.520" style="s2">command that you ran before and just run</p>
<p begin="00:46:09.400" end="00:46:14.839" style="s2">it again and so now if I hit refresh we</p>
<p begin="00:46:12.520" end="00:46:15.880" style="s2">can see that it updated and I&#39;m sure</p>
<p begin="00:46:14.839" end="00:46:17.599" style="s2">you&#39;re thinking well that&#39;s a little</p>
<p begin="00:46:15.880" end="00:46:20.119" style="s2">Annoying every time I change my code I</p>
<p begin="00:46:17.599" end="00:46:21.800" style="s2">have to do a contrl c and then an up</p>
<p begin="00:46:20.119" end="00:46:23.680" style="s2">arrow and then hit enter just so that I</p>
<p begin="00:46:21.800" end="00:46:25.680" style="s2">can you know make sure that the server</p>
<p begin="00:46:23.680" end="00:46:27.160" style="s2">actually implements those changes and it</p>
<p begin="00:46:25.680" end="00:46:29.559" style="s2">is a little annoying but there is a work</p>
<p begin="00:46:27.160" end="00:46:31.440" style="s2">around so if we go to the documentation</p>
<p begin="00:46:29.559" end="00:46:33.920" style="s2">you&#39;ll see that when they run UV corn</p>
<p begin="00:46:31.440" end="00:46:36.000" style="s2">they pass in the D- reload flag and the</p>
<p begin="00:46:33.920" end="00:46:37.440" style="s2">D- reload flag will actually take a look</p>
<p begin="00:46:36.000" end="00:46:39.119" style="s2">at your code and monitor your code so</p>
<p begin="00:46:37.440" end="00:46:40.640" style="s2">anytime that you change your code it&#39;ll</p>
<p begin="00:46:39.119" end="00:46:42.200" style="s2">automatically restart your server for</p>
<p begin="00:46:40.640" end="00:46:44.640" style="s2">you so let&#39;s try that out I&#39;m going to</p>
<p begin="00:46:42.200" end="00:46:46.160" style="s2">do a contrl C I&#39;m going to hit the up</p>
<p begin="00:46:44.640" end="00:46:49.839" style="s2">arrow and I&#39;m going to pass in the D-</p>
<p begin="00:46:46.160" end="00:46:51.760" style="s2">reload flag so we&#39;ll hit enter and now</p>
<p begin="00:46:49.839" end="00:46:52.960" style="s2">what I want you to do is make some</p>
<p begin="00:46:51.760" end="00:46:53.800" style="s2">changes so it doesn&#39;t really matter what</p>
<p begin="00:46:52.960" end="00:46:55.680" style="s2">you change I&#39;m just going to add a</p>
<p begin="00:46:53.800" end="00:46:57.440" style="s2">couple exclamation points and then I&#39;m</p>
<p begin="00:46:55.680" end="00:46:59.119" style="s2">going to hit uh save</p>
<p begin="00:46:57.440" end="00:47:01.640" style="s2">and I want you to focus what on What</p>
<p begin="00:46:59.119" end="00:47:03.640" style="s2">Happens down here so if I hit save look</p>
<p begin="00:47:01.640" end="00:47:06.119" style="s2">at that it automatically restarted the</p>
<p begin="00:47:03.640" end="00:47:09.319" style="s2">server for me and so now if I go back to</p>
<p begin="00:47:06.119" end="00:47:11.000" style="s2">my website uh or my API hit refresh you</p>
<p begin="00:47:09.319" end="00:47:13.480" style="s2">can see that the exclamation points are</p>
<p begin="00:47:11.000" end="00:47:14.920" style="s2">there so moving forward in a development</p>
<p begin="00:47:13.480" end="00:47:16.440" style="s2">environment only when we&#39;re in a</p>
<p begin="00:47:14.920" end="00:47:18.800" style="s2">development environment we&#39;re going to</p>
<p begin="00:47:16.440" end="00:47:20.520" style="s2">pass in the D- reload flag when we go to</p>
<p begin="00:47:18.800" end="00:47:21.880" style="s2">production we don&#39;t need that we&#39;re not</p>
<p begin="00:47:20.520" end="00:47:23.200" style="s2">going to be setting it up because we&#39;re</p>
<p begin="00:47:21.880" end="00:47:24.839" style="s2">not going to be changing our code in a</p>
<p begin="00:47:23.200" end="00:47:27.920" style="s2">production environment and so I think</p>
<p begin="00:47:24.839" end="00:47:29.559" style="s2">that&#39;s a good stopping point here uh in</p>
<p begin="00:47:27.920" end="00:47:32.040" style="s2">the next video we&#39;ll just quickly review</p>
<p begin="00:47:29.559" end="00:47:33.480" style="s2">exactly what is a path operation so that</p>
<p begin="00:47:32.040" end="00:47:34.920" style="s2">we could just reinforce what we learned</p>
<p begin="00:47:33.480" end="00:47:37.079" style="s2">in this</p>
<p begin="00:47:34.920" end="00:47:38.760" style="s2">lecture all right guys so let&#39;s quickly</p>
<p begin="00:47:37.079" end="00:47:39.800" style="s2">recap what we learned in the previous</p>
<p begin="00:47:38.760" end="00:47:41.280" style="s2">lecture I want to make sure that you</p>
<p begin="00:47:39.800" end="00:47:43.079" style="s2">guys have a solid understanding of the</p>
<p begin="00:47:41.280" end="00:47:45.119" style="s2">different components of a path operation</p>
<p begin="00:47:43.079" end="00:47:47.520" style="s2">because ultimately that&#39;s all your API</p>
<p begin="00:47:45.119" end="00:47:49.880" style="s2">is it&#39;s just a bunch of path operations</p>
<p begin="00:47:47.520" end="00:47:51.599" style="s2">so first things first we have our</p>
<p begin="00:47:49.880" end="00:47:53.559" style="s2">decorator so our decorator has the</p>
<p begin="00:47:51.599" end="00:47:55.680" style="s2">little at symbol uh and so that&#39;s what</p>
<p begin="00:47:53.559" end="00:47:57.839" style="s2">signifies it as a decorator and then we</p>
<p begin="00:47:55.680" end="00:48:01.119" style="s2">reference our fast AP instance which we</p>
<p begin="00:47:57.839" end="00:48:03.400" style="s2">called app and then we have our HTTP</p>
<p begin="00:48:01.119" end="00:48:06.839" style="s2">method so in this case this is going to</p>
<p begin="00:48:03.400" end="00:48:09.160" style="s2">match only get methods and then we have</p>
<p begin="00:48:06.839" end="00:48:11.920" style="s2">the specific path or the URL so this is</p>
<p begin="00:48:09.160" end="00:48:13.720" style="s2">the root URL in this case and then below</p>
<p begin="00:48:11.920" end="00:48:15.319" style="s2">that we&#39;ve got our specific path</p>
<p begin="00:48:13.720" end="00:48:16.800" style="s2">operation function so this function is</p>
<p begin="00:48:15.319" end="00:48:18.760" style="s2">going to contain all the logic for</p>
<p begin="00:48:16.800" end="00:48:20.160" style="s2">performing some kind of task and when</p>
<p begin="00:48:18.760" end="00:48:21.839" style="s2">it&#39;s going to return some data and</p>
<p begin="00:48:20.160" end="00:48:24.119" style="s2">that&#39;s the data that gets returned to</p>
<p begin="00:48:21.839" end="00:48:27.240" style="s2">the user when they hit this specific</p>
<p begin="00:48:24.119" end="00:48:28.680" style="s2">path operation so now that we have a ID</p>
<p begin="00:48:27.240" end="00:48:30.720" style="s2">understanding of how path operations</p>
<p begin="00:48:28.680" end="00:48:32.440" style="s2">work let&#39;s see if we can create a new</p>
<p begin="00:48:30.720" end="00:48:35.160" style="s2">path operation and let&#39;s say this one</p>
<p begin="00:48:32.440" end="00:48:38.119" style="s2">represents retrieving a bunch of social</p>
<p begin="00:48:35.160" end="00:48:39.319" style="s2">media posts from our application so in</p>
<p begin="00:48:38.119" end="00:48:41.160" style="s2">this case you know there&#39;s two things</p>
<p begin="00:48:39.319" end="00:48:42.880" style="s2">that we need so the first thing is our</p>
<p begin="00:48:41.160" end="00:48:44.599" style="s2">function our path operation function so</p>
<p begin="00:48:42.880" end="00:48:46.400" style="s2">we&#39;ll say defa and then we&#39;ll give this</p>
<p begin="00:48:44.599" end="00:48:47.920" style="s2">function any name I think since we&#39;re</p>
<p begin="00:48:46.400" end="00:48:49.799" style="s2">going to be retrieving a bunch of posts</p>
<p begin="00:48:47.920" end="00:48:51.599" style="s2">I think a good name is going to be uh</p>
<p begin="00:48:49.799" end="00:48:53.680" style="s2">getor</p>
<p begin="00:48:51.599" end="00:48:55.119" style="s2">posts um but keep in mind you can name</p>
<p begin="00:48:53.680" end="00:48:58.799" style="s2">this anything you want like I said it</p>
<p begin="00:48:55.119" end="00:49:01.079" style="s2">does not impact the behavior of anything</p>
<p begin="00:48:58.799" end="00:49:02.440" style="s2">and then we want to see uh so here we</p>
<p begin="00:49:01.079" end="00:49:03.760" style="s2">would pass in all of our Logic for</p>
<p begin="00:49:02.440" end="00:49:05.599" style="s2">retrieving post but we don&#39;t actually</p>
<p begin="00:49:03.760" end="00:49:06.839" style="s2">have an application so I&#39;m just going to</p>
<p begin="00:49:05.599" end="00:49:09.640" style="s2">say</p>
<p begin="00:49:06.839" end="00:49:12.640" style="s2">return and then we&#39;ll just say</p>
<p begin="00:49:09.640" end="00:49:16.200" style="s2">um maybe I don&#39;t know</p>
<p begin="00:49:12.640" end="00:49:17.799" style="s2">data and this is going to be this is</p>
<p begin="00:49:16.200" end="00:49:19.240" style="s2">your post but in reality we would</p>
<p begin="00:49:17.799" end="00:49:21.599" style="s2">provide a list of</p>
<p begin="00:49:19.240" end="00:49:23.040" style="s2">posts so let&#39;s save that and then</p>
<p begin="00:49:21.599" end="00:49:24.839" style="s2">there&#39;s one last thing we have to pass</p>
<p begin="00:49:23.040" end="00:49:27.040" style="s2">in our decorator like we did before to</p>
<p begin="00:49:24.839" end="00:49:29.400" style="s2">actually make this turn into a special</p>
<p begin="00:49:27.040" end="00:49:32.119" style="s2">path operation function so we&#39;ll say at</p>
<p begin="00:49:29.400" end="00:49:35.240" style="s2">then we reference the instance uh the</p>
<p begin="00:49:32.119" end="00:49:36.720" style="s2">fast API instance we&#39;ll do app Dot and</p>
<p begin="00:49:35.240" end="00:49:38.079" style="s2">then we have to figure out what HTTP</p>
<p begin="00:49:36.720" end="00:49:40.760" style="s2">method we want to use for this path</p>
<p begin="00:49:38.079" end="00:49:43.799" style="s2">operation so when it comes to retrieving</p>
<p begin="00:49:40.760" end="00:49:45.920" style="s2">data uh you usually use a get operation</p>
<p begin="00:49:43.799" end="00:49:47.480" style="s2">and if you don&#39;t know which one to use</p>
<p begin="00:49:45.920" end="00:49:49.200" style="s2">um you can just go back to this page</p>
<p begin="00:49:47.480" end="00:49:50.880" style="s2">right here and it&#39;s going to explain uh</p>
<p begin="00:49:49.200" end="00:49:52.640" style="s2">what each one&#39;s for if you select get</p>
<p begin="00:49:50.880" end="00:49:55.160" style="s2">it&#39;s going to explain when you would use</p>
<p begin="00:49:52.640" end="00:49:56.799" style="s2">a get uh if you want to use a post it&#39;s</p>
<p begin="00:49:55.160" end="00:49:59.040" style="s2">going to explain when you should use</p>
<p begin="00:49:56.799" end="00:50:00.799" style="s2">post but um I already know that for</p>
<p begin="00:49:59.040" end="00:50:02.280" style="s2">retrieving data it&#39;s usually a get</p>
<p begin="00:50:00.799" end="00:50:05.440" style="s2">operation so we&#39;re going to keep it as a</p>
<p begin="00:50:02.280" end="00:50:08.520" style="s2">get method now for the URL I&#39;m going to</p>
<p begin="00:50:05.440" end="00:50:10.440" style="s2">say uh to retrieve uh post we want to go</p>
<p begin="00:50:08.520" end="00:50:13.559" style="s2">to the slost</p>
<p begin="00:50:10.440" end="00:50:16.760" style="s2">URL so let&#39;s save this and then let&#39;s</p>
<p begin="00:50:13.559" end="00:50:18.240" style="s2">see um if we can retrieve that data so</p>
<p begin="00:50:16.760" end="00:50:20.400" style="s2">um if I hit refresh here it&#39;s going to</p>
<p begin="00:50:18.240" end="00:50:21.720" style="s2">say Hello World um but that&#39;s because if</p>
<p begin="00:50:20.400" end="00:50:24.400" style="s2">you take a look at this we&#39;re at the</p>
<p begin="00:50:21.720" end="00:50:27.240" style="s2">root path and that&#39;s going to match this</p>
<p begin="00:50:24.400" end="00:50:31.319" style="s2">specific path operation uh and this path</p>
<p begin="00:50:27.240" end="00:50:33.960" style="s2">operation on/ poost so if we go to SL</p>
<p begin="00:50:31.319" end="00:50:36.480" style="s2">posts and then hit enter take a look at</p>
<p begin="00:50:33.960" end="00:50:38.599" style="s2">that we have now got our data which is</p>
<p begin="00:50:36.480" end="00:50:40.760" style="s2">our post so we&#39;ve hit that second path</p>
<p begin="00:50:38.599" end="00:50:42.319" style="s2">operation that we just created and it</p>
<p begin="00:50:40.760" end="00:50:44.960" style="s2">really is as simple as that you just</p>
<p begin="00:50:42.319" end="00:50:47.400" style="s2">Define a function you define the HTTP</p>
<p begin="00:50:44.960" end="00:50:49.960" style="s2">method and then the URL now there&#39;s one</p>
<p begin="00:50:47.400" end="00:50:52.119" style="s2">thing to note and that is that um you</p>
<p begin="00:50:49.960" end="00:50:54.000" style="s2">know the way that fast API works is that</p>
<p begin="00:50:52.119" end="00:50:56.359" style="s2">when anytime we send a request to our</p>
<p begin="00:50:54.000" end="00:50:58.240" style="s2">API server uh it&#39;s going to actually go</p>
<p begin="00:50:56.359" end="00:51:00.040" style="s2">down the list of all of our path</p>
<p begin="00:50:58.240" end="00:51:01.920" style="s2">operations um and then it&#39;s going to</p>
<p begin="00:51:00.040" end="00:51:03.200" style="s2">find the first match and as soon as it</p>
<p begin="00:51:01.920" end="00:51:05.359" style="s2">finds the first match it&#39;s going to stop</p>
<p begin="00:51:03.200" end="00:51:08.200" style="s2">running your code so uh if I actually</p>
<p begin="00:51:05.359" end="00:51:09.920" style="s2">change this to just a SL URL just like</p>
<p begin="00:51:08.200" end="00:51:11.559" style="s2">this one above what do you think is</p>
<p begin="00:51:09.920" end="00:51:13.920" style="s2">going to happen right they both</p>
<p begin="00:51:11.559" end="00:51:16.280" style="s2">referenced the uh get method and they</p>
<p begin="00:51:13.920" end="00:51:18.319" style="s2">both reference the same URL so which one</p>
<p begin="00:51:16.280" end="00:51:20.160" style="s2">do you think is going to win well let&#39;s</p>
<p begin="00:51:18.319" end="00:51:23.319" style="s2">take a</p>
<p begin="00:51:20.160" end="00:51:25.480" style="s2">look if I do just the slash again it</p>
<p begin="00:51:23.319" end="00:51:27.839" style="s2">says hello world so it looks like the</p>
<p begin="00:51:25.480" end="00:51:29.599" style="s2">first one one and the reason for that is</p>
<p begin="00:51:27.839" end="00:51:31.280" style="s2">that once again fast API literally just</p>
<p begin="00:51:29.599" end="00:51:32.920" style="s2">goes to the code and it looks for the</p>
<p begin="00:51:31.280" end="00:51:35.040" style="s2">first match so there&#39;s really only two</p>
<p begin="00:51:32.920" end="00:51:37.200" style="s2">criteria in this case what&#39;s the HTTP</p>
<p begin="00:51:35.040" end="00:51:38.480" style="s2">method it&#39;s a get so anytime you go you</p>
<p begin="00:51:37.200" end="00:51:39.720" style="s2">work in your browser your browser is</p>
<p begin="00:51:38.480" end="00:51:42.240" style="s2">always going to send a get method by</p>
<p begin="00:51:39.720" end="00:51:44.880" style="s2">default and then what&#39;s the URL so the</p>
<p begin="00:51:42.240" end="00:51:46.480" style="s2">URL is a/ URL so it matches this one and</p>
<p begin="00:51:44.880" end="00:51:48.640" style="s2">it does not continue past that so it</p>
<p begin="00:51:46.480" end="00:51:52.480" style="s2">never runs this code so it sends that</p>
<p begin="00:51:48.640" end="00:51:54.920" style="s2">back now if I took this copied it and</p>
<p begin="00:51:52.480" end="00:51:56.920" style="s2">moved it at to the</p>
<p begin="00:51:54.920" end="00:51:58.520" style="s2">top what do you think is going to happen</p>
<p begin="00:51:56.920" end="00:52:00.799" style="s2">which one you think&#39;s going to run well</p>
<p begin="00:51:58.520" end="00:52:03.240" style="s2">let&#39;s hit refresh look at that so that</p>
<p begin="00:52:00.799" end="00:52:04.760" style="s2">one Ran So the first path operation that</p>
<p begin="00:52:03.240" end="00:52:06.839" style="s2">matches is always going to be the one</p>
<p begin="00:52:04.760" end="00:52:09.760" style="s2">that runs simple as that so the order</p>
<p begin="00:52:06.839" end="00:52:11.280" style="s2">does in fact matter however if I change</p>
<p begin="00:52:09.760" end="00:52:14.359" style="s2">this to</p>
<p begin="00:52:11.280" end="00:52:17.480" style="s2">posts and and leave this at the</p>
<p begin="00:52:14.359" end="00:52:20.000" style="s2">top right if I hit refresh we get hello</p>
<p begin="00:52:17.480" end="00:52:23.359" style="s2">world so what happened was fast API went</p>
<p begin="00:52:20.000" end="00:52:25.480" style="s2">on the list right and it received a</p>
<p begin="00:52:23.359" end="00:52:27.960" style="s2">request that uh let me just put some</p>
<p begin="00:52:25.480" end="00:52:29.839" style="s2">comments so the request reest comes in</p>
<p begin="00:52:27.960" end="00:52:32.559" style="s2">uh sorry that&#39;s not the way to comment</p>
<p begin="00:52:29.839" end="00:52:35.599" style="s2">in Python request comes in with a get</p>
<p begin="00:52:32.559" end="00:52:40.160" style="s2">method and it comes in with the uh the</p>
<p begin="00:52:35.599" end="00:52:41.960" style="s2">URL is going to be slash all right and</p>
<p begin="00:52:40.160" end="00:52:43.559" style="s2">so these are the two things that it</p>
<p begin="00:52:41.960" end="00:52:46.200" style="s2">looks for to match so it hits the first</p>
<p begin="00:52:43.559" end="00:52:48.040" style="s2">path operation so this is a get so those</p>
<p begin="00:52:46.200" end="00:52:50.119" style="s2">two match and then it looks at the URL</p>
<p begin="00:52:48.040" end="00:52:52.240" style="s2">which is slash uh but that does not</p>
<p begin="00:52:50.119" end="00:52:54.079" style="s2">match so it skips past this one and then</p>
<p begin="00:52:52.240" end="00:52:55.040" style="s2">it goes to the next one you know does</p>
<p begin="00:52:54.079" end="00:52:58.240" style="s2">and then it checks to see if that</p>
<p begin="00:52:55.040" end="00:53:00.520" style="s2">matches so then get matches the URL</p>
<p begin="00:52:58.240" end="00:53:02.200" style="s2">matches so then it returns hello world</p>
<p begin="00:53:00.520" end="00:53:03.240" style="s2">and that&#39;s why it returned hello world</p>
<p begin="00:53:02.200" end="00:53:05.440" style="s2">and the reason I wanted to highlight</p>
<p begin="00:53:03.240" end="00:53:07.640" style="s2">this is that the order in fact does</p>
<p begin="00:53:05.440" end="00:53:10.680" style="s2">matter so you have to keep that in mind</p>
<p begin="00:53:07.640" end="00:53:12.319" style="s2">and it can impact the way uh your API</p>
<p begin="00:53:10.680" end="00:53:15.119" style="s2">ultimately works so I&#39;m going to just</p>
<p begin="00:53:12.319" end="00:53:16.799" style="s2">take this move this to the bottom um but</p>
<p begin="00:53:15.119" end="00:53:20.040" style="s2">in this case the order doesn&#39;t matter</p>
<p begin="00:53:16.799" end="00:53:21.960" style="s2">because they&#39;re hitting two different uh</p>
<p begin="00:53:20.040" end="00:53:24.720" style="s2">paths or two different</p>
<p begin="00:53:21.960" end="00:53:27.480" style="s2">URLs till now we&#39;ve been using our web</p>
<p begin="00:53:24.720" end="00:53:28.559" style="s2">browser to generate h HTTP request to</p>
<p begin="00:53:27.480" end="00:53:31.920" style="s2">test our</p>
<p begin="00:53:28.559" end="00:53:34.960" style="s2">API and that&#39;s fine for now however once</p>
<p begin="00:53:31.920" end="00:53:36.440" style="s2">we start getting into more complex um</p>
<p begin="00:53:34.960" end="00:53:39.440" style="s2">path operations and routes so things</p>
<p begin="00:53:36.440" end="00:53:42.040" style="s2">that involve um having to send a HTTP</p>
<p begin="00:53:39.440" end="00:53:44.160" style="s2">put or patch uh or any of the other</p>
<p begin="00:53:42.040" end="00:53:45.839" style="s2">methods and having to send data to our</p>
<p begin="00:53:44.160" end="00:53:47.440" style="s2">API it gets very complicated because</p>
<p begin="00:53:45.839" end="00:53:49.559" style="s2">there&#39;s no way to natively do that in</p>
<p begin="00:53:47.440" end="00:53:52.480" style="s2">the browser without generating or</p>
<p begin="00:53:49.559" end="00:53:54.680" style="s2">building out a complete full front-end</p>
<p begin="00:53:52.480" end="00:53:55.960" style="s2">application and to test an API you</p>
<p begin="00:53:54.680" end="00:53:58.200" style="s2">shouldn&#39;t have to build an entire</p>
<p begin="00:53:55.960" end="00:54:00.440" style="s2">frontend application to do that that</p>
<p begin="00:53:58.200" end="00:54:02.160" style="s2">would be you know unmanageable</p>
<p begin="00:54:00.440" end="00:54:04.079" style="s2">unscalable and so there&#39;s a lot of</p>
<p begin="00:54:02.160" end="00:54:07.240" style="s2">different tools that we have uh that we</p>
<p begin="00:54:04.079" end="00:54:09.720" style="s2">can use to um test our API uh and so one</p>
<p begin="00:54:07.240" end="00:54:12.440" style="s2">of these tools is called Postman so if</p>
<p begin="00:54:09.720" end="00:54:14.200" style="s2">you go to post man.com downloads uh you</p>
<p begin="00:54:12.440" end="00:54:15.280" style="s2">can download this app so go ahead and</p>
<p begin="00:54:14.200" end="00:54:18.160" style="s2">just hit the download button it&#39;s going</p>
<p begin="00:54:15.280" end="00:54:21.000" style="s2">to automatically detect what your um</p>
<p begin="00:54:18.160" end="00:54:22.559" style="s2">operating system is but this is a very</p>
<p begin="00:54:21.000" end="00:54:25.319" style="s2">simple tool it&#39;s just a tool that allows</p>
<p begin="00:54:22.559" end="00:54:27.559" style="s2">us to construct our own HTTP requests so</p>
<p begin="00:54:25.319" end="00:54:29.240" style="s2">we get to specify the individual uh</p>
<p begin="00:54:27.559" end="00:54:31.400" style="s2">fields of an HTTP request so we could</p>
<p begin="00:54:29.240" end="00:54:33.559" style="s2">specify you know what is the HTTP method</p>
<p begin="00:54:31.400" end="00:54:35.040" style="s2">what&#39;s the URL uh what are the headers</p>
<p begin="00:54:33.559" end="00:54:36.640" style="s2">that we&#39;re going to apply what&#39;s the</p>
<p begin="00:54:35.040" end="00:54:37.520" style="s2">body what kind of data is that going to</p>
<p begin="00:54:36.640" end="00:54:39.440" style="s2">carry is it going to have any</p>
<p begin="00:54:37.520" end="00:54:41.119" style="s2">authorization headers so all of these</p>
<p begin="00:54:39.440" end="00:54:44.040" style="s2">things we get to construct in a nice</p>
<p begin="00:54:41.119" end="00:54:46.040" style="s2">gooey so that we can test our API so go</p>
<p begin="00:54:44.040" end="00:54:47.839" style="s2">ahead and download this now I&#39;ve already</p>
<p begin="00:54:46.040" end="00:54:49.880" style="s2">got it downloaded but once you&#39;ve got it</p>
<p begin="00:54:47.839" end="00:54:51.799" style="s2">downloaded open up the uh desktop</p>
<p begin="00:54:49.880" end="00:54:53.559" style="s2">application and you should see something</p>
<p begin="00:54:51.799" end="00:54:55.920" style="s2">like this right everything should be</p>
<p begin="00:54:53.559" end="00:54:58.640" style="s2">relatively empty and what we want to do</p>
<p begin="00:54:55.920" end="00:55:00.599" style="s2">is if we want to create a new httv</p>
<p begin="00:54:58.640" end="00:55:02.319" style="s2">request all we have to do is hit the</p>
<p begin="00:55:00.599" end="00:55:04.000" style="s2">plus button and before I do that what</p>
<p begin="00:55:02.319" end="00:55:06.960" style="s2">I&#39;m going to do is um let&#39;s change this</p>
<p begin="00:55:04.000" end="00:55:08.760" style="s2">to dark themes so themes I think this</p>
<p begin="00:55:06.960" end="00:55:11.400" style="s2">looks a little bit better yeah that</p>
<p begin="00:55:08.760" end="00:55:12.760" style="s2">looks a lot better and I&#39;m also going to</p>
<p begin="00:55:11.400" end="00:55:14.839" style="s2">zoom in for you</p>
<p begin="00:55:12.760" end="00:55:16.839" style="s2">guys uh let&#39;s make it a little bit more</p>
<p begin="00:55:14.839" end="00:55:19.160" style="s2">there you go hopefully that&#39;s nice and</p>
<p begin="00:55:16.839" end="00:55:20.880" style="s2">easy for you guys to see now so what we</p>
<p begin="00:55:19.160" end="00:55:23.039" style="s2">want to do is let&#39;s create a new HTTP</p>
<p begin="00:55:20.880" end="00:55:24.839" style="s2">request so hit this plus button and you</p>
<p begin="00:55:23.039" end="00:55:26.319" style="s2">can see that this provides us all of the</p>
<p begin="00:55:24.839" end="00:55:27.880" style="s2">fields that we need to actually create</p>
<p begin="00:55:26.319" end="00:55:30.200" style="s2">create an HTTP request so the first</p>
<p begin="00:55:27.880" end="00:55:32.400" style="s2">thing that we need to do is specify</p>
<p begin="00:55:30.200" end="00:55:33.480" style="s2">what&#39;s the HTTP method so if we go back</p>
<p begin="00:55:32.400" end="00:55:36.480" style="s2">to our</p>
<p begin="00:55:33.480" end="00:55:37.680" style="s2">code right we only have get requests so</p>
<p begin="00:55:36.480" end="00:55:39.640" style="s2">whether we want to hit either one of</p>
<p begin="00:55:37.680" end="00:55:42.280" style="s2">these path operations it&#39;s going to have</p>
<p begin="00:55:39.640" end="00:55:43.599" style="s2">to be a get request so we&#39;re going to</p>
<p begin="00:55:42.280" end="00:55:46.079" style="s2">leave it as get but you can see we have</p>
<p begin="00:55:43.599" end="00:55:48.440" style="s2">all the other whoops we have all of the</p>
<p begin="00:55:46.079" end="00:55:50.559" style="s2">other options then we have to specify</p>
<p begin="00:55:48.440" end="00:55:52.960" style="s2">the URL so this is no different than the</p>
<p begin="00:55:50.559" end="00:55:56.559" style="s2">URL that we went to in our browser we</p>
<p begin="00:55:52.960" end="00:55:59.079" style="s2">just copy this URL</p>
<p begin="00:55:56.559" end="00:56:01.760" style="s2">and we actually need the HTTP in there</p>
<p begin="00:55:59.079" end="00:56:03.880" style="s2">as well probably so um if we actually go</p>
<p begin="00:56:01.760" end="00:56:06.160" style="s2">back to our server and see where we</p>
<p begin="00:56:03.880" end="00:56:09.680" style="s2">started it and actually the best way to</p>
<p begin="00:56:06.160" end="00:56:10.839" style="s2">get the URL is just to stop it start it</p>
<p begin="00:56:09.680" end="00:56:13.680" style="s2">and then that&#39;s going to give us the URL</p>
<p begin="00:56:10.839" end="00:56:15.559" style="s2">so we just needed the HTTP</p>
<p begin="00:56:13.680" end="00:56:16.480" style="s2">beforehand and then we just paste that</p>
<p begin="00:56:15.559" end="00:56:19.400" style="s2">in</p>
<p begin="00:56:16.480" end="00:56:21.119" style="s2">there okay and so if I leave this as the</p>
<p begin="00:56:19.400" end="00:56:22.400" style="s2">um you know the root path whether I</p>
<p begin="00:56:21.119" end="00:56:24.960" style="s2">include the slash it doesn&#39;t really</p>
<p begin="00:56:22.400" end="00:56:27.599" style="s2">matter actually I can just hit</p>
<p begin="00:56:24.960" end="00:56:29.319" style="s2">send and look at this this is the result</p>
<p begin="00:56:27.599" end="00:56:31.599" style="s2">that we got back from our API server so</p>
<p begin="00:56:29.319" end="00:56:33.799" style="s2">it says message hello world and once</p>
<p begin="00:56:31.599" end="00:56:36.440" style="s2">again you guys already know where that</p>
<p begin="00:56:33.799" end="00:56:39.240" style="s2">came from and that came from this</p>
<p begin="00:56:36.440" end="00:56:40.760" style="s2">specific return statement and so you</p>
<p begin="00:56:39.240" end="00:56:42.520" style="s2">could see that this is so much easier</p>
<p begin="00:56:40.760" end="00:56:44.640" style="s2">than using a web browser well you guys</p>
<p begin="00:56:42.520" end="00:56:46.520" style="s2">may not notice how easy it is at this</p>
<p begin="00:56:44.640" end="00:56:48.160" style="s2">point but once we get to constructing</p>
<p begin="00:56:46.520" end="00:56:49.599" style="s2">more complex path operations you&#39;ll see</p>
<p begin="00:56:48.160" end="00:56:51.319" style="s2">that it&#39;s so much easier to use a tool</p>
<p begin="00:56:49.599" end="00:56:53.079" style="s2">like this and keep in mind this isn&#39;t</p>
<p begin="00:56:51.319" end="00:56:55.200" style="s2">the only tool that does this there are</p>
<p begin="00:56:53.079" end="00:56:56.799" style="s2">plenty of other um applications that</p>
<p begin="00:56:55.200" end="00:56:58.599" style="s2">also do this this is just the one that</p>
<p begin="00:56:56.799" end="00:57:00.520" style="s2">I&#39;m familiar with and the one that I use</p>
<p begin="00:56:58.599" end="00:57:02.559" style="s2">but I don&#39;t want to you know Force any</p>
<p begin="00:57:00.520" end="00:57:04.000" style="s2">specific application down your throat</p>
<p begin="00:57:02.559" end="00:57:05.680" style="s2">you guys can use whichever one you want</p>
<p begin="00:57:04.000" end="00:57:08.319" style="s2">so if you already Ed one that you prefer</p>
<p begin="00:57:05.680" end="00:57:10.079" style="s2">feel free to stick with it but before we</p>
<p begin="00:57:08.319" end="00:57:12.920" style="s2">wrap up this video Let&#39;s just test out</p>
<p begin="00:57:10.079" end="00:57:15.000" style="s2">our other um specific path so this one&#39;s</p>
<p begin="00:57:12.920" end="00:57:17.960" style="s2">going to reside on SL poost we&#39;re going</p>
<p begin="00:57:15.000" end="00:57:19.839" style="s2">to try that we&#39;ll do SL poost we&#39;ll hit</p>
<p begin="00:57:17.960" end="00:57:21.799" style="s2">send and look at that we got our data</p>
<p begin="00:57:19.839" end="00:57:23.839" style="s2">that says this is your posts so now we</p>
<p begin="00:57:21.799" end="00:57:26.720" style="s2">were successfully able to test both of</p>
<p begin="00:57:23.839" end="00:57:28.280" style="s2">our path operations using Postman and</p>
<p begin="00:57:26.720" end="00:57:29.960" style="s2">moving forward for the rest of this</p>
<p begin="00:57:28.280" end="00:57:31.839" style="s2">course we&#39;re no longer going to use the</p>
<p begin="00:57:29.960" end="00:57:34.520" style="s2">web browser we&#39;re going to use Postman</p>
<p begin="00:57:31.839" end="00:57:37.599" style="s2">to test out our</p>
<p begin="00:57:34.520" end="00:57:40.359" style="s2">API till now we&#39;ve only been working</p>
<p begin="00:57:37.599" end="00:57:42.799" style="s2">with get requests so all of the HTTP</p>
<p begin="00:57:40.359" end="00:57:45.079" style="s2">requests we&#39;ve sent to our API all have</p>
<p begin="00:57:42.799" end="00:57:46.640" style="s2">been get requests and so now we&#39;re going</p>
<p begin="00:57:45.079" end="00:57:47.880" style="s2">to learn about post requests and they&#39;re</p>
<p begin="00:57:46.640" end="00:57:49.640" style="s2">a little bit different and I want to</p>
<p begin="00:57:47.880" end="00:57:51.839" style="s2">kind of highlight what makes post</p>
<p begin="00:57:49.640" end="00:57:53.400" style="s2">requests different than get requests now</p>
<p begin="00:57:51.839" end="00:57:55.400" style="s2">we&#39;re going to compare the two right now</p>
<p begin="00:57:53.400" end="00:57:57.640" style="s2">and I&#39;ve drawn out a little diagram for</p>
<p begin="00:57:55.400" end="00:58:00.079" style="s2">us so at the left side we&#39;ve got our web</p>
<p begin="00:57:57.640" end="00:58:01.880" style="s2">browser or it could be our mobile device</p>
<p begin="00:58:00.079" end="00:58:03.799" style="s2">depending on whatever the front end is</p>
<p begin="00:58:01.880" end="00:58:06.079" style="s2">and on the right side we&#39;ve got our API</p>
<p begin="00:58:03.799" end="00:58:07.680" style="s2">server so this is our fast API server</p>
<p begin="00:58:06.079" end="00:58:10.160" style="s2">now with a get request what we do is we</p>
<p begin="00:58:07.680" end="00:58:11.799" style="s2">just send an HTTP get requests and then</p>
<p begin="00:58:10.160" end="00:58:14.000" style="s2">we send that to our API server and then</p>
<p begin="00:58:11.799" end="00:58:15.240" style="s2">our API server sends back uh some kind</p>
<p begin="00:58:14.000" end="00:58:16.200" style="s2">of data depending on what they&#39;re trying</p>
<p begin="00:58:15.240" end="00:58:17.599" style="s2">to get so if they&#39;re trying to get a</p>
<p begin="00:58:16.200" end="00:58:20.400" style="s2">whole bunch of posts we send back the</p>
<p begin="00:58:17.599" end="00:58:23.480" style="s2">posts now with a post request it&#39;s going</p>
<p begin="00:58:20.400" end="00:58:25.160" style="s2">to be similar except there&#39;s one minor</p>
<p begin="00:58:23.480" end="00:58:27.640" style="s2">difference and that is that with a post</p>
<p begin="00:58:25.160" end="00:58:30.000" style="s2">request we can send data to the API</p>
<p begin="00:58:27.640" end="00:58:31.799" style="s2">server so in this case a lot of times</p>
<p begin="00:58:30.000" end="00:58:34.400" style="s2">what you use a post request for is for</p>
<p begin="00:58:31.799" end="00:58:37.039" style="s2">creating things so if I want to create a</p>
<p begin="00:58:34.400" end="00:58:39.119" style="s2">post I would when I say post I mean like</p>
<p begin="00:58:37.039" end="00:58:41.640" style="s2">a social media post not post as in post</p>
<p begin="00:58:39.119" end="00:58:43.880" style="s2">request but if I wanted to create a a</p>
<p begin="00:58:41.640" end="00:58:46.240" style="s2">social media post I would send an HTTP</p>
<p begin="00:58:43.880" end="00:58:50.000" style="s2">post request and I would include all of</p>
<p begin="00:58:46.240" end="00:58:51.920" style="s2">the data needed to create a post on my</p>
<p begin="00:58:50.000" end="00:58:54.200" style="s2">API server so we&#39;ll send that data over</p>
<p begin="00:58:51.920" end="00:58:55.599" style="s2">to the API server and the API server</p>
<p begin="00:58:54.200" end="00:58:58.359" style="s2">will send back whatever data it thinks</p>
<p begin="00:58:55.599" end="00:59:00.880" style="s2">it needs to to send and so in real life</p>
<p begin="00:58:58.359" end="00:59:02.480" style="s2">if we were trying to create a post you</p>
<p begin="00:59:00.880" end="00:59:04.079" style="s2">we would include whatever data we needed</p>
<p begin="00:59:02.480" end="00:59:05.440" style="s2">for a post so in this case we would</p>
<p begin="00:59:04.079" end="00:59:07.160" style="s2">include What&#39;s the title of the post</p>
<p begin="00:59:05.440" end="00:59:08.880" style="s2">what&#39;s the content of the post what&#39;s</p>
<p begin="00:59:07.160" end="00:59:12.160" style="s2">the user of the post we send that to the</p>
<p begin="00:59:08.880" end="00:59:13.680" style="s2">API server the API can server can then</p>
<p begin="00:59:12.160" end="00:59:15.200" style="s2">talk to whatever database to actually</p>
<p begin="00:59:13.680" end="00:59:16.760" style="s2">create the post and then it can send</p>
<p begin="00:59:15.200" end="00:59:19.359" style="s2">back some data you know something like</p>
<p begin="00:59:16.760" end="00:59:21.160" style="s2">hey I&#39;ve successfully created the post</p>
<p begin="00:59:19.359" end="00:59:22.799" style="s2">um and then here&#39;s the final post after</p>
<p begin="00:59:21.160" end="00:59:25.359" style="s2">I created it and then send that send</p>
<p begin="00:59:22.799" end="00:59:27.520" style="s2">those details back to your web browser</p>
<p begin="00:59:25.359" end="00:59:29.839" style="s2">or your mobile devices so think of it</p>
<p begin="00:59:27.520" end="00:59:32.599" style="s2">like this a get request is basically</p>
<p begin="00:59:29.839" end="00:59:34.880" style="s2">saying hey API server give me some data</p>
<p begin="00:59:32.599" end="00:59:36.839" style="s2">whereas a post request is saying hey API</p>
<p begin="00:59:34.880" end="00:59:38.400" style="s2">server here&#39;s some data do whatever you</p>
<p begin="00:59:36.839" end="00:59:41.640" style="s2">need to do with it so it&#39;s like so it</p>
<p begin="00:59:38.400" end="00:59:44.400" style="s2">really controls the direction uh of flow</p>
<p begin="00:59:41.640" end="00:59:47.400" style="s2">of data uh between the frontend and the</p>
<p begin="00:59:44.400" end="00:59:49.119" style="s2">API server so get requests are getting</p>
<p begin="00:59:47.400" end="00:59:51.200" style="s2">data from the API server whereas a post</p>
<p begin="00:59:49.119" end="00:59:54.160" style="s2">request is sending data to the API</p>
<p begin="00:59:51.200" end="00:59:56.359" style="s2">server so now that we have a basic</p>
<p begin="00:59:54.160" end="00:59:58.559" style="s2">understanding of how post requests work</p>
<p begin="00:59:56.359" end="01:00:00.480" style="s2">let&#39;s go back to our codee and see if we</p>
<p begin="00:59:58.559" end="01:00:03.079" style="s2">can create a path operation for a post</p>
<p begin="01:00:00.480" end="01:00:04.599" style="s2">request so let&#39;s go below our last path</p>
<p begin="01:00:03.079" end="01:00:07.000" style="s2">operation which was for getting posts</p>
<p begin="01:00:04.599" end="01:00:08.839" style="s2">and let&#39;s create one for creating posts</p>
<p begin="01:00:07.000" end="01:00:10.799" style="s2">so first things first let&#39;s uh let&#39;s</p>
<p begin="01:00:08.839" end="01:00:13.240" style="s2">just actually create our decorator first</p>
<p begin="01:00:10.799" end="01:00:15.079" style="s2">we&#39;ll do app Dot and instead of guest uh</p>
<p begin="01:00:13.240" end="01:00:17.760" style="s2">sorry instead of get we&#39;re going to say</p>
<p begin="01:00:15.079" end="01:00:19.119" style="s2">post so that&#39;s all it takes to convert a</p>
<p begin="01:00:17.760" end="01:00:21.359" style="s2">traditional get request to a post</p>
<p begin="01:00:19.119" end="01:00:22.920" style="s2">request you just say poost and then once</p>
<p begin="01:00:21.359" end="01:00:24.760" style="s2">again we&#39;re going to say whatever</p>
<p begin="01:00:22.920" end="01:00:26.799" style="s2">specific URL the user should go to to</p>
<p begin="01:00:24.760" end="01:00:28.079" style="s2">actually create the post uh now I&#39;m</p>
<p begin="01:00:26.799" end="01:00:29.680" style="s2">going to do something a little bit bad</p>
<p begin="01:00:28.079" end="01:00:32.039" style="s2">I&#39;m going to say the path that we want</p>
<p begin="01:00:29.680" end="01:00:33.520" style="s2">to go to is called create post and if</p>
<p begin="01:00:32.039" end="01:00:35.559" style="s2">you&#39;ve ever worked with apis this is</p>
<p begin="01:00:33.520" end="01:00:37.000" style="s2">kind of going against best practice but</p>
<p begin="01:00:35.559" end="01:00:39.680" style="s2">don&#39;t worry we&#39;ll correct this in the</p>
<p begin="01:00:37.000" end="01:00:41.000" style="s2">next lesson um because there are certain</p>
<p begin="01:00:39.680" end="01:00:43.280" style="s2">best practices it&#39;s not going to break</p>
<p begin="01:00:41.000" end="01:00:44.559" style="s2">our application by any means uh we&#39;ll</p>
<p begin="01:00:43.280" end="01:00:46.319" style="s2">say this and then we&#39;ll say defa and</p>
<p begin="01:00:44.559" end="01:00:48.319" style="s2">then here we&#39;ll just name our function</p>
<p begin="01:00:46.319" end="01:00:51.440" style="s2">I&#39;ll just say create post like I said</p>
<p begin="01:00:48.319" end="01:00:51.440" style="s2">the name of the function never</p>
<p begin="01:00:51.559" end="01:00:56.319" style="s2">matters and then here which all we&#39;re</p>
<p begin="01:00:53.599" end="01:00:59.920" style="s2">going to do is we&#39;re going to</p>
<p begin="01:00:56.319" end="01:01:03.720" style="s2">return uh we&#39;ll say message oops</p>
<p begin="01:00:59.920" end="01:01:06.960" style="s2">message and then uh we&#39;ll say</p>
<p begin="01:01:03.720" end="01:01:10.440" style="s2">successfully created</p>
<p begin="01:01:06.960" end="01:01:13.839" style="s2">posts so let&#39;s save that and let&#39;s go to</p>
<p begin="01:01:10.440" end="01:01:15.480" style="s2">our uh Postman and so we&#39;ve got already</p>
<p begin="01:01:13.839" end="01:01:16.920" style="s2">one request so I could just change this</p>
<p begin="01:01:15.480" end="01:01:19.480" style="s2">to</p>
<p begin="01:01:16.920" end="01:01:21.920" style="s2">post and then we have to change the url</p>
<p begin="01:01:19.480" end="01:01:23.480" style="s2">in this case so we&#39;ll go back and see</p>
<p begin="01:01:21.920" end="01:01:27.680" style="s2">it&#39;s at create post so it&#39;s going to be</p>
<p begin="01:01:23.480" end="01:01:29.520" style="s2">at create post</p>
<p begin="01:01:27.680" end="01:01:31.319" style="s2">and let&#39;s hit send and let&#39;s see what</p>
<p begin="01:01:29.520" end="01:01:32.839" style="s2">happens look at that message</p>
<p begin="01:01:31.319" end="01:01:35.960" style="s2">successfully created so we have</p>
<p begin="01:01:32.839" end="01:01:38.400" style="s2">successfully sent a post request to our</p>
<p begin="01:01:35.960" end="01:01:41.160" style="s2">API now one thing I like to do with</p>
<p begin="01:01:38.400" end="01:01:43.359" style="s2">Postman is that you can create multiple</p>
<p begin="01:01:41.160" end="01:01:45.119" style="s2">requests and then have them saved so um</p>
<p begin="01:01:43.359" end="01:01:46.720" style="s2">I&#39;m going to actually change this back</p>
<p begin="01:01:45.119" end="01:01:49.319" style="s2">to just go to</p>
<p begin="01:01:46.720" end="01:01:50.359" style="s2">post and then go to get and then we&#39;ll</p>
<p begin="01:01:49.319" end="01:01:52.559" style="s2">keep that and what we can do is we can</p>
<p begin="01:01:50.359" end="01:01:55.359" style="s2">just add another request and so I&#39;m just</p>
<p begin="01:01:52.559" end="01:01:56.920" style="s2">going to copy the URL here we&#39;re going</p>
<p begin="01:01:55.359" end="01:01:58.920" style="s2">to paste this and then this is actually</p>
<p begin="01:01:56.920" end="01:02:01.079" style="s2">going to be create posts and then this</p>
<p begin="01:01:58.920" end="01:02:03.799" style="s2">going to be a post request and so now we</p>
<p begin="01:02:01.079" end="01:02:05.440" style="s2">can hit a get request and then hit a</p>
<p begin="01:02:03.799" end="01:02:07.359" style="s2">post request really quickly because</p>
<p begin="01:02:05.440" end="01:02:08.359" style="s2">they&#39;re essentially uh we&#39;ve got them in</p>
<p begin="01:02:07.359" end="01:02:10.240" style="s2">two different</p>
<p begin="01:02:08.359" end="01:02:12.119" style="s2">windows and let&#39;s just quickly double</p>
<p begin="01:02:10.240" end="01:02:13.720" style="s2">check that still works that&#39;s good and</p>
<p begin="01:02:12.119" end="01:02:15.240" style="s2">then let&#39;s double check it get post that</p>
<p begin="01:02:13.720" end="01:02:18.359" style="s2">still works</p>
<p begin="01:02:15.240" end="01:02:20.119" style="s2">perfect now that&#39;s cool and all however</p>
<p begin="01:02:18.359" end="01:02:23.119" style="s2">the whole idea behind a post request is</p>
<p begin="01:02:20.119" end="01:02:24.839" style="s2">to send some data to our API server so</p>
<p begin="01:02:23.119" end="01:02:27.079" style="s2">how do we do that well let&#39;s go to our</p>
<p begin="01:02:24.839" end="01:02:30.279" style="s2">post request and what we want to do is</p>
<p begin="01:02:27.079" end="01:02:33.880" style="s2">um we want to send some data in the body</p>
<p begin="01:02:30.279" end="01:02:36.039" style="s2">of the request and to do that within uh</p>
<p begin="01:02:33.880" end="01:02:38.039" style="s2">Postman you would go to the body section</p>
<p begin="01:02:36.039" end="01:02:41.000" style="s2">right here and then within body what we</p>
<p begin="01:02:38.039" end="01:02:43.319" style="s2">want to do is go to raw and then select</p>
<p begin="01:02:41.000" end="01:02:45.520" style="s2">the type and normally when you&#39;re</p>
<p begin="01:02:43.319" end="01:02:48.200" style="s2">working with apis um you want to use</p>
<p begin="01:02:45.520" end="01:02:51.079" style="s2">Json however you can use a XML and a few</p>
<p begin="01:02:48.200" end="01:02:53.079" style="s2">others however most people use Json so</p>
<p begin="01:02:51.079" end="01:02:56.359" style="s2">we&#39;ll select</p>
<p begin="01:02:53.079" end="01:02:58.799" style="s2">Json and then we&#39;ll do and Jon looks</p>
<p begin="01:02:56.359" end="01:03:01.279" style="s2">very it operates very similarly to a</p>
<p begin="01:02:58.799" end="01:03:02.960" style="s2">python dictionary so it&#39;s uh you know</p>
<p begin="01:03:01.279" end="01:03:05.640" style="s2">curly braces and then it&#39;s going to be a</p>
<p begin="01:03:02.960" end="01:03:07.880" style="s2">whole bunch of key value pairs so here</p>
<p begin="01:03:05.640" end="01:03:09.920" style="s2">I&#39;ll say What&#39;s the title of my post</p>
<p begin="01:03:07.880" end="01:03:14.200" style="s2">well title of my post is going to be say</p>
<p begin="01:03:09.920" end="01:03:14.200" style="s2">we&#39;ll say top beaches in</p>
<p begin="01:03:15.400" end="01:03:20.760" style="s2">Florida and then the content of the post</p>
<p begin="01:03:19.599" end="01:03:26.440" style="s2">is going to</p>
<p begin="01:03:20.760" end="01:03:26.440" style="s2">say check out these awesome be beaches</p>
<p begin="01:03:28.160" end="01:03:31.640" style="s2">all right and so now if we hit send</p>
<p begin="01:03:30.599" end="01:03:33.799" style="s2">let&#39;s see what</p>
<p begin="01:03:31.640" end="01:03:36.160" style="s2">happens great so it says successfully</p>
<p begin="01:03:33.799" end="01:03:39.160" style="s2">create post so we successfully um hit</p>
<p begin="01:03:36.160" end="01:03:42.000" style="s2">this end point but in our path operation</p>
<p begin="01:03:39.160" end="01:03:44.079" style="s2">how do we actually extract the data that</p>
<p begin="01:03:42.000" end="01:03:46.920" style="s2">we sent in the body how do we retrieve</p>
<p begin="01:03:44.079" end="01:03:50.160" style="s2">that body data well what we can do is</p>
<p begin="01:03:46.920" end="01:03:52.200" style="s2">within our path operation function I can</p>
<p begin="01:03:50.160" end="01:03:53.839" style="s2">say uh I can just assign it some</p>
<p begin="01:03:52.200" end="01:03:56.000" style="s2">variable so what variable do we want to</p>
<p begin="01:03:53.839" end="01:03:57.440" style="s2">store all that body data you can pick</p>
<p begin="01:03:56.000" end="01:03:58.920" style="s2">any name you want I&#39;m just going to say</p>
<p begin="01:03:57.440" end="01:04:00.480" style="s2">this represents payload out like it</p>
<p begin="01:03:58.920" end="01:04:03.079" style="s2">could be something like body or anything</p>
<p begin="01:04:00.480" end="01:04:04.520" style="s2">else so we&#39;ll say payload and then what</p>
<p begin="01:04:03.079" end="01:04:06.880" style="s2">we want to do is call</p>
<p begin="01:04:04.520" end="01:04:09.079" style="s2">in and then we want to say it&#39;s going to</p>
<p begin="01:04:06.880" end="01:04:11.839" style="s2">be of a type</p>
<p begin="01:04:09.079" end="01:04:14.760" style="s2">dict and we want to set this equal to</p>
<p begin="01:04:11.839" end="01:04:16.680" style="s2">body and we want to import this so This</p>
<p begin="01:04:14.760" end="01:04:18.760" style="s2">is actually something that comes from</p>
<p begin="01:04:16.680" end="01:04:21.079" style="s2">the fast API Library so if you</p>
<p begin="01:04:18.760" end="01:04:22.319" style="s2">do tab if you hit tab it&#39;s going to</p>
<p begin="01:04:21.079" end="01:04:26.039" style="s2">automatically import it or you can</p>
<p begin="01:04:22.319" end="01:04:28.640" style="s2">select it so you hit body and then</p>
<p begin="01:04:26.039" end="01:04:31.160" style="s2">do that and then triple</p>
<p begin="01:04:28.640" end="01:04:33.680" style="s2">dots and just to keep in mind right if</p>
<p begin="01:04:31.160" end="01:04:35.760" style="s2">you see that from Fast API pams it</p>
<p begin="01:04:33.680" end="01:04:39.079" style="s2">imported body so what this is going to</p>
<p begin="01:04:35.760" end="01:04:42.160" style="s2">do is uh it&#39;s going to extract all of</p>
<p begin="01:04:39.079" end="01:04:43.880" style="s2">the fields from the body it&#39;s going to</p>
<p begin="01:04:42.160" end="01:04:45.960" style="s2">basically convert it to a python</p>
<p begin="01:04:43.880" end="01:04:49.000" style="s2">dictionary and it&#39;s going to store it</p>
<p begin="01:04:45.960" end="01:04:50.520" style="s2">inside a variable named payload pretty</p>
<p begin="01:04:49.000" end="01:04:52.279" style="s2">simple and all we have to do is let&#39;s</p>
<p begin="01:04:50.520" end="01:04:57.000" style="s2">say</p>
<p begin="01:04:52.279" end="01:04:57.000" style="s2">print let&#39;s just print out payload</p>
<p begin="01:04:57.559" end="01:05:04.720" style="s2">now if we hit that post request</p>
<p begin="01:05:01.520" end="01:05:06.160" style="s2">again look at this right here we can see</p>
<p begin="01:05:04.720" end="01:05:08.240" style="s2">that it converted into a python</p>
<p begin="01:05:06.160" end="01:05:11.200" style="s2">dictionary and we extracted the title</p>
<p begin="01:05:08.240" end="01:05:13.599" style="s2">field as well as the content field and</p>
<p begin="01:05:11.200" end="01:05:16.720" style="s2">so that&#39;s how we extract the data from</p>
<p begin="01:05:13.599" end="01:05:19.520" style="s2">the body of the payload all right and</p>
<p begin="01:05:16.720" end="01:05:22.839" style="s2">just to quickly recap once again we</p>
<p begin="01:05:19.520" end="01:05:24.640" style="s2">imported body from fast api. prams and</p>
<p begin="01:05:22.839" end="01:05:26.559" style="s2">we let vs code do it automatically for</p>
<p begin="01:05:24.640" end="01:05:28.119" style="s2">us I always recommend let vs code do it</p>
<p begin="01:05:26.559" end="01:05:30.880" style="s2">for you so that you don&#39;t have to</p>
<p begin="01:05:28.119" end="01:05:34.000" style="s2">memorize uh and remember you know where</p>
<p begin="01:05:30.880" end="01:05:37.160" style="s2">in the fast API Library uh this uh this</p>
<p begin="01:05:34.000" end="01:05:38.760" style="s2">property stored so we&#39;re taking this</p>
<p begin="01:05:37.160" end="01:05:40.960" style="s2">taking the body and then we&#39;re</p>
<p begin="01:05:38.760" end="01:05:42.319" style="s2">converting it into a dictionary and then</p>
<p begin="01:05:40.960" end="01:05:43.640" style="s2">we&#39;re storing it inside a property</p>
<p begin="01:05:42.319" end="01:05:46.039" style="s2">called payload but you can name this</p>
<p begin="01:05:43.640" end="01:05:48.119" style="s2">whatever you</p>
<p begin="01:05:46.039" end="01:05:51.319" style="s2">want and so what we can do is we can</p>
<p begin="01:05:48.119" end="01:05:54.400" style="s2">take this data and then we can say um</p>
<p begin="01:05:51.319" end="01:05:56.799" style="s2">let&#39;s say we&#39;re going to return back uh</p>
<p begin="01:05:54.400" end="01:06:00.200" style="s2">new uh new post and then we&#39;re just</p>
<p begin="01:05:56.799" end="01:06:02.440" style="s2">going to send the data so we&#39;ll say</p>
<p begin="01:06:00.200" end="01:06:04.839" style="s2">title and we can actually change this to</p>
<p begin="01:06:02.440" end="01:06:04.839" style="s2">a F</p>
<p begin="01:06:04.960" end="01:06:08.559" style="s2">string and we&#39;ll say</p>
<p begin="01:06:10.880" end="01:06:16.400" style="s2">title and then we can pass in payload uh</p>
<p begin="01:06:14.480" end="01:06:19.400" style="s2">and you&#39;ll see that it&#39;s we can just</p>
<p begin="01:06:16.400" end="01:06:19.400" style="s2">reference the title</p>
<p begin="01:06:20.200" end="01:06:25.799" style="s2">property because it&#39;s just a regular</p>
<p begin="01:06:22.400" end="01:06:29.160" style="s2">python dictionary and we&#39;ll say that the</p>
<p begin="01:06:25.799" end="01:06:32.160" style="s2">content is going to</p>
<p begin="01:06:29.160" end="01:06:32.160" style="s2">be</p>
<p begin="01:06:32.200" end="01:06:35.200" style="s2">payload</p>
<p begin="01:06:37.920" end="01:06:42.640" style="s2">content so let&#39;s save that and then now</p>
<p begin="01:06:41.359" end="01:06:45.000" style="s2">let&#39;s hit</p>
<p begin="01:06:42.640" end="01:06:47.480" style="s2">send now look at this we got our new</p>
<p begin="01:06:45.000" end="01:06:49.880" style="s2">post and it s whoops it looks like I</p>
<p begin="01:06:47.480" end="01:06:52.119" style="s2">made a mistake yeah no actually that&#39;s</p>
<p begin="01:06:49.880" end="01:06:56.559" style="s2">correct title top beaches in Florida</p>
<p begin="01:06:52.119" end="01:06:56.559" style="s2">content check out these awesome beaches</p>
<p begin="01:06:56.799" end="01:07:01.200" style="s2">so that&#39;s pretty simple guys I showed</p>
<p begin="01:06:58.279" end="01:07:03.839" style="s2">you guys how to not only send data in</p>
<p begin="01:07:01.200" end="01:07:06.240" style="s2">the body within a postman request we&#39;re</p>
<p begin="01:07:03.839" end="01:07:08.640" style="s2">also able to extract that data and send</p>
<p begin="01:07:06.240" end="01:07:11.079" style="s2">it right back to the user now in a real</p>
<p begin="01:07:08.640" end="01:07:13.039" style="s2">application we would take the data and</p>
<p begin="01:07:11.079" end="01:07:14.920" style="s2">then we would normally store that data</p>
<p begin="01:07:13.039" end="01:07:17.319" style="s2">inside our database so that we can</p>
<p begin="01:07:14.920" end="01:07:19.000" style="s2">create a new post stored in the database</p>
<p begin="01:07:17.319" end="01:07:21.000" style="s2">and then now anytime the user tries to</p>
<p begin="01:07:19.000" end="01:07:22.200" style="s2">retrieve the post we can fetch that data</p>
<p begin="01:07:21.000" end="01:07:24.559" style="s2">from the database we don&#39;t have a</p>
<p begin="01:07:22.200" end="01:07:26.160" style="s2">database set up just yet so for now I&#39;m</p>
<p begin="01:07:24.559" end="01:07:29.160" style="s2">just showing you guys how to extract</p>
<p begin="01:07:26.160" end="01:07:31.400" style="s2">that data and then send it back in the</p>
<p begin="01:07:29.160" end="01:07:33.279" style="s2">request in the last lecture we learned</p>
<p begin="01:07:31.400" end="01:07:35.000" style="s2">about how to work with post requests we</p>
<p begin="01:07:33.279" end="01:07:37.160" style="s2">learned about how to send data in the</p>
<p begin="01:07:35.000" end="01:07:39.079" style="s2">body using Postman as well as how to</p>
<p begin="01:07:37.160" end="01:07:40.920" style="s2">extract that data within our path</p>
<p begin="01:07:39.079" end="01:07:43.279" style="s2">operations so that we can perform some</p>
<p begin="01:07:40.920" end="01:07:45.880" style="s2">logic and there&#39;s some issues that we&#39;re</p>
<p begin="01:07:43.279" end="01:07:47.880" style="s2">running into at the moment uh based off</p>
<p begin="01:07:45.880" end="01:07:49.720" style="s2">of the way we&#39;ve kind of set up things</p>
<p begin="01:07:47.880" end="01:07:52.039" style="s2">all right and the first thing is it&#39;s</p>
<p begin="01:07:49.720" end="01:07:54.240" style="s2">kind of hard to get all of those values</p>
<p begin="01:07:52.039" end="01:07:57.119" style="s2">from the body we have to you know</p>
<p begin="01:07:54.240" end="01:07:59.039" style="s2">extract each one individ ually uh on top</p>
<p begin="01:07:57.119" end="01:08:00.839" style="s2">of that the client can send whatever</p>
<p begin="01:07:59.039" end="01:08:02.960" style="s2">data that it wants and this is a big</p>
<p begin="01:08:00.839" end="01:08:04.880" style="s2">issue right I don&#39;t want the front end</p>
<p begin="01:08:02.960" end="01:08:06.880" style="s2">to send arbitrary data if the user is</p>
<p begin="01:08:04.880" end="01:08:09.240" style="s2">trying to create a post I want the title</p>
<p begin="01:08:06.880" end="01:08:11.559" style="s2">I want the content nothing else right I</p>
<p begin="01:08:09.240" end="01:08:13.200" style="s2">don&#39;t want them to send any extra data</p>
<p begin="01:08:11.559" end="01:08:15.559" style="s2">right and on top of that the data itself</p>
<p begin="01:08:13.200" end="01:08:18.080" style="s2">isn&#39;t getting validated right so how do</p>
<p begin="01:08:15.559" end="01:08:19.920" style="s2">I ensure that the user is sending what I</p>
<p begin="01:08:18.080" end="01:08:22.560" style="s2">want right what if the user sends a</p>
<p begin="01:08:19.920" end="01:08:25.040" style="s2">blank title I can&#39;t have a post with a</p>
<p begin="01:08:22.560" end="01:08:27.359" style="s2">blank title so how can we validate that</p>
<p begin="01:08:25.040" end="01:08:29.440" style="s2">the data that the user sends is actually</p>
<p begin="01:08:27.359" end="01:08:31.759" style="s2">valid right and ultimately what we want</p>
<p begin="01:08:29.440" end="01:08:33.719" style="s2">to do is we want to force the user into</p>
<p begin="01:08:31.759" end="01:08:35.480" style="s2">a schema that we can expect right that&#39;s</p>
<p begin="01:08:33.719" end="01:08:38.199" style="s2">the term that we always use the apsa</p>
<p begin="01:08:35.480" end="01:08:39.799" style="s2">schema where we want to Define exactly</p>
<p begin="01:08:38.199" end="01:08:41.839" style="s2">what the data should look like so that</p>
<p begin="01:08:39.799" end="01:08:43.759" style="s2">it&#39;s almost like a contract between the</p>
<p begin="01:08:41.839" end="01:08:44.960" style="s2">front end and the back end saying hey</p>
<p begin="01:08:43.759" end="01:08:46.679" style="s2">the back end sends a message to the</p>
<p begin="01:08:44.960" end="01:08:48.480" style="s2">front end saying listen I expect my data</p>
<p begin="01:08:46.679" end="01:08:50.120" style="s2">to look like this if you don&#39;t send me</p>
<p begin="01:08:48.480" end="01:08:51.839" style="s2">the data that looks exactly like this</p>
<p begin="01:08:50.120" end="01:08:53.000" style="s2">I&#39;m going to give you an error and</p>
<p begin="01:08:51.839" end="01:08:55.960" style="s2">that&#39;s the way you want to work with</p>
<p begin="01:08:53.000" end="01:08:57.799" style="s2">apis you want to explicitly Define</p>
<p begin="01:08:55.960" end="01:09:00.040" style="s2">what the data should look like so that</p>
<p begin="01:08:57.799" end="01:09:02.480" style="s2">the front end can send you exactly what</p>
<p begin="01:09:00.040" end="01:09:05.199" style="s2">you expect it so let&#39;s see how we can</p>
<p begin="01:09:02.480" end="01:09:06.359" style="s2">Pro do that uh using fast API now what</p>
<p begin="01:09:05.199" end="01:09:09.239" style="s2">we&#39;re going to do is we&#39;re going to make</p>
<p begin="01:09:06.359" end="01:09:11.000" style="s2">use of a library called pantic now we&#39;ve</p>
<p begin="01:09:09.239" end="01:09:12.679" style="s2">already got this installed because we</p>
<p begin="01:09:11.000" end="01:09:14.880" style="s2">use that all flag when we did pip</p>
<p begin="01:09:12.679" end="01:09:16.920" style="s2">install fast API so if you actually go</p>
<p begin="01:09:14.880" end="01:09:19.719" style="s2">back to your code and go to your lib</p>
<p begin="01:09:16.920" end="01:09:21.759" style="s2">folder uh you should see pantic</p>
<p begin="01:09:19.719" end="01:09:23.239" style="s2">somewhere in here and you can see that</p>
<p begin="01:09:21.759" end="01:09:25.080" style="s2">pantic is already installed so we can</p>
<p begin="01:09:23.239" end="01:09:27.480" style="s2">make use of pantic to Define what our</p>
<p begin="01:09:25.080" end="01:09:29.440" style="s2">SCH should look like so let me quickly</p>
<p begin="01:09:27.480" end="01:09:31.400" style="s2">show you how to work with pantic it&#39;s</p>
<p begin="01:09:29.440" end="01:09:33.159" style="s2">really simple but keep in mind</p>
<p begin="01:09:31.400" end="01:09:35.799" style="s2">technically pantic has nothing to do</p>
<p begin="01:09:33.159" end="01:09:37.199" style="s2">with fast API it&#39;s its own complete and</p>
<p begin="01:09:35.799" end="01:09:40.080" style="s2">separate library that you can use with</p>
<p begin="01:09:37.199" end="01:09:42.120" style="s2">any of your python applications fast API</p>
<p begin="01:09:40.080" end="01:09:45.000" style="s2">um just makes use of it so that uh we</p>
<p begin="01:09:42.120" end="01:09:47.759" style="s2">can define a schema so let&#39;s import</p>
<p begin="01:09:45.000" end="01:09:51.480" style="s2">pantic so we say from</p>
<p begin="01:09:47.759" end="01:09:55.080" style="s2">pantic import base</p>
<p begin="01:09:51.480" end="01:09:59.400" style="s2">model and so if we go down to our um you</p>
<p begin="01:09:55.080" end="01:10:00.920" style="s2">know our create post um path operation</p>
<p begin="01:09:59.400" end="01:10:03.159" style="s2">uh you know ultimately what we want to</p>
<p begin="01:10:00.920" end="01:10:05.000" style="s2">do is we want to tell the front end what</p>
<p begin="01:10:03.159" end="01:10:07.080" style="s2">a post or a new post should look like</p>
<p begin="01:10:05.000" end="01:10:09.360" style="s2">what data do we expect so let&#39;s figure</p>
<p begin="01:10:07.080" end="01:10:12.120" style="s2">out what data we want for a specific</p>
<p begin="01:10:09.360" end="01:10:13.960" style="s2">post request uh so two things that we</p>
<p begin="01:10:12.120" end="01:10:15.960" style="s2">want we want a title which is going to</p>
<p begin="01:10:13.960" end="01:10:19.239" style="s2">have which is going to be you know a</p>
<p begin="01:10:15.960" end="01:10:20.800" style="s2">string essentially and then we want uh</p>
<p begin="01:10:19.239" end="01:10:22.719" style="s2">the content which is the content of the</p>
<p begin="01:10:20.800" end="01:10:24.920" style="s2">post which is going to be you know some</p>
<p begin="01:10:22.719" end="01:10:26.760" style="s2">sort of string all right and so we want</p>
<p begin="01:10:24.920" end="01:10:28.239" style="s2">the we expect the user to send both of</p>
<p begin="01:10:26.760" end="01:10:29.400" style="s2">those things and then we don&#39;t really</p>
<p begin="01:10:28.239" end="01:10:31.440" style="s2">want anything else we don&#39;t want the</p>
<p begin="01:10:29.400" end="01:10:33.480" style="s2">user to send any other piece of data we</p>
<p begin="01:10:31.440" end="01:10:35.760" style="s2">just want these two things and we can</p>
<p begin="01:10:33.480" end="01:10:37.000" style="s2">put in any other pieces of data we want</p>
<p begin="01:10:35.760" end="01:10:38.920" style="s2">so if we want the user to pass in</p>
<p begin="01:10:37.000" end="01:10:41.280" style="s2">something like uh you know what is the</p>
<p begin="01:10:38.920" end="01:10:45.280" style="s2">category of the post we can include that</p>
<p begin="01:10:41.280" end="01:10:47.280" style="s2">uh we can maybe include um uh maybe uh</p>
<p begin="01:10:45.280" end="01:10:49.679" style="s2">the number of I mean I don&#39;t know you</p>
<p begin="01:10:47.280" end="01:10:51.920" style="s2">can really think of anything maybe a</p>
<p begin="01:10:49.679" end="01:10:54.280" style="s2">Boolean that kind of represents you know</p>
<p begin="01:10:51.920" end="01:10:55.880" style="s2">is this a published post or do you want</p>
<p begin="01:10:54.280" end="01:10:57.719" style="s2">this to be saved as a</p>
<p begin="01:10:55.880" end="01:10:59.440" style="s2">so you can construct it however you want</p>
<p begin="01:10:57.719" end="01:11:01.719" style="s2">but we&#39;re just going to stick to title</p>
<p begin="01:10:59.440" end="01:11:03.960" style="s2">and content so the way that this works</p>
<p begin="01:11:01.719" end="01:11:04.960" style="s2">is I&#39;m going to remove this comment</p>
<p begin="01:11:03.960" end="01:11:07.920" style="s2">right</p>
<p begin="01:11:04.960" end="01:11:09.400" style="s2">here we&#39;re going to define a class we&#39;ll</p>
<p begin="01:11:07.920" end="01:11:10.600" style="s2">call this class and then we&#39;ll give it</p>
<p begin="01:11:09.400" end="01:11:13.080" style="s2">whatever name we want it&#39;s going to</p>
<p begin="01:11:10.600" end="01:11:14.880" style="s2">represent what uh a post should look</p>
<p begin="01:11:13.080" end="01:11:17.400" style="s2">like so I&#39;m just going to call this</p>
<p begin="01:11:14.880" end="01:11:21.400" style="s2">post and then this is going</p>
<p begin="01:11:17.400" end="01:11:23.199" style="s2">to extend base model so this is what</p>
<p begin="01:11:21.400" end="01:11:25.880" style="s2">makes it a special identic model we just</p>
<p begin="01:11:23.199" end="01:11:27.520" style="s2">extend base model</p>
<p begin="01:11:25.880" end="01:11:30.159" style="s2">and then here we pass in the different</p>
<p begin="01:11:27.520" end="01:11:32.679" style="s2">properties for our post and like I said</p>
<p begin="01:11:30.159" end="01:11:32.679" style="s2">we want a</p>
<p begin="01:11:33.520" end="01:11:38.120" style="s2">title and we also want a the</p>
<p begin="01:11:39.199" end="01:11:43.920" style="s2">content uh now what we pass here is</p>
<p begin="01:11:41.880" end="01:11:46.080" style="s2">going to be what is this type of data so</p>
<p begin="01:11:43.920" end="01:11:47.159" style="s2">if we go to this pantic Library uh</p>
<p begin="01:11:46.080" end="01:11:49.320" style="s2">you&#39;ll see that there&#39;s the different</p>
<p begin="01:11:47.159" end="01:11:51.920" style="s2">field types so we can set things to be a</p>
<p begin="01:11:49.320" end="01:11:54.400" style="s2">Boolean we can set it to be an INT float</p>
<p begin="01:11:51.920" end="01:11:56.560" style="s2">string so all of the common python types</p>
<p begin="01:11:54.400" end="01:12:00.600" style="s2">list Tuple it&#39;s all available within</p>
<p begin="01:11:56.560" end="01:12:02.639" style="s2">pantic so we know what a um ultimately</p>
<p begin="01:12:00.600" end="01:12:04.360" style="s2">what a uh a title should look like so</p>
<p begin="01:12:02.639" end="01:12:07.280" style="s2">what do you guys think should be the</p>
<p begin="01:12:04.360" end="01:12:08.679" style="s2">field type for the title property well I</p>
<p begin="01:12:07.280" end="01:12:10.679" style="s2">think it makes sense it should be a</p>
<p begin="01:12:08.679" end="01:12:12.520" style="s2">string because this looks like a string</p>
<p begin="01:12:10.679" end="01:12:14.960" style="s2">it&#39;s got some text it probably should be</p>
<p begin="01:12:12.520" end="01:12:16.280" style="s2">a string so let&#39;s set this to be string</p>
<p begin="01:12:14.960" end="01:12:19.560" style="s2">and the content should be the same thing</p>
<p begin="01:12:16.280" end="01:12:19.560" style="s2">it should also be set to</p>
<p begin="01:12:21.080" end="01:12:27.159" style="s2">string and now what we can do is let&#39;s</p>
<p begin="01:12:23.679" end="01:12:27.159" style="s2">take this model</p>
<p begin="01:12:28.239" end="01:12:32.320" style="s2">and go down to create posts and instead</p>
<p begin="01:12:30.760" end="01:12:34.040" style="s2">of extracting the payload what I&#39;m going</p>
<p begin="01:12:32.320" end="01:12:35.840" style="s2">to do is I&#39;m going</p>
<p begin="01:12:34.040" end="01:12:38.679" style="s2">to</p>
<p begin="01:12:35.840" end="01:12:42.320" style="s2">uh reference that</p>
<p begin="01:12:38.679" end="01:12:45.760" style="s2">post identic model and then I&#39;m going to</p>
<p begin="01:12:42.320" end="01:12:47.520" style="s2">save this as a variable called post once</p>
<p begin="01:12:45.760" end="01:12:49.520" style="s2">again they don&#39;t have to match um but</p>
<p begin="01:12:47.520" end="01:12:52.480" style="s2">since this will represent the post I can</p>
<p begin="01:12:49.520" end="01:12:55.199" style="s2">call this maybe uh newcore poost or</p>
<p begin="01:12:52.480" end="01:12:57.760" style="s2">something like that and then uh and then</p>
<p begin="01:12:55.199" end="01:12:59.639" style="s2">reference the post pantic model so</p>
<p begin="01:12:57.760" end="01:13:02.480" style="s2">what&#39;s going to happen is because we</p>
<p begin="01:12:59.639" end="01:13:04.560" style="s2">pass this into our path operation fast</p>
<p begin="01:13:02.480" end="01:13:06.400" style="s2">API is automatically going to validate</p>
<p begin="01:13:04.560" end="01:13:08.600" style="s2">the data that it receives from the</p>
<p begin="01:13:06.400" end="01:13:10.920" style="s2">client based off of this model so it&#39;s</p>
<p begin="01:13:08.600" end="01:13:13.840" style="s2">going to check hey does it have a title</p>
<p begin="01:13:10.920" end="01:13:15.360" style="s2">if so is it a string if it if the title</p>
<p begin="01:13:13.840" end="01:13:17.040" style="s2">doesn&#39;t exist or if it&#39;s not a string</p>
<p begin="01:13:15.360" end="01:13:18.480" style="s2">and maybe we pass an integer then it&#39;s</p>
<p begin="01:13:17.040" end="01:13:21.120" style="s2">going to throw an error it&#39;s also going</p>
<p begin="01:13:18.480" end="01:13:23.199" style="s2">to check for us if content&#39;s available</p>
<p begin="01:13:21.120" end="01:13:25.120" style="s2">if it is available it&#39;s going to make</p>
<p begin="01:13:23.199" end="01:13:26.440" style="s2">sure that it&#39;s a string and if content</p>
<p begin="01:13:25.120" end="01:13:28.639" style="s2">it&#39;s not available or if it&#39;s not a</p>
<p begin="01:13:26.440" end="01:13:30.679" style="s2">string it&#39;s going to throw an error so</p>
<p begin="01:13:28.639" end="01:13:32.280" style="s2">it&#39;s doing all of the validation for us</p>
<p begin="01:13:30.679" end="01:13:34.679" style="s2">and it&#39;s defining the scheme of what it</p>
<p begin="01:13:32.280" end="01:13:36.520" style="s2">should look like for the front end uh</p>
<p begin="01:13:34.679" end="01:13:38.719" style="s2">what kind of the data should the front</p>
<p begin="01:13:36.520" end="01:13:43.159" style="s2">end send to</p>
<p begin="01:13:38.719" end="01:13:43.159" style="s2">us so we&#39;re going to remove all of this</p>
<p begin="01:13:43.239" end="01:13:47.080" style="s2">nonsense I&#39;m just going to for now just</p>
<p begin="01:13:45.199" end="01:13:51.080" style="s2">say</p>
<p begin="01:13:47.080" end="01:13:53.280" style="s2">data I don&#39;t know new post for</p>
<p begin="01:13:51.080" end="01:13:54.520" style="s2">now and now what I&#39;m going to do instead</p>
<p begin="01:13:53.280" end="01:13:57.000" style="s2">of print payload we&#39;re going to say</p>
<p begin="01:13:54.520" end="01:14:00.520" style="s2">print new _</p>
<p begin="01:13:57.000" end="01:14:03.400" style="s2">poost so let&#39;s save this and then I&#39;m</p>
<p begin="01:14:00.520" end="01:14:05.719" style="s2">going to send a post request okay so</p>
<p begin="01:14:03.400" end="01:14:07.560" style="s2">that updated fine but let&#39;s take a look</p>
<p begin="01:14:05.719" end="01:14:09.840" style="s2">at what this printed out so take a look</p>
<p begin="01:14:07.560" end="01:14:12.840" style="s2">at what it printed out look at that it</p>
<p begin="01:14:09.840" end="01:14:15.760" style="s2">automatically extracted all of that data</p>
<p begin="01:14:12.840" end="01:14:17.520" style="s2">for us so now we can access you know</p>
<p begin="01:14:15.760" end="01:14:20.400" style="s2">post. tile and we can get the title of</p>
<p begin="01:14:17.520" end="01:14:21.960" style="s2">the post and we can also access post.</p>
<p begin="01:14:20.400" end="01:14:23.679" style="s2">content to get the content out of the</p>
<p begin="01:14:21.960" end="01:14:27.040" style="s2">post and just to prove that to you guys</p>
<p begin="01:14:23.679" end="01:14:27.040" style="s2">we&#39;ll say post</p>
<p begin="01:14:27.199" end="01:14:33.560" style="s2">title so we&#39;ll save that we&#39;ll send a</p>
<p begin="01:14:31.480" end="01:14:35.600" style="s2">request and now look at that look how</p>
<p begin="01:14:33.560" end="01:14:37.840" style="s2">easy it is to extract that data because</p>
<p begin="01:14:35.600" end="01:14:39.520" style="s2">it&#39;s already assigned to that new post</p>
<p begin="01:14:37.840" end="01:14:41.880" style="s2">variable and we can just access each</p>
<p begin="01:14:39.520" end="01:14:43.400" style="s2">property based off of what the model is</p>
<p begin="01:14:41.880" end="01:14:46.040" style="s2">defined</p>
<p begin="01:14:43.400" end="01:14:47.719" style="s2">as now that&#39;s great and all but let&#39;s</p>
<p begin="01:14:46.040" end="01:14:50.719" style="s2">check to see if it&#39;s actually performing</p>
<p begin="01:14:47.719" end="01:14:56.760" style="s2">all of that validation so if I go to my</p>
<p begin="01:14:50.719" end="01:14:59.040" style="s2">um Postman and I remove title</p>
<p begin="01:14:56.760" end="01:15:02.000" style="s2">let&#39;s see what happens I&#39;ll hit</p>
<p begin="01:14:59.040" end="01:15:03.840" style="s2">send look at this look at this it&#39;s</p>
<p begin="01:15:02.000" end="01:15:06.199" style="s2">saying that the inside the</p>
<p begin="01:15:03.840" end="01:15:08.719" style="s2">body there&#39;s a title field and it&#39;s</p>
<p begin="01:15:06.199" end="01:15:11.199" style="s2">saying a value error it&#39;s missing now we</p>
<p begin="01:15:08.719" end="01:15:13.000" style="s2">didn&#39;t tell fast API just to send this</p>
<p begin="01:15:11.199" end="01:15:15.360" style="s2">but it automatically does the validation</p>
<p begin="01:15:13.000" end="01:15:17.199" style="s2">for us and sends back an error message</p>
<p begin="01:15:15.360" end="01:15:18.360" style="s2">and then it sends back a status code so</p>
<p begin="01:15:17.199" end="01:15:20.960" style="s2">this is the status code of the message</p>
<p begin="01:15:18.360" end="01:15:22.440" style="s2">it sends a 422 we can change that later</p>
<p begin="01:15:20.960" end="01:15:25.320" style="s2">don&#39;t worry about that but it&#39;s</p>
<p begin="01:15:22.440" end="01:15:27.600" style="s2">automatically performing the validation</p>
<p begin="01:15:25.320" end="01:15:31.719" style="s2">and that&#39;s what&#39;s awesome about this and</p>
<p begin="01:15:27.600" end="01:15:31.719" style="s2">if we uh if I add the title</p>
<p begin="01:15:32.000" end="01:15:39.480" style="s2">back uh what was it top beaches in</p>
<p begin="01:15:36.280" end="01:15:44.000" style="s2">Florida and instead actually if I change</p>
<p begin="01:15:39.480" end="01:15:45.960" style="s2">this to be um a one or something and I</p>
<p begin="01:15:44.000" end="01:15:47.080" style="s2">need that comma let&#39;s see what happens</p>
<p begin="01:15:45.960" end="01:15:50.080" style="s2">if I hit</p>
<p begin="01:15:47.080" end="01:15:52.840" style="s2">send it looks like there&#39;s no</p>
<p begin="01:15:50.080" end="01:15:55.520" style="s2">errors and that&#39;s because the number one</p>
<p begin="01:15:52.840" end="01:15:56.880" style="s2">can actually be um converted into a</p>
<p begin="01:15:55.520" end="01:15:59.080" style="s2">string so it&#39;s not going to throw an</p>
<p begin="01:15:56.880" end="01:15:59.719" style="s2">error on that and that&#39;s perfectly fine</p>
<p begin="01:15:59.080" end="01:16:02.000" style="s2">and</p>
<p begin="01:15:59.719" end="01:16:04.520" style="s2">I&#39;ll and that&#39;s perfectly fine so that&#39;s</p>
<p begin="01:16:02.000" end="01:16:06.560" style="s2">not a big deal um but let&#39;s change this</p>
<p begin="01:16:04.520" end="01:16:08.360" style="s2">back like I said it&#39;s going to try to</p>
<p begin="01:16:06.560" end="01:16:09.679" style="s2">convert whatever data we give it to a</p>
<p begin="01:16:08.360" end="01:16:11.800" style="s2">string so as long as it&#39;s able to</p>
<p begin="01:16:09.679" end="01:16:13.600" style="s2">convert it to a string it&#39;s okay and any</p>
<p begin="01:16:11.800" end="01:16:15.199" style="s2">integer that we pass can be converted to</p>
<p begin="01:16:13.600" end="01:16:19.000" style="s2">a string so I&#39;m going to change this</p>
<p begin="01:16:15.199" end="01:16:21.840" style="s2">back and I&#39;ll add top beaches in</p>
<p begin="01:16:19.000" end="01:16:25.400" style="s2">Florida Florida let&#39;s see what happens</p>
<p begin="01:16:21.840" end="01:16:26.719" style="s2">if we remove the content now</p>
<p begin="01:16:25.400" end="01:16:29.000" style="s2">if I hit</p>
<p begin="01:16:26.719" end="01:16:31.520" style="s2">send look at that now it&#39;s saying the</p>
<p begin="01:16:29.000" end="01:16:33.679" style="s2">content is missing perfect so our</p>
<p begin="01:16:31.520" end="01:16:36.159" style="s2">validation is working exactly how we</p>
<p begin="01:16:33.679" end="01:16:36.159" style="s2">expect it</p>
<p begin="01:16:37.159" end="01:16:42.560" style="s2">to and then I forget what what was it</p>
<p begin="01:16:39.880" end="01:16:44.760" style="s2">something something beaches I can&#39;t</p>
<p begin="01:16:42.560" end="01:16:49.760" style="s2">remember what it</p>
<p begin="01:16:44.760" end="01:16:51.000" style="s2">was now let&#39;s say that we want to um uh</p>
<p begin="01:16:49.760" end="01:16:53.760" style="s2">assign a</p>
<p begin="01:16:51.000" end="01:16:55.360" style="s2">property uh that&#39;s optional right like</p>
<p begin="01:16:53.760" end="01:16:58.280" style="s2">what if we wanted to make it so that the</p>
<p begin="01:16:55.360" end="01:16:59.719" style="s2">front end can either choose to send some</p>
<p begin="01:16:58.280" end="01:17:01.639" style="s2">piece of data or not send a piece of</p>
<p begin="01:16:59.719" end="01:17:05.280" style="s2">data so let&#39;s say that we want the user</p>
<p begin="01:17:01.639" end="01:17:07.040" style="s2">to be able to Define if a property uh if</p>
<p begin="01:17:05.280" end="01:17:09.520" style="s2">a post should be published or not well</p>
<p begin="01:17:07.040" end="01:17:12.239" style="s2">we can create a field called</p>
<p begin="01:17:09.520" end="01:17:15.560" style="s2">published which is going to be Set uh</p>
<p begin="01:17:12.239" end="01:17:15.560" style="s2">which is going to be a type of</p>
<p begin="01:17:18.679" end="01:17:24.360" style="s2">Boolean and we can say um you know first</p>
<p begin="01:17:21.040" end="01:17:25.719" style="s2">of all we can say if the user doesn&#39;t</p>
<p begin="01:17:24.360" end="01:17:27.960" style="s2">provide us</p>
<p begin="01:17:25.719" end="01:17:30.880" style="s2">a value we can give it a default value</p>
<p begin="01:17:27.960" end="01:17:32.679" style="s2">so here I&#39;ll say true and so if the user</p>
<p begin="01:17:30.880" end="01:17:34.880" style="s2">doesn&#39;t provide</p>
<p begin="01:17:32.679" end="01:17:37.400" style="s2">published then it&#39;s going to default to</p>
<p begin="01:17:34.880" end="01:17:38.880" style="s2">true if it does provide published then</p>
<p begin="01:17:37.400" end="01:17:41.080" style="s2">whatever value you give it that&#39;s what</p>
<p begin="01:17:38.880" end="01:17:42.320" style="s2">we&#39;re going to use it as and I&#39;m going</p>
<p begin="01:17:41.080" end="01:17:44.480" style="s2">to go down</p>
<p begin="01:17:42.320" end="01:17:47.520" style="s2">here and we&#39;re going to change this to</p>
<p begin="01:17:44.480" end="01:17:47.520" style="s2">we&#39;re going to grab the published</p>
<p begin="01:17:50.920" end="01:17:56.639" style="s2">value and then down here we&#39;ll say</p>
<p begin="01:17:52.960" end="01:17:56.639" style="s2">published whoops</p>
<p begin="01:17:58.120" end="01:18:04.320" style="s2">it&#39;s going be set to</p>
<p begin="01:18:00.719" end="01:18:04.320" style="s2">true so let&#39;s hit</p>
<p begin="01:18:04.360" end="01:18:09.800" style="s2">send and we can see that it got set to</p>
<p begin="01:18:06.639" end="01:18:11.800" style="s2">true that&#39;s good if we set this to</p>
<p begin="01:18:09.800" end="01:18:14.719" style="s2">false it&#39;s</p>
<p begin="01:18:11.800" end="01:18:17.080" style="s2">send we can see that it&#39;s false and then</p>
<p begin="01:18:14.719" end="01:18:21.280" style="s2">if we remove this all</p>
<p begin="01:18:17.080" end="01:18:24.840" style="s2">together move that comma as well hit</p>
<p begin="01:18:21.280" end="01:18:27.000" style="s2">send look at that it defaults to true so</p>
<p begin="01:18:24.840" end="01:18:29.840" style="s2">now we&#39;ve created an App an optional</p>
<p begin="01:18:27.000" end="01:18:31.440" style="s2">field for our schema so the user doesn&#39;t</p>
<p begin="01:18:29.840" end="01:18:33.400" style="s2">have to provide this and it&#39;s going to</p>
<p begin="01:18:31.440" end="01:18:36.040" style="s2">default to true in this</p>
<p begin="01:18:33.400" end="01:18:38.080" style="s2">case now let&#39;s say we wanted to create</p>
<p begin="01:18:36.040" end="01:18:40.280" style="s2">another field however instead of giving</p>
<p begin="01:18:38.080" end="01:18:42.520" style="s2">it a default value if it&#39;s not sent we</p>
<p begin="01:18:40.280" end="01:18:44.600" style="s2">want it to default To None So we want it</p>
<p begin="01:18:42.520" end="01:18:46.639" style="s2">to be completely optional and we&#39;re not</p>
<p begin="01:18:44.600" end="01:18:48.080" style="s2">going to store any value if the user</p>
<p begin="01:18:46.639" end="01:18:49.480" style="s2">doesn&#39;t provide it what we can do is</p>
<p begin="01:18:48.080" end="01:18:52.639" style="s2">let&#39;s say the field is a rating let&#39;s</p>
<p begin="01:18:49.480" end="01:18:55.600" style="s2">say the user can give each post a rating</p>
<p begin="01:18:52.639" end="01:18:56.960" style="s2">what we can say is optional</p>
<p begin="01:18:55.600" end="01:18:59.360" style="s2">and we&#39;re going to have to import</p>
<p begin="01:18:56.960" end="01:19:01.760" style="s2">optional uh from typing from the typing</p>
<p begin="01:18:59.360" end="01:19:03.840" style="s2">Library so import</p>
<p begin="01:19:01.760" end="01:19:05.639" style="s2">optional and then we have to pass in the</p>
<p begin="01:19:03.840" end="01:19:07.639" style="s2">type so what is it going to be in this</p>
<p begin="01:19:05.639" end="01:19:11.679" style="s2">case a rating I think an integer makes</p>
<p begin="01:19:07.639" end="01:19:13.840" style="s2">sense and then we can say equals to</p>
<p begin="01:19:11.679" end="01:19:15.560" style="s2">none so this is going to be a fully</p>
<p begin="01:19:13.840" end="01:19:16.719" style="s2">optional field and if the user doesn&#39;t</p>
<p begin="01:19:15.560" end="01:19:18.199" style="s2">provide it it&#39;s going to default to a</p>
<p begin="01:19:16.719" end="01:19:20.920" style="s2">value of</p>
<p begin="01:19:18.199" end="01:19:26.719" style="s2">none and so here I&#39;m just going to get</p>
<p begin="01:19:20.920" end="01:19:26.719" style="s2">the uh the value of our rating</p>
<p begin="01:19:28.679" end="01:19:33.400" style="s2">and so if I hit send right now in our</p>
<p begin="01:19:30.639" end="01:19:35.760" style="s2">body we don&#39;t have a rating field I hit</p>
<p begin="01:19:33.400" end="01:19:37.520" style="s2">send you can see that it defaults to a</p>
<p begin="01:19:35.760" end="01:19:39.320" style="s2">value of none because we set this to be</p>
<p begin="01:19:37.520" end="01:19:41.239" style="s2">optional</p>
<p begin="01:19:39.320" end="01:19:45.360" style="s2">none</p>
<p begin="01:19:41.239" end="01:19:47.000" style="s2">however if I pass in a rating field I</p>
<p begin="01:19:45.360" end="01:19:48.920" style="s2">need to give it a value some kind of</p>
<p begin="01:19:47.000" end="01:19:51.719" style="s2">value so I&#39;ll say we give this maybe</p>
<p begin="01:19:48.920" end="01:19:51.719" style="s2">like four stars or</p>
<p begin="01:19:52.080" end="01:19:58.280" style="s2">something I hit send we can see that now</p>
<p begin="01:19:55.080" end="01:20:00.400" style="s2">look the value of rating is set to</p>
<p begin="01:19:58.280" end="01:20:01.960" style="s2">four and then finally the last thing I</p>
<p begin="01:20:00.400" end="01:20:03.600" style="s2">want to note is because we set the type</p>
<p begin="01:20:01.960" end="01:20:05.040" style="s2">to be an integer so even though it&#39;s</p>
<p begin="01:20:03.600" end="01:20:07.960" style="s2">optional we still have to specify the</p>
<p begin="01:20:05.040" end="01:20:09.760" style="s2">type if I give this a value of a string</p>
<p begin="01:20:07.960" end="01:20:11.560" style="s2">so you know something like hello which</p>
<p begin="01:20:09.760" end="01:20:14.360" style="s2">is not a valid rating take a look at</p>
<p begin="01:20:11.560" end="01:20:16.840" style="s2">what happens look at that it says in the</p>
<p begin="01:20:14.360" end="01:20:18.360" style="s2">body the rating field the value is not a</p>
<p begin="01:20:16.840" end="01:20:20.360" style="s2">valid integer so it wasn&#39;t able to</p>
<p begin="01:20:18.360" end="01:20:22.840" style="s2">convert whatever value we sent into</p>
<p begin="01:20:20.360" end="01:20:24.360" style="s2">integer and so that&#39;s why it&#39;s throwing</p>
<p begin="01:20:22.840" end="01:20:26.080" style="s2">there and saying like this does not</p>
<p begin="01:20:24.360" end="01:20:27.760" style="s2">match up with the schema and it&#39;s</p>
<p begin="01:20:26.080" end="01:20:29.520" style="s2">throwing an error and so that&#39;s what&#39;s</p>
<p begin="01:20:27.760" end="01:20:31.400" style="s2">awesome about this is now we can ensure</p>
<p begin="01:20:29.520" end="01:20:33.520" style="s2">that our front end is sending the exact</p>
<p begin="01:20:31.400" end="01:20:34.719" style="s2">data that we expect by using these</p>
<p begin="01:20:33.520" end="01:20:38.000" style="s2">pantic</p>
<p begin="01:20:34.719" end="01:20:40.280" style="s2">models so moving forward in this course</p>
<p begin="01:20:38.000" end="01:20:42.520" style="s2">we are going to really make use of</p>
<p begin="01:20:40.280" end="01:20:44.960" style="s2">pantic mods to ensure that the schemas</p>
<p begin="01:20:42.520" end="01:20:49.040" style="s2">not only receiving data from the front</p>
<p begin="01:20:44.960" end="01:20:52.719" style="s2">end but also sending data back is all um</p>
<p begin="01:20:49.040" end="01:20:54.360" style="s2">matching up with our organized schema</p>
<p begin="01:20:52.719" end="01:20:56.520" style="s2">and actually there&#39;s one last thing I</p>
<p begin="01:20:54.360" end="01:20:59.400" style="s2">want to to show you guys and that is</p>
<p begin="01:20:56.520" end="01:21:02.040" style="s2">that when we actually um kind of extract</p>
<p begin="01:20:59.400" end="01:21:04.280" style="s2">that data and save it into new post uh</p>
<p begin="01:21:02.040" end="01:21:07.080" style="s2">it actually stores it as a pantic model</p>
<p begin="01:21:04.280" end="01:21:11.400" style="s2">so it&#39;s a specific pantic model and each</p>
<p begin="01:21:07.080" end="01:21:15.120" style="s2">pantic model has a method called dict so</p>
<p begin="01:21:11.400" end="01:21:16.840" style="s2">if I do um if I print new post below</p>
<p begin="01:21:15.120" end="01:21:21.000" style="s2">this what we can do is if you ever need</p>
<p begin="01:21:16.840" end="01:21:23.719" style="s2">to convert your pantic model to a</p>
<p begin="01:21:21.000" end="01:21:25.199" style="s2">dictionary all we have to do is write</p>
<p begin="01:21:23.719" end="01:21:27.040" style="s2">the name of the variable</p>
<p begin="01:21:25.199" end="01:21:30.000" style="s2">and we say</p>
<p begin="01:21:27.040" end="01:21:31.880" style="s2">dot</p>
<p begin="01:21:30.000" end="01:21:33.239" style="s2">dict so this is going to take that</p>
<p begin="01:21:31.880" end="01:21:34.400" style="s2">pantic model and then it&#39;s going to</p>
<p begin="01:21:33.239" end="01:21:36.760" style="s2">convert it to a dictionary so let&#39;s</p>
<p begin="01:21:34.400" end="01:21:36.760" style="s2">print that</p>
<p begin="01:21:40.159" end="01:21:47.120" style="s2">out let&#39;s save it let&#39;s hit</p>
<p begin="01:21:43.960" end="01:21:48.480" style="s2">send whoops and I forgot to it&#39;s still</p>
<p begin="01:21:47.120" end="01:21:50.280" style="s2">throwing a validation error but that&#39;s</p>
<p begin="01:21:48.480" end="01:21:51.920" style="s2">to be expected so we&#39;ll say change that</p>
<p begin="01:21:50.280" end="01:21:53.880" style="s2">to</p>
<p begin="01:21:51.920" end="01:21:55.600" style="s2">four all right take a look at the two</p>
<p begin="01:21:53.880" end="01:21:56.760" style="s2">different things so this is a pantic</p>
<p begin="01:21:55.600" end="01:21:59.239" style="s2">model that&#39;s just printing out the</p>
<p begin="01:21:56.760" end="01:22:01.760" style="s2">different uh properties of that of that</p>
<p begin="01:21:59.239" end="01:22:03.320" style="s2">model whereas this is a regular python</p>
<p begin="01:22:01.760" end="01:22:05.840" style="s2">dictionary so we can just send back a</p>
<p begin="01:22:03.320" end="01:22:08.000" style="s2">dictionary if we want to so we do return</p>
<p begin="01:22:05.840" end="01:22:11.280" style="s2">new</p>
<p begin="01:22:08.000" end="01:22:12.719" style="s2">post and save that now if I hit send</p>
<p begin="01:22:11.280" end="01:22:14.360" style="s2">we&#39;re just sending back a dictionary and</p>
<p begin="01:22:12.719" end="01:22:16.120" style="s2">so now we send back the data with all of</p>
<p begin="01:22:14.360" end="01:22:17.639" style="s2">the different properties and so you&#39;ll</p>
<p begin="01:22:16.120" end="01:22:19.080" style="s2">see that this is actually a nice little</p>
<p begin="01:22:17.639" end="01:22:20.679" style="s2">handy tool to be able to converted to a</p>
<p begin="01:22:19.080" end="01:22:22.560" style="s2">dictionary uh which is something that</p>
<p begin="01:22:20.679" end="01:22:24.000" style="s2">we&#39;ll be needing to do in some of the</p>
<p begin="01:22:22.560" end="01:22:26.280" style="s2">future lectures so I wanted to make sure</p>
<p begin="01:22:24.000" end="01:22:28.600" style="s2">we just cover our bases real quick on</p>
<p begin="01:22:26.280" end="01:22:29.920" style="s2">that and also I don&#39;t like calling this</p>
<p begin="01:22:28.600" end="01:22:32.800" style="s2">new post I&#39;m just going to change this</p>
<p begin="01:22:29.920" end="01:22:35.199" style="s2">to post for now because I think that&#39;s a</p>
<p begin="01:22:32.800" end="01:22:37.400" style="s2">little bit better my opinion because it</p>
<p begin="01:22:35.199" end="01:22:40.520" style="s2">is just a post we don&#39;t need to know</p>
<p begin="01:22:37.400" end="01:22:42.560" style="s2">that it&#39;s a new post it clearly</p>
<p begin="01:22:40.520" end="01:22:45.159" style="s2">is and let&#39;s just double check that</p>
<p begin="01:22:42.560" end="01:22:47.120" style="s2">everything works let&#39;s hit send</p>
<p begin="01:22:45.159" end="01:22:49.440" style="s2">perfect in this lesson we&#39;re going to</p>
<p begin="01:22:47.120" end="01:22:51.159" style="s2">talk about what a crud application is as</p>
<p begin="01:22:49.440" end="01:22:53.440" style="s2">well as what are standard conventions</p>
<p begin="01:22:51.159" end="01:22:55.239" style="s2">when it comes to creating an API for a</p>
<p begin="01:22:53.440" end="01:22:57.480" style="s2">crud based application</p>
<p begin="01:22:55.239" end="01:22:59.120" style="s2">so crud is an acronym that represents</p>
<p begin="01:22:57.480" end="01:23:01.320" style="s2">the four main functions of an</p>
<p begin="01:22:59.120" end="01:23:02.760" style="s2">application so any application</p>
<p begin="01:23:01.320" end="01:23:05.159" style="s2">regardless of what it is needs to be</p>
<p begin="01:23:02.760" end="01:23:07.400" style="s2">able to create things so in our case</p>
<p begin="01:23:05.159" end="01:23:09.320" style="s2">since we&#39;re building a you know a social</p>
<p begin="01:23:07.400" end="01:23:11.840" style="s2">media type application we need to be</p>
<p begin="01:23:09.320" end="01:23:14.440" style="s2">able to create posts make new posts we</p>
<p begin="01:23:11.840" end="01:23:16.040" style="s2">need to be able to read posts uh and so</p>
<p begin="01:23:14.440" end="01:23:17.880" style="s2">that includes you know retrieving all of</p>
<p begin="01:23:16.040" end="01:23:19.440" style="s2">the pre-existing posts we need to be</p>
<p begin="01:23:17.880" end="01:23:21.199" style="s2">able to update a post if we want to</p>
<p begin="01:23:19.440" end="01:23:23.239" style="s2">implement that functionality so if we</p>
<p begin="01:23:21.199" end="01:23:24.840" style="s2">decide to change what our post says we</p>
<p begin="01:23:23.239" end="01:23:25.920" style="s2">would use the update functionality and</p>
<p begin="01:23:24.840" end="01:23:29.360" style="s2">then finally we need to be able to</p>
<p begin="01:23:25.920" end="01:23:31.960" style="s2">delete a post and so the c r u d that</p>
<p begin="01:23:29.360" end="01:23:33.560" style="s2">represents the four main functions of</p>
<p begin="01:23:31.960" end="01:23:35.560" style="s2">any cred based application so it&#39;s</p>
<p begin="01:23:33.560" end="01:23:37.320" style="s2">nothing more than an acronym however I</p>
<p begin="01:23:35.560" end="01:23:39.159" style="s2">created the slide so that you guys can</p>
<p begin="01:23:37.320" end="01:23:40.880" style="s2">understand what our standard convention</p>
<p begin="01:23:39.159" end="01:23:43.560" style="s2">when it comes to creating an API for a</p>
<p begin="01:23:40.880" end="01:23:45.360" style="s2">cred based application because there are</p>
<p begin="01:23:43.560" end="01:23:48.920" style="s2">certain bre best practices that we need</p>
<p begin="01:23:45.360" end="01:23:52.080" style="s2">to follow and so when it comes to naming</p>
<p begin="01:23:48.920" end="01:23:54.000" style="s2">the URL and the paths for each operation</p>
<p begin="01:23:52.080" end="01:23:55.440" style="s2">there&#39;s a standard convention and the</p>
<p begin="01:23:54.000" end="01:23:56.880" style="s2">first thing that I want to point out is</p>
<p begin="01:23:55.440" end="01:23:59.440" style="s2">since we&#39;re working with posts it makes</p>
<p begin="01:23:56.880" end="01:24:02.280" style="s2">sense to name all of the URLs all the</p>
<p begin="01:23:59.440" end="01:24:04.480" style="s2">paths uh with/ posts and it&#39;s important</p>
<p begin="01:24:02.280" end="01:24:06.360" style="s2">that you use the plural form of posts</p>
<p begin="01:24:04.480" end="01:24:08.679" style="s2">you don&#39;t want to do SL poost you want</p>
<p begin="01:24:06.360" end="01:24:10.960" style="s2">to do SL posts as in plural this is</p>
<p begin="01:24:08.679" end="01:24:13.080" style="s2">standard convention for apis and if we</p>
<p begin="01:24:10.960" end="01:24:14.840" style="s2">were working with users and we wanted to</p>
<p begin="01:24:13.080" end="01:24:17.440" style="s2">be able to create read update and delete</p>
<p begin="01:24:14.840" end="01:24:19.800" style="s2">users it wouldn&#39;t be SL user it would be</p>
<p begin="01:24:17.440" end="01:24:21.960" style="s2">slash users so always use the plural</p>
<p begin="01:24:19.800" end="01:24:24.440" style="s2">that&#39;s standard convention now when it</p>
<p begin="01:24:21.960" end="01:24:26.800" style="s2">comes to creating a post right that</p>
<p begin="01:24:24.440" end="01:24:28.320" style="s2">that&#39;s always going to be a post request</p>
<p begin="01:24:26.800" end="01:24:30.080" style="s2">so we&#39;ve got the create functionality</p>
<p begin="01:24:28.320" end="01:24:32.199" style="s2">right here and we can see that we have</p>
<p begin="01:24:30.080" end="01:24:33.600" style="s2">to send a post request standard</p>
<p begin="01:24:32.199" end="01:24:35.920" style="s2">convention anytime you want to create an</p>
<p begin="01:24:33.600" end="01:24:39.239" style="s2">entity it&#39;s going to be a post</p>
<p begin="01:24:35.920" end="01:24:40.719" style="s2">request and the URL or the path for that</p>
<p begin="01:24:39.239" end="01:24:42.840" style="s2">specific request is always going to be</p>
<p begin="01:24:40.719" end="01:24:44.199" style="s2">slost in this case and if you want to</p>
<p begin="01:24:42.840" end="01:24:45.840" style="s2">see what that looks like for The</p>
<p begin="01:24:44.199" end="01:24:48.199" style="s2">Decorator and fast API it&#39;s pretty</p>
<p begin="01:24:45.840" end="01:24:50.560" style="s2">simple you just do app. postpost so this</p>
<p begin="01:24:48.199" end="01:24:52.239" style="s2">is something you guys already know now</p>
<p begin="01:24:50.560" end="01:24:53.480" style="s2">when it comes to read functionality</p>
<p begin="01:24:52.239" end="01:24:55.679" style="s2">which would be you know reading or</p>
<p begin="01:24:53.480" end="01:24:57.480" style="s2">retrieving pre-existing posts there&#39;s</p>
<p begin="01:24:55.679" end="01:24:59.119" style="s2">actually two different path operations</p>
<p begin="01:24:57.480" end="01:25:01.080" style="s2">we&#39;re going to create so the first one</p>
<p begin="01:24:59.119" end="01:25:03.360" style="s2">is going to be/ poost and this is going</p>
<p begin="01:25:01.080" end="01:25:05.560" style="s2">to be for retrieving either all of the</p>
<p begin="01:25:03.360" end="01:25:08.000" style="s2">posts or multiple posts depending on</p>
<p begin="01:25:05.560" end="01:25:10.719" style="s2">what filter that we use and so when it</p>
<p begin="01:25:08.000" end="01:25:11.960" style="s2">comes to retrieving information uh from</p>
<p begin="01:25:10.719" end="01:25:13.880" style="s2">a database or anything like that</p>
<p begin="01:25:11.960" end="01:25:15.760" style="s2">retrieving data it&#39;s always going to be</p>
<p begin="01:25:13.880" end="01:25:18.400" style="s2">a get operation so you send a get</p>
<p begin="01:25:15.760" end="01:25:20.520" style="s2">request to SL posts and if you want to</p>
<p begin="01:25:18.400" end="01:25:22.159" style="s2">see what that face The Decorator on Fast</p>
<p begin="01:25:20.520" end="01:25:24.040" style="s2">AP would look like it&#39;s just app.get</p>
<p begin="01:25:22.159" end="01:25:26.119" style="s2">slost once again we already have this</p>
<p begin="01:25:24.040" end="01:25:27.880" style="s2">set up up in our application so far</p>
<p begin="01:25:26.119" end="01:25:29.800" style="s2">however there&#39;s also going to be another</p>
<p begin="01:25:27.880" end="01:25:31.880" style="s2">path operation for reading right and</p>
<p begin="01:25:29.800" end="01:25:33.400" style="s2">that&#39;s if you want to get one individual</p>
<p begin="01:25:31.880" end="01:25:35.800" style="s2">post so if we want to get detailed</p>
<p begin="01:25:33.400" end="01:25:38.560" style="s2">information about one specific post</p>
<p begin="01:25:35.800" end="01:25:41.080" style="s2">we&#39;re going to send a get request to SL</p>
<p begin="01:25:38.560" end="01:25:43.560" style="s2">posts slash and then we&#39;ve got this ID</p>
<p begin="01:25:41.080" end="01:25:45.760" style="s2">right here so anytime you create</p>
<p begin="01:25:43.560" end="01:25:47.159" style="s2">something uh what&#39;s going to happen is</p>
<p begin="01:25:45.760" end="01:25:49.520" style="s2">anytime you add something to a database</p>
<p begin="01:25:47.159" end="01:25:51.760" style="s2">the database is going to give it that</p>
<p begin="01:25:49.520" end="01:25:54.320" style="s2">specific item a unique identifier so</p>
<p begin="01:25:51.760" end="01:25:57.679" style="s2">that we can uniquely identify that spef</p>
<p begin="01:25:54.320" end="01:25:59.520" style="s2">specific entry and so if I want to get</p>
<p begin="01:25:57.679" end="01:26:01.440" style="s2">detailed information about a specific</p>
<p begin="01:25:59.520" end="01:26:03.280" style="s2">post I would just send a request to/</p>
<p begin="01:26:01.440" end="01:26:05.040" style="s2">poost and then pass the ID of that</p>
<p begin="01:26:03.280" end="01:26:07.239" style="s2">specific post I&#39;m interested in so</p>
<p begin="01:26:05.040" end="01:26:08.760" style="s2">that&#39;s what this ID represents and</p>
<p begin="01:26:07.239" end="01:26:09.679" style="s2">within fast API if you want to see what</p>
<p begin="01:26:08.760" end="01:26:12.440" style="s2">that actually looks like you would just</p>
<p begin="01:26:09.679" end="01:26:14.560" style="s2">do app.get SL poost and then you do</p>
<p begin="01:26:12.440" end="01:26:16.880" style="s2">curly braces and then ID and that&#39;ll</p>
<p begin="01:26:14.560" end="01:26:18.880" style="s2">allow you to extract the ID from the</p>
<p begin="01:26:16.880" end="01:26:21.360" style="s2">specific URL of the request and then we</p>
<p begin="01:26:18.880" end="01:26:23.000" style="s2">can you know take that URL uh sorry take</p>
<p begin="01:26:21.360" end="01:26:24.400" style="s2">that ID and then you know send it out to</p>
<p begin="01:26:23.000" end="01:26:26.040" style="s2">our database so that we can retrieve the</p>
<p begin="01:26:24.400" end="01:26:29.600" style="s2">information so there&#39;s always going to</p>
<p begin="01:26:26.040" end="01:26:31.800" style="s2">be two specific path operations for read</p>
<p begin="01:26:29.600" end="01:26:35.199" style="s2">functionality then we have</p>
<p begin="01:26:31.800" end="01:26:37.560" style="s2">update uh so this would involve updating</p>
<p begin="01:26:35.199" end="01:26:38.800" style="s2">uh a pre-existing post so maybe we you</p>
<p begin="01:26:37.560" end="01:26:40.480" style="s2">know posted out something and then we</p>
<p begin="01:26:38.800" end="01:26:41.880" style="s2">realize we said something offensive and</p>
<p begin="01:26:40.480" end="01:26:44.480" style="s2">we want to update it before anyone takes</p>
<p begin="01:26:41.880" end="01:26:46.239" style="s2">a screenshot of it now when it comes to</p>
<p begin="01:26:44.480" end="01:26:48.480" style="s2">updating right there&#39;s two different</p>
<p begin="01:26:46.239" end="01:26:50.679" style="s2">HTTP methods that we can use we can use</p>
<p begin="01:26:48.480" end="01:26:52.560" style="s2">put or patch and it&#39;s really a matter of</p>
<p begin="01:26:50.679" end="01:26:53.760" style="s2">user preference the only difference is</p>
<p begin="01:26:52.560" end="01:26:56.239" style="s2">that I want to I don&#39;t want to spend too</p>
<p begin="01:26:53.760" end="01:26:58.960" style="s2">much time on on it is that when we use</p>
<p begin="01:26:56.239" end="01:27:00.960" style="s2">put that you the idea is that you pass</p>
<p begin="01:26:58.960" end="01:27:03.360" style="s2">all of the information for updating it</p>
<p begin="01:27:00.960" end="01:27:05.600" style="s2">so all of the fields have to be sent um</p>
<p begin="01:27:03.360" end="01:27:07.920" style="s2">to the to the API server whereas a patch</p>
<p begin="01:27:05.600" end="01:27:09.960" style="s2">we can just send just the specific field</p>
<p begin="01:27:07.920" end="01:27:11.239" style="s2">that we want to change so put you want</p>
<p begin="01:27:09.960" end="01:27:13.280" style="s2">to change the entire thing you have to</p>
<p begin="01:27:11.239" end="01:27:14.480" style="s2">pass every every field even if it&#39;s</p>
<p begin="01:27:13.280" end="01:27:16.119" style="s2">going to be the same and most Fields</p>
<p begin="01:27:14.480" end="01:27:18.119" style="s2">don&#39;t change whereas a patch we would</p>
<p begin="01:27:16.119" end="01:27:20.239" style="s2">just change the one specific field so as</p>
<p begin="01:27:18.119" end="01:27:21.560" style="s2">an example uh as a you know if we&#39;re</p>
<p begin="01:27:20.239" end="01:27:23.080" style="s2">working with users actually if we&#39;re</p>
<p begin="01:27:21.560" end="01:27:25.320" style="s2">working with posts and let&#39;s say I</p>
<p begin="01:27:23.080" end="01:27:27.320" style="s2">wanted to change the title all right I</p>
<p begin="01:27:25.320" end="01:27:29.679" style="s2">want to update the title of a post if I</p>
<p begin="01:27:27.320" end="01:27:31.400" style="s2">used a put request I&#39;d have to give the</p>
<p begin="01:27:29.679" end="01:27:33.760" style="s2">new title and I would have to give the</p>
<p begin="01:27:31.400" end="01:27:35.800" style="s2">pre-existing content right because the</p>
<p begin="01:27:33.760" end="01:27:37.239" style="s2">put uh the idea behind put is that you</p>
<p begin="01:27:35.800" end="01:27:39.239" style="s2">have to provide all of the same</p>
<p begin="01:27:37.239" end="01:27:40.719" style="s2">information so that we can on the back</p>
<p begin="01:27:39.239" end="01:27:42.639" style="s2">end just take all the information and</p>
<p begin="01:27:40.719" end="01:27:44.840" style="s2">then update the entity whereas a patch</p>
<p begin="01:27:42.639" end="01:27:46.480" style="s2">operation I can just send the title and</p>
<p begin="01:27:44.840" end="01:27:48.480" style="s2">then my backend should know how to just</p>
<p begin="01:27:46.480" end="01:27:51.000" style="s2">update that one field we&#39;re going to</p>
<p begin="01:27:48.480" end="01:27:52.480" style="s2">stick with put I believe uh in our</p>
<p begin="01:27:51.000" end="01:27:53.639" style="s2">application but really at the end of the</p>
<p begin="01:27:52.480" end="01:27:55.960" style="s2">day it doesn&#39;t really matter it&#39;s just a</p>
<p begin="01:27:53.639" end="01:27:57.400" style="s2">matter of you preference but with update</p>
<p begin="01:27:55.960" end="01:27:59.760" style="s2">just like when it comes to retrieving</p>
<p begin="01:27:57.400" end="01:28:02.280" style="s2">one specific post we have to pass in the</p>
<p begin="01:27:59.760" end="01:28:03.560" style="s2">ID so that we know which specific post</p>
<p begin="01:28:02.280" end="01:28:06.320" style="s2">we want to</p>
<p begin="01:28:03.560" end="01:28:08.000" style="s2">update and for The Decorator and fast</p>
<p begin="01:28:06.320" end="01:28:10.840" style="s2">API the only thing that we change is</p>
<p begin="01:28:08.000" end="01:28:12.440" style="s2">it&#39;s going to be app. put uh and then we</p>
<p begin="01:28:10.840" end="01:28:13.679" style="s2">can pass in the ID like we did before</p>
<p begin="01:28:12.440" end="01:28:15.520" style="s2">and then finally we have delete so if</p>
<p begin="01:28:13.679" end="01:28:17.800" style="s2">you want to delete a post once again</p>
<p begin="01:28:15.520" end="01:28:19.239" style="s2">you&#39;re going to send a delete request so</p>
<p begin="01:28:17.800" end="01:28:20.880" style="s2">that&#39;s the HTTP verb is going to be</p>
<p begin="01:28:19.239" end="01:28:23.000" style="s2">delete and then we have to pass in the</p>
<p begin="01:28:20.880" end="01:28:25.760" style="s2">specific ID of the post as well and then</p>
<p begin="01:28:23.000" end="01:28:27.639" style="s2">this is what the fast a API um decorator</p>
<p begin="01:28:25.760" end="01:28:29.960" style="s2">is going to look like so it&#39;s actually</p>
<p begin="01:28:27.639" end="01:28:32.000" style="s2">not that hard it&#39;s fairly simple and</p>
<p begin="01:28:29.960" end="01:28:34.400" style="s2">you&#39;ll see that once you create one crud</p>
<p begin="01:28:32.000" end="01:28:36.679" style="s2">API creating another one is almost a</p>
<p begin="01:28:34.400" end="01:28:38.600" style="s2">matter of copying and pasting really uh</p>
<p begin="01:28:36.679" end="01:28:40.719" style="s2">and so in the next video we&#39;re going to</p>
<p begin="01:28:38.600" end="01:28:42.560" style="s2">make a few changes to our API so that we</p>
<p begin="01:28:40.719" end="01:28:44.840" style="s2">can make sure that we follow uh this</p>
<p begin="01:28:42.560" end="01:28:47.159" style="s2">naming convention because right now I</p>
<p begin="01:28:44.840" end="01:28:49.239" style="s2">believe when it comes to creating a post</p>
<p begin="01:28:47.159" end="01:28:51.320" style="s2">instead of just using SL poost we called</p>
<p begin="01:28:49.239" end="01:28:53.000" style="s2">it SLC create post which once again is</p>
<p begin="01:28:51.320" end="01:28:54.679" style="s2">not following best practice so we&#39;ll</p>
<p begin="01:28:53.000" end="01:28:55.960" style="s2">update that in the next video all right</p>
<p begin="01:28:54.679" end="01:28:57.639" style="s2">guys so in the last lesson we learned</p>
<p begin="01:28:55.960" end="01:28:59.639" style="s2">about best practice and naming</p>
<p begin="01:28:57.639" end="01:29:01.280" style="s2">conventions for an API so what I want to</p>
<p begin="01:28:59.639" end="01:29:03.000" style="s2">do is quickly go into all the code that</p>
<p begin="01:29:01.280" end="01:29:05.239" style="s2">we have and make changes so that we</p>
<p begin="01:29:03.000" end="01:29:06.639" style="s2">follow best practices and so if you take</p>
<p begin="01:29:05.239" end="01:29:09.280" style="s2">a look at our get requests you can see</p>
<p begin="01:29:06.639" end="01:29:11.320" style="s2">we say send a get request to/ posts</p>
<p begin="01:29:09.280" end="01:29:12.600" style="s2">that&#39;s perfect uh we don&#39;t need to</p>
<p begin="01:29:11.320" end="01:29:14.600" style="s2">change anything to that however the</p>
<p begin="01:29:12.600" end="01:29:16.520" style="s2">issue is is our uh create post</p>
<p begin="01:29:14.600" end="01:29:18.400" style="s2">functionality so the path for creating</p>
<p begin="01:29:16.520" end="01:29:21.960" style="s2">posts we can see that we send it to a</p>
<p begin="01:29:18.400" end="01:29:23.840" style="s2">URL of SLC create post that is not going</p>
<p begin="01:29:21.960" end="01:29:26.719" style="s2">and following best practi so what we do</p>
<p begin="01:29:23.840" end="01:29:29.800" style="s2">just change this to be SL</p>
<p begin="01:29:26.719" end="01:29:31.080" style="s2">posts and that&#39;s all we have to do uh</p>
<p begin="01:29:29.800" end="01:29:33.679" style="s2">and so we&#39;ll save</p>
<p begin="01:29:31.080" end="01:29:36.000" style="s2">this and um we&#39;ll we&#39;ll just double</p>
<p begin="01:29:33.679" end="01:29:37.480" style="s2">check inside our um post man just to</p>
<p begin="01:29:36.000" end="01:29:39.360" style="s2">make sure we update that as well so this</p>
<p begin="01:29:37.480" end="01:29:40.719" style="s2">is going to be to SL poost and then</p>
<p begin="01:29:39.360" end="01:29:42.320" style="s2">we&#39;ll just test this out to make sure we</p>
<p begin="01:29:40.719" end="01:29:43.840" style="s2">didn&#39;t break anything and it looks like</p>
<p begin="01:29:42.320" end="01:29:46.320" style="s2">it&#39;s still working just</p>
<p begin="01:29:43.840" end="01:29:47.960" style="s2">fine all right guys so if we take a look</p>
<p begin="01:29:46.320" end="01:29:50.440" style="s2">at our code you can see that for our</p>
<p begin="01:29:47.960" end="01:29:51.679" style="s2">create post path function uh we&#39;re not</p>
<p begin="01:29:50.440" end="01:29:53.080" style="s2">actually doing anything with the data</p>
<p begin="01:29:51.679" end="01:29:54.520" style="s2">we&#39;re not actually saving the post</p>
<p begin="01:29:53.080" end="01:29:56.320" style="s2">anywhere right now we just print it out</p>
<p begin="01:29:54.520" end="01:29:57.600" style="s2">and then send it back to the user so</p>
<p begin="01:29:56.320" end="01:29:59.560" style="s2">that&#39;s not exactly how a real</p>
<p begin="01:29:57.600" end="01:30:00.920" style="s2">application would work and so what I</p>
<p begin="01:29:59.560" end="01:30:02.280" style="s2">want to do is I want to start saving</p>
<p begin="01:30:00.920" end="01:30:03.840" style="s2">these posts I want to start turning this</p>
<p begin="01:30:02.280" end="01:30:06.080" style="s2">into a real fully functioning</p>
<p begin="01:30:03.840" end="01:30:07.920" style="s2">application now ideally we&#39;re going to</p>
<p begin="01:30:06.080" end="01:30:09.400" style="s2">save this uh within a database because</p>
<p begin="01:30:07.920" end="01:30:10.560" style="s2">that&#39;s how any application works you</p>
<p begin="01:30:09.400" end="01:30:12.520" style="s2">want to take a post you want to save it</p>
<p begin="01:30:10.560" end="01:30:15.600" style="s2">in database so that you can persist that</p>
<p begin="01:30:12.520" end="01:30:17.000" style="s2">data however we&#39;re not quite ready to</p>
<p begin="01:30:15.600" end="01:30:18.639" style="s2">handle working with the database it&#39;s a</p>
<p begin="01:30:17.000" end="01:30:19.960" style="s2">little complex we&#39;re going to get to it</p>
<p begin="01:30:18.639" end="01:30:21.400" style="s2">in this course however I want to keep</p>
<p begin="01:30:19.960" end="01:30:23.400" style="s2">things simple so what we&#39;re going to do</p>
<p begin="01:30:21.400" end="01:30:25.679" style="s2">is we&#39;re going to save the posts in</p>
<p begin="01:30:23.400" end="01:30:27.840" style="s2">memory and how do we do that easy I&#39;m</p>
<p begin="01:30:25.679" end="01:30:29.639" style="s2">just going to create a variable uh just</p>
<p begin="01:30:27.840" end="01:30:32.840" style="s2">globally that&#39;s going to store all of</p>
<p begin="01:30:29.639" end="01:30:34.760" style="s2">our posts so I&#39;m going to say mycore</p>
<p begin="01:30:32.840" end="01:30:36.760" style="s2">posts and this is just going to be an</p>
<p begin="01:30:34.760" end="01:30:39.000" style="s2">array and so this array is going to</p>
<p begin="01:30:36.760" end="01:30:41.000" style="s2">contain an uh whole bunch of posts</p>
<p begin="01:30:39.000" end="01:30:42.199" style="s2">objects right and what each post is</p>
<p begin="01:30:41.000" end="01:30:43.560" style="s2">going to be is it&#39;s going to be</p>
<p begin="01:30:42.199" end="01:30:45.119" style="s2">essentially a dictionary and the</p>
<p begin="01:30:43.560" end="01:30:47.040" style="s2">dictionary is going to look kind of like</p>
<p begin="01:30:45.119" end="01:30:48.920" style="s2">this so we&#39;re going to have a couple</p>
<p begin="01:30:47.040" end="01:30:50.800" style="s2">properties so we already know that our</p>
<p begin="01:30:48.920" end="01:30:53.239" style="s2">post is going to have a title and then</p>
<p begin="01:30:50.800" end="01:30:56.360" style="s2">that&#39;ll have you know whatever you know</p>
<p begin="01:30:53.239" end="01:30:58.840" style="s2">title of post one or whatever and then</p>
<p begin="01:30:56.360" end="01:31:01.679" style="s2">we&#39;re going to have the content of</p>
<p begin="01:30:58.840" end="01:31:04.000" style="s2">course and I&#39;ll just say content of post</p>
<p begin="01:31:01.679" end="01:31:06.360" style="s2">one this is just an example</p>
<p begin="01:31:04.000" end="01:31:08.320" style="s2">post and then what we&#39;ll also do is like</p>
<p begin="01:31:06.360" end="01:31:11.280" style="s2">I mentioned before anytime you save an</p>
<p begin="01:31:08.320" end="01:31:12.800" style="s2">applica save a uh piece of information</p>
<p begin="01:31:11.280" end="01:31:16.360" style="s2">within a database the database is going</p>
<p begin="01:31:12.800" end="01:31:17.560" style="s2">to create a unique uh identifier an ID</p>
<p begin="01:31:16.360" end="01:31:20.840" style="s2">uh now since we&#39;re not working with</p>
<p begin="01:31:17.560" end="01:31:22.560" style="s2">databases there&#39;s no uh ID however it&#39;s</p>
<p begin="01:31:20.840" end="01:31:24.159" style="s2">going to create issues because uh you</p>
<p begin="01:31:22.560" end="01:31:27.080" style="s2">know if you remember when it when it</p>
<p begin="01:31:24.159" end="01:31:28.440" style="s2">comes to working with um crud based apis</p>
<p begin="01:31:27.080" end="01:31:30.159" style="s2">we need to be able to fetch data and</p>
<p begin="01:31:28.440" end="01:31:31.600" style="s2">update data based off of the ID of the</p>
<p begin="01:31:30.159" end="01:31:33.480" style="s2">specific post so we do need to still</p>
<p begin="01:31:31.600" end="01:31:35.920" style="s2">have an ID so that we can uniquely</p>
<p begin="01:31:33.480" end="01:31:37.600" style="s2">reference any single item uh within this</p>
<p begin="01:31:35.920" end="01:31:40.159" style="s2">array so we&#39;re going to have another</p>
<p begin="01:31:37.600" end="01:31:42.360" style="s2">field called</p>
<p begin="01:31:40.159" end="01:31:44.719" style="s2">ID and then this is just going to have</p>
<p begin="01:31:42.360" end="01:31:46.600" style="s2">you know be some random integer you know</p>
<p begin="01:31:44.719" end="01:31:48.360" style="s2">1 2 3 4 5 it doesn&#39;t matter it&#39;s just</p>
<p begin="01:31:46.600" end="01:31:49.800" style="s2">got to be unique that&#39;s all that matters</p>
<p begin="01:31:48.360" end="01:31:50.760" style="s2">so this is what our post is going to</p>
<p begin="01:31:49.800" end="01:31:52.320" style="s2">look like and we&#39;re going to just store</p>
<p begin="01:31:50.760" end="01:31:54.320" style="s2">it in this array so we&#39;re going to have</p>
<p begin="01:31:52.320" end="01:31:56.400" style="s2">multiple posts and I&#39;m going to keep</p>
<p begin="01:31:54.320" end="01:31:58.920" style="s2">this one hardcoded in here because every</p>
<p begin="01:31:56.400" end="01:32:00.400" style="s2">time we change our code and hit save and</p>
<p begin="01:31:58.920" end="01:32:01.719" style="s2">refresh guess what it&#39;s going to clear</p>
<p begin="01:32:00.400" end="01:32:03.040" style="s2">this out because remember this is just</p>
<p begin="01:32:01.719" end="01:32:04.960" style="s2">stored in memory so every time our</p>
<p begin="01:32:03.040" end="01:32:07.320" style="s2">application restarts we&#39;re going to lose</p>
<p begin="01:32:04.960" end="01:32:09.920" style="s2">that data so just to keep things simple</p>
<p begin="01:32:07.320" end="01:32:12.159" style="s2">I&#39;m going to hardcode another uh another</p>
<p begin="01:32:09.920" end="01:32:14.239" style="s2">entry so for this post we&#39;ll say the</p>
<p begin="01:32:12.159" end="01:32:16.280" style="s2">title</p>
<p begin="01:32:14.239" end="01:32:20.600" style="s2">is uh favorite</p>
<p begin="01:32:16.280" end="01:32:20.600" style="s2">foods and the content will</p>
<p begin="01:32:21.360" end="01:32:28.239" style="s2">be I like pizza</p>
<p begin="01:32:24.600" end="01:32:28.239" style="s2">and we&#39;ll just give this an ID of</p>
<p begin="01:32:31.639" end="01:32:35.119" style="s2">two all right and so now that we</p>
<p begin="01:32:33.760" end="01:32:37.440" style="s2">actually have someplace to store our</p>
<p begin="01:32:35.119" end="01:32:40.000" style="s2">post we can actually test out our get</p>
<p begin="01:32:37.440" end="01:32:41.520" style="s2">post functionality to see if it works so</p>
<p begin="01:32:40.000" end="01:32:43.679" style="s2">I&#39;m going to save this we&#39;re going to go</p>
<p begin="01:32:41.520" end="01:32:45.360" style="s2">back to postman so find the one with the</p>
<p begin="01:32:43.679" end="01:32:48.159" style="s2">get operation where we&#39;re retrieving the</p>
<p begin="01:32:45.360" end="01:32:50.560" style="s2">posts and then we&#39;ll hit send let&#39;s see</p>
<p begin="01:32:48.159" end="01:32:51.520" style="s2">well when we hit send nothing happens of</p>
<p begin="01:32:50.560" end="01:32:53.639" style="s2">course because we actually have to</p>
<p begin="01:32:51.520" end="01:32:56.080" style="s2">update the code to send that data so</p>
<p begin="01:32:53.639" end="01:32:58.199" style="s2">let&#39;s let&#39;s go back to our code and</p>
<p begin="01:32:56.080" end="01:33:01.600" style="s2">let&#39;s go to our get post so right now</p>
<p begin="01:32:58.199" end="01:33:01.600" style="s2">we&#39;re just sending back this</p>
<p begin="01:33:01.880" end="01:33:06.639" style="s2">information so let&#39;s update this so that</p>
<p begin="01:33:04.000" end="01:33:08.040" style="s2">we return my posts and this should be</p>
<p begin="01:33:06.639" end="01:33:09.880" style="s2">fairly straightforward what we can do is</p>
<p begin="01:33:08.040" end="01:33:11.679" style="s2">we can just keep this property called</p>
<p begin="01:33:09.880" end="01:33:14.320" style="s2">data and then we can just remove this</p>
<p begin="01:33:11.679" end="01:33:16.480" style="s2">and just pass along mycore</p>
<p begin="01:33:14.320" end="01:33:18.560" style="s2">posts and so what&#39;s going to happen is</p>
<p begin="01:33:16.480" end="01:33:20.520" style="s2">fast API is great because if I pass in</p>
<p begin="01:33:18.560" end="01:33:22.280" style="s2">an array like this it&#39;ll automatically</p>
<p begin="01:33:20.520" end="01:33:24.480" style="s2">serialize it so it&#39;s going to convert it</p>
<p begin="01:33:22.280" end="01:33:26.480" style="s2">into Json Json has something that&#39;s also</p>
<p begin="01:33:24.480" end="01:33:28.760" style="s2">very similar to an array and it&#39;s going</p>
<p begin="01:33:26.480" end="01:33:30.840" style="s2">to change that into a Json format so</p>
<p begin="01:33:28.760" end="01:33:32.040" style="s2">that we can send it over our API so</p>
<p begin="01:33:30.840" end="01:33:34.880" style="s2">that&#39;s all we have to do we just have to</p>
<p begin="01:33:32.040" end="01:33:38.480" style="s2">pass in the array and it&#39;s going to send</p>
<p begin="01:33:34.880" end="01:33:40.840" style="s2">that now if we try this look at that so</p>
<p begin="01:33:38.480" end="01:33:42.880" style="s2">we get the data property and within here</p>
<p begin="01:33:40.840" end="01:33:44.480" style="s2">we have an array so this is Json also</p>
<p begin="01:33:42.880" end="01:33:47.800" style="s2">has a concept of arrays and then within</p>
<p begin="01:33:44.480" end="01:33:51.480" style="s2">here you can see we&#39;ve got our post one</p>
<p begin="01:33:47.800" end="01:33:53.840" style="s2">and our post to so um that&#39;s really as</p>
<p begin="01:33:51.480" end="01:33:55.560" style="s2">simple as how to work with our API how</p>
<p begin="01:33:53.840" end="01:33:58.400" style="s2">to actually retrieve posts in the next</p>
<p begin="01:33:55.560" end="01:34:00.600" style="s2">video we&#39;re going to update the um</p>
<p begin="01:33:58.400" end="01:34:03.040" style="s2">create post path operation so that we</p>
<p begin="01:34:00.600" end="01:34:06.520" style="s2">can figure out how to add a new post</p>
<p begin="01:34:03.040" end="01:34:06.520" style="s2">into our my posts</p>
<p begin="01:34:06.639" end="01:34:11.159" style="s2">array all right guys so let&#39;s update our</p>
<p begin="01:34:09.119" end="01:34:13.800" style="s2">create post path operation function so</p>
<p begin="01:34:11.159" end="01:34:15.920" style="s2">that we can uh retrieve the title and</p>
<p begin="01:34:13.800" end="01:34:17.639" style="s2">the content uh from our front end and</p>
<p begin="01:34:15.920" end="01:34:21.119" style="s2">then create a brand new post and store</p>
<p begin="01:34:17.639" end="01:34:23.159" style="s2">it within our my posts array so how do</p>
<p begin="01:34:21.119" end="01:34:25.280" style="s2">we do that well we already know that we</p>
<p begin="01:34:23.159" end="01:34:27.080" style="s2">can retrieve retrieve our post by</p>
<p begin="01:34:25.280" end="01:34:29.159" style="s2">referencing this post variable because</p>
<p begin="01:34:27.080" end="01:34:32.040" style="s2">this will take our schema which remember</p>
<p begin="01:34:29.159" end="01:34:33.159" style="s2">we defined with pantic it&#39;s going to do</p>
<p begin="01:34:32.040" end="01:34:34.920" style="s2">all the validation and it&#39;s going to</p>
<p begin="01:34:33.159" end="01:34:37.480" style="s2">store it within post and so this is</p>
<p begin="01:34:34.920" end="01:34:39.920" style="s2">still going to be a a pantic model</p>
<p begin="01:34:37.480" end="01:34:42.080" style="s2">however our um our array is going to be</p>
<p begin="01:34:39.920" end="01:34:43.719" style="s2">an array of dictionaries so we have to</p>
<p begin="01:34:42.080" end="01:34:45.040" style="s2">convert that to dictionaries and we</p>
<p begin="01:34:43.719" end="01:34:47.679" style="s2">already know that we can convert any</p>
<p begin="01:34:45.040" end="01:34:49.920" style="s2">pantic model to a dictionary by doing</p>
<p begin="01:34:47.679" end="01:34:52.040" style="s2">dict uh and then that&#39;ll turn it into a</p>
<p begin="01:34:49.920" end="01:34:53.880" style="s2">standard python dictionary and at that</p>
<p begin="01:34:52.040" end="01:34:55.400" style="s2">point uh it&#39;s pretty simple this is just</p>
<p begin="01:34:53.880" end="01:35:00.199" style="s2">standard python at this point we can</p>
<p begin="01:34:55.400" end="01:35:03.800" style="s2">just do a myor posts.</p>
<p begin="01:35:00.199" end="01:35:05.560" style="s2">append and then we can append post. dict</p>
<p begin="01:35:03.800" end="01:35:06.800" style="s2">just like we did before we don&#39;t we can</p>
<p begin="01:35:05.560" end="01:35:09.400" style="s2">remove these print statements they&#39;re</p>
<p begin="01:35:06.800" end="01:35:12.960" style="s2">just cluttering things</p>
<p begin="01:35:09.400" end="01:35:16.560" style="s2">up however there&#39;s one little issue like</p>
<p begin="01:35:12.960" end="01:35:19.199" style="s2">I said we need to have an ID for every</p>
<p begin="01:35:16.560" end="01:35:20.440" style="s2">entry uh and normally the database</p>
<p begin="01:35:19.199" end="01:35:22.119" style="s2">handles that but since we are not</p>
<p begin="01:35:20.440" end="01:35:23.199" style="s2">actually working with a real database</p>
<p begin="01:35:22.119" end="01:35:24.920" style="s2">we&#39;re going to have to do this in</p>
<p begin="01:35:23.199" end="01:35:26.480" style="s2">software so what I&#39;m going to do is</p>
<p begin="01:35:24.920" end="01:35:28.800" style="s2">we&#39;re just going to assign it a random</p>
<p begin="01:35:26.480" end="01:35:30.800" style="s2">integer um not really that reliable but</p>
<p begin="01:35:28.800" end="01:35:32.639" style="s2">if we pick a random number between 1 and</p>
<p begin="01:35:30.800" end="01:35:34.400" style="s2">you know 10 million the odds of us</p>
<p begin="01:35:32.639" end="01:35:36.239" style="s2">hitting the same number twice is almost</p>
<p begin="01:35:34.400" end="01:35:39.000" style="s2">Next To None So what we&#39;re going to do</p>
<p begin="01:35:36.239" end="01:35:41.600" style="s2">is we&#39;re going to use the random package</p>
<p begin="01:35:39.000" end="01:35:43.800" style="s2">uh so we&#39;ll say from random</p>
<p begin="01:35:41.600" end="01:35:46.040" style="s2">import Rand range and this is what we&#39;re</p>
<p begin="01:35:43.800" end="01:35:49.280" style="s2">going to use to uh create a random</p>
<p begin="01:35:46.040" end="01:35:49.280" style="s2">number or a random</p>
<p begin="01:35:52.360" end="01:35:56.280" style="s2">integer and so so instead of doing this</p>
<p begin="01:35:54.920" end="01:35:58.840" style="s2">I&#39;m actually going to remove this for a</p>
<p begin="01:35:56.280" end="01:36:00.639" style="s2">second and I spelled append wrong as</p>
<p begin="01:35:58.840" end="01:36:04.080" style="s2">well what we&#39;re going to do is I&#39;m going</p>
<p begin="01:36:00.639" end="01:36:06.360" style="s2">to say postore dict which is going to be</p>
<p begin="01:36:04.080" end="01:36:07.880" style="s2">the um post penic model converted to a</p>
<p begin="01:36:06.360" end="01:36:11.000" style="s2">dictionary I&#39;m going to set that equal</p>
<p begin="01:36:07.880" end="01:36:12.880" style="s2">to post. dict okay so this is going to</p>
<p begin="01:36:11.000" end="01:36:14.320" style="s2">be the dictionary and so now that we</p>
<p begin="01:36:12.880" end="01:36:17.320" style="s2">have a regular python dictionary what we</p>
<p begin="01:36:14.320" end="01:36:19.560" style="s2">can say is postore</p>
<p begin="01:36:17.320" end="01:36:21.800" style="s2">addict and then I&#39;m going to reference</p>
<p begin="01:36:19.560" end="01:36:23.600" style="s2">the ID field that I&#39;m creating and I&#39;m</p>
<p begin="01:36:21.800" end="01:36:24.760" style="s2">going to assign that to be a random</p>
<p begin="01:36:23.600" end="01:36:25.880" style="s2">number so we&#39;re going to give it a range</p>
<p begin="01:36:24.760" end="01:36:28.760" style="s2">of</p>
<p begin="01:36:25.880" end="01:36:31.400" style="s2">0o two and then just pick some really</p>
<p begin="01:36:28.760" end="01:36:32.639" style="s2">really really really large number so</p>
<p begin="01:36:31.400" end="01:36:34.800" style="s2">this is going to ensure that pretty much</p>
<p begin="01:36:32.639" end="01:36:37.239" style="s2">any entry for development purposes is</p>
<p begin="01:36:34.800" end="01:36:39.199" style="s2">going to be</p>
<p begin="01:36:37.239" end="01:36:41.480" style="s2">unique we will&#39;ll append that to the</p>
<p begin="01:36:39.199" end="01:36:44.360" style="s2">array and then here&#39;s the thing when it</p>
<p begin="01:36:41.480" end="01:36:46.679" style="s2">comes to how a usual API works is that</p>
<p begin="01:36:44.360" end="01:36:48.840" style="s2">when a front end sends the data to</p>
<p begin="01:36:46.679" end="01:36:50.520" style="s2">create a new post after we create the</p>
<p begin="01:36:48.840" end="01:36:52.560" style="s2">post stored in our database we should</p>
<p begin="01:36:50.520" end="01:36:54.840" style="s2">send back the newly created post</p>
<p begin="01:36:52.560" end="01:36:57.400" style="s2">including the brand new new ID so let&#39;s</p>
<p begin="01:36:54.840" end="01:37:01.119" style="s2">send that back so in this case I&#39;m going</p>
<p begin="01:36:57.400" end="01:37:03.280" style="s2">to send back postore dict cuz that&#39;s</p>
<p begin="01:37:01.119" end="01:37:08.040" style="s2">going to be the brand new post that we</p>
<p begin="01:37:03.280" end="01:37:08.040" style="s2">uh add to the specif add to our posts</p>
<p begin="01:37:08.080" end="01:37:12.760" style="s2">array so let&#39;s try this</p>
<p begin="01:37:10.360" end="01:37:14.080" style="s2">out uh let&#39;s go to our post request that</p>
<p begin="01:37:12.760" end="01:37:16.600" style="s2">we</p>
<p begin="01:37:14.080" end="01:37:18.239" style="s2">have and let&#39;s see all of our data so</p>
<p begin="01:37:16.600" end="01:37:20.520" style="s2">we&#39;ve got a couple things title content</p>
<p begin="01:37:18.239" end="01:37:22.320" style="s2">rating I don&#39;t really care about the</p>
<p begin="01:37:20.520" end="01:37:24.119" style="s2">rating um but I&#39;ll just leave it in</p>
<p begin="01:37:22.320" end="01:37:25.840" style="s2">there for now it shouldn&#39;t matter</p>
<p begin="01:37:24.119" end="01:37:27.679" style="s2">and then we&#39;ll just hit send and let&#39;s</p>
<p begin="01:37:25.840" end="01:37:30.840" style="s2">see what happens and it looks like we</p>
<p begin="01:37:27.679" end="01:37:30.840" style="s2">got an error so let&#39;s see what</p>
<p begin="01:37:35.480" end="01:37:39.159" style="s2">happened all right it looks like there&#39;s</p>
<p begin="01:37:37.400" end="01:37:42.679" style="s2">an and I already see what happened I</p>
<p begin="01:37:39.159" end="01:37:44.040" style="s2">forgot to actually include postore dict</p>
<p begin="01:37:42.679" end="01:37:46.480" style="s2">we actually have to pass in what we want</p>
<p begin="01:37:44.040" end="01:37:49.040" style="s2">to append to the array let&#39;s save that</p>
<p begin="01:37:46.480" end="01:37:51.760" style="s2">try this again hopefully no errors look</p>
<p begin="01:37:49.040" end="01:37:54.080" style="s2">at that guys so it looks like we got</p>
<p begin="01:37:51.760" end="01:37:56.239" style="s2">back the newly created entry and we can</p>
<p begin="01:37:54.080" end="01:37:59.080" style="s2">see that it has an idea of whatever that</p>
<p begin="01:37:56.239" end="01:38:00.599" style="s2">number is and if we do a get request now</p>
<p begin="01:37:59.080" end="01:38:02.599" style="s2">to retrieve all of our posts we should</p>
<p begin="01:38:00.599" end="01:38:05.840" style="s2">see that newly created entry so let&#39;s</p>
<p begin="01:38:02.599" end="01:38:07.960" style="s2">take a look so we&#39;ve got post one post</p>
<p begin="01:38:05.840" end="01:38:11.000" style="s2">two and then we&#39;ve got that brand new</p>
<p begin="01:38:07.960" end="01:38:12.880" style="s2">post look at that guys so we are a</p>
<p begin="01:38:11.000" end="01:38:14.760" style="s2">little bit less than halfway done with</p>
<p begin="01:38:12.880" end="01:38:17.080" style="s2">creating our crud based</p>
<p begin="01:38:14.760" end="01:38:19.280" style="s2">application now before moving any</p>
<p begin="01:38:17.080" end="01:38:20.920" style="s2">further and writing any more code what I</p>
<p begin="01:38:19.280" end="01:38:22.480" style="s2">want to do is I want to actually save</p>
<p begin="01:38:20.920" end="01:38:24.199" style="s2">these requests because right now they&#39;re</p>
<p begin="01:38:22.480" end="01:38:26.639" style="s2">just kind of stored in me if we close</p>
<p begin="01:38:24.199" end="01:38:27.920" style="s2">out Postman it&#39;ll still remember it but</p>
<p begin="01:38:26.639" end="01:38:29.639" style="s2">what we can do is we can create a</p>
<p begin="01:38:27.920" end="01:38:30.960" style="s2">collection so here I&#39;m going to select</p>
<p begin="01:38:29.639" end="01:38:32.000" style="s2">create collection and I&#39;m going to give</p>
<p begin="01:38:30.960" end="01:38:34.119" style="s2">this a name so I&#39;m just going to name</p>
<p begin="01:38:32.000" end="01:38:37.599" style="s2">this after my project so I can call this</p>
<p begin="01:38:34.119" end="01:38:39.119" style="s2">you know fast API course or you know</p>
<p begin="01:38:37.599" end="01:38:40.360" style="s2">since this is a social media app we can</p>
<p begin="01:38:39.119" end="01:38:42.800" style="s2">call it whatever we would call it I&#39;m</p>
<p begin="01:38:40.360" end="01:38:44.159" style="s2">just going to call it fast API course</p>
<p begin="01:38:42.800" end="01:38:46.360" style="s2">we&#39;ll save</p>
<p begin="01:38:44.159" end="01:38:48.719" style="s2">that and then what I want to do is I</p>
<p begin="01:38:46.360" end="01:38:50.719" style="s2">want to save these two requests so that</p>
<p begin="01:38:48.719" end="01:38:51.920" style="s2">I don&#39;t have to remember this in case</p>
<p begin="01:38:50.719" end="01:38:54.239" style="s2">they accidentally get deleted so I&#39;ll</p>
<p begin="01:38:51.920" end="01:38:55.840" style="s2">hit save save as</p>
<p begin="01:38:54.239" end="01:38:58.760" style="s2">we&#39;ll save it and then um you can give</p>
<p begin="01:38:55.840" end="01:39:00.440" style="s2">it any name so this is going to be um I</p>
<p begin="01:38:58.760" end="01:39:02.360" style="s2">forget this is the get request so I&#39;m</p>
<p begin="01:39:00.440" end="01:39:04.960" style="s2">going to say I&#39;m going to call this get</p>
<p begin="01:39:02.360" end="01:39:06.880" style="s2">posts I&#39;m going to store it inside this</p>
<p begin="01:39:04.960" end="01:39:08.280" style="s2">collection right and so now within this</p>
<p begin="01:39:06.880" end="01:39:09.599" style="s2">collection you can see this request is</p>
<p begin="01:39:08.280" end="01:39:11.480" style="s2">stored in there and I&#39;m going to do the</p>
<p begin="01:39:09.599" end="01:39:13.239" style="s2">same thing for the Post request so this</p>
<p begin="01:39:11.480" end="01:39:16.320" style="s2">is for creating post so we&#39;ll do save as</p>
<p begin="01:39:13.239" end="01:39:18.679" style="s2">again I&#39;m going to say uh create</p>
<p begin="01:39:16.320" end="01:39:20.440" style="s2">post and then it&#39;s already remembers the</p>
<p begin="01:39:18.679" end="01:39:21.679" style="s2">most recent uh collection but go ahead</p>
<p begin="01:39:20.440" end="01:39:23.920" style="s2">and select the collection if it didn&#39;t</p>
<p begin="01:39:21.679" end="01:39:25.280" style="s2">remember that and then we&#39;ll hit save</p>
<p begin="01:39:23.920" end="01:39:27.119" style="s2">and so now they&#39;re both saved in here</p>
<p begin="01:39:25.280" end="01:39:29.520" style="s2">and we can easily bring these up anytime</p>
<p begin="01:39:27.119" end="01:39:31.440" style="s2">even if we close out all of our requests</p>
<p begin="01:39:29.520" end="01:39:32.560" style="s2">so I closed everything out can bring</p>
<p begin="01:39:31.440" end="01:39:34.480" style="s2">that right back up it&#39;s going to</p>
<p begin="01:39:32.560" end="01:39:36.000" style="s2">remember everything and then same thing</p>
<p begin="01:39:34.480" end="01:39:38.159" style="s2">with the post request if I go to the</p>
<p begin="01:39:36.000" end="01:39:40.480" style="s2">body it even remembers the fields so</p>
<p begin="01:39:38.159" end="01:39:42.560" style="s2">Postman one of my favorite tools when it</p>
<p begin="01:39:40.480" end="01:39:44.080" style="s2">comes to working with apis and you know</p>
<p begin="01:39:42.560" end="01:39:45.440" style="s2">as this course goes along you&#39;re going</p>
<p begin="01:39:44.080" end="01:39:47.800" style="s2">to continue to learn more and more</p>
<p begin="01:39:45.440" end="01:39:49.800" style="s2">things about</p>
<p begin="01:39:47.800" end="01:39:51.520" style="s2">Postman okay guys let&#39;s continue</p>
<p begin="01:39:49.800" end="01:39:53.520" style="s2">building out our crud application the</p>
<p begin="01:39:51.520" end="01:39:56.800" style="s2">next function I want to implement is is</p>
<p begin="01:39:53.520" end="01:39:58.719" style="s2">retrieving one individual post and so</p>
<p begin="01:39:56.800" end="01:40:01.719" style="s2">let&#39;s define a function for that so here</p>
<p begin="01:39:58.719" end="01:40:03.880" style="s2">I&#39;ll call this get post keep in mind</p>
<p begin="01:40:01.719" end="01:40:06.040" style="s2">this is singular so I call this get post</p>
<p begin="01:40:03.880" end="01:40:08.239" style="s2">whereas to retrieve all posts it&#39;s get</p>
<p begin="01:40:06.040" end="01:40:09.639" style="s2">posts but like I said the name of these</p>
<p begin="01:40:08.239" end="01:40:12.000" style="s2">functions don&#39;t actually matter it&#39;s</p>
<p begin="01:40:09.639" end="01:40:15.159" style="s2">just more for for you more for</p>
<p begin="01:40:12.000" end="01:40:16.719" style="s2">readability and The Decorator is going</p>
<p begin="01:40:15.159" end="01:40:17.960" style="s2">to look like this and so this is based</p>
<p begin="01:40:16.719" end="01:40:20.360" style="s2">off of that slide I already showed you</p>
<p begin="01:40:17.960" end="01:40:22.040" style="s2">so it&#39;s going to be a get method and</p>
<p begin="01:40:20.360" end="01:40:24.920" style="s2">then here the URL is going to be SL</p>
<p begin="01:40:22.040" end="01:40:27.360" style="s2">posts</p>
<p begin="01:40:24.920" end="01:40:31.800" style="s2">ID right because the user is going to</p>
<p begin="01:40:27.360" end="01:40:33.639" style="s2">provide us the ID of the specific post</p>
<p begin="01:40:31.800" end="01:40:36.480" style="s2">that they&#39;re interested in and so that&#39;s</p>
<p begin="01:40:33.639" end="01:40:38.239" style="s2">going to get embedded in the URL so</p>
<p begin="01:40:36.480" end="01:40:39.760" style="s2">they&#39;ll send a get request to slost</p>
<p begin="01:40:38.239" end="01:40:42.360" style="s2">slash and then whatever ID so if they</p>
<p begin="01:40:39.760" end="01:40:44.840" style="s2">want to see the information for uh post</p>
<p begin="01:40:42.360" end="01:40:46.320" style="s2">one they&#39;ll pass in a value of one and</p>
<p begin="01:40:44.840" end="01:40:47.960" style="s2">what this is actually referred to the</p>
<p begin="01:40:46.320" end="01:40:51.000" style="s2">proper terminology for this is that this</p>
<p begin="01:40:47.960" end="01:40:53.119" style="s2">is called a path parameter so this ID</p>
<p begin="01:40:51.000" end="01:40:54.800" style="s2">field represents a path parameter and</p>
<p begin="01:40:53.119" end="01:40:56.840" style="s2">this parameter happens to represent the</p>
<p begin="01:40:54.800" end="01:40:58.760" style="s2">ID of a specific post the user is</p>
<p begin="01:40:56.840" end="01:41:00.480" style="s2">interested in seeing and so what we can</p>
<p begin="01:40:58.760" end="01:41:02.639" style="s2">do is fast API will automatically</p>
<p begin="01:41:00.480" end="01:41:04.119" style="s2">extract this ID and then we can pass it</p>
<p begin="01:41:02.639" end="01:41:06.639" style="s2">right into our function so now our</p>
<p begin="01:41:04.119" end="01:41:09.400" style="s2">function has access to whatever value</p>
<p begin="01:41:06.639" end="01:41:12.360" style="s2">was in that URL right there and so if we</p>
<p begin="01:41:09.400" end="01:41:14.360" style="s2">want to I can do a quick print of ID and</p>
<p begin="01:41:12.360" end="01:41:16.199" style="s2">then we&#39;ll just return some hardcoded</p>
<p begin="01:41:14.360" end="01:41:19.159" style="s2">data so I&#39;ll just say data actually</p>
<p begin="01:41:16.199" end="01:41:24.000" style="s2">we&#39;ll call this uh how about postore</p>
<p begin="01:41:19.159" end="01:41:26.159" style="s2">detail I&#39;ll say this is the</p>
<p begin="01:41:24.000" end="01:41:29.080" style="s2">post you&#39;re interested</p>
<p begin="01:41:26.159" end="01:41:30.280" style="s2">in or even better what I can do is uh</p>
<p begin="01:41:29.080" end="01:41:31.760" style="s2">we&#39;ll change this to an F string and</p>
<p begin="01:41:30.280" end="01:41:34.000" style="s2">I&#39;ll just</p>
<p begin="01:41:31.760" end="01:41:37.800" style="s2">say here is</p>
<p begin="01:41:34.000" end="01:41:40.760" style="s2">post and then we can just pass an</p>
<p begin="01:41:37.800" end="01:41:42.080" style="s2">ID so let&#39;s save that we&#39;ll go to</p>
<p begin="01:41:40.760" end="01:41:43.400" style="s2">postman and what we want to do is we</p>
<p begin="01:41:42.080" end="01:41:45.480" style="s2">want to create a new post but let&#39;s</p>
<p begin="01:41:43.400" end="01:41:47.639" style="s2">create it in our collection so I&#39;m going</p>
<p begin="01:41:45.480" end="01:41:50.560" style="s2">to go in there select add request give</p>
<p begin="01:41:47.639" end="01:41:51.800" style="s2">it whatever name you want I&#39;ll say get</p>
<p begin="01:41:50.560" end="01:41:54.239" style="s2">one</p>
<p begin="01:41:51.800" end="01:41:57.360" style="s2">post and then for the the URL just copy</p>
<p begin="01:41:54.239" end="01:42:00.760" style="s2">the get posts</p>
<p begin="01:41:57.360" end="01:42:02.080" style="s2">URL and then we want to pass in the ID</p>
<p begin="01:42:00.760" end="01:42:03.560" style="s2">that we&#39;re interested so we just just do</p>
<p begin="01:42:02.080" end="01:42:05.639" style="s2">slash and then in this case I&#39;m going to</p>
<p begin="01:42:03.560" end="01:42:07.639" style="s2">get the post with an ID of Two And the</p>
<p begin="01:42:05.639" end="01:42:09.560" style="s2">reason why I&#39;m doing that is because</p>
<p begin="01:42:07.639" end="01:42:11.599" style="s2">we&#39;ve hardcoded one of our posts S ID of</p>
<p begin="01:42:09.560" end="01:42:13.760" style="s2">to so I know that&#39;s always going to be</p>
<p begin="01:42:11.599" end="01:42:15.599" style="s2">there and then we can just try sending</p>
<p begin="01:42:13.760" end="01:42:17.920" style="s2">this and see what happens so it says</p>
<p begin="01:42:15.599" end="01:42:19.599" style="s2">post detail here is post and then post</p>
<p begin="01:42:17.920" end="01:42:22.480" style="s2">number two so it looks like we were</p>
<p begin="01:42:19.599" end="01:42:24.560" style="s2">successfully able to extract the ID uh</p>
<p begin="01:42:22.480" end="01:42:26.480" style="s2">the path paramet that was passed into</p>
<p begin="01:42:24.560" end="01:42:28.320" style="s2">the specific URL that the user sent a</p>
<p begin="01:42:26.480" end="01:42:31.480" style="s2">request to so we now have access to that</p>
<p begin="01:42:28.320" end="01:42:35.159" style="s2">at that point we can just find whichever</p>
<p begin="01:42:31.480" end="01:42:37.360" style="s2">um entry in my post has that specific ID</p>
<p begin="01:42:35.159" end="01:42:38.880" style="s2">now we have to implement the logic for</p>
<p begin="01:42:37.360" end="01:42:40.119" style="s2">actually getting that post and so</p>
<p begin="01:42:38.880" end="01:42:41.800" style="s2">there&#39;s many different ways of doing</p>
<p begin="01:42:40.119" end="01:42:43.280" style="s2">this and I&#39;m telling you right now this</p>
<p begin="01:42:41.800" end="01:42:44.960" style="s2">is probably not the best way of doing</p>
<p begin="01:42:43.280" end="01:42:46.719" style="s2">this I&#39;m not really even a python expert</p>
<p begin="01:42:44.960" end="01:42:48.719" style="s2">I&#39;m sure there&#39;s much better ways of</p>
<p begin="01:42:46.719" end="01:42:49.800" style="s2">grabbing this information however uh</p>
<p begin="01:42:48.719" end="01:42:51.679" style="s2">keep in mind the codee&#39;s going to be</p>
<p begin="01:42:49.800" end="01:42:53.520" style="s2">changed later on once we start working</p>
<p begin="01:42:51.679" end="01:42:55.920" style="s2">with the database so this at this point</p>
<p begin="01:42:53.520" end="01:42:57.920" style="s2">is just basic python logic uh and I do</p>
<p begin="01:42:55.920" end="01:42:59.280" style="s2">want to keep I do want you guys to keep</p>
<p begin="01:42:57.920" end="01:43:01.040" style="s2">in mind that this may not be best</p>
<p begin="01:42:59.280" end="01:43:02.560" style="s2">practice for uh the best way of</p>
<p begin="01:43:01.040" end="01:43:04.360" style="s2">retrieving an individual post but I&#39;m</p>
<p begin="01:43:02.560" end="01:43:06.719" style="s2">just going to create a simple function</p>
<p begin="01:43:04.360" end="01:43:09.159" style="s2">and uh it&#39;s going to be called find post</p>
<p begin="01:43:06.719" end="01:43:10.960" style="s2">so this is how you find a post by an ID</p>
<p begin="01:43:09.159" end="01:43:12.960" style="s2">so the so we&#39;ll pass in an ID in this</p>
<p begin="01:43:10.960" end="01:43:15.239" style="s2">function to retrieve the post and what</p>
<p begin="01:43:12.960" end="01:43:20.239" style="s2">we&#39;ll do is we&#39;ll iterate over the my</p>
<p begin="01:43:15.239" end="01:43:20.239" style="s2">post so we&#39;ll say 4 p in my</p>
<p begin="01:43:20.520" end="01:43:25.719" style="s2">posts and we&#39;ll say if p so P represents</p>
<p begin="01:43:24.199" end="01:43:29.239" style="s2">the specific post that we&#39;re iterating</p>
<p begin="01:43:25.719" end="01:43:31.679" style="s2">over so if this specific post has an</p>
<p begin="01:43:29.239" end="01:43:36.760" style="s2">ID which</p>
<p begin="01:43:31.679" end="01:43:36.760" style="s2">equals the ID that was passed into the</p>
<p begin="01:43:38.320" end="01:43:44.400" style="s2">function then we&#39;ll return P we&#39;ll</p>
<p begin="01:43:41.599" end="01:43:44.400" style="s2">return that specific</p>
<p begin="01:43:45.239" end="01:43:48.560" style="s2">post and then at this point we can call</p>
<p begin="01:43:47.480" end="01:43:51.920" style="s2">this function so I&#39;m going to remove</p>
<p begin="01:43:48.560" end="01:43:55.040" style="s2">that print statement and say post equals</p>
<p begin="01:43:51.920" end="01:43:55.040" style="s2">findor poost</p>
<p begin="01:43:55.360" end="01:44:01.560" style="s2">ID and then for this we can just remove</p>
<p begin="01:43:57.840" end="01:44:04.520" style="s2">this and just return</p>
<p begin="01:44:01.560" end="01:44:07.320" style="s2">post let&#39;s save this let&#39;s go to back to</p>
<p begin="01:44:04.520" end="01:44:10.480" style="s2">postman and let&#39;s try this</p>
<p begin="01:44:07.320" end="01:44:12.920" style="s2">out and it looks like I got an error so</p>
<p begin="01:44:10.480" end="01:44:15.639" style="s2">something happened and let&#39;s actually</p>
<p begin="01:44:12.920" end="01:44:15.639" style="s2">take a look at our</p>
<p begin="01:44:16.520" end="01:44:21.360" style="s2">code well guys I think I found the issue</p>
<p begin="01:44:19.480" end="01:44:23.480" style="s2">so the reason why we keep getting none</p>
<p begin="01:44:21.360" end="01:44:25.560" style="s2">right if I keep sending hting send it</p>
<p begin="01:44:23.480" end="01:44:28.000" style="s2">says None and what I did was I just</p>
<p begin="01:44:25.560" end="01:44:29.800" style="s2">printed out the post to see what we got</p>
<p begin="01:44:28.000" end="01:44:31.520" style="s2">and it actually just prints out none so</p>
<p begin="01:44:29.800" end="01:44:33.599" style="s2">it for some reason we&#39;re unable to find</p>
<p begin="01:44:31.520" end="01:44:34.520" style="s2">post and I think I know exactly why and</p>
<p begin="01:44:33.599" end="01:44:37.560" style="s2">so what I&#39;m going to do is I&#39;m going to</p>
<p begin="01:44:34.520" end="01:44:39.840" style="s2">do a print of ID again and this is going</p>
<p begin="01:44:37.560" end="01:44:42.159" style="s2">to teach us an important lesson so going</p>
<p begin="01:44:39.840" end="01:44:45.280" style="s2">to send another</p>
<p begin="01:44:42.159" end="01:44:47.400" style="s2">request and it prints out two however</p>
<p begin="01:44:45.280" end="01:44:50.520" style="s2">what we&#39;re going to do is I&#39;m actually</p>
<p begin="01:44:47.400" end="01:44:53.800" style="s2">going to get the type of ID so I forget</p>
<p begin="01:44:50.520" end="01:44:56.880" style="s2">how to do that I think it&#39;s the type</p>
<p begin="01:44:53.800" end="01:44:58.159" style="s2">I think I could just do type in Python</p>
<p begin="01:44:56.880" end="01:45:00.639" style="s2">so I&#39;m going to figure out what is the</p>
<p begin="01:44:58.159" end="01:45:03.520" style="s2">actual type of</p>
<p begin="01:45:00.639" end="01:45:05.719" style="s2">ID and now if I send this request</p>
<p begin="01:45:03.520" end="01:45:08.599" style="s2">again right you could see that the type</p>
<p begin="01:45:05.719" end="01:45:11.239" style="s2">is actually a string and not an integer</p>
<p begin="01:45:08.599" end="01:45:13.920" style="s2">and so when we pass this check in where</p>
<p begin="01:45:11.239" end="01:45:15.599" style="s2">we say if p uh ID so if we get the ID</p>
<p begin="01:45:13.920" end="01:45:17.639" style="s2">field and compare it to the ID that we</p>
<p begin="01:45:15.599" end="01:45:19.280" style="s2">pass in it&#39;s never going to equal that</p>
<p begin="01:45:17.639" end="01:45:21.520" style="s2">because one&#39;s an integer the other one&#39;s</p>
<p begin="01:45:19.280" end="01:45:22.599" style="s2">a string they&#39;re never going to be equal</p>
<p begin="01:45:21.520" end="01:45:24.280" style="s2">so the first thing that we actually have</p>
<p begin="01:45:22.599" end="01:45:26.520" style="s2">to do is before we call this function we</p>
<p begin="01:45:24.280" end="01:45:28.440" style="s2">have to convert it to an integer so I</p>
<p begin="01:45:26.520" end="01:45:31.960" style="s2">can just say</p>
<p begin="01:45:28.440" end="01:45:34.679" style="s2">int that&#39;s going to convert it to an</p>
<p begin="01:45:31.960" end="01:45:37.320" style="s2">INT save that and then at this point if</p>
<p begin="01:45:34.679" end="01:45:40.599" style="s2">I send this it should now work look at</p>
<p begin="01:45:37.320" end="01:45:42.040" style="s2">that so keep in mind guys anytime we um</p>
<p begin="01:45:40.599" end="01:45:43.760" style="s2">have a path parameter it&#39;s always going</p>
<p begin="01:45:42.040" end="01:45:46.199" style="s2">to be returned as a string even if it</p>
<p begin="01:45:43.760" end="01:45:47.599" style="s2">represents an integer or a number we</p>
<p begin="01:45:46.199" end="01:45:49.840" style="s2">always have to manually convert it</p>
<p begin="01:45:47.599" end="01:45:52.520" style="s2">ourselves so don&#39;t forget to do</p>
<p begin="01:45:49.840" end="01:45:54.000" style="s2">that now there is one little issue with</p>
<p begin="01:45:52.520" end="01:45:56.520" style="s2">what we&#39;re doing so everything&#39;s working</p>
<p begin="01:45:54.000" end="01:45:58.480" style="s2">and if I actually change this to a one</p>
<p begin="01:45:56.520" end="01:46:00.040" style="s2">we should get a different post so</p>
<p begin="01:45:58.480" end="01:46:03.679" style="s2">everything&#39;s working great however what</p>
<p begin="01:46:00.040" end="01:46:06.159" style="s2">happens if I type this well let&#39;s hit</p>
<p begin="01:46:03.679" end="01:46:08.440" style="s2">send well we get an error right because</p>
<p begin="01:46:06.159" end="01:46:10.119" style="s2">we&#39;re trying to convert this to an INT</p>
<p begin="01:46:08.440" end="01:46:12.080" style="s2">and it&#39;s going to throw an error and</p>
<p begin="01:46:10.119" end="01:46:14.280" style="s2">then instead of sending back a nice you</p>
<p begin="01:46:12.080" end="01:46:16.320" style="s2">know built-in response we just get an</p>
<p begin="01:46:14.280" end="01:46:18.239" style="s2">internal server error and the user has</p>
<p begin="01:46:16.320" end="01:46:20.480" style="s2">no idea what exactly is wrong so we want</p>
<p begin="01:46:18.239" end="01:46:22.159" style="s2">to provide it feedback so how can we</p>
<p begin="01:46:20.480" end="01:46:25.159" style="s2">perform some kind of validation to</p>
<p begin="01:46:22.159" end="01:46:27.199" style="s2">ensure that whatever data that&#39;s passed</p>
<p begin="01:46:25.159" end="01:46:29.360" style="s2">into this path parameter can actually be</p>
<p begin="01:46:27.199" end="01:46:31.760" style="s2">properly converted to an integer well we</p>
<p begin="01:46:29.360" end="01:46:33.800" style="s2">can perform validation with fast API so</p>
<p begin="01:46:31.760" end="01:46:35.520" style="s2">here for ID what we can do is we can say</p>
<p begin="01:46:33.800" end="01:46:36.760" style="s2">I want this to be an integer so what</p>
<p begin="01:46:35.520" end="01:46:37.920" style="s2">it&#39;s going to do is it&#39;s first of all</p>
<p begin="01:46:36.760" end="01:46:39.760" style="s2">going to validate that it can be</p>
<p begin="01:46:37.920" end="01:46:41.440" style="s2">converted to an integer and then it&#39;ll</p>
<p begin="01:46:39.760" end="01:46:43.560" style="s2">automatically convert it to an integer</p>
<p begin="01:46:41.440" end="01:46:45.400" style="s2">for us so we no longer have to convert</p>
<p begin="01:46:43.560" end="01:46:47.520" style="s2">this ourselves so here I can just pass</p>
<p begin="01:46:45.400" end="01:46:50.639" style="s2">an ID because this will make sure that</p>
<p begin="01:46:47.520" end="01:46:51.840" style="s2">it&#39;s already converted and so now if I</p>
<p begin="01:46:50.639" end="01:46:54.400" style="s2">save</p>
<p begin="01:46:51.840" end="01:46:56.360" style="s2">this and I change this back to a number</p>
<p begin="01:46:54.400" end="01:46:57.920" style="s2">first let&#39;s make sure that everything&#39;s</p>
<p begin="01:46:56.360" end="01:47:00.599" style="s2">working so it automatically converted it</p>
<p begin="01:46:57.920" end="01:47:01.599" style="s2">to an integer and now if I pass in you</p>
<p begin="01:47:00.599" end="01:47:03.760" style="s2">know a</p>
<p begin="01:47:01.599" end="01:47:05.199" style="s2">string it&#39;s now going to throw an error</p>
<p begin="01:47:03.760" end="01:47:07.239" style="s2">it&#39;s going to say for a path parameter</p>
<p begin="01:47:05.199" end="01:47:09.320" style="s2">of ID you can see that this value is not</p>
<p begin="01:47:07.239" end="01:47:11.880" style="s2">a valid integer and so now the front end</p>
<p begin="01:47:09.320" end="01:47:14.760" style="s2">has a good way of understanding what</p>
<p begin="01:47:11.880" end="01:47:16.639" style="s2">they did wrong and you know this can be</p>
<p begin="01:47:14.760" end="01:47:18.719" style="s2">anything right so if you wanted this to</p>
<p begin="01:47:16.639" end="01:47:20.199" style="s2">rep to be a string right we can have</p>
<p begin="01:47:18.719" end="01:47:22.400" style="s2">this automatically get validated as a</p>
<p begin="01:47:20.199" end="01:47:24.080" style="s2">string and converted into a string so</p>
<p begin="01:47:22.400" end="01:47:27.080" style="s2">that uh if they do actually send a</p>
<p begin="01:47:24.080" end="01:47:29.000" style="s2">string no errors right and then if they</p>
<p begin="01:47:27.080" end="01:47:30.119" style="s2">try to actually even if you put in a</p>
<p begin="01:47:29.000" end="01:47:31.840" style="s2">number it&#39;s not going to throw an error</p>
<p begin="01:47:30.119" end="01:47:33.520" style="s2">because any number can actually be</p>
<p begin="01:47:31.840" end="01:47:35.880" style="s2">converted into a</p>
<p begin="01:47:33.520" end="01:47:38.639" style="s2">string but we want an integer so I&#39;m</p>
<p begin="01:47:35.880" end="01:47:41.239" style="s2">going to change this back to an</p>
<p begin="01:47:38.639" end="01:47:44.080" style="s2">integer and then we&#39;ll just hard code</p>
<p begin="01:47:41.239" end="01:47:46.480" style="s2">this as two perfect make sure you save</p>
<p begin="01:47:44.080" end="01:47:49.520" style="s2">your request and so now we&#39;ve now</p>
<p begin="01:47:46.480" end="01:47:51.199" style="s2">implemented our third function within</p>
<p begin="01:47:49.520" end="01:47:53.719" style="s2">our Crow app so we&#39;ve just got two more</p>
<p begin="01:47:51.199" end="01:47:55.679" style="s2">we got a handle updating and deleting</p>
<p begin="01:47:53.719" end="01:47:57.800" style="s2">posts but we&#39;ve got all getting all</p>
<p begin="01:47:55.679" end="01:47:59.800" style="s2">posts creating a post and then getting</p>
<p begin="01:47:57.800" end="01:48:01.599" style="s2">an individual post and you&#39;ll see that U</p>
<p begin="01:47:59.800" end="01:48:03.800" style="s2">for the last two it&#39;s pretty much the</p>
<p begin="01:48:01.599" end="01:48:05.880" style="s2">same thing right we just have to Define</p>
<p begin="01:48:03.800" end="01:48:07.159" style="s2">our specific decorator and then Define</p>
<p begin="01:48:05.880" end="01:48:08.719" style="s2">the logic for actually creating and</p>
<p begin="01:48:07.159" end="01:48:11.239" style="s2">deleting a post from that array or</p>
<p begin="01:48:08.719" end="01:48:14.080" style="s2">updating uh a post as</p>
<p begin="01:48:11.239" end="01:48:16.080" style="s2">well now before we move on I do want to</p>
<p begin="01:48:14.080" end="01:48:17.880" style="s2">show you guys one potential issue that</p>
<p begin="01:48:16.080" end="01:48:19.760" style="s2">you can run into if you don&#39;t quite</p>
<p begin="01:48:17.880" end="01:48:22.840" style="s2">understand how these routes work and how</p>
<p begin="01:48:19.760" end="01:48:23.599" style="s2">order matters within fast API so what</p>
<p begin="01:48:22.840" end="01:48:24.960" style="s2">I&#39;m going to do is I&#39;m just going to</p>
<p begin="01:48:23.599" end="01:48:26.719" style="s2">create a dummy route and you guys don&#39;t</p>
<p begin="01:48:24.960" end="01:48:28.520" style="s2">need to follow along on this is just a</p>
<p begin="01:48:26.719" end="01:48:30.639" style="s2">quick little demonstration and I&#39;m just</p>
<p begin="01:48:28.520" end="01:48:32.400" style="s2">going to make this another get request</p>
<p begin="01:48:30.639" end="01:48:36.040" style="s2">uh or Handler for a get request and then</p>
<p begin="01:48:32.400" end="01:48:37.560" style="s2">this one&#39;s going to be posts SL latest</p>
<p begin="01:48:36.040" end="01:48:39.400" style="s2">so what this will do is when the user</p>
<p begin="01:48:37.560" end="01:48:41.320" style="s2">sends a request a get request to this</p>
<p begin="01:48:39.400" end="01:48:44.000" style="s2">specific path latest path we&#39;re going to</p>
<p begin="01:48:41.320" end="01:48:46.840" style="s2">grab whatever the latest post</p>
<p begin="01:48:44.000" end="01:48:52.440" style="s2">is and so here I&#39;ll just say uh</p>
<p begin="01:48:46.840" end="01:48:52.440" style="s2">def get latest post</p>
<p begin="01:48:57.080" end="01:49:01.800" style="s2">and so all I&#39;m going to do is I&#39;m going</p>
<p begin="01:48:58.520" end="01:49:06.599" style="s2">to reference our my post list and I&#39;ll</p>
<p begin="01:49:01.800" end="01:49:09.119" style="s2">say we&#39;ll get the length of my</p>
<p begin="01:49:06.599" end="01:49:11.760" style="s2">post and then we&#39;ll just minus one so</p>
<p begin="01:49:09.119" end="01:49:14.960" style="s2">this will grab the latest post and then</p>
<p begin="01:49:11.760" end="01:49:14.960" style="s2">what we&#39;re going to do is just return</p>
<p begin="01:49:15.520" end="01:49:21.040" style="s2">that here we&#39;ll say</p>
<p begin="01:49:18.199" end="01:49:23.760" style="s2">detail and then we&#39;ll pass in and</p>
<p begin="01:49:21.040" end="01:49:28.360" style="s2">actually let me store this in a variable</p>
<p begin="01:49:23.760" end="01:49:28.360" style="s2">post equals and then we&#39;ll return</p>
<p begin="01:49:30.080" end="01:49:34.480" style="s2">post we&#39;ll save this and I&#39;m going to</p>
<p begin="01:49:32.400" end="01:49:35.760" style="s2">show you what happen so let&#39;s create a</p>
<p begin="01:49:34.480" end="01:49:38.080" style="s2">new</p>
<p begin="01:49:35.760" end="01:49:39.800" style="s2">request I just copy the URL from the</p>
<p begin="01:49:38.080" end="01:49:43.320" style="s2">previous one then here we&#39;re going to</p>
<p begin="01:49:39.800" end="01:49:46.320" style="s2">change this to latest let&#39;s see what</p>
<p begin="01:49:43.320" end="01:49:47.920" style="s2">happens interesting we get an error so</p>
<p begin="01:49:46.320" end="01:49:50.719" style="s2">what exactly happened well let&#39;s take a</p>
<p begin="01:49:47.920" end="01:49:54.599" style="s2">look at the error it&#39;s saying that um we</p>
<p begin="01:49:50.719" end="01:49:55.920" style="s2">have a um p parameter called ID and it</p>
<p begin="01:49:54.599" end="01:49:58.840" style="s2">looks like it&#39;s saying that this is not</p>
<p begin="01:49:55.920" end="01:50:01.040" style="s2">a valid integer so I&#39;m not even sure why</p>
<p begin="01:49:58.840" end="01:50:03.280" style="s2">it&#39;s referencing this error because if</p>
<p begin="01:50:01.040" end="01:50:05.080" style="s2">we take a look at our code right there&#39;s</p>
<p begin="01:50:03.280" end="01:50:07.320" style="s2">there&#39;s no path parameter here so what</p>
<p begin="01:50:05.080" end="01:50:09.360" style="s2">is exactly happening well let&#39;s take a</p>
<p begin="01:50:07.320" end="01:50:12.159" style="s2">look right our request looks like this</p>
<p begin="01:50:09.360" end="01:50:13.840" style="s2">so it&#39;s going to slost SL latest so when</p>
<p begin="01:50:12.159" end="01:50:15.119" style="s2">we send this request what&#39;s going to</p>
<p begin="01:50:13.840" end="01:50:17.760" style="s2">happen is that we&#39;re going to start all</p>
<p begin="01:50:15.119" end="01:50:20.960" style="s2">the way at the top and fast API is going</p>
<p begin="01:50:17.760" end="01:50:23.520" style="s2">to go through the list of all of our um</p>
<p begin="01:50:20.960" end="01:50:26.040" style="s2">all of our paths and it&#39;s going to find</p>
<p begin="01:50:23.520" end="01:50:28.199" style="s2">the first match so we have one at just</p>
<p begin="01:50:26.040" end="01:50:30.960" style="s2">the root URL so it&#39;s not going to match</p>
<p begin="01:50:28.199" end="01:50:33.119" style="s2">that we have one at/ posts it&#39;s once</p>
<p begin="01:50:30.960" end="01:50:34.639" style="s2">again not going to match that this one</p>
<p begin="01:50:33.119" end="01:50:36.679" style="s2">is for a post request so it&#39;s not going</p>
<p begin="01:50:34.639" end="01:50:38.040" style="s2">to match that cuz we sent a get request</p>
<p begin="01:50:36.679" end="01:50:39.960" style="s2">but then something interesting happens</p>
<p begin="01:50:38.040" end="01:50:41.960" style="s2">here when we get to this get request</p>
<p begin="01:50:39.960" end="01:50:44.040" style="s2">right so this handles a get request and</p>
<p begin="01:50:41.960" end="01:50:47.239" style="s2">then it matches SL posts and then some</p>
<p begin="01:50:44.040" end="01:50:49.119" style="s2">variable so technically that variable</p>
<p begin="01:50:47.239" end="01:50:50.440" style="s2">could be latest you see the issue that</p>
<p begin="01:50:49.119" end="01:50:52.920" style="s2">we&#39;re running into because there&#39;s no</p>
<p begin="01:50:50.440" end="01:50:55.440" style="s2">way for fast API to know that that route</p>
<p begin="01:50:52.920" end="01:50:57.560" style="s2">was meant for that that request was</p>
<p begin="01:50:55.440" end="01:50:59.079" style="s2">meant for this specific path right</p>
<p begin="01:50:57.560" end="01:51:00.840" style="s2">because it does technically match on</p>
<p begin="01:50:59.079" end="01:51:02.800" style="s2">this and then what happens is since it</p>
<p begin="01:51:00.840" end="01:51:05.920" style="s2">matches on this route it then tries to</p>
<p begin="01:51:02.800" end="01:51:07.040" style="s2">perform validation on ID which is in</p>
<p begin="01:51:05.920" end="01:51:09.119" style="s2">this case it&#39;s going to end up being</p>
<p begin="01:51:07.040" end="01:51:10.639" style="s2">latest and then it&#39;s going to throw an</p>
<p begin="01:51:09.119" end="01:51:13.040" style="s2">error because latest can&#39;t be converted</p>
<p begin="01:51:10.639" end="01:51:15.400" style="s2">to an integer and so this is the example</p>
<p begin="01:51:13.040" end="01:51:17.639" style="s2">of where order matters so you have to be</p>
<p begin="01:51:15.400" end="01:51:19.560" style="s2">careful when you structure your API</p>
<p begin="01:51:17.639" end="01:51:21.280" style="s2">especially with your with your paths and</p>
<p begin="01:51:19.560" end="01:51:23.360" style="s2">your URLs you want to make sure that you</p>
<p begin="01:51:21.280" end="01:51:24.639" style="s2">don&#39;t run into this type of ISS issue so</p>
<p begin="01:51:23.360" end="01:51:26.960" style="s2">you know one thing in this case you</p>
<p begin="01:51:24.639" end="01:51:29.520" style="s2">could do is just move this up that would</p>
<p begin="01:51:26.960" end="01:51:32.920" style="s2">fix the issue because now if you save</p>
<p begin="01:51:29.520" end="01:51:34.440" style="s2">this and then run this right it works</p>
<p begin="01:51:32.920" end="01:51:37.599" style="s2">and if you uh try to reference a</p>
<p begin="01:51:34.440" end="01:51:41.840" style="s2">specific ID that&#39;s going to work as</p>
<p begin="01:51:37.599" end="01:51:44.320" style="s2">well well in that case let&#39;s try one yep</p>
<p begin="01:51:41.840" end="01:51:46.560" style="s2">and so that works as well because uh SL</p>
<p begin="01:51:44.320" end="01:51:49.480" style="s2">poost SL1 will never match this one</p>
<p begin="01:51:46.560" end="01:51:49.480" style="s2">it&#39;ll only match this</p>
<p begin="01:51:49.520" end="01:51:54.639" style="s2">one uh so be very careful when it comes</p>
<p begin="01:51:52.239" end="01:51:55.760" style="s2">to your it always works top down so</p>
<p begin="01:51:54.639" end="01:51:57.960" style="s2">anytime you&#39;re working with path</p>
<p begin="01:51:55.760" end="01:52:00.360" style="s2">parameters it could potentially result</p>
<p begin="01:51:57.960" end="01:52:03.520" style="s2">in you guys accidentally matching other</p>
<p begin="01:52:00.360" end="01:52:04.800" style="s2">routes by accident so you know there&#39;s</p>
<p begin="01:52:03.520" end="01:52:06.119" style="s2">different ways to get around this like I</p>
<p begin="01:52:04.800" end="01:52:07.920" style="s2">said you can just move this up or if you</p>
<p begin="01:52:06.119" end="01:52:11.520" style="s2">wanted to change the url Al together so</p>
<p begin="01:52:07.920" end="01:52:13.760" style="s2">that this is like a SL poost slash</p>
<p begin="01:52:11.520" end="01:52:16.239" style="s2">um I don&#39;t know you know just put in</p>
<p begin="01:52:13.760" end="01:52:18.360" style="s2">another keyword something like a a</p>
<p begin="01:52:16.239" end="01:52:19.920" style="s2">recent or something recent latest or</p>
<p begin="01:52:18.360" end="01:52:22.840" style="s2">something well actually even then that</p>
<p begin="01:52:19.920" end="01:52:24.040" style="s2">would yeah and so just keep and so I</p>
<p begin="01:52:22.840" end="01:52:25.920" style="s2">just want to make sure you keep that in</p>
<p begin="01:52:24.040" end="01:52:27.440" style="s2">mind when you&#39;re structuring your API</p>
<p begin="01:52:25.920" end="01:52:30.520" style="s2">because anytime you have a path</p>
<p begin="01:52:27.440" end="01:52:32.760" style="s2">parameter it could result in you um</p>
<p begin="01:52:30.520" end="01:52:35.040" style="s2">accidentally matching requests that were</p>
<p begin="01:52:32.760" end="01:52:37.239" style="s2">meant for a different uh for a different</p>
<p begin="01:52:35.040" end="01:52:38.880" style="s2">route so I&#39;m just going to delete this</p>
<p begin="01:52:37.239" end="01:52:40.320" style="s2">this was merely just for a demonstration</p>
<p begin="01:52:38.880" end="01:52:42.239" style="s2">purposes and I just want to make sure</p>
<p begin="01:52:40.320" end="01:52:43.880" style="s2">that you guys understand that fast API</p>
<p begin="01:52:42.239" end="01:52:45.239" style="s2">uh just looks at all of your paths and</p>
<p begin="01:52:43.880" end="01:52:47.040" style="s2">just works its way down the list till it</p>
<p begin="01:52:45.239" end="01:52:51.199" style="s2">finds the first</p>
<p begin="01:52:47.040" end="01:52:52.719" style="s2">match for our get post path operation</p>
<p begin="01:52:51.199" end="01:52:54.760" style="s2">specifically the one where we retrieve</p>
<p begin="01:52:52.719" end="01:52:56.719" style="s2">one specific post we do run into a</p>
<p begin="01:52:54.760" end="01:52:59.719" style="s2">little bit of an issue so if we go to</p>
<p begin="01:52:56.719" end="01:53:01.440" style="s2">our Postman real quick and uh send a</p>
<p begin="01:52:59.719" end="01:53:04.000" style="s2">request to get one post but in this case</p>
<p begin="01:53:01.440" end="01:53:05.679" style="s2">instead of doing one or two uh what I</p>
<p begin="01:53:04.000" end="01:53:08.960" style="s2">want to do is I want you to put in the</p>
<p begin="01:53:05.679" end="01:53:11.360" style="s2">ID uh put in an ID uh that doesn&#39;t exist</p>
<p begin="01:53:08.960" end="01:53:13.040" style="s2">so we only have right now um posts with</p>
<p begin="01:53:11.360" end="01:53:16.040" style="s2">an ID of one and two what happens if we</p>
<p begin="01:53:13.040" end="01:53:19.360" style="s2">send it with a ID of five you can see</p>
<p begin="01:53:16.040" end="01:53:20.800" style="s2">what we get back it says null right and</p>
<p begin="01:53:19.360" end="01:53:23.000" style="s2">I don&#39;t like that because it doesn&#39;t</p>
<p begin="01:53:20.800" end="01:53:25.599" style="s2">really give the front end any feedback</p>
<p begin="01:53:23.000" end="01:53:27.360" style="s2">as to what exactly is happening uh so</p>
<p begin="01:53:25.599" end="01:53:28.560" style="s2">they don&#39;t actually know you know they</p>
<p begin="01:53:27.360" end="01:53:29.840" style="s2">don&#39;t know if some kind of error</p>
<p begin="01:53:28.560" end="01:53:31.679" style="s2">occurred or if we were unable to</p>
<p begin="01:53:29.840" end="01:53:34.760" style="s2">retrieve this information properly or if</p>
<p begin="01:53:31.679" end="01:53:36.840" style="s2">there&#39;s a server error or if this item</p>
<p begin="01:53:34.760" end="01:53:38.960" style="s2">doesn&#39;t ultimately exist and so we need</p>
<p begin="01:53:36.840" end="01:53:40.719" style="s2">a way to accurately tell the front end</p>
<p begin="01:53:38.960" end="01:53:42.679" style="s2">that hey the ID that you&#39;re searching</p>
<p begin="01:53:40.719" end="01:53:45.000" style="s2">for does not actually exist in our</p>
<p begin="01:53:42.679" end="01:53:46.560" style="s2">database and the best way to do that is</p>
<p begin="01:53:45.000" end="01:53:48.719" style="s2">through a method that I&#39;m sure you guys</p>
<p begin="01:53:46.560" end="01:53:51.599" style="s2">are already a little bit familiar with</p>
<p begin="01:53:48.719" end="01:53:53.000" style="s2">so right here I&#39;ve got my GitHub page uh</p>
<p begin="01:53:51.599" end="01:53:54.760" style="s2">for our course</p>
<p begin="01:53:53.000" end="01:53:57.239" style="s2">and you can see it&#39;s just GitHub my</p>
<p begin="01:53:54.760" end="01:53:59.119" style="s2">username and then the name of the repo</p>
<p begin="01:53:57.239" end="01:54:00.360" style="s2">but if I search for if I put in a whole</p>
<p begin="01:53:59.119" end="01:54:01.760" style="s2">bunch of letters afterward what&#39;s going</p>
<p begin="01:54:00.360" end="01:54:03.800" style="s2">to happen is GitHub is going to look for</p>
<p begin="01:54:01.760" end="01:54:06.320" style="s2">a repo with this name that doesn&#39;t exist</p>
<p begin="01:54:03.800" end="01:54:08.440" style="s2">and let&#39;s see what happens it gets a 404</p>
<p begin="01:54:06.320" end="01:54:10.800" style="s2">and I&#39;m sure you guys have seen a 404</p>
<p begin="01:54:08.440" end="01:54:14.239" style="s2">error at least once before in your life</p>
<p begin="01:54:10.800" end="01:54:16.400" style="s2">so that&#39;s a specific HTTP status code</p>
<p begin="01:54:14.239" end="01:54:19.480" style="s2">that represents that this item was not</p>
<p begin="01:54:16.400" end="01:54:20.800" style="s2">found that does not exist and HTTP</p>
<p begin="01:54:19.480" end="01:54:22.119" style="s2">status codes are important we haven&#39;t</p>
<p begin="01:54:20.800" end="01:54:23.560" style="s2">really talked about it in this course</p>
<p begin="01:54:22.119" end="01:54:25.719" style="s2">that at this point but there&#39;s a lot of</p>
<p begin="01:54:23.560" end="01:54:29.199" style="s2">different status codes and uh if you</p>
<p begin="01:54:25.719" end="01:54:31.280" style="s2">actually just search for HTTP status</p>
<p begin="01:54:29.199" end="01:54:32.920" style="s2">code you could just grab one of the top</p>
<p begin="01:54:31.280" end="01:54:34.440" style="s2">links I&#39;m going to go take a look at the</p>
<p begin="01:54:32.920" end="01:54:36.520" style="s2">Mozilla one and you&#39;ll see all of the</p>
<p begin="01:54:34.440" end="01:54:39.239" style="s2">different HTTP status codes and you&#39;ll</p>
<p begin="01:54:36.520" end="01:54:40.560" style="s2">see when to use them now most of the</p>
<p begin="01:54:39.239" end="01:54:42.480" style="s2">time you&#39;re going to see that we get a</p>
<p begin="01:54:40.560" end="01:54:44.239" style="s2">200 response back that&#39;s the default one</p>
<p begin="01:54:42.480" end="01:54:46.159" style="s2">the fast API sends that usually means</p>
<p begin="01:54:44.239" end="01:54:48.159" style="s2">that everything&#39;s good everything worked</p>
<p begin="01:54:46.159" end="01:54:49.880" style="s2">that&#39;s why it says okay however we do</p>
<p begin="01:54:48.159" end="01:54:53.119" style="s2">have other ones that we do also commonly</p>
<p begin="01:54:49.880" end="01:54:55.040" style="s2">use so anytime you create something so</p>
<p begin="01:54:53.119" end="01:54:57.639" style="s2">within your crud application for create</p>
<p begin="01:54:55.040" end="01:54:59.000" style="s2">anytime you send a post request usually</p>
<p begin="01:54:57.639" end="01:55:01.560" style="s2">after you create that entity you send a</p>
<p begin="01:54:59.000" end="01:55:03.320" style="s2">2011 back instead of a traditional 200</p>
<p begin="01:55:01.560" end="01:55:04.560" style="s2">so there&#39;s a lot of HTTP status codes</p>
<p begin="01:55:03.320" end="01:55:06.400" style="s2">and we&#39;re going to cover all of those in</p>
<p begin="01:55:04.560" end="01:55:07.960" style="s2">future lectures but the ones we&#39;re</p>
<p begin="01:55:06.400" end="01:55:10.880" style="s2">interested in is for when we have an</p>
<p begin="01:55:07.960" end="01:55:12.639" style="s2">error so if we scroll down 400 usually</p>
<p begin="01:55:10.880" end="01:55:14.719" style="s2">means there&#39;s some kind of bad error</p>
<p begin="01:55:12.639" end="01:55:17.239" style="s2">something happened and most importantly</p>
<p begin="01:55:14.719" end="01:55:19.199" style="s2">we want the 404 not found so the server</p>
<p begin="01:55:17.239" end="01:55:20.480" style="s2">cannot find the requested resource so</p>
<p begin="01:55:19.199" end="01:55:23.760" style="s2">that&#39;s the exactly what we&#39;re looking</p>
<p begin="01:55:20.480" end="01:55:25.079" style="s2">for uh keep in mind there&#39;s also 500</p>
<p begin="01:55:23.760" end="01:55:26.960" style="s2">status codes which means you know some</p>
<p begin="01:55:25.079" end="01:55:29.320" style="s2">kind of server area server error or</p>
<p begin="01:55:26.960" end="01:55:31.719" style="s2">server failure so what we&#39;re going to do</p>
<p begin="01:55:29.320" end="01:55:33.880" style="s2">is I&#39;m going to go back to our</p>
<p begin="01:55:31.719" end="01:55:36.199" style="s2">code and what we need to do is we need</p>
<p begin="01:55:33.880" end="01:55:38.639" style="s2">to manipulate the response because right</p>
<p begin="01:55:36.199" end="01:55:40.320" style="s2">now we&#39;re getting a 200 back we&#39;re</p>
<p begin="01:55:38.639" end="01:55:42.440" style="s2">getting a status code of 200 if I send</p>
<p begin="01:55:40.320" end="01:55:43.599" style="s2">it it says null and then it just sends</p>
<p begin="01:55:42.440" end="01:55:45.520" style="s2">200 so that doesn&#39;t really give us a</p>
<p begin="01:55:43.599" end="01:55:47.480" style="s2">good idea as to what&#39;s happening so how</p>
<p begin="01:55:45.520" end="01:55:51.400" style="s2">do we manipulate the response well we</p>
<p begin="01:55:47.480" end="01:55:53.719" style="s2">have to first of all import the response</p>
<p begin="01:55:51.400" end="01:55:55.599" style="s2">from Fast AP I and then what we&#39;re going</p>
<p begin="01:55:53.719" end="01:55:58.079" style="s2">to do is we&#39;re just going to pass it in</p>
<p begin="01:55:55.599" end="01:55:59.520" style="s2">as a parameter into our path operation</p>
<p begin="01:55:58.079" end="01:56:01.560" style="s2">function so I&#39;ll just call this I&#39;ll</p>
<p begin="01:55:59.520" end="01:56:03.520" style="s2">store it in a variable called</p>
<p begin="01:56:01.560" end="01:56:05.040" style="s2">response and so once you get access to</p>
<p begin="01:56:03.520" end="01:56:06.880" style="s2">the response object we can tweak it</p>
<p begin="01:56:05.040" end="01:56:09.320" style="s2">however we want so what I&#39;m going to do</p>
<p begin="01:56:06.880" end="01:56:10.639" style="s2">is um after we search for post if we</p>
<p begin="01:56:09.320" end="01:56:14.119" style="s2">didn&#39;t find a post I&#39;m just going to do</p>
<p begin="01:56:10.639" end="01:56:15.639" style="s2">a quick check I&#39;m going to say if</p>
<p begin="01:56:14.119" end="01:56:17.560" style="s2">not</p>
<p begin="01:56:15.639" end="01:56:19.119" style="s2">post right that means if we didn&#39;t find</p>
<p begin="01:56:17.560" end="01:56:20.960" style="s2">a post what we&#39;re going to do is we&#39;re</p>
<p begin="01:56:19.119" end="01:56:22.639" style="s2">going to set the response and then we&#39;re</p>
<p begin="01:56:20.960" end="01:56:24.920" style="s2">going to grab a property off of response</p>
<p begin="01:56:22.639" end="01:56:26.560" style="s2">called status code so here we can tweak</p>
<p begin="01:56:24.920" end="01:56:29.560" style="s2">the status code of the response and I&#39;m</p>
<p begin="01:56:26.560" end="01:56:31.920" style="s2">going to say hey I want this to be a</p>
<p begin="01:56:29.560" end="01:56:35.760" style="s2">404 all right now let&#39;s save</p>
<p begin="01:56:31.920" end="01:56:37.159" style="s2">it now if I hit send it still says post</p>
<p begin="01:56:35.760" end="01:56:39.719" style="s2">detail none but take a look at the</p>
<p begin="01:56:37.159" end="01:56:41.800" style="s2">status code it&#39;s now updated to 404 and</p>
<p begin="01:56:39.719" end="01:56:44.560" style="s2">if I change this to an ID that does</p>
<p begin="01:56:41.800" end="01:56:46.040" style="s2">exist right we get the post properly and</p>
<p begin="01:56:44.560" end="01:56:48.360" style="s2">the status code changes to 200 which</p>
<p begin="01:56:46.040" end="01:56:50.040" style="s2">means everything is good so that&#39;s one</p>
<p begin="01:56:48.360" end="01:56:52.599" style="s2">way of doing it however there&#39;s a</p>
<p begin="01:56:50.040" end="01:56:55.040" style="s2">slightly better way of doing it uh same</p>
<p begin="01:56:52.599" end="01:56:56.920" style="s2">concept um but instead of hardcoding the</p>
<p begin="01:56:55.040" end="01:56:58.480" style="s2">value or trying to remember it what we</p>
<p begin="01:56:56.920" end="01:57:00.000" style="s2">can do is we can</p>
<p begin="01:56:58.480" end="01:57:02.800" style="s2">import</p>
<p begin="01:57:00.000" end="01:57:05.079" style="s2">um from the fast API Library something</p>
<p begin="01:57:02.800" end="01:57:05.079" style="s2">called</p>
<p begin="01:57:07.360" end="01:57:12.239" style="s2">status and so now instead of having to</p>
<p begin="01:57:09.480" end="01:57:14.320" style="s2">remember what to use we can just type in</p>
<p begin="01:57:12.239" end="01:57:17.000" style="s2">status and then it&#39;s going to show you</p>
<p begin="01:57:14.320" end="01:57:18.119" style="s2">all of the different HTTP codes H and so</p>
<p begin="01:57:17.000" end="01:57:20.280" style="s2">now you can just quickly just look</p>
<p begin="01:57:18.119" end="01:57:22.800" style="s2">through which one over one sounds the</p>
<p begin="01:57:20.280" end="01:57:24.040" style="s2">most accurate so we&#39;ll grab the 404</p>
<p begin="01:57:22.800" end="01:57:25.599" style="s2">and now you don&#39;t need to worry about</p>
<p begin="01:57:24.040" end="01:57:28.480" style="s2">putting hard coding in a number we can</p>
<p begin="01:57:25.599" end="01:57:30.280" style="s2">just reference um you know I guess it&#39;s</p>
<p begin="01:57:28.480" end="01:57:31.639" style="s2">an it&#39;s probably an enumerator but I&#39;m</p>
<p begin="01:57:30.280" end="01:57:33.599" style="s2">not really sure so it doesn&#39;t really</p>
<p begin="01:57:31.639" end="01:57:36.679" style="s2">matter um and then that&#39;s all you have</p>
<p begin="01:57:33.599" end="01:57:41.679" style="s2">to do so let&#39;s test this out</p>
<p begin="01:57:36.679" end="01:57:43.000" style="s2">again so 200 good change this to five</p>
<p begin="01:57:41.679" end="01:57:45.239" style="s2">404</p>
<p begin="01:57:43.000" end="01:57:47.480" style="s2">perfect um but the next thing I want to</p>
<p begin="01:57:45.239" end="01:57:49.159" style="s2">do is I don&#39;t want to return null that</p>
<p begin="01:57:47.480" end="01:57:52.199" style="s2">looks ugly so instead I&#39;d like to</p>
<p begin="01:57:49.159" end="01:57:53.239" style="s2">actually throw an error so in this case</p>
<p begin="01:57:52.199" end="01:57:55.199" style="s2">uh in this if statement I&#39;m just going</p>
<p begin="01:57:53.239" end="01:57:58.079" style="s2">to call a return that only is going to</p>
<p begin="01:57:55.199" end="01:58:00.000" style="s2">ever run if uh post doesn&#39;t exist and</p>
<p begin="01:57:58.079" end="01:58:03.199" style="s2">we&#39;ll just say uh in this</p>
<p begin="01:58:00.000" end="01:58:05.599" style="s2">case detail or we&#39;ll say message I&#39;ll</p>
<p begin="01:58:03.199" end="01:58:05.599" style="s2">just say</p>
<p begin="01:58:07.400" end="01:58:11.679" style="s2">message FST string and we&#39;ll say post</p>
<p begin="01:58:09.960" end="01:58:15.119" style="s2">with</p>
<p begin="01:58:11.679" end="01:58:20.480" style="s2">ID and we&#39;ll pass in what was the ID and</p>
<p begin="01:58:15.119" end="01:58:20.480" style="s2">we&#39;ll say uh was not</p>
<p begin="01:58:20.560" end="01:58:26.360" style="s2">found all right and and now if we try</p>
<p begin="01:58:23.760" end="01:58:28.280" style="s2">this look at that we get our air post</p>
<p begin="01:58:26.360" end="01:58:29.920" style="s2">with ID was not found and that matches</p>
<p begin="01:58:28.280" end="01:58:33.280" style="s2">up with the ID that we gave it and we</p>
<p begin="01:58:29.920" end="01:58:34.800" style="s2">got our 404 now this was uh this is one</p>
<p begin="01:58:33.280" end="01:58:36.239" style="s2">solution however I think this is a</p>
<p begin="01:58:34.800" end="01:58:38.360" style="s2">little bit sloppy and there&#39;s a better</p>
<p begin="01:58:36.239" end="01:58:40.599" style="s2">way of doing it uh instead what we can</p>
<p begin="01:58:38.360" end="01:58:42.000" style="s2">do is we can raage raise an HTTP</p>
<p begin="01:58:40.599" end="01:58:44.480" style="s2">exception so this is a built-in</p>
<p begin="01:58:42.000" end="01:58:46.440" style="s2">exception into fast API that&#39;ll</p>
<p begin="01:58:44.480" end="01:58:48.320" style="s2">automatically um you know you can pass</p>
<p begin="01:58:46.440" end="01:58:49.960" style="s2">in what the specific error code you want</p>
<p begin="01:58:48.320" end="01:58:52.440" style="s2">as well as the message and so that way</p>
<p begin="01:58:49.960" end="01:58:53.840" style="s2">you don&#39;t have to hardcode all of this</p>
<p begin="01:58:52.440" end="01:58:56.320" style="s2">and it just makes everything look a lot</p>
<p begin="01:58:53.840" end="01:58:57.960" style="s2">simpler so we&#39;ll go to the fast API up</p>
<p begin="01:58:56.320" end="01:59:01.639" style="s2">here and we&#39;re going to import something</p>
<p begin="01:58:57.960" end="01:59:04.119" style="s2">called HTTP</p>
<p begin="01:59:01.639" end="01:59:06.000" style="s2">exception and now we can delete all of</p>
<p begin="01:59:04.119" end="01:59:07.880" style="s2">this nonsense code actually I&#39;m just</p>
<p begin="01:59:06.000" end="01:59:09.960" style="s2">going to comment it for now just so I</p>
<p begin="01:59:07.880" end="01:59:11.440" style="s2">can reference it in a second and all we</p>
<p begin="01:59:09.960" end="01:59:14.280" style="s2">have to say is we&#39;ll raise an exception</p>
<p begin="01:59:11.440" end="01:59:16.360" style="s2">so we raise HTTP</p>
<p begin="01:59:14.280" end="01:59:18.400" style="s2">exception and then we have to pass in</p>
<p begin="01:59:16.360" end="01:59:20.320" style="s2">two things so first is the status code</p>
<p begin="01:59:18.400" end="01:59:22.520" style="s2">so we&#39;ll set the status code to be</p>
<p begin="01:59:20.320" end="01:59:24.400" style="s2">status</p>
<p begin="01:59:22.520" end="01:59:25.480" style="s2">and then same thing right so far</p>
<p begin="01:59:24.400" end="01:59:28.000" style="s2">nothing&#39;s really</p>
<p begin="01:59:25.480" end="01:59:29.760" style="s2">changed and then here we&#39;ll just pass in</p>
<p begin="01:59:28.000" end="01:59:31.880" style="s2">the value for detail which is going to</p>
<p begin="01:59:29.760" end="01:59:33.920" style="s2">be the message that uh fast API</p>
<p begin="01:59:31.880" end="01:59:37.320" style="s2">automatically responds back with and I&#39;m</p>
<p begin="01:59:33.920" end="01:59:39.800" style="s2">going to pass in the same exact F</p>
<p begin="01:59:37.320" end="01:59:42.040" style="s2">string and so now we&#39;ve basically</p>
<p begin="01:59:39.800" end="01:59:43.679" style="s2">replaced this with just this one line</p>
<p begin="01:59:42.040" end="01:59:45.360" style="s2">right here this HTTP exception I think</p>
<p begin="01:59:43.679" end="01:59:47.719" style="s2">this looks a little bit nicer I don&#39;t</p>
<p begin="01:59:45.360" end="01:59:49.440" style="s2">like having to do the set the response</p>
<p begin="01:59:47.719" end="01:59:51.079" style="s2">and then having to pass in but I don&#39;t</p>
<p begin="01:59:49.440" end="01:59:52.960" style="s2">like having to pass in the response into</p>
<p begin="01:59:51.079" end="01:59:54.880" style="s2">the path operation function having to</p>
<p begin="01:59:52.960" end="01:59:57.560" style="s2">set a property and then having to return</p>
<p begin="01:59:54.880" end="01:59:59.480" style="s2">my message we can remove all of this</p>
<p begin="01:59:57.560" end="02:00:00.920" style="s2">nonsense and I can get rid of all of</p>
<p begin="01:59:59.480" end="02:00:02.639" style="s2">these comments and I think this is just</p>
<p begin="02:00:00.920" end="02:00:04.199" style="s2">a little bit cleaner and moving forward</p>
<p begin="02:00:02.639" end="02:00:06.000" style="s2">we&#39;re going to be using these HTTP</p>
<p begin="02:00:04.199" end="02:00:07.679" style="s2">exceptions a lot because all we have to</p>
<p begin="02:00:06.000" end="02:00:09.079" style="s2">do is just pass in what&#39;s the HTTP</p>
<p begin="02:00:07.679" end="02:00:10.880" style="s2">status code and then the message we want</p>
<p begin="02:00:09.079" end="02:00:13.400" style="s2">to send back to the user and then that&#39;s</p>
<p begin="02:00:10.880" end="02:00:16.400" style="s2">what&#39;s going to be sent to them so now</p>
<p begin="02:00:13.400" end="02:00:16.400" style="s2">once again we&#39;re going to try this</p>
<p begin="02:00:17.679" end="02:00:23.639" style="s2">out and look at that right so we got the</p>
<p begin="02:00:20.639" end="02:00:26.679" style="s2">404 and got the message uh the detailed</p>
<p begin="02:00:23.639" end="02:00:29.800" style="s2">message right a lot cleaner a lot</p>
<p begin="02:00:26.679" end="02:00:32.079" style="s2">simpler now before we move any further</p>
<p begin="02:00:29.800" end="02:00:35.360" style="s2">and before we wrap up this video I did</p>
<p begin="02:00:32.079" end="02:00:38.119" style="s2">mention that anytime we create something</p>
<p begin="02:00:35.360" end="02:00:40.320" style="s2">we should send back a 2011 so if we go</p>
<p begin="02:00:38.119" end="02:00:42.280" style="s2">back to our create</p>
<p begin="02:00:40.320" end="02:00:44.840" style="s2">post and then we&#39;ll just create a new</p>
<p begin="02:00:42.280" end="02:00:46.800" style="s2">post again we can just send this we</p>
<p begin="02:00:44.840" end="02:00:48.520" style="s2">created a new post look at the status</p>
<p begin="02:00:46.800" end="02:00:52.119" style="s2">code that gets sent back it&#39;s got it</p>
<p begin="02:00:48.520" end="02:00:53.880" style="s2">gets sent back at 200 and that is wrong</p>
<p begin="02:00:52.119" end="02:00:55.199" style="s2">remember anytime we create an entity</p>
<p begin="02:00:53.880" end="02:00:58.000" style="s2">based off of that documentation we</p>
<p begin="02:00:55.199" end="02:00:59.960" style="s2">should send a 2011 so how exactly do we</p>
<p begin="02:00:58.000" end="02:01:02.199" style="s2">send how do we change what the default</p>
<p begin="02:00:59.960" end="02:01:05.199" style="s2">status code is for a specific path</p>
<p begin="02:01:02.199" end="02:01:08.440" style="s2">operation well what we can do is we&#39;ll</p>
<p begin="02:01:05.199" end="02:01:11.000" style="s2">go back to our code and let&#39;s find our</p>
<p begin="02:01:08.440" end="02:01:13.800" style="s2">uh create post and if you want to change</p>
<p begin="02:01:11.000" end="02:01:16.360" style="s2">the default status code uh what we do is</p>
<p begin="02:01:13.800" end="02:01:18.840" style="s2">inside the inside The Decorator we&#39;ll</p>
<p begin="02:01:16.360" end="02:01:20.920" style="s2">pass in another option so we&#39;ll say</p>
<p begin="02:01:18.840" end="02:01:22.280" style="s2">status code here and then we set this to</p>
<p begin="02:01:20.920" end="02:01:24.800" style="s2">be status and then what whatever our</p>
<p begin="02:01:22.280" end="02:01:26.079" style="s2">specific status code is so I want 2011</p>
<p begin="02:01:24.800" end="02:01:28.679" style="s2">and then that&#39;s all you have to do so</p>
<p begin="02:01:26.079" end="02:01:30.599" style="s2">now by default anytime someone uh sends</p>
<p begin="02:01:28.679" end="02:01:33.199" style="s2">a request to create posts we&#39;re going to</p>
<p begin="02:01:30.599" end="02:01:35.040" style="s2">send a 2011 created so we&#39;ll save that</p>
<p begin="02:01:33.199" end="02:01:38.199" style="s2">we&#39;ll give it another shot if I try this</p>
<p begin="02:01:35.040" end="02:01:40.000" style="s2">again now we get a 2011 perfect so at</p>
<p begin="02:01:38.199" end="02:01:41.880" style="s2">this point I think you guys will have a</p>
<p begin="02:01:40.000" end="02:01:43.400" style="s2">solid understanding of how to change</p>
<p begin="02:01:41.880" end="02:01:45.119" style="s2">status codes whether it&#39;s because we&#39;re</p>
<p begin="02:01:43.400" end="02:01:46.719" style="s2">trying to throw an exception or if we</p>
<p begin="02:01:45.119" end="02:01:49.920" style="s2">want to just change the default status</p>
<p begin="02:01:46.719" end="02:01:51.960" style="s2">code of a specific path</p>
<p begin="02:01:49.920" end="02:01:56.040" style="s2">operation all right guys so now it&#39;s</p>
<p begin="02:01:51.960" end="02:01:58.079" style="s2">time to move on to uh deleting a post so</p>
<p begin="02:01:56.040" end="02:01:59.880" style="s2">to delete a post remember we&#39;re going to</p>
<p begin="02:01:58.079" end="02:02:01.360" style="s2">start off with our decorator and it&#39;s</p>
<p begin="02:01:59.880" end="02:02:05.719" style="s2">going to request or it&#39;s going to</p>
<p begin="02:02:01.360" end="02:02:08.079" style="s2">require a delete uh HTTP</p>
<p begin="02:02:05.719" end="02:02:09.599" style="s2">request right and then the URL is going</p>
<p begin="02:02:08.079" end="02:02:11.599" style="s2">to be the same so it&#39;s going to be posts</p>
<p begin="02:02:09.599" end="02:02:14.560" style="s2">and then we&#39;re going to need the ID so</p>
<p begin="02:02:11.599" end="02:02:16.480" style="s2">we can figure out which post to actually</p>
<p begin="02:02:14.560" end="02:02:17.719" style="s2">delete right then let&#39;s define our</p>
<p begin="02:02:16.480" end="02:02:21.119" style="s2">function so I&#39;m just going to call this</p>
<p begin="02:02:17.719" end="02:02:21.119" style="s2">delete post</p>
<p begin="02:02:30.480" end="02:02:35.360" style="s2">and so here we have to implement the</p>
<p begin="02:02:32.199" end="02:02:38.800" style="s2">logic for deleting post so what are we</p>
<p begin="02:02:35.360" end="02:02:40.280" style="s2">going to do well uh for me there&#39;s many</p>
<p begin="02:02:38.800" end="02:02:42.239" style="s2">different ways you know deleting a post</p>
<p begin="02:02:40.280" end="02:02:43.560" style="s2">is just a matter of trying to figure out</p>
<p begin="02:02:42.239" end="02:02:46.679" style="s2">um which</p>
<p begin="02:02:43.560" end="02:02:49.360" style="s2">specific uh dictionary within this array</p>
<p begin="02:02:46.679" end="02:02:51.000" style="s2">has a specific ID of whatever ID we give</p>
<p begin="02:02:49.360" end="02:02:52.960" style="s2">it and then we just remove it from the</p>
<p begin="02:02:51.000" end="02:02:54.360" style="s2">array so how however you want to do it</p>
<p begin="02:02:52.960" end="02:02:56.440" style="s2">go ahead and do it I&#39;m going to just</p>
<p begin="02:02:54.360" end="02:02:57.800" style="s2">show you the first way that I thought of</p>
<p begin="02:02:56.440" end="02:02:59.360" style="s2">uh like I said this doesn&#39;t actually</p>
<p begin="02:02:57.800" end="02:03:01.320" style="s2">have anything to do with fast API this</p>
<p begin="02:02:59.360" end="02:03:03.280" style="s2">is more of just simply working with</p>
<p begin="02:03:01.320" end="02:03:04.599" style="s2">python so I&#39;m telling you right up front</p>
<p begin="02:03:03.280" end="02:03:06.000" style="s2">this may not be the most efficient way</p>
<p begin="02:03:04.599" end="02:03:07.159" style="s2">to do it but like I said we&#39;re</p>
<p begin="02:03:06.000" end="02:03:08.360" style="s2">eventually going to implement a real</p>
<p begin="02:03:07.159" end="02:03:11.199" style="s2">database so it doesn&#39;t really matter how</p>
<p begin="02:03:08.360" end="02:03:11.199" style="s2">you do it as long as it</p>
<p begin="02:03:12.159" end="02:03:16.360" style="s2">works and so the first thing that we&#39;re</p>
<p begin="02:03:14.000" end="02:03:18.119" style="s2">going to do is I&#39;m going to look to find</p>
<p begin="02:03:16.360" end="02:03:22.360" style="s2">uh the</p>
<p begin="02:03:18.119" end="02:03:25.679" style="s2">index uh in the array that has</p>
<p begin="02:03:22.360" end="02:03:27.079" style="s2">as required ID we&#39;re going to look for</p>
<p begin="02:03:25.679" end="02:03:29.360" style="s2">what we&#39;re going to try to get the index</p>
<p begin="02:03:27.079" end="02:03:32.719" style="s2">of that specific item and then all we&#39;re</p>
<p begin="02:03:29.360" end="02:03:36.159" style="s2">going to do is we&#39;ll do a um</p>
<p begin="02:03:32.719" end="02:03:38.360" style="s2">myor posts. poop and then just pass in</p>
<p begin="02:03:36.159" end="02:03:40.320" style="s2">the index and so that&#39;s how we remove it</p>
<p begin="02:03:38.360" end="02:03:41.239" style="s2">from that array pretty simple and what</p>
<p begin="02:03:40.320" end="02:03:43.199" style="s2">I&#39;m going to do is I&#39;m going to actually</p>
<p begin="02:03:41.239" end="02:03:45.440" style="s2">just Define a function out here just to</p>
<p begin="02:03:43.199" end="02:03:47.719" style="s2">keep things simple so this is going to</p>
<p begin="02:03:45.440" end="02:03:51.520" style="s2">be called find</p>
<p begin="02:03:47.719" end="02:03:53.000" style="s2">uncore index poost and then we&#39;re going</p>
<p begin="02:03:51.520" end="02:03:54.760" style="s2">to pass in the ID that we&#39;re interested</p>
<p begin="02:03:53.000" end="02:03:57.360" style="s2">in and then we&#39;re going to iterate over</p>
<p begin="02:03:54.760" end="02:04:00.280" style="s2">the array but we&#39;re also going to grab</p>
<p begin="02:03:57.360" end="02:04:03.520" style="s2">the specific index as we iterate over it</p>
<p begin="02:04:00.280" end="02:04:03.520" style="s2">and so you do that by using</p>
<p begin="02:04:05.719" end="02:04:09.119" style="s2">enumerate so this is going to iterate</p>
<p begin="02:04:07.599" end="02:04:10.520" style="s2">over it we&#39;ll get the access to the</p>
<p begin="02:04:09.119" end="02:04:13.000" style="s2">individual post that we&#39;re iterating</p>
<p begin="02:04:10.520" end="02:04:19.639" style="s2">over as well as the index and so we&#39;ll</p>
<p begin="02:04:13.000" end="02:04:24.199" style="s2">say if P if the ID equals equals</p>
<p begin="02:04:19.639" end="02:04:24.199" style="s2">ID and I forgot the in keyword</p>
<p begin="02:04:24.520" end="02:04:29.360" style="s2">here we&#39;ll just return I so this is</p>
<p begin="02:04:26.880" end="02:04:32.280" style="s2">going to give us the index uh of the</p>
<p begin="02:04:29.360" end="02:04:35.480" style="s2">dictionary with that specific</p>
<p begin="02:04:32.280" end="02:04:37.679" style="s2">ID so here we can just call that</p>
<p begin="02:04:35.480" end="02:04:40.520" style="s2">function and we&#39;ll set it equal to the</p>
<p begin="02:04:37.679" end="02:04:43.440" style="s2">index so index equals find _ index of</p>
<p begin="02:04:40.520" end="02:04:46.679" style="s2">post pass in ID so we now have the index</p>
<p begin="02:04:43.440" end="02:04:52.719" style="s2">and at this point I can just do a my</p>
<p begin="02:04:46.679" end="02:04:54.440" style="s2">posts. pop and then just pass in index</p>
<p begin="02:04:52.719" end="02:04:55.960" style="s2">and then we&#39;ll try to do a return and</p>
<p begin="02:04:54.440" end="02:04:59.719" style="s2">then here I&#39;m just going to pass</p>
<p begin="02:04:55.960" end="02:04:59.719" style="s2">in uh we&#39;ll say</p>
<p begin="02:04:59.920" end="02:05:06.840" style="s2">message we&#39;ll say</p>
<p begin="02:05:02.400" end="02:05:08.719" style="s2">post was successfully deleted but let&#39;s</p>
<p begin="02:05:06.840" end="02:05:11.280" style="s2">give this a shot so first of all let&#39;s</p>
<p begin="02:05:08.719" end="02:05:11.280" style="s2">get all the</p>
<p begin="02:05:11.520" end="02:05:16.400" style="s2">posts right if I do a get all posts</p>
<p begin="02:05:14.159" end="02:05:18.400" style="s2">you&#39;ll see that we have two posts and</p>
<p begin="02:05:16.400" end="02:05:20.960" style="s2">then I&#39;m going to create a new</p>
<p begin="02:05:18.400" end="02:05:23.639" style="s2">request and this will be called delete</p>
<p begin="02:05:20.960" end="02:05:23.639" style="s2">post</p>
<p begin="02:05:23.880" end="02:05:28.920" style="s2">just going to copy that URL pass it in</p>
<p begin="02:05:26.679" end="02:05:33.360" style="s2">there and so here I&#39;m going to try and</p>
<p begin="02:05:28.920" end="02:05:33.360" style="s2">delete with a uh post of a value of</p>
<p begin="02:05:35.000" end="02:05:40.719" style="s2">one and I realized I still left it as</p>
<p begin="02:05:37.679" end="02:05:43.000" style="s2">get so we&#39;re going to change it to</p>
<p begin="02:05:40.719" end="02:05:45.360" style="s2">delete right and so now it throws an</p>
<p begin="02:05:43.000" end="02:05:47.599" style="s2">error so what exactly happened well if</p>
<p begin="02:05:45.360" end="02:05:50.719" style="s2">we go back to here and then go back to</p>
<p begin="02:05:47.599" end="02:05:53.440" style="s2">our console it says it says nontype</p>
<p begin="02:05:50.719" end="02:05:56.199" style="s2">object can cannot be interpreted as an</p>
<p begin="02:05:53.440" end="02:05:58.679" style="s2">integer and uh and I realized I forgot</p>
<p begin="02:05:56.199" end="02:05:59.960" style="s2">to actually pass in ID into our function</p>
<p begin="02:05:58.679" end="02:06:03.920" style="s2">so that&#39;s why it was giving us that</p>
<p begin="02:05:59.960" end="02:06:06.320" style="s2">error so now let&#39;s try this</p>
<p begin="02:06:03.920" end="02:06:08.880" style="s2">again and we see that we get the message</p>
<p begin="02:06:06.320" end="02:06:11.719" style="s2">says post was successfully deleted</p>
<p begin="02:06:08.880" end="02:06:14.000" style="s2">that&#39;s good however um you&#39;ll see that</p>
<p begin="02:06:11.719" end="02:06:16.079" style="s2">the status code is 200 and so if we</p>
<p begin="02:06:14.000" end="02:06:18.800" style="s2">actually go back to our status codes</p>
<p begin="02:06:16.079" end="02:06:21.679" style="s2">you&#39;ll see that there&#39;s a uh specific</p>
<p begin="02:06:18.800" end="02:06:23.880" style="s2">status code that we should be using for</p>
<p begin="02:06:21.679" end="02:06:26.400" style="s2">when we delete something and that status</p>
<p begin="02:06:23.880" end="02:06:27.880" style="s2">code is a 204 and like I said you know</p>
<p begin="02:06:26.400" end="02:06:29.320" style="s2">you can read the documentation but this</p>
<p begin="02:06:27.880" end="02:06:31.040" style="s2">is something that just you know comes</p>
<p begin="02:06:29.320" end="02:06:32.599" style="s2">with time of working with API so you&#39;ll</p>
<p begin="02:06:31.040" end="02:06:35.599" style="s2">know that anytime you want to delete</p>
<p begin="02:06:32.599" end="02:06:37.000" style="s2">something uh you want to use a a 204 but</p>
<p begin="02:06:35.599" end="02:06:38.679" style="s2">before we actually do that let&#39;s verify</p>
<p begin="02:06:37.000" end="02:06:41.440" style="s2">that it actually deleted it so we&#39;ll go</p>
<p begin="02:06:38.679" end="02:06:42.960" style="s2">to get posts and I&#39;ll send a request and</p>
<p begin="02:06:41.440" end="02:06:45.400" style="s2">we can see that there&#39;s only one post so</p>
<p begin="02:06:42.960" end="02:06:47.639" style="s2">it clearly did work um but let&#39;s update</p>
<p begin="02:06:45.400" end="02:06:49.760" style="s2">the status code so do you guys remember</p>
<p begin="02:06:47.639" end="02:06:51.880" style="s2">how to update the status code uh the</p>
<p begin="02:06:49.760" end="02:06:54.520" style="s2">default status code of a specific path</p>
<p begin="02:06:51.880" end="02:06:56.040" style="s2">operation we just pass in status code</p>
<p begin="02:06:54.520" end="02:06:59.239" style="s2">into The Decorator and then we&#39;ll do</p>
<p begin="02:06:56.040" end="02:06:59.239" style="s2">status and then we&#39;ll just get our</p>
<p begin="02:07:00.920" end="02:07:07.719" style="s2">204 now let&#39;s try to uh delete something</p>
<p begin="02:07:04.440" end="02:07:09.840" style="s2">again we&#39;ll try to delete uh where&#39;s my</p>
<p begin="02:07:07.719" end="02:07:11.840" style="s2">delete we&#39;ll try to delete post one</p>
<p begin="02:07:09.840" end="02:07:13.719" style="s2">again let&#39;s see what happens so you&#39;ll</p>
<p begin="02:07:11.840" end="02:07:15.280" style="s2">see here that we get the 204 so</p>
<p begin="02:07:13.719" end="02:07:18.239" style="s2">everything looks good we didn&#39;t get any</p>
<p begin="02:07:15.280" end="02:07:20.440" style="s2">data back and if we go back to our</p>
<p begin="02:07:18.239" end="02:07:22.400" style="s2">application you&#39;ll see that we got a an</p>
<p begin="02:07:20.440" end="02:07:24.920" style="s2">eror which says too much data for</p>
<p begin="02:07:22.400" end="02:07:25.960" style="s2">declared content length and what&#39;s</p>
<p begin="02:07:24.920" end="02:07:27.800" style="s2">Happening Here is I actually have to</p>
<p begin="02:07:25.960" end="02:07:30.559" style="s2">look up this error and that&#39;s because</p>
<p begin="02:07:27.800" end="02:07:31.719" style="s2">anytime you send back a 204 the idea is</p>
<p begin="02:07:30.559" end="02:07:33.079" style="s2">that since we delete anything we</p>
<p begin="02:07:31.719" end="02:07:35.159" style="s2">shouldn&#39;t really be sending any data</p>
<p begin="02:07:33.079" end="02:07:37.360" style="s2">back and so when we try to send this</p>
<p begin="02:07:35.159" end="02:07:38.719" style="s2">message back fast API essentially throws</p>
<p begin="02:07:37.360" end="02:07:41.440" style="s2">in there saying like listen you&#39;re</p>
<p begin="02:07:38.719" end="02:07:42.840" style="s2">sending a 204 we should not be sending</p>
<p begin="02:07:41.440" end="02:07:46.159" style="s2">anything back so that&#39;s how they kind of</p>
<p begin="02:07:42.840" end="02:07:49.079" style="s2">implemented fast API uh and so the what</p>
<p begin="02:07:46.159" end="02:07:51.079" style="s2">you should be doing is if you want to do</p>
<p begin="02:07:49.079" end="02:07:53.599" style="s2">if you what we should do is actually</p>
<p begin="02:07:51.079" end="02:07:55.119" style="s2">just delete delete this we should grab</p>
<p begin="02:07:53.599" end="02:07:57.719" style="s2">the</p>
<p begin="02:07:55.119" end="02:08:00.239" style="s2">response and then just pass in status</p>
<p begin="02:07:57.719" end="02:08:04.520" style="s2">code</p>
<p begin="02:08:00.239" end="02:08:06.079" style="s2">status HTTP 204 right so basically we</p>
<p begin="02:08:04.520" end="02:08:07.800" style="s2">don&#39;t want to actually send any data</p>
<p begin="02:08:06.079" end="02:08:10.040" style="s2">back anytime someone deletes something</p>
<p begin="02:08:07.800" end="02:08:11.360" style="s2">we just want to send a 204 and then one</p>
<p begin="02:08:10.040" end="02:08:14.040" style="s2">of the requirements for that to work is</p>
<p begin="02:08:11.360" end="02:08:15.480" style="s2">that we don&#39;t send any data back I know</p>
<p begin="02:08:14.040" end="02:08:17.000" style="s2">it&#39;s a little confusing uh if you</p>
<p begin="02:08:15.480" end="02:08:19.280" style="s2">actually just Google this error uh</p>
<p begin="02:08:17.000" end="02:08:21.639" style="s2">you&#39;ll probably get better explanation</p>
<p begin="02:08:19.280" end="02:08:23.320" style="s2">um but 204 when you delete something</p>
<p begin="02:08:21.639" end="02:08:25.760" style="s2">don&#39;t want to send any data back that&#39;s</p>
<p begin="02:08:23.320" end="02:08:27.880" style="s2">kind of the expected result so let&#39;s try</p>
<p begin="02:08:25.760" end="02:08:30.000" style="s2">this</p>
<p begin="02:08:27.880" end="02:08:32.760" style="s2">again let&#39;s send</p>
<p begin="02:08:30.000" end="02:08:36.159" style="s2">a all right so we got the 204 no data</p>
<p begin="02:08:32.760" end="02:08:37.559" style="s2">comes back and no errors so that&#39;s all</p>
<p begin="02:08:36.159" end="02:08:39.679" style="s2">we have to do so this is just something</p>
<p begin="02:08:37.559" end="02:08:41.760" style="s2">special that you have to do for delete</p>
<p begin="02:08:39.679" end="02:08:44.119" style="s2">uh within fast API just keep that in</p>
<p begin="02:08:41.760" end="02:08:46.760" style="s2">mind it&#39;s more of just a copy a cut and</p>
<p begin="02:08:44.119" end="02:08:49.760" style="s2">paste type scenario however before we</p>
<p begin="02:08:46.760" end="02:08:52.400" style="s2">wrap up this uh delete video uh we are</p>
<p begin="02:08:49.760" end="02:08:57.199" style="s2">still running into one tiny issue</p>
<p begin="02:08:52.400" end="02:08:59.239" style="s2">if I try to grab a uh an ID that doesn&#39;t</p>
<p begin="02:08:57.199" end="02:09:02.280" style="s2">exist let&#39;s see what happens well now we</p>
<p begin="02:08:59.239" end="02:09:04.719" style="s2">get a 500 error and we get an error</p>
<p begin="02:09:02.280" end="02:09:07.520" style="s2">because well non type object cannot be</p>
<p begin="02:09:04.719" end="02:09:10.119" style="s2">interpreted as an integer so uh since we</p>
<p begin="02:09:07.520" end="02:09:11.639" style="s2">tried to grab the index from this uh</p>
<p begin="02:09:10.119" end="02:09:13.760" style="s2">find index post it&#39;s going to return</p>
<p begin="02:09:11.639" end="02:09:15.840" style="s2">nothing because there&#39;s no post uh that</p>
<p begin="02:09:13.760" end="02:09:18.199" style="s2">has an IDE of five so we get nothing and</p>
<p begin="02:09:15.840" end="02:09:20.719" style="s2">then we try to pop with an index of none</p>
<p begin="02:09:18.199" end="02:09:22.199" style="s2">that creates an error so we need to put</p>
<p begin="02:09:20.719" end="02:09:24.639" style="s2">in a simple if statement to actually</p>
<p begin="02:09:22.199" end="02:09:27.159" style="s2">catch that scenario so we&#39;ll say if</p>
<p begin="02:09:24.639" end="02:09:29.360" style="s2">index equals equals none so it&#39;ll return</p>
<p begin="02:09:27.159" end="02:09:31.520" style="s2">none if it doesn&#39;t exist what are we</p>
<p begin="02:09:29.360" end="02:09:34.800" style="s2">going to do well we&#39;re going to</p>
<p begin="02:09:31.520" end="02:09:37.360" style="s2">raise an exception again so we can use</p>
<p begin="02:09:34.800" end="02:09:40.599" style="s2">that raise HTTP exception and we&#39;ll just</p>
<p begin="02:09:37.360" end="02:09:42.119" style="s2">say status code equals uh in this case</p>
<p begin="02:09:40.599" end="02:09:44.760" style="s2">uh we want to send a 404 like we</p>
<p begin="02:09:42.119" end="02:09:47.760" style="s2">normally do so we&#39;ll say status.</p>
<p begin="02:09:44.760" end="02:09:47.760" style="s2">HTTP</p>
<p begin="02:09:49.880" end="02:09:54.360" style="s2">404 and then we can send a detailed</p>
<p begin="02:09:52.119" end="02:09:57.599" style="s2">message so in this case uh you know</p>
<p begin="02:09:54.360" end="02:09:57.599" style="s2">we&#39;ll do once again another F</p>
<p begin="02:09:59.480" end="02:10:08.880" style="s2">string and we&#39;ll say post with</p>
<p begin="02:10:03.199" end="02:10:08.880" style="s2">ID pass the ID does not</p>
<p begin="02:10:09.880" end="02:10:16.760" style="s2">exist let&#39;s try this</p>
<p begin="02:10:13.320" end="02:10:17.760" style="s2">out perfect 404 post with ID does not</p>
<p begin="02:10:16.760" end="02:10:19.719" style="s2">exist let&#39;s just make sure we didn&#39;t</p>
<p begin="02:10:17.760" end="02:10:22.000" style="s2">break the original functionality we</p>
<p begin="02:10:19.719" end="02:10:24.079" style="s2">delete it perfect and let&#39;s just double</p>
<p begin="02:10:22.000" end="02:10:26.199" style="s2">check there&#39;s no errors there we go so</p>
<p begin="02:10:24.079" end="02:10:28.079" style="s2">everything looks good to go guys uh so</p>
<p begin="02:10:26.199" end="02:10:29.760" style="s2">we&#39;ll wrap up this video and then in the</p>
<p begin="02:10:28.079" end="02:10:31.639" style="s2">next video we&#39;ll take a look at how we</p>
<p begin="02:10:29.760" end="02:10:33.840" style="s2">can update</p>
<p begin="02:10:31.639" end="02:10:35.400" style="s2">posts all right guys we&#39;re almost done</p>
<p begin="02:10:33.840" end="02:10:37.920" style="s2">with all of our cred operations the</p>
<p begin="02:10:35.400" end="02:10:40.400" style="s2">final one is update so let&#39;s create a</p>
<p begin="02:10:37.920" end="02:10:42.800" style="s2">new request we&#39;re going to call this a</p>
<p begin="02:10:40.400" end="02:10:42.800" style="s2">update</p>
<p begin="02:10:45.719" end="02:10:49.639" style="s2">post and I&#39;m just going to grab the URL</p>
<p begin="02:10:47.840" end="02:10:51.639" style="s2">from the delete post because it&#39;s going</p>
<p begin="02:10:49.639" end="02:10:53.559" style="s2">to follow the same exact structure so</p>
<p begin="02:10:51.639" end="02:10:56.119" style="s2">we&#39;re going to pass the ID of the uh</p>
<p begin="02:10:53.559" end="02:10:58.480" style="s2">post that we want to</p>
<p begin="02:10:56.119" end="02:10:59.960" style="s2">update now since we are updating it we</p>
<p begin="02:10:58.480" end="02:11:02.679" style="s2">need our front end or in this case</p>
<p begin="02:10:59.960" end="02:11:04.440" style="s2">Postman to actually send the data uh</p>
<p begin="02:11:02.679" end="02:11:06.280" style="s2">that we want to update with so since we</p>
<p begin="02:11:04.440" end="02:11:08.719" style="s2">are working with posts and we take a</p>
<p begin="02:11:06.280" end="02:11:11.040" style="s2">look at our uh structure of our posts</p>
<p begin="02:11:08.719" end="02:11:13.440" style="s2">it&#39;s very simple we just have title</p>
<p begin="02:11:11.040" end="02:11:14.679" style="s2">content uh and then you know published</p>
<p begin="02:11:13.440" end="02:11:16.480" style="s2">as well if you want to add that in</p>
<p begin="02:11:14.679" end="02:11:18.880" style="s2">ratings as well and I&#39;m actually going</p>
<p begin="02:11:16.480" end="02:11:20.360" style="s2">to remove that so I don&#39;t actually want</p>
<p begin="02:11:18.880" end="02:11:22.760" style="s2">to have that I&#39;ll actually we&#39;ll keep it</p>
<p begin="02:11:20.360" end="02:11:24.599" style="s2">in for now but we&#39;ll definitely remove</p>
<p begin="02:11:22.760" end="02:11:27.159" style="s2">that a little bit later</p>
<p begin="02:11:24.599" end="02:11:28.840" style="s2">on and so if I go back to postman we can</p>
<p begin="02:11:27.159" end="02:11:31.040" style="s2">go to our body and then provide all of</p>
<p begin="02:11:28.840" end="02:11:33.199" style="s2">those fields so we&#39;ll go to raw and then</p>
<p begin="02:11:31.040" end="02:11:34.599" style="s2">Json so this is just like when we were</p>
<p begin="02:11:33.199" end="02:11:36.880" style="s2">trying to create a post we just pass</p>
<p begin="02:11:34.599" end="02:11:40.199" style="s2">that data</p>
<p begin="02:11:36.880" end="02:11:43.400" style="s2">in and so here we&#39;ll get the</p>
<p begin="02:11:40.199" end="02:11:48.320" style="s2">title and we&#39;ll give it a new title so</p>
<p begin="02:11:43.400" end="02:11:50.000" style="s2">updated title so this uh this uh this</p>
<p begin="02:11:48.320" end="02:11:52.760" style="s2">update request is going just going to</p>
<p begin="02:11:50.000" end="02:11:55.119" style="s2">update the title now we are going to use</p>
<p begin="02:11:52.760" end="02:11:58.360" style="s2">uh the put method so with put method we</p>
<p begin="02:11:55.119" end="02:12:00.199" style="s2">have to actually pass in uh the data for</p>
<p begin="02:11:58.360" end="02:12:02.360" style="s2">all of the fields right we want to pass</p>
<p begin="02:12:00.199" end="02:12:03.920" style="s2">in what the final post will look like</p>
<p begin="02:12:02.360" end="02:12:05.599" style="s2">after we update it we don&#39;t just want to</p>
<p begin="02:12:03.920" end="02:12:09.559" style="s2">pass in the fields that we want to</p>
<p begin="02:12:05.599" end="02:12:12.040" style="s2">update so if I go to let&#39;s say um you</p>
<p begin="02:12:09.559" end="02:12:13.320" style="s2">know post one right we have the title</p>
<p begin="02:12:12.040" end="02:12:16.760" style="s2">and then we have the content so if I</p>
<p begin="02:12:13.320" end="02:12:18.760" style="s2">wanted to update just the title right I</p>
<p begin="02:12:16.760" end="02:12:21.480" style="s2">would make sure that I pass the content</p>
<p begin="02:12:18.760" end="02:12:22.599" style="s2">as well so I&#39;m just going to copy this</p>
<p begin="02:12:21.480" end="02:12:26.239" style="s2">since we&#39;re not updating it I&#39;m just</p>
<p begin="02:12:22.599" end="02:12:26.239" style="s2">going to send back the same exact</p>
<p begin="02:12:28.800" end="02:12:32.800" style="s2">content right and then this is going to</p>
<p begin="02:12:30.719" end="02:12:34.679" style="s2">be a put</p>
<p begin="02:12:32.800" end="02:12:36.400" style="s2">operation all and so this is what the</p>
<p begin="02:12:34.679" end="02:12:38.679" style="s2">request is going to look like now let&#39;s</p>
<p begin="02:12:36.400" end="02:12:41.840" style="s2">go to our code and let&#39;s actually create</p>
<p begin="02:12:38.679" end="02:12:41.840" style="s2">our path operation for</p>
<p begin="02:12:42.440" end="02:12:53.119" style="s2">that so here we&#39;re going to do app.</p>
<p begin="02:12:47.239" end="02:12:53.119" style="s2">put it&#39;s going to go to post ID</p>
<p begin="02:13:01.040" end="02:13:04.920" style="s2">and then we&#39;ll Define our function I&#39;m</p>
<p begin="02:13:02.079" end="02:13:04.920" style="s2">going to call this update</p>
<p begin="02:13:06.520" end="02:13:13.000" style="s2">post we&#39;re going to get the ID and I&#39;m</p>
<p begin="02:13:09.079" end="02:13:14.960" style="s2">going to convert that to an INT um and</p>
<p begin="02:13:13.000" end="02:13:18.199" style="s2">then one other thing right because we</p>
<p begin="02:13:14.960" end="02:13:20.880" style="s2">are receiving data from the the front</p>
<p begin="02:13:18.199" end="02:13:22.360" style="s2">end uh just like we did for creating a</p>
<p begin="02:13:20.880" end="02:13:25.199" style="s2">post we want to make sure that it</p>
<p begin="02:13:22.360" end="02:13:27.239" style="s2">adheres to a very strict structure so we</p>
<p begin="02:13:25.199" end="02:13:28.599" style="s2">have to use so I want to use our schema</p>
<p begin="02:13:27.239" end="02:13:31.360" style="s2">again so that the the front end can&#39;t</p>
<p begin="02:13:28.599" end="02:13:34.800" style="s2">just send whatever it wants to now I can</p>
<p begin="02:13:31.360" end="02:13:36.079" style="s2">create a new model called uh class you</p>
<p begin="02:13:34.800" end="02:13:38.199" style="s2">know update</p>
<p begin="02:13:36.079" end="02:13:39.920" style="s2">post and then we can pass in all the</p>
<p begin="02:13:38.199" end="02:13:41.400" style="s2">fields that we expect however it&#39;s going</p>
<p begin="02:13:39.920" end="02:13:44.639" style="s2">to be the same thing as the post because</p>
<p begin="02:13:41.400" end="02:13:47.159" style="s2">we expect a title content uh and then um</p>
<p begin="02:13:44.639" end="02:13:48.960" style="s2">any of the other fields uh depending on</p>
<p begin="02:13:47.159" end="02:13:51.119" style="s2">what we want ultimately but it&#39;s going</p>
<p begin="02:13:48.960" end="02:13:52.599" style="s2">to be a post so it doesn&#39;t make sense to</p>
<p begin="02:13:51.119" end="02:13:55.199" style="s2">create a new schema we can just use the</p>
<p begin="02:13:52.599" end="02:13:55.199" style="s2">pre-existing</p>
<p begin="02:13:56.239" end="02:14:01.920" style="s2">schema and so here I&#39;m just going to</p>
<p begin="02:13:58.320" end="02:14:03.559" style="s2">pass in post and make this type of post</p>
<p begin="02:14:01.920" end="02:14:06.760" style="s2">so that it&#39;s going to make sure that the</p>
<p begin="02:14:03.559" end="02:14:06.760" style="s2">request comes in with the right</p>
<p begin="02:14:11.840" end="02:14:16.520" style="s2">schema and then for now I&#39;m just going</p>
<p begin="02:14:14.040" end="02:14:21.840" style="s2">to hard code the return to be uh a</p>
<p begin="02:14:16.520" end="02:14:23.199" style="s2">message and I&#39;ll just say updated post</p>
<p begin="02:14:21.840" end="02:14:26.800" style="s2">and then here I&#39;m going to do a print</p>
<p begin="02:14:23.199" end="02:14:26.800" style="s2">let&#39;s just see what the post looks</p>
<p begin="02:14:32.320" end="02:14:36.599" style="s2">like all right so we were able to</p>
<p begin="02:14:34.520" end="02:14:38.719" style="s2">extract all of that data so</p>
<p begin="02:14:36.599" end="02:14:40.960" style="s2">perfect uh and then what we&#39;re going to</p>
<p begin="02:14:38.719" end="02:14:43.679" style="s2">do now is uh there&#39;s a couple things so</p>
<p begin="02:14:40.960" end="02:14:46.360" style="s2">first things first I I need to find the</p>
<p begin="02:14:43.679" end="02:14:48.440" style="s2">index uh that of the post with this</p>
<p begin="02:14:46.360" end="02:14:50.679" style="s2">specific ID so just like we did with</p>
<p begin="02:14:48.440" end="02:14:52.239" style="s2">delete I&#39;m just going to copy this</p>
<p begin="02:14:50.679" end="02:14:54.079" style="s2">actually we can copy all of this right</p>
<p begin="02:14:52.239" end="02:14:56.679" style="s2">here because if that ID doesn&#39;t exist we</p>
<p begin="02:14:54.079" end="02:14:59.000" style="s2">want to send a 404 so we can reuse all</p>
<p begin="02:14:56.679" end="02:14:59.000" style="s2">of that</p>
<p begin="02:14:59.480" end="02:15:04.199" style="s2">logic but if we did find an index that</p>
<p begin="02:15:02.719" end="02:15:06.320" style="s2">means we do need to update it so what</p>
<p begin="02:15:04.199" end="02:15:08.880" style="s2">I&#39;m going to do is uh we&#39;re going to</p>
<p begin="02:15:06.320" end="02:15:12.199" style="s2">grab postore</p>
<p begin="02:15:08.880" end="02:15:13.760" style="s2">dict which equals post. dict so that&#39;s</p>
<p begin="02:15:12.199" end="02:15:15.840" style="s2">going to take the data we receive from</p>
<p begin="02:15:13.760" end="02:15:16.960" style="s2">our front end which is stored in post</p>
<p begin="02:15:15.840" end="02:15:19.679" style="s2">and it&#39;s going to convert it to a</p>
<p begin="02:15:16.960" end="02:15:21.520" style="s2">dictionary that&#39;s all it&#39;s</p>
<p begin="02:15:19.679" end="02:15:25.159" style="s2">doing and then what I want to do is I</p>
<p begin="02:15:21.520" end="02:15:27.800" style="s2">want to set postore dick of</p>
<p begin="02:15:25.159" end="02:15:30.840" style="s2">ID to be equal to ID so we&#39;re going to</p>
<p begin="02:15:27.800" end="02:15:33.000" style="s2">set the ID uh inside this new dictionary</p>
<p begin="02:15:30.840" end="02:15:36.520" style="s2">to be that ID and then we&#39;re going to</p>
<p begin="02:15:33.000" end="02:15:36.520" style="s2">say myor</p>
<p begin="02:15:39.040" end="02:15:43.400" style="s2">poost and we&#39;re going to pass in the</p>
<p begin="02:15:41.119" end="02:15:47.239" style="s2">index uh of the specific post we want to</p>
<p begin="02:15:43.400" end="02:15:49.440" style="s2">update and set that equal to postore</p>
<p begin="02:15:47.239" end="02:15:52.679" style="s2">dict and then lastly we&#39;re going to</p>
<p begin="02:15:49.440" end="02:15:54.800" style="s2">return I&#39;ll say data and then we&#39;re</p>
<p begin="02:15:52.679" end="02:15:57.159" style="s2">going to return our new post which is</p>
<p begin="02:15:54.800" end="02:15:59.320" style="s2">going to be postore dict now let&#39;s just</p>
<p begin="02:15:57.159" end="02:16:00.000" style="s2">quickly recap what&#39;s happening so first</p>
<p begin="02:15:59.320" end="02:16:03.360" style="s2">of</p>
<p begin="02:16:00.000" end="02:16:05.679" style="s2">all uh the user is going to send a put</p>
<p begin="02:16:03.360" end="02:16:07.760" style="s2">request to the specific ID of the uh</p>
<p begin="02:16:05.679" end="02:16:09.480" style="s2">post he wants to update and we&#39;re going</p>
<p begin="02:16:07.760" end="02:16:11.679" style="s2">to just do a quick check so we&#39;re going</p>
<p begin="02:16:09.480" end="02:16:14.480" style="s2">to see if we can find what is the index</p>
<p begin="02:16:11.679" end="02:16:16.199" style="s2">of that specific post within my Mo my</p>
<p begin="02:16:14.480" end="02:16:18.400" style="s2">posts</p>
<p begin="02:16:16.199" end="02:16:19.880" style="s2">aray if it doesn&#39;t exist then we&#39;re just</p>
<p begin="02:16:18.400" end="02:16:21.760" style="s2">going to throw a four four if it does</p>
<p begin="02:16:19.880" end="02:16:23.719" style="s2">exist whoops if if it doesn&#39;t exist</p>
<p begin="02:16:21.760" end="02:16:25.400" style="s2">we&#39;re going to throw a four4 if it does</p>
<p begin="02:16:23.719" end="02:16:26.639" style="s2">exist well first thing we&#39;re going to</p>
<p begin="02:16:25.400" end="02:16:28.440" style="s2">take all the data we received from the</p>
<p begin="02:16:26.639" end="02:16:29.960" style="s2">front end which is stored in post we&#39;re</p>
<p begin="02:16:28.440" end="02:16:31.679" style="s2">going to convert it to a regular python</p>
<p begin="02:16:29.960" end="02:16:34.240" style="s2">dictionary and then we&#39;re going to add</p>
<p begin="02:16:31.679" end="02:16:36.080" style="s2">the ID so that this final dictionary has</p>
<p begin="02:16:34.240" end="02:16:39.359" style="s2">the ID built in and then we&#39;re going to</p>
<p begin="02:16:36.080" end="02:16:41.479" style="s2">say for the Post within index we&#39;re</p>
<p begin="02:16:39.359" end="02:16:44.080" style="s2">going to just replace it with our new</p>
<p begin="02:16:41.479" end="02:16:46.960" style="s2">postore dict so that&#39;s how we update</p>
<p begin="02:16:44.080" end="02:16:49.599" style="s2">that specific spot in the</p>
<p begin="02:16:46.960" end="02:16:52.000" style="s2">array and so let&#39;s give this a shot so</p>
<p begin="02:16:49.599" end="02:16:54.359" style="s2">if I do uh get all</p>
<p begin="02:16:52.000" end="02:16:56.840" style="s2">posts right we can see we have post one</p>
<p begin="02:16:54.359" end="02:16:58.319" style="s2">and then the title is title of post one</p>
<p begin="02:16:56.840" end="02:16:59.319" style="s2">and then let&#39;s go to our update and we</p>
<p begin="02:16:58.319" end="02:17:01.319" style="s2">can see that we&#39;re going to change the</p>
<p begin="02:16:59.319" end="02:17:03.800" style="s2">title to be updated title and let&#39;s see</p>
<p begin="02:17:01.319" end="02:17:06.399" style="s2">if that works okay so it looks like it</p>
<p begin="02:17:03.800" end="02:17:08.240" style="s2">worked uh we got back the new post so</p>
<p begin="02:17:06.399" end="02:17:10.920" style="s2">let&#39;s do a get all posts again and let&#39;s</p>
<p begin="02:17:08.240" end="02:17:13.679" style="s2">see if it actually did update and we can</p>
<p begin="02:17:10.920" end="02:17:16.000" style="s2">see that it did in fact</p>
<p begin="02:17:13.679" end="02:17:17.160" style="s2">update now just to just to make sure</p>
<p begin="02:17:16.000" end="02:17:20.280" style="s2">everything else is good let&#39;s also</p>
<p begin="02:17:17.160" end="02:17:22.160" style="s2">change the uh the content so let&#39;s say</p>
<p begin="02:17:20.280" end="02:17:25.719" style="s2">this is the new</p>
<p begin="02:17:22.160" end="02:17:25.719" style="s2">content let&#39;s send an</p>
<p begin="02:17:25.800" end="02:17:30.000" style="s2">update and then we&#39;re going to run this</p>
<p begin="02:17:27.760" end="02:17:31.160" style="s2">again and we can see that the content is</p>
<p begin="02:17:30.000" end="02:17:34.399" style="s2">updated so now we&#39;re able to</p>
<p begin="02:17:31.160" end="02:17:35.840" style="s2">successfully update each and every post</p>
<p begin="02:17:34.399" end="02:17:37.800" style="s2">and that&#39;s going to wrap up all of our</p>
<p begin="02:17:35.840" end="02:17:39.719" style="s2">crud operations so you could see that</p>
<p begin="02:17:37.800" end="02:17:40.880" style="s2">building out an API building out your</p>
<p begin="02:17:39.719" end="02:17:43.479" style="s2">crud functionality is fairly</p>
<p begin="02:17:40.880" end="02:17:45.120" style="s2">straightforward within fast API uh we&#39;ve</p>
<p begin="02:17:43.479" end="02:17:46.679" style="s2">got one more lesson where we&#39;re just</p>
<p begin="02:17:45.120" end="02:17:47.840" style="s2">going to restructure our code a little</p>
<p begin="02:17:46.679" end="02:17:49.519" style="s2">bit just to make things a little bit</p>
<p begin="02:17:47.840" end="02:17:51.080" style="s2">cleaner and then we&#39;re going to start</p>
<p begin="02:17:49.519" end="02:17:53.040" style="s2">getting to the fun stuff which is</p>
<p begin="02:17:51.080" end="02:17:55.000" style="s2">working with databases so I&#39;m going to</p>
<p begin="02:17:53.040" end="02:17:56.800" style="s2">show you guys how we can actually uh get</p>
<p begin="02:17:55.000" end="02:17:58.280" style="s2">a postgress database installed on our</p>
<p begin="02:17:56.800" end="02:18:00.080" style="s2">machines and running and then we&#39;ll</p>
<p begin="02:17:58.280" end="02:18:02.399" style="s2">actually start saving data into an</p>
<p begin="02:18:00.080" end="02:18:02.399" style="s2">actual</p>
<p begin="02:18:03.040" end="02:18:06.679" style="s2">database in this lesson we&#39;re going to</p>
<p begin="02:18:04.920" end="02:18:08.880" style="s2">talk about one of my favorite features</p>
<p begin="02:18:06.679" end="02:18:11.040" style="s2">of fast API and that is the built-in</p>
<p begin="02:18:08.880" end="02:18:12.479" style="s2">support for documentation so normally</p>
<p begin="02:18:11.040" end="02:18:13.920" style="s2">when you build an API you&#39;re going to</p>
<p begin="02:18:12.479" end="02:18:16.200" style="s2">want to create documentation so that</p>
<p begin="02:18:13.920" end="02:18:17.559" style="s2">users know how to use it and one of the</p>
<p begin="02:18:16.200" end="02:18:19.439" style="s2">challenges with that is that it&#39;s not</p>
<p begin="02:18:17.559" end="02:18:21.519" style="s2">exactly a simple process and anytime you</p>
<p begin="02:18:19.439" end="02:18:23.519" style="s2">make changes to your API you have to</p>
<p begin="02:18:21.519" end="02:18:25.000" style="s2">make sure that you update your</p>
<p begin="02:18:23.519" end="02:18:28.080" style="s2">documentation and it&#39;s very easy to</p>
<p begin="02:18:25.000" end="02:18:29.319" style="s2">forget to do that with fast API fast API</p>
<p begin="02:18:28.080" end="02:18:31.080" style="s2">automatically generates the</p>
<p begin="02:18:29.319" end="02:18:32.599" style="s2">documentation based off of the path</p>
<p begin="02:18:31.080" end="02:18:34.319" style="s2">operations that you&#39;ve defined so it</p>
<p begin="02:18:32.599" end="02:18:36.439" style="s2">does it all for you and you don&#39;t have</p>
<p begin="02:18:34.319" end="02:18:38.439" style="s2">to write a single piece of code to</p>
<p begin="02:18:36.439" end="02:18:40.080" style="s2">actually get the documentation in place</p>
<p begin="02:18:38.439" end="02:18:42.160" style="s2">and so to actually see the documentation</p>
<p begin="02:18:40.080" end="02:18:44.599" style="s2">you just go to the normal URL but you</p>
<p begin="02:18:42.160" end="02:18:46.120" style="s2">just do SL docs and so this is going to</p>
<p begin="02:18:44.599" end="02:18:48.519" style="s2">show you the built-in documentation</p>
<p begin="02:18:46.120" end="02:18:49.960" style="s2">powered by Swagger UI and so what&#39;s</p>
<p begin="02:18:48.519" end="02:18:51.920" style="s2">really nice is and if you&#39;ve ever looked</p>
<p begin="02:18:49.960" end="02:18:53.960" style="s2">at the documentation for um some other</p>
<p begin="02:18:51.920" end="02:18:55.679" style="s2">apis you may have noticed something that</p>
<p begin="02:18:53.960" end="02:18:58.040" style="s2">looks similar to this and that usually</p>
<p begin="02:18:55.679" end="02:19:00.280" style="s2">means that they used Swagger UI as well</p>
<p begin="02:18:58.040" end="02:19:02.000" style="s2">so fast API has built-in Swagger UI</p>
<p begin="02:19:00.280" end="02:19:04.080" style="s2">support and it automatically generates</p>
<p begin="02:19:02.000" end="02:19:06.000" style="s2">all of the routes and the documentation</p>
<p begin="02:19:04.080" end="02:19:07.760" style="s2">for all of your paths and so if you take</p>
<p begin="02:19:06.000" end="02:19:09.200" style="s2">a look at all of our operations our path</p>
<p begin="02:19:07.760" end="02:19:11.519" style="s2">operations we&#39;ve got the one for getting</p>
<p begin="02:19:09.200" end="02:19:13.359" style="s2">all posts we&#39;ve got the one for creating</p>
<p begin="02:19:11.519" end="02:19:15.359" style="s2">posts we&#39;ve got the one for getting an</p>
<p begin="02:19:13.359" end="02:19:17.240" style="s2">individual post we&#39;ve got the one for</p>
<p begin="02:19:15.359" end="02:19:19.240" style="s2">updating an individual post as well as</p>
<p begin="02:19:17.240" end="02:19:20.800" style="s2">deleting a post and what&#39;s really cool</p>
<p begin="02:19:19.240" end="02:19:24.359" style="s2">about this is if we do the hit the drop</p>
<p begin="02:19:20.800" end="02:19:27.120" style="s2">down right it&#39;s going to show you how to</p>
<p begin="02:19:24.359" end="02:19:29.399" style="s2">use this specific path uh or how to use</p>
<p begin="02:19:27.120" end="02:19:30.599" style="s2">this specific API endpoint so if you</p>
<p begin="02:19:29.399" end="02:19:32.319" style="s2">want to actually try it out you can do</p>
<p begin="02:19:30.599" end="02:19:33.719" style="s2">that so you could say try it out and</p>
<p begin="02:19:32.319" end="02:19:36.080" style="s2">then you can just hit</p>
<p begin="02:19:33.719" end="02:19:38.200" style="s2">execute right and so now it actually ran</p>
<p begin="02:19:36.080" end="02:19:39.960" style="s2">the query against our API server and it</p>
<p begin="02:19:38.200" end="02:19:42.240" style="s2">shows us what the output is so these are</p>
<p begin="02:19:39.960" end="02:19:44.679" style="s2">the two documents that we have uh or the</p>
<p begin="02:19:42.240" end="02:19:47.120" style="s2">two posts that we&#39;ve created and we can</p>
<p begin="02:19:44.679" end="02:19:48.800" style="s2">do this with all of the uh uh API</p>
<p begin="02:19:47.120" end="02:19:51.240" style="s2">endpoints so if we want to create a new</p>
<p begin="02:19:48.800" end="02:19:53.359" style="s2">post uh it&#39;s going to give you example</p>
<p begin="02:19:51.240" end="02:19:55.280" style="s2">of the data that we can pass in so we</p>
<p begin="02:19:53.359" end="02:19:57.040" style="s2">can try try it out and then it&#39;s going</p>
<p begin="02:19:55.280" end="02:19:58.080" style="s2">to give us all the fields that we have</p>
<p begin="02:19:57.040" end="02:19:59.960" style="s2">to pass in and then we can just</p>
<p begin="02:19:58.080" end="02:20:04.000" style="s2">customize this so if I want to say</p>
<p begin="02:19:59.960" end="02:20:06.080" style="s2">creating new post with</p>
<p begin="02:20:04.000" end="02:20:09.160" style="s2">documents and then I&#39;ll just for Content</p>
<p begin="02:20:06.080" end="02:20:12.000" style="s2">I&#39;ll say this is really</p>
<p begin="02:20:09.160" end="02:20:13.000" style="s2">cool we&#39;ll give it a random rating we</p>
<p begin="02:20:12.000" end="02:20:15.439" style="s2">hit</p>
<p begin="02:20:13.000" end="02:20:17.520" style="s2">execute right it actually runs that it&#39;s</p>
<p begin="02:20:15.439" end="02:20:20.240" style="s2">going to show you how to um perform the</p>
<p begin="02:20:17.520" end="02:20:21.880" style="s2">same actions using curl as well and then</p>
<p begin="02:20:20.240" end="02:20:23.439" style="s2">it&#39;s going to show you the data that we</p>
<p begin="02:20:21.880" end="02:20:26.840" style="s2">got back from our API server and we can</p>
<p begin="02:20:23.439" end="02:20:29.240" style="s2">see that we got a 2011 Response</p>
<p begin="02:20:26.840" end="02:20:31.960" style="s2">Code and so I want you guys to just kind</p>
<p begin="02:20:29.240" end="02:20:33.520" style="s2">of play around with this um get familiar</p>
<p begin="02:20:31.960" end="02:20:35.399" style="s2">with it so there&#39;s going to be times</p>
<p begin="02:20:33.520" end="02:20:37.479" style="s2">where you may not even have to use a</p>
<p begin="02:20:35.399" end="02:20:39.720" style="s2">tool like Postman you could just test</p>
<p begin="02:20:37.479" end="02:20:41.600" style="s2">things out uh using swagger UI in the</p>
<p begin="02:20:39.720" end="02:20:44.240" style="s2">built-in</p>
<p begin="02:20:41.600" end="02:20:46.760" style="s2">documentation and what&#39;s even nicer</p>
<p begin="02:20:44.240" end="02:20:48.200" style="s2">about this is that uh we have built-in</p>
<p begin="02:20:46.760" end="02:20:50.280" style="s2">support for two different types of</p>
<p begin="02:20:48.200" end="02:20:52.920" style="s2">documentation so this is using swagger</p>
<p begin="02:20:50.280" end="02:20:55.080" style="s2">UI but if you use</p>
<p begin="02:20:52.920" end="02:20:56.960" style="s2">redock sorry there shouldn&#39;t be an S at</p>
<p begin="02:20:55.080" end="02:20:58.280" style="s2">the end it&#39;s just redock right you could</p>
<p begin="02:20:56.960" end="02:21:01.040" style="s2">see a different format of the</p>
<p begin="02:20:58.280" end="02:21:02.560" style="s2">documentation using a tool called redock</p>
<p begin="02:21:01.040" end="02:21:03.800" style="s2">uh so it&#39;s going to fundamentally do the</p>
<p begin="02:21:02.560" end="02:21:05.120" style="s2">same thing it&#39;s just a different</p>
<p begin="02:21:03.800" end="02:21:07.040" style="s2">documentation tool so it&#39;s going to look</p>
<p begin="02:21:05.120" end="02:21:09.439" style="s2">a little different uh feel free to use</p>
<p begin="02:21:07.040" end="02:21:11.280" style="s2">whichever one you ultimately prefer but</p>
<p begin="02:21:09.439" end="02:21:13.000" style="s2">uh by having it automatically get</p>
<p begin="02:21:11.280" end="02:21:15.000" style="s2">generated by fast API you don&#39;t ever</p>
<p begin="02:21:13.000" end="02:21:17.040" style="s2">have to worry about updating anything so</p>
<p begin="02:21:15.000" end="02:21:19.720" style="s2">if you take a look at like create post</p>
<p begin="02:21:17.040" end="02:21:22.000" style="s2">right we&#39;ve defined the pieces of data</p>
<p begin="02:21:19.720" end="02:21:23.600" style="s2">that we need and in the future if we</p>
<p begin="02:21:22.000" end="02:21:25.800" style="s2">decide that the user needs to pass in</p>
<p begin="02:21:23.600" end="02:21:27.800" style="s2">another field maybe like the date that</p>
<p begin="02:21:25.800" end="02:21:29.680" style="s2">they wanted to get published it&#39;ll</p>
<p begin="02:21:27.800" end="02:21:31.720" style="s2">automatically update this you don&#39;t have</p>
<p begin="02:21:29.680" end="02:21:34.240" style="s2">to tell it you don&#39;t have to manually go</p>
<p begin="02:21:31.720" end="02:21:35.880" style="s2">in and update it</p>
<p begin="02:21:34.240" end="02:21:37.600" style="s2">yourself all right guys so we&#39;re going</p>
<p begin="02:21:35.880" end="02:21:39.760" style="s2">to make one slight change to how we</p>
<p begin="02:21:37.600" end="02:21:42.600" style="s2">structure a code and what I want to do</p>
<p begin="02:21:39.760" end="02:21:45.399" style="s2">is instead of just having my main file</p>
<p begin="02:21:42.600" end="02:21:46.600" style="s2">with uh within my base project directory</p>
<p begin="02:21:45.399" end="02:21:47.880" style="s2">I want to actually create a folder</p>
<p begin="02:21:46.600" end="02:21:49.760" style="s2">called app so that&#39;s going to store all</p>
<p begin="02:21:47.880" end="02:21:51.319" style="s2">of our application specific code and</p>
<p begin="02:21:49.760" end="02:21:53.319" style="s2">then put that Main in there so it&#39;s a</p>
<p begin="02:21:51.319" end="02:21:54.640" style="s2">very small change but we do have to</p>
<p begin="02:21:53.319" end="02:21:56.040" style="s2">change a couple of things to make sure</p>
<p begin="02:21:54.640" end="02:21:57.800" style="s2">that it doesn&#39;t actually break anything</p>
<p begin="02:21:56.040" end="02:22:01.680" style="s2">so I&#39;m going to create a new</p>
<p begin="02:21:57.800" end="02:22:01.680" style="s2">folder and I&#39;m going to call this</p>
<p begin="02:22:02.560" end="02:22:08.080" style="s2">app and so this in Python if you aren&#39;t</p>
<p begin="02:22:05.800" end="02:22:10.720" style="s2">too familiar with how python Works uh</p>
<p begin="02:22:08.080" end="02:22:12.920" style="s2">python has a concept of packages and a</p>
<p begin="02:22:10.720" end="02:22:15.200" style="s2">package is nothing more than a fancy</p>
<p begin="02:22:12.920" end="02:22:18.200" style="s2">name for a folder however for something</p>
<p begin="02:22:15.200" end="02:22:20.680" style="s2">to properly act as a package python</p>
<p begin="02:22:18.200" end="02:22:24.359" style="s2">requires you to create a dummy file and</p>
<p begin="02:22:20.680" end="02:22:26.960" style="s2">this file is called uncore uncore</p>
<p begin="02:22:24.359" end="02:22:29.240" style="s2">init.py</p>
<p begin="02:22:26.960" end="02:22:31.560" style="s2">all right and so that&#39;s going to turn</p>
<p begin="02:22:29.240" end="02:22:33.000" style="s2">this into a proper python package just</p>
<p begin="02:22:31.560" end="02:22:34.680" style="s2">know that you have to add this file you</p>
<p begin="02:22:33.000" end="02:22:36.520" style="s2">don&#39;t have to put anything in the file</p>
<p begin="02:22:34.680" end="02:22:38.040" style="s2">but anytime you create a new folder just</p>
<p begin="02:22:36.520" end="02:22:39.560" style="s2">make sure you create a file with this</p>
<p begin="02:22:38.040" end="02:22:42.840" style="s2">exact name and that&#39;s going to ensure</p>
<p begin="02:22:39.560" end="02:22:44.600" style="s2">that uh it is in fact a python package</p>
<p begin="02:22:42.840" end="02:22:47.120" style="s2">so now that this is an actual python</p>
<p begin="02:22:44.600" end="02:22:50.680" style="s2">package we can just drag this main file</p>
<p begin="02:22:47.120" end="02:22:50.680" style="s2">into our app folder</p>
<p begin="02:22:50.800" end="02:22:54.080" style="s2">right and then now we&#39;re going to get an</p>
<p begin="02:22:51.880" end="02:22:56.479" style="s2">error and that&#39;s perfectly okay so we&#39;re</p>
<p begin="02:22:54.080" end="02:22:59.840" style="s2">going to cancel out of</p>
<p begin="02:22:56.479" end="02:23:01.160" style="s2">this and I want you to take a look at</p>
<p begin="02:22:59.840" end="02:23:03.000" style="s2">the command that we run to start our</p>
<p begin="02:23:01.160" end="02:23:05.520" style="s2">application so the command to start our</p>
<p begin="02:23:03.000" end="02:23:09.160" style="s2">application was we do UV corn we do the</p>
<p begin="02:23:05.520" end="02:23:10.640" style="s2">name of the main file which is just Main</p>
<p begin="02:23:09.160" end="02:23:12.920" style="s2">and then in within main if you take a</p>
<p begin="02:23:10.640" end="02:23:15.760" style="s2">look at what&#39;s the name of our uh fast</p>
<p begin="02:23:12.920" end="02:23:17.479" style="s2">API instance it&#39;s called app however now</p>
<p begin="02:23:15.760" end="02:23:19.760" style="s2">when we run this command line uh this</p>
<p begin="02:23:17.479" end="02:23:21.760" style="s2">command it&#39;s going to look for a file</p>
<p begin="02:23:19.760" end="02:23:23.600" style="s2">named Main however there&#39;s no file named</p>
<p begin="02:23:21.760" end="02:23:25.880" style="s2">main within our base project directory</p>
<p begin="02:23:23.600" end="02:23:28.560" style="s2">cuz it&#39;s now been moved into app so to</p>
<p begin="02:23:25.880" end="02:23:30.760" style="s2">actually reference the main file that&#39;s</p>
<p begin="02:23:28.560" end="02:23:32.520" style="s2">inside of a python package it&#39;s pretty</p>
<p begin="02:23:30.760" end="02:23:35.479" style="s2">simple you just put the name of the</p>
<p begin="02:23:32.520" end="02:23:38.040" style="s2">package beforehand so you do app and</p>
<p begin="02:23:35.479" end="02:23:40.680" style="s2">then dot so it&#39;s going to tell UV Corin</p>
<p begin="02:23:38.040" end="02:23:42.680" style="s2">to look inside the app directory for a</p>
<p begin="02:23:40.680" end="02:23:44.479" style="s2">file named main so then we go in there</p>
<p begin="02:23:42.680" end="02:23:47.279" style="s2">we see the main file and then within our</p>
<p begin="02:23:44.479" end="02:23:49.120" style="s2">main file we look for the app instance</p>
<p begin="02:23:47.279" end="02:23:50.640" style="s2">which is our fast API instance right</p>
<p begin="02:23:49.120" end="02:23:52.720" style="s2">here so let&#39;s give this a shot let&#39;s see</p>
<p begin="02:23:50.640" end="02:23:53.880" style="s2">if we broke anything it looks like</p>
<p begin="02:23:52.720" end="02:23:55.920" style="s2">everything started up fine I&#39;m just</p>
<p begin="02:23:53.880" end="02:23:57.760" style="s2">going to do a couple of requests so this</p>
<p begin="02:23:55.920" end="02:23:59.840" style="s2">is going to be just get an individual</p>
<p begin="02:23:57.760" end="02:24:01.399" style="s2">post looks like everything&#39;s good I just</p>
<p begin="02:23:59.840" end="02:24:03.200" style="s2">want to make sure that there&#39;s no errors</p>
<p begin="02:24:01.399" end="02:24:04.760" style="s2">and yep everything looks good so I think</p>
<p begin="02:24:03.200" end="02:24:05.960" style="s2">this is just a little bit better of a</p>
<p begin="02:24:04.760" end="02:24:07.319" style="s2">way to structure our application we&#39;re</p>
<p begin="02:24:05.960" end="02:24:09.640" style="s2">going to put all of our app code moving</p>
<p begin="02:24:07.319" end="02:24:11.880" style="s2">forward inside of this app directory so</p>
<p begin="02:24:09.640" end="02:24:14.479" style="s2">that we can keep everything else</p>
<p begin="02:24:11.880" end="02:24:16.040" style="s2">separate I think at this point we have a</p>
<p begin="02:24:14.479" end="02:24:18.319" style="s2">basic understanding of how to work with</p>
<p begin="02:24:16.040" end="02:24:20.560" style="s2">fast API and how to set up basic routes</p>
<p begin="02:24:18.319" end="02:24:22.240" style="s2">and work with path operations and until</p>
<p begin="02:24:20.560" end="02:24:24.200" style="s2">now we&#39;ve been storing all of our posts</p>
<p begin="02:24:22.240" end="02:24:26.200" style="s2">in memory and I think we&#39;ve made it to a</p>
<p begin="02:24:24.200" end="02:24:28.240" style="s2">point where we are ready to now start</p>
<p begin="02:24:26.200" end="02:24:30.120" style="s2">working with databases and so if you</p>
<p begin="02:24:28.240" end="02:24:31.960" style="s2">don&#39;t know what a database is a database</p>
<p begin="02:24:30.120" end="02:24:34.040" style="s2">is a collection of organized data that</p>
<p begin="02:24:31.960" end="02:24:35.720" style="s2">can be easily accessed and managed uh</p>
<p begin="02:24:34.040" end="02:24:37.600" style="s2">and so when it comes to any kind of</p>
<p begin="02:24:35.720" end="02:24:39.359" style="s2">application related data so things like</p>
<p begin="02:24:37.600" end="02:24:41.840" style="s2">users that have registered posts that</p>
<p begin="02:24:39.359" end="02:24:43.319" style="s2">have been created all of these pieces of</p>
<p begin="02:24:41.840" end="02:24:44.720" style="s2">information are going to be stored</p>
<p begin="02:24:43.319" end="02:24:46.880" style="s2">within a database so it&#39;s going to be</p>
<p begin="02:24:44.720" end="02:24:48.600" style="s2">stored on disk so that we can retrieve</p>
<p begin="02:24:46.880" end="02:24:51.080" style="s2">this information at a later point in</p>
<p begin="02:24:48.600" end="02:24:52.840" style="s2">time now when it comes to databases we</p>
<p begin="02:24:51.080" end="02:24:55.600" style="s2">never actually interact with the</p>
<p begin="02:24:52.840" end="02:24:58.160" style="s2">databases directly instead what we have</p>
<p begin="02:24:55.600" end="02:25:00.600" style="s2">is a database management system that&#39;s</p>
<p begin="02:24:58.160" end="02:25:02.479" style="s2">going to sit in the middle so when we</p>
<p begin="02:25:00.600" end="02:25:03.760" style="s2">want to perform an operation on a</p>
<p begin="02:25:02.479" end="02:25:06.399" style="s2">database we&#39;re going to send that</p>
<p begin="02:25:03.760" end="02:25:07.920" style="s2">request to a database management system</p>
<p begin="02:25:06.399" end="02:25:09.640" style="s2">that management system is then going to</p>
<p begin="02:25:07.920" end="02:25:11.399" style="s2">actually perform that operation and then</p>
<p begin="02:25:09.640" end="02:25:12.840" style="s2">it&#39;s going to send the result back to us</p>
<p begin="02:25:11.399" end="02:25:14.479" style="s2">so we never talk to the databases</p>
<p begin="02:25:12.840" end="02:25:16.439" style="s2">directly instead we have a piece of</p>
<p begin="02:25:14.479" end="02:25:20.680" style="s2">software that sits in the middle and uh</p>
<p begin="02:25:16.439" end="02:25:23.600" style="s2">acts as the brains behind the database</p>
<p begin="02:25:20.680" end="02:25:25.840" style="s2">now there&#39;s two major branches of</p>
<p begin="02:25:23.600" end="02:25:28.359" style="s2">databases there&#39;s relational and nosql</p>
<p begin="02:25:25.840" end="02:25:30.040" style="s2">databases relational databases are</p>
<p begin="02:25:28.359" end="02:25:31.600" style="s2">usually sql-based databases and we&#39;re</p>
<p begin="02:25:30.040" end="02:25:33.520" style="s2">going to cover that in the next slide or</p>
<p begin="02:25:31.600" end="02:25:36.319" style="s2">so but these are just some of the more</p>
<p begin="02:25:33.520" end="02:25:37.960" style="s2">popular relational and nosql databases</p>
<p begin="02:25:36.319" end="02:25:39.800" style="s2">that you guys have probably heard of in</p>
<p begin="02:25:37.960" end="02:25:41.520" style="s2">this course we&#39;re going to uh work</p>
<p begin="02:25:39.800" end="02:25:43.040" style="s2">exclusively with relational databases</p>
<p begin="02:25:41.520" end="02:25:45.279" style="s2">and more specifically we&#39;re going to</p>
<p begin="02:25:43.040" end="02:25:46.640" style="s2">work with postgress now if you</p>
<p begin="02:25:45.279" end="02:25:48.720" style="s2">ultimately want to learn how to work</p>
<p begin="02:25:46.640" end="02:25:50.800" style="s2">with mySQL or Oracle or SQL server or</p>
<p begin="02:25:48.720" end="02:25:52.439" style="s2">any of the other databases keep in mind</p>
<p begin="02:25:50.800" end="02:25:53.560" style="s2">that at the core uh they are</p>
<p begin="02:25:52.439" end="02:25:56.399" style="s2">fundamentally no different than</p>
<p begin="02:25:53.560" end="02:25:57.439" style="s2">postgress you know 90 I would say 97% of</p>
<p begin="02:25:56.399" end="02:25:58.840" style="s2">the things that we cover when it comes</p>
<p begin="02:25:57.439" end="02:26:00.399" style="s2">to postgress is going to be almost</p>
<p begin="02:25:58.840" end="02:26:01.840" style="s2">identical in all of these other</p>
<p begin="02:26:00.399" end="02:26:05.080" style="s2">databases because they all at the end of</p>
<p begin="02:26:01.840" end="02:26:07.319" style="s2">the day use SQL however SQL there is a</p>
<p begin="02:26:05.080" end="02:26:09.080" style="s2">little bit of slight uh nuances when it</p>
<p begin="02:26:07.319" end="02:26:10.600" style="s2">comes to each database each of them will</p>
<p begin="02:26:09.080" end="02:26:13.200" style="s2">implement it in a slightly different way</p>
<p begin="02:26:10.600" end="02:26:14.720" style="s2">so you&#39;ll see that certain um SQL</p>
<p begin="02:26:13.200" end="02:26:16.680" style="s2">commands aren&#39;t available in others but</p>
<p begin="02:26:14.720" end="02:26:18.960" style="s2">for the most part all of the core things</p>
<p begin="02:26:16.680" end="02:26:20.720" style="s2">that we cover from a SQL perspective is</p>
<p begin="02:26:18.960" end="02:26:23.479" style="s2">going to be applicable to any the other</p>
<p begin="02:26:20.720" end="02:26:23.479" style="s2">relational based</p>
<p begin="02:26:24.319" end="02:26:29.240" style="s2">databases uh and so let&#39;s talk about SQL</p>
<p begin="02:26:26.560" end="02:26:30.880" style="s2">now so SQL or structured query language</p>
<p begin="02:26:29.240" end="02:26:33.240" style="s2">is a language that&#39;s used to communicate</p>
<p begin="02:26:30.880" end="02:26:34.600" style="s2">with the database management system uh</p>
<p begin="02:26:33.240" end="02:26:35.880" style="s2">and so you know when we want to perform</p>
<p begin="02:26:34.600" end="02:26:38.279" style="s2">an operation we&#39;re going to send a</p>
<p begin="02:26:35.880" end="02:26:40.080" style="s2">specific SQL statement to the database</p>
<p begin="02:26:38.279" end="02:26:41.640" style="s2">management system it&#39;s going to then</p>
<p begin="02:26:40.080" end="02:26:43.720" style="s2">take that statement and then perform the</p>
<p begin="02:26:41.640" end="02:26:45.800" style="s2">operation on the database and then it&#39;s</p>
<p begin="02:26:43.720" end="02:26:47.640" style="s2">going to send that result back to us so</p>
<p begin="02:26:45.800" end="02:26:49.319" style="s2">SQL is the language that we use to</p>
<p begin="02:26:47.640" end="02:26:51.319" style="s2">communicate with the database management</p>
<p begin="02:26:49.319" end="02:26:53.479" style="s2">system</p>
<p begin="02:26:51.319" end="02:26:55.200" style="s2">now in the next video what we&#39;re going</p>
<p begin="02:26:53.479" end="02:26:57.040" style="s2">to do is we&#39;re going to install</p>
<p begin="02:26:55.200" end="02:26:58.600" style="s2">postgress on both Windows and Mac</p>
<p begin="02:26:57.040" end="02:27:00.080" style="s2">depending on what you&#39;re using and</p>
<p begin="02:26:58.600" end="02:27:01.640" style="s2">there&#39;s an important thing to note when</p>
<p begin="02:27:00.080" end="02:27:03.800" style="s2">it comes to installing postgress or</p>
<p begin="02:27:01.640" end="02:27:06.080" style="s2">really any database when you install an</p>
<p begin="02:27:03.800" end="02:27:08.680" style="s2">instance of postgress uh what we can</p>
<p begin="02:27:06.080" end="02:27:11.200" style="s2">actually do is we can carve out multiple</p>
<p begin="02:27:08.680" end="02:27:12.359" style="s2">separate databases right and this is</p>
<p begin="02:27:11.200" end="02:27:13.200" style="s2">kind of confusing at first because</p>
<p begin="02:27:12.359" end="02:27:15.439" style="s2">you&#39;re thinking well we installed</p>
<p begin="02:27:13.200" end="02:27:17.760" style="s2">postris we have a database yes but what</p>
<p begin="02:27:15.439" end="02:27:19.279" style="s2">we can do is we can actually create two</p>
<p begin="02:27:17.760" end="02:27:21.640" style="s2">different databases that are completely</p>
<p begin="02:27:19.279" end="02:27:24.240" style="s2">isolate isolated and have nothing to do</p>
<p begin="02:27:21.640" end="02:27:26.439" style="s2">with one another and that way if I have</p>
<p begin="02:27:24.240" end="02:27:28.359" style="s2">application one we can create a database</p>
<p begin="02:27:26.439" end="02:27:30.160" style="s2">just for app one and then if I have a</p>
<p begin="02:27:28.359" end="02:27:32.000" style="s2">second application that I create this</p>
<p begin="02:27:30.160" end="02:27:33.840" style="s2">application can have a separate database</p>
<p begin="02:27:32.000" end="02:27:35.720" style="s2">as well and there these two databases</p>
<p begin="02:27:33.840" end="02:27:37.160" style="s2">are going to be completely separate and</p>
<p begin="02:27:35.720" end="02:27:38.880" style="s2">completely isolated so that they don&#39;t</p>
<p begin="02:27:37.160" end="02:27:40.399" style="s2">step on each other&#39;s toes so it&#39;s pretty</p>
<p begin="02:27:38.880" end="02:27:41.880" style="s2">cool and it&#39;s a pretty awesome feature</p>
<p begin="02:27:40.399" end="02:27:43.920" style="s2">to be able to kind of carve out your</p>
<p begin="02:27:41.880" end="02:27:45.880" style="s2">postp instance to multiple</p>
<p begin="02:27:43.920" end="02:27:48.560" style="s2">databases and keep in mind that you</p>
<p begin="02:27:45.880" end="02:27:51.279" style="s2">don&#39;t necessarily always create uh a</p>
<p begin="02:27:48.560" end="02:27:53.439" style="s2">separate database in database instance</p>
<p begin="02:27:51.279" end="02:27:54.800" style="s2">for each application right there are</p>
<p begin="02:27:53.439" end="02:27:56.200" style="s2">scenarios where you might actually</p>
<p begin="02:27:54.800" end="02:27:59.080" style="s2">create an app that&#39;s going to make use</p>
<p begin="02:27:56.200" end="02:28:00.200" style="s2">of more than uh one database instance</p>
<p begin="02:27:59.080" end="02:28:01.920" style="s2">within</p>
<p begin="02:28:00.200" end="02:28:03.319" style="s2">postgress however those are very</p>
<p begin="02:28:01.920" end="02:28:04.880" style="s2">specific situations maybe if you want</p>
<p begin="02:28:03.319" end="02:28:06.479" style="s2">some sort of multi- tendency or things</p>
<p begin="02:28:04.880" end="02:28:08.680" style="s2">like that however we&#39;re just going to</p>
<p begin="02:28:06.479" end="02:28:10.160" style="s2">create one individual database instance</p>
<p begin="02:28:08.680" end="02:28:12.319" style="s2">for our application that&#39;s going to</p>
<p begin="02:28:10.160" end="02:28:13.920" style="s2">handle everything that we need now when</p>
<p begin="02:28:12.319" end="02:28:16.120" style="s2">we install postrest what&#39;s going to</p>
<p begin="02:28:13.920" end="02:28:18.800" style="s2">happen is that uh the installation</p>
<p begin="02:28:16.120" end="02:28:20.800" style="s2">process is going to create a database uh</p>
<p begin="02:28:18.800" end="02:28:22.399" style="s2">within the postgress instance called</p>
<p begin="02:28:20.800" end="02:28:24.319" style="s2">postgress little confusing right it&#39;s</p>
<p begin="02:28:22.399" end="02:28:25.680" style="s2">postgress within postgress um but it&#39;s</p>
<p begin="02:28:24.319" end="02:28:27.680" style="s2">actually going to create this database</p>
<p begin="02:28:25.680" end="02:28:29.279" style="s2">named postgress and the reason we need</p>
<p begin="02:28:27.680" end="02:28:32.160" style="s2">to do this is that if you ever want to</p>
<p begin="02:28:29.279" end="02:28:33.520" style="s2">connect to a postgress instance uh what</p>
<p begin="02:28:32.160" end="02:28:35.040" style="s2">you have to do is you have to specify a</p>
<p begin="02:28:33.520" end="02:28:36.399" style="s2">database that you want to connect to so</p>
<p begin="02:28:35.040" end="02:28:37.840" style="s2">some kind of default database that you</p>
<p begin="02:28:36.399" end="02:28:39.560" style="s2">want to connect to you can&#39;t just</p>
<p begin="02:28:37.840" end="02:28:41.640" style="s2">connect to postris you have to specify a</p>
<p begin="02:28:39.560" end="02:28:43.439" style="s2">database and so that&#39;s why the</p>
<p begin="02:28:41.640" end="02:28:44.840" style="s2">installation process creates one</p>
<p begin="02:28:43.439" end="02:28:46.359" style="s2">database for you so that you can have</p>
<p begin="02:28:44.840" end="02:28:48.800" style="s2">something to connect</p>
<p begin="02:28:46.359" end="02:28:50.560" style="s2">to however we won&#39;t necessarily need</p>
<p begin="02:28:48.800" end="02:28:51.920" style="s2">that instance once we create our own</p>
<p begin="02:28:50.560" end="02:28:54.960" style="s2">however I usually just keep it in by</p>
<p begin="02:28:51.920" end="02:28:57.120" style="s2">default because it&#39;s not going to hurt</p>
<p begin="02:28:54.960" end="02:28:59.399" style="s2">anyone in this video we&#39;ll take a look</p>
<p begin="02:28:57.120" end="02:29:01.399" style="s2">at how we can install postgress on a</p>
<p begin="02:28:59.399" end="02:29:03.920" style="s2">Windows machine so let&#39;s go ahead and</p>
<p begin="02:29:01.399" end="02:29:03.920" style="s2">just search for</p>
<p begin="02:29:04.520" end="02:29:08.439" style="s2">postgress and it&#39;s almost always going</p>
<p begin="02:29:06.680" end="02:29:11.960" style="s2">to be the first instance so just go to</p>
<p begin="02:29:08.439" end="02:29:11.960" style="s2">postgress ql.com</p>
<p begin="02:29:20.160" end="02:29:24.479" style="s2">you&#39;ll see all of the downloads options</p>
<p begin="02:29:22.080" end="02:29:26.240" style="s2">so right now the latest version is 13.4</p>
<p begin="02:29:24.479" end="02:29:27.920" style="s2">so I&#39;m going to just download that one</p>
<p begin="02:29:26.240" end="02:29:29.520" style="s2">you may see a newer version feel free to</p>
<p begin="02:29:27.920" end="02:29:31.720" style="s2">download that nothing&#39;s going to really</p>
<p begin="02:29:29.520" end="02:29:35.240" style="s2">change between each</p>
<p begin="02:29:31.720" end="02:29:37.319" style="s2">version once that&#39;s downloaded start the</p>
<p begin="02:29:35.240" end="02:29:40.160" style="s2">installer if you see this pop up just</p>
<p begin="02:29:37.319" end="02:29:42.760" style="s2">select yes right with the installer open</p>
<p begin="02:29:40.160" end="02:29:44.319" style="s2">select next uh you can leave the default</p>
<p begin="02:29:42.760" end="02:29:46.319" style="s2">installation directory no one usually</p>
<p begin="02:29:44.319" end="02:29:47.520" style="s2">messes with that now here you can select</p>
<p begin="02:29:46.319" end="02:29:50.160" style="s2">the different components that you want</p>
<p begin="02:29:47.520" end="02:29:51.600" style="s2">to install with your postr instance so</p>
<p begin="02:29:50.160" end="02:29:53.359" style="s2">for the first thing that you have is the</p>
<p begin="02:29:51.600" end="02:29:55.319" style="s2">postgress SQL Server that&#39;s obviously</p>
<p begin="02:29:53.359" end="02:29:57.800" style="s2">what you want to download the next one</p>
<p begin="02:29:55.319" end="02:29:59.399" style="s2">is PG admin so this is a guey that can</p>
<p begin="02:29:57.800" end="02:30:01.279" style="s2">be used to manage your postgress</p>
<p begin="02:29:59.399" end="02:30:02.840" style="s2">instance we&#39;re going to be using that to</p>
<p begin="02:30:01.279" end="02:30:03.840" style="s2">actually manage postgress so you want to</p>
<p begin="02:30:02.840" end="02:30:07.399" style="s2">make sure that you&#39;ve got that</p>
<p begin="02:30:03.840" end="02:30:08.800" style="s2">downloaded stack Builder this is a um an</p>
<p begin="02:30:07.399" end="02:30:11.000" style="s2">extra feature that can be used to</p>
<p begin="02:30:08.800" end="02:30:13.120" style="s2">install extensions and extra features</p>
<p begin="02:30:11.000" end="02:30:14.479" style="s2">within postgress we&#39;re not going to be</p>
<p begin="02:30:13.120" end="02:30:16.240" style="s2">installing any of those extension so</p>
<p begin="02:30:14.479" end="02:30:17.359" style="s2">there&#39;s no need to have stack Builder</p>
<p begin="02:30:16.240" end="02:30:19.399" style="s2">however it&#39;s not going to break anything</p>
<p begin="02:30:17.359" end="02:30:21.000" style="s2">if you do leave it checked and then uh</p>
<p begin="02:30:19.399" end="02:30:23.080" style="s2">we&#39;ll we you won&#39;t be using any command</p>
<p begin="02:30:21.000" end="02:30:24.359" style="s2">line tools to manage postgress however</p>
<p begin="02:30:23.080" end="02:30:25.720" style="s2">go ahead and just leave that check just</p>
<p begin="02:30:24.359" end="02:30:27.120" style="s2">in case you know down the road you</p>
<p begin="02:30:25.720" end="02:30:29.160" style="s2">actually do want to use</p>
<p begin="02:30:27.120" end="02:30:31.560" style="s2">it all right and then once again leave</p>
<p begin="02:30:29.160" end="02:30:33.800" style="s2">the default data directory uh then you</p>
<p begin="02:30:31.560" end="02:30:36.160" style="s2">have to pass in the password for the</p>
<p begin="02:30:33.800" end="02:30:37.720" style="s2">super user so U make sure you remember</p>
<p begin="02:30:36.160" end="02:30:39.760" style="s2">this</p>
<p begin="02:30:37.720" end="02:30:41.720" style="s2">password then you got to specify the</p>
<p begin="02:30:39.760" end="02:30:43.800" style="s2">port that you want your database to be</p>
<p begin="02:30:41.720" end="02:30:46.160" style="s2">listening on uh the default postgress</p>
<p begin="02:30:43.800" end="02:30:47.960" style="s2">Port is going to be 5432 you can change</p>
<p begin="02:30:46.160" end="02:30:50.160" style="s2">it if you want but you have to make sure</p>
<p begin="02:30:47.960" end="02:30:51.960" style="s2">that you update uh everything else uh</p>
<p begin="02:30:50.160" end="02:30:53.479" style="s2">when it comes to creating our code uh to</p>
<p begin="02:30:51.960" end="02:30:56.080" style="s2">update that port number I&#39;m going to</p>
<p begin="02:30:53.479" end="02:30:57.760" style="s2">leave it as default as do most people</p>
<p begin="02:30:56.080" end="02:31:00.319" style="s2">and then just hit next on this window</p>
<p begin="02:30:57.760" end="02:31:02.920" style="s2">and then next here next and then it&#39;s</p>
<p begin="02:31:00.319" end="02:31:05.080" style="s2">going to start the installation</p>
<p begin="02:31:02.920" end="02:31:07.200" style="s2">process and once that&#39;s complete just</p>
<p begin="02:31:05.080" end="02:31:10.680" style="s2">hit finish and then like I said we&#39;re</p>
<p begin="02:31:07.200" end="02:31:12.200" style="s2">going to be using the PG admin guey</p>
<p begin="02:31:10.680" end="02:31:14.720" style="s2">software to manage our postgress</p>
<p begin="02:31:12.200" end="02:31:16.120" style="s2">instance so if you just search for PG</p>
<p begin="02:31:14.720" end="02:31:18.319" style="s2">admin you&#39;ll see that it&#39;s right there</p>
<p begin="02:31:16.120" end="02:31:19.920" style="s2">just select that and open it up and then</p>
<p begin="02:31:18.319" end="02:31:21.240" style="s2">at that point in the next video we&#39;ll</p>
<p begin="02:31:19.920" end="02:31:23.600" style="s2">we&#39;ll start taking a look at how we can</p>
<p begin="02:31:21.240" end="02:31:25.439" style="s2">use that to not only uh create</p>
<p begin="02:31:23.600" end="02:31:28.640" style="s2">individual database instances but also</p>
<p begin="02:31:25.439" end="02:31:28.640" style="s2">create tables and things like</p>
<p begin="02:31:28.920" end="02:31:33.479" style="s2">that in this video we&#39;ll take a look at</p>
<p begin="02:31:31.319" end="02:31:35.880" style="s2">how we can install postgress on a Mac</p>
<p begin="02:31:33.479" end="02:31:38.040" style="s2">machine so let&#39;s search for postgress in</p>
<p begin="02:31:35.880" end="02:31:39.880" style="s2">Google and the first result should be</p>
<p begin="02:31:38.040" end="02:31:41.720" style="s2">the one that we&#39;re looking for and</p>
<p begin="02:31:39.880" end="02:31:43.520" style="s2">within the postgress website just select</p>
<p begin="02:31:41.720" end="02:31:45.399" style="s2">the downloads button and this is going</p>
<p begin="02:31:43.520" end="02:31:46.640" style="s2">to show you the different platforms that</p>
<p begin="02:31:45.399" end="02:31:47.720" style="s2">support so we&#39;re going to install this</p>
<p begin="02:31:46.640" end="02:31:51.279" style="s2">for</p>
<p begin="02:31:47.720" end="02:31:53.279" style="s2">mac and then select download the</p>
<p begin="02:31:51.279" end="02:31:54.680" style="s2">dollar and then here we can see all of</p>
<p begin="02:31:53.279" end="02:31:55.920" style="s2">the versions that we can download we&#39;re</p>
<p begin="02:31:54.680" end="02:31:58.720" style="s2">going to download whatever the latest</p>
<p begin="02:31:55.920" end="02:32:00.080" style="s2">version is so in my case it&#39;s 13.4 if</p>
<p begin="02:31:58.720" end="02:32:01.160" style="s2">you&#39;re watching this video in the future</p>
<p begin="02:32:00.080" end="02:32:03.080" style="s2">it&#39;s probably going to be some other</p>
<p begin="02:32:01.160" end="02:32:06.760" style="s2">version but it should all be relatively</p>
<p begin="02:32:03.080" end="02:32:06.760" style="s2">the same so we&#39;ll just download under</p>
<p begin="02:32:13.319" end="02:32:16.760" style="s2">Mac all right and once it&#39;s finished</p>
<p begin="02:32:15.240" end="02:32:19.120" style="s2">downloading just go ahead and select the</p>
<p begin="02:32:16.760" end="02:32:20.960" style="s2">DMG file that you downloaded and then</p>
<p begin="02:32:19.120" end="02:32:23.040" style="s2">we&#39;ll set up the in installer and if you</p>
<p begin="02:32:20.960" end="02:32:26.960" style="s2">get this popup just select</p>
<p begin="02:32:23.040" end="02:32:29.240" style="s2">open and then specify your</p>
<p begin="02:32:26.960" end="02:32:31.560" style="s2">password with the installer window open</p>
<p begin="02:32:29.240" end="02:32:34.240" style="s2">select next uh leave the default</p>
<p begin="02:32:31.560" end="02:32:36.120" style="s2">installation directory uh now within</p>
<p begin="02:32:34.240" end="02:32:37.920" style="s2">here uh by default it&#39;s going to install</p>
<p begin="02:32:36.120" end="02:32:38.960" style="s2">four different components I&#39;m going to</p>
<p begin="02:32:37.920" end="02:32:41.240" style="s2">walk you through what each of these</p>
<p begin="02:32:38.960" end="02:32:43.640" style="s2">components does the first one is the</p>
<p begin="02:32:41.240" end="02:32:45.200" style="s2">postgress uh server so this is the</p>
<p begin="02:32:43.640" end="02:32:47.640" style="s2">actual postr database so we definitely</p>
<p begin="02:32:45.200" end="02:32:50.000" style="s2">want to install that below that is PG</p>
<p begin="02:32:47.640" end="02:32:52.160" style="s2">admin this is a goey that can be used to</p>
<p begin="02:32:50.000" end="02:32:53.560" style="s2">manage your post databases we&#39;re</p>
<p begin="02:32:52.160" end="02:32:54.600" style="s2">definitely going to install that because</p>
<p begin="02:32:53.560" end="02:32:56.359" style="s2">that&#39;s what we&#39;re going to use in this</p>
<p begin="02:32:54.600" end="02:32:59.880" style="s2">course to actually manage our</p>
<p begin="02:32:56.359" end="02:33:01.439" style="s2">database stack Builder is an extra um</p>
<p begin="02:32:59.880" end="02:33:04.160" style="s2">almost like an extra installer that&#39;s</p>
<p begin="02:33:01.439" end="02:33:06.120" style="s2">used to uh install extra extensions that</p>
<p begin="02:33:04.160" end="02:33:07.359" style="s2">give postris some extra functionality</p>
<p begin="02:33:06.120" end="02:33:09.319" style="s2">we&#39;re not going to use any of those</p>
<p begin="02:33:07.359" end="02:33:11.279" style="s2">extensions so go ahead and uncheck stack</p>
<p begin="02:33:09.319" end="02:33:13.240" style="s2">Builder and the last one is command line</p>
<p begin="02:33:11.279" end="02:33:15.840" style="s2">tools so we can manage postgress through</p>
<p begin="02:33:13.240" end="02:33:17.000" style="s2">the goey as well as the command line uh</p>
<p begin="02:33:15.840" end="02:33:18.640" style="s2">in this course we&#39;re going to stick</p>
<p begin="02:33:17.000" end="02:33:20.040" style="s2">exclusively to the guey however I would</p>
<p begin="02:33:18.640" end="02:33:21.800" style="s2">still recommend downloading the command</p>
<p begin="02:33:20.040" end="02:33:23.680" style="s2">line tools just in case you ever do want</p>
<p begin="02:33:21.800" end="02:33:26.399" style="s2">to use</p>
<p begin="02:33:23.680" end="02:33:28.279" style="s2">them and then specify the default data</p>
<p begin="02:33:26.399" end="02:33:30.080" style="s2">directory that&#39;s fine then you want to</p>
<p begin="02:33:28.279" end="02:33:31.279" style="s2">give uh the password to your postgress</p>
<p begin="02:33:30.080" end="02:33:33.319" style="s2">instance so this is kind of like the</p>
<p begin="02:33:31.279" end="02:33:35.560" style="s2">root user</p>
<p begin="02:33:33.319" end="02:33:37.240" style="s2">equivalent here we specify what port we</p>
<p begin="02:33:35.560" end="02:33:39.279" style="s2">want our postgress instance run this is</p>
<p begin="02:33:37.240" end="02:33:41.040" style="s2">the default postgress Port uh if you</p>
<p begin="02:33:39.279" end="02:33:42.439" style="s2">want to change it you can do it uh but</p>
<p begin="02:33:41.040" end="02:33:45.520" style="s2">just make sure that you know whenever we</p>
<p begin="02:33:42.439" end="02:33:47.760" style="s2">get to actually coding out our uh API</p>
<p begin="02:33:45.520" end="02:33:49.399" style="s2">and specifying what port we connect to</p>
<p begin="02:33:47.760" end="02:33:51.359" style="s2">the postgress database make sure you</p>
<p begin="02:33:49.399" end="02:33:54.000" style="s2">update those accordingly however I</p>
<p begin="02:33:51.359" end="02:33:55.319" style="s2">recommend just keeping it as the default</p>
<p begin="02:33:54.000" end="02:33:59.680" style="s2">and then everything else just keep</p>
<p begin="02:33:55.319" end="02:33:59.680" style="s2">hitting next and then it&#39;ll start the</p>
<p begin="02:34:01.160" end="02:34:04.920" style="s2">installation all right and once that&#39;s</p>
<p begin="02:34:03.200" end="02:34:06.920" style="s2">complete just like finish it&#39;s going to</p>
<p begin="02:34:04.920" end="02:34:08.520" style="s2">be uh at that point postest has been</p>
<p begin="02:34:06.920" end="02:34:10.359" style="s2">successfully installed then what you</p>
<p begin="02:34:08.520" end="02:34:14.960" style="s2">want to do is just hit the little search</p>
<p begin="02:34:10.359" end="02:34:17.120" style="s2">icon I want you to search for PG</p>
<p begin="02:34:14.960" end="02:34:19.120" style="s2">admin all right and so if you want to</p>
<p begin="02:34:17.120" end="02:34:20.399" style="s2">open up pgp admin which we&#39;ll cover in</p>
<p begin="02:34:19.120" end="02:34:22.120" style="s2">the either the next lecture or the</p>
<p begin="02:34:20.399" end="02:34:23.319" style="s2">lecture after that just search for it</p>
<p begin="02:34:22.120" end="02:34:26.560" style="s2">select it and that&#39;s going to open up</p>
<p begin="02:34:23.319" end="02:34:28.760" style="s2">the gooey tool used to manage your</p>
<p begin="02:34:26.560" end="02:34:30.359" style="s2">database before we get started with</p>
<p begin="02:34:28.760" end="02:34:32.359" style="s2">configuring our postgress database there</p>
<p begin="02:34:30.359" end="02:34:34.000" style="s2">are a few things that we need to cover</p>
<p begin="02:34:32.359" end="02:34:35.800" style="s2">and one of those things is the concept</p>
<p begin="02:34:34.000" end="02:34:37.439" style="s2">of tables and this is a very important</p>
<p begin="02:34:35.800" end="02:34:40.399" style="s2">concept when it comes to working with</p>
<p begin="02:34:37.439" end="02:34:42.680" style="s2">relational databases so a table</p>
<p begin="02:34:40.399" end="02:34:44.640" style="s2">represents a subject or event in an</p>
<p begin="02:34:42.680" end="02:34:46.560" style="s2">application uh and so what exactly does</p>
<p begin="02:34:44.640" end="02:34:48.920" style="s2">that mean let&#39;s use a example let&#39;s say</p>
<p begin="02:34:46.560" end="02:34:50.680" style="s2">we&#39;re building out a e-commerce</p>
<p begin="02:34:48.920" end="02:34:52.760" style="s2">application right you&#39;re going to have a</p>
<p begin="02:34:50.680" end="02:34:54.640" style="s2">table that represents each part of your</p>
<p begin="02:34:52.760" end="02:34:56.240" style="s2">application so you&#39;re going to have a</p>
<p begin="02:34:54.640" end="02:34:58.000" style="s2">table for all of the users that have</p>
<p begin="02:34:56.240" end="02:34:59.960" style="s2">registered you&#39;re going to have a table</p>
<p begin="02:34:58.000" end="02:35:01.680" style="s2">for all of the different products that</p>
<p begin="02:34:59.960" end="02:35:03.000" style="s2">you plan to sell on your website and</p>
<p begin="02:35:01.680" end="02:35:05.920" style="s2">then you can have a table for things</p>
<p begin="02:35:03.000" end="02:35:08.359" style="s2">like purchases and reviews so each table</p>
<p begin="02:35:05.920" end="02:35:10.560" style="s2">represents a different subject or event</p>
<p begin="02:35:08.359" end="02:35:12.240" style="s2">in an application and what&#39;s amazing</p>
<p begin="02:35:10.560" end="02:35:13.960" style="s2">about these tables is that all of these</p>
<p begin="02:35:12.240" end="02:35:15.720" style="s2">tables are going to form some sort of</p>
<p begin="02:35:13.960" end="02:35:18.520" style="s2">relationship that&#39;s why it&#39;s referred to</p>
<p begin="02:35:15.720" end="02:35:20.840" style="s2">as a relational database and if you</p>
<p begin="02:35:18.520" end="02:35:22.479" style="s2">think about it the tables that we have</p>
<p begin="02:35:20.840" end="02:35:24.680" style="s2">listed right here they&#39;re all going to</p>
<p begin="02:35:22.479" end="02:35:26.840" style="s2">have a very basic and obvious</p>
<p begin="02:35:24.680" end="02:35:28.160" style="s2">relationship right purchases right when</p>
<p begin="02:35:26.840" end="02:35:30.040" style="s2">a user purchases something that</p>
<p begin="02:35:28.160" end="02:35:31.960" style="s2">automatically implies a relationship</p>
<p begin="02:35:30.040" end="02:35:33.840" style="s2">because every purchase order has to be</p>
<p begin="02:35:31.960" end="02:35:35.840" style="s2">associated with the user account that</p>
<p begin="02:35:33.840" end="02:35:37.640" style="s2">actually filed that purchase order and a</p>
<p begin="02:35:35.840" end="02:35:39.960" style="s2">purchase order is going to have a list</p>
<p begin="02:35:37.640" end="02:35:42.279" style="s2">of products that the user wants to buy</p>
<p begin="02:35:39.960" end="02:35:44.040" style="s2">so we can see right there all of the</p>
<p begin="02:35:42.279" end="02:35:46.080" style="s2">tables that we have already form some</p>
<p begin="02:35:44.040" end="02:35:47.640" style="s2">sort of relationship and it&#39;s really</p>
<p begin="02:35:46.080" end="02:35:49.960" style="s2">important that when you design your</p>
<p begin="02:35:47.640" end="02:35:51.720" style="s2">database that you figure out what are</p>
<p begin="02:35:49.960" end="02:35:55.560" style="s2">these relationships beforehand so that</p>
<p begin="02:35:51.720" end="02:35:56.840" style="s2">you can design a very efficient database</p>
<p begin="02:35:55.560" end="02:35:59.200" style="s2">right just like if we&#39;re building a</p>
<p begin="02:35:56.840" end="02:36:00.640" style="s2">social media application right we are</p>
<p begin="02:35:59.200" end="02:36:02.479" style="s2">you we know we&#39;re going to have a table</p>
<p begin="02:36:00.640" end="02:36:05.200" style="s2">for users we&#39;re going to have a table</p>
<p begin="02:36:02.479" end="02:36:06.319" style="s2">for posts as well and we already know</p>
<p begin="02:36:05.200" end="02:36:07.800" style="s2">that there&#39;s going to be a relationship</p>
<p begin="02:36:06.319" end="02:36:09.840" style="s2">between the two because every post has</p>
<p begin="02:36:07.800" end="02:36:12.160" style="s2">to be associated with a user because</p>
<p begin="02:36:09.840" end="02:36:14.479" style="s2">users create posts so you can see that</p>
<p begin="02:36:12.160" end="02:36:17.040" style="s2">you know all data has some sort of</p>
<p begin="02:36:14.479" end="02:36:19.359" style="s2">relationship with one another now when</p>
<p begin="02:36:17.040" end="02:36:22.399" style="s2">it comes to tables we have columns and</p>
<p begin="02:36:19.359" end="02:36:24.800" style="s2">we have rows a column represents a</p>
<p begin="02:36:22.399" end="02:36:27.319" style="s2">different attribute uh and so if we&#39;re</p>
<p begin="02:36:24.800" end="02:36:29.760" style="s2">building out a table for users we would</p>
<p begin="02:36:27.319" end="02:36:31.800" style="s2">create a column for for the name so this</p>
<p begin="02:36:29.760" end="02:36:33.880" style="s2">column represents the name of the user</p>
<p begin="02:36:31.800" end="02:36:35.359" style="s2">we might create a column for their age</p>
<p begin="02:36:33.880" end="02:36:37.359" style="s2">their gender you might create another</p>
<p begin="02:36:35.359" end="02:36:39.640" style="s2">column for the email that they Ed to</p>
<p begin="02:36:37.359" end="02:36:41.960" style="s2">sign up you might have a column for uh</p>
<p begin="02:36:39.640" end="02:36:43.800" style="s2">their billing or shipping address right</p>
<p begin="02:36:41.960" end="02:36:45.840" style="s2">it&#39;s up to you to figure out what are</p>
<p begin="02:36:43.800" end="02:36:48.680" style="s2">the different attributes we need to</p>
<p begin="02:36:45.840" end="02:36:50.240" style="s2">model a specific user then we have rows</p>
<p begin="02:36:48.680" end="02:36:51.520" style="s2">rows are very simple right each row</p>
<p begin="02:36:50.240" end="02:36:53.840" style="s2">represents a different entry in the</p>
<p begin="02:36:51.520" end="02:36:57.319" style="s2">table so if we have a user&#39;s table then</p>
<p begin="02:36:53.840" end="02:37:00.680" style="s2">each row represents a unique user so Row</p>
<p begin="02:36:57.319" end="02:37:02.399" style="s2">one this is the user uh Vanessa row two</p>
<p begin="02:37:00.680" end="02:37:04.319" style="s2">is going to be the user Carl so each row</p>
<p begin="02:37:02.399" end="02:37:05.040" style="s2">just represents a different entry within</p>
<p begin="02:37:04.319" end="02:37:08.279" style="s2">the</p>
<p begin="02:37:05.040" end="02:37:10.520" style="s2">table now databases have data types just</p>
<p begin="02:37:08.279" end="02:37:11.680" style="s2">like any programming language and the</p>
<p begin="02:37:10.520" end="02:37:13.840" style="s2">reason why this is important is that</p>
<p begin="02:37:11.680" end="02:37:15.600" style="s2">when you create a column within a table</p>
<p begin="02:37:13.840" end="02:37:17.520" style="s2">you need to specify what kind of data</p>
<p begin="02:37:15.600" end="02:37:19.200" style="s2">type you want to use and that decision</p>
<p begin="02:37:17.520" end="02:37:22.439" style="s2">is going to be ultimately based off of</p>
<p begin="02:37:19.200" end="02:37:24.640" style="s2">what attribute this column represents uh</p>
<p begin="02:37:22.439" end="02:37:25.960" style="s2">and so we have data types uh just like</p>
<p begin="02:37:24.640" end="02:37:28.319" style="s2">any other programming language like</p>
<p begin="02:37:25.960" end="02:37:31.319" style="s2">Python and so if we were building out a</p>
<p begin="02:37:28.319" end="02:37:32.880" style="s2">table for you know social media posts</p>
<p begin="02:37:31.319" end="02:37:35.319" style="s2">one of the things that we might have is</p>
<p begin="02:37:32.880" end="02:37:38.000" style="s2">a column for what are the total number</p>
<p begin="02:37:35.319" end="02:37:39.520" style="s2">of likes or retweets and so for</p>
<p begin="02:37:38.000" end="02:37:41.760" style="s2">something like that you would want some</p>
<p begin="02:37:39.520" end="02:37:44.240" style="s2">sort of data type that&#39;s numeric you</p>
<p begin="02:37:41.760" end="02:37:46.040" style="s2">know a data type that models numbers and</p>
<p begin="02:37:44.240" end="02:37:47.479" style="s2">in Python you know we have two main data</p>
<p begin="02:37:46.040" end="02:37:49.600" style="s2">types we have integers and we have</p>
<p begin="02:37:47.479" end="02:37:51.520" style="s2">floats integers being whole numbers</p>
<p begin="02:37:49.600" end="02:37:53.120" style="s2">floats giving you decimals well</p>
<p begin="02:37:51.520" end="02:37:54.720" style="s2">postgress has the same thing right it&#39;s</p>
<p begin="02:37:53.120" end="02:37:56.479" style="s2">going to have integers it&#39;s going to</p>
<p begin="02:37:54.720" end="02:37:58.120" style="s2">have decimals and a few others keep in</p>
<p begin="02:37:56.479" end="02:37:59.319" style="s2">mind that uh you don&#39;t need to worry too</p>
<p begin="02:37:58.120" end="02:38:00.800" style="s2">much about that just understand that</p>
<p begin="02:37:59.319" end="02:38:02.960" style="s2">there are numeric data types within</p>
<p begin="02:38:00.800" end="02:38:04.560" style="s2">postgis that are just like python so</p>
<p begin="02:38:02.960" end="02:38:06.640" style="s2">when it comes to the number of likes of</p>
<p begin="02:38:04.560" end="02:38:07.800" style="s2">post gifts you know maybe we would use</p>
<p begin="02:38:06.640" end="02:38:09.040" style="s2">something like an integer because we&#39;re</p>
<p begin="02:38:07.800" end="02:38:11.439" style="s2">not going to have a half a likee or</p>
<p begin="02:38:09.040" end="02:38:14.960" style="s2">anything like that then if you&#39;re trying</p>
<p begin="02:38:11.439" end="02:38:18.080" style="s2">to model uh you know someone&#39;s name or</p>
<p begin="02:38:14.960" end="02:38:20.920" style="s2">email or address right we would use some</p>
<p begin="02:38:18.080" end="02:38:22.240" style="s2">form of text and within python or any</p>
<p begin="02:38:20.920" end="02:38:24.560" style="s2">programming language you have strings</p>
<p begin="02:38:22.240" end="02:38:26.000" style="s2">that allow you to represent text within</p>
<p begin="02:38:24.560" end="02:38:27.840" style="s2">postgress we have the same thing it&#39;s</p>
<p begin="02:38:26.000" end="02:38:29.880" style="s2">just called something different we have</p>
<p begin="02:38:27.840" end="02:38:31.279" style="s2">uh varar which is just short for varying</p>
<p begin="02:38:29.880" end="02:38:33.479" style="s2">character which is once again just a</p>
<p begin="02:38:31.279" end="02:38:34.760" style="s2">string fundamentally and then we have</p>
<p begin="02:38:33.479" end="02:38:36.000" style="s2">text right they&#39;re both going to do the</p>
<p begin="02:38:34.760" end="02:38:37.439" style="s2">same thing don&#39;t worry too much about</p>
<p begin="02:38:36.000" end="02:38:39.880" style="s2">the differences just understand that</p>
<p begin="02:38:37.439" end="02:38:41.680" style="s2">postest does allow you to work with text</p>
<p begin="02:38:39.880" end="02:38:43.399" style="s2">just like any other programming language</p>
<p begin="02:38:41.680" end="02:38:46.640" style="s2">it&#39;s just called something</p>
<p begin="02:38:43.399" end="02:38:48.319" style="s2">different uh and then uh for booleans</p>
<p begin="02:38:46.640" end="02:38:49.319" style="s2">postgress and python they both support</p>
<p begin="02:38:48.319" end="02:38:50.960" style="s2">booleans they&#39;re going to work the same</p>
<p begin="02:38:49.319" end="02:38:53.600" style="s2">way way it&#39;s either true or false very</p>
<p begin="02:38:50.960" end="02:38:56.000" style="s2">simple uh and then within python we have</p>
<p begin="02:38:53.600" end="02:38:58.080" style="s2">lists so anytime you want to model uh</p>
<p begin="02:38:56.000" end="02:38:59.880" style="s2">you know multiple instances so a list of</p>
<p begin="02:38:58.080" end="02:39:01.359" style="s2">something uh we have arrays within</p>
<p begin="02:38:59.880" end="02:39:02.760" style="s2">postgis and you&#39;ll see that when you</p>
<p begin="02:39:01.359" end="02:39:05.200" style="s2">work with relational databases you&#39;ll</p>
<p begin="02:39:02.760" end="02:39:06.720" style="s2">see that arrays aren&#39;t used very uh very</p>
<p begin="02:39:05.200" end="02:39:08.520" style="s2">much because a lot of times if you&#39;re</p>
<p begin="02:39:06.720" end="02:39:10.680" style="s2">using an array it may be better to take</p>
<p begin="02:39:08.520" end="02:39:13.160" style="s2">that column and just convert it into its</p>
<p begin="02:39:10.680" end="02:39:14.439" style="s2">own table um but like like I said you</p>
<p begin="02:39:13.160" end="02:39:16.800" style="s2">know don&#39;t worry too much about that</p>
<p begin="02:39:14.439" end="02:39:18.359" style="s2">we&#39;ll go over that in some upcoming uh</p>
<p begin="02:39:16.800" end="02:39:20.800" style="s2">upcoming</p>
<p begin="02:39:18.359" end="02:39:23.319" style="s2">lectures when we create a table we have</p>
<p begin="02:39:20.800" end="02:39:25.840" style="s2">to specify something called a primary</p>
<p begin="02:39:23.319" end="02:39:27.160" style="s2">key and a primary key is a column or a</p>
<p begin="02:39:25.840" end="02:39:30.000" style="s2">group of columns that uniquely</p>
<p begin="02:39:27.160" end="02:39:31.560" style="s2">identifies each row in a table so what</p>
<p begin="02:39:30.000" end="02:39:33.600" style="s2">exactly does that mean well we need to</p>
<p begin="02:39:31.560" end="02:39:35.880" style="s2">tell postgress essentially how can we</p>
<p begin="02:39:33.600" end="02:39:38.399" style="s2">uniquely identify each entry in our</p>
<p begin="02:39:35.880" end="02:39:40.680" style="s2">table each row uh and so we have to give</p>
<p begin="02:39:38.399" end="02:39:43.240" style="s2">it a special column that ensures that</p>
<p begin="02:39:40.680" end="02:39:45.240" style="s2">every entry uh for that specific column</p>
<p begin="02:39:43.240" end="02:39:47.640" style="s2">is unique and keep in mind that we can</p>
<p begin="02:39:45.240" end="02:39:49.760" style="s2">only have one primary key per table you</p>
<p begin="02:39:47.640" end="02:39:52.240" style="s2">can&#39;t have more than one however a</p>
<p begin="02:39:49.760" end="02:39:54.000" style="s2">primary key can span multiple columns</p>
<p begin="02:39:52.240" end="02:39:55.720" style="s2">however let&#39;s keep things simple for now</p>
<p begin="02:39:54.000" end="02:39:58.240" style="s2">and just assume that primary keys are</p>
<p begin="02:39:55.720" end="02:40:01.080" style="s2">really just one column and so a lot of</p>
<p begin="02:39:58.240" end="02:40:04.520" style="s2">times when you create a table what we</p>
<p begin="02:40:01.080" end="02:40:06.840" style="s2">have is a column for a unique identifier</p>
<p begin="02:40:04.520" end="02:40:08.160" style="s2">so anytime you create a new user usually</p>
<p begin="02:40:06.840" end="02:40:09.359" style="s2">you&#39;re going to have an ID associated</p>
<p begin="02:40:08.160" end="02:40:12.479" style="s2">with that account and that ID is going</p>
<p begin="02:40:09.359" end="02:40:14.840" style="s2">to be unique uh and so the ID associated</p>
<p begin="02:40:12.479" end="02:40:17.000" style="s2">with John is going to be</p>
<p begin="02:40:14.840" end="02:40:20.080" style="s2">77498 and that&#39;s how we uniquely</p>
<p begin="02:40:17.000" end="02:40:21.880" style="s2">identify each user based off of that ID</p>
<p begin="02:40:20.080" end="02:40:23.240" style="s2">and so it makes sense to select that as</p>
<p begin="02:40:21.880" end="02:40:25.960" style="s2">the primary key because we already know</p>
<p begin="02:40:23.240" end="02:40:27.520" style="s2">that each ID is going to be unique so it</p>
<p begin="02:40:25.960" end="02:40:30.600" style="s2">fits the perfect definition of what a</p>
<p begin="02:40:27.520" end="02:40:31.680" style="s2">primary key is right and so the only</p>
<p begin="02:40:30.600" end="02:40:33.479" style="s2">requirement for something to be a</p>
<p begin="02:40:31.680" end="02:40:35.920" style="s2">primary key is each entry must be unique</p>
<p begin="02:40:33.479" end="02:40:38.120" style="s2">no duplicates we can&#39;t have the same ID</p>
<p begin="02:40:35.920" end="02:40:39.560" style="s2">for another user and so you&#39;re probably</p>
<p begin="02:40:38.120" end="02:40:40.960" style="s2">thinking at this point that hey we&#39;re</p>
<p begin="02:40:39.560" end="02:40:42.880" style="s2">going to create an ID column for every</p>
<p begin="02:40:40.960" end="02:40:44.399" style="s2">table and then make that the primary key</p>
<p begin="02:40:42.880" end="02:40:45.479" style="s2">I&#39;m going to tell you that that&#39;s not</p>
<p begin="02:40:44.399" end="02:40:48.040" style="s2">quite</p>
<p begin="02:40:45.479" end="02:40:50.640" style="s2">correct the primary key doesn&#39;t have to</p>
<p begin="02:40:48.040" end="02:40:52.560" style="s2">be the ID column always in fact your</p>
<p begin="02:40:50.640" end="02:40:54.040" style="s2">table doesn&#39;t even have to have an ID</p>
<p begin="02:40:52.560" end="02:40:55.520" style="s2">column right it&#39;s up to you to decide if</p>
<p begin="02:40:54.040" end="02:40:57.000" style="s2">you actually want to have that there are</p>
<p begin="02:40:55.520" end="02:40:59.960" style="s2">certain instances where you may not want</p>
<p begin="02:40:57.000" end="02:41:01.279" style="s2">an ID column and so if you don&#39;t want to</p>
<p begin="02:40:59.960" end="02:41:03.399" style="s2">use the ID column or if you don&#39;t have</p>
<p begin="02:41:01.279" end="02:41:05.880" style="s2">an ID column you need to ensure that you</p>
<p begin="02:41:03.399" end="02:41:08.279" style="s2">have some column that&#39;s able to uniquely</p>
<p begin="02:41:05.880" end="02:41:09.760" style="s2">identify each and every entry and so one</p>
<p begin="02:41:08.279" end="02:41:12.000" style="s2">good example of that when sticking to</p>
<p begin="02:41:09.760" end="02:41:14.640" style="s2">the users table example is that</p>
<p begin="02:41:12.000" end="02:41:16.720" style="s2">generally in an application a user can</p>
<p begin="02:41:14.640" end="02:41:18.439" style="s2">only sign up with an email once so we</p>
<p begin="02:41:16.720" end="02:41:21.200" style="s2">know that an email is always going to be</p>
<p begin="02:41:18.439" end="02:41:22.840" style="s2">associated uniquely with one account</p>
<p begin="02:41:21.200" end="02:41:24.200" style="s2">right we can&#39;t have two users with the</p>
<p begin="02:41:22.840" end="02:41:25.920" style="s2">same exact email that&#39;s not going to</p>
<p begin="02:41:24.200" end="02:41:29.200" style="s2">work that&#39;s usually not allowed so we</p>
<p begin="02:41:25.920" end="02:41:30.319" style="s2">could definitely use our email column as</p>
<p begin="02:41:29.200" end="02:41:33.080" style="s2">a primary</p>
<p begin="02:41:30.319" end="02:41:34.920" style="s2">key but there&#39;s plenty of other examples</p>
<p begin="02:41:33.080" end="02:41:36.920" style="s2">right phone numbers right generally I</p>
<p begin="02:41:34.920" end="02:41:39.279" style="s2">can&#39;t sign up with the same phone number</p>
<p begin="02:41:36.920" end="02:41:41.319" style="s2">uh for two different accounts so we know</p>
<p begin="02:41:39.279" end="02:41:42.720" style="s2">phone numbers are going to be unique uh</p>
<p begin="02:41:41.319" end="02:41:44.200" style="s2">for the guys that are in the United</p>
<p begin="02:41:42.720" end="02:41:46.279" style="s2">States you know what a social security</p>
<p begin="02:41:44.200" end="02:41:48.720" style="s2">number is two people can&#39;t have the same</p>
<p begin="02:41:46.279" end="02:41:49.840" style="s2">exact social security number uh and so</p>
<p begin="02:41:48.720" end="02:41:51.720" style="s2">there&#39;s a lot of different things that</p>
<p begin="02:41:49.840" end="02:41:54.359" style="s2">you can use to choose for the primary</p>
<p begin="02:41:51.720" end="02:41:55.880" style="s2">key uh just keep in mind it&#39;s not always</p>
<p begin="02:41:54.359" end="02:41:58.640" style="s2">the ID so that&#39;s the main thing I wanted</p>
<p begin="02:41:55.880" end="02:42:01.160" style="s2">to focus on in this slide now as we go</p>
<p begin="02:41:58.640" end="02:42:02.960" style="s2">through creating our table uh and</p>
<p begin="02:42:01.160" end="02:42:05.479" style="s2">creating each of the individual columns</p>
<p begin="02:42:02.960" end="02:42:07.800" style="s2">that represent a certain attribute for</p>
<p begin="02:42:05.479" end="02:42:09.960" style="s2">that table uh we can add in extra</p>
<p begin="02:42:07.800" end="02:42:12.640" style="s2">constraints for each column so we can</p>
<p begin="02:42:09.960" end="02:42:14.560" style="s2">put in extra little conditions and and</p>
<p begin="02:42:12.640" end="02:42:16.200" style="s2">so we already talked about the column</p>
<p begin="02:42:14.560" end="02:42:17.960" style="s2">that&#39;s going to be the primary key and</p>
<p begin="02:42:16.200" end="02:42:19.920" style="s2">we know that the primary key has to be</p>
<p begin="02:42:17.960" end="02:42:22.600" style="s2">unique for each and every row but what</p>
<p begin="02:42:19.920" end="02:42:24.560" style="s2">happens if we have another column that</p>
<p begin="02:42:22.600" end="02:42:27.359" style="s2">isn&#39;t the primary key but we want to</p>
<p begin="02:42:24.560" end="02:42:30.439" style="s2">ensure that each and every entry has a</p>
<p begin="02:42:27.359" end="02:42:32.200" style="s2">unique value for that specific column</p>
<p begin="02:42:30.439" end="02:42:34.560" style="s2">right so take a look at the name column</p>
<p begin="02:42:32.200" end="02:42:36.720" style="s2">in this case let&#39;s say that we we won&#39;t</p>
<p begin="02:42:34.560" end="02:42:38.200" style="s2">allow two users to share the same exact</p>
<p begin="02:42:36.720" end="02:42:40.240" style="s2">name is there any way we can tell</p>
<p begin="02:42:38.200" end="02:42:41.840" style="s2">postgress to perform that check for us</p>
<p begin="02:42:40.240" end="02:42:43.920" style="s2">well we can add in what&#39;s called a</p>
<p begin="02:42:41.840" end="02:42:45.760" style="s2">unique constraint so we can when we</p>
<p begin="02:42:43.920" end="02:42:47.800" style="s2">create the table say that I want to make</p>
<p begin="02:42:45.760" end="02:42:49.760" style="s2">this column unique by adding the unique</p>
<p begin="02:42:47.800" end="02:42:51.479" style="s2">constraint and so that way anytime I add</p>
<p begin="02:42:49.760" end="02:42:52.640" style="s2">in a new user it&#39;s going to check the</p>
<p begin="02:42:51.479" end="02:42:54.560" style="s2">name and it&#39;s going to check to make</p>
<p begin="02:42:52.640" end="02:42:56.319" style="s2">sure that there&#39;s no other users with</p>
<p begin="02:42:54.560" end="02:42:58.080" style="s2">the same exact name and if there is it&#39;s</p>
<p begin="02:42:56.319" end="02:43:00.160" style="s2">going to throw an error and we can do</p>
<p begin="02:42:58.080" end="02:43:01.520" style="s2">this with any column uh you can do it</p>
<p begin="02:43:00.160" end="02:43:02.600" style="s2">with all your columns if you wanted to</p>
<p begin="02:43:01.520" end="02:43:03.920" style="s2">uh that&#39;s not necessarily something</p>
<p begin="02:43:02.600" end="02:43:05.319" style="s2">you&#39;re going to do but I just want to</p>
<p begin="02:43:03.920" end="02:43:07.600" style="s2">make sure you guys understand that you</p>
<p begin="02:43:05.319" end="02:43:10.080" style="s2">know we can perform extra checks for</p>
<p begin="02:43:07.600" end="02:43:11.600" style="s2">each entry um by adding in a constraint</p>
<p begin="02:43:10.080" end="02:43:13.000" style="s2">the first constraint that we covered is</p>
<p begin="02:43:11.600" end="02:43:15.800" style="s2">the unique constraint but there are</p>
<p begin="02:43:13.000" end="02:43:18.160" style="s2">plenty more now the next constraint is</p>
<p begin="02:43:15.800" end="02:43:21.200" style="s2">called the null constraint and when it</p>
<p begin="02:43:18.160" end="02:43:23.240" style="s2">comes to creating columns uh by default</p>
<p begin="02:43:21.200" end="02:43:26.479" style="s2">postris allows you to leave a column</p>
<p begin="02:43:23.240" end="02:43:29.680" style="s2">blank essentially so I can add in a new</p>
<p begin="02:43:26.479" end="02:43:31.319" style="s2">user and I can say that um I can leave</p>
<p begin="02:43:29.680" end="02:43:32.800" style="s2">the name column blank so instead of</p>
<p begin="02:43:31.319" end="02:43:34.840" style="s2">having Vanessa for the first one I could</p>
<p begin="02:43:32.800" end="02:43:36.479" style="s2">just leave it blank and not put any data</p>
<p begin="02:43:34.840" end="02:43:37.960" style="s2">in and so what postgress will do is</p>
<p begin="02:43:36.479" end="02:43:39.399" style="s2">it&#39;ll put in a value of null because we</p>
<p begin="02:43:37.960" end="02:43:40.680" style="s2">didn&#39;t provide it and I could do the</p>
<p begin="02:43:39.399" end="02:43:42.640" style="s2">same thing for age I don&#39;t have to pass</p>
<p begin="02:43:40.680" end="02:43:44.240" style="s2">in an age by default and I don&#39;t have to</p>
<p begin="02:43:42.640" end="02:43:45.960" style="s2">pass in a gender by default as well and</p>
<p begin="02:43:44.240" end="02:43:48.600" style="s2">it will put in a null value for each and</p>
<p begin="02:43:45.960" end="02:43:50.640" style="s2">every one of those but let&#39;s say we want</p>
<p begin="02:43:48.600" end="02:43:52.560" style="s2">to tell post to perform a check and say</p>
<p begin="02:43:50.640" end="02:43:55.720" style="s2">hey I don&#39;t want you to be able to</p>
<p begin="02:43:52.560" end="02:43:57.160" style="s2">create a user that doesn&#39;t have an age</p>
<p begin="02:43:55.720" end="02:43:58.720" style="s2">so what we can do is we can put in a</p>
<p begin="02:43:57.160" end="02:44:01.160" style="s2">constraint and this constraint is called</p>
<p begin="02:43:58.720" end="02:44:04.120" style="s2">a not null that means we are not going</p>
<p begin="02:44:01.160" end="02:44:06.200" style="s2">to allow it to be null right we are not</p>
<p begin="02:44:04.120" end="02:44:08.520" style="s2">going to allow postris to use a null</p>
<p begin="02:44:06.200" end="02:44:10.920" style="s2">value so if we try to add in a new user</p>
<p begin="02:44:08.520" end="02:44:13.200" style="s2">called Carl and we don&#39;t give it an age</p>
<p begin="02:44:10.920" end="02:44:14.920" style="s2">well postris sees that this column is</p>
<p begin="02:44:13.200" end="02:44:17.840" style="s2">not allowed to be null and it&#39;s going to</p>
<p begin="02:44:14.920" end="02:44:19.319" style="s2">throw an error because it&#39;s not null so</p>
<p begin="02:44:17.840" end="02:44:20.439" style="s2">that&#39;s the second constraint and I think</p>
<p begin="02:44:19.319" end="02:44:22.319" style="s2">these are the two main things that I</p>
<p begin="02:44:20.439" end="02:44:24.120" style="s2">want to focus on and I think at this</p>
<p begin="02:44:22.319" end="02:44:25.200" style="s2">point we have a good enough</p>
<p begin="02:44:24.120" end="02:44:26.800" style="s2">understanding of the different things</p>
<p begin="02:44:25.200" end="02:44:28.520" style="s2">that we can do with tables columns and</p>
<p begin="02:44:26.800" end="02:44:30.560" style="s2">rows that we can go ahead and start</p>
<p begin="02:44:28.520" end="02:44:32.840" style="s2">playing around with postgress and really</p>
<p begin="02:44:30.560" end="02:44:35.359" style="s2">digging deep into how tables are created</p>
<p begin="02:44:32.840" end="02:44:35.359" style="s2">and how they</p>
<p begin="02:44:35.399" end="02:44:39.720" style="s2">work in this video we&#39;ll start taking a</p>
<p begin="02:44:37.800" end="02:44:42.040" style="s2">look at PG admin which is the guey that</p>
<p begin="02:44:39.720" end="02:44:43.840" style="s2">we use to manage our postgress instance</p>
<p begin="02:44:42.040" end="02:44:45.920" style="s2">we&#39;ll take a look at how we can Define</p>
<p begin="02:44:43.840" end="02:44:47.640" style="s2">our tables for postgress we&#39;ll take a</p>
<p begin="02:44:45.920" end="02:44:50.120" style="s2">look at how we can create entries in our</p>
<p begin="02:44:47.640" end="02:44:52.160" style="s2">database as well as how to modify and</p>
<p begin="02:44:50.120" end="02:44:53.720" style="s2">delete them as well so go ahead and</p>
<p begin="02:44:52.160" end="02:44:56.279" style="s2">search in your under your applications</p>
<p begin="02:44:53.720" end="02:44:56.279" style="s2">for PG</p>
<p begin="02:44:56.439" end="02:45:00.359" style="s2">admin and you&#39;ll see that once it pops</p>
<p begin="02:44:58.640" end="02:45:02.479" style="s2">up for the first time it&#39;s going to ask</p>
<p begin="02:45:00.359" end="02:45:04.479" style="s2">you to set the master password for PG</p>
<p begin="02:45:02.479" end="02:45:06.960" style="s2">admin and it&#39;s important to understand</p>
<p begin="02:45:04.479" end="02:45:08.720" style="s2">that this password is for the PG admin</p>
<p begin="02:45:06.960" end="02:45:10.240" style="s2">GUI it has nothing to do with the</p>
<p begin="02:45:08.720" end="02:45:12.560" style="s2">password that you created during the</p>
<p begin="02:45:10.240" end="02:45:14.960" style="s2">postgress installation this is strictly</p>
<p begin="02:45:12.560" end="02:45:17.319" style="s2">for PG admin itself and the reason it</p>
<p begin="02:45:14.960" end="02:45:20.160" style="s2">ask for a password is that ultimately we</p>
<p begin="02:45:17.319" end="02:45:22.120" style="s2">can store our passwords for connecting</p>
<p begin="02:45:20.160" end="02:45:23.960" style="s2">to our different postgress instances</p>
<p begin="02:45:22.120" end="02:45:25.279" style="s2">within Peg admin so that we don&#39;t have</p>
<p begin="02:45:23.960" end="02:45:27.080" style="s2">to enter it every time we want to</p>
<p begin="02:45:25.279" end="02:45:28.720" style="s2">connect to our database and so that&#39;s</p>
<p begin="02:45:27.080" end="02:45:29.920" style="s2">why we have to create a master password</p>
<p begin="02:45:28.720" end="02:45:31.680" style="s2">so that we could store all of the</p>
<p begin="02:45:29.920" end="02:45:34.319" style="s2">individual passwords for all of our</p>
<p begin="02:45:31.680" end="02:45:36.760" style="s2">postgress instances so I&#39;m just going to</p>
<p begin="02:45:34.319" end="02:45:38.439" style="s2">create a random password in this case</p>
<p begin="02:45:36.760" end="02:45:40.479" style="s2">and keep in mind it does not have to</p>
<p begin="02:45:38.439" end="02:45:42.040" style="s2">match the password that was created for</p>
<p begin="02:45:40.479" end="02:45:43.600" style="s2">your postgress instance these two have</p>
<p begin="02:45:42.040" end="02:45:45.520" style="s2">nothing to do with one</p>
<p begin="02:45:43.600" end="02:45:47.720" style="s2">another now the first thing that we want</p>
<p begin="02:45:45.520" end="02:45:50.200" style="s2">to do is specify the connection details</p>
<p begin="02:45:47.720" end="02:45:51.760" style="s2">for connecting to our post instance and</p>
<p begin="02:45:50.200" end="02:45:53.520" style="s2">what&#39;s nice about PG admin is that we</p>
<p begin="02:45:51.760" end="02:45:55.200" style="s2">can it&#39;ll remember all of the servers</p>
<p begin="02:45:53.520" end="02:45:56.560" style="s2">that we&#39;ve ever connected to so that we</p>
<p begin="02:45:55.200" end="02:46:00.000" style="s2">don&#39;t have to manually input this</p>
<p begin="02:45:56.560" end="02:46:01.359" style="s2">information every time we log in now PG</p>
<p begin="02:46:00.000" end="02:46:03.399" style="s2">admin has done a little bit of the work</p>
<p begin="02:46:01.359" end="02:46:04.760" style="s2">for us automatically so if you see under</p>
<p begin="02:46:03.399" end="02:46:06.439" style="s2">the server section this is where we</p>
<p begin="02:46:04.760" end="02:46:08.640" style="s2">Define our individual postgress</p>
<p begin="02:46:06.439" end="02:46:10.720" style="s2">instances just hit the little uh drop-</p>
<p begin="02:46:08.640" end="02:46:13.760" style="s2">down arrow and you&#39;ll see that there was</p>
<p begin="02:46:10.720" end="02:46:16.200" style="s2">a server called postgress ql 13 already</p>
<p begin="02:46:13.760" end="02:46:18.000" style="s2">created for us so by default when you</p>
<p begin="02:46:16.200" end="02:46:19.319" style="s2">install postgress we know that we&#39;re</p>
<p begin="02:46:18.000" end="02:46:21.399" style="s2">going to have a local Post postgress</p>
<p begin="02:46:19.319" end="02:46:22.960" style="s2">instance running on our local machine so</p>
<p begin="02:46:21.399" end="02:46:25.040" style="s2">it&#39;s going to automatically set up the</p>
<p begin="02:46:22.960" end="02:46:26.479" style="s2">connection details for that instance the</p>
<p begin="02:46:25.040" end="02:46:28.560" style="s2">only thing you have to provide is the</p>
<p begin="02:46:26.479" end="02:46:29.960" style="s2">password for connecting to that instance</p>
<p begin="02:46:28.560" end="02:46:32.040" style="s2">and so now we want to pass in the</p>
<p begin="02:46:29.960" end="02:46:34.520" style="s2">password for the postgress user for the</p>
<p begin="02:46:32.040" end="02:46:36.040" style="s2">postgress instance and this password</p>
<p begin="02:46:34.520" end="02:46:37.800" style="s2">isn&#39;t the password that we just created</p>
<p begin="02:46:36.040" end="02:46:40.640" style="s2">a few seconds ago this password is the</p>
<p begin="02:46:37.800" end="02:46:41.680" style="s2">password for postest itself so this is</p>
<p begin="02:46:40.640" end="02:46:44.040" style="s2">the one we created during the</p>
<p begin="02:46:41.680" end="02:46:45.120" style="s2">installation process so go ahead and put</p>
<p begin="02:46:44.040" end="02:46:47.160" style="s2">that in</p>
<p begin="02:46:45.120" end="02:46:48.279" style="s2">there and then you can choose to save</p>
<p begin="02:46:47.160" end="02:46:49.720" style="s2">this password so that you don&#39;t have to</p>
<p begin="02:46:48.279" end="02:46:51.120" style="s2">reenter it I&#39;m just going to skip that</p>
<p begin="02:46:49.720" end="02:46:53.800" style="s2">for</p>
<p begin="02:46:51.120" end="02:46:55.600" style="s2">now and so now it&#39;s taken that password</p>
<p begin="02:46:53.800" end="02:46:57.600" style="s2">and it&#39;s now connected to our local</p>
<p begin="02:46:55.600" end="02:47:00.319" style="s2">postgress instance and so you&#39;ll see a</p>
<p begin="02:46:57.600" end="02:47:02.359" style="s2">little bit of information uh</p>
<p begin="02:47:00.319" end="02:47:03.840" style="s2">about uh things like you know what&#39;s the</p>
<p begin="02:47:02.359" end="02:47:05.479" style="s2">sessions what are the transactions per</p>
<p begin="02:47:03.840" end="02:47:07.880" style="s2">second so you&#39;ll see not a lot of nice</p>
<p begin="02:47:05.479" end="02:47:09.120" style="s2">little pretty charts however I want to</p>
<p begin="02:47:07.880" end="02:47:11.000" style="s2">make sure that you guys actually</p>
<p begin="02:47:09.120" end="02:47:12.040" style="s2">understand how to define a new server</p>
<p begin="02:47:11.000" end="02:47:13.080" style="s2">instance so what we&#39;re going to do is</p>
<p begin="02:47:12.040" end="02:47:14.880" style="s2">we&#39;re actually going to create this from</p>
<p begin="02:47:13.080" end="02:47:16.600" style="s2">scratch so I&#39;m just going to select this</p>
<p begin="02:47:14.880" end="02:47:18.319" style="s2">we&#39;re going to select remove</p>
<p begin="02:47:16.600" end="02:47:19.960" style="s2">server and we&#39;re going to do this</p>
<p begin="02:47:18.319" end="02:47:20.800" style="s2">straight from SC scratch so I&#39;ll do</p>
<p begin="02:47:19.960" end="02:47:22.720" style="s2">create</p>
<p begin="02:47:20.800" end="02:47:25.200" style="s2">server let&#39;s give this a name I&#39;m going</p>
<p begin="02:47:22.720" end="02:47:26.680" style="s2">to call this um my local postest</p>
<p begin="02:47:25.200" end="02:47:28.640" style="s2">instance because that&#39;s what it is local</p>
<p begin="02:47:26.680" end="02:47:30.600" style="s2">postgress then we have to specify the</p>
<p begin="02:47:28.640" end="02:47:32.880" style="s2">connection details so here we give the</p>
<p begin="02:47:30.600" end="02:47:35.399" style="s2">IP address uh that the postgress</p>
<p begin="02:47:32.880" end="02:47:36.640" style="s2">instance uh runs on um because this is</p>
<p begin="02:47:35.399" end="02:47:38.760" style="s2">running on our local machine we can just</p>
<p begin="02:47:36.640" end="02:47:41.200" style="s2">say Local Host however if this was</p>
<p begin="02:47:38.760" end="02:47:43.200" style="s2">running uh within AWS or some cloud</p>
<p begin="02:47:41.200" end="02:47:44.840" style="s2">provider uh that cloud provider would</p>
<p begin="02:47:43.200" end="02:47:47.160" style="s2">have would provide you a password sorry</p>
<p begin="02:47:44.840" end="02:47:48.240" style="s2">an IP address or even a domain name to</p>
<p begin="02:47:47.160" end="02:47:49.680" style="s2">connect to and that&#39;s what you would</p>
<p begin="02:47:48.240" end="02:47:50.920" style="s2">specify here in this case but since</p>
<p begin="02:47:49.680" end="02:47:53.080" style="s2">we&#39;re connecting to our local machine we</p>
<p begin="02:47:50.920" end="02:47:54.359" style="s2">just say Local Host then here we give</p>
<p begin="02:47:53.080" end="02:47:56.520" style="s2">the postrest</p>
<p begin="02:47:54.359" end="02:47:58.040" style="s2">password uh right when we did the</p>
<p begin="02:47:56.520" end="02:47:59.359" style="s2">installation for postgress we use the</p>
<p begin="02:47:58.040" end="02:48:00.479" style="s2">default Port so that&#39;s why we could just</p>
<p begin="02:47:59.359" end="02:48:02.760" style="s2">leave this as</p>
<p begin="02:48:00.479" end="02:48:04.399" style="s2">5432 uh and then as I mentioned when we</p>
<p begin="02:48:02.760" end="02:48:07.080" style="s2">connect to postest we always have to</p>
<p begin="02:48:04.399" end="02:48:08.399" style="s2">give it a the name of a database to</p>
<p begin="02:48:07.080" end="02:48:10.200" style="s2">connect to we always have to provide the</p>
<p begin="02:48:08.399" end="02:48:11.840" style="s2">name of a database to connect to since</p>
<p begin="02:48:10.200" end="02:48:13.399" style="s2">this is a fresh installation the only</p>
<p begin="02:48:11.840" end="02:48:15.439" style="s2">database that&#39;s going to be there is</p>
<p begin="02:48:13.399" end="02:48:17.200" style="s2">going to be uh database named postgress</p>
<p begin="02:48:15.439" end="02:48:19.000" style="s2">so it&#39;s going to connect to that by</p>
<p begin="02:48:17.200" end="02:48:21.279" style="s2">default uh then we have to give the</p>
<p begin="02:48:19.000" end="02:48:24.600" style="s2">username and password uh and we haven&#39;t</p>
<p begin="02:48:21.279" end="02:48:26.960" style="s2">created a user yet so there&#39;s always one</p>
<p begin="02:48:24.600" end="02:48:28.520" style="s2">default user this is a super user and</p>
<p begin="02:48:26.960" end="02:48:30.279" style="s2">the username for that user is always</p>
<p begin="02:48:28.520" end="02:48:32.160" style="s2">postgress little confusing because the</p>
<p begin="02:48:30.279" end="02:48:34.319" style="s2">database name is postgress the name of</p>
<p begin="02:48:32.160" end="02:48:36.120" style="s2">the actual dbms is postgress and then</p>
<p begin="02:48:34.319" end="02:48:38.120" style="s2">our username is also post so try not to</p>
<p begin="02:48:36.120" end="02:48:40.200" style="s2">get all three of those things um uh</p>
<p begin="02:48:38.120" end="02:48:42.200" style="s2">confused uh then we here we could save</p>
<p begin="02:48:40.200" end="02:48:43.760" style="s2">in our password so this is where we put</p>
<p begin="02:48:42.200" end="02:48:45.640" style="s2">in our post</p>
<p begin="02:48:43.760" end="02:48:46.760" style="s2">password and then if you want to save</p>
<p begin="02:48:45.640" end="02:48:48.160" style="s2">this for a future so that you don&#39;t have</p>
<p begin="02:48:46.760" end="02:48:51.319" style="s2">to enter in every time you can go ahead</p>
<p begin="02:48:48.160" end="02:48:52.560" style="s2">and do that at that point hit save and</p>
<p begin="02:48:51.319" end="02:48:55.560" style="s2">then you can see that once again we</p>
<p begin="02:48:52.560" end="02:48:57.279" style="s2">created this from scratch now within PG</p>
<p begin="02:48:55.560" end="02:48:59.200" style="s2">admin there&#39;s going to be a lot of menus</p>
<p begin="02:48:57.279" end="02:49:01.000" style="s2">a lot of things that you see and you may</p>
<p begin="02:48:59.200" end="02:49:02.600" style="s2">be a little overwhelmed but I want you</p>
<p begin="02:49:01.000" end="02:49:04.880" style="s2">to keep in mind that a majority of the</p>
<p begin="02:49:02.600" end="02:49:06.439" style="s2">stuff we won&#39;t really even care about</p>
<p begin="02:49:04.880" end="02:49:07.720" style="s2">right so when you focus on just the</p>
<p begin="02:49:06.439" end="02:49:09.720" style="s2">things that we care about you&#39;ll see</p>
<p begin="02:49:07.720" end="02:49:12.240" style="s2">that there aren&#39;t many things involved</p>
<p begin="02:49:09.720" end="02:49:14.720" style="s2">when it comes to PG admin and so like I</p>
<p begin="02:49:12.240" end="02:49:16.479" style="s2">said within a postest installation right</p>
<p begin="02:49:14.720" end="02:49:17.880" style="s2">we&#39;re going to have uh individual</p>
<p begin="02:49:16.479" end="02:49:19.279" style="s2">databases right so we can create a</p>
<p begin="02:49:17.880" end="02:49:22.000" style="s2">separate database for for each of our</p>
<p begin="02:49:19.279" end="02:49:23.680" style="s2">applications so under our server right</p>
<p begin="02:49:22.000" end="02:49:24.880" style="s2">you&#39;ll see a section called databases so</p>
<p begin="02:49:23.680" end="02:49:27.439" style="s2">this looks a little interesting let&#39;s</p>
<p begin="02:49:24.880" end="02:49:29.960" style="s2">click this right and then if we drop</p>
<p begin="02:49:27.439" end="02:49:31.960" style="s2">this down or expand this you&#39;ll see that</p>
<p begin="02:49:29.960" end="02:49:33.920" style="s2">we have our one default postgress</p>
<p begin="02:49:31.960" end="02:49:36.479" style="s2">instance that was created for us during</p>
<p begin="02:49:33.920" end="02:49:37.520" style="s2">the installation process uh now we&#39;re</p>
<p begin="02:49:36.479" end="02:49:39.279" style="s2">not going to touch this we&#39;re just going</p>
<p begin="02:49:37.520" end="02:49:41.359" style="s2">to leave this there but let&#39;s create our</p>
<p begin="02:49:39.279" end="02:49:44.760" style="s2">own postgress instance so right click on</p>
<p begin="02:49:41.359" end="02:49:45.920" style="s2">databases it create and then database</p>
<p begin="02:49:44.760" end="02:49:47.479" style="s2">and then here we just want to give the</p>
<p begin="02:49:45.920" end="02:49:49.000" style="s2">database a name I&#39;m going to call this</p>
<p begin="02:49:47.479" end="02:49:50.880" style="s2">uh I usually just name it after my</p>
<p begin="02:49:49.000" end="02:49:52.200" style="s2">application name so since this project</p>
<p begin="02:49:50.880" end="02:49:54.200" style="s2">is called Fast API I&#39;m just going to</p>
<p begin="02:49:52.200" end="02:49:55.920" style="s2">call this my fast API</p>
<p begin="02:49:54.200" end="02:49:57.680" style="s2">database and you&#39;ll see that there&#39;s a</p>
<p begin="02:49:55.920" end="02:50:00.319" style="s2">couple of other windows uh we won&#39;t</p>
<p begin="02:49:57.680" end="02:50:01.640" style="s2">touch any of these however go to the</p>
<p begin="02:50:00.319" end="02:50:04.239" style="s2">last section right here where it says</p>
<p begin="02:50:01.640" end="02:50:06.040" style="s2">SQL right and as I mentioned before SQL</p>
<p begin="02:50:04.239" end="02:50:07.640" style="s2">is the language that we use to actually</p>
<p begin="02:50:06.040" end="02:50:10.520" style="s2">talk to</p>
<p begin="02:50:07.640" end="02:50:11.880" style="s2">postgress and you know since this guey</p>
<p begin="02:50:10.520" end="02:50:13.760" style="s2">is here to manage postgress it&#39;s going</p>
<p begin="02:50:11.880" end="02:50:15.880" style="s2">to make our life a little bit easier but</p>
<p begin="02:50:13.760" end="02:50:18.880" style="s2">at the end of the day uh it&#39;s just</p>
<p begin="02:50:15.880" end="02:50:21.279" style="s2">passing in SQL statements and so because</p>
<p begin="02:50:18.880" end="02:50:22.680" style="s2">we created a database through the GUI um</p>
<p begin="02:50:21.279" end="02:50:24.840" style="s2">it&#39;s kind of abstracting a lot of the</p>
<p begin="02:50:22.680" end="02:50:26.560" style="s2">SQL away from us however what&#39;s nice</p>
<p begin="02:50:24.840" end="02:50:29.120" style="s2">about PG admin is it&#39;s going to give you</p>
<p begin="02:50:26.560" end="02:50:30.920" style="s2">the underlying SQL uh that&#39;s used to</p>
<p begin="02:50:29.120" end="02:50:32.279" style="s2">actually create this database so we can</p>
<p begin="02:50:30.920" end="02:50:34.399" style="s2">see that it&#39;s just a command that says</p>
<p begin="02:50:32.279" end="02:50:36.279" style="s2">create database and then the name of the</p>
<p begin="02:50:34.399" end="02:50:38.359" style="s2">database we gave it uh here it&#39;s just</p>
<p begin="02:50:36.279" end="02:50:40.279" style="s2">specifying the owner the encoding and</p>
<p begin="02:50:38.359" end="02:50:42.359" style="s2">the connection limit uh technically we</p>
<p begin="02:50:40.279" end="02:50:44.640" style="s2">could remove all of these lines and just</p>
<p begin="02:50:42.359" end="02:50:46.920" style="s2">take the the semicolon and just put it</p>
<p begin="02:50:44.640" end="02:50:48.399" style="s2">right here uh and then we can just do</p>
<p begin="02:50:46.920" end="02:50:50.200" style="s2">create database fast API and that&#39;s how</p>
<p begin="02:50:48.399" end="02:50:51.920" style="s2">you do it through the command line um I</p>
<p begin="02:50:50.200" end="02:50:53.399" style="s2">think it&#39;s just nice and helpful uh that</p>
<p begin="02:50:51.920" end="02:50:54.840" style="s2">it provides this for us however</p>
<p begin="02:50:53.399" end="02:50:56.880" style="s2">ultimately we won&#39;t need to do that</p>
<p begin="02:50:54.840" end="02:50:58.880" style="s2">because we do have PG admin so we can do</p>
<p begin="02:50:56.880" end="02:51:00.040" style="s2">it all through the goey and uh you know</p>
<p begin="02:50:58.880" end="02:51:01.800" style="s2">if you guys are worried that we&#39;re not</p>
<p begin="02:51:00.040" end="02:51:02.920" style="s2">going to cover SQL believe me we will</p>
<p begin="02:51:01.800" end="02:51:05.359" style="s2">but I just want to make sure we start</p>
<p begin="02:51:02.920" end="02:51:06.960" style="s2">off um by you know taking a look at the</p>
<p begin="02:51:05.359" end="02:51:09.399" style="s2">guey learning it the easy way then we&#39;ll</p>
<p begin="02:51:06.960" end="02:51:11.760" style="s2">learn how to do it the harder and proper</p>
<p begin="02:51:09.399" end="02:51:12.800" style="s2">way um but once we got this set up go</p>
<p begin="02:51:11.760" end="02:51:16.040" style="s2">ahead and hit</p>
<p begin="02:51:12.800" end="02:51:17.960" style="s2">save and you&#39;ll see that we have our new</p>
<p begin="02:51:16.040" end="02:51:19.640" style="s2">database right now there&#39;s an X but if</p>
<p begin="02:51:17.960" end="02:51:21.600" style="s2">as soon as you click on it it&#39;s going to</p>
<p begin="02:51:19.640" end="02:51:24.279" style="s2">turn yellow which means that we have now</p>
<p begin="02:51:21.600" end="02:51:26.319" style="s2">successfully connected to this</p>
<p begin="02:51:24.279" end="02:51:27.840" style="s2">database and then under this database</p>
<p begin="02:51:26.319" end="02:51:29.760" style="s2">you&#39;re going to see a lot of different</p>
<p begin="02:51:27.840" end="02:51:32.120" style="s2">options and like I said we&#39;re not going</p>
<p begin="02:51:29.760" end="02:51:34.040" style="s2">to touch most of these instead the only</p>
<p begin="02:51:32.120" end="02:51:36.800" style="s2">thing that we want to focus on is under</p>
<p begin="02:51:34.040" end="02:51:38.520" style="s2">schemas so under schemas and then under</p>
<p begin="02:51:36.800" end="02:51:40.800" style="s2">public and I&#39;m going to move this over</p>
<p begin="02:51:38.520" end="02:51:42.880" style="s2">for you guys uh you&#39;ll see that there&#39;s</p>
<p begin="02:51:40.800" end="02:51:44.640" style="s2">one important section called tables so</p>
<p begin="02:51:42.880" end="02:51:47.920" style="s2">this is where we actually create and</p>
<p begin="02:51:44.640" end="02:51:49.279" style="s2">Define our tables so right click this</p>
<p begin="02:51:47.920" end="02:51:50.560" style="s2">and actually if we do it if we hit the</p>
<p begin="02:51:49.279" end="02:51:51.680" style="s2">drop down you can see there&#39;s no tables</p>
<p begin="02:51:50.560" end="02:51:52.800" style="s2">but that&#39;s to be expected because this</p>
<p begin="02:51:51.680" end="02:51:54.600" style="s2">is a brand new</p>
<p begin="02:51:52.800" end="02:51:56.239" style="s2">database and let&#39;s go ahead and create</p>
<p begin="02:51:54.600" end="02:51:58.520" style="s2">our first table so we&#39;ll do right click</p>
<p begin="02:51:56.239" end="02:52:00.520" style="s2">create and then</p>
<p begin="02:51:58.520" end="02:52:02.560" style="s2">table and then let&#39;s give this our table</p>
<p begin="02:52:00.520" end="02:52:04.560" style="s2">a name so let&#39;s say we&#39;re sticking with</p>
<p begin="02:52:02.560" end="02:52:06.960" style="s2">the whole e-commerce example so we&#39;re</p>
<p begin="02:52:04.560" end="02:52:08.520" style="s2">going to create a table called products</p>
<p begin="02:52:06.960" end="02:52:09.920" style="s2">so this table represents the different</p>
<p begin="02:52:08.520" end="02:52:11.960" style="s2">products that we&#39;re going to</p>
<p begin="02:52:09.920" end="02:52:13.840" style="s2">sell don&#39;t worry about any of these</p>
<p begin="02:52:11.960" end="02:52:15.120" style="s2">other fields uh it says the owner&#39;s</p>
<p begin="02:52:13.840" end="02:52:17.479" style="s2">postris because we&#39;re logged in as the</p>
<p begin="02:52:15.120" end="02:52:19.080" style="s2">postrest user however uh you know if we</p>
<p begin="02:52:17.479" end="02:52:22.439" style="s2">log in as a separate user that then</p>
<p begin="02:52:19.080" end="02:52:24.359" style="s2">you&#39;d see the owner get updated</p>
<p begin="02:52:22.439" end="02:52:25.920" style="s2">accordingly if we go into the column</p>
<p begin="02:52:24.359" end="02:52:27.760" style="s2">section this is where we Define our</p>
<p begin="02:52:25.920" end="02:52:30.640" style="s2">column so this is where we&#39;re defining</p>
<p begin="02:52:27.760" end="02:52:33.880" style="s2">what is referred to as the schema of the</p>
<p begin="02:52:30.640" end="02:52:34.760" style="s2">database so to add a new column just hit</p>
<p begin="02:52:33.880" end="02:52:37.720" style="s2">the plus</p>
<p begin="02:52:34.760" end="02:52:39.479" style="s2">icon uh and so now the first thing that</p>
<p begin="02:52:37.720" end="02:52:42.800" style="s2">we need to do is let&#39;s figure out what</p>
<p begin="02:52:39.479" end="02:52:44.359" style="s2">attributes does a product need and uh</p>
<p begin="02:52:42.800" end="02:52:46.720" style="s2">you know a product is going to need a</p>
<p begin="02:52:44.359" end="02:52:49.080" style="s2">name so let&#39;s give it a</p>
<p begin="02:52:46.720" end="02:52:52.640" style="s2">name uh and so we&#39;ll call this column</p>
<p begin="02:52:49.080" end="02:52:52.640" style="s2">name because it represents the name of a</p>
<p begin="02:52:53.520" end="02:52:56.920" style="s2">product all right then we have to give</p>
<p begin="02:52:55.319" end="02:52:58.920" style="s2">it the data type as I mentioned there&#39;s</p>
<p begin="02:52:56.920" end="02:53:01.680" style="s2">going to be different data types that</p>
<p begin="02:52:58.920" end="02:53:03.399" style="s2">closely resemble or match the data types</p>
<p begin="02:53:01.680" end="02:53:05.200" style="s2">of a programming language so a name is</p>
<p begin="02:53:03.399" end="02:53:06.960" style="s2">going to be you know a certain amount of</p>
<p begin="02:53:05.200" end="02:53:08.880" style="s2">text right so we need whatever data tape</p>
<p begin="02:53:06.960" end="02:53:11.520" style="s2">represents text and so we&#39;ve got a</p>
<p begin="02:53:08.880" end="02:53:13.640" style="s2">couple right we do have text uh and then</p>
<p begin="02:53:11.520" end="02:53:15.080" style="s2">we also have varing character or</p>
<p begin="02:53:13.640" end="02:53:16.920" style="s2">character varying this is the one I&#39;m</p>
<p begin="02:53:15.080" end="02:53:19.000" style="s2">going to ultimately use so we&#39;re going</p>
<p begin="02:53:16.920" end="02:53:20.160" style="s2">to select character varying and if you</p>
<p begin="02:53:19.000" end="02:53:22.520" style="s2">actually want to see the difference</p>
<p begin="02:53:20.160" end="02:53:24.640" style="s2">between these I recommend you go uh</p>
<p begin="02:53:22.520" end="02:53:27.640" style="s2">online search search for</p>
<p begin="02:53:24.640" end="02:53:29.720" style="s2">postgress data</p>
<p begin="02:53:27.640" end="02:53:31.479" style="s2">types right and then just it&#39;s usually</p>
<p begin="02:53:29.720" end="02:53:32.600" style="s2">chapter eight of the documentation you</p>
<p begin="02:53:31.479" end="02:53:34.120" style="s2">can select this and then this is going</p>
<p begin="02:53:32.600" end="02:53:35.760" style="s2">to give you a breakdown of the different</p>
<p begin="02:53:34.120" end="02:53:38.040" style="s2">data types and it&#39;s going to break it</p>
<p begin="02:53:35.760" end="02:53:40.560" style="s2">down based off of you know numeric types</p>
<p begin="02:53:38.040" end="02:53:43.520" style="s2">we&#39;ve got a date time booleans</p>
<p begin="02:53:40.560" end="02:53:44.680" style="s2">enumeration enumerated we&#39;ve got uh you</p>
<p begin="02:53:43.520" end="02:53:46.319" style="s2">know if you want to represent IP</p>
<p begin="02:53:44.680" end="02:53:48.479" style="s2">addresses we&#39;ve got a data type for that</p>
<p begin="02:53:46.319" end="02:53:50.279" style="s2">so there&#39;s a ton of different data types</p>
<p begin="02:53:48.479" end="02:53:52.399" style="s2">I definitely take a quick read over all</p>
<p begin="02:53:50.279" end="02:53:54.760" style="s2">of these however we&#39;re just going to</p>
<p begin="02:53:52.399" end="02:53:56.200" style="s2">stick to the basics so uh if you don&#39;t</p>
<p begin="02:53:54.760" end="02:53:57.439" style="s2">want to go through all of that then</p>
<p begin="02:53:56.200" end="02:53:59.520" style="s2">we&#39;ll we&#39;ll stick to just the core</p>
<p begin="02:53:57.439" end="02:54:00.600" style="s2">fundamentals for now anytime we&#39;re</p>
<p begin="02:53:59.520" end="02:54:01.800" style="s2">working with text we&#39;re going to use</p>
<p begin="02:54:00.600" end="02:54:04.000" style="s2">character</p>
<p begin="02:54:01.800" end="02:54:06.960" style="s2">varying and then as I mentioned we&#39;ve</p>
<p begin="02:54:04.000" end="02:54:09.760" style="s2">got a couple of uh options so uh we&#39;ve</p>
<p begin="02:54:06.960" end="02:54:11.600" style="s2">got the not null uh and so right now</p>
<p begin="02:54:09.760" end="02:54:14.720" style="s2">it&#39;s set to no which means that</p>
<p begin="02:54:11.600" end="02:54:16.479" style="s2">technically we can uh leave this entry</p>
<p begin="02:54:14.720" end="02:54:18.880" style="s2">blank so we can create a brand new</p>
<p begin="02:54:16.479" end="02:54:21.000" style="s2">product with no name at all and postest</p>
<p begin="02:54:18.880" end="02:54:22.600" style="s2">is going to put in a value of null if we</p>
<p begin="02:54:21.000" end="02:54:25.520" style="s2">do that but if we think about our</p>
<p begin="02:54:22.600" end="02:54:27.040" style="s2">application right would we really want</p>
<p begin="02:54:25.520" end="02:54:28.800" style="s2">uh to be able to create a product</p>
<p begin="02:54:27.040" end="02:54:30.960" style="s2">without a name doesn&#39;t really make sense</p>
<p begin="02:54:28.800" end="02:54:32.239" style="s2">so I think we should set this to be yes</p>
<p begin="02:54:30.960" end="02:54:34.800" style="s2">so that it actually throws an error if</p>
<p begin="02:54:32.239" end="02:54:36.520" style="s2">we try to do that and you&#39;ll see a flag</p>
<p begin="02:54:34.800" end="02:54:38.680" style="s2">for a primary key so we get to specify</p>
<p begin="02:54:36.520" end="02:54:40.560" style="s2">which column is ultimately our primary</p>
<p begin="02:54:38.680" end="02:54:42.560" style="s2">key I don&#39;t think the name of a product</p>
<p begin="02:54:40.560" end="02:54:44.960" style="s2">should be a good primary key we need the</p>
<p begin="02:54:42.560" end="02:54:47.040" style="s2">primary key to be a column that really</p>
<p begin="02:54:44.960" end="02:54:48.520" style="s2">emphasizes what makes each entry unique</p>
<p begin="02:54:47.040" end="02:54:50.040" style="s2">and I don&#39;t think the name actually does</p>
<p begin="02:54:48.520" end="02:54:52.760" style="s2">that so we&#39;re going to leave that set to</p>
<p begin="02:54:50.040" end="02:54:55.840" style="s2">no for now and we&#39;re going to add in a</p>
<p begin="02:54:52.760" end="02:54:59.359" style="s2">new column all right and this time we&#39;ll</p>
<p begin="02:54:55.840" end="02:55:01.800" style="s2">add in uh let&#39;s say the</p>
<p begin="02:54:59.359" end="02:55:04.800" style="s2">price and so now we have to specify a</p>
<p begin="02:55:01.800" end="02:55:06.120" style="s2">data type so for numeric data types we</p>
<p begin="02:55:04.800" end="02:55:07.880" style="s2">have an integer which is going to be</p>
<p begin="02:55:06.120" end="02:55:09.439" style="s2">whole numbers which probably isn&#39;t a</p>
<p begin="02:55:07.880" end="02:55:12.880" style="s2">good data type for prices because we</p>
<p begin="02:55:09.439" end="02:55:16.080" style="s2">need decimals um we do have</p>
<p begin="02:55:12.880" end="02:55:17.680" style="s2">uh numeric uh and there&#39;s a couple of</p>
<p begin="02:55:16.080" end="02:55:21.319" style="s2">other ones so if we go back to our</p>
<p begin="02:55:17.680" end="02:55:23.399" style="s2">documentation hit um numeric types right</p>
<p begin="02:55:21.319" end="02:55:25.800" style="s2">we&#39;ve got numeric so this allows us to</p>
<p begin="02:55:23.399" end="02:55:27.920" style="s2">specify also decimals as well versus</p>
<p begin="02:55:25.800" end="02:55:30.279" style="s2">integers and then we also have floating</p>
<p begin="02:55:27.920" end="02:55:32.000" style="s2">Point types as well either one of these</p>
<p begin="02:55:30.279" end="02:55:33.960" style="s2">can be used they operate a little bit</p>
<p begin="02:55:32.000" end="02:55:35.640" style="s2">differently but both of them will work</p>
<p begin="02:55:33.960" end="02:55:37.359" style="s2">but since we since I want to keep things</p>
<p begin="02:55:35.640" end="02:55:39.160" style="s2">simple and I don&#39;t want to confuse you</p>
<p begin="02:55:37.359" end="02:55:41.279" style="s2">guys too much I&#39;m just going to use an</p>
<p begin="02:55:39.160" end="02:55:42.439" style="s2">integer to define a price and I know</p>
<p begin="02:55:41.279" end="02:55:44.439" style="s2">technically there&#39;s no application they</p>
<p begin="02:55:42.439" end="02:55:46.200" style="s2">would ever use an integer to represent</p>
<p begin="02:55:44.439" end="02:55:48.399" style="s2">price but you know I want to keep this</p>
<p begin="02:55:46.200" end="02:55:50.960" style="s2">simple and I actually want to show you</p>
<p begin="02:55:48.399" end="02:55:52.399" style="s2">guys something unique uh so you see that</p>
<p begin="02:55:50.960" end="02:55:54.680" style="s2">there&#39;s a couple of different types of</p>
<p begin="02:55:52.399" end="02:55:58.680" style="s2">integers we have first of all a plain</p>
<p begin="02:55:54.680" end="02:56:00.560" style="s2">old integer we&#39;ve got a small in and</p>
<p begin="02:55:58.680" end="02:56:02.080" style="s2">then we&#39;ve got a big endt so what is the</p>
<p begin="02:56:00.560" end="02:56:04.319" style="s2">difference between all of those well</p>
<p begin="02:56:02.080" end="02:56:06.160" style="s2">it&#39;s the number of bits that we have so</p>
<p begin="02:56:04.319" end="02:56:08.439" style="s2">a small int has the fewest number of</p>
<p begin="02:56:06.160" end="02:56:09.840" style="s2">bits which means that the maximum number</p>
<p begin="02:56:08.439" end="02:56:12.800" style="s2">we can go to is going to be a lot</p>
<p begin="02:56:09.840" end="02:56:14.319" style="s2">smaller versus a traditional integer and</p>
<p begin="02:56:12.800" end="02:56:16.720" style="s2">then if we need to go up to a really</p>
<p begin="02:56:14.319" end="02:56:18.520" style="s2">high value we&#39;re going to use big int U</p>
<p begin="02:56:16.720" end="02:56:19.960" style="s2">which is going to have the most number</p>
<p begin="02:56:18.520" end="02:56:21.279" style="s2">of bits right and if you want a good</p>
<p begin="02:56:19.960" end="02:56:22.880" style="s2">explanation just search for what is the</p>
<p begin="02:56:21.279" end="02:56:25.439" style="s2">difference between big</p>
<p begin="02:56:22.880" end="02:56:28.080" style="s2">int verse</p>
<p begin="02:56:25.439" end="02:56:29.359" style="s2">int right and so we can see here the</p>
<p begin="02:56:28.080" end="02:56:31.040" style="s2">difference between them is you can see</p>
<p begin="02:56:29.359" end="02:56:33.399" style="s2">the minimum value and you can see the</p>
<p begin="02:56:31.040" end="02:56:35.359" style="s2">maximum value and so I think that&#39;s what</p>
<p begin="02:56:33.399" end="02:56:36.680" style="s2">minus 2 billion to two billion so we get</p>
<p begin="02:56:35.359" end="02:56:39.000" style="s2">it in the negative and the positive</p>
<p begin="02:56:36.680" end="02:56:40.880" style="s2">direction versus a big in which is N9</p>
<p begin="02:56:39.000" end="02:56:42.120" style="s2">negative 9 to 9 billion so you got to</p>
<p begin="02:56:40.880" end="02:56:43.439" style="s2">figure out what&#39;s the best fit for you</p>
<p begin="02:56:42.120" end="02:56:45.680" style="s2">if you don&#39;t if you don&#39;t think you&#39;ll</p>
<p begin="02:56:43.439" end="02:56:48.840" style="s2">even hit uh two billion then there&#39;s no</p>
<p begin="02:56:45.680" end="02:56:49.800" style="s2">reason to go to a big in</p>
<p begin="02:56:48.840" end="02:56:51.000" style="s2">so I&#39;m just going to leave this as a</p>
<p begin="02:56:49.800" end="02:56:53.120" style="s2">plain integer we could definitely get</p>
<p begin="02:56:51.000" end="02:56:54.319" style="s2">away with the small integer but let&#39;s</p>
<p begin="02:56:53.120" end="02:56:55.319" style="s2">not worry about that I don&#39;t think we&#39;re</p>
<p begin="02:56:54.319" end="02:56:59.040" style="s2">ever going to have a product that&#39;s</p>
<p begin="02:56:55.319" end="02:57:02.399" style="s2">going to be 2 billion but that&#39;s</p>
<p begin="02:56:59.040" end="02:57:04.680" style="s2">fine all right and then once again um we</p>
<p begin="02:57:02.399" end="02:57:06.000" style="s2">have the not null option so it doesn&#39;t</p>
<p begin="02:57:04.680" end="02:57:07.920" style="s2">make sense to create a product that</p>
<p begin="02:57:06.000" end="02:57:09.960" style="s2">doesn&#39;t have a price so let&#39;s make sure</p>
<p begin="02:57:07.920" end="02:57:11.880" style="s2">that&#39;s not</p>
<p begin="02:57:09.960" end="02:57:14.239" style="s2">nullable uh and then the length and the</p>
<p begin="02:57:11.880" end="02:57:15.800" style="s2">Precision this is for um floating points</p>
<p begin="02:57:14.239" end="02:57:17.840" style="s2">so you can say like how many decimals do</p>
<p begin="02:57:15.800" end="02:57:19.239" style="s2">you want to support it for um for an</p>
<p begin="02:57:17.840" end="02:57:20.439" style="s2">integer though it it shouldn&#39;t matter</p>
<p begin="02:57:19.239" end="02:57:23.800" style="s2">and it looks like I didn&#39;t properly</p>
<p begin="02:57:20.439" end="02:57:25.840" style="s2">select this we&#39;ll do</p>
<p begin="02:57:23.800" end="02:57:28.399" style="s2">integer all right and then the last</p>
<p begin="02:57:25.840" end="02:57:31.120" style="s2">thing that we need is um each product</p>
<p begin="02:57:28.399" end="02:57:32.600" style="s2">should have a unique ID U right and like</p>
<p begin="02:57:31.120" end="02:57:34.640" style="s2">I said a lot of our tables are going to</p>
<p begin="02:57:32.600" end="02:57:36.960" style="s2">have an ID column so here we&#39;re going to</p>
<p begin="02:57:34.640" end="02:57:39.399" style="s2">create a column called ID and so what</p>
<p begin="02:57:36.960" end="02:57:41.279" style="s2">kind of data type should we use for this</p>
<p begin="02:57:39.399" end="02:57:43.120" style="s2">well I think what makes sense is an</p>
<p begin="02:57:41.279" end="02:57:45.239" style="s2">integer right and an ID is just going to</p>
<p begin="02:57:43.120" end="02:57:47.920" style="s2">be some random number so we could use</p>
<p begin="02:57:45.239" end="02:57:50.080" style="s2">int big int or small int uh and so let&#39;s</p>
<p begin="02:57:47.920" end="02:57:52.920" style="s2">just say we&#39;ll use a</p>
<p begin="02:57:50.080" end="02:57:55.000" style="s2">integer I&#39;m going to search for</p>
<p begin="02:57:52.920" end="02:57:57.359" style="s2">integer however I don&#39;t actually want to</p>
<p begin="02:57:55.000" end="02:57:59.720" style="s2">leave it like this um I did mention in</p>
<p begin="02:57:57.359" end="02:58:01.720" style="s2">one of the previous lectures that U most</p>
<p begin="02:57:59.720" end="02:58:04.640" style="s2">databases support the ability to</p>
<p begin="02:58:01.720" end="02:58:06.479" style="s2">automatically generate a ID for you so I</p>
<p begin="02:58:04.640" end="02:58:08.359" style="s2">don&#39;t want to have to be a be the one</p>
<p begin="02:58:06.479" end="02:58:10.239" style="s2">responsible for creating an ID and then</p>
<p begin="02:58:08.359" end="02:58:11.840" style="s2">putting that information into postgress</p>
<p begin="02:58:10.239" end="02:58:13.800" style="s2">I want to just provide the name and the</p>
<p begin="02:58:11.840" end="02:58:17.560" style="s2">price and I want postgress to generate a</p>
<p begin="02:58:13.800" end="02:58:19.279" style="s2">unique and random ID for that product so</p>
<p begin="02:58:17.560" end="02:58:21.640" style="s2">how do we do that that well it&#39;s pretty</p>
<p begin="02:58:19.279" end="02:58:22.880" style="s2">easy there&#39;s a uh there&#39;s a data type</p>
<p begin="02:58:21.640" end="02:58:26.239" style="s2">called</p>
<p begin="02:58:22.880" end="02:58:28.960" style="s2">serial uh and so a Serial is just a</p>
<p begin="02:58:26.239" end="02:58:31.080" style="s2">regular integer however it automatically</p>
<p begin="02:58:28.960" end="02:58:33.560" style="s2">creates</p>
<p begin="02:58:31.080" end="02:58:35.080" style="s2">a random number and it&#39;s actually not a</p>
<p begin="02:58:33.560" end="02:58:36.560" style="s2">random number what it does is it the</p>
<p begin="02:58:35.080" end="02:58:37.640" style="s2">first product we create will get a value</p>
<p begin="02:58:36.560" end="02:58:39.760" style="s2">of</p>
<p begin="02:58:37.640" end="02:58:41.640" style="s2">one the second one will get a value of</p>
<p begin="02:58:39.760" end="02:58:43.319" style="s2">two and it&#39;ll just increment by one for</p>
<p begin="02:58:41.640" end="02:58:44.960" style="s2">each product we had so it&#39;s going to</p>
<p begin="02:58:43.319" end="02:58:47.520" style="s2">ensure that every single product we</p>
<p begin="02:58:44.960" end="02:58:49.800" style="s2">create gets a unique integer value for</p>
<p begin="02:58:47.520" end="02:58:52.200" style="s2">the ID column and like I said you know</p>
<p begin="02:58:49.800" end="02:58:54.000" style="s2">we do have uh you know small inss big</p>
<p begin="02:58:52.200" end="02:58:55.120" style="s2">inss and regular integers this is the</p>
<p begin="02:58:54.000" end="02:58:57.160" style="s2">same thing but it&#39;s just Auto</p>
<p begin="02:58:55.120" end="02:58:58.279" style="s2">incrementing uh for those three kinds so</p>
<p begin="02:58:57.160" end="02:59:01.640" style="s2">I&#39;m just going to say it&#39;s going to be a</p>
<p begin="02:58:58.279" end="02:59:03.920" style="s2">regular integer that increments by One</p>
<p begin="02:59:01.640" end="02:59:05.760" style="s2">automatically and then this is going to</p>
<p begin="02:59:03.920" end="02:59:07.640" style="s2">be what&#39;s going to be the primary key</p>
<p begin="02:59:05.760" end="02:59:09.080" style="s2">right we know that the ID has to be</p>
<p begin="02:59:07.640" end="02:59:11.920" style="s2">unique I think that makes sense to make</p>
<p begin="02:59:09.080" end="02:59:14.439" style="s2">it the primary key and I think for now</p>
<p begin="02:59:11.920" end="02:59:16.880" style="s2">this is a good enough starting point um</p>
<p begin="02:59:14.439" end="02:59:18.560" style="s2">to learn about SQL and postgress in</p>
<p begin="02:59:16.880" end="02:59:20.279" style="s2">general so let&#39;s save this</p>
<p begin="02:59:18.560" end="02:59:23.160" style="s2">and we have then successfully created</p>
<p begin="02:59:20.279" end="02:59:25.600" style="s2">our first table and so under tables</p>
<p begin="02:59:23.160" end="02:59:26.920" style="s2">you&#39;ll now see our products table so</p>
<p begin="02:59:25.600" end="02:59:28.600" style="s2">let&#39;s start playing with this products</p>
<p begin="02:59:26.920" end="02:59:30.160" style="s2">table let&#39;s create entries let&#39;s delete</p>
<p begin="02:59:28.600" end="02:59:32.720" style="s2">entries let&#39;s really start to have fun</p>
<p begin="02:59:30.160" end="02:59:36.920" style="s2">with it uh so right click on</p>
<p begin="02:59:32.720" end="02:59:38.319" style="s2">it and select view edit data and then</p>
<p begin="02:59:36.920" end="02:59:39.600" style="s2">you can really select any one of these</p>
<p begin="02:59:38.319" end="02:59:41.520" style="s2">if you select all rows what it&#39;s going</p>
<p begin="02:59:39.600" end="02:59:42.840" style="s2">to do is it&#39;s going to fetch every</p>
<p begin="02:59:41.520" end="02:59:44.680" style="s2">single entry that we have in the</p>
<p begin="02:59:42.840" end="02:59:46.359" style="s2">database and show it to you we don&#39;t</p>
<p begin="02:59:44.680" end="02:59:48.439" style="s2">have anything in the database so doesn&#39;t</p>
<p begin="02:59:46.359" end="02:59:49.960" style="s2">really matter uh if you select first 100</p>
<p begin="02:59:48.439" end="02:59:51.960" style="s2">rows it&#39;s going to grabb the first 100</p>
<p begin="02:59:49.960" end="02:59:53.359" style="s2">rows in the database and if you select</p>
<p begin="02:59:51.960" end="02:59:56.000" style="s2">last 100 rows it&#39;s going to grab the</p>
<p begin="02:59:53.359" end="02:59:57.680" style="s2">last 100 now if this was a production</p>
<p begin="02:59:56.000" end="02:59:59.359" style="s2">server or something like that we might</p>
<p begin="02:59:57.680" end="03:00:00.880" style="s2">have millions of entries so you may not</p>
<p begin="02:59:59.359" end="03:00:02.880" style="s2">want to do all rows and then just get</p>
<p begin="03:00:00.880" end="03:00:04.520" style="s2">flooded with all of this data so you may</p>
<p begin="03:00:02.880" end="03:00:06.560" style="s2">want to select one of these or filter</p>
<p begin="03:00:04.520" end="03:00:07.960" style="s2">out the rows based off of some criteria</p>
<p begin="03:00:06.560" end="03:00:09.439" style="s2">but we have no actual data on it so I&#39;m</p>
<p begin="03:00:07.960" end="03:00:12.920" style="s2">just going to select all</p>
<p begin="03:00:09.439" end="03:00:14.840" style="s2">rows and you&#39;ll see that within um PG</p>
<p begin="03:00:12.920" end="03:00:17.160" style="s2">admin we have these different tabs so it</p>
<p begin="03:00:14.840" end="03:00:18.680" style="s2">opened up a new tab and you see that</p>
<p begin="03:00:17.160" end="03:00:20.040" style="s2">there&#39;s like a little up window so if</p>
<p begin="03:00:18.680" end="03:00:22.479" style="s2">you can pause it and Rewind it says that</p>
<p begin="03:00:20.040" end="03:00:24.520" style="s2">it actually ran a query uh and so what</p>
<p begin="03:00:22.479" end="03:00:26.680" style="s2">it did is it ran a query to retrieve all</p>
<p begin="03:00:24.520" end="03:00:28.640" style="s2">the all the rows because that&#39;s what I</p>
<p begin="03:00:26.680" end="03:00:30.560" style="s2">selected right I select I selected you</p>
<p begin="03:00:28.640" end="03:00:33.239" style="s2">know get me all of the all of the rows</p>
<p begin="03:00:30.560" end="03:00:33.239" style="s2">by selecting all</p>
<p begin="03:00:33.279" end="03:00:36.840" style="s2">rows and if you look at this query</p>
<p begin="03:00:35.239" end="03:00:38.640" style="s2">editor right here this is the actual</p>
<p begin="03:00:36.840" end="03:00:42.399" style="s2">underlying SQL that it ran so it ran</p>
<p begin="03:00:38.640" end="03:00:45.120" style="s2">select star from my products table order</p>
<p begin="03:00:42.399" end="03:00:46.640" style="s2">by ID in an ascending fashion so it&#39;s</p>
<p begin="03:00:45.120" end="03:00:48.600" style="s2">going to grab the first product with the</p>
<p begin="03:00:46.640" end="03:00:50.520" style="s2">lowest ID number and the next product</p>
<p begin="03:00:48.600" end="03:00:52.200" style="s2">with the second lowest ID number and</p>
<p begin="03:00:50.520" end="03:00:53.520" style="s2">it&#39;s going to keep incrementing up we&#39;ve</p>
<p begin="03:00:52.200" end="03:00:54.600" style="s2">got nothing in our database so it didn&#39;t</p>
<p begin="03:00:53.520" end="03:00:56.680" style="s2">return anything but I think it&#39;s cool</p>
<p begin="03:00:54.600" end="03:00:58.479" style="s2">that it does show us the underlying SQL</p>
<p begin="03:00:56.680" end="03:01:00.560" style="s2">now like I said we don&#39;t have anything</p>
<p begin="03:00:58.479" end="03:01:03.680" style="s2">in our database at the moment so let&#39;s</p>
<p begin="03:01:00.560" end="03:01:05.399" style="s2">go ahead and create our first entry uh</p>
<p begin="03:01:03.680" end="03:01:06.439" style="s2">so I&#39;m going to create select this</p>
<p begin="03:01:05.399" end="03:01:07.840" style="s2">column and I&#39;m just going to give it a</p>
<p begin="03:01:06.439" end="03:01:10.000" style="s2">name so this is going to be a let&#39;s say</p>
<p begin="03:01:07.840" end="03:01:10.000" style="s2">a</p>
<p begin="03:01:10.319" end="03:01:16.239" style="s2">TV and let&#39;s give it a price I&#39;ll say</p>
<p begin="03:01:13.200" end="03:01:19.120" style="s2">this is um</p>
<p begin="03:01:16.239" end="03:01:20.560" style="s2">$200 and then the ID this is going to be</p>
<p begin="03:01:19.120" end="03:01:22.840" style="s2">automatically generated so we don&#39;t need</p>
<p begin="03:01:20.560" end="03:01:24.239" style="s2">to provide a value uh and so at this</p>
<p begin="03:01:22.840" end="03:01:25.920" style="s2">point you may be thinking well looks</p>
<p begin="03:01:24.239" end="03:01:29.200" style="s2">like we created an entry right we have</p>
<p begin="03:01:25.920" end="03:01:31.800" style="s2">our TV price of 200 well not exactly to</p>
<p begin="03:01:29.200" end="03:01:33.479" style="s2">actually store this data in the database</p>
<p begin="03:01:31.800" end="03:01:34.920" style="s2">right now we&#39;re just proposing changes</p>
<p begin="03:01:33.479" end="03:01:37.640" style="s2">we have to select this button right here</p>
<p begin="03:01:34.920" end="03:01:39.600" style="s2">so if you hover over this this says save</p>
<p begin="03:01:37.640" end="03:01:41.160" style="s2">data changes so when you select this</p>
<p begin="03:01:39.600" end="03:01:43.680" style="s2">this is actually going to push this data</p>
<p begin="03:01:41.160" end="03:01:44.800" style="s2">into the database so let&#39;s do that you</p>
<p begin="03:01:43.680" end="03:01:46.800" style="s2">can see that the data was saved</p>
<p begin="03:01:44.800" end="03:01:49.160" style="s2">successfully and now it&#39;s actually in</p>
<p begin="03:01:46.800" end="03:01:52.680" style="s2">here uh in the database so let&#39;s create</p>
<p begin="03:01:49.160" end="03:01:54.960" style="s2">a new entry I&#39;ll say this is a DVD</p>
<p begin="03:01:52.680" end="03:01:57.200" style="s2">player I don&#39;t know if anyone uses these</p>
<p begin="03:01:54.960" end="03:02:00.040" style="s2">anymore and then let&#39;s give this a price</p>
<p begin="03:01:57.200" end="03:02:00.040" style="s2">I&#39;ll say this is uh</p>
<p begin="03:02:00.080" end="03:02:03.880" style="s2">$80 and then we can we can just keep</p>
<p begin="03:02:02.319" end="03:02:06.720" style="s2">adding as many as we want so let&#39;s add</p>
<p begin="03:02:03.880" end="03:02:10.160" style="s2">in a uh</p>
<p begin="03:02:06.720" end="03:02:12.880" style="s2">remote is going to be 10</p>
<p begin="03:02:10.160" end="03:02:14.359" style="s2">bucks right and you&#39;ll see that uh</p>
<p begin="03:02:12.880" end="03:02:16.479" style="s2">anything that&#39;s kind of bolded so you</p>
<p begin="03:02:14.359" end="03:02:18.239" style="s2">notice how TV isn&#39;t as bolded as DVD and</p>
<p begin="03:02:16.479" end="03:02:19.600" style="s2">remote so bolded means we haven&#39;t</p>
<p begin="03:02:18.239" end="03:02:21.560" style="s2">actually pushed it out to the database</p>
<p begin="03:02:19.600" end="03:02:23.080" style="s2">it&#39;s just proposed changes so we can</p>
<p begin="03:02:21.560" end="03:02:25.200" style="s2">push out both of these at the same time</p>
<p begin="03:02:23.080" end="03:02:26.239" style="s2">by pressing this again so we push that</p>
<p begin="03:02:25.200" end="03:02:27.640" style="s2">and then you can see that they got</p>
<p begin="03:02:26.239" end="03:02:29.680" style="s2">pushed out and take a look at the ID</p>
<p begin="03:02:27.640" end="03:02:31.640" style="s2">column right the first item got an ID of</p>
<p begin="03:02:29.680" end="03:02:33.160" style="s2">one the second one got an ID of two and</p>
<p begin="03:02:31.640" end="03:02:34.279" style="s2">then three and it just keeps it&#39;s just</p>
<p begin="03:02:33.160" end="03:02:36.680" style="s2">going to keep</p>
<p begin="03:02:34.279" end="03:02:38.560" style="s2">incrementing now let&#39;s have a little fun</p>
<p begin="03:02:36.680" end="03:02:40.520" style="s2">let&#39;s create a new item this time let&#39;s</p>
<p begin="03:02:38.560" end="03:02:43.200" style="s2">create let&#39;s make it a microphone or</p>
<p begin="03:02:40.520" end="03:02:44.920" style="s2">something and let&#39;s leave this price</p>
<p begin="03:02:43.200" end="03:02:47.279" style="s2">column blank and let&#39;s see what happens</p>
<p begin="03:02:44.920" end="03:02:48.399" style="s2">what so now if I press this take a look</p>
<p begin="03:02:47.279" end="03:02:51.120" style="s2">at this Arrow</p>
<p begin="03:02:48.399" end="03:02:53.439" style="s2">null value in column price so we left</p>
<p begin="03:02:51.120" end="03:02:55.120" style="s2">this value empty so post Christ</p>
<p begin="03:02:53.439" end="03:02:57.319" style="s2">interpreted as null but we set the</p>
<p begin="03:02:55.120" end="03:02:58.960" style="s2">column to be not null so we we told</p>
<p begin="03:02:57.319" end="03:03:00.720" style="s2">posters to do a check and say Hey listen</p>
<p begin="03:02:58.960" end="03:03:03.000" style="s2">if we ever don&#39;t provide a value we want</p>
<p begin="03:03:00.720" end="03:03:05.000" style="s2">you to throw an error so this is forcing</p>
<p begin="03:03:03.000" end="03:03:06.319" style="s2">us to provide a value for this because</p>
<p begin="03:03:05.000" end="03:03:08.560" style="s2">creating a</p>
<p begin="03:03:06.319" end="03:03:11.960" style="s2">product uh without a price just doesn&#39;t</p>
<p begin="03:03:08.560" end="03:03:11.960" style="s2">seem to make sense so let&#39;s give this a</p>
<p begin="03:03:13.680" end="03:03:18.000" style="s2">price save that and so now that worked</p>
<p begin="03:03:16.600" end="03:03:20.359" style="s2">and then this time let&#39;s try creating a</p>
<p begin="03:03:18.000" end="03:03:24.319" style="s2">product with a</p>
<p begin="03:03:20.359" end="03:03:26.319" style="s2">price um but no name this time right so</p>
<p begin="03:03:24.319" end="03:03:29.319" style="s2">what do you expect to happen well since</p>
<p begin="03:03:26.319" end="03:03:31.840" style="s2">we set the column to be not null it&#39;s</p>
<p begin="03:03:29.319" end="03:03:34.640" style="s2">going to throw an error or it should</p>
<p begin="03:03:31.840" end="03:03:36.520" style="s2">hopefully and look at that null value</p>
<p begin="03:03:34.640" end="03:03:37.920" style="s2">and column name so once again it&#39;s not</p>
<p begin="03:03:36.520" end="03:03:39.840" style="s2">going to be supported it&#39;s going to</p>
<p begin="03:03:37.920" end="03:03:41.319" style="s2">throw an error so let&#39;s just give it a</p>
<p begin="03:03:39.840" end="03:03:44.560" style="s2">name let&#39;s say this is a car the world&#39;s</p>
<p begin="03:03:41.319" end="03:03:46.399" style="s2">cheapest car hit okay save that that&#39;s</p>
<p begin="03:03:44.560" end="03:03:48.840" style="s2">been successfully</p>
<p begin="03:03:46.399" end="03:03:50.200" style="s2">added all right so now that we&#39;ve kind</p>
<p begin="03:03:48.840" end="03:03:51.399" style="s2">of played around with it a little bit</p>
<p begin="03:03:50.200" end="03:03:53.560" style="s2">let&#39;s make this a little bit more</p>
<p begin="03:03:51.399" end="03:03:55.560" style="s2">interesting and let&#39;s add in a brand new</p>
<p begin="03:03:53.560" end="03:03:57.600" style="s2">column to our products table so right</p>
<p begin="03:03:55.560" end="03:04:00.040" style="s2">click on the products table right here</p>
<p begin="03:03:57.600" end="03:04:01.399" style="s2">and select properties then under columns</p>
<p begin="03:04:00.040" end="03:04:02.640" style="s2">we&#39;re going to add in a brand new column</p>
<p begin="03:04:01.399" end="03:04:05.200" style="s2">so we&#39;re just going to follow the same</p>
<p begin="03:04:02.640" end="03:04:07.200" style="s2">steps and this column is going to</p>
<p begin="03:04:05.200" end="03:04:09.880" style="s2">represent If an item is on sale so I&#39;m</p>
<p begin="03:04:07.200" end="03:04:12.760" style="s2">going to call this isore bull sorry not</p>
<p begin="03:04:09.880" end="03:04:14.319" style="s2">isore bull it&#39;s going to be isore sale</p>
<p begin="03:04:12.760" end="03:04:15.520" style="s2">and it&#39;s going to be a simple Boolean as</p>
<p begin="03:04:14.319" end="03:04:17.279" style="s2">the data type because the are going to</p>
<p begin="03:04:15.520" end="03:04:19.040" style="s2">be set to True which means the items on</p>
<p begin="03:04:17.279" end="03:04:21.080" style="s2">sale or false that the item is not on</p>
<p begin="03:04:19.040" end="03:04:22.800" style="s2">sale so we&#39;ll do</p>
<p begin="03:04:21.080" end="03:04:25.239" style="s2">Boolean uh and then everything else</p>
<p begin="03:04:22.800" end="03:04:27.479" style="s2">we&#39;re just going to leave uh by default</p>
<p begin="03:04:25.239" end="03:04:29.640" style="s2">so for not null we&#39;re going to leave</p>
<p begin="03:04:27.479" end="03:04:32.279" style="s2">this to be no so we are going to allow</p>
<p begin="03:04:29.640" end="03:04:35.000" style="s2">the user to input a value of null in</p>
<p begin="03:04:32.279" end="03:04:38.560" style="s2">this case however what we&#39;re going to do</p>
<p begin="03:04:35.000" end="03:04:41.359" style="s2">is we&#39;re going to add in uh an extra</p>
<p begin="03:04:38.560" end="03:04:44.040" style="s2">constraint I guess uh actually we&#39;re not</p>
<p begin="03:04:41.359" end="03:04:46.279" style="s2">we&#39;re going to set a default value so uh</p>
<p begin="03:04:44.040" end="03:04:48.160" style="s2">if the user does not provide a value for</p>
<p begin="03:04:46.279" end="03:04:49.920" style="s2">isore sale we&#39;re going to give it a</p>
<p begin="03:04:48.160" end="03:04:52.279" style="s2">default value and say that by default if</p>
<p begin="03:04:49.920" end="03:04:54.560" style="s2">a product doesn&#39;t receive a property for</p>
<p begin="03:04:52.279" end="03:04:55.960" style="s2">a sale it&#39;s going to be set to false so</p>
<p begin="03:04:54.560" end="03:04:59.760" style="s2">it&#39;s not going to be on</p>
<p begin="03:04:55.960" end="03:05:02.720" style="s2">sale so let&#39;s hit</p>
<p begin="03:04:59.760" end="03:05:04.120" style="s2">save all right and then um right now you</p>
<p begin="03:05:02.720" end="03:05:05.680" style="s2">don&#39;t see a new column but that&#39;s</p>
<p begin="03:05:04.120" end="03:05:07.479" style="s2">because you don&#39;t see the new is on sale</p>
<p begin="03:05:05.680" end="03:05:09.520" style="s2">column but that&#39;s just because we need</p>
<p begin="03:05:07.479" end="03:05:11.720" style="s2">to refresh this page so let&#39;s go under</p>
<p begin="03:05:09.520" end="03:05:14.319" style="s2">object I think we could do it here I</p>
<p begin="03:05:11.720" end="03:05:14.319" style="s2">think it should be a</p>
<p begin="03:05:14.680" end="03:05:18.399" style="s2">refresh I didn&#39;t do anything so I think</p>
<p begin="03:05:17.239" end="03:05:20.600" style="s2">we&#39;re just going to to do the same thing</p>
<p begin="03:05:18.399" end="03:05:22.560" style="s2">as we did before uh there should be a</p>
<p begin="03:05:20.600" end="03:05:23.760" style="s2">way to refresh this but it looks like if</p>
<p begin="03:05:22.560" end="03:05:25.680" style="s2">I just press it here it doesn&#39;t do</p>
<p begin="03:05:23.760" end="03:05:27.720" style="s2">anything so uh instead I&#39;m just going to</p>
<p begin="03:05:25.680" end="03:05:29.279" style="s2">do a view edit data all rows again it&#39;s</p>
<p begin="03:05:27.720" end="03:05:33.200" style="s2">going to open up a brand new</p>
<p begin="03:05:29.279" end="03:05:35.399" style="s2">tab and now we can see the isore sale</p>
<p begin="03:05:33.200" end="03:05:37.279" style="s2">column here and what&#39;s awesome about</p>
<p begin="03:05:35.399" end="03:05:39.720" style="s2">this is that because I provided a</p>
<p begin="03:05:37.279" end="03:05:41.560" style="s2">default value it went to all of the</p>
<p begin="03:05:39.720" end="03:05:43.399" style="s2">other items in my database that didn&#39;t</p>
<p begin="03:05:41.560" end="03:05:45.520" style="s2">that were created before this column was</p>
<p begin="03:05:43.399" end="03:05:47.960" style="s2">created and it provided a value of false</p>
<p begin="03:05:45.520" end="03:05:49.640" style="s2">because I said listen if if the value is</p>
<p begin="03:05:47.960" end="03:05:51.239" style="s2">null or if we didn&#39;t provide that data</p>
<p begin="03:05:49.640" end="03:05:53.359" style="s2">go ahead and put in the default value of</p>
<p begin="03:05:51.239" end="03:05:57.600" style="s2">false and so now if I create a brand new</p>
<p begin="03:05:53.359" end="03:06:00.560" style="s2">item and I&#39;ll say this is for uh</p>
<p begin="03:05:57.600" end="03:06:05.120" style="s2">pencil and the pencil is probably only</p>
<p begin="03:06:00.560" end="03:06:06.920" style="s2">$2 now since this uh can be set to null</p>
<p begin="03:06:05.120" end="03:06:08.760" style="s2">I&#39;m going to just leave that blank and</p>
<p begin="03:06:06.920" end="03:06:10.359" style="s2">now if I save this take a look at this</p>
<p begin="03:06:08.760" end="03:06:12.120" style="s2">it gets the default value that we</p>
<p begin="03:06:10.359" end="03:06:13.120" style="s2">provided so uh you&#39;ll see that for a lot</p>
<p begin="03:06:12.120" end="03:06:15.359" style="s2">of your columns you&#39;re going to want to</p>
<p begin="03:06:13.120" end="03:06:17.080" style="s2">provide default values if you expect it</p>
<p begin="03:06:15.359" end="03:06:19.040" style="s2">to be frequently uh inputed without a</p>
<p begin="03:06:17.080" end="03:06:21.040" style="s2">value and you wanted to receive a</p>
<p begin="03:06:19.040" end="03:06:22.319" style="s2">default value and now once again I&#39;m</p>
<p begin="03:06:21.040" end="03:06:24.720" style="s2">going to actually create a brand new</p>
<p begin="03:06:22.319" end="03:06:27.439" style="s2">column once more and then we&#39;ll go to</p>
<p begin="03:06:24.720" end="03:06:29.640" style="s2">properties we&#39;ll go to</p>
<p begin="03:06:27.439" end="03:06:31.760" style="s2">columns and then we&#39;ll add a</p>
<p begin="03:06:29.640" end="03:06:34.080" style="s2">column and we&#39;ll call this column</p>
<p begin="03:06:31.760" end="03:06:36.800" style="s2">inventory so this is how many of the</p>
<p begin="03:06:34.080" end="03:06:39.920" style="s2">items that we have in stock uh and so</p>
<p begin="03:06:36.800" end="03:06:39.920" style="s2">here I&#39;m this is going to be an</p>
<p begin="03:06:40.319" end="03:06:46.319" style="s2">integer and uh I think it makes sense</p>
<p begin="03:06:42.840" end="03:06:47.680" style="s2">for in our application to have a a value</p>
<p begin="03:06:46.319" end="03:06:49.319" style="s2">for our inventory we shouldn&#39;t leave it</p>
<p begin="03:06:47.680" end="03:06:52.200" style="s2">now so I&#39;m going to set it to yes and I</p>
<p begin="03:06:49.319" end="03:06:55.040" style="s2">want you guys to see um what happens</p>
<p begin="03:06:52.200" end="03:06:57.680" style="s2">when we hit save because the big issue</p>
<p begin="03:06:55.040" end="03:06:59.080" style="s2">is right this column doesn&#39;t exist at</p>
<p begin="03:06:57.680" end="03:07:00.880" style="s2">the moment and so all of these items</p>
<p begin="03:06:59.080" end="03:07:02.880" style="s2">were created before there was an</p>
<p begin="03:07:00.880" end="03:07:06.680" style="s2">inventory column that was created</p>
<p begin="03:07:02.880" end="03:07:08.760" style="s2">however this column has a not null value</p>
<p begin="03:07:06.680" end="03:07:10.720" style="s2">but it doesn&#39;t have a default value</p>
<p begin="03:07:08.760" end="03:07:12.160" style="s2">right we gave is sale a default value so</p>
<p begin="03:07:10.720" end="03:07:14.080" style="s2">post Chris was smart enough to go into</p>
<p begin="03:07:12.160" end="03:07:15.840" style="s2">all of these pre-existing items and give</p>
<p begin="03:07:14.080" end="03:07:17.200" style="s2">it a value of false well what&#39;s going to</p>
<p begin="03:07:15.840" end="03:07:18.640" style="s2">happen with the inventory I didn&#39;t give</p>
<p begin="03:07:17.200" end="03:07:21.600" style="s2">it a default value so let&#39;s see what</p>
<p begin="03:07:18.640" end="03:07:23.080" style="s2">happens if I hit save it throws an error</p>
<p begin="03:07:21.600" end="03:07:24.319" style="s2">it says column inventory of relation</p>
<p begin="03:07:23.080" end="03:07:25.840" style="s2">products contains null value so it&#39;s</p>
<p begin="03:07:24.319" end="03:07:28.600" style="s2">basically saying all of these products</p>
<p begin="03:07:25.840" end="03:07:29.880" style="s2">that you had before don&#39;t have a value</p>
<p begin="03:07:28.600" end="03:07:32.479" style="s2">for</p>
<p begin="03:07:29.880" end="03:07:34.640" style="s2">inventory so at this point um you know</p>
<p begin="03:07:32.479" end="03:07:38.399" style="s2">you have a couple of different options</p>
<p begin="03:07:34.640" end="03:07:41.640" style="s2">uh you could delete your all of the the</p>
<p begin="03:07:38.399" end="03:07:42.760" style="s2">previous products if you wanted to um</p>
<p begin="03:07:41.640" end="03:07:43.880" style="s2">and since this is a development</p>
<p begin="03:07:42.760" end="03:07:45.000" style="s2">environment that&#39;s not a big deal if</p>
<p begin="03:07:43.880" end="03:07:46.680" style="s2">you&#39;re in a production environment that</p>
<p begin="03:07:45.000" end="03:07:49.399" style="s2">could lead to issues obviously you don&#39;t</p>
<p begin="03:07:46.680" end="03:07:50.840" style="s2">want to delete your uction data um so we</p>
<p begin="03:07:49.399" end="03:07:52.960" style="s2">could just give it a default value like</p>
<p begin="03:07:50.840" end="03:07:54.840" style="s2">we did before uh and so I can just go</p>
<p begin="03:07:52.960" end="03:07:57.080" style="s2">back into con whoops not there we want</p>
<p begin="03:07:54.840" end="03:07:58.439" style="s2">to select this little button go into</p>
<p begin="03:07:57.080" end="03:08:00.960" style="s2">constraints and we&#39;ll say the default</p>
<p begin="03:07:58.439" end="03:08:00.960" style="s2">value</p>
<p begin="03:08:01.040" end="03:08:06.359" style="s2">is um let&#39;s say there&#39;s going to be zero</p>
<p begin="03:08:03.680" end="03:08:06.359" style="s2">item so let&#39;s hit</p>
<p begin="03:08:06.600" end="03:08:10.960" style="s2">save and once again I&#39;m just going to</p>
<p begin="03:08:09.319" end="03:08:13.920" style="s2">open this up I still don&#39;t know how to</p>
<p begin="03:08:10.960" end="03:08:15.920" style="s2">refresh it I know there has to be a way</p>
<p begin="03:08:13.920" end="03:08:18.520" style="s2">uh I can&#39;t find it so it&#39;s okay we could</p>
<p begin="03:08:15.920" end="03:08:20.479" style="s2">just open up this again and then we can</p>
<p begin="03:08:18.520" end="03:08:22.680" style="s2">just delete these I don&#39;t want too many</p>
<p begin="03:08:20.479" end="03:08:22.680" style="s2">of</p>
<p begin="03:08:23.920" end="03:08:27.760" style="s2">these and I don&#39;t know why it got</p>
<p begin="03:08:25.800" end="03:08:30.200" style="s2">squished up like</p>
<p begin="03:08:27.760" end="03:08:32.920" style="s2">that but because we provided a default</p>
<p begin="03:08:30.200" end="03:08:34.840" style="s2">value uh it all it got all values of</p>
<p begin="03:08:32.920" end="03:08:36.960" style="s2">zero and so now if I create a brand new</p>
<p begin="03:08:34.840" end="03:08:39.239" style="s2">item and I&#39;ll call this this will be a</p>
<p begin="03:08:36.960" end="03:08:39.239" style="s2">pencil</p>
<p begin="03:08:40.479" end="03:08:48.920" style="s2">sharpener we&#39;ll give a price of</p>
<p begin="03:08:43.279" end="03:08:48.920" style="s2">$4 is sale I&#39;ll set to be true</p>
<p begin="03:08:49.560" end="03:08:54.479" style="s2">that&#39;s true uh and then if we don&#39;t</p>
<p begin="03:08:52.720" end="03:08:56.160" style="s2">provide an</p>
<p begin="03:08:54.479" end="03:08:58.680" style="s2">inventory right it&#39;s going to get that</p>
<p begin="03:08:56.160" end="03:09:00.880" style="s2">default value of zero all right so I</p>
<p begin="03:08:58.680" end="03:09:03.239" style="s2">think we&#39;ve almost wrapped up our schema</p>
<p begin="03:09:00.880" end="03:09:04.800" style="s2">for our products table however I want to</p>
<p begin="03:09:03.239" end="03:09:06.680" style="s2">add one more thing and this is uh</p>
<p begin="03:09:04.800" end="03:09:08.479" style="s2">something that&#39;s pretty common uh</p>
<p begin="03:09:06.680" end="03:09:10.680" style="s2">anytime you create an entry within</p>
<p begin="03:09:08.479" end="03:09:12.520" style="s2">almost any other table you usually want</p>
<p begin="03:09:10.680" end="03:09:14.239" style="s2">some sort of time stamp right so what</p>
<p begin="03:09:12.520" end="03:09:16.960" style="s2">when did we add this product when did</p>
<p begin="03:09:14.239" end="03:09:18.200" style="s2">this user uh create his account when did</p>
<p begin="03:09:16.960" end="03:09:20.000" style="s2">this user</p>
<p begin="03:09:18.200" end="03:09:21.520" style="s2">uh create this post right so anything</p>
<p begin="03:09:20.000" end="03:09:23.319" style="s2">that we add into our database or in our</p>
<p begin="03:09:21.520" end="03:09:25.800" style="s2">application it is generally best</p>
<p begin="03:09:23.319" end="03:09:27.080" style="s2">practice to store uh when that item was</p>
<p begin="03:09:25.800" end="03:09:28.920" style="s2">created because you never know when you</p>
<p begin="03:09:27.080" end="03:09:30.640" style="s2">need to know that information so let&#39;s</p>
<p begin="03:09:28.920" end="03:09:33.040" style="s2">create another column and let&#39;s see how</p>
<p begin="03:09:30.640" end="03:09:35.439" style="s2">we can work with timestamps so I&#39;m going</p>
<p begin="03:09:33.040" end="03:09:37.960" style="s2">to right click on products as usual go</p>
<p begin="03:09:35.439" end="03:09:40.640" style="s2">to properties and then under columns</p>
<p begin="03:09:37.960" end="03:09:42.920" style="s2">we&#39;re going to add in a new</p>
<p begin="03:09:40.640" end="03:09:44.560" style="s2">column and we&#39;ll call this column</p>
<p begin="03:09:42.920" end="03:09:47.479" style="s2">created</p>
<p begin="03:09:44.560" end="03:09:49.720" style="s2">at uh and then here we have to select</p>
<p begin="03:09:47.479" end="03:09:52.160" style="s2">something that represents time so what I</p>
<p begin="03:09:49.720" end="03:09:55.080" style="s2">recommend you guys do is just go to the</p>
<p begin="03:09:52.160" end="03:09:57.479" style="s2">documentation and then um look at date</p>
<p begin="03:09:55.080" end="03:09:58.720" style="s2">time types so there&#39;s a couple of</p>
<p begin="03:09:57.479" end="03:10:01.479" style="s2">different ones but we&#39;re going to do is</p>
<p begin="03:09:58.720" end="03:10:02.920" style="s2">a time stamp with time zone so we got</p>
<p begin="03:10:01.479" end="03:10:04.920" style="s2">time stamp without time zone and then</p>
<p begin="03:10:02.920" end="03:10:06.319" style="s2">time stamp with time zone we&#39;ve got just</p>
<p begin="03:10:04.920" end="03:10:08.439" style="s2">the date and then we&#39;ve got just the</p>
<p begin="03:10:06.319" end="03:10:11.040" style="s2">time but I want the date time and the</p>
<p begin="03:10:08.439" end="03:10:14.040" style="s2">time zone so that&#39;s the most</p>
<p begin="03:10:11.040" end="03:10:16.200" style="s2">detailed so I&#39;m just going to search for</p>
<p begin="03:10:14.040" end="03:10:19.239" style="s2">timestamp and we want timestamp with</p>
<p begin="03:10:16.200" end="03:10:20.760" style="s2">time zone</p>
<p begin="03:10:19.239" end="03:10:23.439" style="s2">all right and we obviously want this</p>
<p begin="03:10:20.760" end="03:10:26.439" style="s2">field always filled in um however I</p>
<p begin="03:10:23.439" end="03:10:28.040" style="s2">don&#39;t want to have fast API API be</p>
<p begin="03:10:26.439" end="03:10:31.439" style="s2">responsible for creating the time stamp</p>
<p begin="03:10:28.040" end="03:10:32.960" style="s2">I want postgress to automatically create</p>
<p begin="03:10:31.439" end="03:10:34.040" style="s2">the Tim stamp for when the entry was</p>
<p begin="03:10:32.960" end="03:10:35.680" style="s2">created so I want to be able to just</p>
<p begin="03:10:34.040" end="03:10:37.279" style="s2">create a product and then as soon as it</p>
<p begin="03:10:35.680" end="03:10:38.560" style="s2">gets added to our database postris will</p>
<p begin="03:10:37.279" end="03:10:40.760" style="s2">just fill it in with whatever that</p>
<p begin="03:10:38.560" end="03:10:43.160" style="s2">current time is so how do we do that</p>
<p begin="03:10:40.760" end="03:10:45.000" style="s2">well we can go into this right here so</p>
<p begin="03:10:43.160" end="03:10:46.960" style="s2">let&#39;s configure this add a</p>
<p begin="03:10:45.000" end="03:10:48.840" style="s2">constraint and then here all we have to</p>
<p begin="03:10:46.960" end="03:10:51.239" style="s2">do is for the default value I want you</p>
<p begin="03:10:48.840" end="03:10:54.399" style="s2">to just write now so what this is going</p>
<p begin="03:10:51.239" end="03:10:56.399" style="s2">to do is uh the default value for any</p>
<p begin="03:10:54.399" end="03:10:59.120" style="s2">product that gets added uh it&#39;s going to</p>
<p begin="03:10:56.399" end="03:11:00.439" style="s2">run this specific command on the CLI so</p>
<p begin="03:10:59.120" end="03:11:03.319" style="s2">this command just grabs what is the</p>
<p begin="03:11:00.439" end="03:11:04.399" style="s2">current time pretty simple right now uh</p>
<p begin="03:11:03.319" end="03:11:07.160" style="s2">I think it&#39;s pretty straightforward what</p>
<p begin="03:11:04.399" end="03:11:08.840" style="s2">is what time is it now right uh and so</p>
<p begin="03:11:07.160" end="03:11:11.600" style="s2">this will set the default value so if I</p>
<p begin="03:11:08.840" end="03:11:13.279" style="s2">hit save at this point all right since</p>
<p begin="03:11:11.600" end="03:11:14.880" style="s2">we had all of these other items that</p>
<p begin="03:11:13.279" end="03:11:16.040" style="s2">were created previously before there&#39;s a</p>
<p begin="03:11:14.880" end="03:11:18.080" style="s2">time stamp what it&#39;s going to do is it&#39;s</p>
<p begin="03:11:16.040" end="03:11:20.399" style="s2">going to set the created time to</p>
<p begin="03:11:18.080" end="03:11:21.640" style="s2">whatever time it is now um which</p>
<p begin="03:11:20.399" end="03:11:23.680" style="s2">technically that&#39;s not accurate cuz</p>
<p begin="03:11:21.640" end="03:11:25.279" style="s2">that&#39;s not when they were added but</p>
<p begin="03:11:23.680" end="03:11:27.880" style="s2">these were created before we were smart</p>
<p begin="03:11:25.279" end="03:11:29.560" style="s2">enough to actually have a time stamp so</p>
<p begin="03:11:27.880" end="03:11:33.000" style="s2">uh if we refresh this so I&#39;m just going</p>
<p begin="03:11:29.560" end="03:11:35.120" style="s2">to do a view edit all rows</p>
<p begin="03:11:33.000" end="03:11:37.160" style="s2">again right you can see that they&#39;ve all</p>
<p begin="03:11:35.120" end="03:11:39.359" style="s2">been given the same Tim stamp of</p>
<p begin="03:11:37.160" end="03:11:41.720" style="s2">whatever that current time was and now</p>
<p begin="03:11:39.359" end="03:11:44.279" style="s2">if we add in a new item and I&#39;ll add in</p>
<p begin="03:11:41.720" end="03:11:44.279" style="s2">how about a</p>
<p begin="03:11:44.359" end="03:11:51.120" style="s2">keyboard we&#39;ll give this a price of 28</p>
<p begin="03:11:48.800" end="03:11:53.359" style="s2">is sale we can just leave that empty how</p>
<p begin="03:11:51.120" end="03:11:56.120" style="s2">many in our inventory we&#39;ll give it uh</p>
<p begin="03:11:53.359" end="03:11:57.680" style="s2">50 and then we&#39;ll leave this blank and</p>
<p begin="03:11:56.120" end="03:11:59.040" style="s2">so let&#39;s see if that if it automatically</p>
<p begin="03:11:57.680" end="03:12:01.120" style="s2">fills in what is the current time and it</p>
<p begin="03:11:59.040" end="03:12:02.680" style="s2">should be later than this time obviously</p>
<p begin="03:12:01.120" end="03:12:05.040" style="s2">so we&#39;ll hit save and so if we just</p>
<p begin="03:12:02.680" end="03:12:07.319" style="s2">double check yep we can see that this is</p>
<p begin="03:12:05.040" end="03:12:10.200" style="s2">uh about a minute later and so now we&#39;ve</p>
<p begin="03:12:07.319" end="03:12:12.319" style="s2">successfully added the created at</p>
<p begin="03:12:10.200" end="03:12:14.600" style="s2">timestamp in this lesson we&#39;ll run our</p>
<p begin="03:12:12.319" end="03:12:16.040" style="s2">first SQL command however before we do</p>
<p begin="03:12:14.600" end="03:12:17.800" style="s2">that what I want you guys to do is</p>
<p begin="03:12:16.040" end="03:12:19.880" style="s2">create a few more entries within your</p>
<p begin="03:12:17.800" end="03:12:22.200" style="s2">database uh and so you could see that</p>
<p begin="03:12:19.880" end="03:12:24.439" style="s2">off camera I added about you know six or</p>
<p begin="03:12:22.200" end="03:12:27.600" style="s2">seven more entries and you want to make</p>
<p begin="03:12:24.439" end="03:12:29.600" style="s2">sure that you provide enough um varying</p>
<p begin="03:12:27.600" end="03:12:30.960" style="s2">data to your database so make sure you</p>
<p begin="03:12:29.600" end="03:12:33.279" style="s2">know the price is all different make</p>
<p begin="03:12:30.960" end="03:12:34.920" style="s2">sure that the isale bullion is you know</p>
<p begin="03:12:33.279" end="03:12:37.359" style="s2">a good mix of true or false make sure</p>
<p begin="03:12:34.920" end="03:12:38.760" style="s2">that the inventory numbers vary enough</p>
<p begin="03:12:37.359" end="03:12:40.880" style="s2">and then try to create them at different</p>
<p begin="03:12:38.760" end="03:12:42.680" style="s2">times as well if you can do that uh that</p>
<p begin="03:12:40.880" end="03:12:45.000" style="s2">way when we actually go to make queries</p>
<p begin="03:12:42.680" end="03:12:46.319" style="s2">we can see a variety of different output</p>
<p begin="03:12:45.000" end="03:12:48.920" style="s2">and that won&#39;t happen if you only have</p>
<p begin="03:12:46.319" end="03:12:50.960" style="s2">three to four entries</p>
<p begin="03:12:48.920" end="03:12:53.600" style="s2">but once you do that we should be ready</p>
<p begin="03:12:50.960" end="03:12:55.160" style="s2">to start our first query and what we</p>
<p begin="03:12:53.600" end="03:12:57.040" style="s2">want to do is right click on your</p>
<p begin="03:12:55.160" end="03:12:59.800" style="s2">database so my database is called Fast</p>
<p begin="03:12:57.040" end="03:13:01.800" style="s2">API and then select query tool so that&#39;s</p>
<p begin="03:12:59.800" end="03:13:03.560" style="s2">going to open up a brand new tab and</p>
<p begin="03:13:01.800" end="03:13:05.920" style="s2">what we can do is we can run our query</p>
<p begin="03:13:03.560" end="03:13:07.160" style="s2">from here so here we type out our query</p>
<p begin="03:13:05.920" end="03:13:09.200" style="s2">and then we just hit the play button and</p>
<p begin="03:13:07.160" end="03:13:11.800" style="s2">that&#39;s going to run our query so how do</p>
<p begin="03:13:09.200" end="03:13:13.080" style="s2">we make a query within a SQL database so</p>
<p begin="03:13:11.800" end="03:13:14.880" style="s2">first of all let&#39;s start off with the</p>
<p begin="03:13:13.080" end="03:13:16.439" style="s2">most basic query I&#39;m going to type it</p>
<p begin="03:13:14.880" end="03:13:18.239" style="s2">out and then after we type it out and</p>
<p begin="03:13:16.439" end="03:13:20.000" style="s2">run it I&#39;m going to to explain to you</p>
<p begin="03:13:18.239" end="03:13:20.920" style="s2">exactly what each part of the command</p>
<p begin="03:13:20.000" end="03:13:25.239" style="s2">actually</p>
<p begin="03:13:20.920" end="03:13:27.520" style="s2">does so here we&#39;ll do select star</p>
<p begin="03:13:25.239" end="03:13:30.160" style="s2">from</p>
<p begin="03:13:27.520" end="03:13:31.479" style="s2">products colon then once we&#39;ve tighted</p>
<p begin="03:13:30.160" end="03:13:33.319" style="s2">this out what we can do is just hit the</p>
<p begin="03:13:31.479" end="03:13:34.720" style="s2">play button and let&#39;s see what happens</p>
<p begin="03:13:33.319" end="03:13:36.600" style="s2">so this is going to run the query we got</p>
<p begin="03:13:34.720" end="03:13:39.040" style="s2">the same output here saying that it</p>
<p begin="03:13:36.600" end="03:13:40.960" style="s2">successfully ran and it says 13 rows</p>
<p begin="03:13:39.040" end="03:13:42.840" style="s2">affected uh and so what we can see here</p>
<p begin="03:13:40.960" end="03:13:46.600" style="s2">is it just printed out every single</p>
<p begin="03:13:42.840" end="03:13:47.800" style="s2">entry within our uh products table now</p>
<p begin="03:13:46.600" end="03:13:49.160" style="s2">we only have one table so it&#39;s</p>
<p begin="03:13:47.800" end="03:13:51.520" style="s2">essentially just dumping out the entire</p>
<p begin="03:13:49.160" end="03:13:53.080" style="s2">database but if we had more tables uh</p>
<p begin="03:13:51.520" end="03:13:56.040" style="s2">you would see that this would only print</p>
<p begin="03:13:53.080" end="03:13:58.479" style="s2">out whatever was in our products table</p>
<p begin="03:13:56.040" end="03:13:59.680" style="s2">so this Command right here does one</p>
<p begin="03:13:58.479" end="03:14:01.200" style="s2">simple thing and that is it&#39;s going to</p>
<p begin="03:13:59.680" end="03:14:02.680" style="s2">give us every single row within the</p>
<p begin="03:14:01.200" end="03:14:04.920" style="s2">products database so let&#39;s actually</p>
<p begin="03:14:02.680" end="03:14:06.120" style="s2">break this down so first of all we start</p>
<p begin="03:14:04.920" end="03:14:07.520" style="s2">this command with select so we&#39;re</p>
<p begin="03:14:06.120" end="03:14:10.080" style="s2">basically saying Hey I want to select</p>
<p begin="03:14:07.520" end="03:14:11.760" style="s2">these rows uh ignore this for now we&#39;re</p>
<p begin="03:14:10.080" end="03:14:15.319" style="s2">going to come back to this and then what</p>
<p begin="03:14:11.760" end="03:14:17.520" style="s2">we do is we run from and then products</p>
<p begin="03:14:15.319" end="03:14:19.160" style="s2">uh and so you say what table you</p>
<p begin="03:14:17.520" end="03:14:21.760" style="s2">ultimately want to run this command for</p>
<p begin="03:14:19.160" end="03:14:23.200" style="s2">so you say from and then the table name</p>
<p begin="03:14:21.760" end="03:14:24.840" style="s2">and then it&#39;s going to run that query</p>
<p begin="03:14:23.200" end="03:14:26.279" style="s2">against that table if we had a table</p>
<p begin="03:14:24.840" end="03:14:30.279" style="s2">called users and we wanted to get every</p>
<p begin="03:14:26.279" end="03:14:32.040" style="s2">user we could do select star from users</p>
<p begin="03:14:30.279" end="03:14:34.840" style="s2">no different right so it&#39;s just a matter</p>
<p begin="03:14:32.040" end="03:14:36.800" style="s2">of providing your specific table name so</p>
<p begin="03:14:34.840" end="03:14:39.520" style="s2">every query is going to be with regards</p>
<p begin="03:14:36.800" end="03:14:41.520" style="s2">to some table and the thing about SQL is</p>
<p begin="03:14:39.520" end="03:14:43.760" style="s2">every single command is going to end</p>
<p begin="03:14:41.520" end="03:14:46.120" style="s2">with a semicolon so if I don&#39;t put the</p>
<p begin="03:14:43.760" end="03:14:47.680" style="s2">semicolon it&#39;s not going to do anything</p>
<p begin="03:14:46.120" end="03:14:48.720" style="s2">well in this case it actually ended up</p>
<p begin="03:14:47.680" end="03:14:50.720" style="s2">working but that&#39;s just because we&#39;re</p>
<p begin="03:14:48.720" end="03:14:53.040" style="s2">using PG admin if you did this in the</p>
<p begin="03:14:50.720" end="03:14:55.479" style="s2">command line it wouldn&#39;t have worked so</p>
<p begin="03:14:53.040" end="03:14:57.760" style="s2">remember semicolon at the end of every</p>
<p begin="03:14:55.479" end="03:15:00.600" style="s2">command now let&#39;s talk about what this</p>
<p begin="03:14:57.760" end="03:15:02.359" style="s2">uh star or asterisk actually does and so</p>
<p begin="03:15:00.600" end="03:15:04.000" style="s2">you can see by default we get every row</p>
<p begin="03:15:02.359" end="03:15:07.239" style="s2">and that&#39;s coming from this part of the</p>
<p begin="03:15:04.000" end="03:15:09.080" style="s2">command um but what does this do well uh</p>
<p begin="03:15:07.239" end="03:15:11.600" style="s2">if you see here we we get every single</p>
<p begin="03:15:09.080" end="03:15:13.439" style="s2">column back from our table right and</p>
<p begin="03:15:11.600" end="03:15:16.040" style="s2">that&#39;s because we use the star here</p>
<p begin="03:15:13.439" end="03:15:18.760" style="s2">however uh in an actual database your</p>
<p begin="03:15:16.040" end="03:15:20.560" style="s2">tables could have 50 columns maybe more</p>
<p begin="03:15:18.760" end="03:15:22.160" style="s2">they could have a ton of columns and if</p>
<p begin="03:15:20.560" end="03:15:24.120" style="s2">you&#39;re running a simple query to get you</p>
<p begin="03:15:22.160" end="03:15:25.520" style="s2">know some specific information you may</p>
<p begin="03:15:24.120" end="03:15:27.080" style="s2">not want to get all of that data back</p>
<p begin="03:15:25.520" end="03:15:29.399" style="s2">you may not care about most of the</p>
<p begin="03:15:27.080" end="03:15:31.640" style="s2">columns you may only want one or two</p>
<p begin="03:15:29.399" end="03:15:33.439" style="s2">columns and so we can filter out what</p>
<p begin="03:15:31.640" end="03:15:35.479" style="s2">columns we want returned back for each</p>
<p begin="03:15:33.439" end="03:15:37.000" style="s2">row so the star means I want every</p>
<p begin="03:15:35.479" end="03:15:39.160" style="s2">single column so we got every single</p>
<p begin="03:15:37.000" end="03:15:41.399" style="s2">column that we defined for the table but</p>
<p begin="03:15:39.160" end="03:15:44.080" style="s2">if I wanted to run a query against the</p>
<p begin="03:15:41.399" end="03:15:47.160" style="s2">products table but I only wanted a list</p>
<p begin="03:15:44.080" end="03:15:50.040" style="s2">of the different names of each product I</p>
<p begin="03:15:47.160" end="03:15:51.920" style="s2">can specify just name and so what this</p>
<p begin="03:15:50.040" end="03:15:54.520" style="s2">is going to do is this is going to grab</p>
<p begin="03:15:51.920" end="03:15:57.319" style="s2">just the name column uh from my products</p>
<p begin="03:15:54.520" end="03:15:59.359" style="s2">table so if I run this again you can see</p>
<p begin="03:15:57.319" end="03:16:01.960" style="s2">we got the same exact data we got all 13</p>
<p begin="03:15:59.359" end="03:16:02.840" style="s2">entries but it only returned just the</p>
<p begin="03:16:01.960" end="03:16:04.960" style="s2">name</p>
<p begin="03:16:02.840" end="03:16:07.399" style="s2">column and then we can add in as many</p>
<p begin="03:16:04.960" end="03:16:10.040" style="s2">columns we want so if I wanted uh the ID</p>
<p begin="03:16:07.399" end="03:16:12.600" style="s2">column as well and the</p>
<p begin="03:16:10.040" end="03:16:14.720" style="s2">price I can hit run and so now we got</p>
<p begin="03:16:12.600" end="03:16:16.520" style="s2">the ID and the price and what&#39;s really</p>
<p begin="03:16:14.720" end="03:16:18.239" style="s2">nice is it&#39;s going to line up with the</p>
<p begin="03:16:16.520" end="03:16:20.600" style="s2">order that that I write them here so if</p>
<p begin="03:16:18.239" end="03:16:21.880" style="s2">I want the ID first and then the name</p>
<p begin="03:16:20.600" end="03:16:26.080" style="s2">and then the price I could change this</p>
<p begin="03:16:21.880" end="03:16:28.520" style="s2">to ID name price and so now it&#39;s going</p>
<p begin="03:16:26.080" end="03:16:31.560" style="s2">to order it in that in that exact order</p>
<p begin="03:16:28.520" end="03:16:33.120" style="s2">so we got ID name and price but if you</p>
<p begin="03:16:31.560" end="03:16:35.120" style="s2">do a star it&#39;s just going to return</p>
<p begin="03:16:33.120" end="03:16:38.560" style="s2">every single</p>
<p begin="03:16:35.120" end="03:16:42.399" style="s2">column now before we dig any deeper into</p>
<p begin="03:16:38.560" end="03:16:44.600" style="s2">SQL and how to structure SQL uh commands</p>
<p begin="03:16:42.399" end="03:16:45.920" style="s2">I want to talk about capitalization uh</p>
<p begin="03:16:44.600" end="03:16:48.520" style="s2">and so you&#39;ll notice that when I ran</p>
<p begin="03:16:45.920" end="03:16:51.800" style="s2">this command uh the word select and the</p>
<p begin="03:16:48.520" end="03:16:53.880" style="s2">word from is capitalized uh and I want</p>
<p begin="03:16:51.800" end="03:16:55.640" style="s2">to make this very clear capitalization</p>
<p begin="03:16:53.880" end="03:16:58.439" style="s2">doesn&#39;t matter so if I make this</p>
<p begin="03:16:55.640" end="03:17:00.640" style="s2">lowercase and I make this lowercase as</p>
<p begin="03:16:58.439" end="03:17:02.399" style="s2">well and then hit run you&#39;ll see that</p>
<p begin="03:17:00.640" end="03:17:04.479" style="s2">everything works just fine as it did</p>
<p begin="03:17:02.399" end="03:17:06.840" style="s2">when it was capitalize so capitalization</p>
<p begin="03:17:04.479" end="03:17:09.760" style="s2">doesn&#39;t matter however with a any SQL</p>
<p begin="03:17:06.840" end="03:17:12.160" style="s2">statement we have uh two types of words</p>
<p begin="03:17:09.760" end="03:17:14.479" style="s2">we&#39;ve got SQL specific keywords which is</p>
<p begin="03:17:12.160" end="03:17:17.680" style="s2">part of the SQL syntax and then we have</p>
<p begin="03:17:14.479" end="03:17:19.239" style="s2">our user provided information uh and so</p>
<p begin="03:17:17.680" end="03:17:21.040" style="s2">let&#39;s quickly talk about what those two</p>
<p begin="03:17:19.239" end="03:17:22.840" style="s2">things are so the user provided</p>
<p begin="03:17:21.040" end="03:17:25.880" style="s2">information is keywords that I&#39;m</p>
<p begin="03:17:22.840" end="03:17:27.560" style="s2">inputting in so I&#39;m asking sequel or my</p>
<p begin="03:17:25.880" end="03:17:29.359" style="s2">postr database I want the information</p>
<p begin="03:17:27.560" end="03:17:31.479" style="s2">from my products table so I&#39;m passing in</p>
<p begin="03:17:29.359" end="03:17:32.960" style="s2">this data and so that one you just you</p>
<p begin="03:17:31.479" end="03:17:34.920" style="s2">have to make sure you just match this up</p>
<p begin="03:17:32.960" end="03:17:37.840" style="s2">with whatever it&#39;s called within our</p>
<p begin="03:17:34.920" end="03:17:39.800" style="s2">table but all of the SQL specific uh</p>
<p begin="03:17:37.840" end="03:17:41.760" style="s2">words that I don&#39;t create that don&#39;t</p>
<p begin="03:17:39.800" end="03:17:44.319" style="s2">match up with anything in our database</p>
<p begin="03:17:41.760" end="03:17:46.040" style="s2">right those can be either capitalized or</p>
<p begin="03:17:44.319" end="03:17:48.000" style="s2">lowercase it doesn&#39;t matter it&#39;s not</p>
<p begin="03:17:46.040" end="03:17:49.680" style="s2">going to impact your SQL statement but</p>
<p begin="03:17:48.000" end="03:17:52.640" style="s2">you will see that best practice is to</p>
<p begin="03:17:49.680" end="03:17:54.560" style="s2">capitalize it so we&#39;ll do Capital select</p>
<p begin="03:17:52.640" end="03:17:58.080" style="s2">and then capital from and the reason we</p>
<p begin="03:17:54.560" end="03:18:00.279" style="s2">do that is that we can much easier tell</p>
<p begin="03:17:58.080" end="03:18:02.319" style="s2">which parts of our SQL statement is user</p>
<p begin="03:18:00.279" end="03:18:04.680" style="s2">provided information and what parts of</p>
<p begin="03:18:02.319" end="03:18:06.239" style="s2">our SQL statement is just basic SQL</p>
<p begin="03:18:04.680" end="03:18:08.080" style="s2">keywords so this just makes it a little</p>
<p begin="03:18:06.239" end="03:18:09.680" style="s2">bit easier to read you may not notice</p>
<p begin="03:18:08.080" end="03:18:11.479" style="s2">the benefit of it now but you&#39;ll see</p>
<p begin="03:18:09.680" end="03:18:13.720" style="s2">that these SQL commands can get really</p>
<p begin="03:18:11.479" end="03:18:15.720" style="s2">long they can span multiple lines and so</p>
<p begin="03:18:13.720" end="03:18:17.040" style="s2">having those keywords capitalized it</p>
<p begin="03:18:15.720" end="03:18:19.000" style="s2">makes it a little bit easier to</p>
<p begin="03:18:17.040" end="03:18:21.520" style="s2">understand but keep in mind it doesn&#39;t</p>
<p begin="03:18:19.000" end="03:18:23.120" style="s2">actually impact how the command how the</p>
<p begin="03:18:21.520" end="03:18:24.600" style="s2">SQL statement actually runs so it</p>
<p begin="03:18:23.120" end="03:18:26.000" style="s2">doesn&#39;t matter but if you want to follow</p>
<p begin="03:18:24.600" end="03:18:27.479" style="s2">along with what I do I like to</p>
<p begin="03:18:26.000" end="03:18:30.640" style="s2">capitalize</p>
<p begin="03:18:27.479" end="03:18:32.560" style="s2">them now with SQL uh what we can do is</p>
<p begin="03:18:30.640" end="03:18:34.120" style="s2">when we perform a query we can rename</p>
<p begin="03:18:32.560" end="03:18:36.120" style="s2">any of these columns so if we find that</p>
<p begin="03:18:34.120" end="03:18:38.359" style="s2">this name is a little inconvenient and</p>
<p begin="03:18:36.120" end="03:18:40.319" style="s2">maybe uh you know renaming it makes it a</p>
<p begin="03:18:38.359" end="03:18:42.040" style="s2">little bit easy on our backend code to</p>
<p begin="03:18:40.319" end="03:18:44.439" style="s2">better interpret the data we can pick</p>
<p begin="03:18:42.040" end="03:18:45.920" style="s2">any column we want and rename it so</p>
<p begin="03:18:44.439" end="03:18:47.160" style="s2">let&#39;s say we&#39;re trying to fetch the ID</p>
<p begin="03:18:45.920" end="03:18:48.760" style="s2">column I&#39;m just going to run this we can</p>
<p begin="03:18:47.160" end="03:18:51.399" style="s2">see we grabb the ID column and it&#39;s</p>
<p begin="03:18:48.760" end="03:18:53.560" style="s2">named ID but let&#39;s say uh this confuses</p>
<p begin="03:18:51.399" end="03:18:55.560" style="s2">our back end because we&#39;re retrieving uh</p>
<p begin="03:18:53.560" end="03:18:57.520" style="s2">maybe data from another database that</p>
<p begin="03:18:55.560" end="03:18:59.439" style="s2">also uh you know for users or something</p>
<p begin="03:18:57.520" end="03:19:00.960" style="s2">and then we also have an ID field and we</p>
<p begin="03:18:59.439" end="03:19:03.080" style="s2">don&#39;t want them to get mixed up I can</p>
<p begin="03:19:00.960" end="03:19:06.399" style="s2">rename this column and we can rename it</p>
<p begin="03:19:03.080" end="03:19:07.800" style="s2">by using the as keyword so I say ID as</p>
<p begin="03:19:06.399" end="03:19:11.920" style="s2">and then specify the new name so I can</p>
<p begin="03:19:07.800" end="03:19:14.319" style="s2">name this products ID but now if I run</p>
<p begin="03:19:11.920" end="03:19:17.359" style="s2">this we can see that the column is Now</p>
<p begin="03:19:14.319" end="03:19:19.479" style="s2">Products ID instead of just ID and I can</p>
<p begin="03:19:17.359" end="03:19:22.479" style="s2">do this for any and as many columns as I</p>
<p begin="03:19:19.479" end="03:19:28.800" style="s2">want so if I wanted to rename the is</p>
<p begin="03:19:22.479" end="03:19:28.800" style="s2">sale uh column I can save it as on</p>
<p begin="03:19:29.960" end="03:19:34.359" style="s2">sale and so there you go guys it&#39;s</p>
<p begin="03:19:32.040" end="03:19:37.040" style="s2">really as simple as that um keep in mind</p>
<p begin="03:19:34.359" end="03:19:40.120" style="s2">I kind of continued with my normal SQL</p>
<p begin="03:19:37.040" end="03:19:41.439" style="s2">uh format uh of capitalizing the SQL</p>
<p begin="03:19:40.120" end="03:19:43.040" style="s2">specific keywords just because it makes</p>
<p begin="03:19:41.439" end="03:19:45.199" style="s2">it a little bit easier to</p>
<p begin="03:19:43.040" end="03:19:46.279" style="s2">read all right so let&#39;s clean this up a</p>
<p begin="03:19:45.199" end="03:19:48.960" style="s2">bit I&#39;m just going to change this back</p>
<p begin="03:19:46.279" end="03:19:50.120" style="s2">to St so that we can retrieve uh every</p>
<p begin="03:19:48.960" end="03:19:52.080" style="s2">single column I&#39;m just going to run that</p>
<p begin="03:19:50.120" end="03:19:54.199" style="s2">just to make sure nothing&#39;s broken and</p>
<p begin="03:19:52.080" end="03:19:55.960" style="s2">so till now we&#39;ve been retrieving every</p>
<p begin="03:19:54.199" end="03:19:58.000" style="s2">single entry in the table and that&#39;s</p>
<p begin="03:19:55.960" end="03:20:00.199" style="s2">because we&#39;ve provided no filter</p>
<p begin="03:19:58.000" end="03:20:02.680" style="s2">criteria no filter conditions so let&#39;s</p>
<p begin="03:20:00.199" end="03:20:04.239" style="s2">figure out how we can filter the</p>
<p begin="03:20:02.680" end="03:20:06.920" style="s2">specific rows that we want based off a</p>
<p begin="03:20:04.239" end="03:20:09.479" style="s2">certain criteria so let&#39;s say I want to</p>
<p begin="03:20:06.920" end="03:20:11.840" style="s2">match all entries that have a specific</p>
<p begin="03:20:09.479" end="03:20:13.359" style="s2">ID of something right and we know</p>
<p begin="03:20:11.840" end="03:20:15.880" style="s2">there&#39;s only going to be one entry that</p>
<p begin="03:20:13.359" end="03:20:17.920" style="s2">has a specific ID because the ID field</p>
<p begin="03:20:15.880" end="03:20:20.319" style="s2">is a primary key so we know that two</p>
<p begin="03:20:17.920" end="03:20:21.880" style="s2">different items can&#39;t have uh the same</p>
<p begin="03:20:20.319" end="03:20:23.680" style="s2">exact ID but you&#39;ll see one of the more</p>
<p begin="03:20:21.880" end="03:20:27.520" style="s2">common tasks when it comes to working</p>
<p begin="03:20:23.680" end="03:20:29.880" style="s2">with databases is uh retrieving a a row</p>
<p begin="03:20:27.520" end="03:20:31.199" style="s2">based off of a specific ID so you know a</p>
<p begin="03:20:29.880" end="03:20:33.680" style="s2">lot of times our backend will be like</p>
<p begin="03:20:31.199" end="03:20:36.120" style="s2">hey I want you to retrieve the product</p>
<p begin="03:20:33.680" end="03:20:39.359" style="s2">with an ID of 10 so how do we do that</p>
<p begin="03:20:36.120" end="03:20:41.479" style="s2">easy we add the keyword where then we</p>
<p begin="03:20:39.359" end="03:20:43.680" style="s2">specify the column that we&#39;re interested</p>
<p begin="03:20:41.479" end="03:20:47.040" style="s2">in uh that we want to match on so we&#39;re</p>
<p begin="03:20:43.680" end="03:20:49.160" style="s2">going to use the ID column</p>
<p begin="03:20:47.040" end="03:20:50.520" style="s2">and then we say ID equals and then we</p>
<p begin="03:20:49.160" end="03:20:52.800" style="s2">pass in the value it&#39;s really is that</p>
<p begin="03:20:50.520" end="03:20:54.880" style="s2">simple so if I want the ID of and so if</p>
<p begin="03:20:52.800" end="03:20:56.680" style="s2">I want to get the product with an ID of</p>
<p begin="03:20:54.880" end="03:20:58.680" style="s2">10 I just pass in</p>
<p begin="03:20:56.680" end="03:21:01.279" style="s2">10 and remember to make sure you have</p>
<p begin="03:20:58.680" end="03:21:03.880" style="s2">the semicolon at the end hit run and</p>
<p begin="03:21:01.279" end="03:21:06.080" style="s2">look at that we&#39;ve now got our product</p>
<p begin="03:21:03.880" end="03:21:07.760" style="s2">um that has the ID of 10 and then keep</p>
<p begin="03:21:06.080" end="03:21:09.479" style="s2">in mind just like we did before we can</p>
<p begin="03:21:07.760" end="03:21:11.399" style="s2">filter Down based off of just the fields</p>
<p begin="03:21:09.479" end="03:21:13.960" style="s2">we want so if we want just the ID and</p>
<p begin="03:21:11.399" end="03:21:18.560" style="s2">the name we can do that and it should</p>
<p begin="03:21:13.960" end="03:21:18.560" style="s2">work just fine we&#39;ll change this back</p>
<p begin="03:21:19.279" end="03:21:23.600" style="s2">and run that and so we got that uh if we</p>
<p begin="03:21:21.279" end="03:21:26.359" style="s2">want to grab the ID of</p>
<p begin="03:21:23.600" end="03:21:29.560" style="s2">product with an ID of 3 run that and so</p>
<p begin="03:21:26.359" end="03:21:31.840" style="s2">now we get the product with an ID of</p>
<p begin="03:21:29.560" end="03:21:35.040" style="s2">three but what&#39;s nice about this is that</p>
<p begin="03:21:31.840" end="03:21:37.960" style="s2">we can choose any column to match on so</p>
<p begin="03:21:35.040" end="03:21:39.439" style="s2">uh let&#39;s say that uh I first dump</p>
<p begin="03:21:37.960" end="03:21:43.399" style="s2">everything so I can just see what I&#39;ve</p>
<p begin="03:21:39.439" end="03:21:46.000" style="s2">got and let&#39;s say I want to match on uh</p>
<p begin="03:21:43.399" end="03:21:48.080" style="s2">any product that has an inventory of</p>
<p begin="03:21:46.000" end="03:21:49.720" style="s2">zero so that&#39;s basically saying like</p>
<p begin="03:21:48.080" end="03:21:51.920" style="s2">which products do we not have inventory</p>
<p begin="03:21:49.720" end="03:21:54.680" style="s2">of so that maybe we can place an order</p>
<p begin="03:21:51.920" end="03:21:57.279" style="s2">well we can just say where and once</p>
<p begin="03:21:54.680" end="03:22:01.920" style="s2">again I&#39;m capitalizing the SQL keywords</p>
<p begin="03:21:57.279" end="03:22:04.960" style="s2">and I can say where inventory equals</p>
<p begin="03:22:01.920" end="03:22:06.160" style="s2">zero and so now we&#39;ve got we&#39;ve got a</p>
<p begin="03:22:04.960" end="03:22:08.640" style="s2">list of products where we need to place</p>
<p begin="03:22:06.160" end="03:22:10.279" style="s2">an orders really is as simple as that</p>
<p begin="03:22:08.640" end="03:22:12.239" style="s2">now working with numbers you just place</p>
<p begin="03:22:10.279" end="03:22:14.359" style="s2">the number so any column that uses</p>
<p begin="03:22:12.239" end="03:22:16.199" style="s2">integers or Floats or anything like that</p>
<p begin="03:22:14.359" end="03:22:18.439" style="s2">you could just say equals that however</p>
<p begin="03:22:16.199" end="03:22:20.600" style="s2">if you want want to match based off of</p>
<p begin="03:22:18.439" end="03:22:22.120" style="s2">name uh the name column it&#39;s going to be</p>
<p begin="03:22:20.600" end="03:22:24.120" style="s2">a little bit different because the name</p>
<p begin="03:22:22.120" end="03:22:25.640" style="s2">column uses you know varying characters</p>
<p begin="03:22:24.120" end="03:22:28.479" style="s2">or text or you know what would be a</p>
<p begin="03:22:25.640" end="03:22:29.880" style="s2">string in Python and so for those what</p>
<p begin="03:22:28.479" end="03:22:31.640" style="s2">we have to do is first of all we&#39;ll use</p>
<p begin="03:22:29.880" end="03:22:34.319" style="s2">the column</p>
<p begin="03:22:31.640" end="03:22:36.479" style="s2">name equals but we have to wrap it in</p>
<p begin="03:22:34.319" end="03:22:38.479" style="s2">quotes single quotes to be specific so</p>
<p begin="03:22:36.479" end="03:22:40.960" style="s2">if I want to get the uh product with the</p>
<p begin="03:22:38.479" end="03:22:43.319" style="s2">uh with the name of TV I have to put in</p>
<p begin="03:22:40.960" end="03:22:44.960" style="s2">single quotes search for it and then now</p>
<p begin="03:22:43.319" end="03:22:47.359" style="s2">we get that so keep that in mind because</p>
<p begin="03:22:44.960" end="03:22:49.160" style="s2">if you remove the quotes I believe you</p>
<p begin="03:22:47.359" end="03:22:50.560" style="s2">should get an error yep and you do get</p>
<p begin="03:22:49.160" end="03:22:52.279" style="s2">an error so just make sure when it comes</p>
<p begin="03:22:50.560" end="03:22:55.319" style="s2">to working with varying characters or</p>
<p begin="03:22:52.279" end="03:22:57.399" style="s2">any kind of text you want to wrap it in</p>
<p begin="03:22:55.319" end="03:22:59.279" style="s2">quotes now just like with most</p>
<p begin="03:22:57.399" end="03:23:01.239" style="s2">programming languages we do have</p>
<p begin="03:22:59.279" end="03:23:02.800" style="s2">operators and so till now we&#39;ve just</p>
<p begin="03:23:01.239" end="03:23:05.479" style="s2">been working with the equals operator so</p>
<p begin="03:23:02.800" end="03:23:07.720" style="s2">if I need to get um you know any product</p>
<p begin="03:23:05.479" end="03:23:11.640" style="s2">that has a price of you know 20 I would</p>
<p begin="03:23:07.720" end="03:23:12.680" style="s2">just say where price equals 20 and I</p>
<p begin="03:23:11.640" end="03:23:13.720" style="s2">don&#39;t look it looks like I don&#39;t</p>
<p begin="03:23:12.680" end="03:23:15.080" style="s2">actually have any items with the price</p>
<p begin="03:23:13.720" end="03:23:17.040" style="s2">of 20 so I&#39;m just going to do 200</p>
<p begin="03:23:15.080" end="03:23:19.359" style="s2">because I see that the TV is 200</p>
<p begin="03:23:17.040" end="03:23:21.520" style="s2">if we run that it works just fine</p>
<p begin="03:23:19.359" end="03:23:24.000" style="s2">however What If instead of doing this I</p>
<p begin="03:23:21.520" end="03:23:26.600" style="s2">want to retrieve all of the items that</p>
<p begin="03:23:24.000" end="03:23:28.520" style="s2">have a price uh of greater than 50 how</p>
<p begin="03:23:26.600" end="03:23:30.000" style="s2">do I do that well it really is</p>
<p begin="03:23:28.520" end="03:23:32.560" style="s2">fundamentally no different than how we</p>
<p begin="03:23:30.000" end="03:23:35.359" style="s2">do it in Python so I could say where and</p>
<p begin="03:23:32.560" end="03:23:37.880" style="s2">I&#39;ll say price is and then we have</p>
<p begin="03:23:35.359" end="03:23:41.000" style="s2">greater than 50 so this is going to grab</p>
<p begin="03:23:37.880" end="03:23:43.120" style="s2">any item that&#39;s basically 51 or</p>
<p begin="03:23:41.000" end="03:23:45.239" style="s2">higher and it&#39;s non-inclusive so it</p>
<p begin="03:23:43.120" end="03:23:46.760" style="s2">doesn&#39;t include 50 and so now look it</p>
<p begin="03:23:45.239" end="03:23:48.920" style="s2">looks like it grabbed all of the items</p>
<p begin="03:23:46.760" end="03:23:51.319" style="s2">that cost more than 50</p>
<p begin="03:23:48.920" end="03:23:54.239" style="s2">bucks um but if I wanted to say greater</p>
<p begin="03:23:51.319" end="03:23:57.120" style="s2">than or equal to 50 I can</p>
<p begin="03:23:54.239" end="03:23:59.120" style="s2">say just greater than or equal to 50 if</p>
<p begin="03:23:57.120" end="03:24:00.960" style="s2">I run this we can see once again it</p>
<p begin="03:23:59.120" end="03:24:02.720" style="s2">works just fine but I don&#39;t have any</p>
<p begin="03:24:00.960" end="03:24:04.920" style="s2">products that are priced at 50 so I&#39;ll</p>
<p begin="03:24:02.720" end="03:24:06.680" style="s2">try this again with just 80 so we&#39;ll say</p>
<p begin="03:24:04.920" end="03:24:09.399" style="s2">greater than</p>
<p begin="03:24:06.680" end="03:24:12.120" style="s2">80 it should not return this one because</p>
<p begin="03:24:09.399" end="03:24:13.840" style="s2">80 is not greater than 80 so we can see</p>
<p begin="03:24:12.120" end="03:24:16.479" style="s2">the 80 is gone but then if I do greater</p>
<p begin="03:24:13.840" end="03:24:18.279" style="s2">than or equal to we can see the 80 is</p>
<p begin="03:24:16.479" end="03:24:19.960" style="s2">back and we get the same thing with the</p>
<p begin="03:24:18.279" end="03:24:21.680" style="s2">less than and less than equal to so I</p>
<p begin="03:24:19.960" end="03:24:24.680" style="s2">could say less</p>
<p begin="03:24:21.680" end="03:24:24.680" style="s2">than</p>
<p begin="03:24:25.840" end="03:24:30.640" style="s2">80 and I could say less than or equal to</p>
<p begin="03:24:29.479" end="03:24:32.960" style="s2">80 as</p>
<p begin="03:24:30.640" end="03:24:35.800" style="s2">well and then last operator that I want</p>
<p begin="03:24:32.960" end="03:24:38.000" style="s2">to discuss is the not operator so if I</p>
<p begin="03:24:35.800" end="03:24:41.760" style="s2">wanted to grab any product that does not</p>
<p begin="03:24:38.000" end="03:24:43.800" style="s2">have a uh inventory of zero I can say</p>
<p begin="03:24:41.760" end="03:24:45.720" style="s2">where</p>
<p begin="03:24:43.800" end="03:24:49.399" style="s2">inventory and we have two different ways</p>
<p begin="03:24:45.720" end="03:24:51.120" style="s2">of doing this I can say not equals so</p>
<p begin="03:24:49.399" end="03:24:52.319" style="s2">this is kind of the similar syntax that</p>
<p begin="03:24:51.120" end="03:24:54.520" style="s2">you see in some other programming</p>
<p begin="03:24:52.319" end="03:24:55.840" style="s2">languages not python but um other</p>
<p begin="03:24:54.520" end="03:24:58.479" style="s2">programming languages I could say not</p>
<p begin="03:24:55.840" end="03:25:00.920" style="s2">equals and then zero this is going to</p>
<p begin="03:24:58.479" end="03:25:03.520" style="s2">give me every product that we do have</p>
<p begin="03:25:00.920" end="03:25:05.880" style="s2">adequate stock for and so now we see we</p>
<p begin="03:25:03.520" end="03:25:08.560" style="s2">get no columns or sorry no rows with an</p>
<p begin="03:25:05.880" end="03:25:11.560" style="s2">inventory of zero but we can also</p>
<p begin="03:25:08.560" end="03:25:12.960" style="s2">use this syntax so the greater than</p>
<p begin="03:25:11.560" end="03:25:14.800" style="s2">sorry the less than and then the greater</p>
<p begin="03:25:12.960" end="03:25:16.319" style="s2">than we run that we should get the same</p>
<p begin="03:25:14.800" end="03:25:19.080" style="s2">exact result all right so let&#39;s move</p>
<p begin="03:25:16.319" end="03:25:21.680" style="s2">move on to uh performing multiple</p>
<p begin="03:25:19.080" end="03:25:22.880" style="s2">operators so let&#39;s say I want to grab</p>
<p begin="03:25:21.680" end="03:25:26.720" style="s2">any</p>
<p begin="03:25:22.880" end="03:25:28.399" style="s2">item that we have inventory of so any</p>
<p begin="03:25:26.720" end="03:25:31.720" style="s2">any item that has an inventory greater</p>
<p begin="03:25:28.399" end="03:25:33.840" style="s2">than zero that also costs more than $10</p>
<p begin="03:25:31.720" end="03:25:35.239" style="s2">how would we do that and I&#39;m sure you</p>
<p begin="03:25:33.840" end="03:25:36.880" style="s2">guys can probably take a guess at this</p>
<p begin="03:25:35.239" end="03:25:40.359" style="s2">but we&#39;ll do</p>
<p begin="03:25:36.880" end="03:25:41.920" style="s2">inventory greater than zero and then how</p>
<p begin="03:25:40.359" end="03:25:43.439" style="s2">do we add that next statement where we</p>
<p begin="03:25:41.920" end="03:25:46.720" style="s2">say greater than I forgot what I said</p>
<p begin="03:25:43.439" end="03:25:48.640" style="s2">greater than 20 so we could just say</p>
<p begin="03:25:46.720" end="03:25:50.960" style="s2">and simple as that we do and and then we</p>
<p begin="03:25:48.640" end="03:25:53.680" style="s2">pass in the next criteria we&#39;ll say and</p>
<p begin="03:25:50.960" end="03:25:57.000" style="s2">price is greater than</p>
<p begin="03:25:53.680" end="03:25:58.800" style="s2">20 let&#39;s try that out and I realized I</p>
<p begin="03:25:57.000" end="03:26:00.160" style="s2">forgot the wear keyword here so that&#39;s</p>
<p begin="03:25:58.800" end="03:26:02.479" style="s2">why it&#39;s throwing an</p>
<p begin="03:26:00.160" end="03:26:04.560" style="s2">error all right and so now we got every</p>
<p begin="03:26:02.479" end="03:26:06.640" style="s2">single product that has a inventory</p>
<p begin="03:26:04.560" end="03:26:07.600" style="s2">greater than zero and a price of greater</p>
<p begin="03:26:06.640" end="03:26:10.399" style="s2">than</p>
<p begin="03:26:07.600" end="03:26:12.199" style="s2">20 and just like with an and operator we</p>
<p begin="03:26:10.399" end="03:26:14.920" style="s2">also have an or</p>
<p begin="03:26:12.199" end="03:26:17.040" style="s2">operator uh and so if I want to see any</p>
<p begin="03:26:14.920" end="03:26:20.080" style="s2">product that is either</p>
<p begin="03:26:17.040" end="03:26:25.840" style="s2">greater than $100 or less than 20 I can</p>
<p begin="03:26:20.080" end="03:26:27.680" style="s2">say where where price is greater than</p>
<p begin="03:26:25.840" end="03:26:31.960" style="s2">100</p>
<p begin="03:26:27.680" end="03:26:34.080" style="s2">or price is less than 20 and so now we</p>
<p begin="03:26:31.960" end="03:26:37.239" style="s2">can use two criterias and as long as it</p>
<p begin="03:26:34.080" end="03:26:39.840" style="s2">matches one one or both of the criterias</p>
<p begin="03:26:37.239" end="03:26:41.560" style="s2">it&#39;s going to return that result all</p>
<p begin="03:26:39.840" end="03:26:44.560" style="s2">right let&#39;s clean this up a bit and</p>
<p begin="03:26:41.560" end="03:26:46.600" style="s2">let&#39;s say I want to retrieve uh products</p>
<p begin="03:26:44.560" end="03:26:50.239" style="s2">with an ID of one two and three how</p>
<p begin="03:26:46.600" end="03:26:54.040" style="s2">would I do that well I can do uh where</p>
<p begin="03:26:50.239" end="03:26:56.239" style="s2">where ID equals 1 and then we&#39;d have to</p>
<p begin="03:26:54.040" end="03:26:58.600" style="s2">do an or statement and then we&#39;d say ID</p>
<p begin="03:26:56.239" end="03:26:58.600" style="s2">equals</p>
<p begin="03:26:59.359" end="03:27:07.120" style="s2">2 or ID equals three if we run this it</p>
<p begin="03:27:04.600" end="03:27:09.080" style="s2">should grab just those three items now</p>
<p begin="03:27:07.120" end="03:27:11.960" style="s2">there&#39;s another way to perform this kind</p>
<p begin="03:27:09.080" end="03:27:14.160" style="s2">of operation uh and instead of using all</p>
<p begin="03:27:11.960" end="03:27:15.359" style="s2">of these ID equals 1 iD equals 2 and</p>
<p begin="03:27:14.160" end="03:27:18.080" style="s2">then just combining them with or</p>
<p begin="03:27:15.359" end="03:27:20.199" style="s2">statements we can use the in operator so</p>
<p begin="03:27:18.080" end="03:27:24.080" style="s2">let me explain how the in operator</p>
<p begin="03:27:20.199" end="03:27:25.960" style="s2">Works what we can do is we can say ID in</p>
<p begin="03:27:24.080" end="03:27:31.040" style="s2">and then we can provide a list of values</p>
<p begin="03:27:25.960" end="03:27:32.680" style="s2">so I can say one two and three and once</p>
<p begin="03:27:31.040" end="03:27:34.920" style="s2">again I forgot the wear</p>
<p begin="03:27:32.680" end="03:27:36.199" style="s2">keyword and so you if you run this you</p>
<p begin="03:27:34.920" end="03:27:37.680" style="s2">can see that we got the three items and</p>
<p begin="03:27:36.199" end="03:27:39.840" style="s2">you can see that that&#39;s way more</p>
<p begin="03:27:37.680" end="03:27:41.279" style="s2">readable instead of having to type out</p>
<p begin="03:27:39.840" end="03:27:42.399" style="s2">that entire command and let me show you</p>
<p begin="03:27:41.279" end="03:27:43.800" style="s2">the previous command I shouldn&#39;t have</p>
<p begin="03:27:42.399" end="03:27:46.439" style="s2">deleted it so I&#39;m going to use this</p>
<p begin="03:27:43.800" end="03:27:48.359" style="s2">scratch Pad just to show you guys and so</p>
<p begin="03:27:46.439" end="03:27:50.600" style="s2">before we did where</p>
<p begin="03:27:48.359" end="03:27:56.680" style="s2">ID equal</p>
<p begin="03:27:50.600" end="03:27:58.800" style="s2">1 or ID equal 2 or ID equals 3 so which</p>
<p begin="03:27:56.680" end="03:28:00.560" style="s2">one do you think is more readable so</p>
<p begin="03:27:58.800" end="03:28:02.040" style="s2">both of them do the same exact thing</p>
<p begin="03:28:00.560" end="03:28:05.439" style="s2">however one&#39;s a little bit easier to</p>
<p begin="03:28:02.040" end="03:28:07.880" style="s2">read and it cuts down on the number of</p>
<p begin="03:28:05.439" end="03:28:10.319" style="s2">keywords that you have to</p>
<p begin="03:28:07.880" end="03:28:12.040" style="s2">type now we before we proceed any</p>
<p begin="03:28:10.319" end="03:28:14.680" style="s2">further I&#39;m just going to retrieve all</p>
<p begin="03:28:12.040" end="03:28:16.560" style="s2">my databases sorry all my entries once</p>
<p begin="03:28:14.680" end="03:28:18.520" style="s2">again and what I&#39;m going to going to do</p>
<p begin="03:28:16.560" end="03:28:20.680" style="s2">is I&#39;m going to add a few</p>
<p begin="03:28:18.520" end="03:28:23.239" style="s2">items and so all of these items are</p>
<p begin="03:28:20.680" end="03:28:25.600" style="s2">going to be named uh very specifically</p>
<p begin="03:28:23.239" end="03:28:26.880" style="s2">so I&#39;ve got a TV items uh and so I&#39;m</p>
<p begin="03:28:25.600" end="03:28:29.640" style="s2">going to call I&#39;m going to create one</p>
<p begin="03:28:26.880" end="03:28:33.439" style="s2">called TV</p>
<p begin="03:28:29.640" end="03:28:35.359" style="s2">blue and then let me give this a</p>
<p begin="03:28:33.439" end="03:28:37.359" style="s2">price and then everything else I can</p>
<p begin="03:28:35.359" end="03:28:40.600" style="s2">leave default and then I&#39;m going to</p>
<p begin="03:28:37.359" end="03:28:40.600" style="s2">create a TV</p>
<p begin="03:28:40.960" end="03:28:45.479" style="s2">red and then a TV</p>
<p begin="03:28:43.680" end="03:28:48.399" style="s2">yellow and then I&#39;m going to save these</p>
<p begin="03:28:45.479" end="03:28:50.199" style="s2">to our datab base and uh I forgot to</p>
<p begin="03:28:48.399" end="03:28:52.720" style="s2">give it a price we&#39;ll just say all of</p>
<p begin="03:28:50.199" end="03:28:55.359" style="s2">them cost actually let&#39;s give them</p>
<p begin="03:28:52.720" end="03:28:56.720" style="s2">different prices so this one will be 200</p>
<p begin="03:28:55.359" end="03:28:59.319" style="s2">yellow no one likes anything that&#39;s</p>
<p begin="03:28:56.720" end="03:29:02.000" style="s2">yellow so I&#39;ll give it a value of</p>
<p begin="03:28:59.319" end="03:29:04.720" style="s2">50 and we&#39;ll save to our database all</p>
<p begin="03:29:02.000" end="03:29:07.399" style="s2">right so that&#39;s in our database now and</p>
<p begin="03:29:04.720" end="03:29:08.880" style="s2">we know how to filter based off of items</p>
<p begin="03:29:07.399" end="03:29:10.800" style="s2">uh and we can use the wear keyword and</p>
<p begin="03:29:08.880" end="03:29:13.640" style="s2">we can do it for even columns that are</p>
<p begin="03:29:10.800" end="03:29:16.239" style="s2">based off of characters like the name</p>
<p begin="03:29:13.640" end="03:29:19.920" style="s2">column so let&#39;s say that I want to</p>
<p begin="03:29:16.239" end="03:29:23.000" style="s2">retrieve everything uh all of my TVs so</p>
<p begin="03:29:19.920" end="03:29:25.359" style="s2">this TV this TV this TV this TV how</p>
<p begin="03:29:23.000" end="03:29:27.000" style="s2">would we do that well we can&#39;t exactly</p>
<p begin="03:29:25.359" end="03:29:30.520" style="s2">use the wear statement because I can say</p>
<p begin="03:29:27.000" end="03:29:32.359" style="s2">where name and then I mean we have</p>
<p begin="03:29:30.520" end="03:29:35.399" style="s2">equals we have greater than we have less</p>
<p begin="03:29:32.359" end="03:29:38.160" style="s2">than but none of those really do what we</p>
<p begin="03:29:35.399" end="03:29:39.640" style="s2">want to do uh so how can we match just</p>
<p begin="03:29:38.160" end="03:29:43.279" style="s2">on all of our</p>
<p begin="03:29:39.640" end="03:29:44.439" style="s2">TVs well we can use our like operator so</p>
<p begin="03:29:43.279" end="03:29:48.040" style="s2">we could say</p>
<p begin="03:29:44.439" end="03:29:48.040" style="s2">where name</p>
<p begin="03:29:48.800" end="03:29:53.720" style="s2">like and then what we can do is we can</p>
<p begin="03:29:50.560" end="03:29:55.279" style="s2">pass in something very specific so um we</p>
<p begin="03:29:53.720" end="03:29:56.680" style="s2">pass in the text that we want but then</p>
<p begin="03:29:55.279" end="03:29:59.399" style="s2">we can start using things that are kind</p>
<p begin="03:29:56.680" end="03:30:02.000" style="s2">of like regular Expressions uh like we</p>
<p begin="03:29:59.399" end="03:30:04.359" style="s2">have in Python so I could say TV and</p>
<p begin="03:30:02.000" end="03:30:07.000" style="s2">then percent sign and what this is</p>
<p begin="03:30:04.359" end="03:30:10.279" style="s2">saying is that I want to grab every row</p>
<p begin="03:30:07.000" end="03:30:12.279" style="s2">that has a name that starts with TV and</p>
<p begin="03:30:10.279" end="03:30:13.960" style="s2">then the percent sign means any random</p>
<p begin="03:30:12.279" end="03:30:15.520" style="s2">characters afterwards so this is just</p>
<p begin="03:30:13.960" end="03:30:18.279" style="s2">saying I want any product that has a</p>
<p begin="03:30:15.520" end="03:30:20.359" style="s2">name that&#39;s start with TV so if I run</p>
<p begin="03:30:18.279" end="03:30:22.479" style="s2">this you can see that we were able to</p>
<p begin="03:30:20.359" end="03:30:25.640" style="s2">grab all the TV so it&#39;s very similar to</p>
<p begin="03:30:22.479" end="03:30:28.239" style="s2">regular expressions and if I remove this</p>
<p begin="03:30:25.640" end="03:30:29.880" style="s2">and instead just uh you know add in the</p>
<p begin="03:30:28.239" end="03:30:31.800" style="s2">letter A this is going to return all of</p>
<p begin="03:30:29.880" end="03:30:33.040" style="s2">my products that start with the letter a</p>
<p begin="03:30:31.800" end="03:30:34.720" style="s2">and I don&#39;t have anything but if I</p>
<p begin="03:30:33.040" end="03:30:36.720" style="s2">change this I know I have one product</p>
<p begin="03:30:34.720" end="03:30:38.760" style="s2">that starts with an R so if I try that</p>
<p begin="03:30:36.720" end="03:30:40.720" style="s2">you can see that we get the remote and</p>
<p begin="03:30:38.760" end="03:30:43.439" style="s2">we can also flip this so I can</p>
<p begin="03:30:40.720" end="03:30:44.880" style="s2">say you know percent sign and then pass</p>
<p begin="03:30:43.439" end="03:30:47.560" style="s2">in some letters at the end so if I want</p>
<p begin="03:30:44.880" end="03:30:50.120" style="s2">to grab anything that ends in the letter</p>
<p begin="03:30:47.560" end="03:30:52.359" style="s2">N I can run that looks like I&#39;ve got</p>
<p begin="03:30:50.120" end="03:30:54.479" style="s2">nothing that ends in the letter N maybe</p>
<p begin="03:30:52.359" end="03:30:56.560" style="s2">e right and so now we get all of the</p>
<p begin="03:30:54.479" end="03:30:58.120" style="s2">items that end in an e right and then we</p>
<p begin="03:30:56.560" end="03:31:00.279" style="s2">also have the ability to do the opposite</p>
<p begin="03:30:58.120" end="03:31:01.760" style="s2">so this matches anything that ends in an</p>
<p begin="03:31:00.279" end="03:31:05.160" style="s2">e but if I want to get every line that</p>
<p begin="03:31:01.760" end="03:31:06.080" style="s2">doesn&#39;t end in an E I can say not but</p>
<p begin="03:31:05.160" end="03:31:07.720" style="s2">that&#39;s just going to give me the</p>
<p begin="03:31:06.080" end="03:31:10.120" style="s2">opposite so that&#39;s going to give me</p>
<p begin="03:31:07.720" end="03:31:11.680" style="s2">every row except for those two rows and</p>
<p begin="03:31:10.120" end="03:31:13.800" style="s2">what we can also do is if I want to get</p>
<p begin="03:31:11.680" end="03:31:16.439" style="s2">any line that has the letter en n</p>
<p begin="03:31:13.800" end="03:31:19.199" style="s2">somewhere in the name I can do the</p>
<p begin="03:31:16.439" end="03:31:20.520" style="s2">percent sign before and after and so we</p>
<p begin="03:31:19.199" end="03:31:22.640" style="s2">just look for these two characters</p>
<p begin="03:31:20.520" end="03:31:25.560" style="s2">anywhere in the name so if I run this</p>
<p begin="03:31:22.640" end="03:31:27.120" style="s2">and it looks like I got an error and I&#39;m</p>
<p begin="03:31:25.560" end="03:31:28.840" style="s2">not sure what happened there but I</p>
<p begin="03:31:27.120" end="03:31:30.399" style="s2">changed this I I just deleted and</p>
<p begin="03:31:28.840" end="03:31:31.479" style="s2">retyped it and so now it no longer gives</p>
<p begin="03:31:30.399" end="03:31:33.880" style="s2">me an error so I&#39;m not really sure why</p>
<p begin="03:31:31.479" end="03:31:35.239" style="s2">that happened um could be a bug of some</p>
<p begin="03:31:33.880" end="03:31:37.680" style="s2">kind or maybe there&#39;s a typo I didn&#39;t</p>
<p begin="03:31:35.239" end="03:31:39.399" style="s2">see but this is going to grab any text</p>
<p begin="03:31:37.680" end="03:31:40.880" style="s2">uh that has the letters e n and then it</p>
<p begin="03:31:39.399" end="03:31:42.680" style="s2">can have any characters before any</p>
<p begin="03:31:40.880" end="03:31:45.399" style="s2">characters after and then since we have</p>
<p begin="03:31:42.680" end="03:31:47.120" style="s2">the not operator then it&#39;s going to um</p>
<p begin="03:31:45.399" end="03:31:48.920" style="s2">do the exact opposite but then I can</p>
<p begin="03:31:47.120" end="03:31:51.840" style="s2">also remove this so I can grab any lines</p>
<p begin="03:31:48.920" end="03:31:51.840" style="s2">that match just</p>
<p begin="03:31:52.600" end="03:31:56.720" style="s2">this and then it looks like once again I</p>
<p begin="03:31:55.040" end="03:31:59.800" style="s2">get the same exact</p>
<p begin="03:31:56.720" end="03:32:02.160" style="s2">error okay there we</p>
<p begin="03:31:59.800" end="03:32:04.279" style="s2">go now when we make a query to our</p>
<p begin="03:32:02.160" end="03:32:06.720" style="s2">postcrush database we can also specify</p>
<p begin="03:32:04.279" end="03:32:08.279" style="s2">how we want to order the results now by</p>
<p begin="03:32:06.720" end="03:32:11.160" style="s2">default it looks like it&#39;s just going</p>
<p begin="03:32:08.279" end="03:32:13.359" style="s2">based off of uh the ID but it&#39;s not</p>
<p begin="03:32:11.160" end="03:32:15.359" style="s2">necessarily going to be like that and so</p>
<p begin="03:32:13.359" end="03:32:17.359" style="s2">it&#39;s better to actually tell postris how</p>
<p begin="03:32:15.359" end="03:32:19.080" style="s2">you want to order the products so in</p>
<p begin="03:32:17.359" end="03:32:20.840" style="s2">this case I&#39;ve got no filter criteria</p>
<p begin="03:32:19.080" end="03:32:24.279" style="s2">I&#39;m just returning everything and let&#39;s</p>
<p begin="03:32:20.840" end="03:32:26.000" style="s2">say I want to filter or order the um the</p>
<p begin="03:32:24.279" end="03:32:28.880" style="s2">products that are returned based off of</p>
<p begin="03:32:26.000" end="03:32:31.800" style="s2">price so if I say</p>
<p begin="03:32:28.880" end="03:32:33.319" style="s2">order buy I can then specify the price</p>
<p begin="03:32:31.800" end="03:32:36.640" style="s2">column so let&#39;s see what happens when I</p>
<p begin="03:32:33.319" end="03:32:38.120" style="s2">run this right we can see that it looks</p>
<p begin="03:32:36.640" end="03:32:40.439" style="s2">like it starts at the lowest price and</p>
<p begin="03:32:38.120" end="03:32:44.680" style="s2">then Works its way up so by default when</p>
<p begin="03:32:40.439" end="03:32:46.479" style="s2">you specify the order by um keyword and</p>
<p begin="03:32:44.680" end="03:32:48.600" style="s2">then specify the column it does it in an</p>
<p begin="03:32:46.479" end="03:32:50.080" style="s2">ascending order uh and so you could</p>
<p begin="03:32:48.600" end="03:32:53.000" style="s2">specify the order at which you want to</p>
<p begin="03:32:50.080" end="03:32:55.279" style="s2">go uh the direction I guess by saying</p>
<p begin="03:32:53.000" end="03:32:56.439" style="s2">ASC so this means ascending so this</p>
<p begin="03:32:55.279" end="03:32:58.160" style="s2">shouldn&#39;t change anything because</p>
<p begin="03:32:56.439" end="03:33:01.120" style="s2">postgress by default is going to always</p>
<p begin="03:32:58.160" end="03:33:03.120" style="s2">do it um in an ascending order so if I</p>
<p begin="03:33:01.120" end="03:33:05.439" style="s2">run this nothing changes however if I</p>
<p begin="03:33:03.120" end="03:33:08.479" style="s2">want to do this in a descending order I</p>
<p begin="03:33:05.439" end="03:33:09.800" style="s2">can say DC for descending so now it&#39;s</p>
<p begin="03:33:08.479" end="03:33:11.720" style="s2">going to start at the most expensive</p>
<p begin="03:33:09.800" end="03:33:13.199" style="s2">price and then work its way down now</p>
<p begin="03:33:11.720" end="03:33:16.199" style="s2">let&#39;s change this and let&#39;s say we want</p>
<p begin="03:33:13.199" end="03:33:17.720" style="s2">to order by inventory and I want to see</p>
<p begin="03:33:16.199" end="03:33:19.880" style="s2">which products we have the most of so</p>
<p begin="03:33:17.720" end="03:33:21.160" style="s2">I&#39;ll say inventory and then descending</p>
<p begin="03:33:19.880" end="03:33:23.479" style="s2">because we want to start at the highest</p>
<p begin="03:33:21.160" end="03:33:25.160" style="s2">value and work our way down so I&#39;ll run</p>
<p begin="03:33:23.479" end="03:33:26.439" style="s2">this and then we can see it starts at</p>
<p begin="03:33:25.160" end="03:33:27.840" style="s2">the highest one and then Works its way</p>
<p begin="03:33:26.439" end="03:33:30.160" style="s2">down but we&#39;ve got a whole bunch of</p>
<p begin="03:33:27.840" end="03:33:33.000" style="s2">zeros uh and let&#39;s say that between</p>
<p begin="03:33:30.160" end="03:33:36.080" style="s2">these guys I also want to uh specify a</p>
<p begin="03:33:33.000" end="03:33:38.960" style="s2">tie breaker of some kind we can also uh</p>
<p begin="03:33:36.080" end="03:33:41.279" style="s2">specify the order uh using a second</p>
<p begin="03:33:38.960" end="03:33:43.680" style="s2">column for these tie Breakers so I can</p>
<p begin="03:33:41.279" end="03:33:45.279" style="s2">pass in another column and so let&#39;s say</p>
<p begin="03:33:43.680" end="03:33:49.000" style="s2">that anytime there&#39;s a tie I wanted to</p>
<p begin="03:33:45.279" end="03:33:50.479" style="s2">then order by uh let&#39;s say price so I&#39;ll</p>
<p begin="03:33:49.000" end="03:33:53.800" style="s2">say</p>
<p begin="03:33:50.479" end="03:33:56.680" style="s2">price and then we&#39;ll say uh the cheapest</p>
<p begin="03:33:53.800" end="03:33:58.479" style="s2">price uh so ascending now ascending is</p>
<p begin="03:33:56.680" end="03:34:01.680" style="s2">always the default so we can just delete</p>
<p begin="03:33:58.479" end="03:34:03.880" style="s2">that keyword and so let&#39;s run this now</p>
<p begin="03:34:01.680" end="03:34:06.479" style="s2">and I forgot to put a comma so after</p>
<p begin="03:34:03.880" end="03:34:09.040" style="s2">each uh column that you want to sort by</p>
<p begin="03:34:06.479" end="03:34:10.600" style="s2">you have to do a Comm and so now we got</p>
<p begin="03:34:09.040" end="03:34:12.319" style="s2">all of our data and so let&#39;s take a look</p>
<p begin="03:34:10.600" end="03:34:13.760" style="s2">and see if this actually worked so we</p>
<p begin="03:34:12.319" end="03:34:16.399" style="s2">can see we&#39;re sorting based off of</p>
<p begin="03:34:13.760" end="03:34:19.000" style="s2">inventory then we get down to zero</p>
<p begin="03:34:16.399" end="03:34:20.479" style="s2">so these are all tied so we take a look</p>
<p begin="03:34:19.000" end="03:34:22.239" style="s2">at the second column that we pass in</p>
<p begin="03:34:20.479" end="03:34:24.120" style="s2">this case we&#39;re looking at the cheapest</p>
<p begin="03:34:22.239" end="03:34:25.800" style="s2">price and so if we see the first one</p>
<p begin="03:34:24.120" end="03:34:29.479" style="s2">looks like the cheapest price is two</p>
<p begin="03:34:25.800" end="03:34:32.279" style="s2">then it goes up to 4 10 30 40 50 80 100</p>
<p begin="03:34:29.479" end="03:34:34.840" style="s2">200 and you can pass in as many columns</p>
<p begin="03:34:32.279" end="03:34:36.520" style="s2">as you want uh for your uh sorting</p>
<p begin="03:34:34.840" end="03:34:38.560" style="s2">criteria you don&#39;t have to just stick</p>
<p begin="03:34:36.520" end="03:34:40.399" style="s2">with two and it&#39;s really just a matter</p>
<p begin="03:34:38.560" end="03:34:41.640" style="s2">of doing a comma and then passing in the</p>
<p begin="03:34:40.399" end="03:34:43.840" style="s2">next column and then whatever the</p>
<p begin="03:34:41.640" end="03:34:46.120" style="s2">criteria is and you&#39;ll see that one of</p>
<p begin="03:34:43.840" end="03:34:50.720" style="s2">the common things to do is let&#39;s say we</p>
<p begin="03:34:46.120" end="03:34:52.520" style="s2">want to get um the most recent products</p>
<p begin="03:34:50.720" end="03:34:54.439" style="s2">well I think it makes sense to just sort</p>
<p begin="03:34:52.520" end="03:34:55.640" style="s2">based off create so that&#39;s a time stamp</p>
<p begin="03:34:54.439" end="03:34:58.120" style="s2">for when the product was created so</p>
<p begin="03:34:55.640" end="03:34:59.880" style="s2">let&#39;s see what was the most recent</p>
<p begin="03:34:58.120" end="03:35:05.199" style="s2">products that were put into our database</p>
<p begin="03:34:59.880" end="03:35:06.920" style="s2">we can just say created _ at and what</p>
<p begin="03:35:05.199" end="03:35:08.800" style="s2">order do you think we need do we need</p>
<p begin="03:35:06.920" end="03:35:10.760" style="s2">ascending or descending if you don&#39;t</p>
<p begin="03:35:08.800" end="03:35:12.439" style="s2">know think about it and if you still</p>
<p begin="03:35:10.760" end="03:35:14.880" style="s2">don&#39;t know test it out that&#39;s the</p>
<p begin="03:35:12.439" end="03:35:17.439" style="s2">easiest way to find out so we can see</p>
<p begin="03:35:14.880" end="03:35:18.920" style="s2">that the first one is remember this is</p>
<p begin="03:35:17.439" end="03:35:20.560" style="s2">always going to default to ascending so</p>
<p begin="03:35:18.920" end="03:35:23.760" style="s2">when it&#39;s ascending we can see that</p>
<p begin="03:35:20.560" end="03:35:26.040" style="s2">there&#39;s a one at 820 it created 820 and</p>
<p begin="03:35:23.760" end="03:35:27.239" style="s2">then the bottom ones are created at 821</p>
<p begin="03:35:26.040" end="03:35:29.199" style="s2">so it looks like this starts off with</p>
<p begin="03:35:27.239" end="03:35:30.640" style="s2">the oldest one and then Works its way up</p>
<p begin="03:35:29.199" end="03:35:32.319" style="s2">to the most recent one because that has</p>
<p begin="03:35:30.640" end="03:35:35.199" style="s2">a later date you can think of the later</p>
<p begin="03:35:32.319" end="03:35:37.120" style="s2">date as a higher value so if we want the</p>
<p begin="03:35:35.199" end="03:35:40.080" style="s2">you know the most recent products first</p>
<p begin="03:35:37.120" end="03:35:40.080" style="s2">we would do</p>
<p begin="03:35:42.760" end="03:35:46.399" style="s2">descending and so now we&#39;ve got the most</p>
<p begin="03:35:44.880" end="03:35:49.560" style="s2">recent products</p>
<p begin="03:35:46.399" end="03:35:51.800" style="s2">and with this order uh with the Sorting</p>
<p begin="03:35:49.560" end="03:35:55.080" style="s2">property remember we can just chain this</p>
<p begin="03:35:51.800" end="03:35:58.720" style="s2">on to any SQL statement so if I also</p>
<p begin="03:35:55.080" end="03:36:02.080" style="s2">wanted to uh you know uh get all of the</p>
<p begin="03:35:58.720" end="03:36:04.560" style="s2">products that have uh a price of greater</p>
<p begin="03:36:02.080" end="03:36:07.000" style="s2">than 20 and then sort it by something I</p>
<p begin="03:36:04.560" end="03:36:09.520" style="s2">can just specify my wear keyword and say</p>
<p begin="03:36:07.000" end="03:36:11.760" style="s2">wear price is greater than 20 and then</p>
<p begin="03:36:09.520" end="03:36:14.920" style="s2">for all of those results I want to order</p>
<p begin="03:36:11.760" end="03:36:17.920" style="s2">by uh who was most recently created</p>
<p begin="03:36:14.920" end="03:36:19.960" style="s2">we&#39;ll search that and so there you go</p>
<p begin="03:36:17.920" end="03:36:21.359" style="s2">and so that&#39;s the great part about SQL</p>
<p begin="03:36:19.960" end="03:36:24.239" style="s2">is you&#39;ll just keep chaining these</p>
<p begin="03:36:21.359" end="03:36:26.439" style="s2">different SQL keywords to uh filter out</p>
<p begin="03:36:24.239" end="03:36:29.399" style="s2">the exact data in the exact order that</p>
<p begin="03:36:26.439" end="03:36:31.319" style="s2">you want now in an actual production</p>
<p begin="03:36:29.399" end="03:36:33.040" style="s2">environment our tables could have</p>
<p begin="03:36:31.319" end="03:36:35.439" style="s2">millions tens of millions hundreds of</p>
<p begin="03:36:33.040" end="03:36:37.560" style="s2">millions of rows and so it would never</p>
<p begin="03:36:35.439" end="03:36:38.800" style="s2">make sense to just perform a query like</p>
<p begin="03:36:37.560" end="03:36:40.279" style="s2">this where we just dump everything</p>
<p begin="03:36:38.800" end="03:36:41.800" style="s2">because then all of a sudden we&#39;re</p>
<p begin="03:36:40.279" end="03:36:43.080" style="s2">asking our database to send back 100</p>
<p begin="03:36:41.800" end="03:36:45.199" style="s2">million rows and that&#39;s just</p>
<p begin="03:36:43.080" end="03:36:46.680" style="s2">unacceptable and our software that we&#39;re</p>
<p begin="03:36:45.199" end="03:36:48.279" style="s2">using to even send the query may not</p>
<p begin="03:36:46.680" end="03:36:50.239" style="s2">even be able to handle that and so</p>
<p begin="03:36:48.279" end="03:36:52.040" style="s2">usually you want to provide a limit of</p>
<p begin="03:36:50.239" end="03:36:55.120" style="s2">some kind so you may want to say hey I</p>
<p begin="03:36:52.040" end="03:36:57.239" style="s2">want to grab uh you know the first 10</p>
<p begin="03:36:55.120" end="03:36:58.840" style="s2">rows that match this criteria well we</p>
<p begin="03:36:57.239" end="03:37:00.600" style="s2">can do that by using the limit keyword</p>
<p begin="03:36:58.840" end="03:37:02.120" style="s2">so we say limit and then pass in the</p>
<p begin="03:37:00.600" end="03:37:04.239" style="s2">number of rows that you want so if I run</p>
<p begin="03:37:02.120" end="03:37:07.120" style="s2">that you can see that we get 10 rows if</p>
<p begin="03:37:04.239" end="03:37:10.000" style="s2">I lower this to five we can get this uh</p>
<p begin="03:37:07.120" end="03:37:12.560" style="s2">we can get five rows and you can chain</p>
<p begin="03:37:10.000" end="03:37:15.600" style="s2">this on to any SQL expression so let&#39;s</p>
<p begin="03:37:12.560" end="03:37:19.840" style="s2">say I wanted to grab all of the products</p>
<p begin="03:37:15.600" end="03:37:22.279" style="s2">that have a price of greater than</p>
<p begin="03:37:19.840" end="03:37:24.239" style="s2">10 if I search that you can see I get 10</p>
<p begin="03:37:22.279" end="03:37:27.399" style="s2">results and let&#39;s say I want to limit</p>
<p begin="03:37:24.239" end="03:37:28.920" style="s2">this to only the first two results so if</p>
<p begin="03:37:27.399" end="03:37:31.000" style="s2">I hit that you can see that now I get</p>
<p begin="03:37:28.920" end="03:37:33.520" style="s2">two results so uh all the keywords that</p>
<p begin="03:37:31.000" end="03:37:35.640" style="s2">we&#39;re covering including the order bu</p>
<p begin="03:37:33.520" end="03:37:37.640" style="s2">and any of the filter Expressions we can</p>
<p begin="03:37:35.640" end="03:37:40.840" style="s2">just keep chaining on to our SQL</p>
<p begin="03:37:37.640" end="03:37:42.199" style="s2">statement to further specify exactly the</p>
<p begin="03:37:40.840" end="03:37:44.560" style="s2">data that we</p>
<p begin="03:37:42.199" end="03:37:46.960" style="s2">want now with limit there&#39;s another</p>
<p begin="03:37:44.560" end="03:37:48.439" style="s2">keyword that I want to cover uh and so</p>
<p begin="03:37:46.960" end="03:37:50.840" style="s2">let&#39;s say that I want to grab all</p>
<p begin="03:37:48.439" end="03:37:52.600" style="s2">products and I want to order</p>
<p begin="03:37:50.840" end="03:37:54.479" style="s2">by</p>
<p begin="03:37:52.600" end="03:37:55.880" style="s2">ID all right so this going to return it</p>
<p begin="03:37:54.479" end="03:37:56.680" style="s2">like it normally does and it&#39;s ordered</p>
<p begin="03:37:55.880" end="03:37:59.520" style="s2">by</p>
<p begin="03:37:56.680" end="03:38:03.680" style="s2">ID and let&#39;s say I want to set the limit</p>
<p begin="03:37:59.520" end="03:38:08.199" style="s2">to be five so now we get um products</p>
<p begin="03:38:03.680" end="03:38:11.680" style="s2">with an ID of 1 two 3 five and</p>
<p begin="03:38:08.199" end="03:38:13.239" style="s2">seven do I not have a ID of six I&#39;m just</p>
<p begin="03:38:11.680" end="03:38:14.359" style="s2">curious actually so let me cut this out</p>
<p begin="03:38:13.239" end="03:38:16.960" style="s2">for a second I just want to see if</p>
<p begin="03:38:14.359" end="03:38:18.479" style="s2">there&#39;s an ID of six there isn&#39;t okay so</p>
<p begin="03:38:16.960" end="03:38:21.120" style="s2">that&#39;s that&#39;s expected so let me add</p>
<p begin="03:38:18.479" end="03:38:21.120" style="s2">that back so we&#39;ll</p>
<p begin="03:38:24.120" end="03:38:31.239" style="s2">say so I&#39;ll do order</p>
<p begin="03:38:26.640" end="03:38:35.479" style="s2">by ID and then we&#39;ll limit to</p>
<p begin="03:38:31.239" end="03:38:36.960" style="s2">five so we have the first five now let&#39;s</p>
<p begin="03:38:35.479" end="03:38:39.080" style="s2">say that we want to skip a certain</p>
<p begin="03:38:36.960" end="03:38:40.199" style="s2">number of rows because every time we</p>
<p begin="03:38:39.080" end="03:38:41.279" style="s2">search this we&#39;re going to get the same</p>
<p begin="03:38:40.199" end="03:38:42.439" style="s2">result and let&#39;s say that we don&#39;t</p>
<p begin="03:38:41.279" end="03:38:44.239" style="s2">actually care about the first two</p>
<p begin="03:38:42.439" end="03:38:46.960" style="s2">results and I want to skip past them we</p>
<p begin="03:38:44.239" end="03:38:48.279" style="s2">can provide an offset so I&#39;ll do offset</p>
<p begin="03:38:46.960" end="03:38:50.040" style="s2">two and so what that&#39;s going to do is</p>
<p begin="03:38:48.279" end="03:38:51.520" style="s2">it&#39;s going to skip past these two first</p>
<p begin="03:38:50.040" end="03:38:53.319" style="s2">two results and then give us the next</p>
<p begin="03:38:51.520" end="03:38:55.359" style="s2">five so we should see the first result</p>
<p begin="03:38:53.319" end="03:38:57.040" style="s2">be remote then microphone then car and</p>
<p begin="03:38:55.359" end="03:38:58.960" style="s2">then the two after that come after that</p>
<p begin="03:38:57.040" end="03:39:00.840" style="s2">so if I search this we can see that that</p>
<p begin="03:38:58.960" end="03:39:03.000" style="s2">first one is a remote and the last one</p>
<p begin="03:39:00.840" end="03:39:07.319" style="s2">is the pencil sharpener and then if I do</p>
<p begin="03:39:03.000" end="03:39:09.160" style="s2">an offset of um you know five it&#39;s going</p>
<p begin="03:39:07.319" end="03:39:10.760" style="s2">to skip the first original five and so</p>
<p begin="03:39:09.160" end="03:39:12.880" style="s2">then we get pencil pencil sharpener and</p>
<p begin="03:39:10.760" end="03:39:14.359" style="s2">keyboard so you&#39;re going to see that you</p>
<p begin="03:39:12.880" end="03:39:15.960" style="s2">know when it comes to limit and offset</p>
<p begin="03:39:14.359" end="03:39:18.640" style="s2">these are going to come in handy when we</p>
<p begin="03:39:15.960" end="03:39:19.840" style="s2">start implementing pagination in our API</p>
<p begin="03:39:18.640" end="03:39:22.640" style="s2">we&#39;re going to definitely make use of</p>
<p begin="03:39:19.840" end="03:39:24.840" style="s2">the limit and offset keywords till now</p>
<p begin="03:39:22.640" end="03:39:26.800" style="s2">we&#39;ve been using PG admin to create new</p>
<p begin="03:39:24.840" end="03:39:28.439" style="s2">entries in our database by just going</p>
<p begin="03:39:26.800" end="03:39:30.760" style="s2">into the little gooey here and then just</p>
<p begin="03:39:28.439" end="03:39:32.239" style="s2">adding new values however when you&#39;re</p>
<p begin="03:39:30.760" end="03:39:33.439" style="s2">actually working with the post Christ</p>
<p begin="03:39:32.239" end="03:39:35.439" style="s2">database you&#39;re never actually going to</p>
<p begin="03:39:33.439" end="03:39:37.520" style="s2">do this this is more for administrative</p>
<p begin="03:39:35.439" end="03:39:39.760" style="s2">purposes but a real application is going</p>
<p begin="03:39:37.520" end="03:39:41.800" style="s2">to use SQL just like we use SQL for</p>
<p begin="03:39:39.760" end="03:39:43.960" style="s2">making queries we&#39;re going to use SQL</p>
<p begin="03:39:41.800" end="03:39:45.399" style="s2">for adding new entries so let&#39;s take a</p>
<p begin="03:39:43.960" end="03:39:46.920" style="s2">look at what the command looks like for</p>
<p begin="03:39:45.399" end="03:39:48.880" style="s2">adding a brand new entry into our</p>
<p begin="03:39:46.920" end="03:39:50.239" style="s2">database the command starts with an</p>
<p begin="03:39:48.880" end="03:39:52.840" style="s2">insert because we&#39;re going to insert a</p>
<p begin="03:39:50.239" end="03:39:54.520" style="s2">brand new row and then we say into and</p>
<p begin="03:39:52.840" end="03:39:56.600" style="s2">then we&#39;re going to specify the table</p>
<p begin="03:39:54.520" end="03:39:58.279" style="s2">that we want to add a new entry to now</p>
<p begin="03:39:56.600" end="03:40:00.160" style="s2">in our database we only have one table</p>
<p begin="03:39:58.279" end="03:40:01.920" style="s2">so it&#39;s going to be products but here</p>
<p begin="03:40:00.160" end="03:40:04.520" style="s2">you would provide whatever table you&#39;d</p>
<p begin="03:40:01.920" end="03:40:06.439" style="s2">like to add a new entry into right then</p>
<p begin="03:40:04.520" end="03:40:08.640" style="s2">we have to do uh what we have to do is</p>
<p begin="03:40:06.439" end="03:40:10.840" style="s2">provide a list of columns that we want</p>
<p begin="03:40:08.640" end="03:40:11.880" style="s2">to provide data for uh and so I&#39;m going</p>
<p begin="03:40:10.840" end="03:40:14.479" style="s2">to leave this blank for now we&#39;re going</p>
<p begin="03:40:11.880" end="03:40:17.199" style="s2">to come back to that and then we specify</p>
<p begin="03:40:14.479" end="03:40:18.279" style="s2">values</p>
<p begin="03:40:17.199" end="03:40:20.120" style="s2">and then here we&#39;re going to actually</p>
<p begin="03:40:18.279" end="03:40:21.520" style="s2">provide the values for each column and</p>
<p begin="03:40:20.120" end="03:40:23.960" style="s2">so if we take a look at our products</p>
<p begin="03:40:21.520" end="03:40:26.199" style="s2">database uh we know that the name is</p>
<p begin="03:40:23.960" end="03:40:27.760" style="s2">required we know the price is required</p>
<p begin="03:40:26.199" end="03:40:30.080" style="s2">uh and then that&#39;s about it all right we</p>
<p begin="03:40:27.760" end="03:40:31.520" style="s2">can choose to provide an sale but it&#39;s</p>
<p begin="03:40:30.080" end="03:40:33.560" style="s2">going to default the false and then we</p>
<p begin="03:40:31.520" end="03:40:35.000" style="s2">can choose to provide an inventory if we</p>
<p begin="03:40:33.560" end="03:40:37.520" style="s2">want to if we don&#39;t though it&#39;s going to</p>
<p begin="03:40:35.000" end="03:40:39.680" style="s2">default to zero so we have to provide a</p>
<p begin="03:40:37.520" end="03:40:41.560" style="s2">name and a price and it&#39;s ultimately up</p>
<p begin="03:40:39.680" end="03:40:43.199" style="s2">to us to decide what we want to pass in</p>
<p begin="03:40:41.560" end="03:40:45.840" style="s2">so we know we need a</p>
<p begin="03:40:43.199" end="03:40:47.640" style="s2">name and we know we need a price now</p>
<p begin="03:40:45.840" end="03:40:49.239" style="s2">let&#39;s say we&#39;re going to let postgress</p>
<p begin="03:40:47.640" end="03:40:52.359" style="s2">automatically give us the default is</p>
<p begin="03:40:49.239" end="03:40:53.439" style="s2">sale value to be false so we&#39;re going to</p>
<p begin="03:40:52.359" end="03:40:55.080" style="s2">leave that out because we&#39;re not going</p>
<p begin="03:40:53.439" end="03:40:56.800" style="s2">to pass in any data so this column is</p>
<p begin="03:40:55.080" end="03:40:58.760" style="s2">just for all the columns we want to pass</p>
<p begin="03:40:56.800" end="03:41:00.439" style="s2">in data but let&#39;s say we want to give it</p>
<p begin="03:40:58.760" end="03:41:02.120" style="s2">a custom inventory value instead of just</p>
<p begin="03:41:00.439" end="03:41:04.479" style="s2">defaulting to zero here we would put</p>
<p begin="03:41:02.120" end="03:41:05.600" style="s2">inventory and then in the values column</p>
<p begin="03:41:04.479" end="03:41:06.880" style="s2">these are going to be the values that</p>
<p begin="03:41:05.600" end="03:41:08.960" style="s2">you want to actually provide for the</p>
<p begin="03:41:06.880" end="03:41:10.920" style="s2">name the price and the</p>
<p begin="03:41:08.960" end="03:41:12.640" style="s2">inventory so let&#39;s go ahead and provide</p>
<p begin="03:41:10.920" end="03:41:14.840" style="s2">that so let&#39;s create a brand new item so</p>
<p begin="03:41:12.640" end="03:41:16.359" style="s2">let&#39;s give it a name uh and the order in</p>
<p begin="03:41:14.840" end="03:41:17.800" style="s2">which you pass things has to match up</p>
<p begin="03:41:16.359" end="03:41:19.160" style="s2">with the order that we pass in here so</p>
<p begin="03:41:17.800" end="03:41:20.680" style="s2">the First Column that we&#39;re going to</p>
<p begin="03:41:19.160" end="03:41:22.760" style="s2">provide a value for is name because it&#39;s</p>
<p begin="03:41:20.680" end="03:41:24.000" style="s2">the first one here so what name should</p>
<p begin="03:41:22.760" end="03:41:26.120" style="s2">we give it and keep in mind since it&#39;s</p>
<p begin="03:41:24.000" end="03:41:27.640" style="s2">text uh or varying character we&#39;re going</p>
<p begin="03:41:26.120" end="03:41:31.479" style="s2">to have to put this in</p>
<p begin="03:41:27.640" end="03:41:34.720" style="s2">quotations and let&#39;s add in a</p>
<p begin="03:41:31.479" end="03:41:36.640" style="s2">tortilla so now we&#39;re a grocery</p>
<p begin="03:41:34.720" end="03:41:37.800" style="s2">store right then the next one is going</p>
<p begin="03:41:36.640" end="03:41:39.920" style="s2">to be the price so how much is our</p>
<p begin="03:41:37.800" end="03:41:41.880" style="s2">tortilla going to cost uh we&#39;ll say it&#39;s</p>
<p begin="03:41:39.920" end="03:41:43.319" style="s2">$4 and then finally we have to provide</p>
<p begin="03:41:41.880" end="03:41:46.920" style="s2">an inventory value so let&#39;s say we&#39;re</p>
<p begin="03:41:43.319" end="03:41:49.439" style="s2">going to have a th000 tortillas</p>
<p begin="03:41:46.920" end="03:41:51.920" style="s2">and then as usual you want</p>
<p begin="03:41:49.439" end="03:41:54.800" style="s2">a</p>
<p begin="03:41:51.920" end="03:41:56.199" style="s2">semicolon all right and so at this point</p>
<p begin="03:41:54.800" end="03:41:58.680" style="s2">this is all we have to do to create a</p>
<p begin="03:41:56.199" end="03:42:00.359" style="s2">brand new entry so let&#39;s hit run and</p>
<p begin="03:41:58.680" end="03:42:02.159" style="s2">let&#39;s see what happens so query returned</p>
<p begin="03:42:00.359" end="03:42:03.199" style="s2">successfully uh and so we see this</p>
<p begin="03:42:02.159" end="03:42:06.520" style="s2">insert</p>
<p begin="03:42:03.199" end="03:42:09.279" style="s2">01 and so at this point it says insert</p>
<p begin="03:42:06.520" end="03:42:11.080" style="s2">01 and then query return successfully so</p>
<p begin="03:42:09.279" end="03:42:12.600" style="s2">did we actually successfully insert that</p>
<p begin="03:42:11.080" end="03:42:14.600" style="s2">something into our database and more</p>
<p begin="03:42:12.600" end="03:42:16.720" style="s2">importantly what exactly does this mean</p>
<p begin="03:42:14.600" end="03:42:18.560" style="s2">so if you see insert 01 that means</p>
<p begin="03:42:16.720" end="03:42:20.640" style="s2">everything worked perfectly there was no</p>
<p begin="03:42:18.560" end="03:42:23.199" style="s2">errors what this means is that first of</p>
<p begin="03:42:20.640" end="03:42:25.040" style="s2">all ignore the zero so this means uh</p>
<p begin="03:42:23.199" end="03:42:26.920" style="s2">that we&#39;re using the default postrest</p>
<p begin="03:42:25.040" end="03:42:28.600" style="s2">configuration so this represents the oid</p>
<p begin="03:42:26.920" end="03:42:30.600" style="s2">but I believe postrest by default</p>
<p begin="03:42:28.600" end="03:42:32.239" style="s2">doesn&#39;t use that unless you specify it</p>
<p begin="03:42:30.600" end="03:42:33.399" style="s2">to so it&#39;s going to give a value of zero</p>
<p begin="03:42:32.239" end="03:42:34.640" style="s2">and don&#39;t worry too much about that</p>
<p begin="03:42:33.399" end="03:42:35.840" style="s2">that&#39;s kind of outside of the scope of</p>
<p begin="03:42:34.640" end="03:42:37.840" style="s2">this course we&#39;re not going to mess with</p>
<p begin="03:42:35.840" end="03:42:39.560" style="s2">that but instead what we want to focus</p>
<p begin="03:42:37.840" end="03:42:41.760" style="s2">on is that second column so this means</p>
<p begin="03:42:39.560" end="03:42:43.920" style="s2">that we inserted one row so that means</p>
<p begin="03:42:41.760" end="03:42:45.920" style="s2">our insert worked perfectly so let&#39;s</p>
<p begin="03:42:43.920" end="03:42:48.720" style="s2">take this and what we&#39;re going to do is</p>
<p begin="03:42:45.920" end="03:42:51.279" style="s2">first of all I&#39;m going to copy</p>
<p begin="03:42:48.720" end="03:42:52.920" style="s2">this cut it out actually P paste it into</p>
<p begin="03:42:51.279" end="03:42:56.040" style="s2">my scratch pad for now and then we&#39;re</p>
<p begin="03:42:52.920" end="03:43:00.159" style="s2">going to say select star from</p>
<p begin="03:42:56.040" end="03:43:00.159" style="s2">rows sorry select star from</p>
<p begin="03:43:00.199" end="03:43:04.800" style="s2">products and we&#39;re going to run that and</p>
<p begin="03:43:03.239" end="03:43:06.680" style="s2">so if we go to our bottom we should see</p>
<p begin="03:43:04.800" end="03:43:08.640" style="s2">our brand new tortilla and so we</p>
<p begin="03:43:06.680" end="03:43:11.319" style="s2">provided the tortilla value we provided</p>
<p begin="03:43:08.640" end="03:43:13.199" style="s2">the price and we did not provide an</p>
<p begin="03:43:11.319" end="03:43:15.800" style="s2">isale so it defaulted false and then we</p>
<p begin="03:43:13.199" end="03:43:18.319" style="s2">provided an inventory</p>
<p begin="03:43:15.800" end="03:43:22.159" style="s2">now if I copy this again and paste it</p>
<p begin="03:43:18.319" end="03:43:25.159" style="s2">back into here right and if I move the</p>
<p begin="03:43:22.159" end="03:43:25.159" style="s2">name</p>
<p begin="03:43:25.560" end="03:43:31.880" style="s2">column right after the price well now</p>
<p begin="03:43:28.880" end="03:43:34.560" style="s2">SQL is expecting me to provide the value</p>
<p begin="03:43:31.880" end="03:43:37.159" style="s2">for Price first then name then inventory</p>
<p begin="03:43:34.560" end="03:43:40.560" style="s2">so then I would have to take the price</p>
<p begin="03:43:37.159" end="03:43:42.159" style="s2">move that over to the First Column and</p>
<p begin="03:43:40.560" end="03:43:43.920" style="s2">then move that move that into the first</p>
<p begin="03:43:42.159" end="03:43:46.120" style="s2">entry and then we have the name and then</p>
<p begin="03:43:43.920" end="03:43:48.399" style="s2">the inventory and so keep in mind the</p>
<p begin="03:43:46.120" end="03:43:50.520" style="s2">order here has to match the order</p>
<p begin="03:43:48.399" end="03:43:52.840" style="s2">here so once again I&#39;m going to go ahead</p>
<p begin="03:43:50.520" end="03:43:54.600" style="s2">and just add this again because why not</p>
<p begin="03:43:52.840" end="03:43:56.960" style="s2">uh and so now oops it looks like we have</p>
<p begin="03:43:54.600" end="03:43:58.159" style="s2">an error what happened here all right</p>
<p begin="03:43:56.960" end="03:44:00.159" style="s2">there we go I guess we just needed that</p>
<p begin="03:43:58.159" end="03:44:01.720" style="s2">space and so now it&#39;s in there and</p>
<p begin="03:44:00.159" end="03:44:03.000" style="s2">you&#39;ll notice that once again we get the</p>
<p begin="03:44:01.720" end="03:44:04.880" style="s2">zero one so that means everything was</p>
<p begin="03:44:03.000" end="03:44:06.239" style="s2">inserted properly so now we should have</p>
<p begin="03:44:04.880" end="03:44:08.600" style="s2">two items in our database with the name</p>
<p begin="03:44:06.239" end="03:44:11.359" style="s2">of tortillas and when you&#39;re working</p>
<p begin="03:44:08.600" end="03:44:13.520" style="s2">with with post Chris uh and especially</p>
<p begin="03:44:11.359" end="03:44:16.040" style="s2">with an API where we want to create a</p>
<p begin="03:44:13.520" end="03:44:18.040" style="s2">new post like in our application the</p>
<p begin="03:44:16.040" end="03:44:20.120" style="s2">general convention in an API is once we</p>
<p begin="03:44:18.040" end="03:44:22.479" style="s2">create the new post we want to return</p>
<p begin="03:44:20.120" end="03:44:24.199" style="s2">that data back to whoever sent that</p>
<p begin="03:44:22.479" end="03:44:27.920" style="s2">request to the API so we want to get</p>
<p begin="03:44:24.199" end="03:44:29.640" style="s2">that brand new brand newly created post</p>
<p begin="03:44:27.920" end="03:44:31.439" style="s2">with the new Fields like the created ad</p>
<p begin="03:44:29.640" end="03:44:33.720" style="s2">field and all the default values and</p>
<p begin="03:44:31.439" end="03:44:35.439" style="s2">send it back to the client or the front</p>
<p begin="03:44:33.720" end="03:44:37.319" style="s2">end so how do we get postest to</p>
<p begin="03:44:35.439" end="03:44:38.920" style="s2">automatically return it because right</p>
<p begin="03:44:37.319" end="03:44:40.199" style="s2">now it doesn&#39;t seem to do that and we</p>
<p begin="03:44:38.920" end="03:44:41.600" style="s2">could you know just provide two</p>
<p begin="03:44:40.199" end="03:44:43.960" style="s2">statements right I can add in a second</p>
<p begin="03:44:41.600" end="03:44:46.000" style="s2">statement that says select star you know</p>
<p begin="03:44:43.960" end="03:44:47.800" style="s2">from</p>
<p begin="03:44:46.000" end="03:44:49.479" style="s2">products uh this is going to dump</p>
<p begin="03:44:47.800" end="03:44:54.399" style="s2">everything we could potentially you know</p>
<p begin="03:44:49.479" end="03:44:54.399" style="s2">filter on you know where</p>
<p begin="03:44:54.680" end="03:45:00.359" style="s2">name equals you know tortilla or</p>
<p begin="03:44:57.800" end="03:45:03.159" style="s2">something like that and then at that</p>
<p begin="03:45:00.359" end="03:45:04.680" style="s2">point we should have three entries but</p>
<p begin="03:45:03.159" end="03:45:06.520" style="s2">uh that&#39;s one way of getting back the</p>
<p begin="03:45:04.680" end="03:45:08.120" style="s2">result however there&#39;s a much easier way</p>
<p begin="03:45:06.520" end="03:45:09.439" style="s2">within postgress so first of all I&#39;m</p>
<p begin="03:45:08.120" end="03:45:12.680" style="s2">going to change the name I&#39;m going to</p>
<p begin="03:45:09.439" end="03:45:16.439" style="s2">add a new item and say this is a car and</p>
<p begin="03:45:12.680" end="03:45:18.640" style="s2">I&#39;m going to give it a price of10</p>
<p begin="03:45:16.439" end="03:45:21.560" style="s2">,000 and what we can do is we can pass</p>
<p begin="03:45:18.640" end="03:45:23.680" style="s2">in a keyword called returning so this is</p>
<p begin="03:45:21.560" end="03:45:25.319" style="s2">going to return the newly created item</p>
<p begin="03:45:23.680" end="03:45:27.080" style="s2">or items if you want to insert more than</p>
<p begin="03:45:25.319" end="03:45:29.359" style="s2">one item and then here we have to</p>
<p begin="03:45:27.080" end="03:45:31.720" style="s2">specify the columns that we want for the</p>
<p begin="03:45:29.359" end="03:45:32.720" style="s2">newly returned items so if I do star</p>
<p begin="03:45:31.720" end="03:45:34.279" style="s2">that&#39;s going to return every single</p>
<p begin="03:45:32.720" end="03:45:36.760" style="s2">column if I do ID this is just going to</p>
<p begin="03:45:34.279" end="03:45:39.800" style="s2">give me the ID of the brandly brand new</p>
<p begin="03:45:36.760" end="03:45:42.359" style="s2">created uh item I&#39;m going to return</p>
<p begin="03:45:39.800" end="03:45:44.720" style="s2">every single column so if I try this now</p>
<p begin="03:45:42.359" end="03:45:46.239" style="s2">look at that so it creates the new entry</p>
<p begin="03:45:44.720" end="03:45:49.120" style="s2">we you can see that has an ID of 26 and</p>
<p begin="03:45:46.239" end="03:45:51.319" style="s2">it gives back the entire row now if you</p>
<p begin="03:45:49.120" end="03:45:53.680" style="s2">want to insert more than one row at a</p>
<p begin="03:45:51.319" end="03:45:55.640" style="s2">time what we can do is we just do a</p>
<p begin="03:45:53.680" end="03:45:58.199" style="s2">comma here after values and then just</p>
<p begin="03:45:55.640" end="03:46:01.720" style="s2">provide the data for the next row so</p>
<p begin="03:45:58.199" end="03:46:03.520" style="s2">we&#39;ll do um we&#39;ll create a new item that</p>
<p begin="03:46:01.720" end="03:46:07.520" style="s2">had cost</p>
<p begin="03:46:03.520" end="03:46:09.600" style="s2">$50 and this is going to be a</p>
<p begin="03:46:07.520" end="03:46:13.319" style="s2">laptop and then we&#39;ll say there&#39;s going</p>
<p begin="03:46:09.600" end="03:46:14.960" style="s2">to be an inventory of 25 of them and</p>
<p begin="03:46:13.319" end="03:46:17.880" style="s2">then if we wanted to add another one</p>
<p begin="03:46:14.960" end="03:46:20.359" style="s2">then we could just do another</p>
<p begin="03:46:17.880" end="03:46:23.760" style="s2">comma and then add some more values in</p>
<p begin="03:46:20.359" end="03:46:23.760" style="s2">so we&#39;ll give this a price of</p>
<p begin="03:46:24.279" end="03:46:29.760" style="s2">60 this is going to be a</p>
<p begin="03:46:27.279" end="03:46:30.680" style="s2">monitor and then we&#39;ll say we have four</p>
<p begin="03:46:29.760" end="03:46:33.199" style="s2">of</p>
<p begin="03:46:30.680" end="03:46:35.960" style="s2">those and so here we can then go ahead</p>
<p begin="03:46:33.199" end="03:46:37.640" style="s2">and run you can see that it added three</p>
<p begin="03:46:35.960" end="03:46:39.880" style="s2">items and then it returned all three</p>
<p begin="03:46:37.640" end="03:46:41.680" style="s2">because we have the returning keyword</p>
<p begin="03:46:39.880" end="03:46:43.840" style="s2">and if you wanted to we could just say I</p>
<p begin="03:46:41.680" end="03:46:46.000" style="s2">want the ID we can just say I want the</p>
<p begin="03:46:43.840" end="03:46:49.120" style="s2">ID</p>
<p begin="03:46:46.000" end="03:46:51.760" style="s2">and the created at</p>
<p begin="03:46:49.120" end="03:46:54.680" style="s2">field maybe the name as</p>
<p begin="03:46:51.760" end="03:46:56.239" style="s2">well I run this we can see it created</p>
<p begin="03:46:54.680" end="03:46:58.359" style="s2">another three new items and then</p>
<p begin="03:46:56.239" end="03:47:01.640" style="s2">returned just those three</p>
<p begin="03:46:58.359" end="03:47:02.840" style="s2">fields and so that&#39;s pretty much all I</p>
<p begin="03:47:01.640" end="03:47:04.560" style="s2">wanted to cover when it comes to</p>
<p begin="03:47:02.840" end="03:47:07.920" style="s2">creating new entries in the database and</p>
<p begin="03:47:04.560" end="03:47:09.239" style="s2">inserting new rows into a table all</p>
<p begin="03:47:07.920" end="03:47:10.960" style="s2">right so in the last lesson we learned</p>
<p begin="03:47:09.239" end="03:47:13.159" style="s2">how to insert new entries into a</p>
<p begin="03:47:10.960" end="03:47:15.319" style="s2">database let&#39;s now figure out how to</p>
<p begin="03:47:13.159" end="03:47:18.040" style="s2">delete entries so let&#39;s clear out this</p>
<p begin="03:47:15.319" end="03:47:20.640" style="s2">query real quick and the command to</p>
<p begin="03:47:18.040" end="03:47:23.080" style="s2">delete a entry from a database is going</p>
<p begin="03:47:20.640" end="03:47:25.199" style="s2">to be delete who would have thought</p>
<p begin="03:47:23.080" end="03:47:26.479" style="s2">right delete then you say from and then</p>
<p begin="03:47:25.199" end="03:47:28.920" style="s2">you provide the table that you want to</p>
<p begin="03:47:26.479" end="03:47:30.520" style="s2">delete a row from so we&#39;ll say products</p>
<p begin="03:47:28.920" end="03:47:32.840" style="s2">and then we want to specify condition so</p>
<p begin="03:47:30.520" end="03:47:34.080" style="s2">what is our match criteria what rows do</p>
<p begin="03:47:32.840" end="03:47:35.960" style="s2">we actually want to delete so we have to</p>
<p begin="03:47:34.080" end="03:47:37.800" style="s2">tell SQL I I want you to delete this</p>
<p begin="03:47:35.960" end="03:47:40.359" style="s2">specific row so what do we usually match</p>
<p begin="03:47:37.800" end="03:47:42.600" style="s2">on well if you take a look at our API uh</p>
<p begin="03:47:40.359" end="03:47:44.680" style="s2">or specifically our delete endpoint uh</p>
<p begin="03:47:42.600" end="03:47:46.399" style="s2">the user provides the ID of the product</p>
<p begin="03:47:44.680" end="03:47:48.640" style="s2">they they like to delete or I guess in</p>
<p begin="03:47:46.399" end="03:47:50.080" style="s2">our application it would be uh the ID of</p>
<p begin="03:47:48.640" end="03:47:52.000" style="s2">the post we&#39; like to delete but we&#39;re</p>
<p begin="03:47:50.080" end="03:47:53.960" style="s2">working with products so we&#39;ll say you</p>
<p begin="03:47:52.000" end="03:47:57.080" style="s2">know just like with a regular select</p>
<p begin="03:47:53.960" end="03:47:58.479" style="s2">query you say where and we can say ID</p>
<p begin="03:47:57.080" end="03:47:59.640" style="s2">equals and then the ID of the product we</p>
<p begin="03:47:58.479" end="03:48:01.040" style="s2">want to delete so let&#39;s take a look at</p>
<p begin="03:47:59.640" end="03:48:03.159" style="s2">one of these products I&#39;ll grab a</p>
<p begin="03:48:01.040" end="03:48:06.640" style="s2">product</p>
<p begin="03:48:03.159" end="03:48:10.239" style="s2">10 and then let&#39;s run this and then</p>
<p begin="03:48:06.640" end="03:48:12.720" style="s2">afterwards let&#39;s actually do a select</p>
<p begin="03:48:10.239" end="03:48:14.239" style="s2">star from products so we can see all of</p>
<p begin="03:48:12.720" end="03:48:16.920" style="s2">the products afterwards just to verify</p>
<p begin="03:48:14.239" end="03:48:19.199" style="s2">that the ID of 10 or the product with an</p>
<p begin="03:48:16.920" end="03:48:22.479" style="s2">ID of 10 got deleted so you can pass in</p>
<p begin="03:48:19.199" end="03:48:26.920" style="s2">as many uh um SQL commands as you want</p>
<p begin="03:48:22.479" end="03:48:30.239" style="s2">here so we&#39;ll run that and so it ran and</p>
<p begin="03:48:26.920" end="03:48:33.199" style="s2">then we can see that we um the product</p>
<p begin="03:48:30.239" end="03:48:34.600" style="s2">with an ID of 10 was deleted now I&#39;m</p>
<p begin="03:48:33.199" end="03:48:36.120" style="s2">going to change this to 11 because</p>
<p begin="03:48:34.600" end="03:48:38.000" style="s2">there&#39;s no longer a product with an ID</p>
<p begin="03:48:36.120" end="03:48:39.920" style="s2">of 10 so I&#39;m going to delete this</p>
<p begin="03:48:38.000" end="03:48:43.359" style="s2">product um but what we can do is we can</p>
<p begin="03:48:39.920" end="03:48:45.080" style="s2">tell postr to actually give us back the</p>
<p begin="03:48:43.359" end="03:48:46.120" style="s2">specific entry before was deleting so we</p>
<p begin="03:48:45.080" end="03:48:47.640" style="s2">can see what that looked like so we can</p>
<p begin="03:48:46.120" end="03:48:49.840" style="s2">just pass in the returning keyword just</p>
<p begin="03:48:47.640" end="03:48:51.120" style="s2">like we used uh with the insert</p>
<p begin="03:48:49.840" end="03:48:52.600" style="s2">statement and then we specify the</p>
<p begin="03:48:51.120" end="03:48:55.159" style="s2">columns we want so I&#39;m going to say all</p>
<p begin="03:48:52.600" end="03:48:57.520" style="s2">of the columns and then if we run this</p>
<p begin="03:48:55.159" end="03:48:58.920" style="s2">we can see that it deleted uh the</p>
<p begin="03:48:57.520" end="03:49:01.199" style="s2">product with an ID of 11 and we can see</p>
<p begin="03:48:58.920" end="03:49:03.600" style="s2">what that product looked</p>
<p begin="03:49:01.199" end="03:49:05.920" style="s2">like and keep in mind if I don&#39;t pass</p>
<p begin="03:49:03.600" end="03:49:07.080" style="s2">any of this data and I just run this</p>
<p begin="03:49:05.920" end="03:49:08.439" style="s2">right you&#39;ll see that it says a delete</p>
<p begin="03:49:07.080" end="03:49:11.000" style="s2">of one so this is just telling you how</p>
<p begin="03:49:08.439" end="03:49:12.600" style="s2">many total rows are deleted now let&#39;s</p>
<p begin="03:49:11.000" end="03:49:14.319" style="s2">say that we want to delete multiple</p>
<p begin="03:49:12.600" end="03:49:15.640" style="s2">products based off of a criteria so</p>
<p begin="03:49:14.319" end="03:49:18.040" style="s2">let&#39;s say</p>
<p begin="03:49:15.640" end="03:49:20.159" style="s2">uh we want to delete any product that</p>
<p begin="03:49:18.040" end="03:49:22.560" style="s2">has an inventory of zero how do you do</p>
<p begin="03:49:20.159" end="03:49:24.319" style="s2">that same exact command we just have to</p>
<p begin="03:49:22.560" end="03:49:27.960" style="s2">match on any product with an inventory</p>
<p begin="03:49:24.319" end="03:49:32.120" style="s2">of zero so let&#39;s say</p>
<p begin="03:49:27.960" end="03:49:33.439" style="s2">delete from products table where and</p>
<p begin="03:49:32.120" end="03:49:36.319" style="s2">then we&#39;ll just say</p>
<p begin="03:49:33.439" end="03:49:37.840" style="s2">inventory equals z so they should delete</p>
<p begin="03:49:36.319" end="03:49:40.479" style="s2">every single product with an inventory</p>
<p begin="03:49:37.840" end="03:49:43.560" style="s2">of zero we run</p>
<p begin="03:49:40.479" end="03:49:46.640" style="s2">this we can see it deleted eight rows</p>
<p begin="03:49:43.560" end="03:49:46.640" style="s2">let&#39;s just do a selection</p>
<p begin="03:49:48.000" end="03:49:51.840" style="s2">star from</p>
<p begin="03:49:52.040" end="03:49:57.760" style="s2">products and you can see we no longer</p>
<p begin="03:49:54.159" end="03:50:00.000" style="s2">have any products with an inventory of</p>
<p begin="03:49:57.760" end="03:50:02.399" style="s2">zero all right so we saw how we can</p>
<p begin="03:50:00.000" end="03:50:04.000" style="s2">insert new data into our table and we</p>
<p begin="03:50:02.399" end="03:50:05.840" style="s2">saw how we can delete entries from our</p>
<p begin="03:50:04.000" end="03:50:07.120" style="s2">table I think the next logical step is</p>
<p begin="03:50:05.840" end="03:50:09.399" style="s2">to figure out how to update a</p>
<p begin="03:50:07.120" end="03:50:12.720" style="s2">pre-existing row so the command for</p>
<p begin="03:50:09.399" end="03:50:14.840" style="s2">updating is going to be as you guessed</p>
<p begin="03:50:12.720" end="03:50:17.399" style="s2">update and then we have to specify the</p>
<p begin="03:50:14.840" end="03:50:18.479" style="s2">table that we would like to update uh</p>
<p begin="03:50:17.399" end="03:50:20.399" style="s2">and so in this case it&#39;s going to be the</p>
<p begin="03:50:18.479" end="03:50:22.120" style="s2">products table and there&#39;s going to be</p>
<p begin="03:50:20.399" end="03:50:23.640" style="s2">two things that we have to pass in so</p>
<p begin="03:50:22.120" end="03:50:25.359" style="s2">first of all we need to specify which</p>
<p begin="03:50:23.640" end="03:50:27.680" style="s2">entry we want to update we can update</p>
<p begin="03:50:25.359" end="03:50:29.800" style="s2">more than one entry at a time but you</p>
<p begin="03:50:27.680" end="03:50:31.399" style="s2">know just like when it comes to deleting</p>
<p begin="03:50:29.800" end="03:50:33.319" style="s2">if you take a look at our API that we&#39;ve</p>
<p begin="03:50:31.399" end="03:50:35.000" style="s2">built so far the user provides the ID of</p>
<p begin="03:50:33.319" end="03:50:36.920" style="s2">the specific post they want to update so</p>
<p begin="03:50:35.000" end="03:50:40.640" style="s2">normally we&#39;re going to update based off</p>
<p begin="03:50:36.920" end="03:50:42.600" style="s2">of the ID column so we&#39;ll say where you</p>
<p begin="03:50:40.640" end="03:50:44.279" style="s2">know just like uh the select statement</p>
<p begin="03:50:42.600" end="03:50:47.000" style="s2">or the delete statement we can say where</p>
<p begin="03:50:44.279" end="03:50:49.000" style="s2">ID equals and then the specific product</p>
<p begin="03:50:47.000" end="03:50:50.319" style="s2">of the ID and the specific ID of the</p>
<p begin="03:50:49.000" end="03:50:51.359" style="s2">product that we want to delete so let&#39;s</p>
<p begin="03:50:50.319" end="03:50:53.920" style="s2">say we want to delete one of the</p>
<p begin="03:50:51.359" end="03:50:56.800" style="s2">tortillas so an ID of 25 sorry not</p>
<p begin="03:50:53.920" end="03:50:59.239" style="s2">delete but update so we&#39;ll say</p>
<p begin="03:50:56.800" end="03:51:00.800" style="s2">25 then we want to pass in all the</p>
<p begin="03:50:59.239" end="03:51:02.960" style="s2">columns that we want to update so we</p>
<p begin="03:51:00.800" end="03:51:04.439" style="s2">pass in the name of the column and then</p>
<p begin="03:51:02.960" end="03:51:06.520" style="s2">what the new field should be so let&#39;s</p>
<p begin="03:51:04.439" end="03:51:09.159" style="s2">say the name column I want to rename</p>
<p begin="03:51:06.520" end="03:51:11.960" style="s2">this to</p>
<p begin="03:51:09.159" end="03:51:13.920" style="s2">be uh flower</p>
<p begin="03:51:11.960" end="03:51:17.319" style="s2">tortilla and then let&#39;s say I also want</p>
<p begin="03:51:13.920" end="03:51:17.319" style="s2">to update the so I could say the</p>
<p begin="03:51:18.800" end="03:51:23.279" style="s2">price equals and then 40 so right now</p>
<p begin="03:51:22.120" end="03:51:24.840" style="s2">the price is four and the name is</p>
<p begin="03:51:23.279" end="03:51:27.479" style="s2">tortilla it&#39;s going to now be flower</p>
<p begin="03:51:24.840" end="03:51:29.840" style="s2">tortilla and 40 if I run</p>
<p begin="03:51:27.479" end="03:51:31.920" style="s2">this and don&#39;t forget the semicolon at</p>
<p begin="03:51:29.840" end="03:51:31.920" style="s2">the</p>
<p begin="03:51:32.640" end="03:51:38.159" style="s2">end and I realized I forgot one keyword</p>
<p begin="03:51:35.840" end="03:51:41.520" style="s2">so before you pass in all of the new</p>
<p begin="03:51:38.159" end="03:51:43.720" style="s2">values we have to use the keyword set so</p>
<p begin="03:51:41.520" end="03:51:46.560" style="s2">it&#39;s update products then we want to set</p>
<p begin="03:51:43.720" end="03:51:49.159" style="s2">these columns then I run this and we can</p>
<p begin="03:51:46.560" end="03:51:51.279" style="s2">see that we updated one field and I&#39;m</p>
<p begin="03:51:49.159" end="03:51:53.960" style="s2">going to copy this put it in my scratch</p>
<p begin="03:51:51.279" end="03:51:56.399" style="s2">pad for now and just do a select star</p>
<p begin="03:51:53.960" end="03:51:56.399" style="s2">from</p>
<p begin="03:51:56.960" end="03:52:01.720" style="s2">products and so if we take a look at our</p>
<p begin="03:52:00.279" end="03:52:03.600" style="s2">tortilla so now it&#39;s called flower</p>
<p begin="03:52:01.720" end="03:52:05.040" style="s2">tortilla you can see the ID is still the</p>
<p begin="03:52:03.600" end="03:52:07.239" style="s2">same because we didn&#39;t change that and</p>
<p begin="03:52:05.040" end="03:52:10.120" style="s2">the price got changed however all the</p>
<p begin="03:52:07.239" end="03:52:12.040" style="s2">other fields have all remained the same</p>
<p begin="03:52:10.120" end="03:52:14.520" style="s2">so that&#39;s good um but just like when it</p>
<p begin="03:52:12.040" end="03:52:16.439" style="s2">comes to inserting new data uh we gener</p>
<p begin="03:52:14.520" end="03:52:19.279" style="s2">generally want to return the newly</p>
<p begin="03:52:16.439" end="03:52:20.600" style="s2">updated product to the user so how do we</p>
<p begin="03:52:19.279" end="03:52:23.760" style="s2">do that we can just use the returning</p>
<p begin="03:52:20.600" end="03:52:25.800" style="s2">keyword I&#39;m going to copy this</p>
<p begin="03:52:23.760" end="03:52:27.359" style="s2">again and let&#39;s update a different</p>
<p begin="03:52:25.800" end="03:52:30.560" style="s2">product so I&#39;m going to update the car</p>
<p begin="03:52:27.359" end="03:52:32.840" style="s2">which is a ID of</p>
<p begin="03:52:30.560" end="03:52:34.920" style="s2">30 and let&#39;s just say I want to update</p>
<p begin="03:52:32.840" end="03:52:36.640" style="s2">one field I I&#39;ll remove all these and</p>
<p begin="03:52:34.920" end="03:52:38.319" style="s2">I&#39;ll just say I&#39;m going to update the</p>
<p begin="03:52:36.640" end="03:52:41.159" style="s2">isore sale</p>
<p begin="03:52:38.319" end="03:52:42.439" style="s2">field to be to set it to true cuz right</p>
<p begin="03:52:41.159" end="03:52:45.080" style="s2">now it&#39;s set to</p>
<p begin="03:52:42.439" end="03:52:47.120" style="s2">false we&#39;ll set that to true</p>
<p begin="03:52:45.080" end="03:52:49.520" style="s2">and then we can say</p>
<p begin="03:52:47.120" end="03:52:52.279" style="s2">returning</p>
<p begin="03:52:49.520" end="03:52:54.159" style="s2">star if we update this we can see that</p>
<p begin="03:52:52.279" end="03:52:55.960" style="s2">we now got the car we can see that the</p>
<p begin="03:52:54.159" end="03:52:57.600" style="s2">is sale set to true and it returned that</p>
<p begin="03:52:55.960" end="03:52:58.920" style="s2">data and it was successfully able to</p>
<p begin="03:52:57.600" end="03:53:01.319" style="s2">update</p>
<p begin="03:52:58.920" end="03:53:03.640" style="s2">that now let&#39;s say we want to update</p>
<p begin="03:53:01.319" end="03:53:06.560" style="s2">multiple</p>
<p begin="03:53:03.640" end="03:53:08.080" style="s2">rows and let&#39;s say I want to update uh</p>
<p begin="03:53:06.560" end="03:53:09.960" style="s2">we&#39;ll just let&#39;s just update everything</p>
<p begin="03:53:08.080" end="03:53:12.159" style="s2">right so if I don&#39;t pass in a specific</p>
<p begin="03:53:09.960" end="03:53:16.600" style="s2">condition I can update every column or I</p>
<p begin="03:53:12.159" end="03:53:18.880" style="s2">can specify condition uh and then update</p>
<p begin="03:53:16.600" end="03:53:22.239" style="s2">just those columns so let&#39;s let&#39;s say um</p>
<p begin="03:53:18.880" end="03:53:23.479" style="s2">I want to match any any product with an</p>
<p begin="03:53:22.239" end="03:53:26.760" style="s2">ID</p>
<p begin="03:53:23.479" end="03:53:27.680" style="s2">of uh 15 or greater so an ID of greater</p>
<p begin="03:53:26.760" end="03:53:30.600" style="s2">than</p>
<p begin="03:53:27.680" end="03:53:32.760" style="s2">15 and I want to set the is sale to be</p>
<p begin="03:53:30.600" end="03:53:35.600" style="s2">true so if I run</p>
<p begin="03:53:32.760" end="03:53:37.520" style="s2">this we can see all of the entries that</p>
<p begin="03:53:35.600" end="03:53:38.960" style="s2">it was that it updated so now all of</p>
<p begin="03:53:37.520" end="03:53:41.760" style="s2">these entries which all have an ID of</p>
<p begin="03:53:38.960" end="03:53:44.199" style="s2">greater than 15 have all all have the is</p>
<p begin="03:53:41.760" end="03:53:48.319" style="s2">sale column set to true and so that&#39;s</p>
<p begin="03:53:44.199" end="03:53:50.560" style="s2">how we update entries within a postgress</p>
<p begin="03:53:48.319" end="03:53:52.080" style="s2">database at this point I think we have a</p>
<p begin="03:53:50.560" end="03:53:54.279" style="s2">good enough Foundation when it comes to</p>
<p begin="03:53:52.080" end="03:53:56.439" style="s2">working with postgress we&#39;re able to</p>
<p begin="03:53:54.279" end="03:53:58.960" style="s2">successfully query a database insert new</p>
<p begin="03:53:56.439" end="03:54:00.880" style="s2">rows delete rows and update rows so I</p>
<p begin="03:53:58.960" end="03:54:03.120" style="s2">think it&#39;s time we finally started uh to</p>
<p begin="03:54:00.880" end="03:54:04.760" style="s2">go back to our code and figure out how</p>
<p begin="03:54:03.120" end="03:54:06.800" style="s2">we can actually work with a database</p>
<p begin="03:54:04.760" end="03:54:08.920" style="s2">within a python or a fast API</p>
<p begin="03:54:06.800" end="03:54:11.199" style="s2">application but before we do that I want</p>
<p begin="03:54:08.920" end="03:54:13.159" style="s2">to do a little bit of cleanup so uh with</p>
<p begin="03:54:11.199" end="03:54:15.199" style="s2">our database we no longer need our</p>
<p begin="03:54:13.159" end="03:54:16.680" style="s2">products table so what you can do is you</p>
<p begin="03:54:15.199" end="03:54:19.199" style="s2">can go ahead and delete it so you can</p>
<p begin="03:54:16.680" end="03:54:21.920" style="s2">just right click and then hit uh Delete</p>
<p begin="03:54:19.199" end="03:54:23.560" style="s2">or drop uh technically if you don&#39;t want</p>
<p begin="03:54:21.920" end="03:54:25.040" style="s2">to delete this and you want to keep it</p>
<p begin="03:54:23.560" end="03:54:26.319" style="s2">uh for now just for reference you don&#39;t</p>
<p begin="03:54:25.040" end="03:54:28.720" style="s2">have to delete your table it&#39;s not going</p>
<p begin="03:54:26.319" end="03:54:30.439" style="s2">to impact anything else so you can keep</p>
<p begin="03:54:28.720" end="03:54:31.560" style="s2">it but I&#39;m going to go ahead and delete</p>
<p begin="03:54:30.439" end="03:54:33.840" style="s2">it because we don&#39;t actually need it</p>
<p begin="03:54:31.560" end="03:54:34.960" style="s2">anymore so we&#39;ll just do that hit yes</p>
<p begin="03:54:33.840" end="03:54:37.279" style="s2">and then it&#39;s going to delete that and</p>
<p begin="03:54:34.960" end="03:54:38.640" style="s2">we should no longer have tables and I&#39;m</p>
<p begin="03:54:37.279" end="03:54:40.439" style="s2">also going to move over to another</p>
<p begin="03:54:38.640" end="03:54:41.760" style="s2">machine so uh when we go to the other</p>
<p begin="03:54:40.439" end="03:54:43.159" style="s2">machine you will see a whole bunch of</p>
<p begin="03:54:41.760" end="03:54:45.239" style="s2">other databases but those are all</p>
<p begin="03:54:43.159" end="03:54:46.920" style="s2">databases from my other project make</p>
<p begin="03:54:45.239" end="03:54:49.159" style="s2">sure you just focus on the fast API</p>
<p begin="03:54:46.920" end="03:54:51.359" style="s2">database all right I&#39;m back over to my</p>
<p begin="03:54:49.159" end="03:54:52.640" style="s2">new machine you&#39;ll see that if I uh take</p>
<p begin="03:54:51.359" end="03:54:54.520" style="s2">a look at my database there&#39;s going to</p>
<p begin="03:54:52.640" end="03:54:56.359" style="s2">be a whole bunch of other databases but</p>
<p begin="03:54:54.520" end="03:54:57.479" style="s2">I&#39;ve got my main fast API database so</p>
<p begin="03:54:56.359" end="03:54:59.359" style="s2">that&#39;s what we&#39;re going to be working on</p>
<p begin="03:54:57.479" end="03:55:00.800" style="s2">don&#39;t look at any of these other ones</p>
<p begin="03:54:59.359" end="03:55:02.920" style="s2">and within here it&#39;s going to be pretty</p>
<p begin="03:55:00.800" end="03:55:04.560" style="s2">much empty I&#39;ve got no tables and so</p>
<p begin="03:55:02.920" end="03:55:06.960" style="s2">we&#39;re going to go ahead and create our</p>
<p begin="03:55:04.560" end="03:55:08.960" style="s2">table for our uh social media</p>
<p begin="03:55:06.960" end="03:55:10.399" style="s2">application so uh you know we&#39;ve been</p>
<p begin="03:55:08.960" end="03:55:13.120" style="s2">working with posts so I think it makes</p>
<p begin="03:55:10.399" end="03:55:14.880" style="s2">sense to create a table for posts and</p>
<p begin="03:55:13.120" end="03:55:17.000" style="s2">before we do that we have to figure out</p>
<p begin="03:55:14.880" end="03:55:19.359" style="s2">exactly what are the columns for our</p>
<p begin="03:55:17.000" end="03:55:20.760" style="s2">specific table and to do that I think</p>
<p begin="03:55:19.359" end="03:55:22.159" style="s2">it&#39;s best to actually take a look at</p>
<p begin="03:55:20.760" end="03:55:24.120" style="s2">what our application looks like at the</p>
<p begin="03:55:22.159" end="03:55:25.920" style="s2">moment and so if we actually take a look</p>
<p begin="03:55:24.120" end="03:55:27.760" style="s2">at a structure of a post we know that</p>
<p begin="03:55:25.920" end="03:55:30.040" style="s2">it&#39;s going to have a title we know it&#39;s</p>
<p begin="03:55:27.760" end="03:55:31.920" style="s2">going to have a Content we&#39;re we know it</p>
<p begin="03:55:30.040" end="03:55:33.359" style="s2">should have a um attribute called</p>
<p begin="03:55:31.920" end="03:55:34.720" style="s2">publish to determine if it&#39;s published</p>
<p begin="03:55:33.359" end="03:55:36.159" style="s2">or not we&#39;re going to get rid of this</p>
<p begin="03:55:34.720" end="03:55:37.720" style="s2">rating that was just for demonstration</p>
<p begin="03:55:36.159" end="03:55:39.680" style="s2">purposes so I&#39;m going to remove that for</p>
<p begin="03:55:37.720" end="03:55:41.960" style="s2">now so it should have a title content</p>
<p begin="03:55:39.680" end="03:55:43.800" style="s2">published and like any other item uh</p>
<p begin="03:55:41.960" end="03:55:45.479" style="s2">when it comes to a database uh we&#39;re</p>
<p begin="03:55:43.800" end="03:55:48.840" style="s2">going to have ID column as well so that</p>
<p begin="03:55:45.479" end="03:55:49.720" style="s2">we we can uniquely identify each entry</p>
<p begin="03:55:48.840" end="03:55:52.319" style="s2">and then we&#39;re also going to have a</p>
<p begin="03:55:49.720" end="03:55:54.199" style="s2">created ad field to see uh to track when</p>
<p begin="03:55:52.319" end="03:55:56.439" style="s2">the specific post was added to the</p>
<p begin="03:55:54.199" end="03:55:57.800" style="s2">database so we&#39;ve got essentially five</p>
<p begin="03:55:56.439" end="03:55:59.239" style="s2">columns and then once we have that we</p>
<p begin="03:55:57.800" end="03:56:01.720" style="s2">can go ahead and just do what we did</p>
<p begin="03:55:59.239" end="03:56:03.880" style="s2">before we can go to tables we can hit</p>
<p begin="03:56:01.720" end="03:56:05.040" style="s2">create table and then we&#39;re going to</p>
<p begin="03:56:03.880" end="03:56:07.239" style="s2">call this table post because it</p>
<p begin="03:56:05.040" end="03:56:08.640" style="s2">represents our social media post and</p>
<p begin="03:56:07.239" end="03:56:10.560" style="s2">then we&#39;ll go to the column section and</p>
<p begin="03:56:08.640" end="03:56:12.720" style="s2">start defining our columns the first</p>
<p begin="03:56:10.560" end="03:56:14.960" style="s2">one&#39;s going to be our ID column and so</p>
<p begin="03:56:12.720" end="03:56:16.439" style="s2">with our ID we want to do series</p>
<p begin="03:56:14.960" end="03:56:18.080" style="s2">so this is going to cause it to be an</p>
<p begin="03:56:16.439" end="03:56:19.920" style="s2">integer that automatically increments</p>
<p begin="03:56:18.080" end="03:56:22.159" style="s2">for us and then that&#39;s going to be our</p>
<p begin="03:56:19.920" end="03:56:24.880" style="s2">primary key as it was</p>
<p begin="03:56:22.159" end="03:56:27.800" style="s2">before we&#39;ll add in another column for</p>
<p begin="03:56:24.880" end="03:56:31.040" style="s2">title this is going to be a varying</p>
<p begin="03:56:27.800" end="03:56:32.560" style="s2">character or character varying not null</p>
<p begin="03:56:31.040" end="03:56:33.960" style="s2">is going to be said to true we can&#39;t we</p>
<p begin="03:56:32.560" end="03:56:35.439" style="s2">don&#39;t want to be able to create a post</p>
<p begin="03:56:33.960" end="03:56:37.080" style="s2">without a</p>
<p begin="03:56:35.439" end="03:56:39.680" style="s2">title uh then we&#39;re going to have a</p>
<p begin="03:56:37.080" end="03:56:39.680" style="s2">column called</p>
<p begin="03:56:40.000" end="03:56:45.040" style="s2">content I believe that&#39;s what we called</p>
<p begin="03:56:42.159" end="03:56:46.560" style="s2">it here content yep</p>
<p begin="03:56:45.040" end="03:56:48.920" style="s2">uh once again this is going to be uh</p>
<p begin="03:56:46.560" end="03:56:48.920" style="s2">character</p>
<p begin="03:56:49.040" end="03:56:53.279" style="s2">varying and once again this is going to</p>
<p begin="03:56:50.880" end="03:56:55.840" style="s2">be not null uh then we&#39;re going to have</p>
<p begin="03:56:53.279" end="03:56:55.840" style="s2">a published</p>
<p begin="03:56:57.920" end="03:57:03.840" style="s2">column and this is going to be a</p>
<p begin="03:57:01.159" end="03:57:06.239" style="s2">Boolean uh this is also going to be not</p>
<p begin="03:57:03.840" end="03:57:08.920" style="s2">null however I&#39;m going to provide a</p>
<p begin="03:57:06.239" end="03:57:13.560" style="s2">default value so if I do leave it blank</p>
<p begin="03:57:08.920" end="03:57:13.560" style="s2">it&#39;s going to default to true</p>
<p begin="03:57:14.399" end="03:57:19.640" style="s2">and then finally we&#39;re going to create</p>
<p begin="03:57:15.560" end="03:57:22.920" style="s2">the created at column and this is going</p>
<p begin="03:57:19.640" end="03:57:24.560" style="s2">to be a time stamp with time zone this</p>
<p begin="03:57:22.920" end="03:57:25.840" style="s2">is also going to be not null and then</p>
<p begin="03:57:24.560" end="03:57:27.680" style="s2">just like we did before with our</p>
<p begin="03:57:25.840" end="03:57:29.640" style="s2">products we&#39;re going to add a constraint</p>
<p begin="03:57:27.680" end="03:57:31.439" style="s2">so that it&#39;s going to be uh now so it&#39;s</p>
<p begin="03:57:29.640" end="03:57:32.760" style="s2">going to grab the current time whenever</p>
<p begin="03:57:31.439" end="03:57:35.000" style="s2">we add this entry and it&#39;s going to</p>
<p begin="03:57:32.760" end="03:57:37.000" style="s2">automatically add it to that</p>
<p begin="03:57:35.000" end="03:57:38.880" style="s2">column and so at this point we&#39;ve got</p>
<p begin="03:57:37.000" end="03:57:40.960" style="s2">our tables defined we can go ahead and</p>
<p begin="03:57:38.880" end="03:57:43.399" style="s2">hit</p>
<p begin="03:57:40.960" end="03:57:45.520" style="s2">save if we right click on post and then</p>
<p begin="03:57:43.399" end="03:57:48.159" style="s2">go to view and edit data we should have</p>
<p begin="03:57:45.520" end="03:57:50.199" style="s2">essentially what is an empty database</p>
<p begin="03:57:48.159" end="03:57:52.479" style="s2">and for now uh we know how to insert</p>
<p begin="03:57:50.199" end="03:57:53.520" style="s2">data we can do it either through SQL or</p>
<p begin="03:57:52.479" end="03:57:54.600" style="s2">we can just do it to here I&#39;m just going</p>
<p begin="03:57:53.520" end="03:57:55.960" style="s2">to do it through here just because it&#39;s</p>
<p begin="03:57:54.600" end="03:57:58.239" style="s2">a little bit quicker for now so I&#39;m just</p>
<p begin="03:57:55.960" end="03:58:02.000" style="s2">going to say this is my first</p>
<p begin="03:57:58.239" end="03:58:04.960" style="s2">post and the content is uh we&#39;ll say</p>
<p begin="03:58:02.000" end="03:58:06.680" style="s2">some interesting stuff so just go ahead</p>
<p begin="03:58:04.960" end="03:58:08.399" style="s2">and just create a couple of</p>
<p begin="03:58:06.680" end="03:58:11.720" style="s2">posts and then I&#39;m going to add my</p>
<p begin="03:58:08.399" end="03:58:11.720" style="s2">second post</p>
<p begin="03:58:14.600" end="03:58:18.000" style="s2">all right and then we can just hit save</p>
<p begin="03:58:16.159" end="03:58:20.880" style="s2">and so now we have two posts in our</p>
<p begin="03:58:18.000" end="03:58:23.040" style="s2">database so we can start working with</p>
<p begin="03:58:20.880" end="03:58:24.800" style="s2">that when it comes to working with a</p>
<p begin="03:58:23.040" end="03:58:25.920" style="s2">postgress database within a python</p>
<p begin="03:58:24.800" end="03:58:28.040" style="s2">application we&#39;re going to need a</p>
<p begin="03:58:25.920" end="03:58:29.359" style="s2">postgress driver uh and so there&#39;s going</p>
<p begin="03:58:28.040" end="03:58:30.560" style="s2">to be a couple of different libraries</p>
<p begin="03:58:29.359" end="03:58:32.720" style="s2">that going to do that that can do that</p>
<p begin="03:58:30.560" end="03:58:35.319" style="s2">we&#39;re going to use this Library uh right</p>
<p begin="03:58:32.720" end="03:58:36.880" style="s2">here uh and I believe in a couple months</p>
<p begin="03:58:35.319" end="03:58:38.800" style="s2">a version three is coming up but right</p>
<p begin="03:58:36.880" end="03:58:40.319" style="s2">now this is the latest version so head</p>
<p begin="03:58:38.800" end="03:58:41.880" style="s2">on over to the documentation and it&#39;s</p>
<p begin="03:58:40.319" end="03:58:44.080" style="s2">going to show you how to just quickly</p>
<p begin="03:58:41.880" end="03:58:46.880" style="s2">set this up and so if we go to basic mod</p>
<p begin="03:58:44.080" end="03:58:48.960" style="s2">module usage this shows us how to uh set</p>
<p begin="03:58:46.880" end="03:58:50.439" style="s2">up a connection to our database and so</p>
<p begin="03:58:48.960" end="03:58:52.080" style="s2">we&#39;re going to import the</p>
<p begin="03:58:50.439" end="03:58:54.239" style="s2">library uh and then we&#39;re going to set</p>
<p begin="03:58:52.080" end="03:58:55.640" style="s2">up a connection and hopefully this is</p>
<p begin="03:58:54.239" end="03:58:57.720" style="s2">big enough for you guys so you just say</p>
<p begin="03:58:55.640" end="03:59:00.319" style="s2">connection and then here we pass in all</p>
<p begin="03:58:57.720" end="03:59:01.600" style="s2">of the data um for our postgress</p>
<p begin="03:59:00.319" end="03:59:03.520" style="s2">instance so you know what&#39;s the IP</p>
<p begin="03:59:01.600" end="03:59:05.199" style="s2">address of the postgress database what&#39;s</p>
<p begin="03:59:03.520" end="03:59:06.720" style="s2">the postgress database that we want to</p>
<p begin="03:59:05.199" end="03:59:09.399" style="s2">connect to what&#39;s the port number things</p>
<p begin="03:59:06.720" end="03:59:11.080" style="s2">like that and then we set up a cursor so</p>
<p begin="03:59:09.399" end="03:59:13.199" style="s2">this cursor is what we use to actually</p>
<p begin="03:59:11.080" end="03:59:15.840" style="s2">execute SQL commands and so you can just</p>
<p begin="03:59:13.199" end="03:59:17.720" style="s2">do cursor execute and then here we just</p>
<p begin="03:59:15.840" end="03:59:19.479" style="s2">say you know create table well you guys</p>
<p begin="03:59:17.720" end="03:59:21.159" style="s2">aren&#39;t familiar with that command yet um</p>
<p begin="03:59:19.479" end="03:59:23.720" style="s2">but you can do you know insert into you</p>
<p begin="03:59:21.159" end="03:59:25.560" style="s2">can do select star from test uh and then</p>
<p begin="03:59:23.720" end="03:59:27.279" style="s2">at that point we can then do fetch one</p>
<p begin="03:59:25.560" end="03:59:28.720" style="s2">fetch all and then if you ever want to</p>
<p begin="03:59:27.279" end="03:59:30.080" style="s2">make changes to a database you just do</p>
<p begin="03:59:28.720" end="03:59:31.960" style="s2">commit so it&#39;s a it&#39;s fairly</p>
<p begin="03:59:30.080" end="03:59:33.319" style="s2">straightforward so uh let&#39;s go to our</p>
<p begin="03:59:31.960" end="03:59:35.239" style="s2">code and set this</p>
<p begin="03:59:33.319" end="03:59:37.479" style="s2">up and so the first thing that we want</p>
<p begin="03:59:35.239" end="03:59:39.920" style="s2">to do is we want to install that Library</p>
<p begin="03:59:37.479" end="03:59:44.840" style="s2">so we&#39;ll do pip</p>
<p begin="03:59:39.920" end="03:59:44.840" style="s2">install and I&#39;ll just copy that name</p>
<p begin="03:59:48.720" end="03:59:53.399" style="s2">all right and now it&#39;s successfully</p>
<p begin="03:59:49.880" end="03:59:53.399" style="s2">installed so let&#39;s set up our</p>
<p begin="03:59:53.800" end="03:59:58.040" style="s2">connection and so a connection to a</p>
<p begin="03:59:55.880" end="03:59:59.439" style="s2">database can fail right maybe the</p>
<p begin="03:59:58.040" end="04:00:01.279" style="s2">database is unreachable maybe the</p>
<p begin="03:59:59.439" end="04:00:02.600" style="s2">database is down uh there&#39;s a lot of</p>
<p begin="04:00:01.279" end="04:00:04.080" style="s2">things that could cause issues with us</p>
<p begin="04:00:02.600" end="04:00:05.720" style="s2">being able to connect to we could put in</p>
<p begin="04:00:04.080" end="04:00:07.600" style="s2">wrong passwords or something like that</p>
<p begin="04:00:05.720" end="04:00:08.960" style="s2">so anytime you have some kind of code</p>
<p begin="04:00:07.600" end="04:00:12.080" style="s2">within python that could potentially</p>
<p begin="04:00:08.960" end="04:00:14.159" style="s2">fail we&#39;re going to use the try</p>
<p begin="04:00:12.080" end="04:00:17.600" style="s2">statement so I&#39;m going to say try and</p>
<p begin="04:00:14.159" end="04:00:20.040" style="s2">then we&#39;re going to say connection</p>
<p begin="04:00:17.600" end="04:00:20.960" style="s2">equals and then I realized first thing</p>
<p begin="04:00:20.040" end="04:00:22.840" style="s2">that we have to do is we actually have</p>
<p begin="04:00:20.960" end="04:00:25.439" style="s2">to import the library so let&#39;s just copy</p>
<p begin="04:00:22.840" end="04:00:25.439" style="s2">this line right</p>
<p begin="04:00:25.760" end="04:00:30.600" style="s2">here and then I&#39;m going to say Psy cop</p>
<p begin="04:00:28.880" end="04:00:31.880" style="s2">G2 I don&#39;t know if there&#39;s a specific</p>
<p begin="04:00:30.600" end="04:00:33.560" style="s2">way to actually pronounce that that&#39;s</p>
<p begin="04:00:31.880" end="04:00:36.120" style="s2">why I&#39;m not trying to pronounce it and</p>
<p begin="04:00:33.560" end="04:00:38.760" style="s2">then we call the connect method and so</p>
<p begin="04:00:36.120" end="04:00:40.479" style="s2">here we have to pass in a few properties</p>
<p begin="04:00:38.760" end="04:00:42.920" style="s2">so the first property is going to be the</p>
<p begin="04:00:40.479" end="04:00:46.040" style="s2">host uh so that&#39;s basically the IP</p>
<p begin="04:00:42.920" end="04:00:48.279" style="s2">address uh we also have to pass in the</p>
<p begin="04:00:46.040" end="04:00:51.640" style="s2">the specific database we want to connect</p>
<p begin="04:00:48.279" end="04:00:53.680" style="s2">to we also need to pass in the username</p>
<p begin="04:00:51.640" end="04:00:55.479" style="s2">that we want to connect as as well as</p>
<p begin="04:00:53.680" end="04:00:57.680" style="s2">the</p>
<p begin="04:00:55.479" end="04:01:00.040" style="s2">password and for now we&#39;ll just keep</p>
<p begin="04:00:57.680" end="04:01:02.159" style="s2">that as such so let&#39;s fill in these</p>
<p begin="04:01:00.040" end="04:01:04.479" style="s2">fields so what&#39;s the host so since this</p>
<p begin="04:01:02.159" end="04:01:05.840" style="s2">host is just our local machine uh for</p>
<p begin="04:01:04.479" end="04:01:08.199" style="s2">the IP address you can just say Local</p>
<p begin="04:01:05.840" end="04:01:10.760" style="s2">Host that means our own IP address I</p>
<p begin="04:01:08.199" end="04:01:13.680" style="s2">spelled I misspelled</p>
<p begin="04:01:10.760" end="04:01:15.640" style="s2">database and I&#39;m going to set this to be</p>
<p begin="04:01:13.680" end="04:01:17.000" style="s2">post postris cuz that&#39;s what&#39;s sorry</p>
<p begin="04:01:15.640" end="04:01:18.760" style="s2">it&#39;s not going to be postris it&#39;s going</p>
<p begin="04:01:17.000" end="04:01:20.239" style="s2">to be fast API all right so that</p>
<p begin="04:01:18.760" end="04:01:22.880" style="s2">database is just going to match up with</p>
<p begin="04:01:20.239" end="04:01:25.080" style="s2">the name of our database right</p>
<p begin="04:01:22.880" end="04:01:27.880" style="s2">here username we&#39;ve been using the</p>
<p begin="04:01:25.080" end="04:01:30.000" style="s2">default postris username and then</p>
<p begin="04:01:27.880" end="04:01:31.840" style="s2">password I&#39;m guessing you guys could</p>
<p begin="04:01:30.000" end="04:01:34.159" style="s2">have guessed what my password is it is</p>
<p begin="04:01:31.840" end="04:01:36.359" style="s2">password</p>
<p begin="04:01:34.159" end="04:01:38.760" style="s2">123 all right and then finally there&#39;s</p>
<p begin="04:01:36.359" end="04:01:40.640" style="s2">one extra thing that we have to pass in</p>
<p begin="04:01:38.760" end="04:01:43.000" style="s2">uh and so this library is a little bit</p>
<p begin="04:01:40.640" end="04:01:44.319" style="s2">weird so when you actually make a query</p>
<p begin="04:01:43.000" end="04:01:46.080" style="s2">to retrieve a bunch of rows from the</p>
<p begin="04:01:44.319" end="04:01:47.680" style="s2">database it doesn&#39;t include the column</p>
<p begin="04:01:46.080" end="04:01:49.520" style="s2">names it just gives you the values of</p>
<p begin="04:01:47.680" end="04:01:51.479" style="s2">the columns which uh you know it&#39;s like</p>
<p begin="04:01:49.520" end="04:01:53.159" style="s2">I don&#39;t know what you know what value</p>
<p begin="04:01:51.479" end="04:01:54.640" style="s2">maps to what column so you actually have</p>
<p begin="04:01:53.159" end="04:01:56.159" style="s2">to pass in an extra field to get the</p>
<p begin="04:01:54.640" end="04:01:57.760" style="s2">column names which kind of seems dumb</p>
<p begin="04:01:56.159" end="04:02:00.120" style="s2">but that&#39;s way the that&#39;s the way the</p>
<p begin="04:01:57.760" end="04:02:01.120" style="s2">library works and so what we&#39;re going to</p>
<p begin="04:02:00.120" end="04:02:02.560" style="s2">do up here is we&#39;re going to import</p>
<p begin="04:02:01.120" end="04:02:05.520" style="s2">something else we&#39;re going to do</p>
<p begin="04:02:02.560" end="04:02:07.040" style="s2">import same</p>
<p begin="04:02:05.520" end="04:02:10.040" style="s2">Library</p>
<p begin="04:02:07.040" end="04:02:14.479" style="s2">extras import and then</p>
<p begin="04:02:10.040" end="04:02:14.479" style="s2">real redict cursor</p>
<p begin="04:02:15.040" end="04:02:17.720" style="s2">and this should be</p>
<p begin="04:02:21.199" end="04:02:26.120" style="s2">from and then the last property we&#39;re</p>
<p begin="04:02:23.600" end="04:02:28.720" style="s2">going to pass in here the last argument</p>
<p begin="04:02:26.120" end="04:02:28.720" style="s2">is going to</p>
<p begin="04:02:29.080" end="04:02:35.680" style="s2">be cursor Factory equals real dick</p>
<p begin="04:02:33.399" end="04:02:36.920" style="s2">cursor so like I said all this does is</p>
<p begin="04:02:35.680" end="04:02:39.399" style="s2">it&#39;s also going to give you the column</p>
<p begin="04:02:36.920" end="04:02:40.840" style="s2">name um uh it&#39;s going to give you the</p>
<p begin="04:02:39.399" end="04:02:42.520" style="s2">column name as well as the value so you</p>
<p begin="04:02:40.840" end="04:02:44.120" style="s2">know which value map to what column or</p>
<p begin="04:02:42.520" end="04:02:45.800" style="s2">then it&#39;s just trying to figure the</p>
<p begin="04:02:44.120" end="04:02:47.040" style="s2">order and then mapping it to comms gets</p>
<p begin="04:02:45.800" end="04:02:49.000" style="s2">a little complicated so this will just</p>
<p begin="04:02:47.040" end="04:02:51.239" style="s2">make it a nice python dictionary when it</p>
<p begin="04:02:49.000" end="04:02:51.239" style="s2">returns</p>
<p begin="04:02:56.760" end="04:03:02.520" style="s2">it all right and just like it had in the</p>
<p begin="04:02:59.720" end="04:03:06.159" style="s2">um the documentation we&#39;ll say cursor</p>
<p begin="04:03:02.520" end="04:03:08.359" style="s2">equals con. cursor so it&#39;s just calling</p>
<p begin="04:03:06.159" end="04:03:10.479" style="s2">the cursor method and then saving it in</p>
<p begin="04:03:08.359" end="04:03:11.479" style="s2">a variable named cursor and so all this</p>
<p begin="04:03:10.479" end="04:03:13.600" style="s2">is going to do is this is what we&#39;re</p>
<p begin="04:03:11.479" end="04:03:15.760" style="s2">going to use to actually execute uh SQL</p>
<p begin="04:03:13.600" end="04:03:17.760" style="s2">state</p>
<p begin="04:03:15.760" end="04:03:20.040" style="s2">statements and if it&#39;s successfully able</p>
<p begin="04:03:17.760" end="04:03:20.920" style="s2">to connect we&#39;re going to say print and</p>
<p begin="04:03:20.040" end="04:03:26.640" style="s2">then we&#39;re just going to print out</p>
<p begin="04:03:20.920" end="04:03:26.640" style="s2">something like a database connection was</p>
<p begin="04:03:32.080" end="04:03:37.520" style="s2">successful however if we weren&#39;t able to</p>
<p begin="04:03:34.600" end="04:03:40.640" style="s2">connect to it and we get an exception</p>
<p begin="04:03:37.520" end="04:03:44.319" style="s2">we&#39;ll say accept exception as</p>
<p begin="04:03:40.640" end="04:03:46.479" style="s2">error so we&#39;re going to get the error uh</p>
<p begin="04:03:44.319" end="04:03:49.359" style="s2">it&#39;s stored in a variable called error</p>
<p begin="04:03:46.479" end="04:03:49.359" style="s2">and then we can just say</p>
<p begin="04:03:49.920" end="04:03:53.960" style="s2">print connecting to database</p>
<p begin="04:03:54.399" end="04:04:01.800" style="s2">failed and then after that just for our</p>
<p begin="04:03:57.840" end="04:04:05.720" style="s2">knowledge we can say the error</p>
<p begin="04:04:01.800" end="04:04:05.720" style="s2">was there we&#39;ll just print out the</p>
<p begin="04:04:07.600" end="04:04:12.399" style="s2">error so let&#39;s save this</p>
<p begin="04:04:17.439" end="04:04:20.239" style="s2">okay and you can see that we were</p>
<p begin="04:04:18.800" end="04:04:21.880" style="s2">successfully able to connect to our</p>
<p begin="04:04:20.239" end="04:04:24.760" style="s2">database so it looks like everything</p>
<p begin="04:04:21.880" end="04:04:27.239" style="s2">worked well um but just as a quick test</p>
<p begin="04:04:24.760" end="04:04:28.600" style="s2">I&#39;m going to change uh my password here</p>
<p begin="04:04:27.239" end="04:04:30.600" style="s2">I&#39;m going to put it as an incorrect</p>
<p begin="04:04:28.600" end="04:04:31.279" style="s2">value so let&#39;s save this and let&#39;s see</p>
<p begin="04:04:30.600" end="04:04:34.359" style="s2">what</p>
<p begin="04:04:31.279" end="04:04:36.760" style="s2">happens right we can see that uh the</p>
<p begin="04:04:34.359" end="04:04:38.479" style="s2">password failed and so at this point</p>
<p begin="04:04:36.760" end="04:04:40.159" style="s2">what the code does is it failed it</p>
<p begin="04:04:38.479" end="04:04:41.479" style="s2">printed out the error and then it just</p>
<p begin="04:04:40.159" end="04:04:44.080" style="s2">keeps going through the rest of our code</p>
<p begin="04:04:41.479" end="04:04:45.720" style="s2">so then it starts up our fast API server</p>
<p begin="04:04:44.080" end="04:04:47.000" style="s2">but at this point you know our</p>
<p begin="04:04:45.720" end="04:04:49.239" style="s2">application&#39;s not going to work because</p>
<p begin="04:04:47.000" end="04:04:51.680" style="s2">the postgress database connection failed</p>
<p begin="04:04:49.239" end="04:04:54.239" style="s2">so really our application our API our</p>
<p begin="04:04:51.680" end="04:04:56.000" style="s2">web server can&#39;t do anything until we</p>
<p begin="04:04:54.239" end="04:04:57.840" style="s2">get a connection to our database so just</p>
<p begin="04:04:56.000" end="04:05:00.319" style="s2">having it fail and then kind of</p>
<p begin="04:04:57.840" end="04:05:01.920" style="s2">gracefully handling that error doesn&#39;t</p>
<p begin="04:05:00.319" end="04:05:04.399" style="s2">do anything we need to wait for that</p>
<p begin="04:05:01.920" end="04:05:05.960" style="s2">connection to actually go through before</p>
<p begin="04:05:04.399" end="04:05:07.279" style="s2">we do anything else or then at that</p>
<p begin="04:05:05.960" end="04:05:08.720" style="s2">point there&#39;s really no point in having</p>
<p begin="04:05:07.279" end="04:05:10.960" style="s2">our server up and running if we can&#39;t</p>
<p begin="04:05:08.720" end="04:05:15.000" style="s2">access our database so what I like to do</p>
<p begin="04:05:10.960" end="04:05:17.279" style="s2">is we&#39;re going to set up a while loop</p>
<p begin="04:05:15.000" end="04:05:19.560" style="s2">and I&#39;m just going to say while and I</p>
<p begin="04:05:17.279" end="04:05:21.359" style="s2">want this Loop to just continuously run</p>
<p begin="04:05:19.560" end="04:05:23.239" style="s2">until we successfully get a connection</p>
<p begin="04:05:21.359" end="04:05:24.479" style="s2">so we&#39;ll say while true which means</p>
<p begin="04:05:23.239" end="04:05:25.920" style="s2">we&#39;re just going to keep doing this over</p>
<p begin="04:05:24.479" end="04:05:28.239" style="s2">and over and over again until we break</p>
<p begin="04:05:25.920" end="04:05:28.239" style="s2">out of</p>
<p begin="04:05:29.880" end="04:05:35.960" style="s2">it and I&#39;m going to tab everything over</p>
<p begin="04:05:32.840" end="04:05:35.960" style="s2">and put everything in that while</p>
<p begin="04:05:38.080" end="04:05:43.439" style="s2">loop all right and so while this true uh</p>
<p begin="04:05:41.680" end="04:05:45.279" style="s2">if we successfully are able to connect</p>
<p begin="04:05:43.439" end="04:05:47.439" style="s2">to the the database I&#39;m just going to</p>
<p begin="04:05:45.279" end="04:05:50.439" style="s2">break out of the while</p>
<p begin="04:05:47.439" end="04:05:50.439" style="s2">loop</p>
<p begin="04:05:50.680" end="04:05:55.760" style="s2">however uh if we fail then it&#39;s just</p>
<p begin="04:05:52.880" end="04:05:58.960" style="s2">going to go right back into that</p>
<p begin="04:05:55.760" end="04:06:01.000" style="s2">Loop and so now um one other thing is</p>
<p begin="04:05:58.960" end="04:06:03.080" style="s2">it&#39;s going to do this really quickly and</p>
<p begin="04:06:01.000" end="04:06:05.319" style="s2">I would like for after an error I would</p>
<p begin="04:06:03.080" end="04:06:07.399" style="s2">like it to kind of wait two to 3 seconds</p>
<p begin="04:06:05.319" end="04:06:10.439" style="s2">before it tries to reconnect so what we</p>
<p begin="04:06:07.399" end="04:06:15.359" style="s2">can do is we can import the time module</p>
<p begin="04:06:10.439" end="04:06:15.359" style="s2">so I&#39;ll say import time</p>
<p begin="04:06:15.520" end="04:06:20.920" style="s2">and here I&#39;ll just say time.</p>
<p begin="04:06:18.159" end="04:06:23.279" style="s2">sleep and I&#39;ll sleep for two seconds use</p>
<p begin="04:06:20.920" end="04:06:25.720" style="s2">whatever time you want and so now if I</p>
<p begin="04:06:23.279" end="04:06:27.080" style="s2">hit save check out what happens so it</p>
<p begin="04:06:25.720" end="04:06:28.040" style="s2">failed to connect because of wrong</p>
<p begin="04:06:27.080" end="04:06:30.239" style="s2">password and then it&#39;s just going to</p>
<p begin="04:06:28.040" end="04:06:32.000" style="s2">keep retrying every two seconds now for</p>
<p begin="04:06:30.239" end="04:06:33.920" style="s2">a failed password it&#39;s never going to</p>
<p begin="04:06:32.000" end="04:06:35.319" style="s2">connect however if it&#39;s an issue with</p>
<p begin="04:06:33.920" end="04:06:37.199" style="s2">your internet if it&#39;s an issue with the</p>
<p begin="04:06:35.319" end="04:06:39.199" style="s2">database hasn&#39;t having not fully</p>
<p begin="04:06:37.199" end="04:06:41.279" style="s2">initialized then having it just kind of</p>
<p begin="04:06:39.199" end="04:06:43.800" style="s2">redo this until the database fully comes</p>
<p begin="04:06:41.279" end="04:06:48.840" style="s2">up is a nice way of kind of handling so</p>
<p begin="04:06:43.800" end="04:06:50.600" style="s2">if I change this now back to the correct</p>
<p begin="04:06:48.840" end="04:06:53.279" style="s2">password we see that we&#39;re now</p>
<p begin="04:06:50.600" end="04:06:55.479" style="s2">successfully able to connect so this is</p>
<p begin="04:06:53.279" end="04:06:57.760" style="s2">our code for actually connecting to our</p>
<p begin="04:06:55.479" end="04:07:01.159" style="s2">database uh and at this point we can</p>
<p begin="04:06:57.760" end="04:07:03.640" style="s2">start working on actually um writing our</p>
<p begin="04:07:01.159" end="04:07:05.920" style="s2">SQL code and then you know being able to</p>
<p begin="04:07:03.640" end="04:07:09.640" style="s2">manipulate our database from our fast</p>
<p begin="04:07:05.920" end="04:07:11.640" style="s2">API and I do want to point out one thing</p>
<p begin="04:07:09.640" end="04:07:14.120" style="s2">uh generally when you&#39;re working with</p>
<p begin="04:07:11.640" end="04:07:16.920" style="s2">your code what we did right here is very</p>
<p begin="04:07:14.120" end="04:07:18.880" style="s2">bad we hardcoded all of our database</p>
<p begin="04:07:16.920" end="04:07:20.560" style="s2">information right into our code this</p>
<p begin="04:07:18.880" end="04:07:22.600" style="s2">creates a problem because first of all</p>
<p begin="04:07:20.560" end="04:07:24.640" style="s2">when we check this into get now our</p>
<p begin="04:07:22.600" end="04:07:26.119" style="s2">database password is stored in there and</p>
<p begin="04:07:24.640" end="04:07:28.000" style="s2">then we run into some extra issues</p>
<p begin="04:07:26.119" end="04:07:29.479" style="s2">because this is the connection for our</p>
<p begin="04:07:28.000" end="04:07:31.840" style="s2">development environment or our</p>
<p begin="04:07:29.479" end="04:07:33.199" style="s2">development postgress server our</p>
<p begin="04:07:31.840" end="04:07:35.680" style="s2">production postest server is not going</p>
<p begin="04:07:33.199" end="04:07:37.080" style="s2">to be running on a local host maybe um</p>
<p begin="04:07:35.680" end="04:07:38.600" style="s2">the database might be called something</p>
<p begin="04:07:37.080" end="04:07:40.479" style="s2">else the username and the password are</p>
<p begin="04:07:38.600" end="04:07:42.119" style="s2">for sure going to be different so if we</p>
<p begin="04:07:40.479" end="04:07:43.840" style="s2">hardcode it in we won&#39;t actually be able</p>
<p begin="04:07:42.119" end="04:07:45.880" style="s2">to change it in the future we we need a</p>
<p begin="04:07:43.840" end="04:07:47.399" style="s2">dynamic way to kind of have our code</p>
<p begin="04:07:45.880" end="04:07:48.640" style="s2">change based off of if it&#39;s in our</p>
<p begin="04:07:47.399" end="04:07:50.439" style="s2">development environment or our</p>
<p begin="04:07:48.640" end="04:07:51.680" style="s2">production environment so later on in</p>
<p begin="04:07:50.439" end="04:07:53.040" style="s2">this course we&#39;ll figure out how to do</p>
<p begin="04:07:51.680" end="04:07:55.000" style="s2">that however for now we&#39;re just going to</p>
<p begin="04:07:53.040" end="04:07:56.080" style="s2">work on keeping things simple and just</p>
<p begin="04:07:55.000" end="04:07:57.720" style="s2">learning how to interact with the</p>
<p begin="04:07:56.080" end="04:07:59.960" style="s2">database before we start moving into</p>
<p begin="04:07:57.720" end="04:08:01.800" style="s2">things like environment</p>
<p begin="04:07:59.960" end="04:08:03.000" style="s2">variables all right so the first thing</p>
<p begin="04:08:01.800" end="04:08:05.279" style="s2">that we&#39;re going to work on is</p>
<p begin="04:08:03.000" end="04:08:07.520" style="s2">retrieving all of our posts from our</p>
<p begin="04:08:05.279" end="04:08:09.800" style="s2">post table and so what we&#39;re going to do</p>
<p begin="04:08:07.520" end="04:08:12.119" style="s2">is we&#39;ll go to our specific path</p>
<p begin="04:08:09.800" end="04:08:14.279" style="s2">operation for that which is the app.get</p>
<p begin="04:08:12.119" end="04:08:16.920" style="s2">poost right here and let&#39;s figure out</p>
<p begin="04:08:14.279" end="04:08:18.560" style="s2">how to do this so if we go back to up to</p>
<p begin="04:08:16.920" end="04:08:20.680" style="s2">our connection right you&#39;ll see that we</p>
<p begin="04:08:18.560" end="04:08:21.920" style="s2">have access to this object right here</p>
<p begin="04:08:20.680" end="04:08:24.239" style="s2">which is cursor so we&#39;re going to use</p>
<p begin="04:08:21.920" end="04:08:26.760" style="s2">that to actually make a query so we&#39;ll</p>
<p begin="04:08:24.239" end="04:08:29.239" style="s2">say cursor.</p>
<p begin="04:08:26.760" end="04:08:32.199" style="s2">execute and then this is where we are</p>
<p begin="04:08:29.239" end="04:08:33.960" style="s2">going to P paste in our SQL</p>
<p begin="04:08:32.199" end="04:08:35.159" style="s2">statements so I&#39;m just going to put in</p>
<p begin="04:08:33.960" end="04:08:37.880" style="s2">three quotes right here and then we just</p>
<p begin="04:08:35.159" end="04:08:39.560" style="s2">put in our SQL statement uh so in this</p>
<p begin="04:08:37.880" end="04:08:45.080" style="s2">case right to retrieve all posts we just</p>
<p begin="04:08:39.560" end="04:08:45.080" style="s2">do select star from</p>
<p begin="04:08:46.199" end="04:08:53.399" style="s2">posts okay and let&#39;s save this as a</p>
<p begin="04:08:49.279" end="04:08:53.399" style="s2">variable so I&#39;ll just say these are my</p>
<p begin="04:08:54.600" end="04:09:00.199" style="s2">posts and then let&#39;s just do a print</p>
<p begin="04:08:57.399" end="04:09:03.399" style="s2">post to see what we</p>
<p begin="04:09:00.199" end="04:09:05.960" style="s2">get and so I&#39;m just going to go to my uh</p>
<p begin="04:09:03.399" end="04:09:08.199" style="s2">Postman and we&#39;ll just find my get posts</p>
<p begin="04:09:05.960" end="04:09:09.720" style="s2">request we&#39;ll send it all right and</p>
<p begin="04:09:08.199" end="04:09:12.159" style="s2">let&#39;s see what happens right we could</p>
<p begin="04:09:09.720" end="04:09:14.159" style="s2">see that it printed out none so this</p>
<p begin="04:09:12.159" end="04:09:16.479" style="s2">doesn&#39;t actually do anything</p>
<p begin="04:09:14.159" end="04:09:19.040" style="s2">right this is just passing in our SQL</p>
<p begin="04:09:16.479" end="04:09:20.040" style="s2">statement however to actually run it we</p>
<p begin="04:09:19.040" end="04:09:22.479" style="s2">have to</p>
<p begin="04:09:20.040" end="04:09:24.479" style="s2">do</p>
<p begin="04:09:22.479" end="04:09:27.040" style="s2">uh</p>
<p begin="04:09:24.479" end="04:09:29.520" style="s2">cursor Dot and then we have a couple of</p>
<p begin="04:09:27.040" end="04:09:31.800" style="s2">options we can do fetch all fetch many</p>
<p begin="04:09:29.520" end="04:09:33.600" style="s2">fetch one so uh when it comes to</p>
<p begin="04:09:31.800" end="04:09:35.119" style="s2">retrieving multiple posts we&#39;re going to</p>
<p begin="04:09:33.600" end="04:09:36.239" style="s2">always use fetch all don&#39;t worry about</p>
<p begin="04:09:35.119" end="04:09:38.000" style="s2">fetch many I don&#39;t think we&#39;re ever</p>
<p begin="04:09:36.239" end="04:09:40.359" style="s2">going to use that uh and then if we ever</p>
<p begin="04:09:38.000" end="04:09:42.040" style="s2">want to find one individual post uh you</p>
<p begin="04:09:40.359" end="04:09:43.920" style="s2">know like a finding a post by an ID or</p>
<p begin="04:09:42.040" end="04:09:46.359" style="s2">something then we can use fetch one cuz</p>
<p begin="04:09:43.920" end="04:09:47.720" style="s2">I believe if you want to fetch a post by</p>
<p begin="04:09:46.359" end="04:09:49.040" style="s2">an ID and you do fetch all it&#39;ll</p>
<p begin="04:09:47.720" end="04:09:51.520" style="s2">technically get it but it&#39;ll just keep</p>
<p begin="04:09:49.040" end="04:09:53.439" style="s2">searching through uh the database for</p>
<p begin="04:09:51.520" end="04:09:56.359" style="s2">another post with that ID however we</p>
<p begin="04:09:53.439" end="04:09:58.279" style="s2">know that only one post can have that</p>
<p begin="04:09:56.359" end="04:09:59.720" style="s2">exact ID so it&#39;s inefficient to kind of</p>
<p begin="04:09:58.279" end="04:10:00.720" style="s2">search through the entire database when</p>
<p begin="04:09:59.720" end="04:10:02.720" style="s2">we know there&#39;s only ever going to be</p>
<p begin="04:10:00.720" end="04:10:04.399" style="s2">one result so for those it&#39;s always</p>
<p begin="04:10:02.720" end="04:10:05.600" style="s2">better to use fetch one but since we&#39;re</p>
<p begin="04:10:04.399" end="04:10:07.520" style="s2">retrieving multiple posts we&#39;re going to</p>
<p begin="04:10:05.600" end="04:10:10.359" style="s2">use fetch</p>
<p begin="04:10:07.520" end="04:10:11.720" style="s2">all and at this point you know we don&#39;t</p>
<p begin="04:10:10.359" end="04:10:12.600" style="s2">actually need to save this in a variable</p>
<p begin="04:10:11.720" end="04:10:14.399" style="s2">because it&#39;s never going to return</p>
<p begin="04:10:12.600" end="04:10:19.880" style="s2">anything we we can save the output of</p>
<p begin="04:10:14.399" end="04:10:23.279" style="s2">this to be um posts so now if we save</p>
<p begin="04:10:19.880" end="04:10:25.479" style="s2">this run this</p>
<p begin="04:10:23.279" end="04:10:29.720" style="s2">again and I realized I forgot to</p>
<p begin="04:10:25.479" end="04:10:31.880" style="s2">actually call it let&#39;s try that</p>
<p begin="04:10:29.720" end="04:10:34.119" style="s2">again right you can see that we got all</p>
<p begin="04:10:31.880" end="04:10:35.680" style="s2">of our posts from here and so now</p>
<p begin="04:10:34.119" end="04:10:38.000" style="s2">instead of returning my post which is</p>
<p begin="04:10:35.680" end="04:10:39.720" style="s2">our old array which um we&#39;re not going</p>
<p begin="04:10:38.000" end="04:10:42.000" style="s2">to use we&#39;re going to return what we</p>
<p begin="04:10:39.720" end="04:10:43.520" style="s2">just fetched so we&#39;re going to return</p>
<p begin="04:10:42.000" end="04:10:45.760" style="s2">posts</p>
<p begin="04:10:43.520" end="04:10:47.920" style="s2">and we&#39;ll go r r that print statement</p>
<p begin="04:10:45.760" end="04:10:50.720" style="s2">it&#39;s not needed anymore and hopefully</p>
<p begin="04:10:47.920" end="04:10:52.560" style="s2">this works so let&#39;s hit send all right</p>
<p begin="04:10:50.720" end="04:10:54.560" style="s2">and so now you can see we&#39;ve got our two</p>
<p begin="04:10:52.560" end="04:10:56.960" style="s2">posts from our</p>
<p begin="04:10:54.560" end="04:10:58.640" style="s2">database and it&#39;s got uh all the extra</p>
<p begin="04:10:56.960" end="04:10:59.880" style="s2">field so it&#39;s got the published which is</p>
<p begin="04:10:58.640" end="04:11:02.720" style="s2">the default value and then it&#39;s got the</p>
<p begin="04:10:59.880" end="04:11:04.040" style="s2">created at timestamp which post added so</p>
<p begin="04:11:02.720" end="04:11:06.479" style="s2">now we&#39;ve actually successfully been</p>
<p begin="04:11:04.040" end="04:11:08.359" style="s2">able to retrieve posts from our postest</p>
<p begin="04:11:06.479" end="04:11:10.199" style="s2">database and you can see how easy it is</p>
<p begin="04:11:08.359" end="04:11:11.520" style="s2">to actually work with that in fact it</p>
<p begin="04:11:10.199" end="04:11:14.560" style="s2">was actually a little bit easier to do</p>
<p begin="04:11:11.520" end="04:11:17.399" style="s2">this than to actually work with a uh</p>
<p begin="04:11:14.560" end="04:11:19.399" style="s2">just an array stored in memory it really</p>
<p begin="04:11:17.399" end="04:11:21.560" style="s2">just comes down to understanding SQL and</p>
<p begin="04:11:19.399" end="04:11:24.159" style="s2">since we spent you know the last half an</p>
<p begin="04:11:21.560" end="04:11:25.960" style="s2">hour or so really drilling into how SQL</p>
<p begin="04:11:24.159" end="04:11:28.080" style="s2">Works uh you&#39;ll see that sql&#39;s pretty</p>
<p begin="04:11:25.960" end="04:11:30.119" style="s2">easy and then once you know SQL you know</p>
<p begin="04:11:28.080" end="04:11:32.119" style="s2">fetching you know retrieving updating</p>
<p begin="04:11:30.119" end="04:11:35.720" style="s2">deleting posts from a SQL database even</p>
<p begin="04:11:32.119" end="04:11:35.720" style="s2">within your python code is dead</p>
<p begin="04:11:35.880" end="04:11:41.359" style="s2">simple okay so let&#39;s now move on to</p>
<p begin="04:11:38.760" end="04:11:43.279" style="s2">creating a brand new post and so if we</p>
<p begin="04:11:41.359" end="04:11:45.439" style="s2">just quickly take a look at the code</p>
<p begin="04:11:43.279" end="04:11:48.640" style="s2">that we have right here uh you can see</p>
<p begin="04:11:45.439" end="04:11:50.159" style="s2">that we have our schema we&#39;re going to</p>
<p begin="04:11:48.640" end="04:11:51.640" style="s2">save that in our pantic model and so</p>
<p begin="04:11:50.159" end="04:11:54.720" style="s2">we&#39;ll be able to access the properties</p>
<p begin="04:11:51.640" end="04:11:56.520" style="s2">from the body within this post object so</p>
<p begin="04:11:54.720" end="04:11:59.680" style="s2">I&#39;m going to clear this out and just</p>
<p begin="04:11:56.520" end="04:11:59.680" style="s2">delete all of that code for</p>
<p begin="04:12:01.439" end="04:12:05.119" style="s2">now and for now I&#39;m just going to</p>
<p begin="04:12:03.319" end="04:12:06.119" style="s2">hardcode some value I&#39;ll just say</p>
<p begin="04:12:05.119" end="04:12:10.680" style="s2">created</p>
<p begin="04:12:06.119" end="04:12:15.159" style="s2">post and so let&#39;s work on uh inserting a</p>
<p begin="04:12:10.680" end="04:12:15.159" style="s2">new post into our database</p>
<p begin="04:12:15.760" end="04:12:19.680" style="s2">so once again we&#39;re going to uh access</p>
<p begin="04:12:17.840" end="04:12:22.000" style="s2">the cursor object so we&#39;re going to do</p>
<p begin="04:12:19.680" end="04:12:25.439" style="s2">cursor. execute and then once again</p>
<p begin="04:12:22.000" end="04:12:25.439" style="s2">we&#39;re going to use the three</p>
<p begin="04:12:26.279" end="04:12:30.439" style="s2">quotes and we&#39;re going to use typical</p>
<p begin="04:12:28.680" end="04:12:32.680" style="s2">SQL so to insert something into our</p>
<p begin="04:12:30.439" end="04:12:34.560" style="s2">database we do insert and then we say</p>
<p begin="04:12:32.680" end="04:12:37.279" style="s2">insert into what table do we want to</p>
<p begin="04:12:34.560" end="04:12:38.600" style="s2">insert it into we&#39;ll say the post table</p>
<p begin="04:12:37.279" end="04:12:40.880" style="s2">right and then here we have to pass in</p>
<p begin="04:12:38.600" end="04:12:43.359" style="s2">the columns uh of all the fields that we</p>
<p begin="04:12:40.880" end="04:12:45.439" style="s2">want to uh enter in so if we go look at</p>
<p begin="04:12:43.359" end="04:12:48.279" style="s2">our database uh that we have to pass in</p>
<p begin="04:12:45.439" end="04:12:51.000" style="s2">a title and a</p>
<p begin="04:12:48.279" end="04:12:52.399" style="s2">content and then everything else is</p>
<p begin="04:12:51.000" end="04:12:54.359" style="s2">optional so we can also provide</p>
<p begin="04:12:52.399" end="04:12:55.920" style="s2">published as well and then the database</p>
<p begin="04:12:54.359" end="04:12:57.239" style="s2">creates the created ad and the ID so</p>
<p begin="04:12:55.920" end="04:13:01.600" style="s2">it&#39;s really just these three columns</p>
<p begin="04:12:57.239" end="04:13:04.880" style="s2">that we&#39;re going to uh pass into</p>
<p begin="04:13:01.600" end="04:13:08.600" style="s2">here and so it&#39;s going to be</p>
<p begin="04:13:04.880" end="04:13:10.680" style="s2">title content and then</p>
<p begin="04:13:08.600" end="04:13:12.640" style="s2">published</p>
<p begin="04:13:10.680" end="04:13:15.080" style="s2">yep and then we have to pass in the</p>
<p begin="04:13:12.640" end="04:13:17.520" style="s2">values for for those columns and this is</p>
<p begin="04:13:15.080" end="04:13:19.640" style="s2">where things get</p>
<p begin="04:13:17.520" end="04:13:21.279" style="s2">interesting you never want to do any</p>
<p begin="04:13:19.640" end="04:13:23.279" style="s2">kind of string interpolation and then</p>
<p begin="04:13:21.279" end="04:13:26.239" style="s2">pass in the values of post directly into</p>
<p begin="04:13:23.279" end="04:13:28.399" style="s2">this instead what we want to do is uh</p>
<p begin="04:13:26.239" end="04:13:31.199" style="s2">we&#39;re going to</p>
<p begin="04:13:28.399" end="04:13:32.640" style="s2">parameterize um or sanitize all the data</p>
<p begin="04:13:31.199" end="04:13:35.439" style="s2">that we put into this SQL statement so</p>
<p begin="04:13:32.640" end="04:13:38.080" style="s2">what you should do is do percent s uh</p>
<p begin="04:13:35.439" end="04:13:41.399" style="s2">and so this kind of represents a</p>
<p begin="04:13:38.080" end="04:13:44.319" style="s2">variable and we&#39;re going to do percent s</p>
<p begin="04:13:41.399" end="04:13:46.359" style="s2">and then percent s</p>
<p begin="04:13:44.319" end="04:13:48.199" style="s2">and so this variable is going to be the</p>
<p begin="04:13:46.359" end="04:13:49.520" style="s2">value that gets passed in title this</p>
<p begin="04:13:48.199" end="04:13:51.279" style="s2">Vari variable is going to be the one</p>
<p begin="04:13:49.520" end="04:13:52.399" style="s2">that gets passed into content and this</p>
<p begin="04:13:51.279" end="04:13:54.960" style="s2">variable is the one that gets passed</p>
<p begin="04:13:52.399" end="04:13:56.880" style="s2">into the published column and what we</p>
<p begin="04:13:54.960" end="04:13:59.199" style="s2">want to set these as uh we&#39;re going to</p>
<p begin="04:13:56.880" end="04:14:01.720" style="s2">actually use a second item that we pass</p>
<p begin="04:13:59.199" end="04:14:04.319" style="s2">into the execute command uh the execute</p>
<p begin="04:14:01.720" end="04:14:07.199" style="s2">method and so here we pass in the actual</p>
<p begin="04:14:04.319" end="04:14:08.840" style="s2">values so this first percent s what do</p>
<p begin="04:14:07.199" end="04:14:12.080" style="s2">we want that to be that&#39;s going to be</p>
<p begin="04:14:08.840" end="04:14:13.880" style="s2">post. tile so we&#39;re grabbing the title</p>
<p begin="04:14:12.080" end="04:14:16.920" style="s2">from the body</p>
<p begin="04:14:13.880" end="04:14:19.000" style="s2">then we want to pass in post.</p>
<p begin="04:14:16.920" end="04:14:20.640" style="s2">content and then we want to pass in</p>
<p begin="04:14:19.000" end="04:14:22.680" style="s2">post.</p>
<p begin="04:14:20.640" end="04:14:25.359" style="s2">published all right and this may seem a</p>
<p begin="04:14:22.680" end="04:14:26.720" style="s2">little confusing and let me correct that</p>
<p begin="04:14:25.359" end="04:14:30.080" style="s2">um because I&#39;m sure a lot of you thought</p>
<p begin="04:14:26.720" end="04:14:32.080" style="s2">we could just do cursor. execute and</p>
<p begin="04:14:30.080" end="04:14:36.279" style="s2">then here we pass in just an a an F</p>
<p begin="04:14:32.080" end="04:14:36.279" style="s2">string and then I can just copy all of</p>
<p begin="04:14:38.239" end="04:14:44.600" style="s2">this and then pass in</p>
<p begin="04:14:40.600" end="04:14:47.199" style="s2">here oops and the values we can just do</p>
<p begin="04:14:44.600" end="04:14:51.080" style="s2">you know post.</p>
<p begin="04:14:47.199" end="04:14:53.520" style="s2">title and then um you know post. content</p>
<p begin="04:14:51.080" end="04:14:55.600" style="s2">and so on and this would technically</p>
<p begin="04:14:53.520" end="04:14:58.279" style="s2">work however this makes you vulnerable</p>
<p begin="04:14:55.600" end="04:15:00.760" style="s2">to SQL injection so if the user for the</p>
<p begin="04:14:58.279" end="04:15:02.159" style="s2">title uh decided to you know if we go to</p>
<p begin="04:15:00.760" end="04:15:04.239" style="s2">the create post and for the title he</p>
<p begin="04:15:02.159" end="04:15:06.520" style="s2">decided to pass in some kind of weird</p>
<p begin="04:15:04.239" end="04:15:08.800" style="s2">squl statement like uh</p>
<p begin="04:15:06.520" end="04:15:11.560" style="s2">insert</p>
<p begin="04:15:08.800" end="04:15:13.080" style="s2">into blah blah blah right he puts in SQL</p>
<p begin="04:15:11.560" end="04:15:15.760" style="s2">instead of a valid title this is what is</p>
<p begin="04:15:13.080" end="04:15:17.880" style="s2">a SQL injection uh attack and he could</p>
<p begin="04:15:15.760" end="04:15:19.600" style="s2">potentially uh manipulate data within</p>
<p begin="04:15:17.880" end="04:15:21.520" style="s2">our SQL database that&#39;s why it&#39;s never</p>
<p begin="04:15:19.600" end="04:15:24.080" style="s2">good to do it to pass that data in</p>
<p begin="04:15:21.520" end="04:15:27.800" style="s2">directly into here instead all of these</p>
<p begin="04:15:24.080" end="04:15:29.840" style="s2">um you know SQL libraries like uh uh</p>
<p begin="04:15:27.800" end="04:15:32.479" style="s2">like our postris library here uh they</p>
<p begin="04:15:29.840" end="04:15:34.479" style="s2">actually can sanitize the inputs so when</p>
<p begin="04:15:32.479" end="04:15:37.520" style="s2">we do this percent s method and then</p>
<p begin="04:15:34.479" end="04:15:39.399" style="s2">pass it in as the uh second field into</p>
<p begin="04:15:37.520" end="04:15:41.439" style="s2">the execute statement it&#39;ll actually</p>
<p begin="04:15:39.399" end="04:15:43.000" style="s2">make sure that there&#39;s no you know weird</p>
<p begin="04:15:41.439" end="04:15:44.119" style="s2">SQL commands in there and it&#39;s going to</p>
<p begin="04:15:43.000" end="04:15:46.080" style="s2">make sure that we&#39;re not vulnerable to</p>
<p begin="04:15:44.119" end="04:15:47.239" style="s2">SQL injection so that&#39;s why we never do</p>
<p begin="04:15:46.080" end="04:15:49.800" style="s2">it like</p>
<p begin="04:15:47.239" end="04:15:51.560" style="s2">this and we always do it like this and</p>
<p begin="04:15:49.800" end="04:15:54.119" style="s2">just keep in mind right these are just</p>
<p begin="04:15:51.560" end="04:15:55.760" style="s2">variables or placeholders and then the</p>
<p begin="04:15:54.119" end="04:15:56.680" style="s2">values we want to pass into that will be</p>
<p begin="04:15:55.760" end="04:15:59.399" style="s2">passed</p>
<p begin="04:15:56.680" end="04:16:01.000" style="s2">into um these parentheses right here as</p>
<p begin="04:15:59.399" end="04:16:03.199" style="s2">the second parameter into the execute</p>
<p begin="04:16:01.000" end="04:16:04.920" style="s2">method so post. tile since it&#39;s the</p>
<p begin="04:16:03.199" end="04:16:07.239" style="s2">first one in this list is going to go to</p>
<p begin="04:16:04.920" end="04:16:09.279" style="s2">the first percent s and then post.</p>
<p begin="04:16:07.239" end="04:16:11.000" style="s2">content is going to go to the second</p>
<p begin="04:16:09.279" end="04:16:13.000" style="s2">percent s and then post. published will</p>
<p begin="04:16:11.000" end="04:16:14.520" style="s2">go to the third percent s so the order</p>
<p begin="04:16:13.000" end="04:16:17.080" style="s2">matters they match up with whichever</p>
<p begin="04:16:14.520" end="04:16:19.439" style="s2">percent Des comes first so if I took um</p>
<p begin="04:16:17.080" end="04:16:22.159" style="s2">you know post out published right and</p>
<p begin="04:16:19.439" end="04:16:24.960" style="s2">then moved it all the way to the</p>
<p begin="04:16:22.159" end="04:16:27.399" style="s2">front well now post out published would</p>
<p begin="04:16:24.960" end="04:16:28.880" style="s2">go to the first percent s post out title</p>
<p begin="04:16:27.399" end="04:16:30.239" style="s2">would go to the second one that would</p>
<p begin="04:16:28.880" end="04:16:31.479" style="s2">cause issues because it doesn&#39;t line up</p>
<p begin="04:16:30.239" end="04:16:33.239" style="s2">with that so that&#39;s why we want to make</p>
<p begin="04:16:31.479" end="04:16:35.479" style="s2">sure that the the order really does in</p>
<p begin="04:16:33.239" end="04:16:35.479" style="s2">fact</p>
<p begin="04:16:38.080" end="04:16:42.279" style="s2">matter and just like we had before uh</p>
<p begin="04:16:40.880" end="04:16:45.159" style="s2">anytime we create something in our</p>
<p begin="04:16:42.279" end="04:16:48.960" style="s2">database we want return uh the created</p>
<p begin="04:16:45.159" end="04:16:48.960" style="s2">result so we can use the returning</p>
<p begin="04:16:49.080" end="04:16:53.080" style="s2">keyword and we&#39;ll return</p>
<p begin="04:16:51.359" end="04:16:55.159" style="s2">everything uh and so you&#39;re probably</p>
<p begin="04:16:53.080" end="04:16:58.520" style="s2">thinking you know we we can just save</p>
<p begin="04:16:55.159" end="04:16:59.680" style="s2">newor poost equals that and then since</p>
<p begin="04:16:58.520" end="04:17:01.680" style="s2">we&#39;re returning it it&#39;s going to get</p>
<p begin="04:16:59.680" end="04:17:03.920" style="s2">stored into that variable and that&#39;s not</p>
<p begin="04:17:01.680" end="04:17:05.760" style="s2">exactly correct uh instead what we have</p>
<p begin="04:17:03.920" end="04:17:08.640" style="s2">to do is to get that returned value we</p>
<p begin="04:17:05.760" end="04:17:09.520" style="s2">have to do a new uncore poost and then</p>
<p begin="04:17:08.640" end="04:17:13.239" style="s2">we do</p>
<p begin="04:17:09.520" end="04:17:15.560" style="s2">cursor. fetch one</p>
<p begin="04:17:13.239" end="04:17:17.520" style="s2">so that&#39;ll get whatever we return from</p>
<p begin="04:17:15.560" end="04:17:20.399" style="s2">here and then what we&#39;re going to do is</p>
<p begin="04:17:17.520" end="04:17:22.680" style="s2">we&#39;re going to say newor poost it&#39;s</p>
<p begin="04:17:20.399" end="04:17:25.720" style="s2">going to get returned to the user let&#39;s</p>
<p begin="04:17:22.680" end="04:17:27.359" style="s2">save that and let&#39;s see what happens so</p>
<p begin="04:17:25.720" end="04:17:30.000" style="s2">go to our create post and then I&#39;m going</p>
<p begin="04:17:27.359" end="04:17:31.760" style="s2">to clear that out and just say hey hey</p>
<p begin="04:17:30.000" end="04:17:35.439" style="s2">this is my new</p>
<p begin="04:17:31.760" end="04:17:38.159" style="s2">post and let&#39;s hit send so it looks like</p>
<p begin="04:17:35.439" end="04:17:40.239" style="s2">everything worked right 21 created you</p>
<p begin="04:17:38.159" end="04:17:42.159" style="s2">can see it&#39;s got all of these values</p>
<p begin="04:17:40.239" end="04:17:44.560" style="s2">let&#39;s go back to our SQL database I&#39;m</p>
<p begin="04:17:42.159" end="04:17:45.920" style="s2">going to just do a quick uh query so</p>
<p begin="04:17:44.560" end="04:17:50.640" style="s2">I&#39;ll just say query</p>
<p begin="04:17:45.920" end="04:17:54.040" style="s2">tool and I&#39;ll just say select star from</p>
<p begin="04:17:50.640" end="04:17:55.600" style="s2">Posts let&#39;s run it and if we take a look</p>
<p begin="04:17:54.040" end="04:17:57.000" style="s2">at the values and the title should be</p>
<p begin="04:17:55.600" end="04:17:59.680" style="s2">hey this is my new post with an ID of</p>
<p begin="04:17:57.000" end="04:18:01.159" style="s2">three you could see it&#39;s not in there uh</p>
<p begin="04:17:59.680" end="04:18:04.159" style="s2">and so you might be wondering well uh</p>
<p begin="04:18:01.159" end="04:18:06.319" style="s2">you know the output of our our API looks</p>
<p begin="04:18:04.159" end="04:18:08.319" style="s2">perfect it sent it all back well when</p>
<p begin="04:18:06.319" end="04:18:09.119" style="s2">you&#39;re working with uh postgress or any</p>
<p begin="04:18:08.319" end="04:18:11.960" style="s2">of these</p>
<p begin="04:18:09.119" end="04:18:13.399" style="s2">libraries you have to actually do one</p>
<p begin="04:18:11.960" end="04:18:15.359" style="s2">last thing you actually have to commit</p>
<p begin="04:18:13.399" end="04:18:17.040" style="s2">the changes uh just like when it comes</p>
<p begin="04:18:15.359" end="04:18:19.880" style="s2">to working in our database you know if I</p>
<p begin="04:18:17.040" end="04:18:21.800" style="s2">create something here pass in some data</p>
<p begin="04:18:19.880" end="04:18:24.040" style="s2">into the content it&#39;s not saved in there</p>
<p begin="04:18:21.800" end="04:18:27.760" style="s2">I actually have to finally save it so to</p>
<p begin="04:18:24.040" end="04:18:29.640" style="s2">save that data we have to reference uh</p>
<p begin="04:18:27.760" end="04:18:31.040" style="s2">instead of the cursor we&#39;re going to</p>
<p begin="04:18:29.640" end="04:18:32.319" style="s2">reference the connection and then we</p>
<p begin="04:18:31.040" end="04:18:36.080" style="s2">have to do a</p>
<p begin="04:18:32.319" end="04:18:37.920" style="s2">commit so if we go down here we just say</p>
<p begin="04:18:36.080" end="04:18:39.840" style="s2">con which is my connection to my</p>
<p begin="04:18:37.920" end="04:18:42.319" style="s2">database and just say commit so that&#39;s</p>
<p begin="04:18:39.840" end="04:18:46.680" style="s2">actually going to push those changes out</p>
<p begin="04:18:42.319" end="04:18:46.680" style="s2">so we&#39;ll save that now I&#39;ll try this</p>
<p begin="04:18:46.840" end="04:18:51.199" style="s2">again all right and so now we got it</p>
<p begin="04:18:49.040" end="04:18:53.000" style="s2">looks like it has an IDE of four if I go</p>
<p begin="04:18:51.199" end="04:18:55.439" style="s2">to my postgress database I&#39;m going to do</p>
<p begin="04:18:53.000" end="04:18:55.439" style="s2">another</p>
<p begin="04:18:56.119" end="04:19:01.399" style="s2">search sure it&#39;s okay if it deletes it</p>
<p begin="04:18:58.960" end="04:19:03.600" style="s2">uh and so now we can see idea 4 hey this</p>
<p begin="04:19:01.399" end="04:19:06.000" style="s2">is my new post so now it worked so keep</p>
<p begin="04:19:03.600" end="04:19:07.239" style="s2">in mind anytime you want to insert data</p>
<p begin="04:19:06.000" end="04:19:09.000" style="s2">uh into your code make sure you do a</p>
<p begin="04:19:07.239" end="04:19:10.520" style="s2">connection. commit to actually save it</p>
<p begin="04:19:09.000" end="04:19:12.720" style="s2">into the postest database because these</p>
<p begin="04:19:10.520" end="04:19:14.040" style="s2">are all staged changes so we&#39;re stage</p>
<p begin="04:19:12.720" end="04:19:15.800" style="s2">staging it we can see the result of the</p>
<p begin="04:19:14.040" end="04:19:17.760" style="s2">stage but we have to commit it to the</p>
<p begin="04:19:15.800" end="04:19:19.800" style="s2">database to actually finalize those</p>
<p begin="04:19:17.760" end="04:19:22.560" style="s2">changes all right so now let&#39;s move on</p>
<p begin="04:19:19.800" end="04:19:24.520" style="s2">to fetching an individual post by an ID</p>
<p begin="04:19:22.560" end="04:19:26.359" style="s2">um I want you guys to take a crack at</p>
<p begin="04:19:24.520" end="04:19:27.840" style="s2">this C if you can try to figure it out</p>
<p begin="04:19:26.359" end="04:19:29.960" style="s2">it&#39;s going to be relatively similar to</p>
<p begin="04:19:27.840" end="04:19:31.600" style="s2">the two other previous ones we&#39;ve done</p>
<p begin="04:19:29.960" end="04:19:33.560" style="s2">so we&#39;ll start out by referencing the</p>
<p begin="04:19:31.600" end="04:19:35.279" style="s2">cursor object as usual and then we&#39;ll</p>
<p begin="04:19:33.560" end="04:19:38.080" style="s2">execute and then here we&#39;re going to</p>
<p begin="04:19:35.279" end="04:19:38.080" style="s2">pass in our SQL</p>
<p begin="04:19:41.239" end="04:19:47.040" style="s2">statement and so we&#39;re do is Select star</p>
<p begin="04:19:45.159" end="04:19:48.720" style="s2">from post that&#39;s going to grab every</p>
<p begin="04:19:47.040" end="04:19:50.479" style="s2">post but we want to grab just one post</p>
<p begin="04:19:48.720" end="04:19:51.840" style="s2">based off of the ID and so you guys</p>
<p begin="04:19:50.479" end="04:19:55.040" style="s2">already know how to do that we can say</p>
<p begin="04:19:51.840" end="04:19:57.399" style="s2">where ID equals and then whatever ID</p>
<p begin="04:19:55.040" end="04:19:59.840" style="s2">that you want uh and so let&#39;s take a</p>
<p begin="04:19:57.399" end="04:20:01.159" style="s2">look at our database I have uh an ID a</p>
<p begin="04:19:59.840" end="04:20:02.680" style="s2">post with an ID of one so right now I&#39;m</p>
<p begin="04:20:01.159" end="04:20:04.880" style="s2">just going to hard code it I&#39;m going to</p>
<p begin="04:20:02.680" end="04:20:07.119" style="s2">say post with an ID of</p>
<p begin="04:20:04.880" end="04:20:08.760" style="s2">one and at this point this is not going</p>
<p begin="04:20:07.119" end="04:20:12.399" style="s2">to return anything to actually return</p>
<p begin="04:20:08.760" end="04:20:13.760" style="s2">something we&#39;ll say uh cursor do Fetch</p>
<p begin="04:20:12.399" end="04:20:15.800" style="s2">and then we&#39;re going to use not fetch</p>
<p begin="04:20:13.760" end="04:20:18.040" style="s2">all but fetch one because there&#39;s only</p>
<p begin="04:20:15.800" end="04:20:19.720" style="s2">ever going to be a post with an IDE of</p>
<p begin="04:20:18.040" end="04:20:21.319" style="s2">one just and so this is going to make it</p>
<p begin="04:20:19.720" end="04:20:24.199" style="s2">a little bit more efficient and then I&#39;m</p>
<p begin="04:20:21.319" end="04:20:24.199" style="s2">going to save that as</p>
<p begin="04:20:24.560" end="04:20:29.159" style="s2">post I&#39;ll just say test post not to get</p>
<p begin="04:20:27.159" end="04:20:30.159" style="s2">confused with the other post and then</p>
<p begin="04:20:29.159" end="04:20:32.520" style="s2">we&#39;re going to print that out just to</p>
<p begin="04:20:30.159" end="04:20:32.520" style="s2">see if it</p>
<p begin="04:20:34.680" end="04:20:40.000" style="s2">worked so let&#39;s get one</p>
<p begin="04:20:38.000" end="04:20:43.159" style="s2">post and it doesn&#39;t really matter what</p>
<p begin="04:20:40.000" end="04:20:44.520" style="s2">we send it as</p>
<p begin="04:20:43.159" end="04:20:46.080" style="s2">if I take a look at this print statement</p>
<p begin="04:20:44.520" end="04:20:48.800" style="s2">you can see that we were able to get</p>
<p begin="04:20:46.080" end="04:20:50.680" style="s2">just that one single post so it looks</p>
<p begin="04:20:48.800" end="04:20:52.479" style="s2">like that worked so now let&#39;s clear out</p>
<p begin="04:20:50.680" end="04:20:54.840" style="s2">all of this other code I&#39;m going to</p>
<p begin="04:20:52.479" end="04:20:57.040" style="s2">remove the print statement um actually</p>
<p begin="04:20:54.840" end="04:20:58.439" style="s2">before we do that first of all let&#39;s not</p>
<p begin="04:20:57.040" end="04:21:00.880" style="s2">hard code the value anymore instead we</p>
<p begin="04:20:58.439" end="04:21:04.279" style="s2">want to use the ID that we passed in uh</p>
<p begin="04:21:00.880" end="04:21:07.479" style="s2">From the Path parameter so how do we do</p>
<p begin="04:21:04.279" end="04:21:08.640" style="s2">that remember this we want to always</p>
<p begin="04:21:07.479" end="04:21:10.760" style="s2">make sure that we&#39;re not vulnerable to</p>
<p begin="04:21:08.640" end="04:21:12.800" style="s2">SQL injection attack so we&#39;ll do percent</p>
<p begin="04:21:10.760" end="04:21:14.840" style="s2">s that&#39;s going to be the placeholder for</p>
<p begin="04:21:12.800" end="04:21:18.040" style="s2">the value and then the second thing that</p>
<p begin="04:21:14.840" end="04:21:21.479" style="s2">we pass into the execute method this is</p>
<p begin="04:21:18.040" end="04:21:23.119" style="s2">going to be the ID so we take the ID and</p>
<p begin="04:21:21.479" end="04:21:24.720" style="s2">then that&#39;s going to get pushed into</p>
<p begin="04:21:23.119" end="04:21:26.479" style="s2">this value so it&#39;s essentially doing the</p>
<p begin="04:21:24.720" end="04:21:29.600" style="s2">same exact thing so let&#39;s see what</p>
<p begin="04:21:26.479" end="04:21:31.000" style="s2">happens uh when we try to run this again</p>
<p begin="04:21:29.600" end="04:21:33.640" style="s2">and I&#39;m going to try to grab a post of</p>
<p begin="04:21:31.000" end="04:21:34.800" style="s2">one and let&#39;s see what happens all right</p>
<p begin="04:21:33.640" end="04:21:36.520" style="s2">so it looks like we got an error so</p>
<p begin="04:21:34.800" end="04:21:39.199" style="s2">let&#39;s take a</p>
<p begin="04:21:36.520" end="04:21:40.960" style="s2">look and it says that int object does</p>
<p begin="04:21:39.199" end="04:21:42.840" style="s2">not support indexing so it&#39;s not very</p>
<p begin="04:21:40.960" end="04:21:44.960" style="s2">helpful however I&#39;ll tell you EX exactly</p>
<p begin="04:21:42.840" end="04:21:48.199" style="s2">what&#39;s</p>
<p begin="04:21:44.960" end="04:21:51.279" style="s2">happening because this is a string we</p>
<p begin="04:21:48.199" end="04:21:54.119" style="s2">need ID to be a string as well right now</p>
<p begin="04:21:51.279" end="04:21:55.640" style="s2">it&#39;s an integer because we validated it</p>
<p begin="04:21:54.119" end="04:21:57.960" style="s2">as an integer and we converted it to an</p>
<p begin="04:21:55.640" end="04:22:00.319" style="s2">integer but we need this to be a string</p>
<p begin="04:21:57.960" end="04:22:01.560" style="s2">or then it&#39;s not going to work so we</p>
<p begin="04:22:00.319" end="04:22:04.600" style="s2">have to convert it to a string it&#39;s</p>
<p begin="04:22:01.560" end="04:22:04.600" style="s2">pretty simple you just do</p>
<p begin="04:22:05.960" end="04:22:10.319" style="s2">string and that&#39;s all and at that point</p>
<p begin="04:22:08.319" end="04:22:11.560" style="s2">that should fix the issue and I&#39;m sure</p>
<p begin="04:22:10.319" end="04:22:14.080" style="s2">you guys are a little bit confused</p>
<p begin="04:22:11.560" end="04:22:16.319" style="s2">because uh when when it comes in as a uh</p>
<p begin="04:22:14.080" end="04:22:18.760" style="s2">path parameter it&#39;s going to come in as</p>
<p begin="04:22:16.319" end="04:22:21.720" style="s2">a string we then convert it to an INT to</p>
<p begin="04:22:18.760" end="04:22:23.080" style="s2">then only convert it back into a string</p>
<p begin="04:22:21.720" end="04:22:25.479" style="s2">uh and so you might think well maybe we</p>
<p begin="04:22:23.080" end="04:22:27.000" style="s2">should just change this to a string but</p>
<p begin="04:22:25.479" end="04:22:28.800" style="s2">if you change that to a string then it</p>
<p begin="04:22:27.000" end="04:22:30.600" style="s2">could potentially open up it to us to</p>
<p begin="04:22:28.800" end="04:22:32.199" style="s2">issues where the user could type in</p>
<p begin="04:22:30.600" end="04:22:33.920" style="s2">something like this which isn&#39;t a valid</p>
<p begin="04:22:32.199" end="04:22:36.600" style="s2">ID so we do have to validate it as a</p>
<p begin="04:22:33.920" end="04:22:39.960" style="s2">number uh convert it to an INT and then</p>
<p begin="04:22:36.600" end="04:22:39.960" style="s2">convert it back to a string once</p>
<p begin="04:22:41.000" end="04:22:44.439" style="s2">again let&#39;s save this</p>
<p begin="04:22:45.119" end="04:22:48.800" style="s2">this our error should go away and let&#39;s</p>
<p begin="04:22:47.760" end="04:22:51.159" style="s2">try</p>
<p begin="04:22:48.800" end="04:22:52.680" style="s2">this all right no error so it looks like</p>
<p begin="04:22:51.159" end="04:22:54.680" style="s2">everything&#39;s good and so now it&#39;s just a</p>
<p begin="04:22:52.680" end="04:22:56.680" style="s2">matter of cleaning up our code and</p>
<p begin="04:22:54.680" end="04:22:59.119" style="s2">getting rid of all of the other</p>
<p begin="04:22:56.680" end="04:23:02.199" style="s2">code so I&#39;m going to rename this so this</p>
<p begin="04:22:59.119" end="04:23:03.880" style="s2">is just going to be post so we can keep</p>
<p begin="04:23:02.199" end="04:23:06.199" style="s2">everything else the same so if we didn&#39;t</p>
<p begin="04:23:03.880" end="04:23:07.439" style="s2">find a post right which means uh you</p>
<p begin="04:23:06.199" end="04:23:09.159" style="s2">know the database return nothing it&#39;s</p>
<p begin="04:23:07.439" end="04:23:11.040" style="s2">going to be set to none and then we can</p>
<p begin="04:23:09.159" end="04:23:12.239" style="s2">raise the usual exception but if we did</p>
<p begin="04:23:11.040" end="04:23:14.000" style="s2">find a post we&#39;re just going to return</p>
<p begin="04:23:12.239" end="04:23:15.760" style="s2">it</p>
<p begin="04:23:14.000" end="04:23:17.239" style="s2">but now if I get a post of one you can</p>
<p begin="04:23:15.760" end="04:23:18.840" style="s2">see that we&#39;ve got that post which is</p>
<p begin="04:23:17.239" end="04:23:21.279" style="s2">clearly from the post database because</p>
<p begin="04:23:18.840" end="04:23:24.600" style="s2">it has the created at field and then if</p>
<p begin="04:23:21.279" end="04:23:26.800" style="s2">I try to grab a post of an if I try to</p>
<p begin="04:23:24.600" end="04:23:28.960" style="s2">grab the ID of a post that doesn&#39;t exist</p>
<p begin="04:23:26.800" end="04:23:30.680" style="s2">try five we can see that post with the</p>
<p begin="04:23:28.960" end="04:23:31.960" style="s2">ID of 5 was not found and let&#39;s just</p>
<p begin="04:23:30.680" end="04:23:33.840" style="s2">double check to make sure that there is</p>
<p begin="04:23:31.960" end="04:23:35.000" style="s2">no post with an ID of five and there</p>
<p begin="04:23:33.840" end="04:23:37.600" style="s2">isn&#39;t a</p>
<p begin="04:23:35.000" end="04:23:40.720" style="s2">perfect and you know guys one</p>
<p begin="04:23:37.600" end="04:23:42.560" style="s2">interesting thing uh later down in some</p>
<p begin="04:23:40.720" end="04:23:45.319" style="s2">of the next PATH operations that we we</p>
<p begin="04:23:42.560" end="04:23:46.800" style="s2">work on um I did run into a weird issue</p>
<p begin="04:23:45.319" end="04:23:48.479" style="s2">where if I didn&#39;t have a comma right</p>
<p begin="04:23:46.800" end="04:23:50.119" style="s2">after this even though there&#39;s nothing</p>
<p begin="04:23:48.479" end="04:23:52.800" style="s2">that comes after it led to an issue I&#39;m</p>
<p begin="04:23:50.119" end="04:23:54.159" style="s2">not sure why it did that um but keep in</p>
<p begin="04:23:52.800" end="04:23:56.560" style="s2">mind if you do run into some weird</p>
<p begin="04:23:54.159" end="04:23:58.800" style="s2">issues just put in this extra comma for</p>
<p begin="04:23:56.560" end="04:24:01.279" style="s2">some reason or another it potentially</p>
<p begin="04:23:58.800" end="04:24:02.800" style="s2">fixes some issues okay so just keep that</p>
<p begin="04:24:01.279" end="04:24:05.399" style="s2">in mind I don&#39;t have an explanation for</p>
<p begin="04:24:02.800" end="04:24:07.239" style="s2">it you know maybe it&#39;s listed somewhere</p>
<p begin="04:24:05.399" end="04:24:09.439" style="s2">uh within stock over flow I&#39;m sure</p>
<p begin="04:24:07.239" end="04:24:11.080" style="s2">someone eventually or occasionally asked</p>
<p begin="04:24:09.439" end="04:24:13.239" style="s2">this question and I just couldn&#39;t find</p>
<p begin="04:24:11.080" end="04:24:14.960" style="s2">it</p>
<p begin="04:24:13.239" end="04:24:17.439" style="s2">all right so now let&#39;s work on deleting</p>
<p begin="04:24:14.960" end="04:24:19.680" style="s2">a post I&#39;m going to remove these</p>
<p begin="04:24:17.439" end="04:24:22.359" style="s2">comments to clear up some space we&#39;re</p>
<p begin="04:24:19.680" end="04:24:25.080" style="s2">going to do cursor. execute you guys</p>
<p begin="04:24:22.359" end="04:24:26.479" style="s2">should already know the exact SQL</p>
<p begin="04:24:25.080" end="04:24:27.920" style="s2">statement that we need so it&#39;s going to</p>
<p begin="04:24:26.479" end="04:24:31.239" style="s2">be</p>
<p begin="04:24:27.920" end="04:24:35.000" style="s2">select sorry not select</p>
<p begin="04:24:31.239" end="04:24:37.319" style="s2">delete from post table and then we&#39;re</p>
<p begin="04:24:35.000" end="04:24:40.279" style="s2">going to delete by ID so we&#39;ll say where</p>
<p begin="04:24:37.319" end="04:24:43.680" style="s2">ID equals and then remember we don&#39;t</p>
<p begin="04:24:40.279" end="04:24:46.760" style="s2">want to pass in the um the user input</p>
<p begin="04:24:43.680" end="04:24:49.080" style="s2">directly we want to do that placeholder</p>
<p begin="04:24:46.760" end="04:24:51.479" style="s2">again and then we also want to we want</p>
<p begin="04:24:49.080" end="04:24:54.239" style="s2">to do a returning so we&#39;ll see what that</p>
<p begin="04:24:51.479" end="04:24:56.199" style="s2">post was before it was</p>
<p begin="04:24:54.239" end="04:24:58.800" style="s2">deleted and then we&#39;ll pass in the value</p>
<p begin="04:24:56.199" end="04:25:00.119" style="s2">of the post so this is going to be ID um</p>
<p begin="04:24:58.800" end="04:25:03.040" style="s2">but we want to convert it to a string so</p>
<p begin="04:25:00.119" end="04:25:04.760" style="s2">we don&#39;t hit that error</p>
<p begin="04:25:03.040" end="04:25:06.760" style="s2">again and then I&#39;m going to do that</p>
<p begin="04:25:04.760" end="04:25:09.119" style="s2">empty Comma just to avoid any potential</p>
<p begin="04:25:06.760" end="04:25:11.319" style="s2">issues and then we have to do a cursor.</p>
<p begin="04:25:09.119" end="04:25:13.960" style="s2">fetch one to get the deleted</p>
<p begin="04:25:11.319" end="04:25:18.040" style="s2">post and I&#39;m going to save this as a</p>
<p begin="04:25:13.960" end="04:25:19.760" style="s2">variable so I&#39;ll say um deleted _ poost</p>
<p begin="04:25:18.040" end="04:25:22.640" style="s2">equals</p>
<p begin="04:25:19.760" end="04:25:25.159" style="s2">that we can remove this and then for</p>
<p begin="04:25:22.640" end="04:25:27.800" style="s2">this exception when we try to grab a the</p>
<p begin="04:25:25.159" end="04:25:31.119" style="s2">ID uh of a post that doesn&#39;t exist we</p>
<p begin="04:25:27.800" end="04:25:33.520" style="s2">can just say if deleted undor poost</p>
<p begin="04:25:31.119" end="04:25:36.399" style="s2">which is the post that we batched wasn&#39;t</p>
<p begin="04:25:33.520" end="04:25:36.399" style="s2">found we&#39;re going to throw an</p>
<p begin="04:25:36.520" end="04:25:42.399" style="s2">error we can delete this and remember</p>
<p begin="04:25:39.880" end="04:25:43.960" style="s2">there&#39;s one last thing right anytime we</p>
<p begin="04:25:42.399" end="04:25:45.760" style="s2">want to make a change to a database we</p>
<p begin="04:25:43.960" end="04:25:48.040" style="s2">have to connect uh commit to it so we&#39;ll</p>
<p begin="04:25:45.760" end="04:25:49.960" style="s2">do connection.</p>
<p begin="04:25:48.040" end="04:25:52.119" style="s2">commit and then everything else we can</p>
<p begin="04:25:49.960" end="04:25:54.239" style="s2">keep our code exactly the</p>
<p begin="04:25:52.119" end="04:25:56.000" style="s2">same and then I&#39;m just going to run this</p>
<p begin="04:25:54.239" end="04:25:57.560" style="s2">just to get so we have a post with an</p>
<p begin="04:25:56.000" end="04:26:00.119" style="s2">idea of 1 two and four so let&#39;s go ahead</p>
<p begin="04:25:57.560" end="04:26:02.560" style="s2">and delete one of those so if I delete</p>
<p begin="04:26:00.119" end="04:26:04.640" style="s2">uh the post with an IDE of four what do</p>
<p begin="04:26:02.560" end="04:26:06.760" style="s2">we get oh sorry we&#39;re still under the</p>
<p begin="04:26:04.640" end="04:26:08.960" style="s2">get let&#39;s go to our delete this is our</p>
<p begin="04:26:06.760" end="04:26:12.520" style="s2">delete and then we&#39;re going to delete</p>
<p begin="04:26:08.960" end="04:26:15.040" style="s2">with an ID of four 204 no cont content</p>
<p begin="04:26:12.520" end="04:26:17.479" style="s2">so that&#39;s good and let&#39;s double check</p>
<p begin="04:26:15.040" end="04:26:20.439" style="s2">our postgress database to see if it got</p>
<p begin="04:26:17.479" end="04:26:22.840" style="s2">deleted we can see that it&#39;s now gone</p>
<p begin="04:26:20.439" end="04:26:24.159" style="s2">and then let&#39;s try to now grab the with</p>
<p begin="04:26:22.840" end="04:26:26.000" style="s2">the same one let&#39;s try to delete the</p>
<p begin="04:26:24.159" end="04:26:28.520" style="s2">same post which no longer exists we</p>
<p begin="04:26:26.000" end="04:26:30.520" style="s2">should get a 404 post with ID of 4 does</p>
<p begin="04:26:28.520" end="04:26:33.119" style="s2">not exist</p>
<p begin="04:26:30.520" end="04:26:35.279" style="s2">perfect and last but not least the final</p>
<p begin="04:26:33.119" end="04:26:37.040" style="s2">path operation we need to update is the</p>
<p begin="04:26:35.279" end="04:26:40.520" style="s2">update post path</p>
<p begin="04:26:37.040" end="04:26:42.040" style="s2">operation we&#39;ll grab the cursor object</p>
<p begin="04:26:40.520" end="04:26:44.239" style="s2">and we&#39;ll execute our SQL statement</p>
<p begin="04:26:42.040" end="04:26:44.239" style="s2">again</p>
<p begin="04:26:45.920" end="04:26:50.479" style="s2">and so here we&#39;ll do</p>
<p begin="04:26:48.359" end="04:26:54.000" style="s2">update</p>
<p begin="04:26:50.479" end="04:26:56.000" style="s2">posts and then here we want to set the</p>
<p begin="04:26:54.000" end="04:26:57.199" style="s2">title and what do we want to set our</p>
<p begin="04:26:56.000" end="04:26:58.840" style="s2">title to well that&#39;s going to be passed</p>
<p begin="04:26:57.199" end="04:27:00.720" style="s2">in from the user so any kind of data we</p>
<p begin="04:26:58.840" end="04:27:02.840" style="s2">get from the user you know we have no</p>
<p begin="04:27:00.720" end="04:27:05.359" style="s2">idea if they put in you know very</p>
<p begin="04:27:02.840" end="04:27:07.800" style="s2">suspicious SQL uh data so we always want</p>
<p begin="04:27:05.359" end="04:27:07.800" style="s2">to put the</p>
<p begin="04:27:08.239" end="04:27:11.239" style="s2">placeholders uh and so all the fields</p>
<p begin="04:27:10.119" end="04:27:14.040" style="s2">that they can update are going to be the</p>
<p begin="04:27:11.239" end="04:27:16.159" style="s2">title the content and published so then</p>
<p begin="04:27:14.040" end="04:27:20.040" style="s2">the next one&#39;s going to be</p>
<p begin="04:27:16.159" end="04:27:20.040" style="s2">content and the last one&#39;s going to be</p>
<p begin="04:27:22.279" end="04:27:26.680" style="s2">published and then we&#39;ll pass in those</p>
<p begin="04:27:24.239" end="04:27:32.000" style="s2">values and that&#39;s going to come from our</p>
<p begin="04:27:26.680" end="04:27:35.399" style="s2">post object so we&#39;ll do post. tile post.</p>
<p begin="04:27:32.000" end="04:27:37.720" style="s2">content and finally post.</p>
<p begin="04:27:35.399" end="04:27:39.720" style="s2">published and uh just like we had with</p>
<p begin="04:27:37.720" end="04:27:41.760" style="s2">inserts and delete we can do a returning</p>
<p begin="04:27:39.720" end="04:27:44.239" style="s2">so we can actually get the returned we</p>
<p begin="04:27:41.760" end="04:27:47.040" style="s2">can actually return the updated object</p>
<p begin="04:27:44.239" end="04:27:49.520" style="s2">do returning star so we can get all the</p>
<p begin="04:27:47.040" end="04:27:54.680" style="s2">columns and then to actually fetch that</p>
<p begin="04:27:49.520" end="04:27:56.880" style="s2">updated post we have to do cursor. fetch</p>
<p begin="04:27:54.680" end="04:28:00.800" style="s2">one and then we&#39;ll save that in a</p>
<p begin="04:27:56.880" end="04:28:00.800" style="s2">variable called updated</p>
<p begin="04:28:03.760" end="04:28:07.720" style="s2">post and then we can remove this this is</p>
<p begin="04:28:06.040" end="04:28:09.600" style="s2">our previous code and then for the</p>
<p begin="04:28:07.720" end="04:28:12.319" style="s2">little check to make sure that we</p>
<p begin="04:28:09.600" end="04:28:14.720" style="s2">actually got and updated a post we can</p>
<p begin="04:28:12.319" end="04:28:15.760" style="s2">get updated post if we didn&#39;t if it</p>
<p begin="04:28:14.720" end="04:28:17.960" style="s2">returned none then we&#39;re going to send a</p>
<p begin="04:28:15.760" end="04:28:20.680" style="s2">404 because a post with that ID didn&#39;t</p>
<p begin="04:28:17.960" end="04:28:22.880" style="s2">exist and then we can delete all of this</p>
<p begin="04:28:20.680" end="04:28:25.840" style="s2">nonsense and then what we return back is</p>
<p begin="04:28:22.880" end="04:28:28.479" style="s2">going to be updated</p>
<p begin="04:28:25.840" end="04:28:30.080" style="s2">post up make sure you get updated with a</p>
<p begin="04:28:28.479" end="04:28:31.960" style="s2">D or then if you just do update post it</p>
<p begin="04:28:30.080" end="04:28:34.279" style="s2">tries to call it this own function which</p>
<p begin="04:28:31.960" end="04:28:34.279" style="s2">doesn&#39;t</p>
<p begin="04:28:35.920" end="04:28:40.359" style="s2">work and I&#39;m just going to see what I</p>
<p begin="04:28:38.640" end="04:28:41.720" style="s2">have in my database so I&#39;ve got a post</p>
<p begin="04:28:40.359" end="04:28:43.040" style="s2">uh with an ID of one so we&#39;re going to</p>
<p begin="04:28:41.720" end="04:28:45.760" style="s2">update him you can see currently the</p>
<p begin="04:28:43.040" end="04:28:46.880" style="s2">title is first post so if I go to my</p>
<p begin="04:28:45.760" end="04:28:49.720" style="s2">update</p>
<p begin="04:28:46.880" end="04:28:51.439" style="s2">post I&#39;m going to send it with the ID of</p>
<p begin="04:28:49.720" end="04:28:53.199" style="s2">one we&#39;re going to update that post and</p>
<p begin="04:28:51.439" end="04:28:55.600" style="s2">then it&#39;s going to have an updated title</p>
<p begin="04:28:53.199" end="04:28:57.680" style="s2">so if we see that get updated then we</p>
<p begin="04:28:55.600" end="04:29:01.000" style="s2">know it worked so we&#39;ll set and do a</p>
<p begin="04:28:57.680" end="04:29:02.279" style="s2">send we can see what we got back and so</p>
<p begin="04:29:01.000" end="04:29:04.800" style="s2">it looks like it updated but let&#39;s</p>
<p begin="04:29:02.279" end="04:29:07.359" style="s2">actually double check with our</p>
<p begin="04:29:04.800" end="04:29:09.040" style="s2">database and it did not update and I&#39;m</p>
<p begin="04:29:07.359" end="04:29:12.199" style="s2">sure you guys can take a guess as to</p>
<p begin="04:29:09.040" end="04:29:13.720" style="s2">exactly what went wrong remember any any</p>
<p begin="04:29:12.199" end="04:29:18.159" style="s2">time you want to make changes to a</p>
<p begin="04:29:13.720" end="04:29:18.159" style="s2">database we need to do the connection.</p>
<p begin="04:29:19.199" end="04:29:23.880" style="s2">commit so let&#39;s try this again all right</p>
<p begin="04:29:22.159" end="04:29:25.920" style="s2">so we got the same result let&#39;s take a</p>
<p begin="04:29:23.880" end="04:29:28.560" style="s2">look at our database run this and then</p>
<p begin="04:29:25.920" end="04:29:29.920" style="s2">we&#39;ve got updated title it look like it</p>
<p begin="04:29:28.560" end="04:29:33.479" style="s2">updated</p>
<p begin="04:29:29.920" end="04:29:35.800" style="s2">both and uh that looks like a bug so</p>
<p begin="04:29:33.479" end="04:29:37.880" style="s2">what did we do wrong well if you look at</p>
<p begin="04:29:35.800" end="04:29:39.520" style="s2">our code we&#39;re updating every single</p>
<p begin="04:29:37.880" end="04:29:41.640" style="s2">post because I didn&#39;t provide a wear</p>
<p begin="04:29:39.520" end="04:29:43.800" style="s2">condition what post do I need to update</p>
<p begin="04:29:41.640" end="04:29:47.199" style="s2">so that&#39;s a mistake on my end so we have</p>
<p begin="04:29:43.800" end="04:29:48.800" style="s2">to do where and then we&#39;ll say ID equals</p>
<p begin="04:29:47.199" end="04:29:50.680" style="s2">and that ID is going to come from this</p>
<p begin="04:29:48.800" end="04:29:53.319" style="s2">value so we&#39;re going to put another</p>
<p begin="04:29:50.680" end="04:29:53.319" style="s2">placeholder</p>
<p begin="04:29:53.720" end="04:29:57.199" style="s2">there and then that last value is going</p>
<p begin="04:29:56.399" end="04:30:00.279" style="s2">to</p>
<p begin="04:29:57.199" end="04:30:04.159" style="s2">be the ID converted to a string just</p>
<p begin="04:30:00.279" end="04:30:06.960" style="s2">like we did before so simple</p>
<p begin="04:30:04.159" end="04:30:09.399" style="s2">mistake going save that and before I do</p>
<p begin="04:30:06.960" end="04:30:12.279" style="s2">that I&#39;m just going to change this back</p>
<p begin="04:30:09.399" end="04:30:13.319" style="s2">to first post</p>
<p begin="04:30:12.279" end="04:30:14.960" style="s2">and I&#39;m going to change this back to</p>
<p begin="04:30:13.319" end="04:30:17.199" style="s2">Second</p>
<p begin="04:30:14.960" end="04:30:19.520" style="s2">post and then just going to have some</p>
<p begin="04:30:17.199" end="04:30:19.520" style="s2">random</p>
<p begin="04:30:19.720" end="04:30:25.920" style="s2">text and then we&#39;ll save</p>
<p begin="04:30:23.000" end="04:30:28.520" style="s2">that then let&#39;s update</p>
<p begin="04:30:25.920" end="04:30:30.520" style="s2">this all right so we updated our code</p>
<p begin="04:30:28.520" end="04:30:34.319" style="s2">and then let&#39;s take a look at our</p>
<p begin="04:30:30.520" end="04:30:34.319" style="s2">database we&#39;ll run this</p>
<p begin="04:30:34.640" end="04:30:38.800" style="s2">again and we can see that it was updated</p>
<p begin="04:30:37.479" end="04:30:40.239" style="s2">and you&#39;ll notice how that first post</p>
<p begin="04:30:38.800" end="04:30:42.479" style="s2">then moved down the list because it was</p>
<p begin="04:30:40.239" end="04:30:45.439" style="s2">most recently updated but we updated</p>
<p begin="04:30:42.479" end="04:30:47.319" style="s2">just one post this time and then last</p>
<p begin="04:30:45.439" end="04:30:48.600" style="s2">but not least let&#39;s try to update a post</p>
<p begin="04:30:47.319" end="04:30:51.439" style="s2">that doesn&#39;t exist so I&#39;m going to</p>
<p begin="04:30:48.600" end="04:30:54.000" style="s2">search for an ID of 23 try to update</p>
<p begin="04:30:51.439" end="04:30:56.239" style="s2">that and then if I do that uh we can see</p>
<p begin="04:30:54.000" end="04:30:58.279" style="s2">that we get a little bit of an error so</p>
<p begin="04:30:56.239" end="04:31:02.399" style="s2">what happened here we got data equals</p>
<p begin="04:30:58.279" end="04:31:05.399" style="s2">null uh and so it looks like</p>
<p begin="04:31:02.399" end="04:31:07.080" style="s2">this didn&#39;t work and it looks like uh it</p>
<p begin="04:31:05.399" end="04:31:10.199" style="s2">got it changed back to update post so</p>
<p begin="04:31:07.080" end="04:31:14.159" style="s2">make sure uh you reference this variable</p>
<p begin="04:31:10.199" end="04:31:14.159" style="s2">so I need that D now let&#39;s try try</p>
<p begin="04:31:14.359" end="04:31:20.680" style="s2">that and now we get the correct</p>
<p begin="04:31:18.279" end="04:31:22.720" style="s2">404 when it comes to working with a</p>
<p begin="04:31:20.680" end="04:31:24.359" style="s2">database within a python application or</p>
<p begin="04:31:22.720" end="04:31:25.920" style="s2">really any application across any</p>
<p begin="04:31:24.359" end="04:31:28.319" style="s2">language there&#39;s a couple of different</p>
<p begin="04:31:25.920" end="04:31:30.040" style="s2">ways of interacting with the database uh</p>
<p begin="04:31:28.319" end="04:31:32.359" style="s2">and so we saw how we can use the default</p>
<p begin="04:31:30.040" end="04:31:34.239" style="s2">postgress driver uh to talk to a</p>
<p begin="04:31:32.359" end="04:31:36.520" style="s2">postgress database by sending SQL</p>
<p begin="04:31:34.239" end="04:31:38.279" style="s2">commands and this is my preferred method</p>
<p begin="04:31:36.520" end="04:31:40.359" style="s2">of working with databases because I&#39;m</p>
<p begin="04:31:38.279" end="04:31:42.319" style="s2">fairly comfortable with SQL and so it</p>
<p begin="04:31:40.359" end="04:31:43.600" style="s2">just makes sense to use raw SQL and send</p>
<p begin="04:31:42.319" end="04:31:45.439" style="s2">that directly to postgress using</p>
<p begin="04:31:43.600" end="04:31:48.600" style="s2">whatever the default postgress driver is</p>
<p begin="04:31:45.439" end="04:31:50.720" style="s2">for your specific programming language</p>
<p begin="04:31:48.600" end="04:31:52.159" style="s2">however there are other methods uh and</p>
<p begin="04:31:50.720" end="04:31:53.479" style="s2">so you&#39;ll see that one of the popular</p>
<p begin="04:31:52.159" end="04:31:55.840" style="s2">ways of you know really working with</p>
<p begin="04:31:53.479" end="04:32:00.000" style="s2">databases is using what&#39;s referred to as</p>
<p begin="04:31:55.840" end="04:32:02.359" style="s2">a object relational mapper or an or and</p>
<p begin="04:32:00.000" end="04:32:05.199" style="s2">so an orm is a layer abstraction that</p>
<p begin="04:32:02.359" end="04:32:08.080" style="s2">sits between the database and our fast</p>
<p begin="04:32:05.199" end="04:32:10.399" style="s2">API application uh and so we never</p>
<p begin="04:32:08.080" end="04:32:13.000" style="s2">actually talk directly to a database</p>
<p begin="04:32:10.399" end="04:32:14.920" style="s2">anymore instead we talk to the omm and</p>
<p begin="04:32:13.000" end="04:32:17.239" style="s2">then the orm will actually talk to our</p>
<p begin="04:32:14.920" end="04:32:19.319" style="s2">database uh and so some of the benefits</p>
<p begin="04:32:17.239" end="04:32:21.159" style="s2">are is that we don&#39;t actually have to</p>
<p begin="04:32:19.319" end="04:32:23.000" style="s2">work with SQL anymore so instead of</p>
<p begin="04:32:21.159" end="04:32:25.239" style="s2">using raw SQL what we&#39;ll do is we&#39;ll</p>
<p begin="04:32:23.000" end="04:32:27.159" style="s2">actually use standard python code uh</p>
<p begin="04:32:25.239" end="04:32:29.840" style="s2">calling various functions and methods</p>
<p begin="04:32:27.159" end="04:32:31.640" style="s2">that ultimately translate into SQL</p>
<p begin="04:32:29.840" end="04:32:32.880" style="s2">themselves so let&#39;s see what that</p>
<p begin="04:32:31.640" end="04:32:35.159" style="s2">actually looks</p>
<p begin="04:32:32.880" end="04:32:36.880" style="s2">like uh and so with our traditional</p>
<p begin="04:32:35.159" end="04:32:38.920" style="s2">application which is what we have now</p>
<p begin="04:32:36.880" end="04:32:40.560" style="s2">we&#39;ve got our fast API server and it&#39;s</p>
<p begin="04:32:38.920" end="04:32:43.000" style="s2">going to talk to our database by sending</p>
<p begin="04:32:40.560" end="04:32:45.479" style="s2">SQL using the default postrest database</p>
<p begin="04:32:43.000" end="04:32:48.840" style="s2">driver however with an omm what we can</p>
<p begin="04:32:45.479" end="04:32:50.359" style="s2">do is fast API no longer has to talk SQL</p>
<p begin="04:32:48.840" end="04:32:53.840" style="s2">instead fast API will actually use</p>
<p begin="04:32:50.359" end="04:32:55.960" style="s2">regular python code uh to send you know</p>
<p begin="04:32:53.840" end="04:32:58.479" style="s2">specific commands to an orm and then the</p>
<p begin="04:32:55.960" end="04:33:01.359" style="s2">orm will take that python code convert</p>
<p begin="04:32:58.479" end="04:33:02.840" style="s2">it into regular SQL and then using the</p>
<p begin="04:33:01.359" end="04:33:05.240" style="s2">same database driver that we&#39;re using</p>
<p begin="04:33:02.840" end="04:33:06.480" style="s2">for it&#39;ll actually talk to the database</p>
<p begin="04:33:05.240" end="04:33:08.119" style="s2">uh and then it&#39;ll eventually send that</p>
<p begin="04:33:06.480" end="04:33:10.480" style="s2">result back to us because the databases</p>
<p begin="04:33:08.119" end="04:33:12.080" style="s2">they can only talk SQL however by doing</p>
<p begin="04:33:10.480" end="04:33:14.719" style="s2">like this we can kind of abstract away</p>
<p begin="04:33:12.080" end="04:33:18.240" style="s2">that SQL complexity and make use of uh</p>
<p begin="04:33:14.719" end="04:33:19.639" style="s2">very common python uh objects and</p>
<p begin="04:33:18.240" end="04:33:22.039" style="s2">various other python features to</p>
<p begin="04:33:19.639" end="04:33:24.719" style="s2">actually generate and build queries as</p>
<p begin="04:33:22.039" end="04:33:26.561" style="s2">well as to create and Define tables so</p>
<p begin="04:33:24.719" end="04:33:29.199" style="s2">let&#39;s take a look at what an Orum</p>
<p begin="04:33:26.561" end="04:33:31.400" style="s2">ultimately allows us to do so one of the</p>
<p begin="04:33:29.199" end="04:33:33.561" style="s2">first things is instead of us going into</p>
<p begin="04:33:31.400" end="04:33:35.480" style="s2">you know PG admin and creating the</p>
<p begin="04:33:33.561" end="04:33:37.680" style="s2">tables and all the columns ourselves</p>
<p begin="04:33:35.480" end="04:33:39.959" style="s2">what we can do is we can Define our</p>
<p begin="04:33:37.680" end="04:33:41.561" style="s2">tables as python models and so if you</p>
<p begin="04:33:39.959" end="04:33:43.199" style="s2">take a look at the code down here what</p>
<p begin="04:33:41.561" end="04:33:44.561" style="s2">we can do is we can actually Define what</p>
<p begin="04:33:43.199" end="04:33:46.320" style="s2">our tables and post scripts are going to</p>
<p begin="04:33:44.561" end="04:33:47.600" style="s2">look like and so you can see here we</p>
<p begin="04:33:46.320" end="04:33:49.480" style="s2">give it the table a name and then we</p>
<p begin="04:33:47.600" end="04:33:50.840" style="s2">could specify each of the columns you&#39;ll</p>
<p begin="04:33:49.480" end="04:33:52.199" style="s2">see a lot of the common fields that we</p>
<p begin="04:33:50.840" end="04:33:54.320" style="s2">already worked with so the type so this</p>
<p begin="04:33:52.199" end="04:33:56.199" style="s2">is an integer this is a string we can</p>
<p begin="04:33:54.320" end="04:33:58.160" style="s2">also see if a field is nullable we can</p>
<p begin="04:33:56.199" end="04:34:00.080" style="s2">see that the ID is set to be a primary</p>
<p begin="04:33:58.160" end="04:34:01.840" style="s2">key so we&#39;re using standard python</p>
<p begin="04:34:00.080" end="04:34:04.799" style="s2">classes to Define our table so that we</p>
<p begin="04:34:01.840" end="04:34:08.039" style="s2">don&#39;t need to do it ourselves using PG</p>
<p begin="04:34:04.799" end="04:34:10.639" style="s2">admin and on top of that queries can be</p>
<p begin="04:34:08.039" end="04:34:12.840" style="s2">made using regular python code so we can</p>
<p begin="04:34:10.639" end="04:34:15.439" style="s2">actually chain on different methods to</p>
<p begin="04:34:12.840" end="04:34:17.680" style="s2">construct various python uh to construct</p>
<p begin="04:34:15.439" end="04:34:18.959" style="s2">various SQL queries and so if you take a</p>
<p begin="04:34:17.680" end="04:34:20.520" style="s2">look at one of the queries down here</p>
<p begin="04:34:18.959" end="04:34:22.680" style="s2">below that I provide as an example you</p>
<p begin="04:34:20.520" end="04:34:25.119" style="s2">can see we just do query we provide the</p>
<p begin="04:34:22.680" end="04:34:26.320" style="s2">specific table that we want to uh query</p>
<p begin="04:34:25.119" end="04:34:27.760" style="s2">and that&#39;s going to be based off of the</p>
<p begin="04:34:26.320" end="04:34:29.799" style="s2">specific models and then we can just</p>
<p begin="04:34:27.760" end="04:34:32.119" style="s2">pass in whatever filter commands and</p>
<p begin="04:34:29.799" end="04:34:33.680" style="s2">then grab the first entry so you can see</p>
<p begin="04:34:32.119" end="04:34:36.320" style="s2">that there&#39;s no SQL anymore it&#39;s just</p>
<p begin="04:34:33.680" end="04:34:37.799" style="s2">standard python code uh and so that</p>
<p begin="04:34:36.320" end="04:34:40.600" style="s2">makes it a little bit easier for some</p>
<p begin="04:34:37.799" end="04:34:41.920" style="s2">people who may not be as strong on SQL</p>
<p begin="04:34:40.600" end="04:34:43.639" style="s2">uh and so they don&#39;t have to worry about</p>
<p begin="04:34:41.920" end="04:34:46.920" style="s2">writing these complex SQL commands they</p>
<p begin="04:34:43.639" end="04:34:49.879" style="s2">can just chain on uh specific methods to</p>
<p begin="04:34:46.920" end="04:34:52.639" style="s2">a to a DB query to generate their final</p>
<p begin="04:34:49.879" end="04:34:54.760" style="s2">SQL commands and so the you know there&#39;s</p>
<p begin="04:34:52.639" end="04:34:56.760" style="s2">a couple of different ORS I&#39;d say the</p>
<p begin="04:34:54.760" end="04:34:59.600" style="s2">most popular one within the python world</p>
<p begin="04:34:56.760" end="04:35:02.920" style="s2">is SQL Alchemy and one of the things to</p>
<p begin="04:34:59.600" end="04:35:05.080" style="s2">keep in mind is that this is a om that&#39;s</p>
<p begin="04:35:02.920" end="04:35:06.840" style="s2">a standalone library right so this has</p>
<p begin="04:35:05.080" end="04:35:08.879" style="s2">this library has nothing to do with fast</p>
<p begin="04:35:06.840" end="04:35:10.799" style="s2">API we&#39;re going to use it in our fast</p>
<p begin="04:35:08.879" end="04:35:12.561" style="s2">API application but I want you guys to</p>
<p begin="04:35:10.799" end="04:35:14.561" style="s2">understand that it actually has no</p>
<p begin="04:35:12.561" end="04:35:17.199" style="s2">relationship with fast API it&#39;s not part</p>
<p begin="04:35:14.561" end="04:35:19.199" style="s2">of fast API it&#39;s its own library and you</p>
<p begin="04:35:17.199" end="04:35:20.561" style="s2">can use SQL Alchemy with any web</p>
<p begin="04:35:19.199" end="04:35:22.400" style="s2">development framework you can use it</p>
<p begin="04:35:20.561" end="04:35:24.879" style="s2">with any python application even if it&#39;s</p>
<p begin="04:35:22.400" end="04:35:26.959" style="s2">not a web application as well so in the</p>
<p begin="04:35:24.879" end="04:35:28.520" style="s2">next video we&#39;ll start taking a look at</p>
<p begin="04:35:26.959" end="04:35:30.879" style="s2">how to work with cql Alchemy and how to</p>
<p begin="04:35:28.520" end="04:35:32.279" style="s2">set up a database connection using SQL</p>
<p begin="04:35:30.879" end="04:35:34.000" style="s2">Alchemy instead of using the default</p>
<p begin="04:35:32.279" end="04:35:36.039" style="s2">postgress</p>
<p begin="04:35:34.000" end="04:35:37.439" style="s2">driver okay so in this lesson we&#39;re</p>
<p begin="04:35:36.039" end="04:35:39.039" style="s2">going to start taking a look at SQL</p>
<p begin="04:35:37.439" end="04:35:40.680" style="s2">Alchemy and get that set up in our</p>
<p begin="04:35:39.039" end="04:35:42.080" style="s2">project and so there&#39;s a couple of</p>
<p begin="04:35:40.680" end="04:35:44.039" style="s2">things that I want you guys to take a</p>
<p begin="04:35:42.080" end="04:35:46.000" style="s2">look at so the first thing is I want you</p>
<p begin="04:35:44.039" end="04:35:48.400" style="s2">to go to the SQL page so if you just</p>
<p begin="04:35:46.000" end="04:35:49.400" style="s2">search for SQL uh you&#39;ll get to the main</p>
<p begin="04:35:48.400" end="04:35:51.080" style="s2">page and then if you want to go to</p>
<p begin="04:35:49.400" end="04:35:52.959" style="s2">library and then references and then</p>
<p begin="04:35:51.080" end="04:35:54.359" style="s2">version 1.4 which is the one we&#39;re going</p>
<p begin="04:35:52.959" end="04:35:56.039" style="s2">to use however I believe they&#39;re going</p>
<p begin="04:35:54.359" end="04:35:58.039" style="s2">to come out with a version 2.0 which is</p>
<p begin="04:35:56.039" end="04:35:59.439" style="s2">going to be pretty different so uh if</p>
<p begin="04:35:58.039" end="04:36:01.160" style="s2">you are watching this video in the</p>
<p begin="04:35:59.439" end="04:36:03.561" style="s2">future you definitely want to install</p>
<p begin="04:36:01.160" end="04:36:06.160" style="s2">version 1.4 so that you can follow along</p>
<p begin="04:36:03.561" end="04:36:07.400" style="s2">with this course so you can click on</p>
<p begin="04:36:06.160" end="04:36:09.600" style="s2">that uh and so there&#39;s a nice little</p>
<p begin="04:36:07.400" end="04:36:10.680" style="s2">tutorial you can follow uh and then</p>
<p begin="04:36:09.600" end="04:36:12.119" style="s2">there&#39;s also some reference</p>
<p begin="04:36:10.680" end="04:36:15.199" style="s2">documentation when it comes to setting</p>
<p begin="04:36:12.119" end="04:36:16.879" style="s2">up the omm so if you click on sess</p>
<p begin="04:36:15.199" end="04:36:19.879" style="s2">session usage this will show you how to</p>
<p begin="04:36:16.879" end="04:36:22.879" style="s2">set up a session um however if you go to</p>
<p begin="04:36:19.879" end="04:36:25.080" style="s2">the fast API documentation as well uh</p>
<p begin="04:36:22.879" end="04:36:26.359" style="s2">fast API they&#39;ve got great documentation</p>
<p begin="04:36:25.080" end="04:36:28.760" style="s2">so if you go to the documentation and</p>
<p begin="04:36:26.359" end="04:36:30.119" style="s2">then select SQL relational databases</p>
<p begin="04:36:28.760" end="04:36:32.600" style="s2">this is going to show you how to set it</p>
<p begin="04:36:30.119" end="04:36:34.320" style="s2">up with SQL Alchemy okay so first things</p>
<p begin="04:36:32.600" end="04:36:38.920" style="s2">first let&#39;s go ahead and do a pip</p>
<p begin="04:36:34.320" end="04:36:43.480" style="s2">install for SQL Alchemy so we&#39;ll do pip</p>
<p begin="04:36:38.920" end="04:36:43.480" style="s2">install and then SQL Alchemy</p>
<p begin="04:36:45.639" end="04:36:50.160" style="s2">now guys I want you to remember that um</p>
<p begin="04:36:47.799" end="04:36:52.600" style="s2">well first of all I&#39;m running 1.4.2 3</p>
<p begin="04:36:50.160" end="04:36:54.920" style="s2">but the thing is SQL Alchemy doesn&#39;t</p>
<p begin="04:36:52.600" end="04:36:57.400" style="s2">know how to talk to a database right it</p>
<p begin="04:36:54.920" end="04:36:59.080" style="s2">has all the code for us to write python</p>
<p begin="04:36:57.400" end="04:37:00.561" style="s2">uh Define all the models and things like</p>
<p begin="04:36:59.080" end="04:37:02.320" style="s2">that but it doesn&#39;t actually know how to</p>
<p begin="04:37:00.561" end="04:37:04.480" style="s2">talk to a database it actually needs a</p>
<p begin="04:37:02.320" end="04:37:06.039" style="s2">database driver and so if you take a</p>
<p begin="04:37:04.480" end="04:37:09.000" style="s2">look at all of the packages that we</p>
<p begin="04:37:06.039" end="04:37:11.400" style="s2">already installed by doing a pip</p>
<p begin="04:37:09.000" end="04:37:13.520" style="s2">freeze right we in the last video or in</p>
<p begin="04:37:11.400" end="04:37:15.600" style="s2">the the last section we installed our</p>
<p begin="04:37:13.520" end="04:37:17.279" style="s2">postgress database driver so whatever</p>
<p begin="04:37:15.600" end="04:37:20.480" style="s2">database you guys plan to use so if you</p>
<p begin="04:37:17.279" end="04:37:21.959" style="s2">want to use a mySQL database with um uh</p>
<p begin="04:37:20.480" end="04:37:23.561" style="s2">with SQL Alchemy you have to make sure</p>
<p begin="04:37:21.959" end="04:37:24.840" style="s2">that you install the underlying driver</p>
<p begin="04:37:23.561" end="04:37:26.600" style="s2">as well because ultimately that&#39;s what&#39;s</p>
<p begin="04:37:24.840" end="04:37:28.279" style="s2">used to talk to the database since we&#39;re</p>
<p begin="04:37:26.600" end="04:37:30.000" style="s2">using postgress we need to install this</p>
<p begin="04:37:28.279" end="04:37:31.760" style="s2">as well but since we were using it</p>
<p begin="04:37:30.000" end="04:37:33.561" style="s2">originally in the previous sections we</p>
<p begin="04:37:31.760" end="04:37:34.959" style="s2">had we already have it installed so we</p>
<p begin="04:37:33.561" end="04:37:36.840" style="s2">don&#39;t need to worry about doing that but</p>
<p begin="04:37:34.959" end="04:37:39.000" style="s2">keep that in mind right SQL has no way</p>
<p begin="04:37:36.840" end="04:37:40.680" style="s2">to talk to a database it still needs the</p>
<p begin="04:37:39.000" end="04:37:43.080" style="s2">underlying driver to communicate with it</p>
<p begin="04:37:40.680" end="04:37:45.000" style="s2">and that&#39;s usually how all orm&#39;s work</p>
<p begin="04:37:43.080" end="04:37:46.320" style="s2">but now that we have that on inside our</p>
<p begin="04:37:45.000" end="04:37:47.760" style="s2">app folder I&#39;m going to create a new</p>
<p begin="04:37:46.320" end="04:37:49.920" style="s2">file and I&#39;m going to call this</p>
<p begin="04:37:47.760" end="04:37:52.879" style="s2">database. py so this is going to handle</p>
<p begin="04:37:49.920" end="04:37:52.879" style="s2">our uh database</p>
<p begin="04:37:55.600" end="04:38:00.639" style="s2">connection and from here um what I&#39;m</p>
<p begin="04:37:58.000" end="04:38:02.199" style="s2">essentially going to do is um just</p>
<p begin="04:38:00.639" end="04:38:04.240" style="s2">really follow this documentation so if</p>
<p begin="04:38:02.199" end="04:38:05.840" style="s2">you take a look at it right here uh we</p>
<p begin="04:38:04.240" end="04:38:07.600" style="s2">can just copy all of this code right</p>
<p begin="04:38:05.840" end="04:38:09.359" style="s2">here when it comes to importing</p>
<p begin="04:38:07.600" end="04:38:11.561" style="s2">statements so this is just going to</p>
<p begin="04:38:09.359" end="04:38:13.680" style="s2">import all of this SQL Alchemy code that</p>
<p begin="04:38:11.561" end="04:38:13.680" style="s2">we</p>
<p begin="04:38:17.480" end="04:38:22.600" style="s2">want all right and then we have to</p>
<p begin="04:38:19.279" end="04:38:26.199" style="s2">specify a our connection string so where</p>
<p begin="04:38:22.600" end="04:38:27.879" style="s2">is our postrest database located and so</p>
<p begin="04:38:26.199" end="04:38:30.119" style="s2">if you take a look at how we had this</p>
<p begin="04:38:27.879" end="04:38:32.600" style="s2">set up before using the default postris</p>
<p begin="04:38:30.119" end="04:38:35.039" style="s2">database driver right we passed it into</p>
<p begin="04:38:32.600" end="04:38:36.080" style="s2">this connect function however a lot of</p>
<p begin="04:38:35.039" end="04:38:38.639" style="s2">times when it comes to working with</p>
<p begin="04:38:36.080" end="04:38:40.680" style="s2">databases there&#39;s a a unique URL that</p>
<p begin="04:38:38.639" end="04:38:42.561" style="s2">you create to connect to any kind of</p>
<p begin="04:38:40.680" end="04:38:44.561" style="s2">database and there&#39;s a a specific format</p>
<p begin="04:38:42.561" end="04:38:46.680" style="s2">for that and the format for that is</p>
<p begin="04:38:44.561" end="04:38:48.199" style="s2">actually pretty simple so go to database</p>
<p begin="04:38:46.680" end="04:38:50.279" style="s2">py and then I&#39;m going to create a</p>
<p begin="04:38:48.199" end="04:38:51.799" style="s2">variable called uh</p>
<p begin="04:38:50.279" end="04:38:56.240" style="s2">SQL</p>
<p begin="04:38:51.799" end="04:38:58.080" style="s2">Alchemy undor database _ URL so this is</p>
<p begin="04:38:56.240" end="04:39:00.240" style="s2">going to be a regular string uh and the</p>
<p begin="04:38:58.080" end="04:39:02.039" style="s2">structure of the URL for postgress</p>
<p begin="04:39:00.240" end="04:39:04.639" style="s2">database it&#39;s going to be postgressql</p>
<p begin="04:39:02.039" end="04:39:08.639" style="s2">because that&#39;s the type of database</p>
<p begin="04:39:04.639" end="04:39:12.240" style="s2">colon SL slash then we have the username</p>
<p begin="04:39:08.639" end="04:39:12.240" style="s2">that you have to put in</p>
<p begin="04:39:12.480" end="04:39:16.199" style="s2">colon then we have the</p>
<p begin="04:39:17.639" end="04:39:23.240" style="s2">password and then we do at and then this</p>
<p begin="04:39:20.080" end="04:39:23.240" style="s2">is going to be the IP</p>
<p begin="04:39:24.920" end="04:39:31.561" style="s2">address I&#39;ll say ip- address slash host</p>
<p begin="04:39:29.639" end="04:39:33.520" style="s2">name whichever one you&#39;re</p>
<p begin="04:39:31.561" end="04:39:35.879" style="s2">using in our case that&#39;s going to be</p>
<p begin="04:39:33.520" end="04:39:35.879" style="s2">Local</p>
<p begin="04:39:36.638" end="04:39:42.958" style="s2">Host and then you have to provide the</p>
<p begin="04:39:39.718" end="04:39:46.240" style="s2">database name that you want connect to</p>
<p begin="04:39:42.958" end="04:39:49.520" style="s2">so that&#39;s the format of a uh connection</p>
<p begin="04:39:46.240" end="04:39:51.718" style="s2">string that we have to pass into SQL</p>
<p begin="04:39:49.520" end="04:39:53.638" style="s2">Alchemy and then what we do is we say we</p>
<p begin="04:39:51.718" end="04:39:56.600" style="s2">have to create a engine so the engine is</p>
<p begin="04:39:53.638" end="04:39:58.798" style="s2">what&#39;s responsible uh for SQL Alchemy to</p>
<p begin="04:39:56.600" end="04:40:01.958" style="s2">connect to a postgress database so you</p>
<p begin="04:39:58.798" end="04:40:04.840" style="s2">do engine equals and then we&#39;re going to</p>
<p begin="04:40:01.958" end="04:40:04.840" style="s2">reference this create</p>
<p begin="04:40:06.400" end="04:40:10.638" style="s2">engine and then we pass in our</p>
<p begin="04:40:08.400" end="04:40:13.240" style="s2">connection string so let say SQL Alchemy</p>
<p begin="04:40:10.638" end="04:40:14.798" style="s2">database URL however this is not filled</p>
<p begin="04:40:13.240" end="04:40:16.680" style="s2">in yet so we&#39;re going to fill in this</p>
<p begin="04:40:14.798" end="04:40:18.718" style="s2">data so go ahead and put in your</p>
<p begin="04:40:16.680" end="04:40:19.920" style="s2">username so if you haven&#39;t created a</p>
<p begin="04:40:18.718" end="04:40:22.240" style="s2">custom user going to default to</p>
<p begin="04:40:19.920" end="04:40:25.400" style="s2">postgress put in your password so we&#39;ll</p>
<p begin="04:40:22.240" end="04:40:29.638" style="s2">do password 1 2 3 for me the IP address</p>
<p begin="04:40:25.400" end="04:40:31.840" style="s2">/host name this is going to be Local</p>
<p begin="04:40:29.638" end="04:40:33.638" style="s2">Host and then the database name this is</p>
<p begin="04:40:31.840" end="04:40:35.520" style="s2">going to be fast API or whatever you</p>
<p begin="04:40:33.638" end="04:40:37.760" style="s2">created your database</p>
<p begin="04:40:35.520" end="04:40:39.560" style="s2">as so that&#39;s your connection string and</p>
<p begin="04:40:37.760" end="04:40:41.560" style="s2">like I mentioned before it&#39;s never good</p>
<p begin="04:40:39.560" end="04:40:42.760" style="s2">to hardcode this value somewhere in your</p>
<p begin="04:40:41.560" end="04:40:44.280" style="s2">code because now you&#39;ve got your</p>
<p begin="04:40:42.760" end="04:40:45.520" style="s2">password stored in your code and it&#39;s</p>
<p begin="04:40:44.280" end="04:40:47.680" style="s2">going to get checked into GitHub and</p>
<p begin="04:40:45.520" end="04:40:50.120" style="s2">then anyone can see it so this is bad</p>
<p begin="04:40:47.680" end="04:40:51.760" style="s2">practice however we will change this in</p>
<p begin="04:40:50.120" end="04:40:54.120" style="s2">the future all right so like I said the</p>
<p begin="04:40:51.760" end="04:40:56.280" style="s2">engine is responsible for um</p>
<p begin="04:40:54.120" end="04:40:57.520" style="s2">establishing that connection however</p>
<p begin="04:40:56.280" end="04:40:59.958" style="s2">when you actually want to talk to the</p>
<p begin="04:40:57.520" end="04:41:03.798" style="s2">SQL database we have to make use of a</p>
<p begin="04:40:59.958" end="04:41:09.400" style="s2">session so we do um session</p>
<p begin="04:41:03.798" end="04:41:09.400" style="s2">local equals session maker</p>
<p begin="04:41:13.920" end="04:41:17.680" style="s2">and then we just pass in a couple values</p>
<p begin="04:41:15.320" end="04:41:21.480" style="s2">so autoc commit</p>
<p begin="04:41:17.680" end="04:41:26.718" style="s2">false autof flush equals</p>
<p begin="04:41:21.480" end="04:41:26.718" style="s2">false and then bind equals</p>
<p begin="04:41:26.920" end="04:41:31.320" style="s2">engine all right and all of these values</p>
<p begin="04:41:29.200" end="04:41:33.400" style="s2">these are just some default values now</p>
<p begin="04:41:31.320" end="04:41:34.920" style="s2">keep in mind when you&#39;re creating the uh</p>
<p begin="04:41:33.400" end="04:41:37.680" style="s2">when you use when you use the uh create</p>
<p begin="04:41:34.920" end="04:41:40.440" style="s2">engine function uh if you are using a</p>
<p begin="04:41:37.680" end="04:41:41.760" style="s2">SQL light database you have to pass in</p>
<p begin="04:41:40.440" end="04:41:43.718" style="s2">this option</p>
<p begin="04:41:41.760" end="04:41:45.280" style="s2">uh as the second parameter so you do the</p>
<p begin="04:41:43.718" end="04:41:47.040" style="s2">database URL and then you do connection</p>
<p begin="04:41:45.280" end="04:41:48.840" style="s2">args equals check same throut equals</p>
<p begin="04:41:47.040" end="04:41:50.320" style="s2">false this is something that&#39;s exclusive</p>
<p begin="04:41:48.840" end="04:41:51.878" style="s2">to the SQL light because it&#39;s I guess</p>
<p begin="04:41:50.320" end="04:41:53.560" style="s2">it&#39;s just running in memory you don&#39;t</p>
<p begin="04:41:51.878" end="04:41:56.400" style="s2">need to do this for postgress you don&#39;t</p>
<p begin="04:41:53.560" end="04:41:58.600" style="s2">need to do it for any other SQL based</p>
<p begin="04:41:56.400" end="04:42:00.638" style="s2">database and then you can see in the</p>
<p begin="04:41:58.600" end="04:42:02.120" style="s2">documentation this is what the uh</p>
<p begin="04:42:00.638" end="04:42:03.360" style="s2">connection string will look like so it&#39;s</p>
<p begin="04:42:02.120" end="04:42:05.440" style="s2">just confirming what I already showed</p>
<p begin="04:42:03.360" end="04:42:08.240" style="s2">you guys and so we can just kind of keep</p>
<p begin="04:42:05.440" end="04:42:10.638" style="s2">scrolling down and we don&#39;t really need</p>
<p begin="04:42:08.240" end="04:42:12.120" style="s2">anything else uh except for this last</p>
<p begin="04:42:10.638" end="04:42:14.958" style="s2">line right here so we here we have to</p>
<p begin="04:42:12.120" end="04:42:16.878" style="s2">Define our base class uh and so all of</p>
<p begin="04:42:14.958" end="04:42:18.560" style="s2">the models that we Define to actually</p>
<p begin="04:42:16.878" end="04:42:21.400" style="s2">create our tables in postrest they&#39;re</p>
<p begin="04:42:18.560" end="04:42:24.200" style="s2">going to be extending this Base Class so</p>
<p begin="04:42:21.400" end="04:42:24.200" style="s2">we can just copy</p>
<p begin="04:42:25.718" end="04:42:29.600" style="s2">this and then paste it into here and</p>
<p begin="04:42:28.120" end="04:42:31.680" style="s2">when I was first doing all of this you</p>
<p begin="04:42:29.600" end="04:42:35.480" style="s2">know it was a little confusing and</p>
<p begin="04:42:31.680" end="04:42:37.280" style="s2">overwhelming just think about that just</p>
<p begin="04:42:35.480" end="04:42:39.000" style="s2">for now I want you to assume that it&#39;s</p>
<p begin="04:42:37.280" end="04:42:40.560" style="s2">more of just a cut and paste job it&#39;s</p>
<p begin="04:42:39.000" end="04:42:41.878" style="s2">just a copy and paste the only thing</p>
<p begin="04:42:40.560" end="04:42:43.240" style="s2">that really matters that you&#39;re going to</p>
<p begin="04:42:41.878" end="04:42:45.560" style="s2">be changing is going to be that</p>
<p begin="04:42:43.240" end="04:42:46.878" style="s2">postgress URL but everything else for</p>
<p begin="04:42:45.560" end="04:42:49.520" style="s2">pretty much every project you can just</p>
<p begin="04:42:46.878" end="04:42:51.600" style="s2">copy and paste to this entire code and</p>
<p begin="04:42:49.520" end="04:42:53.638" style="s2">now within our database. py file that&#39;s</p>
<p begin="04:42:51.600" end="04:42:55.718" style="s2">all we have to do the next thing that we</p>
<p begin="04:42:53.638" end="04:42:57.958" style="s2">want to do is Define our tables like I</p>
<p begin="04:42:55.718" end="04:43:01.080" style="s2">said with an OM we no longer have to</p>
<p begin="04:42:57.958" end="04:43:04.160" style="s2">create tables within PG admin or any CLI</p>
<p begin="04:43:01.080" end="04:43:06.400" style="s2">utility we can Define it as a</p>
<p begin="04:43:04.160" end="04:43:08.040" style="s2">python model so what we&#39;re going to do</p>
<p begin="04:43:06.400" end="04:43:09.600" style="s2">is we&#39;re going to create a new file and</p>
<p begin="04:43:08.040" end="04:43:13.360" style="s2">this is going to store all of our models</p>
<p begin="04:43:09.600" end="04:43:15.320" style="s2">we&#39;ll and we&#39;ll call this models.py so</p>
<p begin="04:43:13.360" end="04:43:16.798" style="s2">every model represents a table in our</p>
<p begin="04:43:15.320" end="04:43:19.240" style="s2">database and what we&#39;re actually going</p>
<p begin="04:43:16.798" end="04:43:21.320" style="s2">to do is um let&#39;s take a look at our</p>
<p begin="04:43:19.240" end="04:43:25.600" style="s2">database and let&#39;s see how we can Define</p>
<p begin="04:43:21.320" end="04:43:25.600" style="s2">this as a model within</p>
<p begin="04:43:25.760" end="04:43:29.360" style="s2">python so the first things first we got</p>
<p begin="04:43:27.878" end="04:43:31.400" style="s2">to import a few</p>
<p begin="04:43:29.360" end="04:43:33.840" style="s2">things and the main thing that we got to</p>
<p begin="04:43:31.400" end="04:43:35.040" style="s2">import is from our database file we have</p>
<p begin="04:43:33.840" end="04:43:38.120" style="s2">to import</p>
<p begin="04:43:35.040" end="04:43:39.718" style="s2">base so let&#39;s do</p>
<p begin="04:43:38.120" end="04:43:44.920" style="s2">import.</p>
<p begin="04:43:39.718" end="04:43:48.958" style="s2">database sorry that should be from</p>
<p begin="04:43:44.920" end="04:43:51.878" style="s2">database import base and then we can go</p>
<p begin="04:43:48.958" end="04:43:53.718" style="s2">ahead and Define our model so uh right</p>
<p begin="04:43:51.878" end="04:43:54.920" style="s2">now we&#39;ve been dealing with only working</p>
<p begin="04:43:53.718" end="04:43:57.120" style="s2">with posts so we&#39;re going to create a</p>
<p begin="04:43:54.920" end="04:43:58.878" style="s2">model for posts and like I said this is</p>
<p begin="04:43:57.120" end="04:44:00.480" style="s2">going to actually create the table</p>
<p begin="04:43:58.878" end="04:44:01.760" style="s2">within postgress so what we&#39;re actually</p>
<p begin="04:44:00.480" end="04:44:03.600" style="s2">going to do is I&#39;m going to delete this</p>
<p begin="04:44:01.760" end="04:44:06.760" style="s2">table eventually and then we&#39;re going to</p>
<p begin="04:44:03.600" end="04:44:09.080" style="s2">have uh Python and cql and my fast API</p>
<p begin="04:44:06.760" end="04:44:11.320" style="s2">application in SQL Alchemy created for</p>
<p begin="04:44:09.080" end="04:44:12.520" style="s2">us on the fly but I&#39;m going to keep this</p>
<p begin="04:44:11.320" end="04:44:15.160" style="s2">for now just so we can take a look at</p>
<p begin="04:44:12.520" end="04:44:17.400" style="s2">all the fields that we</p>
<p begin="04:44:15.160" end="04:44:19.120" style="s2">have so here I&#39;m just going to call this</p>
<p begin="04:44:17.400" end="04:44:21.000" style="s2">post and keep in mind when it comes to</p>
<p begin="04:44:19.120" end="04:44:22.680" style="s2">classes in Python you always want to</p>
<p begin="04:44:21.000" end="04:44:25.200" style="s2">make sure that they&#39;re capitalized and</p>
<p begin="04:44:22.680" end="04:44:27.080" style="s2">then this has to extend base so this is</p>
<p begin="04:44:25.200" end="04:44:29.360" style="s2">that base model from SQL Alchemy and we</p>
<p begin="04:44:27.080" end="04:44:31.320" style="s2">just have to extend</p>
<p begin="04:44:29.360" end="04:44:33.400" style="s2">it and there&#39;s a couple things that we</p>
<p begin="04:44:31.320" end="04:44:35.600" style="s2">have to pass in the first thing is what</p>
<p begin="04:44:33.400" end="04:44:37.760" style="s2">do we want to call this table within</p>
<p begin="04:44:35.600" end="04:44:40.200" style="s2">postgress because we have this class</p>
<p begin="04:44:37.760" end="04:44:42.200" style="s2">name which only python knows but uh we</p>
<p begin="04:44:40.200" end="04:44:44.520" style="s2">can specify a specific name within</p>
<p begin="04:44:42.200" end="04:44:45.920" style="s2">postgress now our table name right now</p>
<p begin="04:44:44.520" end="04:44:47.440" style="s2">is called post so I think we should just</p>
<p begin="04:44:45.920" end="04:44:49.400" style="s2">keep it at that so we could</p>
<p begin="04:44:47.440" end="04:44:53.040" style="s2">saycore table</p>
<p begin="04:44:49.400" end="04:44:54.400" style="s2">name underscore uncore equals and then</p>
<p begin="04:44:53.040" end="04:44:55.798" style="s2">the name of the table you want so here</p>
<p begin="04:44:54.400" end="04:44:59.000" style="s2">we&#39;re going to name it</p>
<p begin="04:44:55.798" end="04:45:01.040" style="s2">posts and then now we have to Define all</p>
<p begin="04:44:59.000" end="04:45:03.080" style="s2">of the columns right so just like we</p>
<p begin="04:45:01.040" end="04:45:04.680" style="s2">went within PG admin and went column by</p>
<p begin="04:45:03.080" end="04:45:06.320" style="s2">column creating it specifying all of</p>
<p begin="04:45:04.680" end="04:45:08.440" style="s2">their constraints and things like that</p>
<p begin="04:45:06.320" end="04:45:12.320" style="s2">we&#39;re going to do this</p>
<p begin="04:45:08.440" end="04:45:13.878" style="s2">within uh within uh our python code so</p>
<p begin="04:45:12.320" end="04:45:16.200" style="s2">we&#39;ll say the first thing is we want an</p>
<p begin="04:45:13.878" end="04:45:17.958" style="s2">ID so we&#39;ll say ID</p>
<p begin="04:45:16.200" end="04:45:19.718" style="s2">equals and then how do we actually</p>
<p begin="04:45:17.958" end="04:45:22.400" style="s2">create a column well we have to import</p>
<p begin="04:45:19.718" end="04:45:28.520" style="s2">something from SQL Alchemy so we&#39;ll say</p>
<p begin="04:45:22.400" end="04:45:30.280" style="s2">from SQL Alchemy import column so now I</p>
<p begin="04:45:28.520" end="04:45:32.240" style="s2">can create a</p>
<p begin="04:45:30.280" end="04:45:33.958" style="s2">column and then there&#39;s a couple of</p>
<p begin="04:45:32.240" end="04:45:35.280" style="s2">different fields that we have to pass in</p>
<p begin="04:45:33.958" end="04:45:38.040" style="s2">so the first thing is what type of</p>
<p begin="04:45:35.280" end="04:45:41.638" style="s2">column is it and so if you go back to</p>
<p begin="04:45:38.040" end="04:45:42.920" style="s2">our post table and go to properties</p>
<p begin="04:45:41.638" end="04:45:44.000" style="s2">right when we went out columns the first</p>
<p begin="04:45:42.920" end="04:45:47.280" style="s2">thing they have to specify is what is</p>
<p begin="04:45:44.000" end="04:45:49.200" style="s2">the data type uh and so uh we have</p>
<p begin="04:45:47.280" end="04:45:51.798" style="s2">access to most of the ones that we see</p>
<p begin="04:45:49.200" end="04:45:53.920" style="s2">in here uh and but we have to import it</p>
<p begin="04:45:51.798" end="04:45:56.080" style="s2">from SQL Alchemy first so the ID column</p>
<p begin="04:45:53.920" end="04:45:57.958" style="s2">is going to be an</p>
<p begin="04:45:56.080" end="04:45:59.440" style="s2">integer and so we have to actually</p>
<p begin="04:45:57.958" end="04:46:03.360" style="s2">import that we&#39;ll do</p>
<p begin="04:45:59.440" end="04:46:03.360" style="s2">integer and now I can pass in</p>
<p begin="04:46:03.480" end="04:46:07.920" style="s2">integer and that was a mistake let me</p>
<p begin="04:46:05.560" end="04:46:07.920" style="s2">delete</p>
<p begin="04:46:08.080" end="04:46:12.440" style="s2">that and then if we take a look at our</p>
<p begin="04:46:10.080" end="04:46:15.760" style="s2">ID field we did say that this was a</p>
<p begin="04:46:12.440" end="04:46:20.400" style="s2">primary key so we&#39;ll</p>
<p begin="04:46:15.760" end="04:46:24.560" style="s2">say primary key equals true and then if</p>
<p begin="04:46:20.400" end="04:46:24.560" style="s2">you want to you can also say</p>
<p begin="04:46:25.240" end="04:46:29.520" style="s2">nullable equals</p>
<p begin="04:46:29.760" end="04:46:34.878" style="s2">false right so that&#39;s the equivalent of</p>
<p begin="04:46:31.680" end="04:46:36.558" style="s2">doing the not null all right then we can</p>
<p begin="04:46:34.878" end="04:46:39.558" style="s2">Define the next column which is going to</p>
<p begin="04:46:36.558" end="04:46:42.200" style="s2">be title and then we call column this is</p>
<p begin="04:46:39.558" end="04:46:44.360" style="s2">going to be a string now</p>
<p begin="04:46:42.200" end="04:46:46.680" style="s2">but we have to import string from our</p>
<p begin="04:46:44.360" end="04:46:46.680" style="s2">SQL</p>
<p begin="04:46:48.958" end="04:46:55.120" style="s2">Alchemy and once again this is going to</p>
<p begin="04:46:51.360" end="04:46:56.040" style="s2">be nullable set to false so we can&#39;t</p>
<p begin="04:46:55.120" end="04:46:58.080" style="s2">leave that</p>
<p begin="04:46:56.040" end="04:47:02.160" style="s2">blank the next column is going to be</p>
<p begin="04:46:58.080" end="04:47:02.160" style="s2">fairly simple uh similar now we&#39;ve got</p>
<p begin="04:47:05.480" end="04:47:12.320" style="s2">content this is going to be a string and</p>
<p begin="04:47:08.120" end="04:47:12.320" style="s2">nullable is going to be set to false</p>
<p begin="04:47:14.120" end="04:47:16.718" style="s2">then we got</p>
<p begin="04:47:19.360" end="04:47:24.600" style="s2">published this is going to be a Boolean</p>
<p begin="04:47:21.280" end="04:47:24.600" style="s2">but we got to import that from the</p>
<p begin="04:47:28.000" end="04:47:32.718" style="s2">library and this one can be left as</p>
<p begin="04:47:33.320" end="04:47:37.200" style="s2">empty and if you remember we set a</p>
<p begin="04:47:35.638" end="04:47:39.120" style="s2">default value for our publish so it&#39;s</p>
<p begin="04:47:37.200" end="04:47:41.280" style="s2">always going to be by default set to</p>
<p begin="04:47:39.120" end="04:47:42.760" style="s2">true if we don&#39;t pass in a value and I</p>
<p begin="04:47:41.280" end="04:47:44.120" style="s2">believe that&#39;s how we do it however I&#39;d</p>
<p begin="04:47:42.760" end="04:47:46.798" style="s2">have to double check just to make sure</p>
<p begin="04:47:44.120" end="04:47:48.958" style="s2">that&#39;s what it is now the last column</p>
<p begin="04:47:46.798" end="04:47:50.280" style="s2">that we&#39;ll need to add is the Tim stamp</p>
<p begin="04:47:48.958" end="04:47:51.840" style="s2">but we&#39;re going to hold off on doing</p>
<p begin="04:47:50.280" end="04:47:53.680" style="s2">that for now and we&#39;re going to leave it</p>
<p begin="04:47:51.840" end="04:47:57.320" style="s2">as such and then later we&#39;ll come back</p>
<p begin="04:47:53.680" end="04:47:58.798" style="s2">to um adding that Tim stamp in all right</p>
<p begin="04:47:57.320" end="04:48:01.080" style="s2">and so we&#39;re pretty much done with our</p>
<p begin="04:47:58.798" end="04:48:03.360" style="s2">model and what we want to do is in our</p>
<p begin="04:48:01.080" end="04:48:05.680" style="s2">main file we want to copy this Command</p>
<p begin="04:48:03.360" end="04:48:08.040" style="s2">right here so this create engine so this</p>
<p begin="04:48:05.680" end="04:48:09.920" style="s2">is going to create all of our models so</p>
<p begin="04:48:08.040" end="04:48:13.080" style="s2">we&#39;ll go to our code I&#39;m going to go to</p>
<p begin="04:48:09.920" end="04:48:13.958" style="s2">my main file and somewhere up top I&#39;m</p>
<p begin="04:48:13.080" end="04:48:17.040" style="s2">going to</p>
<p begin="04:48:13.958" end="04:48:19.360" style="s2">create that right there however we have</p>
<p begin="04:48:17.040" end="04:48:21.160" style="s2">to import the right</p>
<p begin="04:48:19.360" end="04:48:24.240" style="s2">commands and so the first thing that we</p>
<p begin="04:48:21.160" end="04:48:30.360" style="s2">want to import is our models so we&#39;ll</p>
<p begin="04:48:24.240" end="04:48:32.920" style="s2">do from Star import</p>
<p begin="04:48:30.360" end="04:48:35.520" style="s2">models and then from our database file</p>
<p begin="04:48:32.920" end="04:48:37.080" style="s2">we&#39;ll say from dot which is current</p>
<p begin="04:48:35.520" end="04:48:39.000" style="s2">directory so we&#39;re going to grab a file</p>
<p begin="04:48:37.080" end="04:48:42.280" style="s2">from our current directory we&#39;re going</p>
<p begin="04:48:39.000" end="04:48:42.280" style="s2">to import</p>
<p begin="04:48:43.000" end="04:48:47.680" style="s2">sorry from our database file we&#39;re going</p>
<p begin="04:48:44.558" end="04:48:47.680" style="s2">to import</p>
<p begin="04:48:49.040" end="04:48:53.520" style="s2">engine and so at that point that is good</p>
<p begin="04:48:51.280" end="04:48:53.520" style="s2">to</p>
<p begin="04:48:55.120" end="04:48:58.600" style="s2">go and then finally if we go back to our</p>
<p begin="04:48:57.400" end="04:49:00.718" style="s2">documentation the last thing that we</p>
<p begin="04:48:58.600" end="04:49:03.080" style="s2">have to do is we have to create this</p>
<p begin="04:49:00.718" end="04:49:08.638" style="s2">dependency so just go ahead and copy</p>
<p begin="04:49:03.080" end="04:49:08.638" style="s2">this for now and just paste it in here</p>
<p begin="04:49:11.160" end="04:49:15.440" style="s2">and we want to import session local as</p>
<p begin="04:49:18.080" end="04:49:21.718" style="s2">well and we should no longer get any</p>
<p begin="04:49:20.280" end="04:49:23.920" style="s2">errors</p>
<p begin="04:49:21.718" end="04:49:26.040" style="s2">here and so what this ultimately is</p>
<p begin="04:49:23.920" end="04:49:27.680" style="s2">going to do is the the session object is</p>
<p begin="04:49:26.040" end="04:49:29.840" style="s2">kind of what&#39;s responsible for talking</p>
<p begin="04:49:27.680" end="04:49:31.280" style="s2">with the databases and so we&#39;ve created</p>
<p begin="04:49:29.840" end="04:49:33.638" style="s2">this function where we actually get a</p>
<p begin="04:49:31.280" end="04:49:35.240" style="s2">connection to our database uh or get a</p>
<p begin="04:49:33.638" end="04:49:36.440" style="s2">session to our database and so every</p>
<p begin="04:49:35.240" end="04:49:38.240" style="s2">time we get a request we&#39;re going to get</p>
<p begin="04:49:36.440" end="04:49:40.120" style="s2">a session we&#39;re going to you know be</p>
<p begin="04:49:38.240" end="04:49:41.520" style="s2">able to send SQL statements to it and</p>
<p begin="04:49:40.120" end="04:49:44.280" style="s2">then after that request is done we&#39;ll</p>
<p begin="04:49:41.520" end="04:49:46.200" style="s2">then close it out uh and so it&#39;s is much</p>
<p begin="04:49:44.280" end="04:49:47.440" style="s2">more efficient doing it like this uh by</p>
<p begin="04:49:46.200" end="04:49:49.520" style="s2">having one little function and we can</p>
<p begin="04:49:47.440" end="04:49:52.200" style="s2">just keep calling this F function every</p>
<p begin="04:49:49.520" end="04:49:55.040" style="s2">time we get a request to any of our API</p>
<p begin="04:49:52.200" end="04:49:56.958" style="s2">endpoints and so now that we&#39;ve got our</p>
<p begin="04:49:55.040" end="04:49:59.200" style="s2">uh dependency to actually get that</p>
<p begin="04:49:56.958" end="04:50:00.638" style="s2">session for all of our path operations</p>
<p begin="04:49:59.200" end="04:50:02.240" style="s2">where we want to perform some sort of</p>
<p begin="04:50:00.638" end="04:50:04.440" style="s2">operation on the database what we&#39;re</p>
<p begin="04:50:02.240" end="04:50:05.798" style="s2">going to do is with with inside the path</p>
<p begin="04:50:04.440" end="04:50:08.080" style="s2">operation function we&#39;re going to pass</p>
<p begin="04:50:05.798" end="04:50:11.360" style="s2">in another uh parameter and it&#39;s going</p>
<p begin="04:50:08.080" end="04:50:13.120" style="s2">to be uh session equals depends and then</p>
<p begin="04:50:11.360" end="04:50:14.440" style="s2">we&#39;re going to call this get DB function</p>
<p begin="04:50:13.120" end="04:50:15.680" style="s2">so what that&#39;s ultimately going to do is</p>
<p begin="04:50:14.440" end="04:50:17.040" style="s2">this line right here don&#39;t worry too</p>
<p begin="04:50:15.680" end="04:50:18.958" style="s2">much about it but like I said it&#39;s going</p>
<p begin="04:50:17.040" end="04:50:20.520" style="s2">to create that session to our database</p>
<p begin="04:50:18.958" end="04:50:21.958" style="s2">so that we can perform some operations</p>
<p begin="04:50:20.520" end="04:50:23.798" style="s2">and then close it once that request is</p>
<p begin="04:50:21.958" end="04:50:25.798" style="s2">done and then we can repeat that process</p>
<p begin="04:50:23.798" end="04:50:27.360" style="s2">for every single one of our path</p>
<p begin="04:50:25.798" end="04:50:29.638" style="s2">operations so anytime you send a request</p>
<p begin="04:50:27.360" end="04:50:32.240" style="s2">to any API endpoint uh you&#39;re going to</p>
<p begin="04:50:29.638" end="04:50:33.798" style="s2">have this being passed into the path</p>
<p begin="04:50:32.240" end="04:50:35.920" style="s2">operation function so that we can create</p>
<p begin="04:50:33.798" end="04:50:37.360" style="s2">that connection and then close it out</p>
<p begin="04:50:35.920" end="04:50:39.080" style="s2">and like I said a lot of this is just</p>
<p begin="04:50:37.360" end="04:50:40.718" style="s2">copy and paste so once you write this</p>
<p begin="04:50:39.080" end="04:50:42.280" style="s2">down even if you don&#39;t really understand</p>
<p begin="04:50:40.718" end="04:50:44.360" style="s2">it you don&#39;t really have to touch it</p>
<p begin="04:50:42.280" end="04:50:48.320" style="s2">ever again after</p>
<p begin="04:50:44.360" end="04:50:50.240" style="s2">that all right so let&#39;s copy</p>
<p begin="04:50:48.320" end="04:50:52.840" style="s2">this and what we&#39;re going to do is I&#39;m</p>
<p begin="04:50:50.240" end="04:50:55.040" style="s2">going to create another uh route or</p>
<p begin="04:50:52.840" end="04:50:56.280" style="s2">another path operation just for testing</p>
<p begin="04:50:55.040" end="04:50:58.480" style="s2">purposes because I don&#39;t want to mess up</p>
<p begin="04:50:56.280" end="04:51:01.200" style="s2">any of our other code and so I&#39;ll just</p>
<p begin="04:50:58.480" end="04:51:04.480" style="s2">say at</p>
<p begin="04:51:01.200" end="04:51:07.958" style="s2">app.get and this is going to be at</p>
<p begin="04:51:04.480" end="04:51:11.638" style="s2">slash SQL Alchemy so this is just to</p>
<p begin="04:51:07.958" end="04:51:14.120" style="s2">test to see if it works and I&#39;ll say de</p>
<p begin="04:51:11.638" end="04:51:14.120" style="s2">test</p>
<p begin="04:51:17.400" end="04:51:22.840" style="s2">posts and then we want to pass in</p>
<p begin="04:51:20.480" end="04:51:25.480" style="s2">that uh that code that we just copied</p>
<p begin="04:51:22.840" end="04:51:28.480" style="s2">right here however we don&#39;t have a</p>
<p begin="04:51:25.480" end="04:51:30.160" style="s2">session or depends in this case so we&#39;re</p>
<p begin="04:51:28.480" end="04:51:31.600" style="s2">going to have to import those so from</p>
<p begin="04:51:30.160" end="04:51:35.840" style="s2">our database</p>
<p begin="04:51:31.600" end="04:51:35.840" style="s2">file our session is going to be from</p>
<p begin="04:51:36.480" end="04:51:41.360" style="s2">there actually sorry that&#39;s not actually</p>
<p begin="04:51:39.160" end="04:51:44.160" style="s2">coming from there is it it do we have a</p>
<p begin="04:51:41.360" end="04:51:46.558" style="s2">session in here we actually do not have</p>
<p begin="04:51:44.160" end="04:51:48.240" style="s2">session here so instead this is not</p>
<p begin="04:51:46.558" end="04:51:50.878" style="s2">going to come from here actually instead</p>
<p begin="04:51:48.240" end="04:51:54.638" style="s2">we&#39;re going to import that from SQL</p>
<p begin="04:51:50.878" end="04:51:57.400" style="s2">Alchemy I&#39;ll say import</p>
<p begin="04:51:54.638" end="04:52:00.400" style="s2">sqlalchemy.orm</p>
<p begin="04:51:57.400" end="04:52:02.920" style="s2">import session and I realized this</p>
<p begin="04:52:00.400" end="04:52:02.920" style="s2">should be a</p>
<p begin="04:52:05.320" end="04:52:13.120" style="s2">from and then we also have to import the</p>
<p begin="04:52:08.718" end="04:52:15.440" style="s2">depends method from from our fast API</p>
<p begin="04:52:13.120" end="04:52:17.040" style="s2">library and so now if we go down to our</p>
<p begin="04:52:15.440" end="04:52:18.120" style="s2">route we should get no more errors and</p>
<p begin="04:52:17.040" end="04:52:21.638" style="s2">it looks</p>
<p begin="04:52:18.120" end="04:52:24.480" style="s2">good and then here we&#39;re just going to</p>
<p begin="04:52:21.638" end="04:52:28.120" style="s2">return uh</p>
<p begin="04:52:24.480" end="04:52:28.120" style="s2">status success for</p>
<p begin="04:52:30.520" end="04:52:33.638" style="s2">now and then finally the last thing that</p>
<p begin="04:52:32.680" end="04:52:36.440" style="s2">we&#39;re going to do is we&#39;re going to</p>
<p begin="04:52:33.638" end="04:52:41.440" style="s2">delete our post table I&#39;m going to do a</p>
<p begin="04:52:36.440" end="04:52:41.440" style="s2">delete drop hit yes</p>
<p begin="04:52:41.798" end="04:52:46.200" style="s2">and we have no more tables now I can</p>
<p begin="04:52:43.638" end="04:52:46.200" style="s2">close this</p>
<p begin="04:52:46.440" end="04:52:52.240" style="s2">out sorry I didn&#39;t mean to save that</p>
<p begin="04:52:48.920" end="04:52:52.240" style="s2">close that don&#39;t save</p>
<p begin="04:52:52.520" end="04:52:57.240" style="s2">it all right now we&#39;ve got nothing so</p>
<p begin="04:52:55.200" end="04:52:59.240" style="s2">let&#39;s save</p>
<p begin="04:52:57.240" end="04:53:00.760" style="s2">everything and pray to God that there&#39;s</p>
<p begin="04:52:59.240" end="04:53:01.840" style="s2">no errors and it so it doesn&#39;t look like</p>
<p begin="04:53:00.760" end="04:53:04.920" style="s2">there&#39;s any</p>
<p begin="04:53:01.840" end="04:53:06.400" style="s2">errors and uh just by saving that code</p>
<p begin="04:53:04.920" end="04:53:08.600" style="s2">and restarting our application what</p>
<p begin="04:53:06.400" end="04:53:10.798" style="s2">should have happened is once our code</p>
<p begin="04:53:08.600" end="04:53:12.480" style="s2">ran and we run this I believe should</p>
<p begin="04:53:10.798" end="04:53:15.200" style="s2">actually create the tables within</p>
<p begin="04:53:12.480" end="04:53:17.798" style="s2">postgress so let&#39;s refresh this real</p>
<p begin="04:53:15.200" end="04:53:18.798" style="s2">quick I&#39;m going to just right click here</p>
<p begin="04:53:17.798" end="04:53:21.600" style="s2">hit</p>
<p begin="04:53:18.798" end="04:53:23.600" style="s2">refresh we go under tables look at that</p>
<p begin="04:53:21.600" end="04:53:24.920" style="s2">guys we now have our post table even</p>
<p begin="04:53:23.600" end="04:53:26.680" style="s2">though we deleted it so if we take a</p>
<p begin="04:53:24.920" end="04:53:29.440" style="s2">look at our post table and go under</p>
<p begin="04:53:26.680" end="04:53:31.360" style="s2">properties columns you can see it&#39;s got</p>
<p begin="04:53:29.440" end="04:53:33.600" style="s2">the three columns that we defi well four</p>
<p begin="04:53:31.360" end="04:53:38.160" style="s2">columns that we defined and that all</p>
<p begin="04:53:33.600" end="04:53:38.160" style="s2">comes from our models.py</p>
<p begin="04:53:38.280" end="04:53:43.520" style="s2">and so we&#39;ve got the four columns that</p>
<p begin="04:53:40.320" end="04:53:45.400" style="s2">we we def find here and so uh if uh</p>
<p begin="04:53:43.520" end="04:53:46.878" style="s2">whenever we start our application SQL</p>
<p begin="04:53:45.400" end="04:53:48.840" style="s2">Alchemy will check to see if there&#39;s a</p>
<p begin="04:53:46.878" end="04:53:50.280" style="s2">table called posts if it&#39;s there it&#39;s</p>
<p begin="04:53:48.840" end="04:53:51.400" style="s2">not going to do anything if it&#39;s not</p>
<p begin="04:53:50.280" end="04:53:53.680" style="s2">there it&#39;s going to go ahead and create</p>
<p begin="04:53:51.400" end="04:53:55.280" style="s2">it for us based off of what we defined</p>
<p begin="04:53:53.680" end="04:53:58.360" style="s2">in the</p>
<p begin="04:53:55.280" end="04:54:00.240" style="s2">model now there&#39;s one last thing that I</p>
<p begin="04:53:58.360" end="04:54:03.280" style="s2">want to do just to kind of clean things</p>
<p begin="04:54:00.240" end="04:54:05.798" style="s2">up uh in our main.py file I don&#39;t like</p>
<p begin="04:54:03.280" end="04:54:08.638" style="s2">having this get DB function within here</p>
<p begin="04:54:05.798" end="04:54:11.080" style="s2">I want to keep all of my database code</p>
<p begin="04:54:08.638" end="04:54:13.600" style="s2">um all of my database initialization</p>
<p begin="04:54:11.080" end="04:54:15.080" style="s2">code within my database. py file so what</p>
<p begin="04:54:13.600" end="04:54:18.160" style="s2">I&#39;m going to do is I&#39;m going to actually</p>
<p begin="04:54:15.080" end="04:54:20.200" style="s2">cut this out paste it into my database.</p>
<p begin="04:54:18.160" end="04:54:22.320" style="s2">py</p>
<p begin="04:54:20.200" end="04:54:23.840" style="s2">file and then we&#39;re going to import this</p>
<p begin="04:54:22.320" end="04:54:26.360" style="s2">into my main file so that I don&#39;t have</p>
<p begin="04:54:23.840" end="04:54:27.840" style="s2">to uh have that in my main file</p>
<p begin="04:54:26.360" end="04:54:30.360" style="s2">cluttering it up because our main file</p>
<p begin="04:54:27.840" end="04:54:35.360" style="s2">is already fairly large so for my</p>
<p begin="04:54:30.360" end="04:54:35.360" style="s2">database file I can import getor</p>
<p begin="04:54:38.878" end="04:54:42.920" style="s2">DB and now we no longer need session</p>
<p begin="04:54:41.400" end="04:54:46.638" style="s2">local cuz it&#39;s showing us it&#39;s grayed</p>
<p begin="04:54:42.920" end="04:54:46.638" style="s2">out so we can remove</p>
<p begin="04:54:46.920" end="04:54:51.840" style="s2">that and at that point everything should</p>
<p begin="04:54:49.280" end="04:54:53.798" style="s2">still be working so just as a just to</p>
<p begin="04:54:51.840" end="04:54:56.080" style="s2">double check I&#39;m going to delete this</p>
<p begin="04:54:53.798" end="04:54:56.080" style="s2">once</p>
<p begin="04:54:58.120" end="04:55:03.240" style="s2">again and then I&#39;m going to save this</p>
<p begin="04:55:00.200" end="04:55:04.680" style="s2">which is going to trigger um a Reload of</p>
<p begin="04:55:03.240" end="04:55:06.920" style="s2">our application and then once our</p>
<p begin="04:55:04.680" end="04:55:10.480" style="s2">application reloads if I refresh my</p>
<p begin="04:55:06.920" end="04:55:12.760" style="s2">database it should have created another</p>
<p begin="04:55:10.480" end="04:55:14.280" style="s2">uh D another post table and it looks</p>
<p begin="04:55:12.760" end="04:55:16.320" style="s2">like it did and let&#39;s just double check</p>
<p begin="04:55:14.280" end="04:55:18.080" style="s2">that all of the columns are there and it</p>
<p begin="04:55:16.320" end="04:55:20.360" style="s2">looks like they are so everything looks</p>
<p begin="04:55:18.080" end="04:55:22.200" style="s2">good uh in the next video uh the one</p>
<p begin="04:55:20.360" end="04:55:24.480" style="s2">thing that we do need to change is that</p>
<p begin="04:55:22.200" end="04:55:27.320" style="s2">we have to add the created ad column so</p>
<p begin="04:55:24.480" end="04:55:29.040" style="s2">we&#39;ll tackle that in the next video in</p>
<p begin="04:55:27.320" end="04:55:31.558" style="s2">the last video we were able to get SQL</p>
<p begin="04:55:29.040" end="04:55:33.120" style="s2">Alchemy to generate our own post table</p>
<p begin="04:55:31.558" end="04:55:34.920" style="s2">however if we actually poke around with</p>
<p begin="04:55:33.120" end="04:55:37.480" style="s2">it we&#39;ll see that there&#39;s a couple of</p>
<p begin="04:55:34.920" end="04:55:39.280" style="s2">issues so if I go to uh right click on</p>
<p begin="04:55:37.480" end="04:55:41.638" style="s2">it and select properties and I go to</p>
<p begin="04:55:39.280" end="04:55:43.920" style="s2">columns all right we can see that all of</p>
<p begin="04:55:41.638" end="04:55:46.320" style="s2">these fields are set to not null and the</p>
<p begin="04:55:43.920" end="04:55:48.320" style="s2">primary key is set to the ID field so</p>
<p begin="04:55:46.320" end="04:55:50.200" style="s2">everything looks good so far however</p>
<p begin="04:55:48.320" end="04:55:52.718" style="s2">when I go to the</p>
<p begin="04:55:50.200" end="04:55:54.718" style="s2">published column and I go to constraints</p>
<p begin="04:55:52.718" end="04:55:58.360" style="s2">I can see that the default isn&#39;t</p>
<p begin="04:55:54.718" end="04:56:01.000" style="s2">set and so if we go back to our code I</p>
<p begin="04:55:58.360" end="04:56:03.480" style="s2">actually uh made one little mistake</p>
<p begin="04:56:01.000" end="04:56:05.520" style="s2">right this default is not going to give</p>
<p begin="04:56:03.480" end="04:56:07.400" style="s2">us what we need instead what we need to</p>
<p begin="04:56:05.520" end="04:56:10.000" style="s2">do is we need to set this to server</p>
<p begin="04:56:07.400" end="04:56:11.920" style="s2">default um because it&#39;s ultimately the</p>
<p begin="04:56:10.000" end="04:56:13.558" style="s2">the postest server or the database</p>
<p begin="04:56:11.920" end="04:56:16.040" style="s2">server that&#39;s going to actually uh send</p>
<p begin="04:56:13.558" end="04:56:18.120" style="s2">the default so I&#39;m going to put in</p>
<p begin="04:56:16.040" end="04:56:20.400" style="s2">quotations as a string we can just set</p>
<p begin="04:56:18.120" end="04:56:23.080" style="s2">this to be</p>
<p begin="04:56:20.400" end="04:56:24.520" style="s2">true and then if you haven&#39;t added this</p>
<p begin="04:56:23.080" end="04:56:26.360" style="s2">go ahead and add nullable to false I&#39;m</p>
<p begin="04:56:24.520" end="04:56:28.080" style="s2">going to make all of my columns uh not</p>
<p begin="04:56:26.360" end="04:56:30.400" style="s2">allowed to be empty that&#39;s because the</p>
<p begin="04:56:28.080" end="04:56:34.798" style="s2">server is going to add the default to</p>
<p begin="04:56:30.400" end="04:56:38.240" style="s2">true for this so let&#39;s try this out now</p>
<p begin="04:56:34.798" end="04:56:39.558" style="s2">if I hit save right now and I go to my</p>
<p begin="04:56:38.240" end="04:56:41.600" style="s2">postc database and then we can just</p>
<p begin="04:56:39.558" end="04:56:43.840" style="s2">right click on this hit</p>
<p begin="04:56:41.600" end="04:56:45.240" style="s2">refresh and then we do properties again</p>
<p begin="04:56:43.840" end="04:56:48.320" style="s2">and I go to</p>
<p begin="04:56:45.240" end="04:56:50.000" style="s2">column and then we go to uh sorry go to</p>
<p begin="04:56:48.320" end="04:56:52.160" style="s2">the publish column we&#39;ll see that</p>
<p begin="04:56:50.000" end="04:56:54.160" style="s2">there&#39;s no constraint and so this is</p>
<p begin="04:56:52.160" end="04:56:56.400" style="s2">kind of a limitation of SQL Alchemy</p>
<p begin="04:56:54.160" end="04:56:58.798" style="s2">because SQL Alchemy will generate your</p>
<p begin="04:56:56.400" end="04:57:00.558" style="s2">tables but it does it in a very simple</p>
<p begin="04:56:58.798" end="04:57:03.320" style="s2">manner what it actually does is if I go</p>
<p begin="04:57:00.558" end="04:57:04.760" style="s2">to my main.py file uh and then it runs</p>
<p begin="04:57:03.320" end="04:57:06.520" style="s2">this code I believe this is the code</p>
<p begin="04:57:04.760" end="04:57:07.638" style="s2">that actually creates the tables what it</p>
<p begin="04:57:06.520" end="04:57:09.638" style="s2">does is it&#39;ll go through all of our</p>
<p begin="04:57:07.638" end="04:57:11.760" style="s2">models and it&#39;ll look for a table named</p>
<p begin="04:57:09.638" end="04:57:14.240" style="s2">called post if it doesn&#39;t exist it will</p>
<p begin="04:57:11.760" end="04:57:17.080" style="s2">then create one based off of these rules</p>
<p begin="04:57:14.240" end="04:57:18.400" style="s2">however if the table already exists even</p>
<p begin="04:57:17.080" end="04:57:19.878" style="s2">though we&#39;ve changed the different</p>
<p begin="04:57:18.400" end="04:57:22.360" style="s2">attributes The Columns and things like</p>
<p begin="04:57:19.878" end="04:57:24.000" style="s2">that uh if it looks for the if it finds</p>
<p begin="04:57:22.360" end="04:57:25.680" style="s2">a table with that name already in there</p>
<p begin="04:57:24.000" end="04:57:27.760" style="s2">it&#39;s not going to touch it so it&#39;s not</p>
<p begin="04:57:25.680" end="04:57:29.320" style="s2">going to help us modify tables and</p>
<p begin="04:57:27.760" end="04:57:30.400" style="s2">things like that in fact if you actually</p>
<p begin="04:57:29.320" end="04:57:32.520" style="s2">take a look at the</p>
<p begin="04:57:30.400" end="04:57:34.878" style="s2">documentation uh I&#39;ve got so many tabs</p>
<p begin="04:57:32.520" end="04:57:38.360" style="s2">open let&#39;s see if I can find it right</p>
<p begin="04:57:34.878" end="04:57:40.200" style="s2">here I search for almic uh and so</p>
<p begin="04:57:38.360" end="04:57:41.558" style="s2">normally when it comes to creating your</p>
<p begin="04:57:40.200" end="04:57:43.798" style="s2">tables when it comes to handling</p>
<p begin="04:57:41.558" end="04:57:46.440" style="s2">migrations which is a term that&#39;s used</p>
<p begin="04:57:43.798" end="04:57:48.638" style="s2">for changing the columns uh and the</p>
<p begin="04:57:46.440" end="04:57:50.958" style="s2">schema of your tables then you want to</p>
<p begin="04:57:48.638" end="04:57:52.558" style="s2">use another software called almic uh SQL</p>
<p begin="04:57:50.958" end="04:57:54.440" style="s2">Alchemy isn&#39;t really meant for handling</p>
<p begin="04:57:52.558" end="04:57:56.160" style="s2">database migrations or making changes to</p>
<p begin="04:57:54.440" end="04:57:58.320" style="s2">it so that&#39;s why we don&#39;t see it</p>
<p begin="04:57:56.160" end="04:57:59.878" style="s2">automatically make those changes so for</p>
<p begin="04:57:58.320" end="04:58:01.878" style="s2">now what we&#39;re going to do to get around</p>
<p begin="04:57:59.878" end="04:58:03.080" style="s2">this limitation is I&#39;m just going to</p>
<p begin="04:58:01.878" end="04:58:06.920" style="s2">cancel out of this and we&#39;re just going</p>
<p begin="04:58:03.080" end="04:58:09.600" style="s2">to delete the table so we&#39;ll drop the</p>
<p begin="04:58:06.920" end="04:58:11.718" style="s2">table and then we&#39;ll go back to our code</p>
<p begin="04:58:09.600" end="04:58:13.040" style="s2">and then I&#39;m just going to hit save and</p>
<p begin="04:58:11.718" end="04:58:14.480" style="s2">so now that it runs again it&#39;s going to</p>
<p begin="04:58:13.040" end="04:58:16.080" style="s2">look for a table called post since we</p>
<p begin="04:58:14.480" end="04:58:19.558" style="s2">deleted it it&#39;s not going to see it it&#39;s</p>
<p begin="04:58:16.080" end="04:58:21.680" style="s2">going to then go ahead and create our</p>
<p begin="04:58:19.558" end="04:58:24.080" style="s2">table and now if I just right click on</p>
<p begin="04:58:21.680" end="04:58:26.080" style="s2">tables hit refresh we should see that we</p>
<p begin="04:58:24.080" end="04:58:29.240" style="s2">have a post table and if I go to</p>
<p begin="04:58:26.080" end="04:58:30.920" style="s2">properties we can then go to columns</p>
<p begin="04:58:29.240" end="04:58:32.480" style="s2">published and then if we go to</p>
<p begin="04:58:30.920" end="04:58:34.400" style="s2">constraints we can see the default set</p>
<p begin="04:58:32.480" end="04:58:36.638" style="s2">to true so it looks like that fixed that</p>
<p begin="04:58:34.400" end="04:58:40.200" style="s2">issue now the second thing I want to do</p>
<p begin="04:58:36.638" end="04:58:41.400" style="s2">is I want to add our uh timestamp column</p>
<p begin="04:58:40.200" end="04:58:42.798" style="s2">that&#39;s very important we need to know</p>
<p begin="04:58:41.400" end="04:58:45.280" style="s2">when a post was</p>
<p begin="04:58:42.798" end="04:58:48.000" style="s2">created so let&#39;s create a field called</p>
<p begin="04:58:45.280" end="04:58:51.120" style="s2">created Created</p>
<p begin="04:58:48.000" end="04:58:52.400" style="s2">at column now what&#39;s the column type</p>
<p begin="04:58:51.120" end="04:58:54.520" style="s2">going to be well we&#39;re going to use a</p>
<p begin="04:58:52.400" end="04:58:55.840" style="s2">column type of timestamp so type in</p>
<p begin="04:58:54.520" end="04:58:57.840" style="s2">timestamp we can let VSS code</p>
<p begin="04:58:55.840" end="04:58:59.080" style="s2">automatically import it um but all it&#39;s</p>
<p begin="04:58:57.840" end="04:59:04.920" style="s2">going to do is it&#39;s going to import it</p>
<p begin="04:58:59.080" end="04:59:04.920" style="s2">from SQL uh SQL Alchemy SQL do SQL types</p>
<p begin="04:59:10.600" end="04:59:14.680" style="s2">and then within here we have to pass in</p>
<p begin="04:59:12.000" end="04:59:17.240" style="s2">a property of time</p>
<p begin="04:59:14.680" end="04:59:19.718" style="s2">zone equals true so this is going to</p>
<p begin="04:59:17.240" end="04:59:22.680" style="s2">also add in the time zone and that&#39;s</p>
<p begin="04:59:19.718" end="04:59:22.680" style="s2">going to be a capital</p>
<p begin="04:59:24.680" end="04:59:28.798" style="s2">T then the next thing we want to do is</p>
<p begin="04:59:26.840" end="04:59:29.600" style="s2">provide a it&#39;s going to be nullable set</p>
<p begin="04:59:28.798" end="04:59:32.080" style="s2">to</p>
<p begin="04:59:29.600" end="04:59:33.440" style="s2">false so it can&#39;t be left empty but</p>
<p begin="04:59:32.080" end="04:59:34.680" style="s2">we&#39;re going to give it a default value</p>
<p begin="04:59:33.440" end="04:59:36.958" style="s2">if the user doesn&#39;t provide it which</p>
<p begin="04:59:34.680" end="04:59:38.798" style="s2">they never will and so we&#39;ll do server</p>
<p begin="04:59:36.958" end="04:59:40.840" style="s2">default but we have to do something a</p>
<p begin="04:59:38.798" end="04:59:43.920" style="s2">little bit different here I have to to</p>
<p begin="04:59:40.840" end="04:59:47.400" style="s2">uh import a function or a method called</p>
<p begin="04:59:43.920" end="04:59:49.798" style="s2">text from SQL Alchemy so from this right</p>
<p begin="04:59:47.400" end="04:59:50.760" style="s2">here SQL al. sq. Expressions I&#39;m going</p>
<p begin="04:59:49.798" end="04:59:54.920" style="s2">to do</p>
<p begin="04:59:50.760" end="04:59:57.040" style="s2">text and then here we&#39;re going to do now</p>
<p begin="04:59:54.920" end="04:59:59.080" style="s2">right just like we typed in within our</p>
<p begin="04:59:57.040" end="05:00:01.638" style="s2">post database you know if we wanted to</p>
<p begin="04:59:59.080" end="05:00:03.400" style="s2">manually do this we would just go under</p>
<p begin="05:00:01.638" end="05:00:04.760" style="s2">um the column let&#39;s say we had to</p>
<p begin="05:00:03.400" end="05:00:06.680" style="s2">created that column we can just go in</p>
<p begin="05:00:04.760" end="05:00:08.798" style="s2">there go into constraints and then type</p>
<p begin="05:00:06.680" end="05:00:11.160" style="s2">in now like that and that&#39;s going to</p>
<p begin="05:00:08.798" end="05:00:12.360" style="s2">generate a time stamp so we&#39;re doing the</p>
<p begin="05:00:11.160" end="05:00:15.040" style="s2">same thing but we&#39;re just doing it</p>
<p begin="05:00:12.360" end="05:00:17.440" style="s2">through python code now so once again</p>
<p begin="05:00:15.040" end="05:00:20.638" style="s2">we&#39;ll save this we going to drop this</p>
<p begin="05:00:17.440" end="05:00:20.638" style="s2">table so that we recreate</p>
<p begin="05:00:22.638" end="05:00:26.718" style="s2">it and then we&#39;ll save it one more time</p>
<p begin="05:00:25.040" end="05:00:29.200" style="s2">this is going to trigger a Reload and</p>
<p begin="05:00:26.718" end="05:00:31.638" style="s2">then a refresh of the table we should</p>
<p begin="05:00:29.200" end="05:00:33.520" style="s2">now see it so let&#39;s go into properties</p>
<p begin="05:00:31.638" end="05:00:35.160" style="s2">let&#39;s take a look at our columns we&#39;ve</p>
<p begin="05:00:33.520" end="05:00:36.638" style="s2">got the created at column and then if I</p>
<p begin="05:00:35.160" end="05:00:38.760" style="s2">go under constraints we can see the</p>
<p begin="05:00:36.638" end="05:00:40.200" style="s2">default is now set to the current time</p>
<p begin="05:00:38.760" end="05:00:41.878" style="s2">so we&#39;ve got that working let&#39;s just</p>
<p begin="05:00:40.200" end="05:00:44.920" style="s2">quickly test this out so I&#39;m going to go</p>
<p begin="05:00:41.878" end="05:00:47.638" style="s2">into view edit all rows and I&#39;m just</p>
<p begin="05:00:44.920" end="05:00:47.638" style="s2">going to create a</p>
<p begin="05:00:51.240" end="05:00:55.200" style="s2">post we&#39;ll save this and let&#39;s make sure</p>
<p begin="05:00:53.638" end="05:00:56.840" style="s2">all the default values get set looks</p>
<p begin="05:00:55.200" end="05:00:59.600" style="s2">like that&#39;s good and it looks like the</p>
<p begin="05:00:56.840" end="05:01:02.320" style="s2">time is set just right as</p>
<p begin="05:00:59.600" end="05:01:04.558" style="s2">well so now that we have verified that</p>
<p begin="05:01:02.320" end="05:01:06.638" style="s2">SQL Alchemy has created the proper</p>
<p begin="05:01:04.558" end="05:01:08.958" style="s2">tables within postgress it&#39;s time to go</p>
<p begin="05:01:06.638" end="05:01:10.958" style="s2">ahead and create our first query and</p>
<p begin="05:01:08.958" end="05:01:13.280" style="s2">like I mentioned in a previous lesson</p>
<p begin="05:01:10.958" end="05:01:14.638" style="s2">with SQL Alchemy or really any omm the</p>
<p begin="05:01:13.280" end="05:01:15.680" style="s2">way we do queries is going a little bit</p>
<p begin="05:01:14.638" end="05:01:18.000" style="s2">is going to be a little bit different</p>
<p begin="05:01:15.680" end="05:01:20.798" style="s2">we&#39;re no longer going to rely on regular</p>
<p begin="05:01:18.000" end="05:01:23.480" style="s2">SQL instead we&#39;re going to use basic</p>
<p begin="05:01:20.798" end="05:01:25.798" style="s2">python methods uh and so go to your main</p>
<p begin="05:01:23.480" end="05:01:29.040" style="s2">folder uh sorry your main file right and</p>
<p begin="05:01:25.798" end="05:01:30.400" style="s2">we we saw this uh test uh route that we</p>
<p begin="05:01:29.040" end="05:01:32.320" style="s2">defined so what we&#39;re going to do is</p>
<p begin="05:01:30.400" end="05:01:33.920" style="s2">we&#39;re going to run our first query</p>
<p begin="05:01:32.320" end="05:01:35.558" style="s2">within this test route and then</p>
<p begin="05:01:33.920" end="05:01:37.520" style="s2">afterwards we can go ahead and delete it</p>
<p begin="05:01:35.558" end="05:01:40.400" style="s2">and then we can update all of our uh</p>
<p begin="05:01:37.520" end="05:01:42.520" style="s2">pre-existing path operations and so like</p>
<p begin="05:01:40.400" end="05:01:44.080" style="s2">I mentioned before uh anytime you want</p>
<p begin="05:01:42.520" end="05:01:46.638" style="s2">to perform any kind of database</p>
<p begin="05:01:44.080" end="05:01:48.400" style="s2">operation with SQL Alchemy uh within</p>
<p begin="05:01:46.638" end="05:01:52.280" style="s2">fast API we want to make sure that we</p>
<p begin="05:01:48.400" end="05:01:54.600" style="s2">pass it as a parameter into our path</p>
<p begin="05:01:52.280" end="05:01:56.120" style="s2">operation function so you just call DB</p>
<p begin="05:01:54.600" end="05:01:57.600" style="s2">so we&#39;re saving it inside a variable</p>
<p begin="05:01:56.120" end="05:01:58.920" style="s2">called DB and then we&#39;re just calling</p>
<p begin="05:01:57.600" end="05:02:00.718" style="s2">the session object and then we&#39;re</p>
<p begin="05:01:58.920" end="05:02:03.160" style="s2">calling the get DB function within</p>
<p begin="05:02:00.718" end="05:02:04.440" style="s2">depends so this makes it a dependency</p>
<p begin="05:02:03.160" end="05:02:06.520" style="s2">and so if you already forgot what that</p>
<p begin="05:02:04.440" end="05:02:07.798" style="s2">is um just go to your database uh you</p>
<p begin="05:02:06.520" end="05:02:09.040" style="s2">can see that it&#39;s this function right</p>
<p begin="05:02:07.798" end="05:02:11.400" style="s2">here so this is going to actually create</p>
<p begin="05:02:09.040" end="05:02:13.480" style="s2">a session towards database uh for every</p>
<p begin="05:02:11.400" end="05:02:14.638" style="s2">request to that specific API endpoint</p>
<p begin="05:02:13.480" end="05:02:16.840" style="s2">and then it&#39;s going to close it out once</p>
<p begin="05:02:14.638" end="05:02:16.840" style="s2">we&#39;re</p>
<p begin="05:02:17.320" end="05:02:21.080" style="s2">done right and then within main there&#39;s</p>
<p begin="05:02:19.480" end="05:02:23.000" style="s2">one thing that we have to import and</p>
<p begin="05:02:21.080" end="05:02:25.240" style="s2">that is models so you just do from.</p>
<p begin="05:02:23.000" end="05:02:26.718" style="s2">import models that&#39;s going to import</p>
<p begin="05:02:25.240" end="05:02:29.840" style="s2">this specific model so that we can</p>
<p begin="05:02:26.718" end="05:02:29.840" style="s2">actually make queries to</p>
<p begin="05:02:31.718" end="05:02:35.400" style="s2">it all right and to make a query right</p>
<p begin="05:02:34.080" end="05:02:37.920" style="s2">we&#39;re going to access that database</p>
<p begin="05:02:35.400" end="05:02:40.920" style="s2">object which is getting passed into um</p>
<p begin="05:02:37.920" end="05:02:43.200" style="s2">our function</p>
<p begin="05:02:40.920" end="05:02:45.360" style="s2">and then here we want to tap into the</p>
<p begin="05:02:43.200" end="05:02:48.160" style="s2">query</p>
<p begin="05:02:45.360" end="05:02:50.120" style="s2">method and then we have to pass in the</p>
<p begin="05:02:48.160" end="05:02:52.040" style="s2">specific model for the table we want a</p>
<p begin="05:02:50.120" end="05:02:54.080" style="s2">query we only have one model in this</p>
<p begin="05:02:52.040" end="05:02:55.798" style="s2">case which is our post model so that</p>
<p begin="05:02:54.080" end="05:02:57.638" style="s2">when we use this specific model it&#39;s</p>
<p begin="05:02:55.798" end="05:02:58.878" style="s2">going to allow us to make a query to our</p>
<p begin="05:02:57.638" end="05:03:02.040" style="s2">post</p>
<p begin="05:02:58.878" end="05:03:04.000" style="s2">table and here so we&#39;ll call</p>
<p begin="05:03:02.040" end="05:03:05.958" style="s2">models.</p>
<p begin="05:03:04.000" end="05:03:07.360" style="s2">poost so that&#39;s going to allow us to</p>
<p begin="05:03:05.958" end="05:03:10.000" style="s2">access that model and then from here</p>
<p begin="05:03:07.360" end="05:03:11.840" style="s2">what we can do is uh we have a couple of</p>
<p begin="05:03:10.000" end="05:03:13.558" style="s2">different methods that we run can run</p>
<p begin="05:03:11.840" end="05:03:16.400" style="s2">but since we want to query all of our</p>
<p begin="05:03:13.558" end="05:03:18.958" style="s2">posts we just do all so is going to grab</p>
<p begin="05:03:16.400" end="05:03:21.080" style="s2">every single entry within the post</p>
<p begin="05:03:18.958" end="05:03:25.120" style="s2">table and then here we could just save</p>
<p begin="05:03:21.080" end="05:03:25.120" style="s2">this as a a variable called</p>
<p begin="05:03:25.400" end="05:03:28.680" style="s2">posts and then for the return statement</p>
<p begin="05:03:27.798" end="05:03:29.920" style="s2">I&#39;m just going to say we&#39;re going to</p>
<p begin="05:03:28.680" end="05:03:32.480" style="s2">return</p>
<p begin="05:03:29.920" end="05:03:36.120" style="s2">data and then</p>
<p begin="05:03:32.480" end="05:03:38.638" style="s2">posts so let&#39;s test this out now and I&#39;m</p>
<p begin="05:03:36.120" end="05:03:41.320" style="s2">going to go to get posts actually I&#39;m</p>
<p begin="05:03:38.638" end="05:03:44.320" style="s2">just going to create a new test test um</p>
<p begin="05:03:41.320" end="05:03:44.320" style="s2">test route so our new</p>
<p begin="05:03:45.400" end="05:03:51.840" style="s2">request and I&#39;m just going to copy the</p>
<p begin="05:03:48.400" end="05:03:55.400" style="s2">URL and then this is stored in SQL</p>
<p begin="05:03:51.840" end="05:03:58.480" style="s2">Alchemy let&#39;s try this out and this</p>
<p begin="05:03:55.400" end="05:03:59.878" style="s2">should result in us getting just one</p>
<p begin="05:03:58.480" end="05:04:02.080" style="s2">post so let me just double check my</p>
<p begin="05:03:59.878" end="05:04:04.958" style="s2">postris database just to make sure that</p>
<p begin="05:04:02.080" end="05:04:06.958" style="s2">we only have one post so I&#39;m just going</p>
<p begin="05:04:04.958" end="05:04:11.718" style="s2">to open up the query</p>
<p begin="05:04:06.958" end="05:04:11.718" style="s2">tool and we&#39;ll just do select star from</p>
<p begin="05:04:12.080" end="05:04:16.558" style="s2">posts yep and it looks like I only have</p>
<p begin="05:04:14.160" end="05:04:18.798" style="s2">one post and so that&#39;s why we only got</p>
<p begin="05:04:16.558" end="05:04:21.040" style="s2">one Post in our request and if I add a</p>
<p begin="05:04:18.798" end="05:04:21.040" style="s2">new</p>
<p begin="05:04:28.558" end="05:04:33.440" style="s2">post and save that and we make a new</p>
<p begin="05:04:31.558" end="05:04:34.760" style="s2">request we should get two posts so that</p>
<p begin="05:04:33.440" end="05:04:36.558" style="s2">verifies that we are successfully</p>
<p begin="05:04:34.760" end="05:04:39.000" style="s2">connecting to our database and we are</p>
<p begin="05:04:36.558" end="05:04:41.160" style="s2">successfully retrieving those posts and</p>
<p begin="05:04:39.000" end="05:04:43.798" style="s2">so I want you to stop and really take a</p>
<p begin="05:04:41.160" end="05:04:45.718" style="s2">look at how the queries um vary when it</p>
<p begin="05:04:43.798" end="05:04:47.840" style="s2">comes to working with an orm versus</p>
<p begin="05:04:45.718" end="05:04:49.600" style="s2">working with regular SQL um because if</p>
<p begin="05:04:47.840" end="05:04:52.400" style="s2">we actually see the uh path operation</p>
<p begin="05:04:49.600" end="05:04:54.040" style="s2">for getting posts at/ poost here this is</p>
<p begin="05:04:52.400" end="05:04:55.920" style="s2">where we&#39;re using regular SQL so here we</p>
<p begin="05:04:54.040" end="05:04:57.680" style="s2">do select star from post but if you take</p>
<p begin="05:04:55.920" end="05:04:59.200" style="s2">a look at this there&#39;s no SQL here right</p>
<p begin="05:04:57.680" end="05:05:02.200" style="s2">we&#39;re just tapping into the database</p>
<p begin="05:04:59.200" end="05:05:03.760" style="s2">object and we&#39;re going to call a query</p>
<p begin="05:05:02.200" end="05:05:05.280" style="s2">and then from here we have to tell what</p>
<p begin="05:05:03.760" end="05:05:07.718" style="s2">specific model which in this case</p>
<p begin="05:05:05.280" end="05:05:10.718" style="s2">remember these models represent tables</p>
<p begin="05:05:07.718" end="05:05:13.160" style="s2">and then we just say I want all posts</p>
<p begin="05:05:10.718" end="05:05:14.200" style="s2">now what&#39;s even more interesting is if I</p>
<p begin="05:05:13.160" end="05:05:16.440" style="s2">remove</p>
<p begin="05:05:14.200" end="05:05:19.000" style="s2">this and then uh for now I&#39;m just going</p>
<p begin="05:05:16.440" end="05:05:21.680" style="s2">to hardcode you know successful just</p>
<p begin="05:05:19.000" end="05:05:24.920" style="s2">some random data I&#39;m going to do a</p>
<p begin="05:05:21.680" end="05:05:26.120" style="s2">print posts so right here we&#39;re calling</p>
<p begin="05:05:24.920" end="05:05:28.000" style="s2">the database object and then we&#39;re</p>
<p begin="05:05:26.120" end="05:05:29.558" style="s2">calling query so what actually happens</p>
<p begin="05:05:28.000" end="05:05:32.200" style="s2">when we just do</p>
<p begin="05:05:29.558" end="05:05:34.240" style="s2">this well I&#39;m going to save that we&#39;re</p>
<p begin="05:05:32.200" end="05:05:35.760" style="s2">going to send a request we&#39;re not going</p>
<p begin="05:05:34.240" end="05:05:38.480" style="s2">to get any data back that&#39;s to be</p>
<p begin="05:05:35.760" end="05:05:39.638" style="s2">expected but take a look at this right</p>
<p begin="05:05:38.480" end="05:05:41.400" style="s2">we&#39;re actually taking a look at what</p>
<p begin="05:05:39.638" end="05:05:42.878" style="s2">what the query object returns and you</p>
<p begin="05:05:41.400" end="05:05:44.920" style="s2">can see that it&#39;s just returning a</p>
<p begin="05:05:42.878" end="05:05:46.680" style="s2">regular SQL statement so it&#39;s saying I</p>
<p begin="05:05:44.920" end="05:05:49.320" style="s2">want you to return post. ID and then</p>
<p begin="05:05:46.680" end="05:05:51.240" style="s2">it&#39;s just renaming it postore ID then I</p>
<p begin="05:05:49.320" end="05:05:52.840" style="s2">want to grab post. tile we&#39;re renaming</p>
<p begin="05:05:51.240" end="05:05:53.840" style="s2">it as post. tile so it&#39;s grabbing all of</p>
<p begin="05:05:52.840" end="05:05:55.638" style="s2">the</p>
<p begin="05:05:53.840" end="05:05:57.520" style="s2">columns and then we&#39;re going to grab it</p>
<p begin="05:05:55.638" end="05:05:59.240" style="s2">from our post table so it&#39;s really no</p>
<p begin="05:05:57.520" end="05:06:02.160" style="s2">different than just running you know</p>
<p begin="05:05:59.240" end="05:06:03.600" style="s2">select star from Posts essentially</p>
<p begin="05:06:02.160" end="05:06:05.080" style="s2">that&#39;s all it&#39;s doing but it&#39;s just</p>
<p begin="05:06:03.600" end="05:06:06.480" style="s2">renaming all the columns to be a little</p>
<p begin="05:06:05.080" end="05:06:08.718" style="s2">bit more easy to read so you can see</p>
<p begin="05:06:06.480" end="05:06:10.760" style="s2">that these queries this query object is</p>
<p begin="05:06:08.718" end="05:06:12.520" style="s2">just performing SE so it abstracts all</p>
<p begin="05:06:10.760" end="05:06:14.200" style="s2">of the SQL away from you and it handles</p>
<p begin="05:06:12.520" end="05:06:15.958" style="s2">all the logic of generating the SQL so</p>
<p begin="05:06:14.200" end="05:06:17.480" style="s2">that you don&#39;t have to know or you don&#39;t</p>
<p begin="05:06:15.958" end="05:06:19.600" style="s2">have to have as solid of an</p>
<p begin="05:06:17.480" end="05:06:21.680" style="s2">understanding of SQL and this allows you</p>
<p begin="05:06:19.600" end="05:06:23.958" style="s2">to really focus on uh building out the</p>
<p begin="05:06:21.680" end="05:06:25.920" style="s2">API this allows you to focus on U</p>
<p begin="05:06:23.958" end="05:06:27.320" style="s2">working with python and less with cql in</p>
<p begin="05:06:25.920" end="05:06:29.558" style="s2">the databases</p>
<p begin="05:06:27.320" end="05:06:31.440" style="s2">themselves so now we know when we call</p>
<p begin="05:06:29.558" end="05:06:33.798" style="s2">query this actually creates the query</p>
<p begin="05:06:31.440" end="05:06:35.400" style="s2">however to run the query we have to run</p>
<p begin="05:06:33.798" end="05:06:37.040" style="s2">a specific method so there&#39;s a couple of</p>
<p begin="05:06:35.400" end="05:06:38.520" style="s2">methods that we can run um but if you</p>
<p begin="05:06:37.040" end="05:06:40.040" style="s2">want to grab everything then you just</p>
<p begin="05:06:38.520" end="05:06:42.200" style="s2">call all and then it&#39;s going to take</p>
<p begin="05:06:40.040" end="05:06:43.798" style="s2">this SQL query and then it&#39;s actually</p>
<p begin="05:06:42.200" end="05:06:46.200" style="s2">going to run it against the database and</p>
<p begin="05:06:43.798" end="05:06:48.280" style="s2">then return it but until we call this</p>
<p begin="05:06:46.200" end="05:06:52.160" style="s2">last method it&#39;s nothing more than just</p>
<p begin="05:06:48.280" end="05:06:52.160" style="s2">a SQL query that hasn&#39;t been run</p>
<p begin="05:06:52.360" end="05:06:57.280" style="s2">yet all right so now that we know how to</p>
<p begin="05:06:54.360" end="05:06:59.360" style="s2">fetch all posts let&#39;s just go down here</p>
<p begin="05:06:57.280" end="05:07:02.360" style="s2">right and let&#39;s just put in this logic</p>
<p begin="05:06:59.360" end="05:07:05.798" style="s2">so um this is our actual end point for</p>
<p begin="05:07:02.360" end="05:07:06.600" style="s2">retrieving posts this is our get post</p>
<p begin="05:07:05.798" end="05:07:09.160" style="s2">and what we&#39;re going to do is I&#39;m going</p>
<p begin="05:07:06.600" end="05:07:10.638" style="s2">to comment this out just so that uh uh</p>
<p begin="05:07:09.160" end="05:07:12.160" style="s2">you know later down the road if you guys</p>
<p begin="05:07:10.638" end="05:07:14.360" style="s2">want to just take a look back how you do</p>
<p begin="05:07:12.160" end="05:07:15.920" style="s2">it with regular raw SQL you still have</p>
<p begin="05:07:14.360" end="05:07:18.200" style="s2">that within the code</p>
<p begin="05:07:15.920" end="05:07:19.600" style="s2">base and anytime you want to work with</p>
<p begin="05:07:18.200" end="05:07:22.600" style="s2">the database remember you have to pass</p>
<p begin="05:07:19.600" end="05:07:24.200" style="s2">it in to the path operation function so</p>
<p begin="05:07:22.600" end="05:07:26.160" style="s2">this is going to make it a</p>
<p begin="05:07:24.200" end="05:07:27.920" style="s2">dependency and you&#39;ll see by doing it</p>
<p begin="05:07:26.160" end="05:07:30.520" style="s2">like this it&#39;ll make testing a lot</p>
<p begin="05:07:27.920" end="05:07:32.718" style="s2">easier and then we can just copy this</p>
<p begin="05:07:30.520" end="05:07:32.718" style="s2">right</p>
<p begin="05:07:34.160" end="05:07:40.120" style="s2">here and then we&#39;re going to return the</p>
<p begin="05:07:36.080" end="05:07:40.120" style="s2">post so let&#39;s test that out</p>
<p begin="05:07:41.160" end="05:07:46.718" style="s2">so now if I go to get posts hit send you</p>
<p begin="05:07:44.680" end="05:07:47.840" style="s2">can see that we successfully retrieved</p>
<p begin="05:07:46.718" end="05:07:50.040" style="s2">both of our</p>
<p begin="05:07:47.840" end="05:07:51.680" style="s2">posts all right and it really is as</p>
<p begin="05:07:50.040" end="05:07:53.000" style="s2">simple as that uh and then in the next</p>
<p begin="05:07:51.680" end="05:07:54.920" style="s2">video we&#39;ll start taking a look at how</p>
<p begin="05:07:53.000" end="05:07:56.958" style="s2">we can create posts and so</p>
<p begin="05:07:54.920" end="05:07:59.600" style="s2">on in this video we&#39;re going to start</p>
<p begin="05:07:56.958" end="05:08:02.320" style="s2">tackling how to create a post using a</p>
<p begin="05:07:59.600" end="05:08:04.160" style="s2">omm or specifically SQL Alchemy so once</p>
<p begin="05:08:02.320" end="05:08:06.558" style="s2">again I&#39;m going to copy out or comment</p>
<p begin="05:08:04.160" end="05:08:07.718" style="s2">out all of the SQL code and what we&#39;re</p>
<p begin="05:08:06.558" end="05:08:10.558" style="s2">going to do is we&#39;re going to see how we</p>
<p begin="05:08:07.718" end="05:08:12.520" style="s2">can actually create a brand new object</p>
<p begin="05:08:10.558" end="05:08:14.520" style="s2">uh or a brand new Post in this case so</p>
<p begin="05:08:12.520" end="05:08:16.440" style="s2">first things first anytime any of your</p>
<p begin="05:08:14.520" end="05:08:18.240" style="s2">path operations need to work with the</p>
<p begin="05:08:16.440" end="05:08:21.600" style="s2">database we need to make sure that we</p>
<p begin="05:08:18.240" end="05:08:23.400" style="s2">copy this exact input argument into the</p>
<p begin="05:08:21.600" end="05:08:25.840" style="s2">path operation function this is going to</p>
<p begin="05:08:23.400" end="05:08:27.160" style="s2">give us a access to our database object</p>
<p begin="05:08:25.840" end="05:08:29.240" style="s2">so that we can actually make queries and</p>
<p begin="05:08:27.160" end="05:08:30.680" style="s2">make changes to our database and by</p>
<p begin="05:08:29.240" end="05:08:32.080" style="s2">passing it in like this it&#39;s going to</p>
<p begin="05:08:30.680" end="05:08:33.878" style="s2">make it a dependency and it&#39;s going to</p>
<p begin="05:08:32.080" end="05:08:35.240" style="s2">make it a lot easier for testing and and</p>
<p begin="05:08:33.878" end="05:08:37.120" style="s2">things like that technically you don&#39;t</p>
<p begin="05:08:35.240" end="05:08:39.000" style="s2">have to do it like this uh you could</p>
<p begin="05:08:37.120" end="05:08:41.000" style="s2">just import it directly in there however</p>
<p begin="05:08:39.000" end="05:08:43.638" style="s2">by doing it like this like I said uh</p>
<p begin="05:08:41.000" end="05:08:45.638" style="s2">testing becomes a little bit easier all</p>
<p begin="05:08:43.638" end="05:08:47.638" style="s2">right so we&#39;ve got our models right and</p>
<p begin="05:08:45.638" end="05:08:50.480" style="s2">we have one specific model so this model</p>
<p begin="05:08:47.638" end="05:08:52.240" style="s2">represents our posts and so to create a</p>
<p begin="05:08:50.480" end="05:08:56.000" style="s2">brand new post we have to reference this</p>
<p begin="05:08:52.240" end="05:08:58.360" style="s2">model and pass in the specific fields</p>
<p begin="05:08:56.000" end="05:08:59.798" style="s2">that we want to create a new entry with</p>
<p begin="05:08:58.360" end="05:09:02.000" style="s2">so first of all we have to make sure we</p>
<p begin="05:08:59.798" end="05:09:03.638" style="s2">import that model and you can see that</p>
<p begin="05:09:02.000" end="05:09:06.040" style="s2">we are importing all of our models by</p>
<p begin="05:09:03.638" end="05:09:09.120" style="s2">doing from. import models so we can</p>
<p begin="05:09:06.040" end="05:09:12.120" style="s2">access models do um Post in this case to</p>
<p begin="05:09:09.120" end="05:09:12.120" style="s2">access that specific</p>
<p begin="05:09:13.718" end="05:09:19.480" style="s2">model and so here I&#39;m going to do</p>
<p begin="05:09:16.480" end="05:09:19.480" style="s2">models.</p>
<p begin="05:09:20.878" end="05:09:25.920" style="s2">poost and then we have to pass in the</p>
<p begin="05:09:23.400" end="05:09:28.320" style="s2">properties of the brandly of the brand</p>
<p begin="05:09:25.920" end="05:09:30.600" style="s2">new post that we want to</p>
<p begin="05:09:28.320" end="05:09:31.600" style="s2">create uh and so what are the properties</p>
<p begin="05:09:30.600" end="05:09:33.280" style="s2">right if you take a look at our SQL</p>
<p begin="05:09:31.600" end="05:09:36.040" style="s2">statement we need the title the content</p>
<p begin="05:09:33.280" end="05:09:37.480" style="s2">and uh the published Boolean right and</p>
<p begin="05:09:36.040" end="05:09:38.680" style="s2">that&#39;s all going to be derived from the</p>
<p begin="05:09:37.480" end="05:09:41.040" style="s2">request that we get which is going to be</p>
<p begin="05:09:38.680" end="05:09:42.520" style="s2">stored in the post object so I can</p>
<p begin="05:09:41.040" end="05:09:45.280" style="s2">reference all of those fields so I can</p>
<p begin="05:09:42.520" end="05:09:47.600" style="s2">say the title for the brand new post is</p>
<p begin="05:09:45.280" end="05:09:49.520" style="s2">going to be set to whatever the title</p>
<p begin="05:09:47.600" end="05:09:53.320" style="s2">the user sent and that can be accessed</p>
<p begin="05:09:49.520" end="05:09:56.480" style="s2">with post. tile the content of the</p>
<p begin="05:09:53.320" end="05:09:59.000" style="s2">brandly new created post is going to be</p>
<p begin="05:09:56.480" end="05:09:59.958" style="s2">content equals post. content and then</p>
<p begin="05:09:59.000" end="05:10:02.480" style="s2">the same thing is going to be for</p>
<p begin="05:09:59.958" end="05:10:04.520" style="s2">published so it&#39;s going to be um post</p>
<p begin="05:10:02.480" end="05:10:07.040" style="s2">dop published right if you take a look</p>
<p begin="05:10:04.520" end="05:10:08.600" style="s2">at this code so far this doesn&#39;t look</p>
<p begin="05:10:07.040" end="05:10:10.638" style="s2">too different from the SQL statement</p>
<p begin="05:10:08.600" end="05:10:12.520" style="s2">right this says insert into posts and</p>
<p begin="05:10:10.638" end="05:10:14.920" style="s2">then we pass in post. tile into the</p>
<p begin="05:10:12.520" end="05:10:16.680" style="s2">title post. content into the content and</p>
<p begin="05:10:14.920" end="05:10:18.320" style="s2">then post. published into published</p>
<p begin="05:10:16.680" end="05:10:19.600" style="s2">right and so this is pretty much exactly</p>
<p begin="05:10:18.320" end="05:10:21.878" style="s2">the same thing we&#39;re not doing anything</p>
<p begin="05:10:19.600" end="05:10:23.680" style="s2">different we&#39;re just having uh SQL</p>
<p begin="05:10:21.878" end="05:10:24.920" style="s2">Alchemy handle all of that logic so we</p>
<p begin="05:10:23.680" end="05:10:27.840" style="s2">can do everything in just standard</p>
<p begin="05:10:24.920" end="05:10:29.558" style="s2">python code and there&#39;s no SQL</p>
<p begin="05:10:27.840" end="05:10:30.718" style="s2">anymore all right and the next thing</p>
<p begin="05:10:29.558" end="05:10:33.878" style="s2">that we want to do is well let&#39;s save</p>
<p begin="05:10:30.718" end="05:10:36.200" style="s2">the result as new</p>
<p begin="05:10:33.878" end="05:10:40.040" style="s2">post and let&#39;s see what</p>
<p begin="05:10:36.200" end="05:10:41.480" style="s2">happens so I&#39;m going to save this</p>
<p begin="05:10:40.040" end="05:10:43.440" style="s2">and then we&#39;re going to set a little</p>
<p begin="05:10:41.480" end="05:10:45.878" style="s2">query so first of all I&#39;m going to</p>
<p begin="05:10:43.440" end="05:10:49.480" style="s2">create a new post I&#39;m going to call this</p>
<p begin="05:10:45.878" end="05:10:49.480" style="s2">a welcome to</p>
<p begin="05:10:49.920" end="05:10:56.040" style="s2">Funland so much</p>
<p begin="05:10:52.798" end="05:10:59.000" style="s2">fun okay and so then we&#39;ll we will send</p>
<p begin="05:10:56.040" end="05:11:00.520" style="s2">a request and we got some data back and</p>
<p begin="05:10:59.000" end="05:11:03.000" style="s2">so it looks like it worked however take</p>
<p begin="05:11:00.520" end="05:11:05.400" style="s2">a look at our uh our data we&#39;ve got a</p>
<p begin="05:11:03.000" end="05:11:07.360" style="s2">title we&#39;ve got a content and then we&#39;ve</p>
<p begin="05:11:05.400" end="05:11:08.760" style="s2">got published but where&#39;s the ID uh</p>
<p begin="05:11:07.360" end="05:11:10.920" style="s2">where&#39;s the created ad field all the</p>
<p begin="05:11:08.760" end="05:11:12.600" style="s2">fields that the database creates so this</p>
<p begin="05:11:10.920" end="05:11:15.240" style="s2">makes me suspect that this didn&#39;t</p>
<p begin="05:11:12.600" end="05:11:17.000" style="s2">actually work so let&#39;s go to postgress</p>
<p begin="05:11:15.240" end="05:11:18.920" style="s2">and go ahead and make a query to your</p>
<p begin="05:11:17.000" end="05:11:20.798" style="s2">table so select star from post that&#39;s</p>
<p begin="05:11:18.920" end="05:11:23.958" style="s2">going to grab all of</p>
<p begin="05:11:20.798" end="05:11:26.040" style="s2">them um and you&#39;ll see that based off of</p>
<p begin="05:11:23.958" end="05:11:27.480" style="s2">the title welcome to Funland I do not</p>
<p begin="05:11:26.040" end="05:11:29.600" style="s2">have that in there so it looks like this</p>
<p begin="05:11:27.480" end="05:11:32.000" style="s2">was not successfully able to create a</p>
<p begin="05:11:29.600" end="05:11:34.120" style="s2">post within our database so let&#39;s take a</p>
<p begin="05:11:32.000" end="05:11:36.400" style="s2">look and see what went</p>
<p begin="05:11:34.120" end="05:11:38.878" style="s2">wrong and uh if you actually take a look</p>
<p begin="05:11:36.400" end="05:11:41.320" style="s2">at the uh the previous method right you</p>
<p begin="05:11:38.878" end="05:11:42.798" style="s2">could see that uh we actually have to</p>
<p begin="05:11:41.320" end="05:11:45.200" style="s2">commit something to the database so we</p>
<p begin="05:11:42.798" end="05:11:46.920" style="s2">can create an entry but it doesn&#39;t</p>
<p begin="05:11:45.200" end="05:11:48.760" style="s2">actually get pushed to the database</p>
<p begin="05:11:46.920" end="05:11:50.200" style="s2">until we do a commit and so I&#39;m</p>
<p begin="05:11:48.760" end="05:11:52.320" style="s2">suspecting that we probably have to do a</p>
<p begin="05:11:50.200" end="05:11:54.558" style="s2">similar thing so when it comes to SQL</p>
<p begin="05:11:52.320" end="05:11:56.080" style="s2">Alchemy what we need to do is first of</p>
<p begin="05:11:54.558" end="05:12:00.080" style="s2">all we have to tap into the database</p>
<p begin="05:11:56.080" end="05:12:01.320" style="s2">object now we want to say db. add and</p>
<p begin="05:12:00.080" end="05:12:03.120" style="s2">then we&#39;re going to add this newly</p>
<p begin="05:12:01.320" end="05:12:05.638" style="s2">created post so this is going to add it</p>
<p begin="05:12:03.120" end="05:12:07.360" style="s2">to the database however just like with</p>
<p begin="05:12:05.638" end="05:12:11.958" style="s2">the connection. commit we have to commit</p>
<p begin="05:12:07.360" end="05:12:11.958" style="s2">those changes so we do b.</p>
<p begin="05:12:12.320" end="05:12:16.280" style="s2">commit and then the last thing that we</p>
<p begin="05:12:14.280" end="05:12:17.920" style="s2">need to do is uh if you take a look at</p>
<p begin="05:12:16.280" end="05:12:20.718" style="s2">our SQL statement we have this returning</p>
<p begin="05:12:17.920" end="05:12:23.120" style="s2">star so that&#39;s going to return back the</p>
<p begin="05:12:20.718" end="05:12:24.600" style="s2">uh newly created post uh with SQL</p>
<p begin="05:12:23.120" end="05:12:26.840" style="s2">Alchemy it&#39;s a little bit different</p>
<p begin="05:12:24.600" end="05:12:28.680" style="s2">right because we don&#39;t really have</p>
<p begin="05:12:26.840" end="05:12:30.718" style="s2">access to that underlying SQL code we</p>
<p begin="05:12:28.680" end="05:12:32.240" style="s2">can&#39;t add a returning statement to this</p>
<p begin="05:12:30.718" end="05:12:35.680" style="s2">so the way that you do this in SQL</p>
<p begin="05:12:32.240" end="05:12:37.760" style="s2">Alchemy is you do db.</p>
<p begin="05:12:35.680" end="05:12:39.798" style="s2">refresh and then you pass in the new</p>
<p begin="05:12:37.760" end="05:12:41.798" style="s2">post object so with this is going to do</p>
<p begin="05:12:39.798" end="05:12:44.040" style="s2">is we create a brand new post we add it</p>
<p begin="05:12:41.798" end="05:12:44.718" style="s2">to our database then we commit it and</p>
<p begin="05:12:44.040" end="05:12:46.798" style="s2">then what we&#39;re going to do is we&#39;re</p>
<p begin="05:12:44.718" end="05:12:48.840" style="s2">going to essentially retrieve that new</p>
<p begin="05:12:46.798" end="05:12:52.320" style="s2">post that we just created and store it</p>
<p begin="05:12:48.840" end="05:12:54.280" style="s2">back into the variable newor poost and</p>
<p begin="05:12:52.320" end="05:12:57.920" style="s2">so all of this code should be uh</p>
<p begin="05:12:54.280" end="05:12:59.958" style="s2">identical to this code and so now if we</p>
<p begin="05:12:57.920" end="05:13:01.480" style="s2">uh we&#39;ll just return back new post and I</p>
<p begin="05:12:59.958" end="05:13:04.320" style="s2">think that should fix our</p>
<p begin="05:13:01.480" end="05:13:07.360" style="s2">issue so now if I hit</p>
<p begin="05:13:04.320" end="05:13:08.798" style="s2">send right we do see an ID and we do see</p>
<p begin="05:13:07.360" end="05:13:10.360" style="s2">a created that field so it looks like it</p>
<p begin="05:13:08.798" end="05:13:13.440" style="s2">worked but we want to double check</p>
<p begin="05:13:10.360" end="05:13:15.000" style="s2">within postgress so if I hit run and we</p>
<p begin="05:13:13.440" end="05:13:17.958" style="s2">can see welcome to Funland so looks like</p>
<p begin="05:13:15.000" end="05:13:20.280" style="s2">it&#39;s now successfully working and before</p>
<p begin="05:13:17.958" end="05:13:21.680" style="s2">we wrap up this video uh there&#39;s one</p>
<p begin="05:13:20.280" end="05:13:23.240" style="s2">thing I don&#39;t like about the way we&#39;ve</p>
<p begin="05:13:21.680" end="05:13:24.920" style="s2">done things right and this isn&#39;t</p>
<p begin="05:13:23.240" end="05:13:26.400" style="s2">necessarily going to break or cause any</p>
<p begin="05:13:24.920" end="05:13:28.440" style="s2">issues however you&#39;re going to see it&#39;s</p>
<p begin="05:13:26.400" end="05:13:31.480" style="s2">very inefficient uh depending on what</p>
<p begin="05:13:28.440" end="05:13:33.080" style="s2">your models look like now our model has</p>
<p begin="05:13:31.480" end="05:13:35.638" style="s2">only a couple of fields and the user</p>
<p begin="05:13:33.080" end="05:13:37.638" style="s2">only has to really pass in um two to</p>
<p begin="05:13:35.638" end="05:13:39.760" style="s2">three fields which is title content and</p>
<p begin="05:13:37.638" end="05:13:42.600" style="s2">published so it&#39;s not that big of a deal</p>
<p begin="05:13:39.760" end="05:13:45.080" style="s2">but imagine if we have a model with 50</p>
<p begin="05:13:42.600" end="05:13:46.680" style="s2">fields there&#39;s no limitation right you</p>
<p begin="05:13:45.080" end="05:13:47.638" style="s2">could put as many fields as you want</p>
<p begin="05:13:46.680" end="05:13:49.680" style="s2">well then things are going to get a</p>
<p begin="05:13:47.638" end="05:13:51.200" style="s2">little bit more difficult because uh if</p>
<p begin="05:13:49.680" end="05:13:54.240" style="s2">you see we have to extract all the</p>
<p begin="05:13:51.200" end="05:13:55.760" style="s2">fields from our schema right and then we</p>
<p begin="05:13:54.240" end="05:13:58.558" style="s2">have to kind of pass it in so we have to</p>
<p begin="05:13:55.760" end="05:14:00.360" style="s2">say oh title equals post. title content</p>
<p begin="05:13:58.558" end="05:14:02.360" style="s2">equals post. content and then published</p>
<p begin="05:14:00.360" end="05:14:03.680" style="s2">equals post. published now if we have 50</p>
<p begin="05:14:02.360" end="05:14:06.080" style="s2">fields we&#39;re going to have to do that 50</p>
<p begin="05:14:03.680" end="05:14:07.480" style="s2">times and that&#39;s a little inefficient uh</p>
<p begin="05:14:06.080" end="05:14:10.080" style="s2">and there&#39;s actually a much easier way</p>
<p begin="05:14:07.480" end="05:14:12.840" style="s2">to do it and the the way to do this is</p>
<p begin="05:14:10.080" end="05:14:15.040" style="s2">we have access to the post um object</p>
<p begin="05:14:12.840" end="05:14:17.360" style="s2">which is you know um this is a pantic</p>
<p begin="05:14:15.040" end="05:14:19.558" style="s2">model so it&#39;s going to ensure that it um</p>
<p begin="05:14:17.360" end="05:14:21.638" style="s2">matches the schema that we set and we</p>
<p begin="05:14:19.558" end="05:14:23.080" style="s2">want to say post. dict now we know</p>
<p begin="05:14:21.638" end="05:14:26.400" style="s2">that&#39;s going to convert it to a regular</p>
<p begin="05:14:23.080" end="05:14:26.400" style="s2">dictionary so if I do a</p>
<p begin="05:14:27.440" end="05:14:31.958" style="s2">print save that and then just send a</p>
<p begin="05:14:30.280" end="05:14:34.080" style="s2">request right take a look at this we&#39;ve</p>
<p begin="05:14:31.958" end="05:14:35.920" style="s2">got a regular python dictionary however</p>
<p begin="05:14:34.080" end="05:14:37.760" style="s2">we need to be able to automatically take</p>
<p begin="05:14:35.920" end="05:14:41.120" style="s2">that dictionary and convert it to this</p>
<p begin="05:14:37.760" end="05:14:42.760" style="s2">format where uh instead of having uh you</p>
<p begin="05:14:41.120" end="05:14:45.280" style="s2">know title like this and then welcome to</p>
<p begin="05:14:42.760" end="05:14:47.000" style="s2">Funland it&#39;s going to be title equals</p>
<p begin="05:14:45.280" end="05:14:49.280" style="s2">and then post out title content equals</p>
<p begin="05:14:47.000" end="05:14:50.440" style="s2">post. content so how do we do that easy</p>
<p begin="05:14:49.280" end="05:14:53.080" style="s2">all we have to do is unpack the</p>
<p begin="05:14:50.440" end="05:14:54.718" style="s2">dictionary so you just do uh star star</p>
<p begin="05:14:53.080" end="05:14:58.718" style="s2">and it&#39;s going to put it into this exact</p>
<p begin="05:14:54.718" end="05:15:01.920" style="s2">same format so we can remove all of this</p>
<p begin="05:14:58.718" end="05:15:04.958" style="s2">and just say star star post.</p>
<p begin="05:15:01.920" end="05:15:07.520" style="s2">dict and that should ultimately do the</p>
<p begin="05:15:04.958" end="05:15:09.718" style="s2">same exact thing except now if we uh go</p>
<p begin="05:15:07.520" end="05:15:11.160" style="s2">back to our database uh or our model and</p>
<p begin="05:15:09.718" end="05:15:13.000" style="s2">add in extra Fields it&#39;s going to</p>
<p begin="05:15:11.160" end="05:15:14.760" style="s2">automatically unpack all of those fields</p>
<p begin="05:15:13.000" end="05:15:16.718" style="s2">for us so we don&#39;t have to manually type</p>
<p begin="05:15:14.760" end="05:15:18.878" style="s2">it</p>
<p begin="05:15:16.718" end="05:15:22.080" style="s2">out all right we&#39;ll save that I&#39;m going</p>
<p begin="05:15:18.878" end="05:15:25.240" style="s2">to just uh put in some extra text just</p>
<p begin="05:15:22.080" end="05:15:25.240" style="s2">to make sure we can verify</p>
<p begin="05:15:25.600" end="05:15:30.798" style="s2">that and I realize we got to remove this</p>
<p begin="05:15:27.958" end="05:15:33.360" style="s2">print statement it&#39;s going to throw an</p>
<p begin="05:15:30.798" end="05:15:35.120" style="s2">error then we&#39;ll hit send it looks like</p>
<p begin="05:15:33.360" end="05:15:37.760" style="s2">everything worked let&#39;s go to our</p>
<p begin="05:15:35.120" end="05:15:40.840" style="s2">database search</p>
<p begin="05:15:37.760" end="05:15:42.718" style="s2">and he it looks like it worked so you</p>
<p begin="05:15:40.840" end="05:15:45.120" style="s2">can see that if we go back to our code a</p>
<p begin="05:15:42.718" end="05:15:48.120" style="s2">lot cleaner uh than having to type out</p>
<p begin="05:15:45.120" end="05:15:49.760" style="s2">each one of those fields and we can put</p>
<p begin="05:15:48.120" end="05:15:50.680" style="s2">this all in one line so it looks a</p>
<p begin="05:15:49.760" end="05:15:52.840" style="s2">little</p>
<p begin="05:15:50.680" end="05:15:56.000" style="s2">better all right so now it&#39;s time to</p>
<p begin="05:15:52.840" end="05:15:59.000" style="s2">handle querying for an individual post</p>
<p begin="05:15:56.000" end="05:16:01.200" style="s2">so a post by a specific ID so once again</p>
<p begin="05:15:59.000" end="05:16:03.798" style="s2">we will comment out the SQL</p>
<p begin="05:16:01.200" end="05:16:06.360" style="s2">code and we will do this using SQL</p>
<p begin="05:16:03.798" end="05:16:08.638" style="s2">Alchemy so once again copy the</p>
<p begin="05:16:06.360" end="05:16:11.360" style="s2">database dependency right here and then</p>
<p begin="05:16:08.638" end="05:16:11.360" style="s2">just pass it</p>
<p begin="05:16:12.080" end="05:16:16.480" style="s2">in and this should actually be an</p>
<p begin="05:16:14.558" end="05:16:19.718" style="s2">integer I don&#39;t know who changed that I</p>
<p begin="05:16:16.480" end="05:16:22.840" style="s2">may have left that in from the previous</p>
<p begin="05:16:19.718" end="05:16:25.320" style="s2">video yeah it should be an integer okay</p>
<p begin="05:16:22.840" end="05:16:26.760" style="s2">uh and now what we want to do is uh just</p>
<p begin="05:16:25.320" end="05:16:29.920" style="s2">like we saw when it comes to querying</p>
<p begin="05:16:26.760" end="05:16:31.360" style="s2">all posts we have to do db. query pass</p>
<p begin="05:16:29.920" end="05:16:33.558" style="s2">in the specific model that we&#39;re</p>
<p begin="05:16:31.360" end="05:16:34.920" style="s2">interested in and then uh we&#39;re not</p>
<p begin="05:16:33.558" end="05:16:36.040" style="s2">going to do a DOT all because we don&#39;t</p>
<p begin="05:16:34.920" end="05:16:37.718" style="s2">want all the posts so we&#39;re going to</p>
<p begin="05:16:36.040" end="05:16:39.400" style="s2">have to take a look at a different uh</p>
<p begin="05:16:37.718" end="05:16:41.440" style="s2">query operation</p>
<p begin="05:16:39.400" end="05:16:45.558" style="s2">so I&#39;ll say db.</p>
<p begin="05:16:41.440" end="05:16:47.240" style="s2">query models. poost and then we want to</p>
<p begin="05:16:45.558" end="05:16:48.520" style="s2">filter so we want to pass in a filter so</p>
<p begin="05:16:47.240" end="05:16:50.760" style="s2">this is the equivalent of doing like a</p>
<p begin="05:16:48.520" end="05:16:52.718" style="s2">wear you can see that we filter by doing</p>
<p begin="05:16:50.760" end="05:16:56.400" style="s2">wear ID equals and then we pass in the</p>
<p begin="05:16:52.718" end="05:16:56.400" style="s2">ID in this case we&#39;re going to</p>
<p begin="05:16:56.558" end="05:17:00.638" style="s2">filter and then here we say uh whatever</p>
<p begin="05:16:59.760" end="05:17:04.320" style="s2">the</p>
<p begin="05:17:00.638" end="05:17:06.638" style="s2">models do post. ID is so this is going</p>
<p begin="05:17:04.320" end="05:17:08.120" style="s2">to look through all of the posts in our</p>
<p begin="05:17:06.638" end="05:17:09.798" style="s2">database and it&#39;s going to take a look</p>
<p begin="05:17:08.120" end="05:17:12.520" style="s2">at all their IDs and we want to see</p>
<p begin="05:17:09.798" end="05:17:14.878" style="s2">whenever that is equal to the ID that</p>
<p begin="05:17:12.520" end="05:17:18.558" style="s2">the user requested so the ID from uh</p>
<p begin="05:17:14.878" end="05:17:20.760" style="s2">this query parameter or this um path</p>
<p begin="05:17:18.558" end="05:17:22.480" style="s2">parameter so we say when they&#39;re equal</p>
<p begin="05:17:20.760" end="05:17:27.400" style="s2">that&#39;s the one we want to</p>
<p begin="05:17:22.480" end="05:17:28.600" style="s2">return and uh if I do a uh print of</p>
<p begin="05:17:27.400" end="05:17:32.040" style="s2">first of all let&#39;s save this to a</p>
<p begin="05:17:28.600" end="05:17:35.040" style="s2">variable so I&#39;ll say post equals and</p>
<p begin="05:17:32.040" end="05:17:38.400" style="s2">then I do a print of</p>
<p begin="05:17:35.040" end="05:17:40.040" style="s2">post save that I&#39;ll open up the terminal</p>
<p begin="05:17:38.400" end="05:17:43.520" style="s2">and then we&#39;ll send a request for an</p>
<p begin="05:17:40.040" end="05:17:45.160" style="s2">individual post so we hit send um we get</p>
<p begin="05:17:43.520" end="05:17:48.320" style="s2">a whole bunch of Errors that&#39;s okay let</p>
<p begin="05:17:45.160" end="05:17:50.440" style="s2">me see and that&#39;s fully</p>
<p begin="05:17:48.320" end="05:17:54.040" style="s2">expected all right and then we can see</p>
<p begin="05:17:50.440" end="05:17:55.480" style="s2">the exact uh SQL statement that this</p>
<p begin="05:17:54.040" end="05:17:57.798" style="s2">query actually</p>
<p begin="05:17:55.480" end="05:17:59.320" style="s2">made uh and so here we&#39;re doing db.</p>
<p begin="05:17:57.798" end="05:18:01.600" style="s2">query and then filter and we can see</p>
<p begin="05:17:59.320" end="05:18:03.080" style="s2">that we got uh the select statement uh</p>
<p begin="05:18:01.600" end="05:18:06.558" style="s2">and then here it&#39;s just grabbing all of</p>
<p begin="05:18:03.080" end="05:18:08.840" style="s2">the uh all of the</p>
<p begin="05:18:06.558" end="05:18:11.600" style="s2">columns right but then you can see from</p>
<p begin="05:18:08.840" end="05:18:14.000" style="s2">post and then it says where post. ID</p>
<p begin="05:18:11.600" end="05:18:16.400" style="s2">equals idore</p>
<p begin="05:18:14.000" end="05:18:19.680" style="s2">1 all right and so this pretty much</p>
<p begin="05:18:16.400" end="05:18:21.320" style="s2">looks exactly uh like we wanted right</p>
<p begin="05:18:19.680" end="05:18:24.360" style="s2">it&#39;s if you look at our SQL statement</p>
<p begin="05:18:21.320" end="05:18:26.718" style="s2">originally it doesn&#39;t look any</p>
<p begin="05:18:24.360" end="05:18:28.840" style="s2">different and so at this point I think</p>
<p begin="05:18:26.718" end="05:18:30.638" style="s2">this should be good to go however right</p>
<p begin="05:18:28.840" end="05:18:32.440" style="s2">now it&#39;s still just raw SQL right we</p>
<p begin="05:18:30.638" end="05:18:34.120" style="s2">could see what the SQL statement is but</p>
<p begin="05:18:32.440" end="05:18:35.878" style="s2">if you recall from the previous one we</p>
<p begin="05:18:34.120" end="05:18:39.520" style="s2">had to do a DOT all to actually send the</p>
<p begin="05:18:35.878" end="05:18:41.558" style="s2">query so for us we can do a DOT all</p>
<p begin="05:18:39.520" end="05:18:44.280" style="s2">technically and this would work right it</p>
<p begin="05:18:41.558" end="05:18:46.760" style="s2">would grab all the posts who have an ID</p>
<p begin="05:18:44.280" end="05:18:48.280" style="s2">of whatever ID we passed in however</p>
<p begin="05:18:46.760" end="05:18:50.160" style="s2">there&#39;s one little issue with doing it</p>
<p begin="05:18:48.280" end="05:18:52.160" style="s2">like this and that is that once it finds</p>
<p begin="05:18:50.160" end="05:18:53.320" style="s2">one post it&#39;s going to keep looking</p>
<p begin="05:18:52.160" end="05:18:56.000" style="s2">through all of the posts to see if</p>
<p begin="05:18:53.320" end="05:18:58.160" style="s2">there&#39;s any other ones but we know that</p>
<p begin="05:18:56.000" end="05:19:01.040" style="s2">only one post can have this specific ID</p>
<p begin="05:18:58.160" end="05:19:02.320" style="s2">so it&#39;s a waste of uh post&#39;s resources</p>
<p begin="05:19:01.040" end="05:19:04.240" style="s2">to continue looking when we know there</p>
<p begin="05:19:02.320" end="05:19:05.400" style="s2">should only be one so anytime you know</p>
<p begin="05:19:04.240" end="05:19:07.520" style="s2">there should only be one instead of</p>
<p begin="05:19:05.400" end="05:19:09.760" style="s2">doing a DOT all it&#39;s better to do a DOT</p>
<p begin="05:19:07.520" end="05:19:11.160" style="s2">first so so it&#39;s going to find the first</p>
<p begin="05:19:09.760" end="05:19:12.320" style="s2">instance and going to return that so</p>
<p begin="05:19:11.160" end="05:19:13.718" style="s2">it&#39;s going to save us some little time</p>
<p begin="05:19:12.320" end="05:19:16.040" style="s2">it&#39;s going to be a little bit more</p>
<p begin="05:19:13.718" end="05:19:17.558" style="s2">efficient in that case all right let&#39;s</p>
<p begin="05:19:16.040" end="05:19:20.160" style="s2">save this and let&#39;s try this again and</p>
<p begin="05:19:17.558" end="05:19:20.160" style="s2">let&#39;s see if this</p>
<p begin="05:19:22.480" end="05:19:27.680" style="s2">works all right it looks like it worked</p>
<p begin="05:19:24.520" end="05:19:29.840" style="s2">we got a post back no errors so I think</p>
<p begin="05:19:27.680" end="05:19:31.280" style="s2">everything is good to go um let&#39;s go</p>
<p begin="05:19:29.840" end="05:19:33.400" style="s2">back to our postc database we do see</p>
<p begin="05:19:31.280" end="05:19:34.958" style="s2">that there&#39;s one with an idea four so it</p>
<p begin="05:19:33.400" end="05:19:37.638" style="s2">seems to work but let&#39;s test this out</p>
<p begin="05:19:34.958" end="05:19:41.240" style="s2">with an a random ID of like</p>
<p begin="05:19:37.638" end="05:19:42.480" style="s2">666 and we should get the 404 so looks</p>
<p begin="05:19:41.240" end="05:19:45.400" style="s2">like that&#39;s all we need to do when it</p>
<p begin="05:19:42.480" end="05:19:46.718" style="s2">comes to fetching an individual post and</p>
<p begin="05:19:45.400" end="05:19:48.480" style="s2">I&#39;ll remove this print statement we</p>
<p begin="05:19:46.718" end="05:19:50.520" style="s2">don&#39;t need that anymore and then we can</p>
<p begin="05:19:48.480" end="05:19:52.840" style="s2">just conclude this</p>
<p begin="05:19:50.520" end="05:19:56.520" style="s2">video all right so let&#39;s move on to</p>
<p begin="05:19:52.840" end="05:20:00.400" style="s2">handling our delete path operation so I</p>
<p begin="05:19:56.520" end="05:20:01.360" style="s2">will comment out the SQL code once again</p>
<p begin="05:20:00.400" end="05:20:04.120" style="s2">and then we&#39;re going to make sure that</p>
<p begin="05:20:01.360" end="05:20:08.040" style="s2">we pass in the database dependency into</p>
<p begin="05:20:04.120" end="05:20:08.040" style="s2">our path operation function</p>
<p begin="05:20:10.120" end="05:20:15.000" style="s2">and so for our delete operation what</p>
<p begin="05:20:12.718" end="05:20:17.080" style="s2">we&#39;re going to do is I&#39;m going to do a</p>
<p begin="05:20:15.000" end="05:20:19.000" style="s2">query and this query is going to look</p>
<p begin="05:20:17.080" end="05:20:22.360" style="s2">exactly like this query so I can</p>
<p begin="05:20:19.000" end="05:20:22.360" style="s2">actually copy this one in this</p>
<p begin="05:20:23.718" end="05:20:28.480" style="s2">case so all we&#39;re doing is we&#39;re</p>
<p begin="05:20:25.718" end="05:20:29.840" style="s2">grabbing um the posts model and then</p>
<p begin="05:20:28.480" end="05:20:31.040" style="s2">we&#39;re going to filter based off of ID so</p>
<p begin="05:20:29.840" end="05:20:32.958" style="s2">we&#39;re going to look for the ID of the</p>
<p begin="05:20:31.040" end="05:20:34.798" style="s2">post that we want to delete and I&#39;m</p>
<p begin="05:20:32.958" end="05:20:36.878" style="s2">actually going to remove this first so</p>
<p begin="05:20:34.798" end="05:20:40.280" style="s2">I&#39;m going to save the query by itself</p>
<p begin="05:20:36.878" end="05:20:43.280" style="s2">and we&#39;ll save this as a</p>
<p begin="05:20:40.280" end="05:20:43.280" style="s2">postore</p>
<p begin="05:20:43.680" end="05:20:47.360" style="s2">query I&#39;ll just save it as post it&#39;s</p>
<p begin="05:20:46.040" end="05:20:49.440" style="s2">okay we&#39;ll understand that that&#39;s a</p>
<p begin="05:20:47.360" end="05:20:51.680" style="s2">query and not an actual</p>
<p begin="05:20:49.440" end="05:20:53.200" style="s2">post and then our if statement to check</p>
<p begin="05:20:51.680" end="05:20:54.040" style="s2">if there actually is a post with that</p>
<p begin="05:20:53.200" end="05:20:55.040" style="s2">what we&#39;re going to do is we&#39;re going to</p>
<p begin="05:20:54.040" end="05:20:58.558" style="s2">say</p>
<p begin="05:20:55.040" end="05:21:00.558" style="s2">if post dot how do we actually run this</p>
<p begin="05:20:58.558" end="05:21:03.000" style="s2">query well we do first so that&#39;s going</p>
<p begin="05:21:00.558" end="05:21:05.200" style="s2">to query it and so if this returns back</p>
<p begin="05:21:03.000" end="05:21:06.718" style="s2">nothing then we&#39;re going to raise a 404</p>
<p begin="05:21:05.200" end="05:21:09.760" style="s2">so really we haven&#39;t done anything</p>
<p begin="05:21:06.718" end="05:21:12.760" style="s2">different from what we did here</p>
<p begin="05:21:09.760" end="05:21:13.798" style="s2">however uh if it does exist so outside</p>
<p begin="05:21:12.760" end="05:21:17.440" style="s2">of this if</p>
<p begin="05:21:13.798" end="05:21:17.440" style="s2">statement I&#39;ll do a</p>
<p begin="05:21:18.000" end="05:21:22.638" style="s2">post.</p>
<p begin="05:21:20.600" end="05:21:25.558" style="s2">delete and then we&#39;ll just say uh</p>
<p begin="05:21:22.638" end="05:21:27.200" style="s2">synchronize session equals uh false I</p>
<p begin="05:21:25.558" end="05:21:28.958" style="s2">believe that&#39;s the default uh config</p>
<p begin="05:21:27.200" end="05:21:30.958" style="s2">anyways uh I don&#39;t want to spend too</p>
<p begin="05:21:28.958" end="05:21:32.558" style="s2">much time going over this uh it doesn&#39;t</p>
<p begin="05:21:30.958" end="05:21:34.840" style="s2">really matter too much but if you want</p>
<p begin="05:21:32.558" end="05:21:36.718" style="s2">to read about it um just take a look at</p>
<p begin="05:21:34.840" end="05:21:39.040" style="s2">the documentation and if you go under</p>
<p begin="05:21:36.718" end="05:21:41.878" style="s2">you know session basics you could see</p>
<p begin="05:21:39.040" end="05:21:43.120" style="s2">them kind of describe all of them but</p>
<p begin="05:21:41.878" end="05:21:44.600" style="s2">this option is the most efficient and</p>
<p begin="05:21:43.120" end="05:21:46.840" style="s2">reliable so I just went ahead with that</p>
<p begin="05:21:44.600" end="05:21:49.240" style="s2">one and it seems to work just</p>
<p begin="05:21:46.840" end="05:21:51.240" style="s2">fine so this is going to delete the post</p>
<p begin="05:21:49.240" end="05:21:53.160" style="s2">but remember to actually make changes we</p>
<p begin="05:21:51.240" end="05:21:56.360" style="s2">have to do a db.</p>
<p begin="05:21:53.160" end="05:21:58.480" style="s2">commit so that&#39;ll delete it and then um</p>
<p begin="05:21:56.360" end="05:21:59.200" style="s2">everything else should and can remain</p>
<p begin="05:21:58.480" end="05:22:01.320" style="s2">the</p>
<p begin="05:21:59.200" end="05:22:03.080" style="s2">same I&#39;m going to go back to my post</p>
<p begin="05:22:01.320" end="05:22:08.798" style="s2">database we&#39;re going to delete uh post</p>
<p begin="05:22:03.080" end="05:22:11.160" style="s2">with the ID of six so we&#39;ll go to our</p>
<p begin="05:22:08.798" end="05:22:14.360" style="s2">our Postman we&#39;ll go to our delete</p>
<p begin="05:22:11.160" end="05:22:17.000" style="s2">operation and then we&#39;ll do an ID of</p>
<p begin="05:22:14.360" end="05:22:18.080" style="s2">six all right seems to work but let&#39;s</p>
<p begin="05:22:17.000" end="05:22:20.120" style="s2">double check with</p>
<p begin="05:22:18.080" end="05:22:21.798" style="s2">postgress right and now we can see that</p>
<p begin="05:22:20.120" end="05:22:23.958" style="s2">there&#39;s no longer a post with an ID of</p>
<p begin="05:22:21.798" end="05:22:25.760" style="s2">six and then let&#39;s test this out with a</p>
<p begin="05:22:23.958" end="05:22:29.240" style="s2">random post number that doesn&#39;t exist we</p>
<p begin="05:22:25.760" end="05:22:29.240" style="s2">should get a 404</p>
<p begin="05:22:30.920" end="05:22:34.680" style="s2">perfect okay so it&#39;s time to tackle our</p>
<p begin="05:22:33.120" end="05:22:37.160" style="s2">final path operation which is for</p>
<p begin="05:22:34.680" end="05:22:39.558" style="s2">updating posts this is one&#39;s going to be</p>
<p begin="05:22:37.160" end="05:22:42.280" style="s2">fairly similar to you know deleting a</p>
<p begin="05:22:39.558" end="05:22:44.600" style="s2">post uh or even getting a post by a</p>
<p begin="05:22:42.280" end="05:22:47.400" style="s2">single ID so first of all comment out</p>
<p begin="05:22:44.600" end="05:22:49.160" style="s2">the previous postgress</p>
<p begin="05:22:47.400" end="05:22:50.558" style="s2">code and because we&#39;re going to be</p>
<p begin="05:22:49.160" end="05:22:55.440" style="s2">interacting with the database let&#39;s make</p>
<p begin="05:22:50.558" end="05:22:57.280" style="s2">sure we copy the dependency in this</p>
<p begin="05:22:55.440" end="05:22:58.120" style="s2">case and then what we&#39;re going to do is</p>
<p begin="05:22:57.280" end="05:23:00.958" style="s2">we&#39;re going to do the same thing we&#39;re</p>
<p begin="05:22:58.120" end="05:23:05.200" style="s2">going to say db.</p>
<p begin="05:23:00.958" end="05:23:07.280" style="s2">query I&#39;m going to query models.</p>
<p begin="05:23:05.200" end="05:23:10.440" style="s2">poost and then we&#39;re going to filter on</p>
<p begin="05:23:07.280" end="05:23:10.440" style="s2">the same thing we&#39;ll say filter</p>
<p begin="05:23:12.320" end="05:23:15.320" style="s2">models.</p>
<p begin="05:23:16.680" end="05:23:22.280" style="s2">poost do ID and if that equals to the ID</p>
<p begin="05:23:20.120" end="05:23:23.718" style="s2">that we&#39;re passing here then we&#39;re going</p>
<p begin="05:23:22.280" end="05:23:25.400" style="s2">to find the specific post we&#39;re</p>
<p begin="05:23:23.718" end="05:23:28.878" style="s2">interested in so I&#39;ll say I&#39;m going to</p>
<p begin="05:23:25.400" end="05:23:30.240" style="s2">save this as postore query so right now</p>
<p begin="05:23:28.878" end="05:23:31.600" style="s2">uh we&#39;re not actually running the query</p>
<p begin="05:23:30.240" end="05:23:33.600" style="s2">we&#39;re just saving the query because I</p>
<p begin="05:23:31.600" end="05:23:37.558" style="s2">haven&#39;t run first.</p>
<p begin="05:23:33.600" end="05:23:41.480" style="s2">all and we&#39;ll say the actual post equals</p>
<p begin="05:23:37.558" end="05:23:44.080" style="s2">postore query.</p>
<p begin="05:23:41.480" end="05:23:47.320" style="s2">first so this is going to grab the post</p>
<p begin="05:23:44.080" end="05:23:50.120" style="s2">if it exists uh if it doesn&#39;t exist so</p>
<p begin="05:23:47.320" end="05:23:51.440" style="s2">say if post does not equal none or if</p>
<p begin="05:23:50.120" end="05:23:55.320" style="s2">post equals equals none then we&#39;re going</p>
<p begin="05:23:51.440" end="05:23:57.718" style="s2">to send a 404 however if it does</p>
<p begin="05:23:55.320" end="05:24:01.798" style="s2">exist then we&#39;ll we&#39;ll grab the query</p>
<p begin="05:23:57.718" end="05:24:04.360" style="s2">again we&#39;ll say post query.</p>
<p begin="05:24:01.798" end="05:24:05.920" style="s2">update so we can chain an update method</p>
<p begin="05:24:04.360" end="05:24:07.240" style="s2">so we&#39;re basically taking this query</p>
<p begin="05:24:05.920" end="05:24:08.638" style="s2">right here and then we&#39;re chaining the</p>
<p begin="05:24:07.240" end="05:24:10.760" style="s2">update method which would be the of</p>
<p begin="05:24:08.638" end="05:24:14.120" style="s2">doing an update right</p>
<p begin="05:24:10.760" end="05:24:16.400" style="s2">here so say do update and then what we</p>
<p begin="05:24:14.120" end="05:24:18.520" style="s2">want to do is we want to pass in the the</p>
<p begin="05:24:16.400" end="05:24:20.320" style="s2">fields that we want to update as a</p>
<p begin="05:24:18.520" end="05:24:22.120" style="s2">dictionary so in this case what I&#39;m</p>
<p begin="05:24:20.320" end="05:24:23.440" style="s2">going to do is I&#39;m going to hardcode the</p>
<p begin="05:24:22.120" end="05:24:26.798" style="s2">values in just to show you what that</p>
<p begin="05:24:23.440" end="05:24:31.600" style="s2">looks like so we&#39;ll say title is going</p>
<p begin="05:24:26.798" end="05:24:33.520" style="s2">to be set to hey this is my updated</p>
<p begin="05:24:31.600" end="05:24:35.160" style="s2">title and then the next one&#39;s going to</p>
<p begin="05:24:33.520" end="05:24:37.878" style="s2">be the content we can update that to be</p>
<p begin="05:24:35.160" end="05:24:41.280" style="s2">whatever we want and I&#39;ll say um this is</p>
<p begin="05:24:37.878" end="05:24:41.280" style="s2">my up updated</p>
<p begin="05:24:42.120" end="05:24:46.638" style="s2">content then we&#39;re going to do that same</p>
<p begin="05:24:44.200" end="05:24:50.638" style="s2">synchronized session equals false as the</p>
<p begin="05:24:46.638" end="05:24:55.718" style="s2">second uh property into the updated</p>
<p begin="05:24:50.638" end="05:24:58.120" style="s2">method go to synchronize session equals</p>
<p begin="05:24:55.718" end="05:25:02.000" style="s2">false and that should handle the update</p>
<p begin="05:24:58.120" end="05:25:02.000" style="s2">and then we just want to do a db.</p>
<p begin="05:25:03.558" end="05:25:07.440" style="s2">commit and right now this updated post</p>
<p begin="05:25:06.280" end="05:25:09.680" style="s2">doesn&#39;t exist anymore so we&#39;re just</p>
<p begin="05:25:07.440" end="05:25:10.798" style="s2">going to return uh successful or</p>
<p begin="05:25:09.680" end="05:25:13.400" style="s2">something doesn&#39;t matter we&#39;re going to</p>
<p begin="05:25:10.798" end="05:25:16.240" style="s2">change this a little bit later</p>
<p begin="05:25:13.400" end="05:25:18.680" style="s2">on all right so let&#39;s go to our uh</p>
<p begin="05:25:16.240" end="05:25:20.120" style="s2">update where is our update post it</p>
<p begin="05:25:18.680" end="05:25:22.878" style="s2">doesn&#39;t really matter what data we pass</p>
<p begin="05:25:20.120" end="05:25:24.840" style="s2">in because we&#39;re hardcoding the values</p>
<p begin="05:25:22.878" end="05:25:26.760" style="s2">and so I&#39;m going to update a the post</p>
<p begin="05:25:24.840" end="05:25:28.120" style="s2">with an ID of one if it still exists and</p>
<p begin="05:25:26.760" end="05:25:30.638" style="s2">it looks like it does so you can see</p>
<p begin="05:25:28.120" end="05:25:33.558" style="s2">right now the title is new post so we&#39;ll</p>
<p begin="05:25:30.638" end="05:25:36.760" style="s2">update this send says successful and</p>
<p begin="05:25:33.558" end="05:25:39.000" style="s2">then let&#39;s go to back to postest do a</p>
<p begin="05:25:36.760" end="05:25:41.558" style="s2">query and we can see that hey look it</p>
<p begin="05:25:39.000" end="05:25:43.400" style="s2">got updated hey this is my updated title</p>
<p begin="05:25:41.558" end="05:25:44.840" style="s2">and the content this is my updated</p>
<p begin="05:25:43.400" end="05:25:46.878" style="s2">content so that&#39;s all we have to do we</p>
<p begin="05:25:44.840" end="05:25:49.558" style="s2">just have to pass in a python dictionary</p>
<p begin="05:25:46.878" end="05:25:52.520" style="s2">with the updated</p>
<p begin="05:25:49.558" end="05:25:56.120" style="s2">fields and so instead of passing it a uh</p>
<p begin="05:25:52.520" end="05:25:58.400" style="s2">python dictionary right we can pass in</p>
<p begin="05:25:56.120" end="05:25:59.680" style="s2">our post schema right so that&#39;s going to</p>
<p begin="05:25:58.400" end="05:26:02.958" style="s2">have all of the updated fields and we</p>
<p begin="05:25:59.680" end="05:26:04.280" style="s2">can just say post. dict that&#39;s going to</p>
<p begin="05:26:02.958" end="05:26:06.240" style="s2">return a python dictionary so that</p>
<p begin="05:26:04.280" end="05:26:08.400" style="s2">should be exactly what we&#39;re looking</p>
<p begin="05:26:06.240" end="05:26:09.920" style="s2">for and then finally when it comes to</p>
<p begin="05:26:08.400" end="05:26:12.480" style="s2">returning data what we&#39;re going to do is</p>
<p begin="05:26:09.920" end="05:26:15.400" style="s2">we&#39;re going to uh run another query so</p>
<p begin="05:26:12.480" end="05:26:16.920" style="s2">we&#39;re going to say postore query so</p>
<p begin="05:26:15.400" end="05:26:19.520" style="s2">we&#39;re going to grab this exact query</p>
<p begin="05:26:16.920" end="05:26:21.080" style="s2">object right here and then we&#39;re just</p>
<p begin="05:26:19.520" end="05:26:23.200" style="s2">going to get the</p>
<p begin="05:26:21.080" end="05:26:25.600" style="s2">updated post so we just grab the first</p>
<p begin="05:26:23.200" end="05:26:27.798" style="s2">one with that specific ID uh and then it</p>
<p begin="05:26:25.600" end="05:26:28.958" style="s2">should return that so hopefully you guys</p>
<p begin="05:26:27.798" end="05:26:31.080" style="s2">understand uh and I&#39;m just going to</p>
<p begin="05:26:28.958" end="05:26:33.440" style="s2">quickly recap exactly what we did we set</p>
<p begin="05:26:31.080" end="05:26:35.878" style="s2">up a query to find uh the post with a</p>
<p begin="05:26:33.440" end="05:26:37.680" style="s2">specific ID then we&#39;re going to actually</p>
<p begin="05:26:35.878" end="05:26:40.320" style="s2">grab that specific post so we run that</p>
<p begin="05:26:37.680" end="05:26:42.280" style="s2">query by grabbing do first if it doesn&#39;t</p>
<p begin="05:26:40.320" end="05:26:44.320" style="s2">exist we&#39;re going to run a 404 um but if</p>
<p begin="05:26:42.280" end="05:26:46.600" style="s2">it does exist then we can change the</p>
<p begin="05:26:44.320" end="05:26:48.320" style="s2">update method to the same query object</p>
<p begin="05:26:46.600" end="05:26:50.080" style="s2">so that we can update it and we pass in</p>
<p begin="05:26:48.320" end="05:26:52.080" style="s2">the fields that we want to update we&#39;ll</p>
<p begin="05:26:50.080" end="05:26:53.400" style="s2">commit it to our database then after all</p>
<p begin="05:26:52.080" end="05:26:55.280" style="s2">of that&#39;s done we want to make sure we</p>
<p begin="05:26:53.400" end="05:26:59.080" style="s2">get the updated post and send it back to</p>
<p begin="05:26:55.280" end="05:27:02.040" style="s2">the user so we do postore query.</p>
<p begin="05:26:59.080" end="05:27:03.280" style="s2">first so let&#39;s test this out and I&#39;m</p>
<p begin="05:27:02.040" end="05:27:06.718" style="s2">going to put in values because these</p>
<p begin="05:27:03.280" end="05:27:10.120" style="s2">values now matter and I&#39;ll say um my</p>
<p begin="05:27:06.718" end="05:27:10.120" style="s2">name is saniv</p>
<p begin="05:27:11.840" end="05:27:15.280" style="s2">python is fine so let&#39;s try</p>
<p begin="05:27:15.360" end="05:27:23.480" style="s2">this what happened here okay I forgot to</p>
<p begin="05:27:19.200" end="05:27:26.040" style="s2">save it send we get an error and I</p>
<p begin="05:27:23.480" end="05:27:29.558" style="s2">realize we have a little bit of an issue</p>
<p begin="05:27:26.040" end="05:27:31.718" style="s2">so uh this the schema that we get uh</p>
<p begin="05:27:29.558" end="05:27:34.440" style="s2">where we extract all of the body Fields</p>
<p begin="05:27:31.718" end="05:27:38.240" style="s2">is named post but then we also save this</p>
<p begin="05:27:34.440" end="05:27:39.798" style="s2">as post as well and so this leads to uh</p>
<p begin="05:27:38.240" end="05:27:42.080" style="s2">issues because they&#39;re both named the</p>
<p begin="05:27:39.798" end="05:27:44.280" style="s2">same thing and so I&#39;m trying</p>
<p begin="05:27:42.080" end="05:27:46.360" style="s2">to I&#39;m trying to convert this to a</p>
<p begin="05:27:44.280" end="05:27:49.320" style="s2">dictionary which only works on the</p>
<p begin="05:27:46.360" end="05:27:51.558" style="s2">pantic model it does not work on our SQL</p>
<p begin="05:27:49.320" end="05:27:53.280" style="s2">Alchemy model so we&#39;re going to have to</p>
<p begin="05:27:51.558" end="05:27:56.718" style="s2">rename</p>
<p begin="05:27:53.280" end="05:28:01.080" style="s2">these I&#39;m going to name</p>
<p begin="05:27:56.718" end="05:28:04.878" style="s2">this updated unor poost and then here</p>
<p begin="05:28:01.080" end="05:28:08.440" style="s2">this is going to be updated</p>
<p begin="05:28:04.878" end="05:28:11.080" style="s2">poost now let&#39;s try that again</p>
<p begin="05:28:08.440" end="05:28:13.040" style="s2">seems to work let&#39;s check our database</p>
<p begin="05:28:11.080" end="05:28:14.920" style="s2">though and we can see that it was</p>
<p begin="05:28:13.040" end="05:28:18.120" style="s2">successfully updated and then let&#39;s try</p>
<p begin="05:28:14.920" end="05:28:21.400" style="s2">to update something that doesn&#39;t</p>
<p begin="05:28:18.120" end="05:28:23.718" style="s2">exist and we get a 404</p>
<p begin="05:28:21.400" end="05:28:25.360" style="s2">perfect before we proceed any further I</p>
<p begin="05:28:23.718" end="05:28:27.280" style="s2">do want to provide some clarifications</p>
<p begin="05:28:25.360" end="05:28:30.558" style="s2">on what are the difference between a</p>
<p begin="05:28:27.280" end="05:28:32.360" style="s2">schema or pedantic model uh and our orm</p>
<p begin="05:28:30.558" end="05:28:33.638" style="s2">or SQL Alchemy model and I think it&#39;s</p>
<p begin="05:28:32.360" end="05:28:35.040" style="s2">important that you guys understand that</p>
<p begin="05:28:33.638" end="05:28:36.958" style="s2">and I do realize that there could be</p>
<p begin="05:28:35.040" end="05:28:38.558" style="s2">potentially some confusion as to what&#39;s</p>
<p begin="05:28:36.958" end="05:28:40.080" style="s2">the difference between them uh</p>
<p begin="05:28:38.558" end="05:28:41.600" style="s2">ultimately what are they trying to</p>
<p begin="05:28:40.080" end="05:28:43.718" style="s2">accomplish and why do we have both of</p>
<p begin="05:28:41.600" end="05:28:45.600" style="s2">them so I&#39;ve created a couple of slides</p>
<p begin="05:28:43.718" end="05:28:47.000" style="s2">and hopefully that helps sort things out</p>
<p begin="05:28:45.600" end="05:28:48.840" style="s2">hope and hopefully it provides a little</p>
<p begin="05:28:47.000" end="05:28:50.760" style="s2">bit of clarification if you guys were</p>
<p begin="05:28:48.840" end="05:28:52.000" style="s2">confused at that um but just to look at</p>
<p begin="05:28:50.760" end="05:28:54.200" style="s2">our code you&#39;ll notice that in our</p>
<p begin="05:28:52.000" end="05:28:56.600" style="s2">main.py file we have one class called</p>
<p begin="05:28:54.200" end="05:28:57.958" style="s2">post here and this is extending base</p>
<p begin="05:28:56.600" end="05:28:59.638" style="s2">model which actually comes from the</p>
<p begin="05:28:57.958" end="05:29:01.798" style="s2">pantic library and you can see we&#39;re</p>
<p begin="05:28:59.638" end="05:29:04.680" style="s2">importing pantic right here so this is</p>
<p begin="05:29:01.798" end="05:29:06.600" style="s2">what&#39;s referred to as our schema uh and</p>
<p begin="05:29:04.680" end="05:29:08.718" style="s2">uh we also have our and I don&#39;t even</p>
<p begin="05:29:06.600" end="05:29:10.040" style="s2">want to explain it yet um</p>
<p begin="05:29:08.718" end="05:29:11.320" style="s2">hopefully you guys already know what it</p>
<p begin="05:29:10.040" end="05:29:12.680" style="s2">is but I have a couple slides that</p>
<p begin="05:29:11.320" end="05:29:14.320" style="s2">hopefully make it a little bit more</p>
<p begin="05:29:12.680" end="05:29:16.160" style="s2">clear but just to kind of show you where</p>
<p begin="05:29:14.320" end="05:29:17.958" style="s2">this is being referenced it&#39;s being</p>
<p begin="05:29:16.160" end="05:29:19.840" style="s2">referenced in our path operations so if</p>
<p begin="05:29:17.958" end="05:29:22.600" style="s2">you go to you know our create posts</p>
<p begin="05:29:19.840" end="05:29:24.600" style="s2">which wherever that is right here uh you</p>
<p begin="05:29:22.600" end="05:29:25.958" style="s2">can see that we&#39;re passing that in right</p>
<p begin="05:29:24.600" end="05:29:27.400" style="s2">here and then saving into a variable</p>
<p begin="05:29:25.958" end="05:29:29.440" style="s2">called post so we&#39;re referencing it</p>
<p begin="05:29:27.400" end="05:29:31.160" style="s2">right here um this is all about defining</p>
<p begin="05:29:29.440" end="05:29:33.280" style="s2">the shape of a</p>
<p begin="05:29:31.160" end="05:29:35.320" style="s2">request uh and so that&#39;s the pantic</p>
<p begin="05:29:33.280" end="05:29:38.120" style="s2">model uh the other model is the one that</p>
<p begin="05:29:35.320" end="05:29:40.120" style="s2">we have in models.py which is the SQL</p>
<p begin="05:29:38.120" end="05:29:42.360" style="s2">Alchemy model so this SQL Alchemy model</p>
<p begin="05:29:40.120" end="05:29:44.440" style="s2">defines what our database our specific</p>
<p begin="05:29:42.360" end="05:29:46.200" style="s2">table looks like um but let me pull up</p>
<p begin="05:29:44.440" end="05:29:47.360" style="s2">the slides just to show you guys uh you</p>
<p begin="05:29:46.200" end="05:29:48.920" style="s2">know with some nice diagrams so</p>
<p begin="05:29:47.360" end="05:29:51.360" style="s2">hopefully you guys get a better idea of</p>
<p begin="05:29:48.920" end="05:29:53.320" style="s2">what that is all right so let&#39;s start</p>
<p begin="05:29:51.360" end="05:29:55.320" style="s2">off by going over the schema models or</p>
<p begin="05:29:53.320" end="05:29:57.680" style="s2">the pantic model so the schema or the</p>
<p begin="05:29:55.320" end="05:30:00.840" style="s2">pantic model defines the structure of a</p>
<p begin="05:29:57.680" end="05:30:02.440" style="s2">request and a response uh and so uh that</p>
<p begin="05:30:00.840" end="05:30:04.878" style="s2">way you know when it comes to creating a</p>
<p begin="05:30:02.440" end="05:30:06.080" style="s2">post we can Define exactly what the</p>
<p begin="05:30:04.878" end="05:30:08.240" style="s2">request should look like so when we</p>
<p begin="05:30:06.080" end="05:30:09.798" style="s2">create a brand new post we need the user</p>
<p begin="05:30:08.240" end="05:30:11.718" style="s2">to provide What&#39;s the title of the post</p>
<p begin="05:30:09.798" end="05:30:13.440" style="s2">what&#39;s the content of the post and</p>
<p begin="05:30:11.718" end="05:30:14.840" style="s2">optionally they can also provide if it&#39;s</p>
<p begin="05:30:13.440" end="05:30:16.000" style="s2">published or not but we&#39;ve provided a</p>
<p begin="05:30:14.840" end="05:30:17.680" style="s2">default value so they don&#39;t actually</p>
<p begin="05:30:16.000" end="05:30:19.320" style="s2">have to send that so what we do is we</p>
<p begin="05:30:17.680" end="05:30:20.878" style="s2">take the request and then we pass it</p>
<p begin="05:30:19.320" end="05:30:22.798" style="s2">through the pantic model the pantic</p>
<p begin="05:30:20.878" end="05:30:24.080" style="s2">model will uh perform a little bit of</p>
<p begin="05:30:22.798" end="05:30:25.718" style="s2">validation to make sure that all the</p>
<p begin="05:30:24.080" end="05:30:28.360" style="s2">fields that we need to actually create a</p>
<p begin="05:30:25.718" end="05:30:30.160" style="s2">brand new post are there uh and that</p>
<p begin="05:30:28.360" end="05:30:31.958" style="s2">they are of the proper type so if it&#39;s a</p>
<p begin="05:30:30.160" end="05:30:34.558" style="s2">title it shouldn&#39;t be an integer and if</p>
<p begin="05:30:31.958" end="05:30:35.760" style="s2">it&#39;s uh uh the published property it</p>
<p begin="05:30:34.558" end="05:30:37.320" style="s2">shouldn&#39;t be a string or anything it&#39;s</p>
<p begin="05:30:35.760" end="05:30:39.718" style="s2">just a simple Boolean so that&#39;s what the</p>
<p begin="05:30:37.320" end="05:30:41.000" style="s2">pantic model or the schema model does</p>
<p begin="05:30:39.718" end="05:30:44.000" style="s2">it&#39;s just there to provide some</p>
<p begin="05:30:41.000" end="05:30:45.600" style="s2">validation to ensure that the body all</p>
<p begin="05:30:44.000" end="05:30:48.080" style="s2">the data fields provide in the body of a</p>
<p begin="05:30:45.600" end="05:30:49.920" style="s2">request match up to what we want and</p>
<p begin="05:30:48.080" end="05:30:51.558" style="s2">that&#39;s important because we don&#39;t ever</p>
<p begin="05:30:49.920" end="05:30:53.480" style="s2">want to give the clients which is the</p>
<p begin="05:30:51.558" end="05:30:55.040" style="s2">web browser or the mobile phones or</p>
<p begin="05:30:53.480" end="05:30:56.638" style="s2">anything like that uh freedom to do</p>
<p begin="05:30:55.040" end="05:30:58.718" style="s2">whatever they want we want to tell them</p>
<p begin="05:30:56.638" end="05:31:01.798" style="s2">exactly what we need for each specific</p>
<p begin="05:30:58.718" end="05:31:03.600" style="s2">path or route and that&#39;s for the request</p>
<p begin="05:31:01.798" end="05:31:04.958" style="s2">however uh we can also do this for the</p>
<p begin="05:31:03.600" end="05:31:06.600" style="s2">response and we haven&#39;t actually done</p>
<p begin="05:31:04.958" end="05:31:08.240" style="s2">that yet but we can actually Define</p>
<p begin="05:31:06.600" end="05:31:10.798" style="s2">exactly what the response should look</p>
<p begin="05:31:08.240" end="05:31:12.958" style="s2">like so you know as our um as our models</p>
<p begin="05:31:10.798" end="05:31:14.040" style="s2">get more complex as uh our database gets</p>
<p begin="05:31:12.958" end="05:31:15.558" style="s2">more complex there&#39;s going to be a lot</p>
<p begin="05:31:14.040" end="05:31:17.520" style="s2">of fields when it comes to your posts</p>
<p begin="05:31:15.558" end="05:31:18.958" style="s2">and your users that you may not want to</p>
<p begin="05:31:17.520" end="05:31:20.480" style="s2">send back to the client when we send a</p>
<p begin="05:31:18.958" end="05:31:24.440" style="s2">response so we can actually Define a</p>
<p begin="05:31:20.480" end="05:31:26.040" style="s2">model to dictate fast API exactly the</p>
<p begin="05:31:24.440" end="05:31:28.120" style="s2">data fields that we should be sending</p>
<p begin="05:31:26.040" end="05:31:30.120" style="s2">back and so that&#39;s what your schema and</p>
<p begin="05:31:28.120" end="05:31:32.160" style="s2">your pantic models do they just ensure</p>
<p begin="05:31:30.120" end="05:31:35.600" style="s2">that the request and response are shaped</p>
<p begin="05:31:32.160" end="05:31:37.200" style="s2">in a specific way now the other model is</p>
<p begin="05:31:35.600" end="05:31:38.680" style="s2">the SQL Alchemy model so this is the one</p>
<p begin="05:31:37.200" end="05:31:40.280" style="s2">that we&#39;ve been working on with the past</p>
<p begin="05:31:38.680" end="05:31:42.480" style="s2">couple of lectures right and these are</p>
<p begin="05:31:40.280" end="05:31:45.160" style="s2">responsible for defining The Columns of</p>
<p begin="05:31:42.480" end="05:31:46.280" style="s2">our posts table within postgress right</p>
<p begin="05:31:45.160" end="05:31:48.320" style="s2">so it&#39;s going to Define all the</p>
<p begin="05:31:46.280" end="05:31:50.958" style="s2">different attributes within a specific</p>
<p begin="05:31:48.320" end="05:31:52.680" style="s2">table and then we use that post model to</p>
<p begin="05:31:50.958" end="05:31:54.840" style="s2">perform queries to our database we use</p>
<p begin="05:31:52.680" end="05:31:57.520" style="s2">it to create delete and update entries</p>
<p begin="05:31:54.840" end="05:31:59.080" style="s2">within our database um but this model is</p>
<p begin="05:31:57.520" end="05:32:00.320" style="s2">fundamentally different than the panding</p>
<p begin="05:31:59.080" end="05:32:01.920" style="s2">model so that&#39;s why I created this video</p>
<p begin="05:32:00.320" end="05:32:03.600" style="s2">I just wanted to make sure that you guys</p>
<p begin="05:32:01.920" end="05:32:05.400" style="s2">understood what were the differences</p>
<p begin="05:32:03.600" end="05:32:07.920" style="s2">between those and understand why we need</p>
<p begin="05:32:05.400" end="05:32:10.240" style="s2">them both technically we don&#39;t need the</p>
<p begin="05:32:07.920" end="05:32:11.638" style="s2">identic models but um you know when it</p>
<p begin="05:32:10.240" end="05:32:13.320" style="s2">comes to building out apis you want to</p>
<p begin="05:32:11.638" end="05:32:15.240" style="s2">be as strict as possible when it comes</p>
<p begin="05:32:13.320" end="05:32:17.558" style="s2">to what kind of data can we receive and</p>
<p begin="05:32:15.240" end="05:32:19.400" style="s2">send to the user and so pantic just</p>
<p begin="05:32:17.558" end="05:32:21.120" style="s2">ensures that uh you know everything just</p>
<p begin="05:32:19.400" end="05:32:23.480" style="s2">matches up with what we</p>
<p begin="05:32:21.120" end="05:32:25.480" style="s2">expect so in the last video I described</p>
<p begin="05:32:23.480" end="05:32:28.520" style="s2">the difference between a pantic model</p>
<p begin="05:32:25.480" end="05:32:29.558" style="s2">and a omm model and uh there&#39;s a couple</p>
<p begin="05:32:28.520" end="05:32:31.040" style="s2">things I actually want to do with our</p>
<p begin="05:32:29.558" end="05:32:33.120" style="s2">pantic model so we&#39;ve just got one right</p>
<p begin="05:32:31.040" end="05:32:35.440" style="s2">here where we Define what a requ what a</p>
<p begin="05:32:33.120" end="05:32:37.638" style="s2">post should look like uh and we use that</p>
<p begin="05:32:35.440" end="05:32:39.360" style="s2">in a couple of places uh so if we go</p>
<p begin="05:32:37.638" end="05:32:40.760" style="s2">down to create post we can see we use it</p>
<p begin="05:32:39.360" end="05:32:42.000" style="s2">there so it&#39;s going to define the</p>
<p begin="05:32:40.760" end="05:32:43.040" style="s2">structure of the data that we receive</p>
<p begin="05:32:42.000" end="05:32:45.240" style="s2">from the front end when we want to</p>
<p begin="05:32:43.040" end="05:32:48.280" style="s2">create a post and I think we also</p>
<p begin="05:32:45.240" end="05:32:50.440" style="s2">provide it for um maybe updating and</p>
<p begin="05:32:48.280" end="05:32:52.360" style="s2">post yep we also use it for updating a</p>
<p begin="05:32:50.440" end="05:32:54.638" style="s2">post as well so what I&#39;m going to do is</p>
<p begin="05:32:52.360" end="05:32:56.360" style="s2">I want to create the schemas or I want</p>
<p begin="05:32:54.638" end="05:32:58.080" style="s2">to move the schema in this case remember</p>
<p begin="05:32:56.360" end="05:32:59.360" style="s2">this is what&#39;s referred to as a schema I</p>
<p begin="05:32:58.080" end="05:33:01.600" style="s2">want to move that to its own file just</p>
<p begin="05:32:59.360" end="05:33:03.240" style="s2">so that we don&#39;t clutter up our main.py</p>
<p begin="05:33:01.600" end="05:33:05.360" style="s2">file so I&#39;m going to go under app I&#39;m</p>
<p begin="05:33:03.240" end="05:33:09.680" style="s2">going to do new file and I&#39;m going to</p>
<p begin="05:33:05.360" end="05:33:09.680" style="s2">call this schemas py</p>
<p begin="05:33:10.040" end="05:33:15.718" style="s2">and then within schemas if I go to my</p>
<p begin="05:33:12.000" end="05:33:15.718" style="s2">main.py file I&#39;m just going to cut this</p>
<p begin="05:33:16.400" end="05:33:19.480" style="s2">out and we can paste it in here and</p>
<p begin="05:33:18.480" end="05:33:21.280" style="s2">there&#39;s going to be a couple things that</p>
<p begin="05:33:19.480" end="05:33:24.360" style="s2">we have to import uh so if we go to our</p>
<p begin="05:33:21.280" end="05:33:26.080" style="s2">main.py we definitely need pantic that&#39;s</p>
<p begin="05:33:24.360" end="05:33:28.080" style="s2">really all we need actually so if I go</p>
<p begin="05:33:26.080" end="05:33:30.480" style="s2">there and then paste that into there we</p>
<p begin="05:33:28.080" end="05:33:31.440" style="s2">should have no issues and then you know</p>
<p begin="05:33:30.480" end="05:33:33.480" style="s2">this is going to actually break our</p>
<p begin="05:33:31.440" end="05:33:36.718" style="s2">application because uh we need to</p>
<p begin="05:33:33.480" end="05:33:39.680" style="s2">actually import this specific schema so</p>
<p begin="05:33:36.718" end="05:33:42.440" style="s2">if I go into Main</p>
<p begin="05:33:39.680" end="05:33:43.958" style="s2">py uh we can see here I&#39;m doing from.</p>
<p begin="05:33:42.440" end="05:33:45.600" style="s2">import models so that&#39;s going to import</p>
<p begin="05:33:43.958" end="05:33:49.360" style="s2">everything from the models file but we</p>
<p begin="05:33:45.600" end="05:33:51.680" style="s2">can also then import schemas as well and</p>
<p begin="05:33:49.360" end="05:33:53.480" style="s2">so now to actually access this specific</p>
<p begin="05:33:51.680" end="05:33:56.920" style="s2">class post we just have to go in our</p>
<p begin="05:33:53.480" end="05:34:00.798" style="s2">main.py file and the reference schemas</p>
<p begin="05:33:56.920" end="05:34:02.958" style="s2">dopost and so anywhere we use post uh</p>
<p begin="05:34:00.798" end="05:34:05.920" style="s2">which should be right here we can</p>
<p begin="05:34:02.958" end="05:34:08.718" style="s2">do schemas</p>
<p begin="05:34:05.920" end="05:34:10.440" style="s2">dopost and then in our update post as</p>
<p begin="05:34:08.718" end="05:34:12.520" style="s2">well we can do the same thing this is</p>
<p begin="05:34:10.440" end="05:34:15.638" style="s2">going to be schemas dopost because now</p>
<p begin="05:34:12.520" end="05:34:15.638" style="s2">we&#39;re importing it from another</p>
<p begin="05:34:15.840" end="05:34:19.480" style="s2">file and what I&#39;m actually going to do</p>
<p begin="05:34:17.958" end="05:34:21.798" style="s2">is we&#39;re going to restructure this a</p>
<p begin="05:34:19.480" end="05:34:23.280" style="s2">little bit so what I&#39;m going to do is</p>
<p begin="05:34:21.798" end="05:34:25.120" style="s2">remember these are regular python</p>
<p begin="05:34:23.280" end="05:34:26.798" style="s2">classes uh and so we get all of the</p>
<p begin="05:34:25.120" end="05:34:28.638" style="s2">abilities that we have when it comes to</p>
<p begin="05:34:26.798" end="05:34:30.040" style="s2">inheritance uh when you come when it</p>
<p begin="05:34:28.638" end="05:34:32.160" style="s2">comes to working with these classes so</p>
<p begin="05:34:30.040" end="05:34:33.798" style="s2">what I&#39;m going to do is uh we could</p>
<p begin="05:34:32.160" end="05:34:36.558" style="s2">Define a couple things right we could</p>
<p begin="05:34:33.798" end="05:34:39.440" style="s2">have one for uh we could create a class</p>
<p begin="05:34:36.558" end="05:34:41.958" style="s2">for create post actually that should be</p>
<p begin="05:34:39.440" end="05:34:43.798" style="s2">capitalized so create</p>
<p begin="05:34:41.958" end="05:34:45.400" style="s2">post and then that&#39;s going to extend</p>
<p begin="05:34:43.798" end="05:34:46.798" style="s2">base model and then this is going to</p>
<p begin="05:34:45.400" end="05:34:48.280" style="s2">have all the fields that we need from</p>
<p begin="05:34:46.798" end="05:34:50.440" style="s2">the user when it comes to creating a</p>
<p begin="05:34:48.280" end="05:34:52.638" style="s2">post and so that&#39;s what this would be in</p>
<p begin="05:34:50.440" end="05:34:52.638" style="s2">this</p>
<p begin="05:34:54.000" end="05:34:59.718" style="s2">case and then remember we also need to</p>
<p begin="05:34:56.760" end="05:35:01.360" style="s2">handle updating posts uh and so we could</p>
<p begin="05:34:59.718" end="05:35:03.600" style="s2">create another model for</p>
<p begin="05:35:01.360" end="05:35:07.040" style="s2">that so in this case I could call it</p>
<p begin="05:35:03.600" end="05:35:07.040" style="s2">update post</p>
<p begin="05:35:09.440" end="05:35:14.280" style="s2">and once again that&#39;s going to extend</p>
<p begin="05:35:10.680" end="05:35:17.000" style="s2">base model H when it comes to the the</p>
<p begin="05:35:14.280" end="05:35:19.718" style="s2">fields that we use for an update post uh</p>
<p begin="05:35:17.000" end="05:35:22.680" style="s2">it would be the same exact thing right</p>
<p begin="05:35:19.718" end="05:35:25.440" style="s2">whoops that should</p>
<p begin="05:35:22.680" end="05:35:28.200" style="s2">be right here and I don&#39;t know why it&#39;s</p>
<p begin="05:35:25.440" end="05:35:28.200" style="s2">keep doing</p>
<p begin="05:35:30.798" end="05:35:36.600" style="s2">that and in this case there wouldn&#39;t be</p>
<p begin="05:35:32.920" end="05:35:36.600" style="s2">a default value for</p>
<p begin="05:35:36.638" end="05:35:40.120" style="s2">published because we want them to</p>
<p begin="05:35:38.360" end="05:35:42.558" style="s2">explicitly provide each</p>
<p begin="05:35:40.120" end="05:35:44.040" style="s2">column uh and so at this point right we</p>
<p begin="05:35:42.558" end="05:35:45.958" style="s2">could then have two different classes</p>
<p begin="05:35:44.040" end="05:35:48.200" style="s2">for each specific request and that&#39;s a</p>
<p begin="05:35:45.958" end="05:35:49.558" style="s2">perfectly valid use case because when it</p>
<p begin="05:35:48.200" end="05:35:50.958" style="s2">comes to creating they should provide a</p>
<p begin="05:35:49.558" end="05:35:52.160" style="s2">certain amount of fields and then</p>
<p begin="05:35:50.958" end="05:35:54.200" style="s2">updating it might be completely</p>
<p begin="05:35:52.160" end="05:35:55.558" style="s2">different right because um you know</p>
<p begin="05:35:54.200" end="05:35:57.000" style="s2">let&#39;s say in our application we wanted</p>
<p begin="05:35:55.558" end="05:35:59.160" style="s2">to make it so that the user can&#39;t ever</p>
<p begin="05:35:57.000" end="05:36:00.840" style="s2">update a post they can only update one</p>
<p begin="05:35:59.160" end="05:36:02.040" style="s2">property and that&#39;s the publish so they</p>
<p begin="05:36:00.840" end="05:36:04.638" style="s2">can just change whether it&#39;s published</p>
<p begin="05:36:02.040" end="05:36:06.000" style="s2">or not we could remove this and this is</p>
<p begin="05:36:04.638" end="05:36:07.680" style="s2">going to make it so that the user isn&#39;t</p>
<p begin="05:36:06.000" end="05:36:10.000" style="s2">allowed to provide any other fields they</p>
<p begin="05:36:07.680" end="05:36:11.558" style="s2">can only P um pass the published field</p>
<p begin="05:36:10.000" end="05:36:14.160" style="s2">so that&#39;s why we would want to create</p>
<p begin="05:36:11.558" end="05:36:15.480" style="s2">different um models uh for each of the</p>
<p begin="05:36:14.160" end="05:36:17.480" style="s2">different</p>
<p begin="05:36:15.480" end="05:36:19.240" style="s2">requests but what I like to do is</p>
<p begin="05:36:17.480" end="05:36:21.718" style="s2">instead of having uh one for create post</p>
<p begin="05:36:19.240" end="05:36:22.920" style="s2">one for update post uh and then one for</p>
<p begin="05:36:21.718" end="05:36:24.718" style="s2">the you know we have to eventually</p>
<p begin="05:36:22.920" end="05:36:25.878" style="s2">create models for the response what</p>
<p begin="05:36:24.718" end="05:36:28.400" style="s2">we&#39;re going to do is we&#39;re actually</p>
<p begin="05:36:25.878" end="05:36:30.240" style="s2">going to delete all of this and we&#39;re</p>
<p begin="05:36:28.400" end="05:36:33.958" style="s2">going to create a class called post base</p>
<p begin="05:36:30.240" end="05:36:36.638" style="s2">so I&#39;ll do class post</p>
<p begin="05:36:33.958" end="05:36:39.440" style="s2">base and then base model and so this is</p>
<p begin="05:36:36.638" end="05:36:41.600" style="s2">a regular class we can just copy all of</p>
<p begin="05:36:39.440" end="05:36:41.600" style="s2">these</p>
<p begin="05:36:42.798" end="05:36:48.200" style="s2">fields and then we can extend that class</p>
<p begin="05:36:45.958" end="05:36:51.680" style="s2">so I can take this post base class and I</p>
<p begin="05:36:48.200" end="05:36:55.280" style="s2">can extend it and say class post</p>
<p begin="05:36:51.680" end="05:36:59.240" style="s2">create I want to extend post base we can</p>
<p begin="05:36:55.280" end="05:37:00.920" style="s2">say post base and so it&#39;s going to by</p>
<p begin="05:36:59.240" end="05:37:03.520" style="s2">default automatically inherit all of</p>
<p begin="05:37:00.920" end="05:37:05.520" style="s2">these fields and so we can just say uh</p>
<p begin="05:37:03.520" end="05:37:07.520" style="s2">for creating we can just say pass which</p>
<p begin="05:37:05.520" end="05:37:09.240" style="s2">means it&#39;s just going to accept whatever</p>
<p begin="05:37:07.520" end="05:37:11.480" style="s2">post bases so post create is essentially</p>
<p begin="05:37:09.240" end="05:37:13.760" style="s2">the same thing as post</p>
<p begin="05:37:11.480" end="05:37:18.240" style="s2">base but then we can create a brand new</p>
<p begin="05:37:13.760" end="05:37:22.558" style="s2">one called uh class I don&#39;t know post</p>
<p begin="05:37:18.240" end="05:37:22.558" style="s2">update and that&#39;s going to extend post</p>
<p begin="05:37:22.878" end="05:37:28.400" style="s2">base and we can say that uh for</p>
<p begin="05:37:26.040" end="05:37:30.080" style="s2">updating uh we can pass in whatever</p>
<p begin="05:37:28.400" end="05:37:32.200" style="s2">specific fields we want to add in as</p>
<p begin="05:37:30.080" end="05:37:34.160" style="s2">well so that gives us flexibility</p>
<p begin="05:37:32.200" end="05:37:35.680" style="s2">because we can make use of inheritance</p>
<p begin="05:37:34.160" end="05:37:36.638" style="s2">so for now I&#39;m going to remove post</p>
<p begin="05:37:35.680" end="05:37:38.360" style="s2">update and we&#39;re just going to keep it</p>
<p begin="05:37:36.638" end="05:37:39.958" style="s2">as post create</p>
<p begin="05:37:38.360" end="05:37:41.600" style="s2">um because uh you know updating and</p>
<p begin="05:37:39.958" end="05:37:43.480" style="s2">creating is going to be fundamentally</p>
<p begin="05:37:41.600" end="05:37:45.240" style="s2">the same uh and that way we can just</p>
<p begin="05:37:43.480" end="05:37:46.920" style="s2">kind of piggy back off of this post Bas</p>
<p begin="05:37:45.240" end="05:37:48.878" style="s2">model and then just create brand new</p>
<p begin="05:37:46.920" end="05:37:52.558" style="s2">models based off of this so what I&#39;m</p>
<p begin="05:37:48.878" end="05:37:55.760" style="s2">going to do is go into my main.py file</p>
<p begin="05:37:52.558" end="05:37:57.798" style="s2">and then for schemas actually let me</p>
<p begin="05:37:55.760" end="05:38:00.280" style="s2">save</p>
<p begin="05:37:57.798" end="05:38:02.878" style="s2">this then my main.py file there&#39;s no</p>
<p begin="05:38:00.280" end="05:38:04.680" style="s2">longer a post it&#39;s going to be post</p>
<p begin="05:38:02.878" end="05:38:06.440" style="s2">actually it&#39;s going to be create po post</p>
<p begin="05:38:04.680" end="05:38:08.440" style="s2">create I&#39;m going to do the same thing</p>
<p begin="05:38:06.440" end="05:38:10.480" style="s2">for update as well</p>
<p begin="05:38:08.440" end="05:38:12.360" style="s2">that was the update actually so then the</p>
<p begin="05:38:10.480" end="05:38:14.600" style="s2">other one is for create post and then</p>
<p begin="05:38:12.360" end="05:38:17.920" style="s2">this is going to be schemas</p>
<p begin="05:38:14.600" end="05:38:17.920" style="s2">do Post</p>
<p begin="05:38:19.840" end="05:38:23.160" style="s2">create all right and then the last thing</p>
<p begin="05:38:21.718" end="05:38:25.440" style="s2">that I want to do in this video is we&#39;re</p>
<p begin="05:38:23.160" end="05:38:26.480" style="s2">going to just delete this test route</p>
<p begin="05:38:25.440" end="05:38:28.360" style="s2">that we had defined when we were</p>
<p begin="05:38:26.480" end="05:38:29.718" style="s2">learning about SQL Alchemy we don&#39;t</p>
<p begin="05:38:28.360" end="05:38:32.200" style="s2">really need that</p>
<p begin="05:38:29.718" end="05:38:33.320" style="s2">anymore and then in the next video what</p>
<p begin="05:38:32.200" end="05:38:35.840" style="s2">we&#39;re going to do is we&#39;re going to</p>
<p begin="05:38:33.320" end="05:38:38.120" style="s2">tackle sending a response</p>
<p begin="05:38:35.840" end="05:38:40.798" style="s2">back right and as I mentioned within the</p>
<p begin="05:38:38.120" end="05:38:42.080" style="s2">slide deck right just like we can Define</p>
<p begin="05:38:40.798" end="05:38:43.718" style="s2">what a request should look like we can</p>
<p begin="05:38:42.080" end="05:38:45.160" style="s2">also Define exactly what a response</p>
<p begin="05:38:43.718" end="05:38:46.280" style="s2">should look like so we&#39;re going to do</p>
<p begin="05:38:45.160" end="05:38:48.120" style="s2">the same thing we&#39;re going to define a</p>
<p begin="05:38:46.280" end="05:38:49.320" style="s2">penic model for a response for what a</p>
<p begin="05:38:48.120" end="05:38:51.878" style="s2">post should look like when we send it</p>
<p begin="05:38:49.320" end="05:38:54.200" style="s2">back to the user so that uh it stricks</p>
<p begin="05:38:51.878" end="05:38:55.760" style="s2">to a very specific schema and then we</p>
<p begin="05:38:54.200" end="05:38:57.320" style="s2">don&#39;t end up sending data that we don&#39;t</p>
<p begin="05:38:55.760" end="05:38:59.798" style="s2">actually need to send to the</p>
<p begin="05:38:57.320" end="05:39:02.240" style="s2">user in this lecture we&#39;ll take a look</p>
<p begin="05:38:59.798" end="05:39:04.638" style="s2">at how we can define a ptic or schema</p>
<p begin="05:39:02.240" end="05:39:06.440" style="s2">model to define the exact shape of a</p>
<p begin="05:39:04.638" end="05:39:08.718" style="s2">response because right now if you</p>
<p begin="05:39:06.440" end="05:39:11.040" style="s2">actually see uh any of our uh path</p>
<p begin="05:39:08.718" end="05:39:13.718" style="s2">operations what we do is we just return</p>
<p begin="05:39:11.040" end="05:39:15.878" style="s2">a post or multiple posts or an updated</p>
<p begin="05:39:13.718" end="05:39:17.120" style="s2">post uh and whatever data we get back</p>
<p begin="05:39:15.878" end="05:39:18.760" style="s2">from the post we just send it back to</p>
<p begin="05:39:17.120" end="05:39:20.160" style="s2">the user and there may be times where</p>
<p begin="05:39:18.760" end="05:39:21.920" style="s2">maybe you don&#39;t want all of the</p>
<p begin="05:39:20.160" end="05:39:24.200" style="s2">properties or all of the attributes and</p>
<p begin="05:39:21.920" end="05:39:26.638" style="s2">columns from our post table to get sent</p>
<p begin="05:39:24.200" end="05:39:28.400" style="s2">back to the user because um you know</p>
<p begin="05:39:26.638" end="05:39:30.600" style="s2">potentially that could be sending him</p>
<p begin="05:39:28.400" end="05:39:32.160" style="s2">back information he shouldn&#39;t know about</p>
<p begin="05:39:30.600" end="05:39:33.920" style="s2">uh especially when it comes to you know</p>
<p begin="05:39:32.160" end="05:39:35.440" style="s2">like your your user account right when a</p>
<p begin="05:39:33.920" end="05:39:36.798" style="s2">user logs in we don&#39;t want to send him</p>
<p begin="05:39:35.440" end="05:39:38.478" style="s2">back his password he already knows his</p>
<p begin="05:39:36.798" end="05:39:40.120" style="s2">password we don&#39;t want to continuously</p>
<p begin="05:39:38.478" end="05:39:41.958" style="s2">transmit uh information like that so</p>
<p begin="05:39:40.120" end="05:39:44.760" style="s2">there can be times where you do want to</p>
<p begin="05:39:41.958" end="05:39:46.638" style="s2">remove certain fields or properties and</p>
<p begin="05:39:44.760" end="05:39:48.080" style="s2">before we actually get to performing</p>
<p begin="05:39:46.638" end="05:39:50.360" style="s2">that we&#39;re going to do a little bit of</p>
<p begin="05:39:48.080" end="05:39:52.200" style="s2">cleanup because if we go to really any</p>
<p begin="05:39:50.360" end="05:39:55.120" style="s2">one of our requests like if I go to get</p>
<p begin="05:39:52.200" end="05:39:56.878" style="s2">post and hit send uh you see that we</p>
<p begin="05:39:55.120" end="05:39:59.600" style="s2">have you know within data we then have</p>
<p begin="05:39:56.878" end="05:40:01.478" style="s2">the list or array of all of our posts</p>
<p begin="05:39:59.600" end="05:40:03.000" style="s2">and then if we look at create posts</p>
<p begin="05:40:01.478" end="05:40:04.920" style="s2">right you can see we always have data</p>
<p begin="05:40:03.000" end="05:40:07.798" style="s2">and then the actual post I&#39;m going to</p>
<p begin="05:40:04.920" end="05:40:09.558" style="s2">get rid of the data field just because I</p>
<p begin="05:40:07.798" end="05:40:11.840" style="s2">think it&#39;s unnecessary and it kind of</p>
<p begin="05:40:09.558" end="05:40:13.440" style="s2">clutters things so what we&#39;ll do is uh</p>
<p begin="05:40:11.840" end="05:40:15.320" style="s2">within all of our path operations we&#39;re</p>
<p begin="05:40:13.440" end="05:40:17.478" style="s2">going to just remove</p>
<p begin="05:40:15.320" end="05:40:18.600" style="s2">data and instead of returning you know a</p>
<p begin="05:40:17.478" end="05:40:21.280" style="s2">dictionary we&#39;re just going to return</p>
<p begin="05:40:18.600" end="05:40:23.360" style="s2">posts and so it so fast API will</p>
<p begin="05:40:21.280" end="05:40:25.160" style="s2">automatically be able to serialize that</p>
<p begin="05:40:23.360" end="05:40:27.280" style="s2">and convert that into</p>
<p begin="05:40:25.160" end="05:40:29.000" style="s2">Json and I&#39;m going to do that for all of</p>
<p begin="05:40:27.280" end="05:40:32.080" style="s2">these we&#39;re just going to remove that</p>
<p begin="05:40:29.000" end="05:40:32.080" style="s2">data keyword for all of</p>
<p begin="05:40:33.798" end="05:40:38.440" style="s2">them we don&#39;t need to do it for delete</p>
<p begin="05:40:36.240" end="05:40:41.160" style="s2">but we do need to do it for</p>
<p begin="05:40:38.440" end="05:40:42.760" style="s2">update and so now if we actually take a</p>
<p begin="05:40:41.160" end="05:40:44.798" style="s2">look at what this is going to look like</p>
<p begin="05:40:42.760" end="05:40:46.360" style="s2">if I hit send you can see we just get</p>
<p begin="05:40:44.798" end="05:40:48.440" style="s2">back the post and we don&#39;t get that data</p>
<p begin="05:40:46.360" end="05:40:50.000" style="s2">keyword same thing for get post what</p>
<p begin="05:40:48.440" end="05:40:52.520" style="s2">does that look like perfect so we don&#39;t</p>
<p begin="05:40:50.000" end="05:40:53.638" style="s2">have the the data keyword now let&#39;s</p>
<p begin="05:40:52.520" end="05:40:56.120" style="s2">actually</p>
<p begin="05:40:53.638" end="05:40:57.840" style="s2">Define what the response should look</p>
<p begin="05:40:56.120" end="05:41:00.040" style="s2">like and we do that with our schemas we</p>
<p begin="05:40:57.840" end="05:41:02.240" style="s2">do that with our pantic models just like</p>
<p begin="05:41:00.040" end="05:41:04.000" style="s2">we have a pantic model for creating</p>
<p begin="05:41:02.240" end="05:41:06.200" style="s2">posts which happens to just inherit from</p>
<p begin="05:41:04.000" end="05:41:08.638" style="s2">post Bas so post create is just saying</p>
<p begin="05:41:06.200" end="05:41:10.360" style="s2">that we expect a title expect a Content</p>
<p begin="05:41:08.638" end="05:41:12.160" style="s2">published as optional and if you don&#39;t</p>
<p begin="05:41:10.360" end="05:41:13.400" style="s2">provide one it&#39;s true and so we already</p>
<p begin="05:41:12.160" end="05:41:16.000" style="s2">know how to work with that let&#39;s create</p>
<p begin="05:41:13.400" end="05:41:18.400" style="s2">a brand new class for the response so</p>
<p begin="05:41:16.000" end="05:41:21.120" style="s2">you know this handles the direction of</p>
<p begin="05:41:18.400" end="05:41:23.160" style="s2">the user sending data to us and now we</p>
<p begin="05:41:21.120" end="05:41:26.080" style="s2">want to handle us sending data to the</p>
<p begin="05:41:23.160" end="05:41:29.520" style="s2">user so I can create a brand new class</p>
<p begin="05:41:26.080" end="05:41:31.120" style="s2">we can call this post response uh or we</p>
<p begin="05:41:29.520" end="05:41:32.320" style="s2">because it represents the response or we</p>
<p begin="05:41:31.120" end="05:41:34.120" style="s2">can just call it post it doesn&#39;t really</p>
<p begin="05:41:32.320" end="05:41:35.160" style="s2">matter I&#39;m going to call it just post</p>
<p begin="05:41:34.120" end="05:41:36.878" style="s2">and then we&#39;re going to extend base</p>
<p begin="05:41:35.160" end="05:41:39.718" style="s2">model because all of our pantic models</p>
<p begin="05:41:36.878" end="05:41:39.718" style="s2">have to end based</p>
<p begin="05:41:40.320" end="05:41:44.600" style="s2">model uh and then from here what we have</p>
<p begin="05:41:42.478" end="05:41:47.000" style="s2">to do is we have to specify all of the</p>
<p begin="05:41:44.600" end="05:41:48.280" style="s2">fields that we want uh in the response</p>
<p begin="05:41:47.000" end="05:41:49.520" style="s2">so we want to send back the title</p>
<p begin="05:41:48.280" end="05:41:50.440" style="s2">because that makes sense so we&#39;ll send</p>
<p begin="05:41:49.520" end="05:41:53.638" style="s2">back the</p>
<p begin="05:41:50.440" end="05:41:56.878" style="s2">title we&#39;ll send back the content which</p>
<p begin="05:41:53.638" end="05:41:59.280" style="s2">is going to be of a type string and then</p>
<p begin="05:41:56.878" end="05:42:01.958" style="s2">um we&#39;ll send back published as well</p>
<p begin="05:41:59.280" end="05:42:04.080" style="s2">which is going to be a</p>
<p begin="05:42:01.958" end="05:42:06.200" style="s2">Boolean and let&#39;s see what that looks</p>
<p begin="05:42:04.080" end="05:42:07.920" style="s2">like all right so this still looks</p>
<p begin="05:42:06.200" end="05:42:09.600" style="s2">exactly the same as</p>
<p begin="05:42:07.920" end="05:42:11.638" style="s2">uh the other ones but if you actually</p>
<p begin="05:42:09.600" end="05:42:14.878" style="s2">see right now for any of the one</p>
<p begin="05:42:11.638" end="05:42:17.840" style="s2">requests that we sent we get back the</p>
<p begin="05:42:14.878" end="05:42:19.840" style="s2">ID as well as the created at field but</p>
<p begin="05:42:17.840" end="05:42:21.200" style="s2">since we didn&#39;t include those two fields</p>
<p begin="05:42:19.840" end="05:42:24.798" style="s2">we shouldn&#39;t actually send it back to</p>
<p begin="05:42:21.200" end="05:42:24.798" style="s2">the user so let&#39;s actually try this</p>
<p begin="05:42:25.520" end="05:42:30.840" style="s2">out and so I&#39;m going to save this and</p>
<p begin="05:42:28.160" end="05:42:33.360" style="s2">then to actually Define the response</p>
<p begin="05:42:30.840" end="05:42:36.160" style="s2">model under a specific request we&#39;ll</p>
<p begin="05:42:33.360" end="05:42:40.080" style="s2">start off with um uh we&#39;ll start off</p>
<p begin="05:42:36.160" end="05:42:42.040" style="s2">with the create request or create post</p>
<p begin="05:42:40.080" end="05:42:45.000" style="s2">and then within the decorator we just</p>
<p begin="05:42:42.040" end="05:42:46.878" style="s2">pass in another field and this is called</p>
<p begin="05:42:45.000" end="05:42:49.760" style="s2">response model and then you can just let</p>
<p begin="05:42:46.878" end="05:42:52.240" style="s2">vs code automatically select it and then</p>
<p begin="05:42:49.760" end="05:42:54.520" style="s2">here we just reference schemas Dot and</p>
<p begin="05:42:52.240" end="05:42:57.440" style="s2">then the name of the class so let&#39;s try</p>
<p begin="05:42:54.520" end="05:42:57.440" style="s2">this out and let&#39;s see what</p>
<p begin="05:42:57.520" end="05:43:03.680" style="s2">happens so now if I create a post okay</p>
<p begin="05:43:01.160" end="05:43:06.520" style="s2">we get a 500 air and let&#39;s see what</p>
<p begin="05:43:03.680" end="05:43:09.280" style="s2">happened uh it says value is not a valid</p>
<p begin="05:43:06.520" end="05:43:10.638" style="s2">dict so it&#39;s it looks like pantic is</p>
<p begin="05:43:09.280" end="05:43:14.320" style="s2">saying that you know when we try to send</p>
<p begin="05:43:10.638" end="05:43:17.320" style="s2">the response uh the the data we got back</p>
<p begin="05:43:14.320" end="05:43:20.240" style="s2">was not a valid dictionary right and</p>
<p begin="05:43:17.320" end="05:43:21.360" style="s2">because pantic the pantic class works</p>
<p begin="05:43:20.240" end="05:43:22.718" style="s2">with dictionary it takes a dictionary</p>
<p begin="05:43:21.360" end="05:43:25.120" style="s2">and then converts it to that specific</p>
<p begin="05:43:22.718" end="05:43:26.440" style="s2">model so what exactly happened here why</p>
<p begin="05:43:25.120" end="05:43:28.320" style="s2">is this causing an error well if you</p>
<p begin="05:43:26.440" end="05:43:30.840" style="s2">look at the</p>
<p begin="05:43:28.320" end="05:43:33.718" style="s2">documentation and where is it right here</p>
<p begin="05:43:30.840" end="05:43:36.080" style="s2">and if you go under um SQL relational</p>
<p begin="05:43:33.718" end="05:43:38.320" style="s2">database it says that for your models</p>
<p begin="05:43:36.080" end="05:43:40.400" style="s2">your pantic models we have to add this</p>
<p begin="05:43:38.320" end="05:43:43.440" style="s2">extra config called class config orm</p>
<p begin="05:43:40.400" end="05:43:46.000" style="s2">mode true and it explains exactly why we</p>
<p begin="05:43:43.440" end="05:43:47.798" style="s2">need that right because by default the</p>
<p begin="05:43:46.000" end="05:43:49.160" style="s2">penic model will only read it if it&#39;s a</p>
<p begin="05:43:47.798" end="05:43:50.520" style="s2">dictionary right and that&#39;s what it&#39;s</p>
<p begin="05:43:49.160" end="05:43:52.558" style="s2">expecting in our code because we see</p>
<p begin="05:43:50.520" end="05:43:53.920" style="s2">that error it&#39;s not a valid dictionary</p>
<p begin="05:43:52.558" end="05:43:57.200" style="s2">and that&#39;s because when we actually make</p>
<p begin="05:43:53.920" end="05:44:00.840" style="s2">this query right new post this is</p>
<p begin="05:43:57.200" end="05:44:03.798" style="s2">actually not a dictionary it&#39;s a SQL</p>
<p begin="05:44:00.840" end="05:44:05.638" style="s2">Alchemy model and so pantic has no idea</p>
<p begin="05:44:03.798" end="05:44:07.600" style="s2">what to do with the SQL Alchemy model it</p>
<p begin="05:44:05.638" end="05:44:09.240" style="s2">only knows how to work with dictionaries</p>
<p begin="05:44:07.600" end="05:44:12.280" style="s2">so we have to tell it to actually</p>
<p begin="05:44:09.240" end="05:44:14.680" style="s2">convert this SQL Alchemy model to be a</p>
<p begin="05:44:12.280" end="05:44:17.600" style="s2">pantic model and we do that by passing</p>
<p begin="05:44:14.680" end="05:44:19.760" style="s2">in this specific text right here so this</p>
<p begin="05:44:17.600" end="05:44:22.280" style="s2">is going to say or mode true this is an</p>
<p begin="05:44:19.760" end="05:44:23.798" style="s2">OM model and it&#39;s going to tell pantic</p>
<p begin="05:44:22.280" end="05:44:25.280" style="s2">to you know ignore the fact that it&#39;s</p>
<p begin="05:44:23.798" end="05:44:28.000" style="s2">not a dictionary and go ahead and</p>
<p begin="05:44:25.280" end="05:44:31.760" style="s2">convert it so we can just copy this</p>
<p begin="05:44:28.000" end="05:44:34.878" style="s2">text and add this to our</p>
<p begin="05:44:31.760" end="05:44:39.958" style="s2">code for our post</p>
<p begin="05:44:34.878" end="05:44:39.958" style="s2">model and that should be properly</p>
<p begin="05:44:40.120" end="05:44:45.440" style="s2">indented so now that should be good and</p>
<p begin="05:44:42.798" end="05:44:48.080" style="s2">let&#39;s see if we still get an error now</p>
<p begin="05:44:45.440" end="05:44:49.920" style="s2">let&#39;s hit send look at that we got it it</p>
<p begin="05:44:48.080" end="05:44:52.000" style="s2">seems like everything worked okay 2011</p>
<p begin="05:44:49.920" end="05:44:53.840" style="s2">created but take a look at the fields</p>
<p begin="05:44:52.000" end="05:44:56.080" style="s2">that we got back we just got title</p>
<p begin="05:44:53.840" end="05:44:59.440" style="s2">content published and that&#39;s because our</p>
<p begin="05:44:56.080" end="05:45:01.400" style="s2">model explicitly specified title content</p>
<p begin="05:44:59.440" end="05:45:03.440" style="s2">published now we know if we go to our</p>
<p begin="05:45:01.400" end="05:45:05.360" style="s2">postc database we do have an ID field</p>
<p begin="05:45:03.440" end="05:45:07.600" style="s2">and a created ad field so if we wanted</p>
<p begin="05:45:05.360" end="05:45:10.798" style="s2">to add those</p>
<p begin="05:45:07.600" end="05:45:11.958" style="s2">we can say um ID which is going to be of</p>
<p begin="05:45:10.798" end="05:45:14.240" style="s2">a type</p>
<p begin="05:45:11.958" end="05:45:15.320" style="s2">int let&#39;s save that and let&#39;s see what</p>
<p begin="05:45:14.240" end="05:45:17.840" style="s2">that looks</p>
<p begin="05:45:15.320" end="05:45:20.958" style="s2">like right now we get the ID back</p>
<p begin="05:45:17.840" end="05:45:22.400" style="s2">perfect well do we want the created at</p>
<p begin="05:45:20.958" end="05:45:24.200" style="s2">time I think you know your front end</p>
<p begin="05:45:22.400" end="05:45:25.478" style="s2">code probably wants that as well so</p>
<p begin="05:45:24.200" end="05:45:28.320" style="s2">let&#39;s go ahead and add that so here</p>
<p begin="05:45:25.478" end="05:45:28.320" style="s2">we&#39;ll do created</p>
<p begin="05:45:29.320" end="05:45:35.000" style="s2">at now what should the type for created</p>
<p begin="05:45:32.000" end="05:45:37.718" style="s2">at be right it is ultimately you know a</p>
<p begin="05:45:35.000" end="05:45:39.798" style="s2">date and time well we can we could do</p>
<p begin="05:45:37.718" end="05:45:41.680" style="s2">you know something like a string but uh</p>
<p begin="05:45:39.798" end="05:45:44.600" style="s2">what we can do that&#39;s better than that</p>
<p begin="05:45:41.680" end="05:45:47.200" style="s2">is we can import from date time import</p>
<p begin="05:45:44.600" end="05:45:49.240" style="s2">date time and so now we can say that the</p>
<p begin="05:45:47.200" end="05:45:51.000" style="s2">time the created at is going to be of</p>
<p begin="05:45:49.240" end="05:45:53.240" style="s2">type date</p>
<p begin="05:45:51.000" end="05:45:54.680" style="s2">time and so this is an extra little bit</p>
<p begin="05:45:53.240" end="05:45:57.160" style="s2">of validation to make sure that what we</p>
<p begin="05:45:54.680" end="05:45:59.040" style="s2">send back is a actual valid date time</p>
<p begin="05:45:57.160" end="05:46:03.878" style="s2">just make sure that you import it on in</p>
<p begin="05:45:59.040" end="05:46:06.958" style="s2">this file and so now if I send this back</p>
<p begin="05:46:03.878" end="05:46:08.478" style="s2">we now get created that as well right</p>
<p begin="05:46:06.958" end="05:46:10.798" style="s2">right so this is how we ultimately</p>
<p begin="05:46:08.478" end="05:46:13.040" style="s2">Define the data that we send back we can</p>
<p begin="05:46:10.798" end="05:46:14.080" style="s2">specify exactly the fields we want and</p>
<p begin="05:46:13.040" end="05:46:15.718" style="s2">that way we can ensure we don&#39;t</p>
<p begin="05:46:14.080" end="05:46:17.920" style="s2">unnecessarily send data that shouldn&#39;t</p>
<p begin="05:46:15.718" end="05:46:19.798" style="s2">be getting</p>
<p begin="05:46:17.920" end="05:46:22.360" style="s2">sent right and we can do this with</p>
<p begin="05:46:19.798" end="05:46:24.840" style="s2">anything I can just send back the ID if</p>
<p begin="05:46:22.360" end="05:46:27.320" style="s2">I really wanted</p>
<p begin="05:46:24.840" end="05:46:28.878" style="s2">to now we just get the ID right you see</p>
<p begin="05:46:27.320" end="05:46:31.440" style="s2">there&#39;s a lot of flexibility and a lot</p>
<p begin="05:46:28.878" end="05:46:33.080" style="s2">of power uh when it comes to defining uh</p>
<p begin="05:46:31.440" end="05:46:35.120" style="s2">your responses just like we had when it</p>
<p begin="05:46:33.080" end="05:46:37.440" style="s2">comes to defining our requests and with</p>
<p begin="05:46:35.120" end="05:46:39.320" style="s2">apis like I always say make sure you</p>
<p begin="05:46:37.440" end="05:46:41.080" style="s2">explicitly Define the exact data you</p>
<p begin="05:46:39.320" end="05:46:43.200" style="s2">want to receive and the exact data you</p>
<p begin="05:46:41.080" end="05:46:45.080" style="s2">want to send back to the client now</p>
<p begin="05:46:43.200" end="05:46:47.638" style="s2">before we move any further and wrap up</p>
<p begin="05:46:45.080" end="05:46:49.878" style="s2">this video uh you&#39;ll see that there&#39;s a</p>
<p begin="05:46:47.638" end="05:46:51.478" style="s2">lot of duplication right because this</p>
<p begin="05:46:49.878" end="05:46:53.680" style="s2">post model for the</p>
<p begin="05:46:51.478" end="05:46:55.360" style="s2">response right it needs title content</p>
<p begin="05:46:53.680" end="05:46:58.240" style="s2">published and then we&#39;re just adding ID</p>
<p begin="05:46:55.360" end="05:46:59.638" style="s2">and create at right and like I said when</p>
<p begin="05:46:58.240" end="05:47:01.400" style="s2">it comes to a real application you&#39;re</p>
<p begin="05:46:59.638" end="05:47:03.520" style="s2">going to have so many more field so many</p>
<p begin="05:47:01.400" end="05:47:05.520" style="s2">more columns it would be such a pain to</p>
<p begin="05:47:03.520" end="05:47:06.878" style="s2">have to repeat both of them and so</p>
<p begin="05:47:05.520" end="05:47:09.558" style="s2">that&#39;s why I ultimately created this</p>
<p begin="05:47:06.878" end="05:47:11.000" style="s2">postbase class because I can extend the</p>
<p begin="05:47:09.558" end="05:47:13.000" style="s2">postbase</p>
<p begin="05:47:11.000" end="05:47:15.200" style="s2">class and what that&#39;s going to do is</p>
<p begin="05:47:13.000" end="05:47:17.280" style="s2">that&#39;s going to cause me to inherit the</p>
<p begin="05:47:15.200" end="05:47:19.280" style="s2">title content and publish Fields because</p>
<p begin="05:47:17.280" end="05:47:23.320" style="s2">they&#39;re already defined in</p>
<p begin="05:47:19.280" end="05:47:23.320" style="s2">here and so I can just remove</p>
<p begin="05:47:27.120" end="05:47:31.638" style="s2">that and so then I can just specify ID</p>
<p begin="05:47:29.840" end="05:47:33.478" style="s2">and create it at and then it&#39;s going to</p>
<p begin="05:47:31.638" end="05:47:35.320" style="s2">inherit the other three from the</p>
<p begin="05:47:33.478" end="05:47:37.760" style="s2">previous class and so now if I try this</p>
<p begin="05:47:35.320" end="05:47:39.478" style="s2">again</p>
<p begin="05:47:37.760" end="05:47:41.040" style="s2">I send it you can see that I get the</p>
<p begin="05:47:39.478" end="05:47:43.080" style="s2">same exact result but I only had to</p>
<p begin="05:47:41.040" end="05:47:44.718" style="s2">specify the new columns I wanted to add</p>
<p begin="05:47:43.080" end="05:47:47.240" style="s2">in the</p>
<p begin="05:47:44.718" end="05:47:48.718" style="s2">response so this is really no different</p>
<p begin="05:47:47.240" end="05:47:50.760" style="s2">than you know working with any other</p>
<p begin="05:47:48.718" end="05:47:53.520" style="s2">model in Python we get access to all of</p>
<p begin="05:47:50.760" end="05:47:56.000" style="s2">the uh usual features like inheritance</p>
<p begin="05:47:53.520" end="05:47:58.160" style="s2">so we can help reduce the amount of code</p>
<p begin="05:47:56.000" end="05:48:00.320" style="s2">that we actually</p>
<p begin="05:47:58.160" end="05:48:03.878" style="s2">write all right and so now let&#39;s go</p>
<p begin="05:48:00.320" end="05:48:05.600" style="s2">ahead and uh update all of the other uh</p>
<p begin="05:48:03.878" end="05:48:07.878" style="s2">path operations as well because we can</p>
<p begin="05:48:05.600" end="05:48:09.400" style="s2">see that we only did for create post but</p>
<p begin="05:48:07.878" end="05:48:11.120" style="s2">let&#39;s go ahead and do it for get an</p>
<p begin="05:48:09.400" end="05:48:13.878" style="s2">individual post so this is going to be</p>
<p begin="05:48:11.120" end="05:48:17.520" style="s2">the same exact response</p>
<p begin="05:48:13.878" end="05:48:19.798" style="s2">model and we can just reference schemas</p>
<p begin="05:48:17.520" end="05:48:21.478" style="s2">dopost and we&#39;ll do the same thing for</p>
<p begin="05:48:19.798" end="05:48:25.200" style="s2">our update post as</p>
<p begin="05:48:21.478" end="05:48:28.798" style="s2">well we&#39;ll say response model</p>
<p begin="05:48:25.200" end="05:48:28.798" style="s2">equals schemas</p>
<p begin="05:48:29.760" end="05:48:35.120" style="s2">dopost and then let&#39;s just you know</p>
<p begin="05:48:31.638" end="05:48:37.360" style="s2">double check so get one post this should</p>
<p begin="05:48:35.120" end="05:48:38.478" style="s2">work just fine perfect uh and then</p>
<p begin="05:48:37.360" end="05:48:40.760" style="s2">update</p>
<p begin="05:48:38.478" end="05:48:42.320" style="s2">post and it looks like that works as</p>
<p begin="05:48:40.760" end="05:48:46.200" style="s2">well and the last thing that we need to</p>
<p begin="05:48:42.320" end="05:48:48.160" style="s2">do is get all posts right so right now</p>
<p begin="05:48:46.200" end="05:48:51.280" style="s2">if we do get all</p>
<p begin="05:48:48.160" end="05:48:52.400" style="s2">posts now where is that right here we</p>
<p begin="05:48:51.280" end="05:48:55.040" style="s2">still haven&#39;t send that so let&#39;s do</p>
<p begin="05:48:52.400" end="05:48:58.120" style="s2">response model equals and then we can</p>
<p begin="05:48:55.040" end="05:48:58.120" style="s2">say schemas</p>
<p begin="05:48:58.760" end="05:49:04.000" style="s2">dopost and then let&#39;s try that out we</p>
<p begin="05:49:01.600" end="05:49:06.440" style="s2">hit send we get an error and this is</p>
<p begin="05:49:04.000" end="05:49:07.840" style="s2">expected and I want you to stop and</p>
<p begin="05:49:06.440" end="05:49:10.600" style="s2">whoops I want you to stop and think</p>
<p begin="05:49:07.840" end="05:49:13.360" style="s2">about what exactly is happening because</p>
<p begin="05:49:10.600" end="05:49:16.958" style="s2">we are returning a list of</p>
<p begin="05:49:13.360" end="05:49:19.600" style="s2">posts and it&#39;s trying to shape that into</p>
<p begin="05:49:16.958" end="05:49:21.718" style="s2">one individual post right we got a list</p>
<p begin="05:49:19.600" end="05:49:25.240" style="s2">of posts we should be sending back a</p>
<p begin="05:49:21.718" end="05:49:28.638" style="s2">list of our schema post so how do we do</p>
<p begin="05:49:25.240" end="05:49:30.200" style="s2">that can we just put a could we just put</p>
<p begin="05:49:28.638" end="05:49:31.000" style="s2">a bracket or something like that will</p>
<p begin="05:49:30.200" end="05:49:34.120" style="s2">that</p>
<p begin="05:49:31.000" end="05:49:35.878" style="s2">work let&#39;s try this well it looks like</p>
<p begin="05:49:34.120" end="05:49:38.240" style="s2">there&#39;s an error so this doesn&#39;t seem to</p>
<p begin="05:49:35.878" end="05:49:41.798" style="s2">work so how can we specify we want a</p>
<p begin="05:49:38.240" end="05:49:44.080" style="s2">list of posts well we have to import</p>
<p begin="05:49:41.798" end="05:49:45.718" style="s2">something from the typing Library so we</p>
<p begin="05:49:44.080" end="05:49:50.160" style="s2">have optional from the typing Library we</p>
<p begin="05:49:45.718" end="05:49:55.000" style="s2">can also import list and so now if I go</p>
<p begin="05:49:50.160" end="05:49:57.520" style="s2">back to our get posts I can say list and</p>
<p begin="05:49:55.000" end="05:49:59.680" style="s2">so now if I hit send we should get back</p>
<p begin="05:49:57.520" end="05:50:02.200" style="s2">all of our posts so here we&#39;re just</p>
<p begin="05:49:59.680" end="05:50:04.160" style="s2">specifying we want a list of our</p>
<p begin="05:50:02.200" end="05:50:06.200" style="s2">specific schema post</p>
<p begin="05:50:04.160" end="05:50:08.160" style="s2">model and that&#39;s just going to allow us</p>
<p begin="05:50:06.200" end="05:50:10.478" style="s2">to get a list of posts very</p>
<p begin="05:50:08.160" end="05:50:12.878" style="s2">simple in the next couple of sections</p>
<p begin="05:50:10.478" end="05:50:15.798" style="s2">we&#39;re going to focus on creating user</p>
<p begin="05:50:12.878" end="05:50:17.718" style="s2">functionality and what I mean by that is</p>
<p begin="05:50:15.798" end="05:50:20.280" style="s2">having users be able to actually create</p>
<p begin="05:50:17.718" end="05:50:22.680" style="s2">an account within our app uh being able</p>
<p begin="05:50:20.280" end="05:50:24.120" style="s2">to log in as well as being able to</p>
<p begin="05:50:22.680" end="05:50:26.200" style="s2">create posts that are associated with</p>
<p begin="05:50:24.120" end="05:50:28.000" style="s2">their specific account and so the first</p>
<p begin="05:50:26.200" end="05:50:29.520" style="s2">thing that I want to tackle is uh</p>
<p begin="05:50:28.000" end="05:50:32.080" style="s2">handling user</p>
<p begin="05:50:29.520" end="05:50:33.920" style="s2">registration so we need to be able to</p>
<p begin="05:50:32.080" end="05:50:35.600" style="s2">provide a way for users to create a</p>
<p begin="05:50:33.920" end="05:50:37.400" style="s2">brand new account and the first thing</p>
<p begin="05:50:35.600" end="05:50:39.240" style="s2">that we have to do is we have to to uh</p>
<p begin="05:50:37.400" end="05:50:41.280" style="s2">Define our model or more specifically we</p>
<p begin="05:50:39.240" end="05:50:43.200" style="s2">have to create a table within our</p>
<p begin="05:50:41.280" end="05:50:45.400" style="s2">postris database that&#39;s going to hold</p>
<p begin="05:50:43.200" end="05:50:48.360" style="s2">all of our user information and so since</p>
<p begin="05:50:45.400" end="05:50:51.280" style="s2">we&#39;re using SQL Alchemy we&#39;re going to</p>
<p begin="05:50:48.360" end="05:50:52.958" style="s2">create a new uh om model just like we</p>
<p begin="05:50:51.280" end="05:50:55.760" style="s2">did for post so that we can Define what</p>
<p begin="05:50:52.958" end="05:50:58.400" style="s2">our postris table ultimately looks</p>
<p begin="05:50:55.760" end="05:51:00.160" style="s2">like let&#39;s create a new class and I&#39;m</p>
<p begin="05:50:58.400" end="05:51:02.320" style="s2">going to call this class</p>
<p begin="05:51:00.160" end="05:51:04.280" style="s2">user and this is going to extend base</p>
<p begin="05:51:02.320" end="05:51:06.280" style="s2">that&#39;s just a requirement for any SQL</p>
<p begin="05:51:04.280" end="05:51:08.878" style="s2">Alchemy model and then here we&#39;re going</p>
<p begin="05:51:06.280" end="05:51:10.520" style="s2">to provide the table name uh within</p>
<p begin="05:51:08.878" end="05:51:12.920" style="s2">postgress so I&#39;m going to say the table</p>
<p begin="05:51:10.520" end="05:51:15.240" style="s2">within postgress should be called</p>
<p begin="05:51:12.920" end="05:51:16.958" style="s2">users then let&#39;s go ahead and figure out</p>
<p begin="05:51:15.240" end="05:51:19.760" style="s2">what are the different columns that we</p>
<p begin="05:51:16.958" end="05:51:21.840" style="s2">need uh and so we&#39;re going to handle</p>
<p begin="05:51:19.760" end="05:51:24.160" style="s2">registration um by having the user</p>
<p begin="05:51:21.840" end="05:51:26.120" style="s2">provide a email address so we should</p>
<p begin="05:51:24.160" end="05:51:27.840" style="s2">have a column for us to be able to store</p>
<p begin="05:51:26.120" end="05:51:31.160" style="s2">their email so we&#39;ll say</p>
<p begin="05:51:27.840" end="05:51:33.798" style="s2">email equals column this is going to be</p>
<p begin="05:51:31.160" end="05:51:33.798" style="s2">of a type</p>
<p begin="05:51:35.040" end="05:51:41.920" style="s2">string and we&#39;re going to say that this</p>
<p begin="05:51:37.280" end="05:51:45.360" style="s2">is uh nullable is set to</p>
<p begin="05:51:41.920" end="05:51:47.320" style="s2">false so they have to provide an</p>
<p begin="05:51:45.360" end="05:51:50.160" style="s2">email and then on top of that we</p>
<p begin="05:51:47.320" end="05:51:51.958" style="s2">shouldn&#39;t allow someone uh with an with</p>
<p begin="05:51:50.160" end="05:51:53.400" style="s2">a specific email to register twice with</p>
<p begin="05:51:51.958" end="05:51:55.840" style="s2">that email right there should only be</p>
<p begin="05:51:53.400" end="05:51:58.200" style="s2">one account with one specific email so</p>
<p begin="05:51:55.840" end="05:52:00.718" style="s2">we&#39;re going to say that the unique</p>
<p begin="05:51:58.200" end="05:52:02.080" style="s2">constraint is set to true so that&#39;s</p>
<p begin="05:52:00.718" end="05:52:05.638" style="s2">going to prevent one email from</p>
<p begin="05:52:02.080" end="05:52:05.638" style="s2">registering twice</p>
<p begin="05:52:07.558" end="05:52:11.558" style="s2">the next thing that we need is for us to</p>
<p begin="05:52:09.600" end="05:52:13.558" style="s2">be able to store the user&#39;s password so</p>
<p begin="05:52:11.558" end="05:52:15.680" style="s2">we&#39;ll create a column for password this</p>
<p begin="05:52:13.558" end="05:52:17.558" style="s2">is once again going to be a</p>
<p begin="05:52:15.680" end="05:52:19.718" style="s2">string uh and then once again the</p>
<p begin="05:52:17.558" end="05:52:21.040" style="s2">nullable is going to be set to false</p>
<p begin="05:52:19.718" end="05:52:23.200" style="s2">because we shouldn&#39;t be able to let them</p>
<p begin="05:52:21.040" end="05:52:25.200" style="s2">create an account without a</p>
<p begin="05:52:23.200" end="05:52:26.200" style="s2">password and we don&#39;t need a unique</p>
<p begin="05:52:25.200" end="05:52:28.400" style="s2">constraint because I don&#39;t care if two</p>
<p begin="05:52:26.200" end="05:52:30.718" style="s2">users have the same password it&#39;s up to</p>
<p begin="05:52:28.400" end="05:52:33.200" style="s2">them and then finally just like we had</p>
<p begin="05:52:30.718" end="05:52:35.680" style="s2">with the posts uh class we&#39;re going to</p>
<p begin="05:52:33.200" end="05:52:37.040" style="s2">have a column for ID so every user is</p>
<p begin="05:52:35.680" end="05:52:38.440" style="s2">going to have a unique ID so I&#39;m just</p>
<p begin="05:52:37.040" end="05:52:40.878" style="s2">going to copy and paste</p>
<p begin="05:52:38.440" end="05:52:43.920" style="s2">that and so at this point I think that&#39;s</p>
<p begin="05:52:40.878" end="05:52:45.798" style="s2">all we need for our user class if you</p>
<p begin="05:52:43.920" end="05:52:48.080" style="s2">save it um it&#39;s going to reload the</p>
<p begin="05:52:45.798" end="05:52:50.760" style="s2">application and it looks like I got an</p>
<p begin="05:52:48.080" end="05:52:53.840" style="s2">error and I realized this should not be</p>
<p begin="05:52:50.760" end="05:52:56.280" style="s2">uh St Str this should actually be string</p>
<p begin="05:52:53.840" end="05:52:56.280" style="s2">that&#39;s my</p>
<p begin="05:52:56.360" end="05:53:00.600" style="s2">mistake and then actually before we do</p>
<p begin="05:52:59.040" end="05:53:03.478" style="s2">anything else I want to create it at</p>
<p begin="05:53:00.600" end="05:53:04.878" style="s2">column as well so we can just copy this</p>
<p begin="05:53:03.478" end="05:53:06.520" style="s2">and then paste that in there like I said</p>
<p begin="05:53:04.878" end="05:53:09.000" style="s2">pretty much anytime you create something</p>
<p begin="05:53:06.520" end="05:53:11.760" style="s2">in your database you want to make sure</p>
<p begin="05:53:09.000" end="05:53:13.240" style="s2">that um you record when it was created</p>
<p begin="05:53:11.760" end="05:53:15.478" style="s2">you never know when you&#39;ll need that</p>
<p begin="05:53:13.240" end="05:53:17.600" style="s2">information and so we&#39;ve restarted our</p>
<p begin="05:53:15.478" end="05:53:19.160" style="s2">application let&#39;s go to postgress and</p>
<p begin="05:53:17.600" end="05:53:21.120" style="s2">under my tables I&#39;m just going to do a</p>
<p begin="05:53:19.160" end="05:53:24.400" style="s2">refresh and it looks like it went ahead</p>
<p begin="05:53:21.120" end="05:53:27.360" style="s2">and created our users table and if we do</p>
<p begin="05:53:24.400" end="05:53:30.840" style="s2">a users properties we should see that it</p>
<p begin="05:53:27.360" end="05:53:32.478" style="s2">created all four columns and all of the</p>
<p begin="05:53:30.840" end="05:53:34.760" style="s2">necessary constraints should be set</p>
<p begin="05:53:32.478" end="05:53:37.478" style="s2">there as</p>
<p begin="05:53:34.760" end="05:53:38.718" style="s2">well and so let&#39;s uh you know just play</p>
<p begin="05:53:37.478" end="05:53:40.718" style="s2">around with this in postrest just to</p>
<p begin="05:53:38.718" end="05:53:42.638" style="s2">make sure it works um because I don&#39;t</p>
<p begin="05:53:40.718" end="05:53:46.440" style="s2">really trust SQL Alchemy ever so let&#39;s</p>
<p begin="05:53:42.638" end="05:53:48.878" style="s2">do right click and then we&#39;ll do view</p>
<p begin="05:53:46.440" end="05:53:51.718" style="s2">edit data so right now there shouldn&#39;t</p>
<p begin="05:53:48.878" end="05:53:55.638" style="s2">be any users and let&#39;s create a new user</p>
<p begin="05:53:51.718" end="05:53:55.638" style="s2">so I&#39;ll say this is H John</p>
<p begin="05:53:55.718" end="05:54:01.240" style="s2">gmail.com password I you know just put</p>
<p begin="05:53:58.240" end="05:54:03.798" style="s2">whatever you want for now and then if we</p>
<p begin="05:54:01.240" end="05:54:07.080" style="s2">save that right it then successfully</p>
<p begin="05:54:03.798" end="05:54:09.478" style="s2">created a user we got the the generated</p>
<p begin="05:54:07.080" end="05:54:10.958" style="s2">ID as well as the created at timestamp</p>
<p begin="05:54:09.478" end="05:54:12.878" style="s2">and then let&#39;s create a new user so I&#39;m</p>
<p begin="05:54:10.958" end="05:54:14.440" style="s2">going to use the same exact email so</p>
<p begin="05:54:12.878" end="05:54:16.320" style="s2">this should throw an error because we</p>
<p begin="05:54:14.440" end="05:54:18.478" style="s2">shouldn&#39;t be able to register again you</p>
<p begin="05:54:16.320" end="05:54:20.920" style="s2">know some random</p>
<p begin="05:54:18.478" end="05:54:22.360" style="s2">password and then if I try to save this</p>
<p begin="05:54:20.920" end="05:54:24.080" style="s2">we should get a unique constraint on</p>
<p begin="05:54:22.360" end="05:54:26.040" style="s2">users&#39;s email error so perfect so that</p>
<p begin="05:54:24.080" end="05:54:29.400" style="s2">worked and I&#39;m just going to change this</p>
<p begin="05:54:26.040" end="05:54:32.120" style="s2">to be Cindy</p>
<p begin="05:54:29.400" end="05:54:33.878" style="s2">gmail.com we&#39;ll save that and it should</p>
<p begin="05:54:32.120" end="05:54:36.400" style="s2">create those users so</p>
<p begin="05:54:33.878" end="05:54:39.440" style="s2">perfect so we&#39;ve got the first step done</p>
<p begin="05:54:36.400" end="05:54:41.478" style="s2">when it comes to um defining our table</p>
<p begin="05:54:39.440" end="05:54:44.920" style="s2">the next thing that I want to do is we</p>
<p begin="05:54:41.478" end="05:54:47.080" style="s2">will create a uh New Path operation so</p>
<p begin="05:54:44.920" end="05:54:49.200" style="s2">that a user can actually send his</p>
<p begin="05:54:47.080" end="05:54:50.958" style="s2">username and password to our API and</p>
<p begin="05:54:49.200" end="05:54:53.680" style="s2">then we can actually generate that</p>
<p begin="05:54:50.958" end="05:54:55.558" style="s2">user just like we did with posts we&#39;re</p>
<p begin="05:54:53.680" end="05:54:57.638" style="s2">going to create a new path operation for</p>
<p begin="05:54:55.558" end="05:54:59.520" style="s2">creating a new user so we&#39;ll go to the</p>
<p begin="05:54:57.638" end="05:55:01.718" style="s2">bottom of our main</p>
<p begin="05:54:59.520" end="05:55:04.200" style="s2">document and I&#39;m going to create a new</p>
<p begin="05:55:01.718" end="05:55:08.320" style="s2">function I&#39;ll say we&#39;ll call</p>
<p begin="05:55:04.200" end="05:55:08.320" style="s2">this create user</p>
<p begin="05:55:10.718" end="05:55:16.120" style="s2">and so just like we have for creating a</p>
<p begin="05:55:12.878" end="05:55:18.840" style="s2">post I&#39;m going to copy this decorator</p>
<p begin="05:55:16.120" end="05:55:18.840" style="s2">and we&#39;ll rename</p>
<p begin="05:55:20.920" end="05:55:25.478" style="s2">it so it is going to be a post request</p>
<p begin="05:55:23.718" end="05:55:27.160" style="s2">but it&#39;s going to be sent to the URL of</p>
<p begin="05:55:25.478" end="05:55:29.240" style="s2">users because we&#39;re no longer working</p>
<p begin="05:55:27.160" end="05:55:31.958" style="s2">with posts and keep in mind you get to</p>
<p begin="05:55:29.240" end="05:55:34.600" style="s2">select whatever URL or path you want to</p>
<p begin="05:55:31.958" end="05:55:37.080" style="s2">use if you want to call this I mean it&#39;s</p>
<p begin="05:55:34.600" end="05:55:38.440" style="s2">bad practice to call it create user</p>
<p begin="05:55:37.080" end="05:55:41.920" style="s2">um but you can choose whatever you want</p>
<p begin="05:55:38.440" end="05:55:41.920" style="s2">I just I think it makes sense to call it</p>
<p begin="05:55:42.280" end="05:55:46.080" style="s2">users and anytime you create something</p>
<p begin="05:55:44.718" end="05:55:48.718" style="s2">remember the status code should always</p>
<p begin="05:55:46.080" end="05:55:50.520" style="s2">be the default 2011 and I&#39;ll get rid of</p>
<p begin="05:55:48.718" end="05:55:51.280" style="s2">the response model for now just to keep</p>
<p begin="05:55:50.520" end="05:55:55.760" style="s2">things</p>
<p begin="05:55:51.280" end="05:55:59.360" style="s2">simple now we&#39;re ultimately going to be</p>
<p begin="05:55:55.760" end="05:56:03.000" style="s2">using our database to create a brand new</p>
<p begin="05:55:59.360" end="05:56:04.440" style="s2">user so let&#39;s go ahead and copy this DB</p>
<p begin="05:56:03.000" end="05:56:05.638" style="s2">right here from all of the other path</p>
<p begin="05:56:04.440" end="05:56:07.160" style="s2">operations because that&#39;s going to have</p>
<p begin="05:56:05.638" end="05:56:09.200" style="s2">to go in there</p>
<p begin="05:56:07.160" end="05:56:10.920" style="s2">and then anytime we want to you know</p>
<p begin="05:56:09.200" end="05:56:13.520" style="s2">receive data from the user because the</p>
<p begin="05:56:10.920" end="05:56:15.360" style="s2">user is going to have to send the email</p>
<p begin="05:56:13.520" end="05:56:17.520" style="s2">he wants to register with as well as his</p>
<p begin="05:56:15.360" end="05:56:19.558" style="s2">password in the body of the request it</p>
<p begin="05:56:17.520" end="05:56:21.000" style="s2">always makes sense to define a specific</p>
<p begin="05:56:19.558" end="05:56:23.200" style="s2">schema so that we can ensure that the</p>
<p begin="05:56:21.000" end="05:56:24.360" style="s2">user does provide both of those so just</p>
<p begin="05:56:23.200" end="05:56:26.280" style="s2">like we did with post we&#39;re going to</p>
<p begin="05:56:24.360" end="05:56:28.958" style="s2">create a brand new</p>
<p begin="05:56:26.280" end="05:56:30.478" style="s2">schema and I can call this user or we</p>
<p begin="05:56:28.958" end="05:56:32.718" style="s2">can call this</p>
<p begin="05:56:30.478" end="05:56:34.520" style="s2">user I think this one it makes sense to</p>
<p begin="05:56:32.718" end="05:56:38.240" style="s2">call this user create so this is going</p>
<p begin="05:56:34.520" end="05:56:38.240" style="s2">to handle just for creating users</p>
<p begin="05:56:38.680" end="05:56:44.040" style="s2">and we&#39;re going to inherit from base</p>
<p begin="05:56:41.520" end="05:56:45.240" style="s2">model and for the user create there&#39;s</p>
<p begin="05:56:44.040" end="05:56:46.160" style="s2">going to be an email field which is</p>
<p begin="05:56:45.240" end="05:56:49.120" style="s2">going to be a</p>
<p begin="05:56:46.160" end="05:56:52.040" style="s2">string as well as a password field which</p>
<p begin="05:56:49.120" end="05:56:54.840" style="s2">is going to be of a type</p>
<p begin="05:56:52.040" end="05:56:56.360" style="s2">string and when it comes to validating</p>
<p begin="05:56:54.840" end="05:56:57.718" style="s2">the user right it&#39;s going to check to</p>
<p begin="05:56:56.360" end="05:56:59.840" style="s2">make sure that an email is provided and</p>
<p begin="05:56:57.718" end="05:57:02.000" style="s2">a password&#39;s provided however we can get</p>
<p begin="05:56:59.840" end="05:57:03.920" style="s2">a little bit more granular than that if</p>
<p begin="05:57:02.000" end="05:57:05.798" style="s2">you actually go to the pantic</p>
<p begin="05:57:03.920" end="05:57:07.638" style="s2">documentation we also have a field</p>
<p begin="05:57:05.798" end="05:57:09.718" style="s2">called email string so this is going to</p>
<p begin="05:57:07.638" end="05:57:12.080" style="s2">validate that the email property is a</p>
<p begin="05:57:09.718" end="05:57:15.400" style="s2">valid email however we need to have the</p>
<p begin="05:57:12.080" end="05:57:16.718" style="s2">email validator Library installed but</p>
<p begin="05:57:15.400" end="05:57:18.080" style="s2">that should automatically have already</p>
<p begin="05:57:16.718" end="05:57:20.478" style="s2">been installed for us when we installed</p>
<p begin="05:57:18.080" end="05:57:23.120" style="s2">fast API with the all flag and so if you</p>
<p begin="05:57:20.478" end="05:57:23.120" style="s2">do a pip</p>
<p begin="05:57:25.080" end="05:57:30.200" style="s2">freeze right we should be able to see</p>
<p begin="05:57:27.400" end="05:57:31.958" style="s2">that we have our email validator already</p>
<p begin="05:57:30.200" end="05:57:33.440" style="s2">installed uh if you don&#39;t have it</p>
<p begin="05:57:31.958" end="05:57:37.200" style="s2">installed for some reason just go ahead</p>
<p begin="05:57:33.440" end="05:57:40.080" style="s2">and do a pip install email Val validator</p>
<p begin="05:57:37.200" end="05:57:42.200" style="s2">and that should install that</p>
<p begin="05:57:40.080" end="05:57:44.120" style="s2">library and so what we&#39;ll do is from the</p>
<p begin="05:57:42.200" end="05:57:47.040" style="s2">pantic library we&#39;re going to</p>
<p begin="05:57:44.120" end="05:57:49.320" style="s2">import email</p>
<p begin="05:57:47.040" end="05:57:52.878" style="s2">string and then we can say this is going</p>
<p begin="05:57:49.320" end="05:57:54.280" style="s2">to be email uh of type email string so</p>
<p begin="05:57:52.878" end="05:57:58.000" style="s2">that&#39;s going to ensure that this is a</p>
<p begin="05:57:54.280" end="05:57:58.000" style="s2">valid email and not just some random</p>
<p begin="05:57:58.400" end="05:58:02.878" style="s2">text then back in our main.py</p>
<p begin="05:58:03.160" end="05:58:08.600" style="s2">file just like we did before we can say</p>
<p begin="05:58:05.558" end="05:58:12.080" style="s2">user and then this is going to use</p>
<p begin="05:58:08.600" end="05:58:12.080" style="s2">schema. userc</p>
<p begin="05:58:12.360" end="05:58:16.520" style="s2">create uh and so the email address and</p>
<p begin="05:58:15.200" end="05:58:17.920" style="s2">the password is going to be stored in an</p>
<p begin="05:58:16.520" end="05:58:21.680" style="s2">object called user there going to be a</p>
<p begin="05:58:17.920" end="05:58:24.440" style="s2">pantic uh object as well and uh if you</p>
<p begin="05:58:21.680" end="05:58:27.600" style="s2">forgot how to save data to uh the</p>
<p begin="05:58:24.440" end="05:58:29.000" style="s2">database or create something uh with SQL</p>
<p begin="05:58:27.600" end="05:58:31.920" style="s2">Alchemy just go ahead and take a look at</p>
<p begin="05:58:29.000" end="05:58:33.080" style="s2">the create posts and we can essentially</p>
<p begin="05:58:31.920" end="05:58:35.120" style="s2">just copy</p>
<p begin="05:58:33.080" end="05:58:38.040" style="s2">this and we&#39;re just going to rename a</p>
<p begin="05:58:35.120" end="05:58:38.040" style="s2">few things</p>
<p begin="05:58:39.400" end="05:58:42.040" style="s2">we&#39;ll say new</p>
<p begin="05:58:42.120" end="05:58:46.320" style="s2">user and then we&#39;re going to grab model.</p>
<p begin="05:58:44.680" end="05:58:48.638" style="s2">user</p>
<p begin="05:58:46.320" end="05:58:51.958" style="s2">now and then once again what we want to</p>
<p begin="05:58:48.638" end="05:58:54.440" style="s2">do is we want to take the user that we</p>
<p begin="05:58:51.958" end="05:58:56.320" style="s2">get back from here from our schema we</p>
<p begin="05:58:54.440" end="05:58:58.840" style="s2">want to convert it to a dictionary and</p>
<p begin="05:58:56.320" end="05:59:01.600" style="s2">then unpack that dictionary then we&#39;re</p>
<p begin="05:58:58.840" end="05:59:01.600" style="s2">going to add it to our</p>
<p begin="05:59:01.878" end="05:59:05.080" style="s2">database we&#39;re going to commit it then</p>
<p begin="05:59:03.840" end="05:59:08.040" style="s2">we&#39;re going to refresh it so we see the</p>
<p begin="05:59:05.080" end="05:59:08.040" style="s2">brand new user</p>
<p begin="05:59:10.478" end="05:59:14.360" style="s2">and then we can go ahead and just return</p>
<p begin="05:59:13.160" end="05:59:17.680" style="s2">new</p>
<p begin="05:59:14.360" end="05:59:20.680" style="s2">user all right let&#39;s give that a</p>
<p begin="05:59:17.680" end="05:59:23.120" style="s2">shot and then within our uh Postman we</p>
<p begin="05:59:20.680" end="05:59:26.080" style="s2">can right click on this select add</p>
<p begin="05:59:23.120" end="05:59:30.000" style="s2">request we&#39;re going to name this create</p>
<p begin="05:59:26.080" end="05:59:30.000" style="s2">user this is going to be a post</p>
<p begin="05:59:31.638" end="05:59:37.360" style="s2">request and then in the body we&#39;ll go to</p>
<p begin="05:59:34.200" end="05:59:41.040" style="s2">Raw once again and then Json</p>
<p begin="05:59:37.360" end="05:59:43.280" style="s2">and then here we can pass in the</p>
<p begin="05:59:41.040" end="05:59:45.638" style="s2">email we&#39;ll give it some random email so</p>
<p begin="05:59:43.280" end="05:59:49.040" style="s2">I&#39;ll call this Carl</p>
<p begin="05:59:45.638" end="05:59:49.040" style="s2">gmail.com and then</p>
<p begin="05:59:50.360" end="05:59:56.160" style="s2">password this will</p>
<p begin="05:59:53.040" end="05:59:59.000" style="s2">be password one</p>
<p begin="05:59:56.160" end="06:00:00.760" style="s2">two3 all right and then for the URL just</p>
<p begin="05:59:59.000" end="06:00:02.798" style="s2">copy</p>
<p begin="06:00:00.760" end="06:00:06.320" style="s2">posts and then here we&#39;ll just change</p>
<p begin="06:00:02.798" end="06:00:06.320" style="s2">this to users</p>
<p begin="06:00:07.680" end="06:00:10.840" style="s2">all right so let&#39;s give this a shot</p>
<p begin="06:00:08.920" end="06:00:13.080" style="s2">let&#39;s see if this</p>
<p begin="06:00:10.840" end="06:00:14.760" style="s2">works and it looks like it worked right</p>
<p begin="06:00:13.080" end="06:00:16.200" style="s2">we got the email we got the password</p>
<p begin="06:00:14.760" end="06:00:18.558" style="s2">back we got the created app and we&#39;ve</p>
<p begin="06:00:16.200" end="06:00:20.680" style="s2">got an ID but just to double check like</p>
<p begin="06:00:18.558" end="06:00:24.680" style="s2">we always do go ahead and go to your</p>
<p begin="06:00:20.680" end="06:00:27.360" style="s2">users table select query tool select</p>
<p begin="06:00:24.680" end="06:00:29.600" style="s2">star from users now because we&#39;re now</p>
<p begin="06:00:27.360" end="06:00:32.558" style="s2">querying no longer the post table we&#39;re</p>
<p begin="06:00:29.600" end="06:00:35.120" style="s2">querying the users table if I run this</p>
<p begin="06:00:32.558" end="06:00:36.760" style="s2">we can see that we do get the new email</p>
<p begin="06:00:35.120" end="06:00:38.320" style="s2">that we created or the new user that we</p>
<p begin="06:00:36.760" end="06:00:40.718" style="s2">created with Carl</p>
<p begin="06:00:38.320" end="06:00:43.600" style="s2">gmail.com now as a quick test just to</p>
<p begin="06:00:40.718" end="06:00:46.600" style="s2">make sure that email validator works uh</p>
<p begin="06:00:43.600" end="06:00:48.680" style="s2">I&#39;m going to change this and we&#39;ll just</p>
<p begin="06:00:46.600" end="06:00:50.400" style="s2">say some random text this is obviously</p>
<p begin="06:00:48.680" end="06:00:53.280" style="s2">not a valid email so let&#39;s see if it</p>
<p begin="06:00:50.400" end="06:00:55.040" style="s2">properly creates that user and it looks</p>
<p begin="06:00:53.280" end="06:00:56.840" style="s2">like our scheme of validator worked and</p>
<p begin="06:00:55.040" end="06:00:58.760" style="s2">says value is not a valid email address</p>
<p begin="06:00:56.840" end="06:01:00.160" style="s2">so you can see the powerfulness of the</p>
<p begin="06:00:58.760" end="06:01:01.638" style="s2">penic library being able to</p>
<p begin="06:01:00.160" end="06:01:04.400" style="s2">automatically check to see if that&#39;s a</p>
<p begin="06:01:01.638" end="06:01:06.080" style="s2">valid email address all right but one</p>
<p begin="06:01:04.400" end="06:01:09.040" style="s2">thing I didn&#39;t like about creating the</p>
<p begin="06:01:06.080" end="06:01:10.920" style="s2">user is that if we change this back to a</p>
<p begin="06:01:09.040" end="06:01:13.600" style="s2">valid email I&#39;ll say we just call this</p>
<p begin="06:01:10.920" end="06:01:16.360" style="s2">new user</p>
<p begin="06:01:13.600" end="06:01:18.200" style="s2">gmail.com we create that user you see</p>
<p begin="06:01:16.360" end="06:01:19.760" style="s2">that he gets his password back now why</p>
<p begin="06:01:18.200" end="06:01:21.440" style="s2">in the world would he want to see his</p>
<p begin="06:01:19.760" end="06:01:24.160" style="s2">password back there&#39;s no reason to ever</p>
<p begin="06:01:21.440" end="06:01:24.958" style="s2">send the password back to the user at</p>
<p begin="06:01:24.160" end="06:01:27.040" style="s2">any</p>
<p begin="06:01:24.958" end="06:01:28.718" style="s2">point uh and so one of the things I want</p>
<p begin="06:01:27.040" end="06:01:30.520" style="s2">to do is I want to Define our response</p>
<p begin="06:01:28.718" end="06:01:32.520" style="s2">model so that we never send back the</p>
<p begin="06:01:30.520" end="06:01:34.440" style="s2">user and I think you guys should already</p>
<p begin="06:01:32.520" end="06:01:35.680" style="s2">be able to do that but we&#39;ll walk I&#39;ll</p>
<p begin="06:01:34.440" end="06:01:38.638" style="s2">walk you through how to do that so let&#39;s</p>
<p begin="06:01:35.680" end="06:01:40.320" style="s2">go our schemas we&#39;ve got our user create</p>
<p begin="06:01:38.638" end="06:01:44.160" style="s2">let&#39;s create our let&#39;s create a new</p>
<p begin="06:01:40.320" end="06:01:46.280" style="s2">class and I&#39;ll call this um user out and</p>
<p begin="06:01:44.160" end="06:01:48.840" style="s2">so this is going to be uh the shape of</p>
<p begin="06:01:46.280" end="06:01:50.958" style="s2">our model when we send back the user uh</p>
<p begin="06:01:48.840" end="06:01:54.280" style="s2">to the client that requested it it&#39;s</p>
<p begin="06:01:50.958" end="06:01:54.280" style="s2">going to extend base model as</p>
<p begin="06:01:54.400" end="06:01:58.360" style="s2">well and here we&#39;re going to send out a</p>
<p begin="06:01:56.718" end="06:02:02.638" style="s2">couple things uh so there&#39;s going to be</p>
<p begin="06:01:58.360" end="06:02:05.120" style="s2">an ID now the user should know his ID</p>
<p begin="06:02:02.638" end="06:02:07.840" style="s2">email that&#39;s going to be of email string</p>
<p begin="06:02:05.120" end="06:02:07.840" style="s2">again</p>
<p begin="06:02:09.240" end="06:02:12.120" style="s2">and then we&#39;ll just leave out password</p>
<p begin="06:02:10.478" end="06:02:14.360" style="s2">so by leaving out password we won&#39;t ever</p>
<p begin="06:02:12.120" end="06:02:16.440" style="s2">send it back but just like we did with</p>
<p begin="06:02:14.360" end="06:02:20.478" style="s2">the post model remember this is going to</p>
<p begin="06:02:16.440" end="06:02:22.478" style="s2">be a SQL Alchemy um model that we get</p>
<p begin="06:02:20.478" end="06:02:24.280" style="s2">and we need pantic to convert it to a</p>
<p begin="06:02:22.478" end="06:02:26.958" style="s2">regular pantic model so we need this</p>
<p begin="06:02:24.280" end="06:02:26.958" style="s2">config right</p>
<p begin="06:02:29.520" end="06:02:37.240" style="s2">here and then in our path operation we</p>
<p begin="06:02:32.400" end="06:02:40.958" style="s2">can set the response model to be scheme</p>
<p begin="06:02:37.240" end="06:02:40.958" style="s2">m. user</p>
<p begin="06:02:43.680" end="06:02:49.558" style="s2">out all right and then now if I just</p>
<p begin="06:02:47.680" end="06:02:50.680" style="s2">change the fields up a little bit create</p>
<p begin="06:02:49.558" end="06:02:54.360" style="s2">a new</p>
<p begin="06:02:50.680" end="06:02:55.718" style="s2">email you can see that we get the ID and</p>
<p begin="06:02:54.360" end="06:02:57.680" style="s2">the email as well but there&#39;s no</p>
<p begin="06:02:55.718" end="06:03:00.120" style="s2">password and that&#39;s exactly what we want</p>
<p begin="06:02:57.680" end="06:03:03.160" style="s2">and so now you guys should be fairly</p>
<p begin="06:03:00.120" end="06:03:05.280" style="s2">comfortable with um being able to define</p>
<p begin="06:03:03.160" end="06:03:06.638" style="s2">a response model as well as an uh a</p>
<p begin="06:03:05.280" end="06:03:08.760" style="s2">request model model so that you can pick</p>
<p begin="06:03:06.638" end="06:03:10.440" style="s2">and choose whatever field you want one</p>
<p begin="06:03:08.760" end="06:03:11.958" style="s2">last change I want to make is I want to</p>
<p begin="06:03:10.440" end="06:03:14.400" style="s2">go ahead and just add the created at</p>
<p begin="06:03:11.958" end="06:03:18.680" style="s2">field as</p>
<p begin="06:03:14.400" end="06:03:18.680" style="s2">well and we can just copy this right</p>
<p begin="06:03:20.920" end="06:03:25.958" style="s2">here so now just create another email</p>
<p begin="06:03:24.520" end="06:03:28.558" style="s2">right and now we get the creative field</p>
<p begin="06:03:25.958" end="06:03:30.718" style="s2">so we got all the fields that we want in</p>
<p begin="06:03:28.558" end="06:03:33.400" style="s2">the last lesson we handled the logic for</p>
<p begin="06:03:30.718" end="06:03:35.400" style="s2">creating a new user but for a lot of the</p>
<p begin="06:03:33.400" end="06:03:37.040" style="s2">people that are familiar with security</p>
<p begin="06:03:35.400" end="06:03:39.120" style="s2">I&#39;m sure you guys may have had a little</p>
<p begin="06:03:37.040" end="06:03:41.200" style="s2">bit of a heart attack because we did</p>
<p begin="06:03:39.120" end="06:03:43.240" style="s2">something that&#39;s very very frowned upon</p>
<p begin="06:03:41.200" end="06:03:45.000" style="s2">we took the user&#39;s password and we just</p>
<p begin="06:03:43.240" end="06:03:46.958" style="s2">stored it as plain text within our</p>
<p begin="06:03:45.000" end="06:03:48.360" style="s2">database and some of you might be</p>
<p begin="06:03:46.958" end="06:03:50.240" style="s2">thinking well what&#39;s the problem with</p>
<p begin="06:03:48.360" end="06:03:52.160" style="s2">that right it&#39;s in our secure database</p>
<p begin="06:03:50.240" end="06:03:53.760" style="s2">well right our database is secure for</p>
<p begin="06:03:52.160" end="06:03:56.040" style="s2">now but there are hacks there are things</p>
<p begin="06:03:53.760" end="06:03:57.520" style="s2">that can happen you know these uh all of</p>
<p begin="06:03:56.040" end="06:04:00.600" style="s2">these records could potentially get</p>
<p begin="06:03:57.520" end="06:04:02.878" style="s2">leaked in some fashion and it&#39;s very</p>
<p begin="06:04:00.600" end="06:04:04.638" style="s2">dangerous to just have a user&#39;s password</p>
<p begin="06:04:02.878" end="06:04:06.520" style="s2">just stored in plain text like this that</p>
<p begin="06:04:04.638" end="06:04:08.240" style="s2">anyone can read so when it comes to</p>
<p begin="06:04:06.520" end="06:04:09.320" style="s2">working with passwords and databases</p>
<p begin="06:04:08.240" end="06:04:11.558" style="s2">what you always want to do is you want</p>
<p begin="06:04:09.320" end="06:04:13.080" style="s2">to Hash the password so we never store</p>
<p begin="06:04:11.558" end="06:04:14.958" style="s2">the actual password in our database we</p>
<p begin="06:04:13.080" end="06:04:17.000" style="s2">just store a hash of it so that if it</p>
<p begin="06:04:14.958" end="06:04:18.840" style="s2">does get leaked well no biggie because</p>
<p begin="06:04:17.000" end="06:04:20.440" style="s2">it&#39;s ultimately just a hash you can&#39;t</p>
<p begin="06:04:18.840" end="06:04:22.558" style="s2">really reverse engineer that hash and</p>
<p begin="06:04:20.440" end="06:04:25.320" style="s2">get the original password back so in</p>
<p begin="06:04:22.558" end="06:04:27.320" style="s2">this lesson we&#39;re going to focus on uh</p>
<p begin="06:04:25.320" end="06:04:28.840" style="s2">hashing the password when a user first</p>
<p begin="06:04:27.320" end="06:04:31.360" style="s2">registers so that we never actually</p>
<p begin="06:04:28.840" end="06:04:33.638" style="s2">store the raw password within the</p>
<p begin="06:04:31.360" end="06:04:35.760" style="s2">database and within our fast API</p>
<p begin="06:04:33.638" end="06:04:37.840" style="s2">documentation they have a good article</p>
<p begin="06:04:35.760" end="06:04:39.920" style="s2">that kind of covers how to do that so if</p>
<p begin="06:04:37.840" end="06:04:42.080" style="s2">you go under uh security and then oath</p>
<p begin="06:04:39.920" end="06:04:43.680" style="s2">to with password it&#39;ll show you what we</p>
<p begin="06:04:42.080" end="06:04:45.400" style="s2">actually need to do when it comes to</p>
<p begin="06:04:43.680" end="06:04:46.400" style="s2">hashing so there&#39;s two libraries that we</p>
<p begin="06:04:45.400" end="06:04:48.840" style="s2">need to</p>
<p begin="06:04:46.400" end="06:04:50.878" style="s2">install right we need pass</p>
<p begin="06:04:48.840" end="06:04:52.798" style="s2">lib uh and so that&#39;s going to kind of</p>
<p begin="06:04:50.878" end="06:04:54.680" style="s2">handle the hashing but we need to</p>
<p begin="06:04:52.798" end="06:04:56.040" style="s2">actually specify a specific algorithm</p>
<p begin="06:04:54.680" end="06:04:58.000" style="s2">because passlib can work with different</p>
<p begin="06:04:56.040" end="06:04:59.760" style="s2">algorithms one of the more popular ones</p>
<p begin="06:04:58.000" end="06:05:01.280" style="s2">is bcrypt so we&#39;ll need two different</p>
<p begin="06:04:59.760" end="06:05:03.360" style="s2">libraries we&#39;ll need the pass lib and</p>
<p begin="06:05:01.280" end="06:05:05.120" style="s2">then the B library and we can just do</p>
<p begin="06:05:03.360" end="06:05:07.718" style="s2">that by running pip install passlib</p>
<p begin="06:05:05.120" end="06:05:11.120" style="s2">bcrypt so I&#39;ll just copy</p>
<p begin="06:05:07.718" end="06:05:13.240" style="s2">this we&#39;ll go to our</p>
<p begin="06:05:11.120" end="06:05:15.400" style="s2">application and I&#39;m just going to run</p>
<p begin="06:05:13.240" end="06:05:15.400" style="s2">that</p>
<p begin="06:05:16.000" end="06:05:20.360" style="s2">command all right and then let&#39;s just do</p>
<p begin="06:05:17.958" end="06:05:23.200" style="s2">a pip freeze just to make sure it got</p>
<p begin="06:05:20.360" end="06:05:25.798" style="s2">installed and we see pass lib there now</p>
<p begin="06:05:23.200" end="06:05:27.920" style="s2">and then do we see bcrypt and we see</p>
<p begin="06:05:25.798" end="06:05:29.478" style="s2">bcrypt in there as well so we&#39;ve got</p>
<p begin="06:05:27.920" end="06:05:31.878" style="s2">both of the libraries that we need to</p>
<p begin="06:05:29.478" end="06:05:35.878" style="s2">actually perform the hashing so let&#39;s go</p>
<p begin="06:05:31.878" end="06:05:40.798" style="s2">to our main file and somewhere up up at</p>
<p begin="06:05:35.878" end="06:05:42.798" style="s2">the top I&#39;m going to import from passlib</p>
<p begin="06:05:40.798" end="06:05:47.718" style="s2">do</p>
<p begin="06:05:42.798" end="06:05:47.718" style="s2">context import crypto</p>
<p begin="06:05:48.280" end="06:05:53.120" style="s2">context and then what we need to do is</p>
<p begin="06:05:50.958" end="06:05:57.718" style="s2">some place below that we have to Define</p>
<p begin="06:05:53.120" end="06:06:00.280" style="s2">this setting right here so we do PWD</p>
<p begin="06:05:57.718" end="06:06:02.320" style="s2">context equals and then we reference</p>
<p begin="06:06:00.280" end="06:06:04.920" style="s2">that crypto</p>
<p begin="06:06:02.320" end="06:06:07.040" style="s2">context and then here we say schemas</p>
<p begin="06:06:04.920" end="06:06:10.000" style="s2">equals</p>
<p begin="06:06:07.040" end="06:06:10.000" style="s2">brackets</p>
<p begin="06:06:10.080" end="06:06:13.718" style="s2">bcrypt and then we&#39;ll do</p>
<p begin="06:06:17.920" end="06:06:22.040" style="s2">deprecated equals</p>
<p begin="06:06:20.040" end="06:06:24.920" style="s2">Auto all right and so basically all</p>
<p begin="06:06:22.040" end="06:06:27.040" style="s2">we&#39;re doing is and this should actually</p>
<p begin="06:06:24.920" end="06:06:29.080" style="s2">be a</p>
<p begin="06:06:27.040" end="06:06:31.040" style="s2">string uh all we&#39;re doing right here is</p>
<p begin="06:06:29.080" end="06:06:33.280" style="s2">we&#39;re telling pass lib what is the</p>
<p begin="06:06:31.040" end="06:06:34.760" style="s2">default hashing algorithm or what</p>
<p begin="06:06:33.280" end="06:06:36.320" style="s2">hashing algorithm do we want to use in</p>
<p begin="06:06:34.760" end="06:06:38.600" style="s2">this case we want to use is bcrypt so</p>
<p begin="06:06:36.320" end="06:06:42.120" style="s2">that&#39;s all this is</p>
<p begin="06:06:38.600" end="06:06:44.040" style="s2">doing now when we go to our user</p>
<p begin="06:06:42.120" end="06:06:47.320" style="s2">registration down</p>
<p begin="06:06:44.040" end="06:06:49.920" style="s2">here we have to do a couple</p>
<p begin="06:06:47.320" end="06:06:51.840" style="s2">things and so before we actually create</p>
<p begin="06:06:49.920" end="06:06:53.280" style="s2">the user we need to actually create the</p>
<p begin="06:06:51.840" end="06:06:56.120" style="s2">hash of the</p>
<p begin="06:06:53.280" end="06:06:58.200" style="s2">password so the first thing is whoops</p>
<p begin="06:06:56.120" end="06:07:02.040" style="s2">that&#39;s we&#39;re not in JavaScript land</p>
<p begin="06:06:58.200" end="06:07:04.600" style="s2">we&#39;re going to Hash the password</p>
<p begin="06:07:02.040" end="06:07:06.160" style="s2">which can be retrieved from user.</p>
<p begin="06:07:04.600" end="06:07:08.840" style="s2">password right because that&#39;s going to</p>
<p begin="06:07:06.160" end="06:07:11.080" style="s2">be stored inside this object and so how</p>
<p begin="06:07:08.840" end="06:07:11.958" style="s2">do we exactly do that well what we can</p>
<p begin="06:07:11.080" end="06:07:14.360" style="s2">do</p>
<p begin="06:07:11.958" end="06:07:15.878" style="s2">is all we have to do is reference that</p>
<p begin="06:07:14.360" end="06:07:17.440" style="s2">password context right if you forgot</p>
<p begin="06:07:15.878" end="06:07:20.600" style="s2">what that is just go all the way up to</p>
<p begin="06:07:17.440" end="06:07:23.760" style="s2">the top that&#39;s this Command right here</p>
<p begin="06:07:20.600" end="06:07:23.760" style="s2">so we reference password</p>
<p begin="06:07:24.080" end="06:07:28.040" style="s2">context and we call the hash method so</p>
<p begin="06:07:26.638" end="06:07:32.718" style="s2">that&#39;s going to perform a hash and then</p>
<p begin="06:07:28.040" end="06:07:32.718" style="s2">we just pass in user.</p>
<p begin="06:07:34.440" end="06:07:39.080" style="s2">password and then we can store this in a</p>
<p begin="06:07:36.558" end="06:07:42.600" style="s2">variable called uh</p>
<p begin="06:07:39.080" end="06:07:42.600" style="s2">hashed _</p>
<p begin="06:07:44.360" end="06:07:48.320" style="s2">password and then what we&#39;re going to do</p>
<p begin="06:07:46.240" end="06:07:50.240" style="s2">here is we&#39;re going to take the user.</p>
<p begin="06:07:48.320" end="06:07:52.798" style="s2">password and we&#39;re going to set that now</p>
<p begin="06:07:50.240" end="06:07:57.040" style="s2">to the new hashed password that&#39;s going</p>
<p begin="06:07:52.798" end="06:07:57.040" style="s2">to update the pantic user</p>
<p begin="06:07:57.120" end="06:08:01.478" style="s2">model and then at that point we can just</p>
<p begin="06:07:59.200" end="06:08:03.360" style="s2">leave everything as is right so we</p>
<p begin="06:08:01.478" end="06:08:04.878" style="s2">hashed the password so we got a hash and</p>
<p begin="06:08:03.360" end="06:08:06.160" style="s2">then we stored it under user password</p>
<p begin="06:08:04.878" end="06:08:08.200" style="s2">and then everything else can just be</p>
<p begin="06:08:06.160" end="06:08:09.958" style="s2">kept the same so let&#39;s actually try this</p>
<p begin="06:08:08.200" end="06:08:11.798" style="s2">out and let me just double check to see</p>
<p begin="06:08:09.958" end="06:08:13.240" style="s2">there&#39;s no errors and there isn&#39;t so</p>
<p begin="06:08:11.798" end="06:08:16.600" style="s2">let&#39;s create a brand new user and I&#39;ll</p>
<p begin="06:08:13.240" end="06:08:20.520" style="s2">call this Mark atgmailcom</p>
<p begin="06:08:16.600" end="06:08:22.280" style="s2">same password that&#39;s fine send it looks</p>
<p begin="06:08:20.520" end="06:08:24.798" style="s2">like everything worked and then let&#39;s</p>
<p begin="06:08:22.280" end="06:08:26.478" style="s2">just run this and then if you see that</p>
<p begin="06:08:24.798" end="06:08:29.760" style="s2">most recent user you can see that we no</p>
<p begin="06:08:26.478" end="06:08:31.320" style="s2">longer store the raw password we store a</p>
<p begin="06:08:29.760" end="06:08:33.160" style="s2">hash of it and so that&#39;s going to help</p>
<p begin="06:08:31.320" end="06:08:34.840" style="s2">it be a little bit more secure because</p>
<p begin="06:08:33.160" end="06:08:37.080" style="s2">if it does leak then you know the</p>
<p begin="06:08:34.840" end="06:08:39.000" style="s2">hackers will only get access to a hashed</p>
<p begin="06:08:37.080" end="06:08:40.760" style="s2">password and they can&#39;t exactly uh</p>
<p begin="06:08:39.000" end="06:08:42.718" style="s2">convert it back to the original password</p>
<p begin="06:08:40.760" end="06:08:45.080" style="s2">that&#39;s the great part about hashing it&#39;s</p>
<p begin="06:08:42.718" end="06:08:47.240" style="s2">a one-way Street we hash it we only get</p>
<p begin="06:08:45.080" end="06:08:48.718" style="s2">the final password you can never put it</p>
<p begin="06:08:47.240" end="06:08:51.718" style="s2">back into a function to convert it back</p>
<p begin="06:08:48.718" end="06:08:53.680" style="s2">to a password now one thing I want to do</p>
<p begin="06:08:51.718" end="06:08:56.478" style="s2">is I want to extract all of the hashing</p>
<p begin="06:08:53.680" end="06:08:58.840" style="s2">logic and store it in its own function</p>
<p begin="06:08:56.478" end="06:09:01.958" style="s2">so I&#39;m going to create a new file I&#39;m</p>
<p begin="06:08:58.840" end="06:09:03.120" style="s2">going to call this utils.py these are</p>
<p begin="06:09:01.958" end="06:09:05.558" style="s2">this file is just going to hold a bunch</p>
<p begin="06:09:03.120" end="06:09:07.840" style="s2">of utility functions and what going to</p>
<p begin="06:09:05.558" end="06:09:11.478" style="s2">do is I&#39;m going to go to our main</p>
<p begin="06:09:07.840" end="06:09:14.160" style="s2">file and I&#39;m going to remove this line</p>
<p begin="06:09:11.478" end="06:09:16.280" style="s2">or cut it and we&#39;re going to paste it</p>
<p begin="06:09:14.160" end="06:09:18.320" style="s2">into my utils file and then we&#39;re also</p>
<p begin="06:09:16.280" end="06:09:21.478" style="s2">going to cut this out and we&#39;re going to</p>
<p begin="06:09:18.320" end="06:09:23.478" style="s2">move all of this logic into</p>
<p begin="06:09:21.478" end="06:09:25.320" style="s2">here and then we&#39;re going to define a</p>
<p begin="06:09:23.478" end="06:09:26.680" style="s2">function that we can call and I&#39;m going</p>
<p begin="06:09:25.320" end="06:09:29.798" style="s2">to call this function</p>
<p begin="06:09:26.680" end="06:09:31.840" style="s2">hash and it&#39;s going to take a password</p>
<p begin="06:09:29.798" end="06:09:34.120" style="s2">which is going to be of type</p>
<p begin="06:09:31.840" end="06:09:37.160" style="s2">string and all it&#39;s going to do is it&#39;s</p>
<p begin="06:09:34.120" end="06:09:39.558" style="s2">going to return PWD</p>
<p begin="06:09:37.160" end="06:09:43.080" style="s2">context. of whatever the password the</p>
<p begin="06:09:39.558" end="06:09:46.240" style="s2">user passes in and that way we uh really</p>
<p begin="06:09:43.080" end="06:09:48.360" style="s2">extract and place all of the hashing</p>
<p begin="06:09:46.240" end="06:09:50.200" style="s2">logic into one file or one function so</p>
<p begin="06:09:48.360" end="06:09:52.760" style="s2">we don&#39;t have to import all of this</p>
<p begin="06:09:50.200" end="06:09:57.558" style="s2">nonsense into other files and then in</p>
<p begin="06:09:52.760" end="06:09:57.558" style="s2">our main.py file we can import</p>
<p begin="06:10:00.440" end="06:10:05.718" style="s2">utils and then down here what we can do</p>
<p begin="06:10:03.558" end="06:10:07.718" style="s2">is instead of calling this this I can</p>
<p begin="06:10:05.718" end="06:10:09.760" style="s2">just call utils</p>
<p begin="06:10:07.718" end="06:10:13.080" style="s2">do</p>
<p begin="06:10:09.760" end="06:10:14.718" style="s2">hash and then we&#39;ll pass in the user.</p>
<p begin="06:10:13.080" end="06:10:17.080" style="s2">password</p>
<p begin="06:10:14.718" end="06:10:19.718" style="s2">again and this shouldn&#39;t really change</p>
<p begin="06:10:17.080" end="06:10:22.600" style="s2">anything else in our</p>
<p begin="06:10:19.718" end="06:10:25.920" style="s2">code let&#39;s try this again I&#39;ll create a</p>
<p begin="06:10:22.600" end="06:10:28.558" style="s2">I&#39;ll just add a one here send seems to</p>
<p begin="06:10:25.920" end="06:10:32.120" style="s2">work let&#39;s just double check and the</p>
<p begin="06:10:28.558" end="06:10:34.280" style="s2">second user the password was properly</p>
<p begin="06:10:32.120" end="06:10:35.798" style="s2">hashed the next thing I want to do is I</p>
<p begin="06:10:34.280" end="06:10:37.840" style="s2">want to set up a route or a path</p>
<p begin="06:10:35.798" end="06:10:39.920" style="s2">operation that allows you to fetch and</p>
<p begin="06:10:37.840" end="06:10:42.440" style="s2">retrieve information about a user based</p>
<p begin="06:10:39.920" end="06:10:44.798" style="s2">off of their ID and there&#39;s a couple of</p>
<p begin="06:10:42.440" end="06:10:46.760" style="s2">different reasons why I want to do this</p>
<p begin="06:10:44.798" end="06:10:48.478" style="s2">uh one of them is uh it can be part of</p>
<p begin="06:10:46.760" end="06:10:50.680" style="s2">the authentication process so depending</p>
<p begin="06:10:48.478" end="06:10:54.760" style="s2">on how you set up the front end uh if</p>
<p begin="06:10:50.680" end="06:10:57.520" style="s2">you decide to you know set up JWT tokens</p>
<p begin="06:10:54.760" end="06:10:58.958" style="s2">to get sent as cookies uh then the front</p>
<p begin="06:10:57.520" end="06:11:01.360" style="s2">end may not actually know whether it&#39;s</p>
<p begin="06:10:58.958" end="06:11:04.080" style="s2">logged in or not and so a lot of times</p>
<p begin="06:11:01.360" end="06:11:05.718" style="s2">you&#39;ll see some apis have an endpoint to</p>
<p begin="06:11:04.080" end="06:11:07.878" style="s2">let you kind of retrieve information</p>
<p begin="06:11:05.718" end="06:11:09.080" style="s2">about your own account uh and so if</p>
<p begin="06:11:07.878" end="06:11:10.840" style="s2">you&#39;re able to access it that means</p>
<p begin="06:11:09.080" end="06:11:13.520" style="s2">you&#39;re logged in if you&#39;re not then um</p>
<p begin="06:11:10.840" end="06:11:16.040" style="s2">you know that you need to fetch a new</p>
<p begin="06:11:13.520" end="06:11:17.920" style="s2">token uh also there&#39;s other reasons why</p>
<p begin="06:11:16.040" end="06:11:19.840" style="s2">you want to do this too uh you know if</p>
<p begin="06:11:17.920" end="06:11:21.400" style="s2">you&#39;re you know thinking taking a look</p>
<p begin="06:11:19.840" end="06:11:23.478" style="s2">at something like Twitter right you need</p>
<p begin="06:11:21.400" end="06:11:25.680" style="s2">to retrieve a user&#39;s profile if you want</p>
<p begin="06:11:23.478" end="06:11:26.798" style="s2">to view it and so uh in your API you&#39;re</p>
<p begin="06:11:25.680" end="06:11:28.558" style="s2">going to have to set up a route so that</p>
<p begin="06:11:26.798" end="06:11:30.280" style="s2">people can retrieve someone&#39;s profile</p>
<p begin="06:11:28.558" end="06:11:31.600" style="s2">information uh and so that&#39;s why I want</p>
<p begin="06:11:30.280" end="06:11:32.958" style="s2">to set up this route I haven&#39;t really</p>
<p begin="06:11:31.600" end="06:11:34.718" style="s2">decided what we&#39;re going to ultimately</p>
<p begin="06:11:32.958" end="06:11:36.638" style="s2">do with it but for now I just want to</p>
<p begin="06:11:34.718" end="06:11:38.360" style="s2">set it up so so that you can retrieve uh</p>
<p begin="06:11:36.638" end="06:11:40.638" style="s2">information about a specific user based</p>
<p begin="06:11:38.360" end="06:11:42.638" style="s2">off of their ID let&#39;s go to the bottom</p>
<p begin="06:11:40.638" end="06:11:44.798" style="s2">of our code here and we&#39;ll Create A New</p>
<p begin="06:11:42.638" end="06:11:49.080" style="s2">Path</p>
<p begin="06:11:44.798" end="06:11:49.080" style="s2">operation and I&#39;ll call this a get</p>
<p begin="06:11:52.478" end="06:11:56.600" style="s2">user and before we do that I&#39;m also</p>
<p begin="06:11:54.680" end="06:11:57.840" style="s2">going to set up The Decorator so this is</p>
<p begin="06:11:56.600" end="06:11:58.840" style="s2">going to be a get operation because</p>
<p begin="06:11:57.840" end="06:12:00.240" style="s2">we&#39;re going to treat the information</p>
<p begin="06:11:58.840" end="06:12:03.558" style="s2">about a specific</p>
<p begin="06:12:00.240" end="06:12:05.958" style="s2">user and the specific path is going to</p>
<p begin="06:12:03.558" end="06:12:08.280" style="s2">be slash users and then</p>
<p begin="06:12:05.958" end="06:12:09.840" style="s2">slid so kind of like how we did when it</p>
<p begin="06:12:08.280" end="06:12:12.240" style="s2">comes to retrieving a specific post</p>
<p begin="06:12:09.840" end="06:12:14.718" style="s2">we&#39;re going to pass in the ID in the URL</p>
<p begin="06:12:12.240" end="06:12:17.040" style="s2">and then we have to extract the</p>
<p begin="06:12:14.718" end="06:12:19.600" style="s2">ID and I&#39;m going to make sure that we uh</p>
<p begin="06:12:17.040" end="06:12:20.520" style="s2">validate it as an integer and the next</p>
<p begin="06:12:19.600" end="06:12:21.478" style="s2">thing that we have to do is since we&#39;re</p>
<p begin="06:12:20.520" end="06:12:24.240" style="s2">going to be interacting with the</p>
<p begin="06:12:21.478" end="06:12:26.360" style="s2">database we need our DB right here so</p>
<p begin="06:12:24.240" end="06:12:29.200" style="s2">we&#39;ll copy</p>
<p begin="06:12:26.360" end="06:12:30.840" style="s2">that and then in our uh actual function</p>
<p begin="06:12:29.200" end="06:12:34.320" style="s2">we&#39;re going to do a quick query so we&#39;ll</p>
<p begin="06:12:30.840" end="06:12:36.240" style="s2">do db. query and then we&#39;ll grab models.</p>
<p begin="06:12:34.320" end="06:12:37.920" style="s2">user</p>
<p begin="06:12:36.240" end="06:12:40.280" style="s2">and I&#39;ll say I want to</p>
<p begin="06:12:37.920" end="06:12:44.718" style="s2">filter uh and then look for something</p>
<p begin="06:12:40.280" end="06:12:46.040" style="s2">with models. user. ID equals equals and</p>
<p begin="06:12:44.718" end="06:12:48.440" style="s2">then it&#39;s going to match up with the ID</p>
<p begin="06:12:46.040" end="06:12:48.440" style="s2">that they</p>
<p begin="06:12:49.120" end="06:12:53.200" style="s2">requested and because there should only</p>
<p begin="06:12:51.240" end="06:12:54.440" style="s2">be one user with a specific ID we&#39;re</p>
<p begin="06:12:53.200" end="06:12:55.878" style="s2">going to just grab the first one so we</p>
<p begin="06:12:54.440" end="06:12:57.958" style="s2">don&#39;t spend extra resources looking</p>
<p begin="06:12:55.878" end="06:12:59.638" style="s2">through the rest of our</p>
<p begin="06:12:57.958" end="06:13:02.120" style="s2">database and we&#39;re going to store this</p>
<p begin="06:12:59.638" end="06:13:04.558" style="s2">in a variable called</p>
<p begin="06:13:02.120" end="06:13:08.280" style="s2">user all right and then uh just like we</p>
<p begin="06:13:04.558" end="06:13:10.440" style="s2">did for fetching a specific uh post if a</p>
<p begin="06:13:08.280" end="06:13:15.040" style="s2">user was not found so if not</p>
<p begin="06:13:10.440" end="06:13:19.160" style="s2">user we&#39;ll say we want to raise an HTTP</p>
<p begin="06:13:15.040" end="06:13:23.478" style="s2">exception and we&#39;ll say the status code</p>
<p begin="06:13:19.160" end="06:13:27.920" style="s2">equals 404 whoops</p>
<p begin="06:13:23.478" end="06:13:27.920" style="s2">HTTP status Dot and then we&#39;ll grab</p>
<p begin="06:13:30.200" end="06:13:40.040" style="s2">404 and the detail is going to be</p>
<p begin="06:13:35.680" end="06:13:42.878" style="s2">user with ID and we&#39;ll pass in the</p>
<p begin="06:13:40.040" end="06:13:46.120" style="s2">ID does not</p>
<p begin="06:13:42.878" end="06:13:49.360" style="s2">exist but if the user is properly</p>
<p begin="06:13:46.120" end="06:13:51.520" style="s2">found we will return the</p>
<p begin="06:13:49.360" end="06:13:55.120" style="s2">user and it looks like there&#39;s some kind</p>
<p begin="06:13:51.520" end="06:13:56.558" style="s2">of weird issue with my formatting so all</p>
<p begin="06:13:55.120" end="06:13:58.840" style="s2">right there we</p>
<p begin="06:13:56.558" end="06:14:00.600" style="s2">go and so let&#39;s just quickly test this</p>
<p begin="06:13:58.840" end="06:14:01.878" style="s2">out so once again I&#39;m going to create a</p>
<p begin="06:14:00.600" end="06:14:04.000" style="s2">new request and we&#39;re going to make sure</p>
<p begin="06:14:01.878" end="06:14:07.040" style="s2">to save this one and I&#39;m going to call</p>
<p begin="06:14:04.000" end="06:14:07.040" style="s2">this a get user</p>
<p begin="06:14:10.040" end="06:14:13.798" style="s2">copy this URL it&#39;s going to be the same</p>
<p begin="06:14:12.600" end="06:14:15.280" style="s2">same route it&#39;s just going to be a get</p>
<p begin="06:14:13.798" end="06:14:18.120" style="s2">operation and then we want to send a</p>
<p begin="06:14:15.280" end="06:14:20.840" style="s2">specific ID so uh take a look at your</p>
<p begin="06:14:18.120" end="06:14:23.360" style="s2">database and then see if you can grab uh</p>
<p begin="06:14:20.840" end="06:14:26.600" style="s2">an ID that does exist so we&#39;ll just say</p>
<p begin="06:14:23.360" end="06:14:28.878" style="s2">one we&#39;ll hit</p>
<p begin="06:14:26.600" end="06:14:30.160" style="s2">send and it looks like there&#39;s some kind</p>
<p begin="06:14:28.878" end="06:14:32.638" style="s2">of issue because I&#39;m not getting a</p>
<p begin="06:14:30.160" end="06:14:36.760" style="s2">response yet but let me cancel out of</p>
<p begin="06:14:32.638" end="06:14:36.760" style="s2">that and let&#39;s see what we did wrong</p>
<p begin="06:14:41.798" end="06:14:45.000" style="s2">and I realized I forgot to do</p>
<p begin="06:14:48.280" end="06:14:52.040" style="s2">app.get great so we actually got the</p>
<p begin="06:14:50.360" end="06:14:54.400" style="s2">user everything seems to be working</p>
<p begin="06:14:52.040" end="06:14:57.600" style="s2">however there&#39;s one little</p>
<p begin="06:14:54.400" end="06:14:59.040" style="s2">issue uh first of all we should not be</p>
<p begin="06:14:57.600" end="06:15:00.400" style="s2">getting the password right we never want</p>
<p begin="06:14:59.040" end="06:15:02.718" style="s2">to return the password to the user the</p>
<p begin="06:15:00.400" end="06:15:04.638" style="s2">user already knows his password and uh</p>
<p begin="06:15:02.718" end="06:15:06.718" style="s2">also if you want to if this route is so</p>
<p begin="06:15:04.638" end="06:15:08.000" style="s2">that you can retrieve a user&#39;s profile</p>
<p begin="06:15:06.718" end="06:15:09.400" style="s2">uh kind of like you can on Twitter</p>
<p begin="06:15:08.000" end="06:15:11.240" style="s2">Instagram then we&#39;re sharing someone</p>
<p begin="06:15:09.400" end="06:15:13.478" style="s2">else&#39;s password and that&#39;s a little bit</p>
<p begin="06:15:11.240" end="06:15:15.040" style="s2">of an issue uh and the reason why this</p>
<p begin="06:15:13.478" end="06:15:17.600" style="s2">isn&#39;t a hashed password was because I</p>
<p begin="06:15:15.040" end="06:15:20.280" style="s2">didn&#39;t clear out my database uh before</p>
<p begin="06:15:17.600" end="06:15:21.638" style="s2">we implemented the uh the hashing uh of</p>
<p begin="06:15:20.280" end="06:15:23.798" style="s2">the password so that&#39;s why it&#39;s in clear</p>
<p begin="06:15:21.638" end="06:15:25.638" style="s2">text but whether it&#39;s hashed or not you</p>
<p begin="06:15:23.798" end="06:15:26.798" style="s2">never want to send this out right you</p>
<p begin="06:15:25.638" end="06:15:27.920" style="s2">don&#39;t want anyone else to see your</p>
<p begin="06:15:26.798" end="06:15:29.520" style="s2">password you don&#39;t even want the user to</p>
<p begin="06:15:27.920" end="06:15:31.320" style="s2">see their own password because someone</p>
<p begin="06:15:29.520" end="06:15:32.760" style="s2">else could intercept it and potentially</p>
<p begin="06:15:31.320" end="06:15:34.558" style="s2">do malicious activity with that</p>
<p begin="06:15:32.760" end="06:15:37.798" style="s2">information so what we&#39;re going to do is</p>
<p begin="06:15:34.558" end="06:15:39.478" style="s2">we&#39;re going to filter out that specific</p>
<p begin="06:15:37.798" end="06:15:41.120" style="s2">field just the password field I want</p>
<p begin="06:15:39.478" end="06:15:43.160" style="s2">them to be able to get the ID the</p>
<p begin="06:15:41.120" end="06:15:45.680" style="s2">created at field and the email and any</p>
<p begin="06:15:43.160" end="06:15:48.040" style="s2">other fields outside of the</p>
<p begin="06:15:45.680" end="06:15:50.840" style="s2">password and fortunately for us if we go</p>
<p begin="06:15:48.040" end="06:15:52.638" style="s2">to our schemas uh we&#39;ve actually already</p>
<p begin="06:15:50.840" end="06:15:55.638" style="s2">defined</p>
<p begin="06:15:52.638" end="06:15:58.120" style="s2">a a schema for the user out so this is</p>
<p begin="06:15:55.638" end="06:16:00.798" style="s2">going to be uh any information about the</p>
<p begin="06:15:58.120" end="06:16:04.120" style="s2">specific user except we&#39;re extracting</p>
<p begin="06:16:00.798" end="06:16:05.558" style="s2">out the specific password and so we can</p>
<p begin="06:16:04.120" end="06:16:06.798" style="s2">just set the respon response model to be</p>
<p begin="06:16:05.558" end="06:16:09.280" style="s2">user</p>
<p begin="06:16:06.798" end="06:16:10.920" style="s2">out and we&#39;ll go back to main.py and</p>
<p begin="06:16:09.280" end="06:16:16.280" style="s2">we&#39;ll say</p>
<p begin="06:16:10.920" end="06:16:18.760" style="s2">response. model sorry response uncore</p>
<p begin="06:16:16.280" end="06:16:21.680" style="s2">model equals</p>
<p begin="06:16:18.760" end="06:16:23.878" style="s2">schemas do user</p>
<p begin="06:16:21.680" end="06:16:25.840" style="s2">out all right we&#39;ll save this and we&#39;ll</p>
<p begin="06:16:23.878" end="06:16:28.240" style="s2">try this again so we&#39;ll retrieve this</p>
<p begin="06:16:25.840" end="06:16:31.718" style="s2">user and we still got the password so</p>
<p begin="06:16:28.240" end="06:16:31.718" style="s2">what happened here</p>
<p begin="06:16:35.840" end="06:16:39.958" style="s2">and this could just be an issue of me</p>
<p begin="06:16:37.080" end="06:16:42.638" style="s2">not saving so let&#39;s try this again still</p>
<p begin="06:16:39.958" end="06:16:42.638" style="s2">a little bit of an</p>
<p begin="06:16:44.320" end="06:16:47.600" style="s2">issue and let&#39;s just make sure I</p>
<p begin="06:16:46.200" end="06:16:51.240" style="s2">imported</p>
<p begin="06:16:47.600" end="06:16:53.680" style="s2">schemas I did and let&#39;s go to our</p>
<p begin="06:16:51.240" end="06:16:55.760" style="s2">schemas and I&#39;ve set just these fields</p>
<p begin="06:16:53.680" end="06:16:58.878" style="s2">so this should be good to go I&#39;m not</p>
<p begin="06:16:55.760" end="06:17:01.400" style="s2">sure why it&#39;s giving us errors and I</p>
<p begin="06:16:58.878" end="06:17:03.280" style="s2">made a stupid mistake this should not be</p>
<p begin="06:17:01.400" end="06:17:05.240" style="s2">uh within the function parameters this</p>
<p begin="06:17:03.280" end="06:17:07.520" style="s2">should actually go in inside The</p>
<p begin="06:17:05.240" end="06:17:09.878" style="s2">Decorator so it wasn&#39;t actually doing</p>
<p begin="06:17:07.520" end="06:17:12.320" style="s2">anything and now if we try</p>
<p begin="06:17:09.878" end="06:17:13.920" style="s2">this we can see that the password field</p>
<p begin="06:17:12.320" end="06:17:16.400" style="s2">has been successfully</p>
<p begin="06:17:13.920" end="06:17:18.280" style="s2">removed now that we&#39;ve added a couple of</p>
<p begin="06:17:16.400" end="06:17:20.600" style="s2">path operations for users if you take a</p>
<p begin="06:17:18.280" end="06:17:22.760" style="s2">look at our main.py file it&#39;s starting</p>
<p begin="06:17:20.600" end="06:17:24.440" style="s2">to look a little cluttered uh you&#39;ll see</p>
<p begin="06:17:22.760" end="06:17:27.000" style="s2">that we&#39;ve got all of our path</p>
<p begin="06:17:24.440" end="06:17:29.080" style="s2">operations for uh you know handling cud</p>
<p begin="06:17:27.000" end="06:17:31.558" style="s2">operations for posts and then you&#39;ll see</p>
<p begin="06:17:29.080" end="06:17:33.320" style="s2">that we also have all of our uh path</p>
<p begin="06:17:31.558" end="06:17:35.080" style="s2">operations for working with users so</p>
<p begin="06:17:33.320" end="06:17:37.718" style="s2">that&#39;s creating users and so well as</p>
<p begin="06:17:35.080" end="06:17:39.360" style="s2">retrieving a user by ID and uh you know</p>
<p begin="06:17:37.718" end="06:17:41.080" style="s2">as I said this is a little messy and as</p>
<p begin="06:17:39.360" end="06:17:42.600" style="s2">we keep adding more and more path</p>
<p begin="06:17:41.080" end="06:17:44.600" style="s2">operations it just seems almost</p>
<p begin="06:17:42.600" end="06:17:47.120" style="s2">unmanageable to keep everything in a</p>
<p begin="06:17:44.600" end="06:17:48.920" style="s2">main.py file and instead what I want to</p>
<p begin="06:17:47.120" end="06:17:51.160" style="s2">do is I want to break it out and I want</p>
<p begin="06:17:48.920" end="06:17:52.920" style="s2">to create two separate files and one</p>
<p begin="06:17:51.160" end="06:17:55.840" style="s2">file is going to be for all of the</p>
<p begin="06:17:52.920" end="06:17:57.680" style="s2">routes or path operations that work and</p>
<p begin="06:17:55.840" end="06:18:00.120" style="s2">deal with posts and then I want a</p>
<p begin="06:17:57.680" end="06:18:01.798" style="s2">separate file that will handle all of</p>
<p begin="06:18:00.120" end="06:18:04.280" style="s2">the path operations for working with</p>
<p begin="06:18:01.798" end="06:18:06.798" style="s2">users and you know it&#39;s not quite as</p>
<p begin="06:18:04.280" end="06:18:08.558" style="s2">simple as just uh you know moving these</p>
<p begin="06:18:06.798" end="06:18:09.958" style="s2">path operations to different files we we</p>
<p begin="06:18:08.558" end="06:18:13.040" style="s2">do have to learn about something</p>
<p begin="06:18:09.958" end="06:18:14.718" style="s2">specific to fast API and this is nothing</p>
<p begin="06:18:13.040" end="06:18:16.718" style="s2">unique about fast API you&#39;ll see that</p>
<p begin="06:18:14.718" end="06:18:19.478" style="s2">every single web framework is going to</p>
<p begin="06:18:16.718" end="06:18:21.200" style="s2">have a a way to kind of accomplish this</p>
<p begin="06:18:19.478" end="06:18:23.478" style="s2">and it usually involves something called</p>
<p begin="06:18:21.200" end="06:18:25.400" style="s2">routers so we&#39;ll take a look at routers</p>
<p begin="06:18:23.478" end="06:18:27.200" style="s2">in this section and how we can use them</p>
<p begin="06:18:25.400" end="06:18:28.920" style="s2">to actually split up all of our path</p>
<p begin="06:18:27.200" end="06:18:30.478" style="s2">operations so that we can organize our</p>
<p begin="06:18:28.920" end="06:18:32.360" style="s2">code a little bit</p>
<p begin="06:18:30.478" end="06:18:34.760" style="s2">better and so what we&#39;re going to do is</p>
<p begin="06:18:32.360" end="06:18:36.280" style="s2">we&#39;re going to create a new folder and</p>
<p begin="06:18:34.760" end="06:18:38.080" style="s2">and I&#39;m going to call this</p>
<p begin="06:18:36.280" end="06:18:39.840" style="s2">routers and then within here I&#39;m going</p>
<p begin="06:18:38.080" end="06:18:41.760" style="s2">to create two files I&#39;m going to create</p>
<p begin="06:18:39.840" end="06:18:45.760" style="s2">one called post. py and I&#39;m going to</p>
<p begin="06:18:41.760" end="06:18:47.558" style="s2">create one uh that&#39;s called user. py so</p>
<p begin="06:18:45.760" end="06:18:49.000" style="s2">all of our path operations uh dealing</p>
<p begin="06:18:47.558" end="06:18:50.520" style="s2">with users is going to be put into this</p>
<p begin="06:18:49.000" end="06:18:52.320" style="s2">file and all of our path operations</p>
<p begin="06:18:50.520" end="06:18:54.840" style="s2">dealing with posts is going to be put</p>
<p begin="06:18:52.320" end="06:18:54.840" style="s2">into this</p>
<p begin="06:18:56.080" end="06:19:00.718" style="s2">file and what I&#39;m going to do is we&#39;re</p>
<p begin="06:18:58.040" end="06:19:04.040" style="s2">going to go to our main.py file and I&#39;m</p>
<p begin="06:19:00.718" end="06:19:08.080" style="s2">actually just going to copy all of my</p>
<p begin="06:19:04.040" end="06:19:08.080" style="s2">specific rout that deal with posts</p>
<p begin="06:19:08.878" end="06:19:12.680" style="s2">first we&#39;re just going to keep going up</p>
<p begin="06:19:10.958" end="06:19:15.000" style="s2">and I went too far</p>
<p begin="06:19:12.680" end="06:19:19.080" style="s2">up oh this thing moves quickly here we</p>
<p begin="06:19:15.000" end="06:19:19.080" style="s2">go this is going to grab all of our</p>
<p begin="06:19:20.558" end="06:19:25.478" style="s2">posts and I&#39;m going to just cut that out</p>
<p begin="06:19:23.478" end="06:19:26.798" style="s2">and we&#39;re going to just paste it in here</p>
<p begin="06:19:25.478" end="06:19:28.558" style="s2">and there should be plenty of warnings</p>
<p begin="06:19:26.798" end="06:19:30.478" style="s2">and errors within vs code that&#39;s to be</p>
<p begin="06:19:28.558" end="06:19:31.718" style="s2">expected don&#39;t worry about that we&#39;ll</p>
<p begin="06:19:30.478" end="06:19:32.958" style="s2">fix that in a bit I&#39;m going to do the</p>
<p begin="06:19:31.718" end="06:19:35.200" style="s2">same thing for the users so let&#39;s go to</p>
<p begin="06:19:32.958" end="06:19:38.000" style="s2">our main.py file and just grab the last</p>
<p begin="06:19:35.200" end="06:19:41.080" style="s2">two path operations that we have for</p>
<p begin="06:19:38.000" end="06:19:43.000" style="s2">users and then paste it into this</p>
<p begin="06:19:41.080" end="06:19:45.440" style="s2">specific</p>
<p begin="06:19:43.000" end="06:19:47.878" style="s2">file right so we&#39;ve got a bunch of</p>
<p begin="06:19:45.440" end="06:19:49.760" style="s2">Errors uh and uh let&#39;s go ahead and</p>
<p begin="06:19:47.878" end="06:19:51.840" style="s2">actually fix those first before we</p>
<p begin="06:19:49.760" end="06:19:53.920" style="s2">actually start working with routers uh</p>
<p begin="06:19:51.840" end="06:19:55.400" style="s2">and so now that all of the uh the path</p>
<p begin="06:19:53.920" end="06:19:57.320" style="s2">operations are within these files we&#39;re</p>
<p begin="06:19:55.400" end="06:19:59.200" style="s2">going to have to import uh you know</p>
<p begin="06:19:57.320" end="06:20:01.080" style="s2">things like app we&#39;re going to have to</p>
<p begin="06:19:59.200" end="06:20:02.718" style="s2">import well we&#39;ll come back to that</p>
<p begin="06:20:01.080" end="06:20:04.120" style="s2">actually we&#39;ll have to import status</p>
<p begin="06:20:02.718" end="06:20:06.040" style="s2">we&#39;ll have to import our schemas we&#39;ll</p>
<p begin="06:20:04.120" end="06:20:07.440" style="s2">have to import the session object we&#39;ll</p>
<p begin="06:20:06.040" end="06:20:10.080" style="s2">have to import all of our database</p>
<p begin="06:20:07.440" end="06:20:11.798" style="s2">related things our utils so all of these</p>
<p begin="06:20:10.080" end="06:20:14.080" style="s2">things that we see little squiggly lines</p>
<p begin="06:20:11.798" end="06:20:16.440" style="s2">we have to import them um because we had</p>
<p begin="06:20:14.080" end="06:20:19.360" style="s2">already imported all of these uh in the</p>
<p begin="06:20:16.440" end="06:20:21.760" style="s2">main.py file and so we&#39;ll start off by</p>
<p begin="06:20:19.360" end="06:20:24.080" style="s2">importing the models the schemas uh and</p>
<p begin="06:20:21.760" end="06:20:25.760" style="s2">the UIL folder if we need it for one of</p>
<p begin="06:20:24.080" end="06:20:28.240" style="s2">the specific files you&#39;ll see that we</p>
<p begin="06:20:25.760" end="06:20:31.120" style="s2">only need this for the user file uh and</p>
<p begin="06:20:28.240" end="06:20:33.798" style="s2">so the way we did it in our main. P file</p>
<p begin="06:20:31.120" end="06:20:36.200" style="s2">is we say from and then this dot means</p>
<p begin="06:20:33.798" end="06:20:37.878" style="s2">current directory so uh we say hey from</p>
<p begin="06:20:36.200" end="06:20:39.280" style="s2">this current directory we&#39;re in which is</p>
<p begin="06:20:37.878" end="06:20:41.680" style="s2">if I kind of close that out you can see</p>
<p begin="06:20:39.280" end="06:20:43.440" style="s2">that everything is in the app file app</p>
<p begin="06:20:41.680" end="06:20:45.200" style="s2">folder sorry we&#39;re saying from the</p>
<p begin="06:20:43.440" end="06:20:48.080" style="s2">current APP directory I want to import</p>
<p begin="06:20:45.200" end="06:20:50.160" style="s2">models which is right</p>
<p begin="06:20:48.080" end="06:20:53.200" style="s2">here and then I want to import schemas</p>
<p begin="06:20:50.160" end="06:20:55.878" style="s2">and utils however in our user. py file</p>
<p begin="06:20:53.200" end="06:20:57.840" style="s2">and our post. py file uh the models</p>
<p begin="06:20:55.878" end="06:20:59.200" style="s2">schemas and utils folder is not in the</p>
<p begin="06:20:57.840" end="06:21:01.360" style="s2">same directory because we actually have</p>
<p begin="06:20:59.200" end="06:21:03.000" style="s2">to go up a directory to the app folder</p>
<p begin="06:21:01.360" end="06:21:05.558" style="s2">to access them so instead of doing one</p>
<p begin="06:21:03.000" end="06:21:07.240" style="s2">dot if you want to go up a directory you</p>
<p begin="06:21:05.558" end="06:21:10.200" style="s2">do two dots so that&#39;s all we have to</p>
<p begin="06:21:07.240" end="06:21:12.120" style="s2">change so in our user. py file we&#39;ll say</p>
<p begin="06:21:10.200" end="06:21:15.320" style="s2">from dot</p>
<p begin="06:21:12.120" end="06:21:18.718" style="s2">dot import and we&#39;ll say</p>
<p begin="06:21:15.320" end="06:21:21.400" style="s2">models schemas and</p>
<p begin="06:21:18.718" end="06:21:24.040" style="s2">utils and so right there we cleaned up</p>
<p begin="06:21:21.400" end="06:21:26.040" style="s2">some of our errors that we&#39;re getting</p>
<p begin="06:21:24.040" end="06:21:28.680" style="s2">and let&#39;s see we also have to import</p>
<p begin="06:21:26.040" end="06:21:30.680" style="s2">status from the fast API Library so what</p>
<p begin="06:21:28.680" end="06:21:34.478" style="s2">we can do is we&#39;ll just go up here and</p>
<p begin="06:21:30.680" end="06:21:34.478" style="s2">I&#39;m just going to copy this</p>
<p begin="06:21:36.240" end="06:21:39.840" style="s2">and right above this line we&#39;re just</p>
<p begin="06:21:37.360" end="06:21:42.040" style="s2">going to paste that in there and the</p>
<p begin="06:21:39.840" end="06:21:44.360" style="s2">last thing that we need to import is</p>
<p begin="06:21:42.040" end="06:21:45.958" style="s2">from the database we uh from the</p>
<p begin="06:21:44.360" end="06:21:49.080" style="s2">database. py file we&#39;re going to have to</p>
<p begin="06:21:45.958" end="06:21:50.840" style="s2">import get DB and then from SQL Alchemy</p>
<p begin="06:21:49.080" end="06:21:54.558" style="s2">we have to import session so if we go to</p>
<p begin="06:21:50.840" end="06:21:57.760" style="s2">our main.py file again the SQL Alchemy</p>
<p begin="06:21:54.558" end="06:22:00.440" style="s2">uh code right here we can just copy that</p>
<p begin="06:21:57.760" end="06:22:02.440" style="s2">and I&#39;m going to import that as</p>
<p begin="06:22:00.440" end="06:22:03.920" style="s2">well that&#39;s done and then finally we</p>
<p begin="06:22:02.440" end="06:22:05.558" style="s2">have the get DB and if we take a look at</p>
<p begin="06:22:03.920" end="06:22:07.638" style="s2">our main. p y file the way we got that</p>
<p begin="06:22:05.558" end="06:22:10.240" style="s2">is so we&#39;re saying uh from the current</p>
<p begin="06:22:07.638" end="06:22:12.718" style="s2">database file we want to import engine</p>
<p begin="06:22:10.240" end="06:22:14.240" style="s2">and get DB and keep in mind that the</p>
<p begin="06:22:12.718" end="06:22:15.600" style="s2">database file is not in the router&#39;s</p>
<p begin="06:22:14.240" end="06:22:17.440" style="s2">directory it&#39;s in the app directory so</p>
<p begin="06:22:15.600" end="06:22:20.878" style="s2">we have to go up a directory to access</p>
<p begin="06:22:17.440" end="06:22:23.400" style="s2">this file so we just put two dots pretty</p>
<p begin="06:22:20.878" end="06:22:27.040" style="s2">simple so from do</p>
<p begin="06:22:23.400" end="06:22:30.798" style="s2">database import get</p>
<p begin="06:22:27.040" end="06:22:32.360" style="s2">DB and we actually don&#39;t need to import</p>
<p begin="06:22:30.798" end="06:22:35.400" style="s2">uh engine uh we&#39;re going to leave that</p>
<p begin="06:22:32.360" end="06:22:37.000" style="s2">here in our main.py file</p>
<p begin="06:22:35.400" end="06:22:39.638" style="s2">all right so now that we got all of that</p>
<p begin="06:22:37.000" end="06:22:41.840" style="s2">the last error that we see is that uh we</p>
<p begin="06:22:39.638" end="06:22:44.120" style="s2">don&#39;t have access to the app object and</p>
<p begin="06:22:41.840" end="06:22:46.320" style="s2">so your instinct is to go to our main.py</p>
<p begin="06:22:44.120" end="06:22:48.400" style="s2">file and then import this and that&#39;s not</p>
<p begin="06:22:46.320" end="06:22:49.638" style="s2">exactly correct instead what we&#39;re going</p>
<p begin="06:22:48.400" end="06:22:52.160" style="s2">to do is we&#39;re going to make use of the</p>
<p begin="06:22:49.638" end="06:22:54.000" style="s2">routers that I mentioned and so from the</p>
<p begin="06:22:52.160" end="06:22:56.680" style="s2">fast API Library we&#39;re going to import</p>
<p begin="06:22:54.000" end="06:22:59.040" style="s2">something called API first three letters</p>
<p begin="06:22:56.680" end="06:23:01.280" style="s2">actually the first four letters API</p>
<p begin="06:22:59.040" end="06:23:03.080" style="s2">router and then from here we&#39;re going to</p>
<p begin="06:23:01.280" end="06:23:05.440" style="s2">make use of the API router object so</p>
<p begin="06:23:03.080" end="06:23:08.360" style="s2">we&#39;ll say uh router</p>
<p begin="06:23:05.440" end="06:23:10.520" style="s2">equals API</p>
<p begin="06:23:08.360" end="06:23:12.040" style="s2">router so we&#39;re basically creating a</p>
<p begin="06:23:10.520" end="06:23:13.878" style="s2">router object and then what we can do is</p>
<p begin="06:23:12.040" end="06:23:15.160" style="s2">we can replace the keyword app because</p>
<p begin="06:23:13.878" end="06:23:18.040" style="s2">we don&#39;t have access to that in this</p>
<p begin="06:23:15.160" end="06:23:20.400" style="s2">file and we just use the word router and</p>
<p begin="06:23:18.040" end="06:23:23.760" style="s2">you&#39;ll understand why we do this in a</p>
<p begin="06:23:20.400" end="06:23:25.718" style="s2">bit so we&#39;ve got those updated and then</p>
<p begin="06:23:23.760" end="06:23:27.600" style="s2">we&#39;re going to do the same exact thing</p>
<p begin="06:23:25.718" end="06:23:29.160" style="s2">for our post. py so we have to get all</p>
<p begin="06:23:27.600" end="06:23:31.798" style="s2">of these Imports I&#39;m actually going to</p>
<p begin="06:23:29.160" end="06:23:34.878" style="s2">copy most of these because most of them</p>
<p begin="06:23:31.798" end="06:23:37.000" style="s2">are going to apply here as well</p>
<p begin="06:23:34.878" end="06:23:39.840" style="s2">uh the only thing we don&#39;t need uh utils</p>
<p begin="06:23:37.000" end="06:23:41.440" style="s2">for sure so we&#39;ll remove that and then</p>
<p begin="06:23:39.840" end="06:23:42.840" style="s2">uh you&#39;ll see that list is still getting</p>
<p begin="06:23:41.440" end="06:23:45.200" style="s2">errored out and that&#39;s because if we go</p>
<p begin="06:23:42.840" end="06:23:46.600" style="s2">to our main.py file that&#39;s coming from</p>
<p begin="06:23:45.200" end="06:23:48.920" style="s2">this typing import so I&#39;m just going to</p>
<p begin="06:23:46.600" end="06:23:48.920" style="s2">copy</p>
<p begin="06:23:49.558" end="06:23:53.520" style="s2">that and paste that in there and it</p>
<p begin="06:23:52.320" end="06:23:55.680" style="s2">looks like we don&#39;t need optional</p>
<p begin="06:23:53.520" end="06:23:56.920" style="s2">because it&#39;s kind of grayish and so</p>
<p begin="06:23:55.680" end="06:23:58.240" style="s2">that&#39;s just vs code telling us that</p>
<p begin="06:23:56.920" end="06:23:59.600" style="s2">we&#39;re not using it in this file and I</p>
<p begin="06:23:58.240" end="06:24:03.120" style="s2">think that should clear up all the</p>
<p begin="06:23:59.600" end="06:24:05.840" style="s2">errors except for once again uh the app</p>
<p begin="06:24:03.120" end="06:24:11.160" style="s2">object and so we&#39;ll do the same thing</p>
<p begin="06:24:05.840" end="06:24:11.160" style="s2">we&#39;ll say router equals API</p>
<p begin="06:24:11.360" end="06:24:17.520" style="s2">router and then what we&#39;re going to do</p>
<p begin="06:24:13.320" end="06:24:17.520" style="s2">is replace the word app with the word</p>
<p begin="06:24:25.718" end="06:24:30.040" style="s2">router all right and then finally we</p>
<p begin="06:24:27.798" end="06:24:31.360" style="s2">have to go to our main.py file and</p>
<p begin="06:24:30.040" end="06:24:33.240" style="s2">actually make use of these routers</p>
<p begin="06:24:31.360" end="06:24:34.958" style="s2">because you&#39;ll see that in our main.py</p>
<p begin="06:24:33.240" end="06:24:37.478" style="s2">file there&#39;s no reference to anything in</p>
<p begin="06:24:34.958" end="06:24:39.958" style="s2">here so our API won&#39;t work if we try to</p>
<p begin="06:24:37.478" end="06:24:42.760" style="s2">run it now so in our main.py file what</p>
<p begin="06:24:39.958" end="06:24:44.400" style="s2">I&#39;m going to do is I&#39;m going to say from</p>
<p begin="06:24:42.760" end="06:24:47.120" style="s2">dot</p>
<p begin="06:24:44.400" end="06:24:50.600" style="s2">routers so from this</p>
<p begin="06:24:47.120" end="06:24:53.200" style="s2">folder we&#39;re going to import post and</p>
<p begin="06:24:50.600" end="06:24:55.000" style="s2">user and there should be plural</p>
<p begin="06:24:53.200" end="06:24:56.798" style="s2">routers and then I&#39;m going to show you</p>
<p begin="06:24:55.000" end="06:25:01.120" style="s2">some magic that we&#39;re going to do and so</p>
<p begin="06:24:56.798" end="06:25:01.120" style="s2">above this route we&#39;re going to</p>
<p begin="06:25:01.360" end="06:25:05.958" style="s2">say we&#39;re going to grab the app object</p>
<p begin="06:25:03.840" end="06:25:07.440" style="s2">right this is once again our fast API</p>
<p begin="06:25:05.958" end="06:25:10.280" style="s2">object that we kind of do everything</p>
<p begin="06:25:07.440" end="06:25:12.160" style="s2">with and we&#39;re going to say</p>
<p begin="06:25:10.280" end="06:25:14.878" style="s2">include</p>
<p begin="06:25:12.160" end="06:25:17.320" style="s2">router and then we&#39;ll grab the</p>
<p begin="06:25:14.878" end="06:25:19.120" style="s2">post. router right that&#39;s what we just</p>
<p begin="06:25:17.320" end="06:25:20.840" style="s2">imported we imported post which is</p>
<p begin="06:25:19.120" end="06:25:23.080" style="s2">coming from here and we&#39;re importing</p>
<p begin="06:25:20.840" end="06:25:25.360" style="s2">this router object and so what we&#39;ve</p>
<p begin="06:25:23.080" end="06:25:27.040" style="s2">basically done here is uh I have</p>
<p begin="06:25:25.360" end="06:25:30.160" style="s2">basically said as we you know when we</p>
<p begin="06:25:27.040" end="06:25:31.680" style="s2">get a p when we get a HTTP request uh</p>
<p begin="06:25:30.160" end="06:25:33.680" style="s2">you know before we had all of our path</p>
<p begin="06:25:31.680" end="06:25:35.280" style="s2">operations in here instead what&#39;s going</p>
<p begin="06:25:33.680" end="06:25:37.600" style="s2">to happen is you know we go down the</p>
<p begin="06:25:35.280" end="06:25:40.280" style="s2">list like we normally do and so as we go</p>
<p begin="06:25:37.600" end="06:25:42.160" style="s2">down our list this is our first uh app</p>
<p begin="06:25:40.280" end="06:25:44.558" style="s2">object that we kind of reference and in</p>
<p begin="06:25:42.160" end="06:25:46.320" style="s2">here it just says I want you to include</p>
<p begin="06:25:44.558" end="06:25:48.478" style="s2">everything I want you to include our</p>
<p begin="06:25:46.320" end="06:25:50.680" style="s2">post. router and so the request will</p>
<p begin="06:25:48.478" end="06:25:52.320" style="s2">then go into here and it&#39;s going to take</p>
<p begin="06:25:50.680" end="06:25:54.120" style="s2">a look at all of these routes and it&#39;s</p>
<p begin="06:25:52.320" end="06:25:55.120" style="s2">going to see if it&#39;s a match right and</p>
<p begin="06:25:54.120" end="06:25:56.478" style="s2">if it finds a match it&#39;s going to</p>
<p begin="06:25:55.120" end="06:25:59.280" style="s2">respond like it normally does so that&#39;s</p>
<p begin="06:25:56.478" end="06:26:01.280" style="s2">kind of how we break out our code into</p>
<p begin="06:25:59.280" end="06:26:03.000" style="s2">separate files we use these router</p>
<p begin="06:26:01.280" end="06:26:04.798" style="s2">objects and we can do the same thing</p>
<p begin="06:26:03.000" end="06:26:06.400" style="s2">with the user. py so we&#39;re going to go</p>
<p begin="06:26:04.798" end="06:26:08.080" style="s2">to Main and then here I&#39;m going to type</p>
<p begin="06:26:06.400" end="06:26:11.000" style="s2">out the same thing I&#39;m going to say app.</p>
<p begin="06:26:08.080" end="06:26:12.920" style="s2">include router and this time we use we</p>
<p begin="06:26:11.000" end="06:26:15.320" style="s2">grab the user and then we do router</p>
<p begin="06:26:12.920" end="06:26:16.798" style="s2">again and so once again all we&#39;re doing</p>
<p begin="06:26:15.320" end="06:26:18.320" style="s2">is we&#39;re just grabbing the router object</p>
<p begin="06:26:16.798" end="06:26:20.718" style="s2">from the user file and that&#39;s</p>
<p begin="06:26:18.320" end="06:26:22.320" style="s2">essentially going to import all of the</p>
<p begin="06:26:20.718" end="06:26:24.520" style="s2">specific</p>
<p begin="06:26:22.320" end="06:26:26.680" style="s2">routes and so if we save our code and</p>
<p begin="06:26:24.520" end="06:26:27.798" style="s2">then we just quickly take a look at the</p>
<p begin="06:26:26.680" end="06:26:29.638" style="s2">the terminal just to make sure there&#39;s</p>
<p begin="06:26:27.798" end="06:26:31.200" style="s2">no errors uh it looks like everything&#39;s</p>
<p begin="06:26:29.638" end="06:26:32.798" style="s2">working let&#39;s test this out now so I&#39;m</p>
<p begin="06:26:31.200" end="06:26:35.958" style="s2">going to get all post let&#39;s see if this</p>
<p begin="06:26:32.798" end="06:26:38.478" style="s2">works it looks like it works great uh</p>
<p begin="06:26:35.958" end="06:26:42.080" style="s2">let&#39;s create a new post looks like it</p>
<p begin="06:26:38.478" end="06:26:43.400" style="s2">works get one post uh well it looks like</p>
<p begin="06:26:42.080" end="06:26:46.240" style="s2">that post doesn&#39;t exist anymore but if I</p>
<p begin="06:26:43.400" end="06:26:49.320" style="s2">try one looks like it works I we&#39;ll</p>
<p begin="06:26:46.240" end="06:26:52.400" style="s2">delete post with the ID of</p>
<p begin="06:26:49.320" end="06:26:55.478" style="s2">three great we&#39;ll update</p>
<p begin="06:26:52.400" end="06:26:58.958" style="s2">post create user just put in a new</p>
<p begin="06:26:55.478" end="06:27:00.558" style="s2">unique email and then get user so grab</p>
<p begin="06:26:58.958" end="06:27:03.040" style="s2">that user and we can see that every</p>
<p begin="06:27:00.558" end="06:27:05.558" style="s2">single route works perfectly so we</p>
<p begin="06:27:03.040" end="06:27:07.718" style="s2">didn&#39;t change the functionality of our</p>
<p begin="06:27:05.558" end="06:27:10.840" style="s2">project at all in this video instead all</p>
<p begin="06:27:07.718" end="06:27:12.840" style="s2">we did was we used a uh a router object</p>
<p begin="06:27:10.840" end="06:27:14.600" style="s2">to be able to spit split up all of our</p>
<p begin="06:27:12.840" end="06:27:17.000" style="s2">routes or our path operations into</p>
<p begin="06:27:14.600" end="06:27:19.440" style="s2">different files and then we import them</p>
<p begin="06:27:17.000" end="06:27:21.200" style="s2">just by calling app. include router and</p>
<p begin="06:27:19.440" end="06:27:23.160" style="s2">then the specific router object of that</p>
<p begin="06:27:21.200" end="06:27:25.760" style="s2">file and you&#39;ll see that our code looks</p>
<p begin="06:27:23.160" end="06:27:27.798" style="s2">so much cleaner now and as our app and</p>
<p begin="06:27:25.760" end="06:27:30.520" style="s2">our API continues to grow we can just</p>
<p begin="06:27:27.798" end="06:27:32.520" style="s2">add new files into the routers folder so</p>
<p begin="06:27:30.520" end="06:27:34.760" style="s2">that we don&#39;t continue to clutter up our</p>
<p begin="06:27:32.520" end="06:27:37.558" style="s2">main.py file</p>
<p begin="06:27:34.760" end="06:27:40.320" style="s2">in our two router files you&#39;ll see that</p>
<p begin="06:27:37.558" end="06:27:42.798" style="s2">we use the same URL for almost all of</p>
<p begin="06:27:40.320" end="06:27:45.600" style="s2">our specific paths uh and so you&#39;ll see</p>
<p begin="06:27:42.798" end="06:27:48.680" style="s2">for the get route we&#39;ll use SL poost for</p>
<p begin="06:27:45.600" end="06:27:50.400" style="s2">the Post we use SL poost uh from the get</p>
<p begin="06:27:48.680" end="06:27:52.000" style="s2">specific post we do SL poost and then</p>
<p begin="06:27:50.400" end="06:27:55.600" style="s2">the ID and then the same thing goes for</p>
<p begin="06:27:52.000" end="06:27:57.200" style="s2">delete and uh and put as well and I</p>
<p begin="06:27:55.600" end="06:27:59.638" style="s2">think it&#39;s kind of annoying having to</p>
<p begin="06:27:57.200" end="06:28:01.360" style="s2">continuously a copy and paste the same</p>
<p begin="06:27:59.638" end="06:28:03.718" style="s2">exact path when it&#39;s pretty much just a</p>
<p begin="06:28:01.360" end="06:28:05.440" style="s2">copy from each one so is there a way we</p>
<p begin="06:28:03.718" end="06:28:07.558" style="s2">can kind of kind of remove this</p>
<p begin="06:28:05.440" end="06:28:09.360" style="s2">unnecessary it doesn&#39;t seem like that</p>
<p begin="06:28:07.558" end="06:28:11.760" style="s2">big of an issue but keep in mind that</p>
<p begin="06:28:09.360" end="06:28:14.000" style="s2">our API is very simple right other apis</p>
<p begin="06:28:11.760" end="06:28:15.878" style="s2">could have very long</p>
<p begin="06:28:14.000" end="06:28:18.440" style="s2">complex uh you</p>
<p begin="06:28:15.878" end="06:28:19.680" style="s2">know uh routes that you know may not</p>
<p begin="06:28:18.440" end="06:28:21.718" style="s2">look as simple as ours so they could</p>
<p begin="06:28:19.680" end="06:28:22.798" style="s2">have you know multiple things right so</p>
<p begin="06:28:21.718" end="06:28:24.200" style="s2">it could look something like that and</p>
<p begin="06:28:22.798" end="06:28:26.280" style="s2">then having to kind of copy and paste</p>
<p begin="06:28:24.200" end="06:28:28.680" style="s2">all of that every on every single route</p>
<p begin="06:28:26.280" end="06:28:31.000" style="s2">can seem a little unnecessary and so</p>
<p begin="06:28:28.680" end="06:28:33.440" style="s2">anytime you&#39;re working with routers what</p>
<p begin="06:28:31.000" end="06:28:36.280" style="s2">we can actually do is we can pass in a</p>
<p begin="06:28:33.440" end="06:28:38.440" style="s2">uh parameter into the API router um</p>
<p begin="06:28:36.280" end="06:28:41.040" style="s2">function or method and so what we can</p>
<p begin="06:28:38.440" end="06:28:43.520" style="s2">say is prefix and we&#39;re going to say</p>
<p begin="06:28:41.040" end="06:28:45.840" style="s2">that since every single route in this</p>
<p begin="06:28:43.520" end="06:28:49.280" style="s2">file always starts with SL posts we can</p>
<p begin="06:28:45.840" end="06:28:52.120" style="s2">say prefix equals</p>
<p begin="06:28:49.280" end="06:28:55.040" style="s2">slost and so now anytime you see a slash</p>
<p begin="06:28:52.120" end="06:28:58.320" style="s2">post we can just remove</p>
<p begin="06:28:55.040" end="06:29:00.718" style="s2">that and just put in a slash this just</p>
<p begin="06:28:58.320" end="06:29:00.718" style="s2">going to be a</p>
<p begin="06:29:01.200" end="06:29:04.760" style="s2">slash and then when it gets to SL poost</p>
<p begin="06:29:03.478" end="06:29:08.080" style="s2">slid this this is where it gets a little</p>
<p begin="06:29:04.760" end="06:29:10.280" style="s2">tricky but once again we just remove</p>
<p begin="06:29:08.080" end="06:29:11.680" style="s2">everything but a slash and so what this</p>
<p begin="06:29:10.280" end="06:29:15.000" style="s2">is saying is that we&#39;re going to take</p>
<p begin="06:29:11.680" end="06:29:16.320" style="s2">slash posts and then we&#39;re going to</p>
<p begin="06:29:15.000" end="06:29:19.400" style="s2">append it</p>
<p begin="06:29:16.320" end="06:29:21.000" style="s2">with ID right because that&#39;s that&#39;s what</p>
<p begin="06:29:19.400" end="06:29:23.600" style="s2">this is saying we&#39;re saying slid so it&#39;s</p>
<p begin="06:29:21.000" end="06:29:25.878" style="s2">actually appending it with slid so the</p>
<p begin="06:29:23.600" end="06:29:27.478" style="s2">final thing actually looks like it&#39;s</p>
<p begin="06:29:25.878" end="06:29:30.280" style="s2">going to look like SL</p>
<p begin="06:29:27.478" end="06:29:32.440" style="s2">poost ID so nothing actually changes</p>
<p begin="06:29:30.280" end="06:29:33.840" style="s2">it&#39;s just a simpler way to do things so</p>
<p begin="06:29:32.440" end="06:29:36.200" style="s2">that we don&#39;t have to write SL posts</p>
<p begin="06:29:33.840" end="06:29:39.600" style="s2">every everywhere and so we can uh we can</p>
<p begin="06:29:36.200" end="06:29:42.478" style="s2">remove this and just do SL ID and we can</p>
<p begin="06:29:39.600" end="06:29:43.878" style="s2">just do SL ID here as well and we&#39;re</p>
<p begin="06:29:42.478" end="06:29:45.680" style="s2">going to do the same thing in the users</p>
<p begin="06:29:43.878" end="06:29:47.878" style="s2">file as well because both of them start</p>
<p begin="06:29:45.680" end="06:29:49.200" style="s2">with SL users and so we&#39;re going to put</p>
<p begin="06:29:47.878" end="06:29:51.558" style="s2">in a prefix</p>
<p begin="06:29:49.200" end="06:29:54.878" style="s2">here and we&#39;re going to say</p>
<p begin="06:29:51.558" end="06:29:57.520" style="s2">slash users so this can just be removed</p>
<p begin="06:29:54.878" end="06:30:00.840" style="s2">to slash and this can be removed to just</p>
<p begin="06:29:57.520" end="06:30:02.040" style="s2">slash ID all right and once again we&#39;re</p>
<p begin="06:30:00.840" end="06:30:03.440" style="s2">going to test this out we&#39;re just going</p>
<p begin="06:30:02.040" end="06:30:06.478" style="s2">to test a couple of routes so if get</p>
<p begin="06:30:03.440" end="06:30:09.280" style="s2">routes get post work and if create oh</p>
<p begin="06:30:06.478" end="06:30:10.920" style="s2">we&#39;ll try a get one post that works</p>
<p begin="06:30:09.280" end="06:30:12.240" style="s2">perfectly and then let&#39;s try creating a</p>
<p begin="06:30:10.920" end="06:30:14.840" style="s2">new user we have to give it another</p>
<p begin="06:30:12.240" end="06:30:17.240" style="s2">unique email looks like it works and</p>
<p begin="06:30:14.840" end="06:30:18.958" style="s2">then finally uh get user we&#39;re going to</p>
<p begin="06:30:17.240" end="06:30:21.120" style="s2">try this again and it looks like it all</p>
<p begin="06:30:18.958" end="06:30:22.638" style="s2">works so uh you know this is a</p>
<p begin="06:30:21.120" end="06:30:24.280" style="s2">completely optional step it doesn&#39;t</p>
<p begin="06:30:22.638" end="06:30:25.360" style="s2">change the functionality of things but I</p>
<p begin="06:30:24.280" end="06:30:27.478" style="s2">think it does make it a little bit</p>
<p begin="06:30:25.360" end="06:30:29.000" style="s2">easier to read um because we put the</p>
<p begin="06:30:27.478" end="06:30:31.520" style="s2">prefix up here so that we don&#39;t have to</p>
<p begin="06:30:29.000" end="06:30:33.520" style="s2">keep copying and</p>
<p begin="06:30:31.520" end="06:30:35.638" style="s2">pasting now as I mentioned one of my</p>
<p begin="06:30:33.520" end="06:30:37.478" style="s2">favorite features of fast API is the</p>
<p begin="06:30:35.638" end="06:30:39.878" style="s2">automatic documentation that comes from</p>
<p begin="06:30:37.478" end="06:30:42.440" style="s2">Swagger UI uh and so if you actually</p>
<p begin="06:30:39.878" end="06:30:43.520" style="s2">navigate to the URL but just go to/ docs</p>
<p begin="06:30:42.440" end="06:30:45.240" style="s2">like I have that&#39;s where you&#39;re going to</p>
<p begin="06:30:43.520" end="06:30:46.958" style="s2">see the documentation and like I said</p>
<p begin="06:30:45.240" end="06:30:48.878" style="s2">this is interactive documentation so you</p>
<p begin="06:30:46.958" end="06:30:50.280" style="s2">can actually make requests from here so</p>
<p begin="06:30:48.878" end="06:30:51.680" style="s2">you didn&#39;t technically have to use</p>
<p begin="06:30:50.280" end="06:30:53.600" style="s2">Postman for a lot of things you can just</p>
<p begin="06:30:51.680" end="06:30:55.478" style="s2">test it out right here and it&#39;s going to</p>
<p begin="06:30:53.600" end="06:30:57.398" style="s2">do the same thing however I did also</p>
<p begin="06:30:55.478" end="06:30:59.680" style="s2">want to teach Postman but the reason I</p>
<p begin="06:30:57.398" end="06:31:01.878" style="s2">bring this up again is that uh you&#39;ll</p>
<p begin="06:30:59.680" end="06:31:03.320" style="s2">notice how we&#39;ve got a couple of routes</p>
<p begin="06:31:01.878" end="06:31:04.718" style="s2">for dealing with posts and then we&#39;ve</p>
<p begin="06:31:03.320" end="06:31:06.080" style="s2">got a couple of routes for dealing with</p>
<p begin="06:31:04.718" end="06:31:07.760" style="s2">users and then we&#39;ve got this random</p>
<p begin="06:31:06.080" end="06:31:09.878" style="s2">test one that we created when we were</p>
<p begin="06:31:07.760" end="06:31:11.320" style="s2">first learning about path operations and</p>
<p begin="06:31:09.878" end="06:31:13.920" style="s2">what I would like to do is I would like</p>
<p begin="06:31:11.320" end="06:31:15.240" style="s2">to structure this documentation so that</p>
<p begin="06:31:13.920" end="06:31:16.798" style="s2">uh instead of kind of grouping them all</p>
<p begin="06:31:15.240" end="06:31:19.280" style="s2">together we can kind of group them based</p>
<p begin="06:31:16.798" end="06:31:20.798" style="s2">off of uh the their responsibility so I</p>
<p begin="06:31:19.280" end="06:31:23.280" style="s2">would like to create a group that</p>
<p begin="06:31:20.798" end="06:31:24.840" style="s2">handles all of the post operations uh so</p>
<p begin="06:31:23.280" end="06:31:26.680" style="s2">all of these five right here and then I</p>
<p begin="06:31:24.840" end="06:31:28.798" style="s2">would like a separate group that handles</p>
<p begin="06:31:26.680" end="06:31:30.398" style="s2">all of the user-based operations so that</p>
<p begin="06:31:28.798" end="06:31:32.160" style="s2">it&#39;s a little bit easier for your</p>
<p begin="06:31:30.398" end="06:31:33.958" style="s2">clients and your users to understand</p>
<p begin="06:31:32.160" end="06:31:35.920" style="s2">what each one does by grouping them</p>
<p begin="06:31:33.958" end="06:31:38.240" style="s2">accordingly uh based off of their</p>
<p begin="06:31:35.920" end="06:31:40.478" style="s2">specific action and so I want to have a</p>
<p begin="06:31:38.240" end="06:31:42.080" style="s2">group that actually is titled posts and</p>
<p begin="06:31:40.478" end="06:31:43.478" style="s2">a group that&#39;s titled users so that when</p>
<p begin="06:31:42.080" end="06:31:44.558" style="s2">they see that they say oh the user</p>
<p begin="06:31:43.478" end="06:31:45.878" style="s2">section is going to be dealing with</p>
<p begin="06:31:44.558" end="06:31:48.760" style="s2">users and the post section is going to</p>
<p begin="06:31:45.878" end="06:31:50.760" style="s2">be dealing with posts uh and getting</p>
<p begin="06:31:48.760" end="06:31:53.160" style="s2">this fixed or update and our code is</p>
<p begin="06:31:50.760" end="06:31:55.040" style="s2">super simple with fast API so uh let&#39;s</p>
<p begin="06:31:53.160" end="06:31:57.958" style="s2">go to our fast API go to our routers and</p>
<p begin="06:31:55.040" end="06:32:01.520" style="s2">if we go to the post.</p>
<p begin="06:31:57.958" end="06:32:03.920" style="s2">py uh to add a specific group name what</p>
<p begin="06:32:01.520" end="06:32:06.200" style="s2">we call uh it&#39;s actually called a tag so</p>
<p begin="06:32:03.920" end="06:32:09.000" style="s2">we say tags</p>
<p begin="06:32:06.200" end="06:32:11.200" style="s2">equals we just say</p>
<p begin="06:32:09.000" end="06:32:12.920" style="s2">posts and I forgot that comma right</p>
<p begin="06:32:11.200" end="06:32:18.478" style="s2">there we&#39;re going to do the same thing</p>
<p begin="06:32:12.920" end="06:32:18.478" style="s2">for users so we&#39;ll say tags</p>
<p begin="06:32:21.478" end="06:32:25.760" style="s2">equals</p>
<p begin="06:32:23.440" end="06:32:27.920" style="s2">users and you you can see that this is a</p>
<p begin="06:32:25.760" end="06:32:29.718" style="s2">list so you can pass more than one um</p>
<p begin="06:32:27.920" end="06:32:33.840" style="s2">but we&#39;ll save that and then I&#39;m going</p>
<p begin="06:32:29.718" end="06:32:33.840" style="s2">to refresh this page</p>
<p begin="06:32:36.240" end="06:32:40.120" style="s2">and so now you can see that we now have</p>
<p begin="06:32:38.160" end="06:32:43.558" style="s2">these little titles so that we can now</p>
<p begin="06:32:40.120" end="06:32:46.040" style="s2">group our specific requests uh into</p>
<p begin="06:32:43.558" end="06:32:47.760" style="s2">categories and so the readability of our</p>
<p begin="06:32:46.040" end="06:32:49.638" style="s2">documentation has improved tremendously</p>
<p begin="06:32:47.760" end="06:32:51.558" style="s2">with essentially one line of</p>
<p begin="06:32:49.638" end="06:32:53.440" style="s2">code in this section we&#39;re going to</p>
<p begin="06:32:51.558" end="06:32:55.200" style="s2">start tackling one of the most important</p>
<p begin="06:32:53.440" end="06:32:57.120" style="s2">topics when it comes to building out an</p>
<p begin="06:32:55.200" end="06:32:58.718" style="s2">API or really any application and that</p>
<p begin="06:32:57.120" end="06:33:01.000" style="s2">is authentication now when you&#39;re</p>
<p begin="06:32:58.718" end="06:33:02.638" style="s2">working with authentication on an API or</p>
<p begin="06:33:01.000" end="06:33:05.080" style="s2">any application there&#39;s really two main</p>
<p begin="06:33:02.638" end="06:33:07.080" style="s2">ways to tackle authentication there&#39;s</p>
<p begin="06:33:05.080" end="06:33:09.040" style="s2">the session based authentication and the</p>
<p begin="06:33:07.080" end="06:33:11.000" style="s2">idea behind a session is that uh we</p>
<p begin="06:33:09.040" end="06:33:13.798" style="s2">store something on our backend server or</p>
<p begin="06:33:11.000" end="06:33:15.320" style="s2">our API in this case to track whether a</p>
<p begin="06:33:13.798" end="06:33:17.040" style="s2">user is logged in so there&#39;s some piece</p>
<p begin="06:33:15.320" end="06:33:18.120" style="s2">of information whether we store it in</p>
<p begin="06:33:17.040" end="06:33:20.280" style="s2">the database whether we store it in</p>
<p begin="06:33:18.120" end="06:33:22.320" style="s2">memory that&#39;s going to keep track of if</p>
<p begin="06:33:20.280" end="06:33:25.040" style="s2">the user has logged in and when the user</p>
<p begin="06:33:22.320" end="06:33:27.160" style="s2">logs out so that&#39;s one way of doing</p>
<p begin="06:33:25.040" end="06:33:30.120" style="s2">things the other way of doing things is</p>
<p begin="06:33:27.160" end="06:33:32.440" style="s2">doing it uh is using JWT token based</p>
<p begin="06:33:30.120" end="06:33:34.360" style="s2">authentication and the idea behind uh</p>
<p begin="06:33:32.440" end="06:33:36.558" style="s2">JWT Authentication is that it&#39;s</p>
<p begin="06:33:34.360" end="06:33:38.080" style="s2">stateless and what I mean by that is</p>
<p begin="06:33:36.558" end="06:33:39.320" style="s2">that there&#39;s nothing on our backend</p>
<p begin="06:33:38.080" end="06:33:41.040" style="s2">there&#39;s nothing on our API there&#39;s</p>
<p begin="06:33:39.320" end="06:33:43.520" style="s2">nothing in our database that actually</p>
<p begin="06:33:41.040" end="06:33:45.000" style="s2">keeps track uh or store some sort of</p>
<p begin="06:33:43.520" end="06:33:47.360" style="s2">information about whether a user is</p>
<p begin="06:33:45.000" end="06:33:48.440" style="s2">logged in or logged out uh we and you&#39;re</p>
<p begin="06:33:47.360" end="06:33:49.718" style="s2">probably thinking well how do we know</p>
<p begin="06:33:48.440" end="06:33:52.360" style="s2">that they&#39;re logged in well that&#39;s the</p>
<p begin="06:33:49.718" end="06:33:54.520" style="s2">power of JWT tokens is that the token</p>
<p begin="06:33:52.360" end="06:33:56.680" style="s2">itself which we don&#39;t store in our</p>
<p begin="06:33:54.520" end="06:33:58.200" style="s2">database and we don&#39;t store in our API</p>
<p begin="06:33:56.680" end="06:34:00.638" style="s2">uh it&#39;s actually stored on the front end</p>
<p begin="06:33:58.200" end="06:34:02.360" style="s2">on our clients uh actually keeps track</p>
<p begin="06:34:00.638" end="06:34:04.760" style="s2">of you know whether a user is logged in</p>
<p begin="06:34:02.360" end="06:34:06.638" style="s2">or not and and when I first started</p>
<p begin="06:34:04.760" end="06:34:08.600" style="s2">learning about jwt&#39;s it was a little bit</p>
<p begin="06:34:06.638" end="06:34:10.600" style="s2">of a complex topic it seemed like there</p>
<p begin="06:34:08.600" end="06:34:12.398" style="s2">were so many pieces that were in play</p>
<p begin="06:34:10.600" end="06:34:13.920" style="s2">but then when you when I actually sto to</p>
<p begin="06:34:12.398" end="06:34:16.398" style="s2">really understand it I realized it&#39;s one</p>
<p begin="06:34:13.920" end="06:34:18.120" style="s2">of the simplest Solutions so hopefully I</p>
<p begin="06:34:16.398" end="06:34:20.120" style="s2">can make this as easy as possible for</p>
<p begin="06:34:18.120" end="06:34:21.920" style="s2">you guys I hope this doesn&#39;t end up kind</p>
<p begin="06:34:20.120" end="06:34:23.958" style="s2">of confusing you like it confused me at</p>
<p begin="06:34:21.920" end="06:34:25.958" style="s2">first it really is simple and there&#39;s</p>
<p begin="06:34:23.958" end="06:34:28.080" style="s2">really only a couple steps but uh you</p>
<p begin="06:34:25.958" end="06:34:29.840" style="s2">got to really understand what a JWT</p>
<p begin="06:34:28.080" end="06:34:31.878" style="s2">token is and what we&#39;re doing on the</p>
<p begin="06:34:29.840" end="06:34:32.958" style="s2">front end and the back end to make it so</p>
<p begin="06:34:31.878" end="06:34:34.680" style="s2">that we can actually use it as an</p>
<p begin="06:34:32.958" end="06:34:37.200" style="s2">authentication solution</p>
<p begin="06:34:34.680" end="06:34:40.600" style="s2">solution so let&#39;s take a look at the</p>
<p begin="06:34:37.200" end="06:34:42.160" style="s2">flow for how a user logs in how a user</p>
<p begin="06:34:40.600" end="06:34:45.160" style="s2">is essentially authenticated and then</p>
<p begin="06:34:42.160" end="06:34:47.638" style="s2">how a user accesses a specific path</p>
<p begin="06:34:45.160" end="06:34:50.080" style="s2">operation resource or endpoint uh by</p>
<p begin="06:34:47.638" end="06:34:51.520" style="s2">using the JWT token to ensure that the</p>
<p begin="06:34:50.080" end="06:34:52.680" style="s2">API knows that we&#39;re logged in so that</p>
<p begin="06:34:51.520" end="06:34:54.600" style="s2">we can actually provide him that</p>
<p begin="06:34:52.680" end="06:34:55.878" style="s2">important information and so what&#39;s</p>
<p begin="06:34:54.600" end="06:34:58.798" style="s2">going to happen is the client or the</p>
<p begin="06:34:55.878" end="06:35:00.360" style="s2">front end whoever it is they&#39;re going to</p>
<p begin="06:34:58.798" end="06:35:01.920" style="s2">try and log in so what we&#39;re going to do</p>
<p begin="06:35:00.360" end="06:35:04.958" style="s2">is we&#39;re ultimately going to create a</p>
<p begin="06:35:01.920" end="06:35:06.520" style="s2">path operation uh called login and and</p>
<p begin="06:35:04.958" end="06:35:08.040" style="s2">the the client is going to pass the</p>
<p begin="06:35:06.520" end="06:35:08.958" style="s2">username and they&#39;re going to pass in</p>
<p begin="06:35:08.040" end="06:35:10.040" style="s2">the password so whatever their</p>
<p begin="06:35:08.958" end="06:35:11.200" style="s2">credentials are so it doesn&#39;t</p>
<p begin="06:35:10.040" end="06:35:13.000" style="s2">technically have to be username and</p>
<p begin="06:35:11.200" end="06:35:15.200" style="s2">password it could be email and password</p>
<p begin="06:35:13.000" end="06:35:16.440" style="s2">it can be uh whatever information that</p>
<p begin="06:35:15.200" end="06:35:17.760" style="s2">you want so technically in our</p>
<p begin="06:35:16.440" end="06:35:19.920" style="s2">application it&#39;s going to be email and</p>
<p begin="06:35:17.760" end="06:35:22.520" style="s2">password because uh we don&#39;t have</p>
<p begin="06:35:19.920" end="06:35:25.040" style="s2">usernames I guess uh we mostly just have</p>
<p begin="06:35:22.520" end="06:35:26.878" style="s2">emails um but they provide their</p>
<p begin="06:35:25.040" end="06:35:28.878" style="s2">credentials and so after we get their</p>
<p begin="06:35:26.878" end="06:35:31.360" style="s2">credentials what we&#39;re going to do is</p>
<p begin="06:35:28.878" end="06:35:32.680" style="s2">first of all we&#39;re going to create well</p>
<p begin="06:35:31.360" end="06:35:34.478" style="s2">first of all we&#39;re going to verify if</p>
<p begin="06:35:32.680" end="06:35:35.798" style="s2">credentials are valid right so if the</p>
<p begin="06:35:34.478" end="06:35:38.120" style="s2">credentials are correct if the password</p>
<p begin="06:35:35.798" end="06:35:40.000" style="s2">matches uh the if the username and</p>
<p begin="06:35:38.120" end="06:35:42.680" style="s2">password match with the account we&#39;re</p>
<p begin="06:35:40.000" end="06:35:44.600" style="s2">going to create this JWT token and we</p>
<p begin="06:35:42.680" end="06:35:46.440" style="s2">haven&#39;t talked about what the JWT token</p>
<p begin="06:35:44.600" end="06:35:48.600" style="s2">is so don&#39;t worry too much about it but</p>
<p begin="06:35:46.440" end="06:35:49.600" style="s2">I&#39;ve created an example token right here</p>
<p begin="06:35:48.600" end="06:35:51.120" style="s2">and so you&#39;re probably thinking it just</p>
<p begin="06:35:49.600" end="06:35:53.280" style="s2">looks like a bunch of gibberish and for</p>
<p begin="06:35:51.120" end="06:35:54.760" style="s2">the most part it is so moving forward I</p>
<p begin="06:35:53.280" end="06:35:57.040" style="s2">want you to think of this as nothing</p>
<p begin="06:35:54.760" end="06:35:59.120" style="s2">more than just a string you know just a</p>
<p begin="06:35:57.040" end="06:36:00.840" style="s2">regular string in Python that&#39;s kind of</p>
<p begin="06:35:59.120" end="06:36:02.558" style="s2">fundamentally what it is uh but there&#39;s</p>
<p begin="06:36:00.840" end="06:36:04.680" style="s2">a little bit more information embedded</p>
<p begin="06:36:02.558" end="06:36:06.000" style="s2">in it but of it as a string from the</p>
<p begin="06:36:04.680" end="06:36:08.080" style="s2">perspective of the client the client</p>
<p begin="06:36:06.000" end="06:36:10.080" style="s2">doesn&#39;t know what the token is and it it</p>
<p begin="06:36:08.080" end="06:36:12.360" style="s2">never cares really the only the API</p>
<p begin="06:36:10.080" end="06:36:13.440" style="s2">cares what&#39;s actually in the token and</p>
<p begin="06:36:12.360" end="06:36:15.958" style="s2">what it</p>
<p begin="06:36:13.440" end="06:36:17.958" style="s2">means and so we&#39;ll send a response back</p>
<p begin="06:36:15.958" end="06:36:20.718" style="s2">with the token and so now the client has</p>
<p begin="06:36:17.958" end="06:36:22.440" style="s2">the token and so he can start accessing</p>
<p begin="06:36:20.718" end="06:36:25.160" style="s2">uh resources uh that require</p>
<p begin="06:36:22.440" end="06:36:26.240" style="s2">authentication so anytime he wants to uh</p>
<p begin="06:36:25.160" end="06:36:27.638" style="s2">you know let&#39;s say our application</p>
<p begin="06:36:26.240" end="06:36:29.920" style="s2">requires a user to be logged into</p>
<p begin="06:36:27.638" end="06:36:33.600" style="s2">retrieve posts what he can do is he&#39;ll</p>
<p begin="06:36:29.920" end="06:36:36.398" style="s2">send a request to the/ poost endpoint um</p>
<p begin="06:36:33.600" end="06:36:38.398" style="s2">but he also provides the token uh in the</p>
<p begin="06:36:36.398" end="06:36:40.120" style="s2">header of the request and you may not</p>
<p begin="06:36:38.398" end="06:36:41.798" style="s2">know what the header of a request is but</p>
<p begin="06:36:40.120" end="06:36:43.000" style="s2">I&#39;ll show you guys it&#39;s very simple you</p>
<p begin="06:36:41.798" end="06:36:45.478" style="s2">can just think of it it&#39;s somewhere in</p>
<p begin="06:36:43.000" end="06:36:47.760" style="s2">the payload of the request and so he</p>
<p begin="06:36:45.478" end="06:36:50.040" style="s2">sends that and what the API is going to</p>
<p begin="06:36:47.760" end="06:36:52.478" style="s2">do our fast API is first of all it&#39;s</p>
<p begin="06:36:50.040" end="06:36:54.320" style="s2">going to verify the token is valid and</p>
<p begin="06:36:52.478" end="06:36:56.080" style="s2">there&#39;s a couple of different steps</p>
<p begin="06:36:54.320" end="06:36:57.120" style="s2">needed to actually verify if a token&#39;s</p>
<p begin="06:36:56.080" end="06:36:58.600" style="s2">valid and we&#39;re going to cover that in</p>
<p begin="06:36:57.120" end="06:37:00.558" style="s2">the next slide but just know that the</p>
<p begin="06:36:58.600" end="06:37:02.958" style="s2">API just checks hey is this a valid</p>
<p begin="06:37:00.558" end="06:37:05.200" style="s2">token and if it is well then he just</p>
<p begin="06:37:02.958" end="06:37:07.440" style="s2">sends back the the data and that&#39;s it</p>
<p begin="06:37:05.200" end="06:37:10.320" style="s2">right our authentication system is dead</p>
<p begin="06:37:07.440" end="06:37:12.160" style="s2">simple you you provide your credentials</p>
<p begin="06:37:10.320" end="06:37:13.638" style="s2">you get a token and then anytime you</p>
<p begin="06:37:12.160" end="06:37:15.478" style="s2">want to access anything that requires</p>
<p begin="06:37:13.638" end="06:37:18.160" style="s2">you to be logged in you just send the</p>
<p begin="06:37:15.478" end="06:37:19.718" style="s2">token in the header and that&#39;s it so</p>
<p begin="06:37:18.160" end="06:37:21.440" style="s2">hopefully this wasn&#39;t confusing</p>
<p begin="06:37:19.718" end="06:37:23.920" style="s2">hopefully you guys see the Simplicity in</p>
<p begin="06:37:21.440" end="06:37:25.878" style="s2">this solution the API doesn&#39;t actually</p>
<p begin="06:37:23.920" end="06:37:27.958" style="s2">track anything there&#39;s no information</p>
<p begin="06:37:25.878" end="06:37:30.080" style="s2">being stored on the API instead the</p>
<p begin="06:37:27.958" end="06:37:31.600" style="s2">client just holds on to the token and he</p>
<p begin="06:37:30.080" end="06:37:33.320" style="s2">provides it to us and if we verify that</p>
<p begin="06:37:31.600" end="06:37:36.320" style="s2">the token&#39;s valid that&#39;s all we have to</p>
<p begin="06:37:33.320" end="06:37:39.040" style="s2">do do so let&#39;s break down what exactly a</p>
<p begin="06:37:36.320" end="06:37:41.080" style="s2">JWT token is and what are the components</p>
<p begin="06:37:39.040" end="06:37:42.760" style="s2">that make up a token and so I&#39;ve got an</p>
<p begin="06:37:41.080" end="06:37:44.440" style="s2">example token right here and this is</p>
<p begin="06:37:42.760" end="06:37:47.200" style="s2">kind of the same piece of text that we</p>
<p begin="06:37:44.440" end="06:37:48.478" style="s2">saw in the previous slide uh and so it</p>
<p begin="06:37:47.200" end="06:37:50.398" style="s2">once again just looks like a bunch of</p>
<p begin="06:37:48.478" end="06:37:51.638" style="s2">cryptic characters just Jam together and</p>
<p begin="06:37:50.398" end="06:37:53.760" style="s2">that&#39;s kind of what it is it looks like</p>
<p begin="06:37:51.638" end="06:37:55.478" style="s2">it&#39;s encrypted but keep in mind it is</p>
<p begin="06:37:53.760" end="06:37:56.680" style="s2">not encrypted this is important to</p>
<p begin="06:37:55.478" end="06:37:59.000" style="s2">understand and we&#39;re going to make sure</p>
<p begin="06:37:56.680" end="06:38:01.240" style="s2">I drive home this point it is not</p>
<p begin="06:37:59.000" end="06:38:05.080" style="s2">encrypted um but the token itself is</p>
<p begin="06:38:01.240" end="06:38:06.600" style="s2">made up of three individual pieces</p>
<p begin="06:38:05.080" end="06:38:09.760" style="s2">the first thing is the header so the</p>
<p begin="06:38:06.600" end="06:38:12.440" style="s2">header includes metadata about the token</p>
<p begin="06:38:09.760" end="06:38:14.200" style="s2">uh and so we&#39;re actually going to sign</p>
<p begin="06:38:12.440" end="06:38:16.600" style="s2">this token uh so we&#39;re going to think of</p>
<p begin="06:38:14.200" end="06:38:18.398" style="s2">it almost like hashing the token uh and</p>
<p begin="06:38:16.600" end="06:38:19.600" style="s2">so we have to specify the algorithm that</p>
<p begin="06:38:18.398" end="06:38:21.718" style="s2">we&#39;re going to use so in this case the</p>
<p begin="06:38:19.600" end="06:38:23.520" style="s2">default is hs256 so we&#39;ve included that</p>
<p begin="06:38:21.718" end="06:38:26.600" style="s2">in the metadata and then you can see the</p>
<p begin="06:38:23.520" end="06:38:27.958" style="s2">type is set to JWT so this is a JWT</p>
<p begin="06:38:26.600" end="06:38:29.320" style="s2">token so that&#39;s why the type has been</p>
<p begin="06:38:27.958" end="06:38:31.440" style="s2">set so the metadata is going to be the</p>
<p begin="06:38:29.320" end="06:38:32.840" style="s2">same for all of our tokens this is just</p>
<p begin="06:38:31.440" end="06:38:34.000" style="s2">kind of fixed don&#39;t worry too much about</p>
<p begin="06:38:32.840" end="06:38:35.920" style="s2">it it&#39;s not really that important we</p>
<p begin="06:38:34.000" end="06:38:37.718" style="s2">don&#39;t really ever touch it now the</p>
<p begin="06:38:35.920" end="06:38:39.958" style="s2">payload is a little bit more interesting</p>
<p begin="06:38:37.718" end="06:38:42.280" style="s2">so the payload of a token is ultimately</p>
<p begin="06:38:39.958" end="06:38:44.878" style="s2">up to you you can send absolutely no</p>
<p begin="06:38:42.280" end="06:38:46.638" style="s2">payload you can send any piece of</p>
<p begin="06:38:44.878" end="06:38:47.958" style="s2">information that you want to send uh</p>
<p begin="06:38:46.638" end="06:38:49.840" style="s2">within the payload you can include</p>
<p begin="06:38:47.958" end="06:38:51.398" style="s2">anything that you want however you want</p>
<p begin="06:38:49.840" end="06:38:53.760" style="s2">to be careful with what you put in the</p>
<p begin="06:38:51.398" end="06:38:55.638" style="s2">payload because uh it&#39;s important to</p>
<p begin="06:38:53.760" end="06:38:58.000" style="s2">understand that the token itself is not</p>
<p begin="06:38:55.638" end="06:39:00.200" style="s2">encrypted uh and so that means anybody</p>
<p begin="06:38:58.000" end="06:39:01.680" style="s2">else in the outside world can take a</p>
<p begin="06:39:00.200" end="06:39:03.000" style="s2">look at a token and they can see what&#39;s</p>
<p begin="06:39:01.680" end="06:39:04.638" style="s2">in the payload so you don&#39;t want to put</p>
<p begin="06:39:03.000" end="06:39:06.200" style="s2">any confidential information you want</p>
<p begin="06:39:04.638" end="06:39:09.360" style="s2">you don&#39;t want to put any passwords or</p>
<p begin="06:39:06.200" end="06:39:10.878" style="s2">Secrets or anything like that uh instead</p>
<p begin="06:39:09.360" end="06:39:12.440" style="s2">you want to stick to some very basic</p>
<p begin="06:39:10.878" end="06:39:14.878" style="s2">things so very common things that we put</p>
<p begin="06:39:12.440" end="06:39:17.520" style="s2">in the payload are what is the ID of the</p>
<p begin="06:39:14.878" end="06:39:19.798" style="s2">user right so when I log in right</p>
<p begin="06:39:17.520" end="06:39:21.760" style="s2">normally our API is going to create a</p>
<p begin="06:39:19.798" end="06:39:24.320" style="s2">token and then embed my user ID into the</p>
<p begin="06:39:21.760" end="06:39:27.840" style="s2">token so that when I ask to get all of</p>
<p begin="06:39:24.320" end="06:39:29.000" style="s2">my posts the the API will be able to</p>
<p begin="06:39:27.840" end="06:39:31.000" style="s2">take a look at the token verify it&#39;s</p>
<p begin="06:39:29.000" end="06:39:32.840" style="s2">correct extract to the payload and it&#39;ll</p>
<p begin="06:39:31.000" end="06:39:34.958" style="s2">automatically know the ID of the user</p>
<p begin="06:39:32.840" end="06:39:36.760" style="s2">that requests did this but we can</p>
<p begin="06:39:34.958" end="06:39:38.600" style="s2">include other things we can include uh</p>
<p begin="06:39:36.760" end="06:39:40.200" style="s2">the user&#39;s role so are they an admin are</p>
<p begin="06:39:38.600" end="06:39:42.080" style="s2">they just are they a privileged user are</p>
<p begin="06:39:40.200" end="06:39:43.680" style="s2">they a regular user um we can</p>
<p begin="06:39:42.080" end="06:39:46.240" style="s2">technically include any information one</p>
<p begin="06:39:43.680" end="06:39:47.840" style="s2">thing to keep in mind is that anytime we</p>
<p begin="06:39:46.240" end="06:39:49.638" style="s2">need to access anything authenticated we</p>
<p begin="06:39:47.840" end="06:39:51.478" style="s2">have to include this token so if we Jam</p>
<p begin="06:39:49.638" end="06:39:53.558" style="s2">a lot of information in there well it&#39;s</p>
<p begin="06:39:51.478" end="06:39:55.000" style="s2">going to increase the size of our packet</p>
<p begin="06:39:53.558" end="06:39:57.160" style="s2">and that&#39;s going to be a waste of some</p>
<p begin="06:39:55.000" end="06:39:58.760" style="s2">bandwidth so you don&#39;t want to jam too</p>
<p begin="06:39:57.160" end="06:40:00.798" style="s2">much information just a couple of small</p>
<p begin="06:39:58.760" end="06:40:03.478" style="s2">things here or there and then finally we</p>
<p begin="06:40:00.798" end="06:40:06.760" style="s2">have a signature so a signature is a</p>
<p begin="06:40:03.478" end="06:40:08.200" style="s2">combination of three things we&#39;ve got</p>
<p begin="06:40:06.760" end="06:40:10.520" style="s2">the header so we take the header that&#39;s</p>
<p begin="06:40:08.200" end="06:40:12.240" style="s2">already in the token we take the payload</p>
<p begin="06:40:10.520" end="06:40:14.398" style="s2">that&#39;s already in the token and then we</p>
<p begin="06:40:12.240" end="06:40:16.000" style="s2">add our secret so there&#39;s a special</p>
<p begin="06:40:14.398" end="06:40:18.520" style="s2">password that we&#39;re going to keep on our</p>
<p begin="06:40:16.000" end="06:40:20.520" style="s2">API this is only on our API clients will</p>
<p begin="06:40:18.520" end="06:40:21.718" style="s2">not know it no one else will know it uh</p>
<p begin="06:40:20.520" end="06:40:23.760" style="s2">and it&#39;s probably the most important</p>
<p begin="06:40:21.718" end="06:40:24.958" style="s2">thing to our whole authentication system</p>
<p begin="06:40:23.760" end="06:40:26.558" style="s2">so you don&#39;t ever want this secret to</p>
<p begin="06:40:24.958" end="06:40:28.878" style="s2">get out but we take those three things</p>
<p begin="06:40:26.558" end="06:40:30.680" style="s2">the secret the header the payload and</p>
<p begin="06:40:28.878" end="06:40:32.638" style="s2">then we essentially take that</p>
<p begin="06:40:30.680" end="06:40:35.160" style="s2">information pass it into the signing</p>
<p begin="06:40:32.638" end="06:40:37.718" style="s2">algorithm which is the hs256 and then</p>
<p begin="06:40:35.160" end="06:40:39.440" style="s2">it&#39;s going to return a</p>
<p begin="06:40:37.718" end="06:40:40.600" style="s2">signature and this signature is</p>
<p begin="06:40:39.440" end="06:40:42.920" style="s2">important because we&#39;re going to use</p>
<p begin="06:40:40.600" end="06:40:44.398" style="s2">this to determine if the token is valid</p>
<p begin="06:40:42.920" end="06:40:45.878" style="s2">because we don&#39;t want anyone else</p>
<p begin="06:40:44.398" end="06:40:47.638" style="s2">tampering with our tokens we don&#39;t want</p>
<p begin="06:40:45.878" end="06:40:49.558" style="s2">them changing data you know I don&#39;t want</p>
<p begin="06:40:47.638" end="06:40:51.240" style="s2">some user to log in and then just start</p>
<p begin="06:40:49.558" end="06:40:53.080" style="s2">changing numbers in here to make it seem</p>
<p begin="06:40:51.240" end="06:40:56.040" style="s2">like it&#39;s a different user because then</p>
<p begin="06:40:53.080" end="06:40:58.320" style="s2">they can potentially access other users</p>
<p begin="06:40:56.040" end="06:40:59.718" style="s2">information uh and so that&#39;s why we have</p>
<p begin="06:40:58.320" end="06:41:02.718" style="s2">this signature it&#39;s just to make sure</p>
<p begin="06:40:59.718" end="06:41:04.718" style="s2">that no one has uh tampered with our</p>
<p begin="06:41:02.718" end="06:41:06.558" style="s2">specific token and so you know I just</p>
<p begin="06:41:04.718" end="06:41:08.718" style="s2">want to drive home that same point first</p>
<p begin="06:41:06.558" end="06:41:11.478" style="s2">of all there&#39;s no encryption so anyone</p>
<p begin="06:41:08.718" end="06:41:14.718" style="s2">can see the data the signature is just</p>
<p begin="06:41:11.478" end="06:41:16.638" style="s2">there for um data integrity and what</p>
<p begin="06:41:14.718" end="06:41:18.360" style="s2">that means is no one has changed it that</p>
<p begin="06:41:16.638" end="06:41:20.360" style="s2">means all the data that we have in there</p>
<p begin="06:41:18.360" end="06:41:22.000" style="s2">is still what it should be no one has</p>
<p begin="06:41:20.360" end="06:41:24.680" style="s2">messed with the data all right and if</p>
<p begin="06:41:22.000" end="06:41:27.878" style="s2">you&#39;re still confused as to what a</p>
<p begin="06:41:24.680" end="06:41:29.680" style="s2">signature is we&#39;re going to take a look</p>
<p begin="06:41:27.878" end="06:41:31.478" style="s2">at how signature work why we use them</p>
<p begin="06:41:29.680" end="06:41:33.558" style="s2">and how they ultimately help us detect</p>
<p begin="06:41:31.478" end="06:41:35.240" style="s2">if someone changes uh any of the</p>
<p begin="06:41:33.558" end="06:41:36.478" style="s2">information are token in the next slide</p>
<p begin="06:41:35.240" end="06:41:38.920" style="s2">and then I think at that point you guys</p>
<p begin="06:41:36.478" end="06:41:40.920" style="s2">will see it&#39;s not really a complex uh</p>
<p begin="06:41:38.920" end="06:41:42.200" style="s2">concept and uh once you get that you&#39;ll</p>
<p begin="06:41:40.920" end="06:41:44.520" style="s2">see that the whole authentication</p>
<p begin="06:41:42.200" end="06:41:46.160" style="s2">process is fairly simple okay guys so</p>
<p begin="06:41:44.520" end="06:41:48.958" style="s2">we&#39;re going to do a deep dive into why</p>
<p begin="06:41:46.160" end="06:41:50.600" style="s2">we need the signature within the token</p>
<p begin="06:41:48.958" end="06:41:51.878" style="s2">and you&#39;ll see this the slide may look a</p>
<p begin="06:41:50.600" end="06:41:53.360" style="s2">little complex there seems to be a lot</p>
<p begin="06:41:51.878" end="06:41:54.680" style="s2">of boxes a lot of things going on but as</p>
<p begin="06:41:53.360" end="06:41:57.878" style="s2">soon as I explain this I think you guys</p>
<p begin="06:41:54.680" end="06:42:00.160" style="s2">will see that it&#39;s not too complex of a</p>
<p begin="06:41:57.878" end="06:42:02.120" style="s2">concept so let&#39;s break this down step by</p>
<p begin="06:42:00.160" end="06:42:03.958" style="s2">step let&#39;s say a user has logged into</p>
<p begin="06:42:02.120" end="06:42:05.680" style="s2">our application he sent our credentials</p>
<p begin="06:42:03.958" end="06:42:07.240" style="s2">and our API has created the token and</p>
<p begin="06:42:05.680" end="06:42:09.160" style="s2">it&#39;s in the process of sending it back</p>
<p begin="06:42:07.240" end="06:42:11.320" style="s2">to the user so this is going to be our</p>
<p begin="06:42:09.160" end="06:42:12.440" style="s2">token that we create on our API and it&#39;s</p>
<p begin="06:42:11.320" end="06:42:13.958" style="s2">going to create it&#39;s going to have three</p>
<p begin="06:42:12.440" end="06:42:15.920" style="s2">things the same three things we</p>
<p begin="06:42:13.958" end="06:42:17.240" style="s2">discussed in the previous slide we&#39;ve</p>
<p begin="06:42:15.920" end="06:42:19.398" style="s2">got the header that&#39;s got all the</p>
<p begin="06:42:17.240" end="06:42:20.240" style="s2">metadata it&#39;s got the payload right and</p>
<p begin="06:42:19.398" end="06:42:21.320" style="s2">this is going to have whatever</p>
<p begin="06:42:20.240" end="06:42:23.200" style="s2">information we want to put in the</p>
<p begin="06:42:21.320" end="06:42:25.760" style="s2">payload and in this case we&#39;ve decided</p>
<p begin="06:42:23.200" end="06:42:28.718" style="s2">to embed the user&#39;s ID as well as his</p>
<p begin="06:42:25.760" end="06:42:30.760" style="s2">specific um role uh in this case he&#39;s a</p>
<p begin="06:42:28.718" end="06:42:33.200" style="s2">plain user he&#39;s not like an a special</p>
<p begin="06:42:30.760" end="06:42:35.200" style="s2">privileged user or a staff user or an</p>
<p begin="06:42:33.200" end="06:42:36.638" style="s2">admin he&#39;s just a regular user of our</p>
<p begin="06:42:35.200" end="06:42:39.200" style="s2">application so he can only do very</p>
<p begin="06:42:36.638" end="06:42:41.440" style="s2">specific things and then we have to</p>
<p begin="06:42:39.200" end="06:42:44.080" style="s2">generate a signature and our signature</p>
<p begin="06:42:41.440" end="06:42:45.360" style="s2">is going to be uh a combination of three</p>
<p begin="06:42:44.080" end="06:42:46.718" style="s2">things it&#39;s going to be a combination of</p>
<p begin="06:42:45.360" end="06:42:48.478" style="s2">our header and remember this header is</p>
<p begin="06:42:46.718" end="06:42:49.680" style="s2">the same thing so even though our token</p>
<p begin="06:42:48.478" end="06:42:52.120" style="s2">already has the header what we do is we</p>
<p begin="06:42:49.680" end="06:42:54.120" style="s2">take that header we take the payload</p>
<p begin="06:42:52.120" end="06:42:55.760" style="s2">with the specific pieces of information</p>
<p begin="06:42:54.120" end="06:42:58.440" style="s2">we&#39;ve included in there and then we</p>
<p begin="06:42:55.760" end="06:43:00.600" style="s2">include finally our special super secret</p>
<p begin="06:42:58.440" end="06:43:03.360" style="s2">password remember this password only</p>
<p begin="06:43:00.600" end="06:43:04.920" style="s2">resides on our API servers no nobody</p>
<p begin="06:43:03.360" end="06:43:06.558" style="s2">else has access to it our clients don&#39;t</p>
<p begin="06:43:04.920" end="06:43:08.478" style="s2">have access to it the front end doesn&#39;t</p>
<p begin="06:43:06.558" end="06:43:10.280" style="s2">have access to it only we have access to</p>
<p begin="06:43:08.478" end="06:43:12.160" style="s2">it on our API server and this is very</p>
<p begin="06:43:10.280" end="06:43:13.478" style="s2">important because this is the special</p>
<p begin="06:43:12.160" end="06:43:15.360" style="s2">password that no one should ever have</p>
<p begin="06:43:13.478" end="06:43:17.798" style="s2">access to and so we take all of these</p>
<p begin="06:43:15.360" end="06:43:19.520" style="s2">three things we pass it into a hashing</p>
<p begin="06:43:17.798" end="06:43:22.040" style="s2">function essentially and then we create</p>
<p begin="06:43:19.520" end="06:43:23.840" style="s2">a signature and so we take these three</p>
<p begin="06:43:22.040" end="06:43:28.080" style="s2">things and that&#39;s going to make up our</p>
<p begin="06:43:23.840" end="06:43:31.040" style="s2">token and so we send that back to the</p>
<p begin="06:43:28.080" end="06:43:32.840" style="s2">user now let&#39;s say that we&#39;ve got a user</p>
<p begin="06:43:31.040" end="06:43:35.240" style="s2">who decides that he wants to do a little</p>
<p begin="06:43:32.840" end="06:43:38.000" style="s2">bit of shady things and he wants to kind</p>
<p begin="06:43:35.240" end="06:43:39.840" style="s2">of hack our application and do some bad</p>
<p begin="06:43:38.000" end="06:43:42.000" style="s2">things to our application ultimately and</p>
<p begin="06:43:39.840" end="06:43:44.240" style="s2">so what he&#39;s figured out is say hey look</p>
<p begin="06:43:42.000" end="06:43:46.040" style="s2">this token right it&#39;s not encrypted I</p>
<p begin="06:43:44.240" end="06:43:48.360" style="s2">can see all the data I can see that I&#39;m</p>
<p begin="06:43:46.040" end="06:43:49.958" style="s2">a user and so what he&#39;s decided to do he</p>
<p begin="06:43:48.360" end="06:43:53.160" style="s2">changed a few bits in The Token to make</p>
<p begin="06:43:49.958" end="06:43:54.280" style="s2">it now read admin instead of user but he</p>
<p begin="06:43:53.160" end="06:43:55.920" style="s2">could have really done anything right he</p>
<p begin="06:43:54.280" end="06:43:57.520" style="s2">could have changed the ID so that it&#39;s</p>
<p begin="06:43:55.920" end="06:43:58.558" style="s2">someone else&#39;s ID and he can potentially</p>
<p begin="06:43:57.520" end="06:44:00.080" style="s2">have access to someone else&#39;s</p>
<p begin="06:43:58.558" end="06:44:02.840" style="s2">information doesn&#39;t really matter but</p>
<p begin="06:44:00.080" end="06:44:05.440" style="s2">he&#39;s changed a few things and so now</p>
<p begin="06:44:02.840" end="06:44:07.840" style="s2">he&#39;s got a this token which has the</p>
<p begin="06:44:05.440" end="06:44:10.600" style="s2">header signature and payload uh and he&#39;s</p>
<p begin="06:44:07.840" end="06:44:12.000" style="s2">now a admin user or the payload says</p>
<p begin="06:44:10.600" end="06:44:14.680" style="s2">he&#39;s an admin</p>
<p begin="06:44:12.000" end="06:44:16.920" style="s2">user now the reason he can&#39;t actually do</p>
<p begin="06:44:14.680" end="06:44:19.718" style="s2">this is because ultimately remember the</p>
<p begin="06:44:16.920" end="06:44:22.958" style="s2">signature that&#39;s currently in the token</p>
<p begin="06:44:19.718" end="06:44:25.280" style="s2">was generated by having a header the the</p>
<p begin="06:44:22.958" end="06:44:28.240" style="s2">same header uh and then you pass in the</p>
<p begin="06:44:25.280" end="06:44:29.320" style="s2">payload with this specific ID and a role</p>
<p begin="06:44:28.240" end="06:44:32.718" style="s2">of</p>
<p begin="06:44:29.320" end="06:44:34.478" style="s2">user and then you pass in the secret and</p>
<p begin="06:44:32.718" end="06:44:37.000" style="s2">so this signature is no longer valid he</p>
<p begin="06:44:34.478" end="06:44:38.440" style="s2">can&#39;t use this same signature because</p>
<p begin="06:44:37.000" end="06:44:40.200" style="s2">it&#39;s not going to match up with the data</p>
<p begin="06:44:38.440" end="06:44:42.000" style="s2">that he has so if we actually try to</p>
<p begin="06:44:40.200" end="06:44:44.398" style="s2">create a signature from this it&#39;s going</p>
<p begin="06:44:42.000" end="06:44:45.600" style="s2">to look different and so what he has to</p>
<p begin="06:44:44.398" end="06:44:47.280" style="s2">do is he has to create a brand new</p>
<p begin="06:44:45.600" end="06:44:49.558" style="s2">signature so that it matches the data</p>
<p begin="06:44:47.280" end="06:44:51.320" style="s2">he&#39;s sending however he can&#39;t create a</p>
<p begin="06:44:49.558" end="06:44:54.120" style="s2">brand new signature because he doesn&#39;t</p>
<p begin="06:44:51.320" end="06:44:57.200" style="s2">have this super secret special password</p>
<p begin="06:44:54.120" end="06:44:58.520" style="s2">this only resides on our API server and</p>
<p begin="06:44:57.200" end="06:45:01.320" style="s2">so if he tries to create a brand new</p>
<p begin="06:44:58.520" end="06:45:03.080" style="s2">signature he can only pass in the header</p>
<p begin="06:45:01.320" end="06:45:05.240" style="s2">and this payload into the hashing</p>
<p begin="06:45:03.080" end="06:45:08.798" style="s2">function to generate a new signature and</p>
<p begin="06:45:05.240" end="06:45:11.080" style="s2">so that once again is not going to be a</p>
<p begin="06:45:08.798" end="06:45:12.440" style="s2">valid signature because when he sends</p>
<p begin="06:45:11.080" end="06:45:13.680" style="s2">let let&#39;s say he does create that</p>
<p begin="06:45:12.440" end="06:45:15.798" style="s2">signature with only the header and the</p>
<p begin="06:45:13.680" end="06:45:17.200" style="s2">payload and no secret well we now have</p>
<p begin="06:45:15.798" end="06:45:19.478" style="s2">this token right that&#39;s made up of these</p>
<p begin="06:45:17.200" end="06:45:21.160" style="s2">three things we send it to our API and</p>
<p begin="06:45:19.478" end="06:45:23.798" style="s2">what our API is going to do is to verify</p>
<p begin="06:45:21.160" end="06:45:27.520" style="s2">if the token is valid he does a super</p>
<p begin="06:45:23.798" end="06:45:30.040" style="s2">simple test he takes the header he takes</p>
<p begin="06:45:27.520" end="06:45:31.840" style="s2">the payload and he takes the secret and</p>
<p begin="06:45:30.040" end="06:45:33.240" style="s2">he creates a test signature because</p>
<p begin="06:45:31.840" end="06:45:34.320" style="s2">remember that&#39;s what we did in the first</p>
<p begin="06:45:33.240" end="06:45:36.320" style="s2">place to actually create the original</p>
<p begin="06:45:34.320" end="06:45:39.240" style="s2">token we take the header the payload the</p>
<p begin="06:45:36.320" end="06:45:40.440" style="s2">secret and we pass it in to our signing</p>
<p begin="06:45:39.240" end="06:45:42.040" style="s2">function uh and we pass it into our</p>
<p begin="06:45:40.440" end="06:45:43.878" style="s2">hashing function create the signature so</p>
<p begin="06:45:42.040" end="06:45:45.680" style="s2">we do the same thing and then we take</p>
<p begin="06:45:43.878" end="06:45:48.558" style="s2">the signature in the token that was sent</p>
<p begin="06:45:45.680" end="06:45:50.558" style="s2">by the user and we just compare them if</p>
<p begin="06:45:48.558" end="06:45:51.798" style="s2">they don&#39;t match which they won&#39;t</p>
<p begin="06:45:50.558" end="06:45:53.440" style="s2">because remember he doesn&#39;t have access</p>
<p begin="06:45:51.798" end="06:45:55.958" style="s2">to the secret and since we use the</p>
<p begin="06:45:53.440" end="06:45:57.320" style="s2">secret in our hashing function right the</p>
<p begin="06:45:55.958" end="06:45:59.558" style="s2">signatures aren&#39;t going to match and we</p>
<p begin="06:45:57.320" end="06:46:02.240" style="s2">know that this token is not valid so</p>
<p begin="06:45:59.558" end="06:46:05.600" style="s2">this signature once again only ensures</p>
<p begin="06:46:02.240" end="06:46:07.040" style="s2">that the data Integrity is still valid</p>
<p begin="06:46:05.600" end="06:46:08.478" style="s2">that no one has tweaked any of the bits</p>
<p begin="06:46:07.040" end="06:46:10.200" style="s2">no one&#39;s changed any of the data that&#39;s</p>
<p begin="06:46:08.478" end="06:46:12.878" style="s2">all the signature can do it can just</p>
<p begin="06:46:10.200" end="06:46:14.798" style="s2">verify that it hasn&#39;t been changed uh</p>
<p begin="06:46:12.878" end="06:46:17.920" style="s2">since we created the token in the first</p>
<p begin="06:46:14.798" end="06:46:20.840" style="s2">place but once again and I can&#39;t stress</p>
<p begin="06:46:17.920" end="06:46:22.958" style="s2">this enough anybody can change the data</p>
<p begin="06:46:20.840" end="06:46:25.798" style="s2">of a token anybody can see the data of</p>
<p begin="06:46:22.958" end="06:46:27.718" style="s2">the token they just can&#39;t generate a</p>
<p begin="06:46:25.798" end="06:46:29.160" style="s2">brand new signature because they don&#39;t</p>
<p begin="06:46:27.718" end="06:46:31.040" style="s2">have access to the secret and so that&#39;s</p>
<p begin="06:46:29.160" end="06:46:33.558" style="s2">why the password&#39;s so important because</p>
<p begin="06:46:31.040" end="06:46:35.798" style="s2">that&#39;s how we ensure that the token</p>
<p begin="06:46:33.558" end="06:46:37.920" style="s2">hasn&#39;t been manipulated or changed in</p>
<p begin="06:46:35.798" end="06:46:40.280" style="s2">any way shape or form so hopefully that</p>
<p begin="06:46:37.920" end="06:46:42.320" style="s2">made sense uh I didn&#39;t understand this</p>
<p begin="06:46:40.280" end="06:46:44.558" style="s2">at first it took me a while to actually</p>
<p begin="06:46:42.320" end="06:46:45.798" style="s2">grasp why we needed the signature I just</p>
<p begin="06:46:44.558" end="06:46:47.798" style="s2">kind of was like I&#39;ll figure this out</p>
<p begin="06:46:45.798" end="06:46:49.520" style="s2">later um but after a year or so I was</p>
<p begin="06:46:47.798" end="06:46:51.040" style="s2">like oh this is actually a super simple</p>
<p begin="06:46:49.520" end="06:46:52.638" style="s2">concept and hopefully I can do a</p>
<p begin="06:46:51.040" end="06:46:54.080" style="s2">slightly better job of explaining it</p>
<p begin="06:46:52.638" end="06:46:55.520" style="s2">than some of the documents that I read</p>
<p begin="06:46:54.080" end="06:46:56.920" style="s2">when I was first learning it and</p>
<p begin="06:46:55.520" end="06:46:59.680" style="s2">hopefully this kind of uh you know gets</p>
<p begin="06:46:56.920" end="06:47:01.240" style="s2">rid of some of the unnecessary uh stress</p>
<p begin="06:46:59.680" end="06:47:03.798" style="s2">that kind of comes with learning about</p>
<p begin="06:47:01.240" end="06:47:05.398" style="s2">JWT based Authentication</p>
<p begin="06:47:03.798" end="06:47:07.040" style="s2">so once again let&#39;s quickly take a look</p>
<p begin="06:47:05.398" end="06:47:09.558" style="s2">at how we&#39;re going to handle logging in</p>
<p begin="06:47:07.040" end="06:47:11.718" style="s2">the user more specifically how do we</p>
<p begin="06:47:09.558" end="06:47:13.200" style="s2">actually verify that his credentials are</p>
<p begin="06:47:11.718" end="06:47:14.638" style="s2">correct because it&#39;s not going to be</p>
<p begin="06:47:13.200" end="06:47:17.600" style="s2">exactly the same way that you would</p>
<p begin="06:47:14.638" end="06:47:19.120" style="s2">think so the user is going to uh hit the</p>
<p begin="06:47:17.600" end="06:47:20.478" style="s2">login endpoint and he&#39;s going to provide</p>
<p begin="06:47:19.120" end="06:47:22.440" style="s2">the email and the</p>
<p begin="06:47:20.478" end="06:47:24.600" style="s2">password and I&#39;ve colored the word</p>
<p begin="06:47:22.440" end="06:47:26.280" style="s2">password in red because this password is</p>
<p begin="06:47:24.600" end="06:47:28.120" style="s2">going to represent what the user is</p>
<p begin="06:47:26.280" end="06:47:29.440" style="s2">trying to log in as this is his</p>
<p begin="06:47:28.120" end="06:47:30.680" style="s2">attempted password that&#39;s what we&#39;re</p>
<p begin="06:47:29.440" end="06:47:32.440" style="s2">going to call it and that&#39;s going to be</p>
<p begin="06:47:30.680" end="06:47:33.878" style="s2">in red and keep in mind that when he</p>
<p begin="06:47:32.440" end="06:47:35.760" style="s2">sends this this password it&#39;s in plain</p>
<p begin="06:47:33.878" end="06:47:37.760" style="s2">text right it&#39;s just the regular</p>
<p begin="06:47:35.760" end="06:47:39.520" style="s2">password that he typed out and so when</p>
<p begin="06:47:37.760" end="06:47:40.878" style="s2">it gets to our API the first thing that</p>
<p begin="06:47:39.520" end="06:47:42.440" style="s2">we&#39;re going to do is we&#39;re going to hit</p>
<p begin="06:47:40.878" end="06:47:45.398" style="s2">our database to try to find the user</p>
<p begin="06:47:42.440" end="06:47:47.000" style="s2">based off his email or his username and</p>
<p begin="06:47:45.398" end="06:47:48.878" style="s2">the database is going to send back all</p>
<p begin="06:47:47.000" end="06:47:50.760" style="s2">of the information about that user uh</p>
<p begin="06:47:48.878" end="06:47:52.320" style="s2">which includes the password however if</p>
<p begin="06:47:50.760" end="06:47:54.120" style="s2">you remember how we actually created the</p>
<p begin="06:47:52.320" end="06:47:56.520" style="s2">password and stored in the database we</p>
<p begin="06:47:54.120" end="06:47:58.360" style="s2">actually stored a p a hashed version of</p>
<p begin="06:47:56.520" end="06:48:00.760" style="s2">the password in the database so that if</p>
<p begin="06:47:58.360" end="06:48:02.798" style="s2">anyone hacks our database uh the user</p>
<p begin="06:48:00.760" end="06:48:04.160" style="s2">passwords aren&#39;t actually in plain text</p>
<p begin="06:48:02.798" end="06:48:06.200" style="s2">so no one can really hack their</p>
<p begin="06:48:04.160" end="06:48:08.280" style="s2">passwords but this creates a a little</p>
<p begin="06:48:06.200" end="06:48:10.760" style="s2">bit of a problem because we have the</p>
<p begin="06:48:08.280" end="06:48:13.160" style="s2">attempted password uh for the login</p>
<p begin="06:48:10.760" end="06:48:15.360" style="s2">attempt in plain text however we&#39;ve got</p>
<p begin="06:48:13.160" end="06:48:18.080" style="s2">the password in our database as a hashed</p>
<p begin="06:48:15.360" end="06:48:20.120" style="s2">password so how exactly do we check to</p>
<p begin="06:48:18.080" end="06:48:22.280" style="s2">see that they&#39;re equal uh because right</p>
<p begin="06:48:20.120" end="06:48:24.478" style="s2">now a hashed password does not equal the</p>
<p begin="06:48:22.280" end="06:48:27.160" style="s2">same as the regular password and your</p>
<p begin="06:48:24.478" end="06:48:28.600" style="s2">first instinct is to hey well let&#39;s just</p>
<p begin="06:48:27.160" end="06:48:30.798" style="s2">convert this back to a plain text</p>
<p begin="06:48:28.600" end="06:48:33.798" style="s2">password and we can&#39;t exactly do that</p>
<p begin="06:48:30.798" end="06:48:35.638" style="s2">because remember a hash is only one way</p>
<p begin="06:48:33.798" end="06:48:37.320" style="s2">so if we Hash a password we can&#39;t get</p>
<p begin="06:48:35.638" end="06:48:38.920" style="s2">the original password from the hash</p>
<p begin="06:48:37.320" end="06:48:41.360" style="s2">that&#39;s what&#39;s great about hashing a</p>
<p begin="06:48:38.920" end="06:48:42.840" style="s2">password uh and if you think you can do</p>
<p begin="06:48:41.360" end="06:48:44.280" style="s2">that that&#39;s actually what I guess what</p>
<p begin="06:48:42.840" end="06:48:46.638" style="s2">we would refer to as encryption but</p>
<p begin="06:48:44.280" end="06:48:49.040" style="s2">we&#39;re hashing in this case so what do we</p>
<p begin="06:48:46.638" end="06:48:50.558" style="s2">do uh to verify if the passwords are</p>
<p begin="06:48:49.040" end="06:48:52.920" style="s2">actually equal it&#39;s pretty simple we</p>
<p begin="06:48:50.558" end="06:48:55.120" style="s2">take the hashed password and then we</p>
<p begin="06:48:52.920" end="06:48:56.760" style="s2">take the raw and once again this hashed</p>
<p begin="06:48:55.120" end="06:48:58.920" style="s2">password is the the correct password in</p>
<p begin="06:48:56.760" end="06:49:01.920" style="s2">our database then we take the password</p>
<p begin="06:48:58.920" end="06:49:03.638" style="s2">attempt and we hash it again so we hash</p>
<p begin="06:49:01.920" end="06:49:06.360" style="s2">this password and so then we get a</p>
<p begin="06:49:03.638" end="06:49:08.240" style="s2">hashed password and so if we have the</p>
<p begin="06:49:06.360" end="06:49:09.760" style="s2">correct password then if we put it</p>
<p begin="06:49:08.240" end="06:49:11.798" style="s2">through the hashing function these two</p>
<p begin="06:49:09.760" end="06:49:13.360" style="s2">should be equal uh and so if they&#39;re</p>
<p begin="06:49:11.798" end="06:49:15.120" style="s2">equal that means the password they</p>
<p begin="06:49:13.360" end="06:49:17.878" style="s2">provided us is the correct password in</p>
<p begin="06:49:15.120" end="06:49:19.320" style="s2">the database uh if it&#39;s not the if they</p>
<p begin="06:49:17.878" end="06:49:21.558" style="s2">don&#39;t match that means he gave us the</p>
<p begin="06:49:19.320" end="06:49:23.478" style="s2">wrong password and so uh if they&#39;re</p>
<p begin="06:49:21.558" end="06:49:24.760" style="s2">correct we&#39;ll then go ahead and send</p>
<p begin="06:49:23.478" end="06:49:26.040" style="s2">we&#39;ll create a token first and then</p>
<p begin="06:49:24.760" end="06:49:28.160" style="s2">we&#39;ll send it to the client so it&#39;s as</p>
<p begin="06:49:26.040" end="06:49:29.798" style="s2">simple as taking the attempted password</p>
<p begin="06:49:28.160" end="06:49:31.718" style="s2">hashing it and then comparing it with</p>
<p begin="06:49:29.798" end="06:49:33.360" style="s2">the hashed password in the database</p>
<p begin="06:49:31.718" end="06:49:35.000" style="s2">because if the passwords are correct</p>
<p begin="06:49:33.360" end="06:49:37.000" style="s2">then the hash should equal the hash in</p>
<p begin="06:49:35.000" end="06:49:39.600" style="s2">the database okay so we&#39;re going to</p>
<p begin="06:49:37.000" end="06:49:40.478" style="s2">create the login path operation and what</p>
<p begin="06:49:39.600" end="06:49:42.520" style="s2">I&#39;m actually going to do is you&#39;re</p>
<p begin="06:49:40.478" end="06:49:44.638" style="s2">probably thinking that we can just store</p>
<p begin="06:49:42.520" end="06:49:46.798" style="s2">the path operation in the users. py</p>
<p begin="06:49:44.638" end="06:49:48.798" style="s2">router however I think it would make</p>
<p begin="06:49:46.798" end="06:49:50.520" style="s2">more sense to actually store this in a</p>
<p begin="06:49:48.798" end="06:49:52.000" style="s2">authentication router so we&#39;re actually</p>
<p begin="06:49:50.520" end="06:49:54.558" style="s2">going to create a brand new router for</p>
<p begin="06:49:52.000" end="06:49:56.360" style="s2">this so that we can keep the user routes</p>
<p begin="06:49:54.558" end="06:49:57.840" style="s2">versus the authentication routes in two</p>
<p begin="06:49:56.360" end="06:49:59.360" style="s2">different files however if you really</p>
<p begin="06:49:57.840" end="06:50:02.760" style="s2">wanted to you could store it all in one</p>
<p begin="06:49:59.360" end="06:50:03.958" style="s2">file so I&#39;m going to call this o. py and</p>
<p begin="06:50:02.760" end="06:50:05.558" style="s2">the first thing that we have to do is</p>
<p begin="06:50:03.958" end="06:50:07.680" style="s2">from the uh fast API we&#39;re going to</p>
<p begin="06:50:05.558" end="06:50:09.080" style="s2">import a few things uh we&#39;re going to</p>
<p begin="06:50:07.680" end="06:50:11.718" style="s2">import the API</p>
<p begin="06:50:09.080" end="06:50:15.878" style="s2">router uh we&#39;re going to need</p>
<p begin="06:50:11.718" end="06:50:18.160" style="s2">depends status HTTP</p>
<p begin="06:50:15.878" end="06:50:19.320" style="s2">exception and maybe we need the response</p>
<p begin="06:50:18.160" end="06:50:21.160" style="s2">I haven&#39;t</p>
<p begin="06:50:19.320" end="06:50:23.200" style="s2">decided and then we&#39;re going to Define</p>
<p begin="06:50:21.160" end="06:50:24.840" style="s2">our router so we&#39;ll say router equals</p>
<p begin="06:50:23.200" end="06:50:28.280" style="s2">API</p>
<p begin="06:50:24.840" end="06:50:29.920" style="s2">router and we&#39;re going to pass in a tag</p>
<p begin="06:50:28.280" end="06:50:33.958" style="s2">you know just for the documentation so</p>
<p begin="06:50:29.920" end="06:50:33.958" style="s2">we&#39;ll say tags equals</p>
<p begin="06:50:36.840" end="06:50:41.718" style="s2">authentication all right and then we&#39;re</p>
<p begin="06:50:38.440" end="06:50:44.080" style="s2">going to create our uh login so we&#39;ll</p>
<p begin="06:50:41.718" end="06:50:45.878" style="s2">call this uh well first of all this is</p>
<p begin="06:50:44.080" end="06:50:47.160" style="s2">going to be a post request because</p>
<p begin="06:50:45.878" end="06:50:49.360" style="s2">remember the user is going to have to</p>
<p begin="06:50:47.160" end="06:50:50.600" style="s2">provide his credentials so generally</p>
<p begin="06:50:49.360" end="06:50:54.200" style="s2">when you want to send data in one</p>
<p begin="06:50:50.600" end="06:50:56.600" style="s2">direction it&#39;s going to be a post</p>
<p begin="06:50:54.200" end="06:50:57.840" style="s2">request and we&#39;ll send it to the login</p>
<p begin="06:50:56.600" end="06:51:00.080" style="s2">endpoint you can call this whatever you</p>
<p begin="06:50:57.840" end="06:51:02.320" style="s2">want you can call it authenticate</p>
<p begin="06:51:00.080" end="06:51:03.798" style="s2">however I like login and then we&#39;ll</p>
<p begin="06:51:02.320" end="06:51:06.080" style="s2">Define our function and I&#39;ll just call</p>
<p begin="06:51:03.798" end="06:51:08.280" style="s2">this login as well and because we&#39;re</p>
<p begin="06:51:06.080" end="06:51:09.718" style="s2">ultimately going to have to uh fetch the</p>
<p begin="06:51:08.280" end="06:51:13.440" style="s2">user from the database we&#39;re going to</p>
<p begin="06:51:09.718" end="06:51:15.080" style="s2">have to import uh our uh our database</p>
<p begin="06:51:13.440" end="06:51:18.878" style="s2">session and so</p>
<p begin="06:51:15.080" end="06:51:23.760" style="s2">from SQL Alchemy we&#39;ll</p>
<p begin="06:51:18.878" end="06:51:23.760" style="s2">say. orm import</p>
<p begin="06:51:24.440" end="06:51:28.360" style="s2">session and so we&#39;ll do the same thing</p>
<p begin="06:51:26.360" end="06:51:34.520" style="s2">that we did with every other path</p>
<p begin="06:51:28.360" end="06:51:34.520" style="s2">operation I&#39;ll say DB session equals</p>
<p begin="06:51:35.520" end="06:51:40.558" style="s2">depends and then we&#39;re going to have to</p>
<p begin="06:51:37.440" end="06:51:42.000" style="s2">actually import our get DB function so</p>
<p begin="06:51:40.558" end="06:51:46.600" style="s2">from here we&#39;ll</p>
<p begin="06:51:42.000" end="06:51:50.320" style="s2">do from and we have to go up</p>
<p begin="06:51:46.600" end="06:51:55.680" style="s2">a a directory and I&#39;ll say database</p>
<p begin="06:51:50.320" end="06:51:57.360" style="s2">import session sorry not session</p>
<p begin="06:51:55.680" end="06:51:58.878" style="s2">um actually you know what I&#39;m going to</p>
<p begin="06:51:57.360" end="06:52:01.638" style="s2">do I&#39;m just going to say from dot do</p>
<p begin="06:51:58.878" end="06:52:05.000" style="s2">import database and then I can just</p>
<p begin="06:52:01.638" end="06:52:07.520" style="s2">reference it as data database</p>
<p begin="06:52:05.000" end="06:52:09.920" style="s2">do getor</p>
<p begin="06:52:07.520" end="06:52:12.680" style="s2">DB right and since the user is going to</p>
<p begin="06:52:09.920" end="06:52:14.360" style="s2">be providing the login information I</p>
<p begin="06:52:12.680" end="06:52:15.718" style="s2">think it makes sense to set up a schema</p>
<p begin="06:52:14.360" end="06:52:18.120" style="s2">so that we can ensure that they provide</p>
<p begin="06:52:15.718" end="06:52:20.478" style="s2">the exact uh pieces of data that we</p>
<p begin="06:52:18.120" end="06:52:21.558" style="s2">ultimately want and what we&#39;re going to</p>
<p begin="06:52:20.478" end="06:52:25.478" style="s2">do is we&#39;re just going to create a new</p>
<p begin="06:52:21.558" end="06:52:27.520" style="s2">class and I&#39;m going to call this user</p>
<p begin="06:52:25.478" end="06:52:29.840" style="s2">login and this will extend the base</p>
<p begin="06:52:27.520" end="06:52:32.840" style="s2">model as</p>
<p begin="06:52:29.840" end="06:52:34.398" style="s2">usual and the two pieces of information</p>
<p begin="06:52:32.840" end="06:52:36.478" style="s2">that we want our</p>
<p begin="06:52:34.398" end="06:52:38.040" style="s2">email which is going to be a string and</p>
<p begin="06:52:36.478" end="06:52:40.878" style="s2">then we can do</p>
<p begin="06:52:38.040" end="06:52:42.240" style="s2">password which is going to be a string</p>
<p begin="06:52:40.878" end="06:52:45.398" style="s2">actually I&#39;m going to I&#39;m going to use a</p>
<p begin="06:52:42.240" end="06:52:45.398" style="s2">email string like we did</p>
<p begin="06:52:49.160" end="06:52:53.280" style="s2">before and then from our Offa py I&#39;m</p>
<p begin="06:52:51.558" end="06:52:55.878" style="s2">also going to import</p>
<p begin="06:52:53.280" end="06:53:00.840" style="s2">schemas and here I&#39;m going to store the</p>
<p begin="06:52:55.878" end="06:53:00.840" style="s2">schema as a user credentials</p>
<p begin="06:53:02.798" end="06:53:09.000" style="s2">this going to be schema. user</p>
<p begin="06:53:06.160" end="06:53:10.478" style="s2">login all right and so now we can access</p>
<p begin="06:53:09.000" end="06:53:12.398" style="s2">all the user information or the</p>
<p begin="06:53:10.478" end="06:53:14.280" style="s2">attempted login information with the</p>
<p begin="06:53:12.398" end="06:53:16.760" style="s2">user credentials variable and we&#39;re</p>
<p begin="06:53:14.280" end="06:53:20.000" style="s2">going to make a request to our database</p>
<p begin="06:53:16.760" end="06:53:22.040" style="s2">specifically our users table to retrieve</p>
<p begin="06:53:20.000" end="06:53:25.958" style="s2">the user based off of his</p>
<p begin="06:53:22.040" end="06:53:29.120" style="s2">email so we&#39;ll say db. query and we&#39;ll</p>
<p begin="06:53:25.958" end="06:53:34.280" style="s2">and we have to import models now so that</p>
<p begin="06:53:29.120" end="06:53:35.718" style="s2">we can access it we&#39;ll say models. user</p>
<p begin="06:53:34.280" end="06:53:36.920" style="s2">and then we have to filter based off of</p>
<p begin="06:53:35.718" end="06:53:40.638" style="s2">the</p>
<p begin="06:53:36.920" end="06:53:44.280" style="s2">email we&#39;ll say models. user once again.</p>
<p begin="06:53:40.638" end="06:53:48.760" style="s2">email equals equals</p>
<p begin="06:53:44.280" end="06:53:50.160" style="s2">user credentials. email and then there&#39;s</p>
<p begin="06:53:48.760" end="06:53:52.958" style="s2">only going to be one user with that</p>
<p begin="06:53:50.160" end="06:53:55.878" style="s2">specific email so we&#39;ll do</p>
<p begin="06:53:52.958" end="06:53:58.760" style="s2">first and we&#39;ll store this result in a</p>
<p begin="06:53:55.878" end="06:54:00.360" style="s2">variable called user now if there&#39;s no</p>
<p begin="06:53:58.760" end="06:54:02.840" style="s2">user with that specific email then we&#39;re</p>
<p begin="06:54:00.360" end="06:54:04.360" style="s2">going to return a error or we&#39;re going</p>
<p begin="06:54:02.840" end="06:54:06.520" style="s2">to raise an exception so we&#39;ll say if</p>
<p begin="06:54:04.360" end="06:54:10.360" style="s2">not</p>
<p begin="06:54:06.520" end="06:54:12.440" style="s2">user we&#39;re going to raise an HTTP</p>
<p begin="06:54:10.360" end="06:54:14.478" style="s2">exception and the status code is going</p>
<p begin="06:54:12.440" end="06:54:16.240" style="s2">to be status Dot and I&#39;m trying to</p>
<p begin="06:54:14.478" end="06:54:18.718" style="s2">remember what code was oh it&#39;s going to</p>
<p begin="06:54:16.240" end="06:54:20.120" style="s2">be a 404 because that user doesn&#39;t exist</p>
<p begin="06:54:18.718" end="06:54:23.000" style="s2">and then the detail field we&#39;re just</p>
<p begin="06:54:20.120" end="06:54:24.840" style="s2">going to say uh invalid</p>
<p begin="06:54:23.000" end="06:54:26.600" style="s2">credentials because normally with</p>
<p begin="06:54:24.840" end="06:54:28.520" style="s2">authentication you don&#39;t want to say hey</p>
<p begin="06:54:26.600" end="06:54:29.958" style="s2">this is the wrong email or this is the</p>
<p begin="06:54:28.520" end="06:54:31.160" style="s2">wrong password cuz you don&#39;t want to</p>
<p begin="06:54:29.958" end="06:54:32.920" style="s2">make it a little bit easier for them to</p>
<p begin="06:54:31.160" end="06:54:34.760" style="s2">kind of guess other people&#39;s information</p>
<p begin="06:54:32.920" end="06:54:36.320" style="s2">just say this is invalid credentials let</p>
<p begin="06:54:34.760" end="06:54:39.080" style="s2">them figure out whether it&#39;s the email</p>
<p begin="06:54:36.320" end="06:54:40.840" style="s2">or the password and then after this uh</p>
<p begin="06:54:39.080" end="06:54:43.320" style="s2">once we verify that we did actually get</p>
<p begin="06:54:40.840" end="06:54:45.478" style="s2">a user object we have to verify that the</p>
<p begin="06:54:43.320" end="06:54:48.040" style="s2">passwords are equal so this would be um</p>
<p begin="06:54:45.478" end="06:54:50.718" style="s2">you know performing that logic of of</p>
<p begin="06:54:48.040" end="06:54:52.520" style="s2">hashing the password that they gave us</p>
<p begin="06:54:50.718" end="06:54:54.320" style="s2">and seeing if that it compares to the</p>
<p begin="06:54:52.520" end="06:54:55.000" style="s2">password from the database and so what</p>
<p begin="06:54:54.320" end="06:54:56.718" style="s2">we&#39;re going to do is we&#39;re going to</p>
<p begin="06:54:55.000" end="06:54:58.520" style="s2">create a new function in the utils</p>
<p begin="06:54:56.718" end="06:55:01.000" style="s2">folder that&#39;s going to be responsible</p>
<p begin="06:54:58.520" end="06:55:02.320" style="s2">for comparing the two hashes or actually</p>
<p begin="06:55:01.000" end="06:55:03.878" style="s2">it&#39;s going to take in the Raw pass</p>
<p begin="06:55:02.320" end="06:55:05.160" style="s2">password the password attempt it&#39;s going</p>
<p begin="06:55:03.878" end="06:55:07.398" style="s2">to Hash it for us and then it&#39;s going to</p>
<p begin="06:55:05.160" end="06:55:08.760" style="s2">compare it to the hash in the database</p>
<p begin="06:55:07.398" end="06:55:10.558" style="s2">so we&#39;ll create a function we&#39;ll call it</p>
<p begin="06:55:08.760" end="06:55:12.240" style="s2">verify and it&#39;s going to include the</p>
<p begin="06:55:10.558" end="06:55:14.000" style="s2">plain password which is the password the</p>
<p begin="06:55:12.240" end="06:55:16.320" style="s2">user is trying to attempt and then the</p>
<p begin="06:55:14.000" end="06:55:18.478" style="s2">hashed password which comes from the</p>
<p begin="06:55:16.320" end="06:55:20.920" style="s2">database and all we have to do is just</p>
<p begin="06:55:18.478" end="06:55:23.320" style="s2">return and then we can reference the PW</p>
<p begin="06:55:20.920" end="06:55:25.760" style="s2">context right so if you want to Hash a</p>
<p begin="06:55:23.320" end="06:55:28.680" style="s2">password you just call the dash the do</p>
<p begin="06:55:25.760" end="06:55:31.080" style="s2">has method however it&#39;s also got another</p>
<p begin="06:55:28.680" end="06:55:32.920" style="s2">method for us which is verify so it&#39;s</p>
<p begin="06:55:31.080" end="06:55:34.440" style="s2">going to perform all this for us so we</p>
<p begin="06:55:32.920" end="06:55:37.440" style="s2">just pass in the plain</p>
<p begin="06:55:34.440" end="06:55:39.440" style="s2">password and then we pass in the hashed</p>
<p begin="06:55:37.440" end="06:55:41.398" style="s2">password and it&#39;s going to figure out</p>
<p begin="06:55:39.440" end="06:55:42.638" style="s2">the rest now you&#39;re thinking well you</p>
<p begin="06:55:41.398" end="06:55:44.240" style="s2">know what is the point of such a tiny</p>
<p begin="06:55:42.638" end="06:55:47.520" style="s2">function why don&#39;t we just include it in</p>
<p begin="06:55:44.240" end="06:55:49.840" style="s2">our aop py well we 100% could because</p>
<p begin="06:55:47.520" end="06:55:51.040" style="s2">you know it&#39;s it it&#39;s really two lines</p>
<p begin="06:55:49.840" end="06:55:53.120" style="s2">of code it doesn&#39;t really make sense to</p>
<p begin="06:55:51.040" end="06:55:55.840" style="s2">store it in in another file however then</p>
<p begin="06:55:53.120" end="06:55:57.878" style="s2">we also have to import all of the um the</p>
<p begin="06:55:55.840" end="06:55:59.478" style="s2">bcrypt code and I like to have</p>
<p begin="06:55:57.878" end="06:56:01.638" style="s2">everything kind of separate so keeping</p>
<p begin="06:55:59.478" end="06:56:02.520" style="s2">all of the bcrypt logic in one file just</p>
<p begin="06:56:01.638" end="06:56:05.120" style="s2">makes things a little a little bit</p>
<p begin="06:56:02.520" end="06:56:07.360" style="s2">easier to manage but in our o folder U</p>
<p begin="06:56:05.120" end="06:56:10.520" style="s2">we can import utils</p>
<p begin="06:56:07.360" end="06:56:12.638" style="s2">now and we&#39;re going to run the utils</p>
<p begin="06:56:10.520" end="06:56:14.080" style="s2">verify and we&#39;re going to pass in the</p>
<p begin="06:56:12.638" end="06:56:17.000" style="s2">first the plain password which is going</p>
<p begin="06:56:14.080" end="06:56:21.160" style="s2">to be uh stored in user credentials so</p>
<p begin="06:56:17.000" end="06:56:23.440" style="s2">we&#39;ll say user credentials. password and</p>
<p begin="06:56:21.160" end="06:56:24.920" style="s2">then we pass in the hashed password from</p>
<p begin="06:56:23.440" end="06:56:27.600" style="s2">the database which is stored under user</p>
<p begin="06:56:24.920" end="06:56:29.878" style="s2">so we&#39;ll say user.</p>
<p begin="06:56:27.600" end="06:56:33.920" style="s2">password all right</p>
<p begin="06:56:29.878" end="06:56:36.040" style="s2">and if they are not equal so if they do</p>
<p begin="06:56:33.920" end="06:56:38.040" style="s2">not equal each other which means they</p>
<p begin="06:56:36.040" end="06:56:41.478" style="s2">provided us the incorrect password then</p>
<p begin="06:56:38.040" end="06:56:41.478" style="s2">we&#39;re going to raise another HTTP</p>
<p begin="06:56:44.680" end="06:56:47.680" style="s2">exception and this is going to be the</p>
<p begin="06:56:46.398" end="06:56:50.638" style="s2">same thing we&#39;re going to send a status</p>
<p begin="06:56:47.680" end="06:56:50.638" style="s2">code of uh</p>
<p begin="06:56:57.120" end="06:57:02.000" style="s2">404 and the detail is going to be the</p>
<p begin="06:57:00.680" end="06:57:03.280" style="s2">same thing we&#39;re not going to tell them</p>
<p begin="06:57:02.000" end="06:57:05.440" style="s2">that was the wrong password we&#39;re just</p>
<p begin="06:57:03.280" end="06:57:06.958" style="s2">going to say invalid credentials so that</p>
<p begin="06:57:05.440" end="06:57:09.718" style="s2">it&#39;s not easy for them to kind of keep</p>
<p begin="06:57:06.958" end="06:57:11.638" style="s2">guessing passwords or emails all right</p>
<p begin="06:57:09.718" end="06:57:14.680" style="s2">and then at this point what we would do</p>
<p begin="06:57:11.638" end="06:57:16.040" style="s2">is we would create a token which you</p>
<p begin="06:57:14.680" end="06:57:19.160" style="s2">know we haven&#39;t really gone over how to</p>
<p begin="06:57:16.040" end="06:57:22.478" style="s2">do that and then we would just</p>
<p begin="06:57:19.160" end="06:57:22.478" style="s2">return return</p>
<p begin="06:57:22.638" end="06:57:26.718" style="s2">token um but once again we haven&#39;t done</p>
<p begin="06:57:25.080" end="06:57:29.718" style="s2">that so I&#39;m just going to</p>
<p begin="06:57:26.718" end="06:57:31.798" style="s2">return and we&#39;ll just say</p>
<p begin="06:57:29.718" end="06:57:33.000" style="s2">token and I&#39;m just going to say example</p>
<p begin="06:57:31.798" end="06:57:34.398" style="s2">token right because we haven&#39;t</p>
<p begin="06:57:33.000" end="06:57:35.878" style="s2">implemented that logic but I do want to</p>
<p begin="06:57:34.398" end="06:57:38.638" style="s2">make sure that the rest of the code</p>
<p begin="06:57:35.878" end="06:57:42.840" style="s2">looks good so we&#39;ll try that</p>
<p begin="06:57:38.638" end="06:57:47.200" style="s2">out and I&#39;m going to go in create a new</p>
<p begin="06:57:42.840" end="06:57:48.040" style="s2">request this will be login user can be a</p>
<p begin="06:57:47.200" end="06:57:51.798" style="s2">post</p>
<p begin="06:57:48.040" end="06:57:53.680" style="s2">request I&#39;m going to copy</p>
<p begin="06:57:51.798" end="06:57:55.760" style="s2">this actually this is just going to be</p>
<p begin="06:57:53.680" end="06:57:57.718" style="s2">slash</p>
<p begin="06:57:55.760" end="06:58:00.398" style="s2">login and then in our body we&#39;re going</p>
<p begin="06:57:57.718" end="06:58:02.200" style="s2">to provide uh some</p>
<p begin="06:58:00.398" end="06:58:04.200" style="s2">Json and here we&#39;re just going to going</p>
<p begin="06:58:02.200" end="06:58:07.280" style="s2">to say</p>
<p begin="06:58:04.200" end="06:58:09.798" style="s2">email is</p>
<p begin="06:58:07.280" end="06:58:12.440" style="s2">whatever and</p>
<p begin="06:58:09.798" end="06:58:14.360" style="s2">password is</p>
<p begin="06:58:12.440" end="06:58:16.920" style="s2">whatever and before I actually do</p>
<p begin="06:58:14.360" end="06:58:19.240" style="s2">anything uh I&#39;m going to run a query on</p>
<p begin="06:58:16.920" end="06:58:20.760" style="s2">my database because uh if you see I&#39;ve</p>
<p begin="06:58:19.240" end="06:58:24.200" style="s2">got a couple of users that don&#39;t have</p>
<p begin="06:58:20.760" end="06:58:26.600" style="s2">hashed passwords so I&#39;m actually going</p>
<p begin="06:58:24.200" end="06:58:28.958" style="s2">to delete</p>
<p begin="06:58:26.600" end="06:58:32.200" style="s2">everything just so I can clean up some</p>
<p begin="06:58:28.958" end="06:58:32.958" style="s2">mess and uh I&#39;ll just say and what I&#39;m</p>
<p begin="06:58:32.200" end="06:58:34.398" style="s2">actually going to do is I&#39;m just going</p>
<p begin="06:58:32.958" end="06:58:35.638" style="s2">to delete everything I think that&#39;s</p>
<p begin="06:58:34.398" end="06:58:36.920" style="s2">going to just make things simple because</p>
<p begin="06:58:35.638" end="06:58:39.160" style="s2">I don&#39;t even remember these guys&#39;</p>
<p begin="06:58:36.920" end="06:58:40.798" style="s2">password so it&#39;s going to create some</p>
<p begin="06:58:39.160" end="06:58:43.360" style="s2">issues for us so we&#39;ll just say delete</p>
<p begin="06:58:40.798" end="06:58:46.080" style="s2">from and I&#39;ll say users and then I just</p>
<p begin="06:58:43.360" end="06:58:48.558" style="s2">won&#39;t provide any condition so this</p>
<p begin="06:58:46.080" end="06:58:50.080" style="s2">should delete everything we&#39;ll run that</p>
<p begin="06:58:48.558" end="06:58:52.200" style="s2">and you can see that it looks like it</p>
<p begin="06:58:50.080" end="06:58:55.160" style="s2">deleted all 12 results and that&#39;s</p>
<p begin="06:58:52.200" end="06:58:57.398" style="s2">perfectly okay and I&#39;ll add my original</p>
<p begin="06:58:55.160" end="06:58:59.120" style="s2">query back select star from</p>
<p begin="06:58:57.398" end="06:59:00.840" style="s2">users and what we&#39;re going to do is</p>
<p begin="06:58:59.120" end="06:59:02.760" style="s2">we&#39;re going to just register a new user</p>
<p begin="06:59:00.840" end="06:59:05.520" style="s2">so I&#39;ll do create user</p>
<p begin="06:59:02.760" end="06:59:06.760" style="s2">and I&#39;m going to call this sanjie at</p>
<p begin="06:59:05.520" end="06:59:10.398" style="s2">Gmail and then the password is going to</p>
<p begin="06:59:06.760" end="06:59:13.478" style="s2">be password 1 123 so let&#39;s create that</p>
<p begin="06:59:10.398" end="06:59:16.920" style="s2">user let&#39;s take a look all right we&#39;ve</p>
<p begin="06:59:13.478" end="06:59:18.360" style="s2">created that user and now let&#39;s log in</p>
<p begin="06:59:16.920" end="06:59:20.958" style="s2">uh this user so we&#39;ll go to login and</p>
<p begin="06:59:18.360" end="06:59:22.840" style="s2">I&#39;m going to provide my san at</p>
<p begin="06:59:20.958" end="06:59:26.320" style="s2">Gmail and then we&#39;re going to provide a</p>
<p begin="06:59:22.840" end="06:59:28.680" style="s2">password which was password 1 23 let&#39;s</p>
<p begin="06:59:26.320" end="06:59:28.680" style="s2">try this</p>
<p begin="06:59:29.040" end="06:59:34.600" style="s2">out and it looks like we ran into an</p>
<p begin="06:59:31.638" end="06:59:36.398" style="s2">issue so what well first of all that&#39;s</p>
<p begin="06:59:34.600" end="06:59:39.200" style="s2">the wrong error message I&#39;m not sure why</p>
<p begin="06:59:36.398" end="06:59:41.398" style="s2">it gave me that let&#39;s just it should say</p>
<p begin="06:59:39.200" end="06:59:43.478" style="s2">invalid credential so where is this</p>
<p begin="06:59:41.398" end="06:59:46.080" style="s2">actually happening and guys I made an</p>
<p begin="06:59:43.478" end="06:59:48.478" style="s2">absolute silly and stupid mistake I</p>
<p begin="06:59:46.080" end="06:59:51.120" style="s2">forgot to actually wire up this router</p>
<p begin="06:59:48.478" end="06:59:53.398" style="s2">in our main.py file so it doesn&#39;t even</p>
<p begin="06:59:51.120" end="06:59:57.080" style="s2">know about it so let&#39;s import this we&#39;re</p>
<p begin="06:59:53.398" end="06:59:57.080" style="s2">going to say Import</p>
<p begin="06:59:57.320" end="07:00:02.840" style="s2">off and all we have to do is just one</p>
<p begin="06:59:59.920" end="07:00:04.638" style="s2">skin I&#39;m just going to copy this</p>
<p begin="07:00:02.840" end="07:00:07.280" style="s2">and we&#39;ll just say o.</p>
<p begin="07:00:04.638" end="07:00:09.440" style="s2">router right let&#39;s try this</p>
<p begin="07:00:07.280" end="07:00:11.840" style="s2">again right and we&#39;ve got our example</p>
<p begin="07:00:09.440" end="07:00:13.600" style="s2">token which means that we verified that</p>
<p begin="07:00:11.840" end="07:00:15.200" style="s2">the passwords are correct and everything</p>
<p begin="07:00:13.600" end="07:00:16.878" style="s2">was good to go we just haven&#39;t</p>
<p begin="07:00:15.200" end="07:00:18.680" style="s2">implemented the logic for the token but</p>
<p begin="07:00:16.878" end="07:00:21.000" style="s2">let&#39;s just make sure that uh when we put</p>
<p begin="07:00:18.680" end="07:00:23.478" style="s2">in the wrong password it still works or</p>
<p begin="07:00:21.000" end="07:00:25.080" style="s2">actually it shouldn&#39;t work and we get</p>
<p begin="07:00:23.478" end="07:00:26.760" style="s2">invalid credentials let&#39;s put the right</p>
<p begin="07:00:25.080" end="07:00:29.120" style="s2">password back in and then let&#39;s use the</p>
<p begin="07:00:26.760" end="07:00:29.120" style="s2">wrong</p>
<p begin="07:00:29.200" end="07:00:35.040" style="s2">email and we get invalid credentials as</p>
<p begin="07:00:31.638" end="07:00:36.878" style="s2">well so um so far we are almost done</p>
<p begin="07:00:35.040" end="07:00:38.878" style="s2">with the whole login process the next</p>
<p begin="07:00:36.878" end="07:00:40.798" style="s2">thing that we got to do is uh handle</p>
<p begin="07:00:38.878" end="07:00:42.878" style="s2">creating a token it&#39;s not going to be</p>
<p begin="07:00:40.798" end="07:00:44.000" style="s2">too difficult um but I do want to save</p>
<p begin="07:00:42.878" end="07:00:46.638" style="s2">that for the next</p>
<p begin="07:00:44.000" end="07:00:48.878" style="s2">video now if we head on over to the fast</p>
<p begin="07:00:46.638" end="07:00:51.440" style="s2">API documentation under security there&#39;s</p>
<p begin="07:00:48.878" end="07:00:53.000" style="s2">going to be ooth with password and so</p>
<p begin="07:00:51.440" end="07:00:55.520" style="s2">most of the things I cover are going to</p>
<p begin="07:00:53.000" end="07:00:57.280" style="s2">be coming from this documentation right</p>
<p begin="07:00:55.520" end="07:00:58.798" style="s2">here now the first thing that we have to</p>
<p begin="07:00:57.280" end="07:01:01.680" style="s2">do is we have to install a library that</p>
<p begin="07:00:58.798" end="07:01:03.398" style="s2">handles signing and verifying JWT tokens</p>
<p begin="07:01:01.680" end="07:01:06.120" style="s2">and so so we&#39;re going to use this python</p>
<p begin="07:01:03.398" end="07:01:08.718" style="s2">djy library and then we have to provide</p>
<p begin="07:01:06.120" end="07:01:10.638" style="s2">a uh cryptography back back end so we&#39;re</p>
<p begin="07:01:08.718" end="07:01:13.478" style="s2">just going to copy this line right here</p>
<p begin="07:01:10.638" end="07:01:15.440" style="s2">and we&#39;re going to run this uh in the</p>
<p begin="07:01:13.478" end="07:01:17.478" style="s2">command</p>
<p begin="07:01:15.440" end="07:01:19.558" style="s2">line and what I&#39;m going to do is when it</p>
<p begin="07:01:17.478" end="07:01:22.160" style="s2">comes to authentication and anything</p>
<p begin="07:01:19.558" end="07:01:24.760" style="s2">with jwg tokens I&#39;m going to create a</p>
<p begin="07:01:22.160" end="07:01:26.160" style="s2">new file and I&#39;m going to call this ooth</p>
<p begin="07:01:24.760" end="07:01:28.040" style="s2">2.</p>
<p begin="07:01:26.160" end="07:01:29.478" style="s2">py all right and the first thing that</p>
<p begin="07:01:28.040" end="07:01:33.840" style="s2">we&#39;re going to do is we&#39;re going to</p>
<p begin="07:01:29.478" end="07:01:33.840" style="s2">import from Josie</p>
<p begin="07:01:34.718" end="07:01:41.160" style="s2">we&#39;re going to import JWT error and</p>
<p begin="07:01:38.680" end="07:01:43.200" style="s2">JWT now there&#39;s going to be three things</p>
<p begin="07:01:41.160" end="07:01:45.360" style="s2">uh three pieces of information for our</p>
<p begin="07:01:43.200" end="07:01:48.240" style="s2">token well actually uh well there&#39;s</p>
<p begin="07:01:45.360" end="07:01:49.680" style="s2">three pieces of information but there&#39;s</p>
<p begin="07:01:48.240" end="07:01:51.718" style="s2">three other things about the token that</p>
<p begin="07:01:49.680" end="07:01:53.280" style="s2">we need to provide so we&#39;re going to say</p>
<p begin="07:01:51.718" end="07:01:54.638" style="s2">uh we we&#39;re going to need the secret key</p>
<p begin="07:01:53.280" end="07:01:57.958" style="s2">right that&#39;s that special key that I</p>
<p begin="07:01:54.638" end="07:01:59.558" style="s2">mentioned that ultimately handles uh</p>
<p begin="07:01:57.958" end="07:02:02.080" style="s2">verifying the data Integrity of our</p>
<p begin="07:01:59.558" end="07:02:03.160" style="s2">token which resides on our server only</p>
<p begin="07:02:02.080" end="07:02:05.240" style="s2">so we&#39;re going to have to provide that</p>
<p begin="07:02:03.160" end="07:02:07.798" style="s2">secret key we&#39;re also going to need to</p>
<p begin="07:02:05.240" end="07:02:10.040" style="s2">provide the algorithm that we want to</p>
<p begin="07:02:07.798" end="07:02:12.558" style="s2">use we&#39;re going to be using</p>
<p begin="07:02:10.040" end="07:02:16.200" style="s2">hs256 and then we&#39;re going to need to</p>
<p begin="07:02:12.558" end="07:02:18.160" style="s2">provide uh one other thing which is uh</p>
<p begin="07:02:16.200" end="07:02:19.718" style="s2">the expiration time of the token so we</p>
<p begin="07:02:18.160" end="07:02:22.080" style="s2">haven&#39;t really discussed the expiration</p>
<p begin="07:02:19.718" end="07:02:23.680" style="s2">time if we just give a plain token</p>
<p begin="07:02:22.080" end="07:02:25.080" style="s2">without an expiration date that means</p>
<p begin="07:02:23.680" end="07:02:26.398" style="s2">that user&#39;s logged in forever and</p>
<p begin="07:02:25.080" end="07:02:29.120" style="s2">there&#39;s no application that just lets a</p>
<p begin="07:02:26.398" end="07:02:31.160" style="s2">user log in forever I don&#39;t think uh so</p>
<p begin="07:02:29.120" end="07:02:32.360" style="s2">we&#39;re going to provide a expiration time</p>
<p begin="07:02:31.160" end="07:02:34.080" style="s2">so that we can</p>
<p begin="07:02:32.360" end="07:02:35.878" style="s2">dictate exactly how long a user should</p>
<p begin="07:02:34.080" end="07:02:40.600" style="s2">be logged in after they actually perform</p>
<p begin="07:02:35.878" end="07:02:40.600" style="s2">a login operation and so we need an</p>
<p begin="07:02:40.920" end="07:02:44.958" style="s2">expiration time and what I&#39;m going to do</p>
<p begin="07:02:43.558" end="07:02:48.840" style="s2">is I&#39;m going to just save these as</p>
<p begin="07:02:44.958" end="07:02:48.840" style="s2">variables I&#39;m going to say secret</p>
<p begin="07:02:49.520" end="07:02:53.798" style="s2">key equals and then this is just going</p>
<p begin="07:02:51.680" end="07:02:55.718" style="s2">to be some arbitrary long</p>
<p begin="07:02:53.798" end="07:02:57.798" style="s2">text I&#39;m just going to paste that in</p>
<p begin="07:02:55.718" end="07:02:59.320" style="s2">here and if you&#39;re just wondering why I</p>
<p begin="07:02:57.798" end="07:03:01.920" style="s2">mean this if you just follow the</p>
<p begin="07:02:59.320" end="07:03:02.958" style="s2">documentation actually</p>
<p begin="07:03:01.920" end="07:03:04.360" style="s2">all right you&#39;ll see that they do the</p>
<p begin="07:03:02.958" end="07:03:06.798" style="s2">same thing so we just need to give it</p>
<p begin="07:03:04.360" end="07:03:09.040" style="s2">some really long text in this</p>
<p begin="07:03:06.798" end="07:03:10.920" style="s2">case and it even gives you a command to</p>
<p begin="07:03:09.040" end="07:03:13.320" style="s2">kind of get a string like that for your</p>
<p begin="07:03:10.920" end="07:03:16.520" style="s2">password um because you you could</p>
<p begin="07:03:13.320" end="07:03:18.360" style="s2">theoretically just put you know hello or</p>
<p begin="07:03:16.520" end="07:03:19.920" style="s2">something here and that&#39;s going to work</p>
<p begin="07:03:18.360" end="07:03:21.520" style="s2">just fine however it&#39;s not quite as</p>
<p begin="07:03:19.920" end="07:03:22.958" style="s2">secure but for learning purposes it</p>
<p begin="07:03:21.520" end="07:03:25.040" style="s2">doesn&#39;t matter just provide some kind of</p>
<p begin="07:03:22.958" end="07:03:26.080" style="s2">string right and then the algorithm is</p>
<p begin="07:03:25.040" end="07:03:27.320" style="s2">going to look like this and then the</p>
<p begin="07:03:26.080" end="07:03:28.718" style="s2">expiration time is going to look like</p>
<p begin="07:03:27.320" end="07:03:31.878" style="s2">this so I&#39;m just going to copy this from</p>
<p begin="07:03:28.718" end="07:03:31.878" style="s2">the documentation</p>
<p begin="07:03:32.840" end="07:03:37.280" style="s2">and then we&#39;re going to Define our</p>
<p begin="07:03:34.520" end="07:03:39.478" style="s2">function so this is going to be create</p>
<p begin="07:03:37.280" end="07:03:41.718" style="s2">access</p>
<p begin="07:03:39.478" end="07:03:43.680" style="s2">token and what we&#39;re going to do is</p>
<p begin="07:03:41.718" end="07:03:45.320" style="s2">remember the access token is going to</p>
<p begin="07:03:43.680" end="07:03:47.360" style="s2">have a payload so whatever data we want</p>
<p begin="07:03:45.320" end="07:03:48.760" style="s2">to encode into the token we have to</p>
<p begin="07:03:47.360" end="07:03:50.638" style="s2">provide that so I&#39;m going to pass that</p>
<p begin="07:03:48.760" end="07:03:53.040" style="s2">in as a variable called data and this is</p>
<p begin="07:03:50.638" end="07:03:54.878" style="s2">going to be of type</p>
<p begin="07:03:53.040" end="07:03:56.080" style="s2">dict and what we&#39;re going to do is we&#39;re</p>
<p begin="07:03:54.878" end="07:03:57.200" style="s2">actually going to make a copy of this</p>
<p begin="07:03:56.080" end="07:03:59.120" style="s2">data because I don&#39;t want to actually</p>
<p begin="07:03:57.200" end="07:04:00.360" style="s2">change it I want to make a copy of it</p>
<p begin="07:03:59.120" end="07:04:02.160" style="s2">because we&#39;re going to we&#39;re going to</p>
<p begin="07:04:00.360" end="07:04:03.760" style="s2">manipulate a few things and I don&#39;t want</p>
<p begin="07:04:02.160" end="07:04:05.760" style="s2">to accidentally change the original data</p>
<p begin="07:04:03.760" end="07:04:08.478" style="s2">so we&#39;re going to say</p>
<p begin="07:04:05.760" end="07:04:11.080" style="s2">data. copy so this is going to make a</p>
<p begin="07:04:08.478" end="07:04:13.760" style="s2">copy and I&#39;m going to store it in a new</p>
<p begin="07:04:11.080" end="07:04:15.080" style="s2">variable and it&#39;s going to be 2core code</p>
<p begin="07:04:13.760" end="07:04:19.000" style="s2">so this is all the data that we&#39;re going</p>
<p begin="07:04:15.080" end="07:04:21.680" style="s2">to encode into our JWT</p>
<p begin="07:04:19.000" end="07:04:24.878" style="s2">token and then now we&#39;re going to create</p>
<p begin="07:04:21.680" end="07:04:26.280" style="s2">the expiration field so to actually do</p>
<p begin="07:04:24.878" end="07:04:28.600" style="s2">that there&#39;s a couple things first of</p>
<p begin="07:04:26.280" end="07:04:30.958" style="s2">all right now we have it set to 30</p>
<p begin="07:04:28.600" end="07:04:35.320" style="s2">minutes uh and so what we need to do is</p>
<p begin="07:04:30.958" end="07:04:37.240" style="s2">to provide the time uh of 30 minutes</p>
<p begin="07:04:35.320" end="07:04:39.040" style="s2">from now right so we have to provide the</p>
<p begin="07:04:37.240" end="07:04:40.360" style="s2">time that it&#39;s going to expire in so we</p>
<p begin="07:04:39.040" end="07:04:41.398" style="s2">have to grab the current time and then</p>
<p begin="07:04:40.360" end="07:04:43.398" style="s2">add 30</p>
<p begin="07:04:41.398" end="07:04:45.040" style="s2">minutes and so anytime you&#39;re working</p>
<p begin="07:04:43.398" end="07:04:46.558" style="s2">with dates and times we have to import</p>
<p begin="07:04:45.040" end="07:04:49.558" style="s2">the date time</p>
<p begin="07:04:46.558" end="07:04:56.240" style="s2">Library we&#39;ll say date</p>
<p begin="07:04:49.558" end="07:04:56.240" style="s2">time import date time and time</p>
<p begin="07:04:57.240" end="07:05:04.440" style="s2">Delta and I&#39;m going to say expire equals</p>
<p begin="07:05:02.280" end="07:05:07.120" style="s2">date time. now so this is going to grab</p>
<p begin="07:05:04.440" end="07:05:09.360" style="s2">the current time and I&#39;m going to pass</p>
<p begin="07:05:07.120" end="07:05:10.920" style="s2">in time</p>
<p begin="07:05:09.360" end="07:05:14.680" style="s2">Delta</p>
<p begin="07:05:10.920" end="07:05:19.200" style="s2">of and then since this is in minutes I</p>
<p begin="07:05:14.680" end="07:05:19.200" style="s2">would say minutes</p>
<p begin="07:05:21.120" end="07:05:26.398" style="s2">equals access token expire</p>
<p begin="07:05:24.360" end="07:05:28.920" style="s2">minutes and then what we want to do is</p>
<p begin="07:05:26.398" end="07:05:30.840" style="s2">we want to grab the two encode which is</p>
<p begin="07:05:28.920" end="07:05:33.638" style="s2">a copy of a dictionary so this is also a</p>
<p begin="07:05:30.840" end="07:05:33.638" style="s2">dictionary</p>
<p begin="07:05:34.160" end="07:05:39.320" style="s2">and I want to update</p>
<p begin="07:05:36.280" end="07:05:41.840" style="s2">it and here we&#39;re going to pass</p>
<p begin="07:05:39.320" end="07:05:44.440" style="s2">in expiration and then we&#39;re going to</p>
<p begin="07:05:41.840" end="07:05:46.760" style="s2">provide the expire time so we&#39;re just</p>
<p begin="07:05:44.440" end="07:05:48.958" style="s2">adding that extra property into the uh</p>
<p begin="07:05:46.760" end="07:05:50.760" style="s2">into all of that data that we want to</p>
<p begin="07:05:48.958" end="07:05:55.040" style="s2">encode into our</p>
<p begin="07:05:50.760" end="07:05:57.240" style="s2">JWT and so now our JWT will tell us when</p>
<p begin="07:05:55.040" end="07:05:59.080" style="s2">it&#39;s going to expire and what we&#39;re</p>
<p begin="07:05:57.240" end="07:06:02.040" style="s2">going to do is we&#39;re going to call JWT</p>
<p begin="07:05:59.080" end="07:06:05.878" style="s2">um coming from the is it Jose I guess</p>
<p begin="07:06:02.040" end="07:06:07.280" style="s2">it&#39;s the Jose library so JWT doin code</p>
<p begin="07:06:05.878" end="07:06:11.120" style="s2">the this method is actually going to</p>
<p begin="07:06:07.280" end="07:06:12.558" style="s2">create the JWT to token and we&#39;ll say</p>
<p begin="07:06:11.120" end="07:06:14.000" style="s2">the first property is everything that we</p>
<p begin="07:06:12.558" end="07:06:16.120" style="s2">want to put into the</p>
<p begin="07:06:14.000" end="07:06:17.520" style="s2">payload the second one is going to be</p>
<p begin="07:06:16.120" end="07:06:19.398" style="s2">the secret</p>
<p begin="07:06:17.520" end="07:06:21.360" style="s2">key the</p>
<p begin="07:06:19.398" end="07:06:26.638" style="s2">signature and then we have to specify</p>
<p begin="07:06:21.360" end="07:06:26.638" style="s2">the algorithm so the algorithm equals</p>
<p begin="07:06:26.878" end="07:06:31.280" style="s2">algorith algorithm right</p>
<p begin="07:06:29.440" end="07:06:33.878" style="s2">there and then at this point we&#39;re just</p>
<p begin="07:06:31.280" end="07:06:36.120" style="s2">going to return oh we have to save this</p>
<p begin="07:06:33.878" end="07:06:36.120" style="s2">in a</p>
<p begin="07:06:40.920" end="07:06:45.520" style="s2">variable and here we just encoded</p>
<p begin="07:06:46.000" end="07:06:51.320" style="s2">JWT and then now we can go back to our</p>
<p begin="07:06:48.558" end="07:06:51.320" style="s2">specific path</p>
<p begin="07:06:53.520" end="07:06:58.240" style="s2">operation and since we&#39;re already</p>
<p begin="07:06:55.360" end="07:07:02.398" style="s2">importing actually we have to also</p>
<p begin="07:06:58.240" end="07:07:04.040" style="s2">import awath to</p>
<p begin="07:07:02.398" end="07:07:06.160" style="s2">and then here we&#39;re going to create an</p>
<p begin="07:07:04.040" end="07:07:08.680" style="s2">access</p>
<p begin="07:07:06.160" end="07:07:10.280" style="s2">token and we&#39;re going to call the sorry</p>
<p begin="07:07:08.680" end="07:07:15.240" style="s2">not utils oo</p>
<p begin="07:07:10.280" end="07:07:15.240" style="s2">2 dot create access</p>
<p begin="07:07:16.120" end="07:07:19.520" style="s2">token and we&#39;re going to say the data</p>
<p begin="07:07:18.200" end="07:07:24.240" style="s2">equals and then we&#39;re going to pass in a</p>
<p begin="07:07:19.520" end="07:07:24.240" style="s2">dictionary so here the user</p>
<p begin="07:07:27.320" end="07:07:31.520" style="s2">ID remember this is the data that we</p>
<p begin="07:07:29.680" end="07:07:32.878" style="s2">want to put in the payload so I have</p>
<p begin="07:07:31.520" end="07:07:35.638" style="s2">decided that I&#39;m going to put in the</p>
<p begin="07:07:32.878" end="07:07:36.680" style="s2">user ID and pretty much nothing else I</p>
<p begin="07:07:35.638" end="07:07:38.080" style="s2">don&#39;t really care about anything else we</p>
<p begin="07:07:36.680" end="07:07:39.600" style="s2">could give it a roll we could something</p>
<p begin="07:07:38.080" end="07:07:41.120" style="s2">else but for me I just want to encode</p>
<p begin="07:07:39.600" end="07:07:43.638" style="s2">the user ID so that&#39;s what I&#39;m passing</p>
<p begin="07:07:41.120" end="07:07:45.520" style="s2">in here however if you wanted to provide</p>
<p begin="07:07:43.638" end="07:07:48.000" style="s2">some extra information about the user if</p>
<p begin="07:07:45.520" end="07:07:50.280" style="s2">you wanted to provide uh you know their</p>
<p begin="07:07:48.000" end="07:07:51.440" style="s2">scope of different endpoints they can</p>
<p begin="07:07:50.280" end="07:07:53.360" style="s2">access you can put all of that</p>
<p begin="07:07:51.440" end="07:07:54.600" style="s2">information in here and so I&#39;m going to</p>
<p begin="07:07:53.360" end="07:07:57.878" style="s2">say the user ID is going to be set to</p>
<p begin="07:07:54.600" end="07:07:59.600" style="s2">user. ID and so now what we can do is</p>
<p begin="07:07:57.878" end="07:08:00.638" style="s2">we&#39;re going to return a few things I&#39;m</p>
<p begin="07:07:59.600" end="07:08:02.600" style="s2">going to say we&#39;re going to return the</p>
<p begin="07:08:00.638" end="07:08:04.718" style="s2">access token</p>
<p begin="07:08:02.600" end="07:08:06.478" style="s2">which equals access</p>
<p begin="07:08:04.718" end="07:08:08.240" style="s2">token and then we&#39;re going to tell the</p>
<p begin="07:08:06.478" end="07:08:11.398" style="s2">user what kind of token this is so this</p>
<p begin="07:08:08.240" end="07:08:13.280" style="s2">is token uncore type and this is what&#39;s</p>
<p begin="07:08:11.398" end="07:08:15.040" style="s2">referred to as a beer token and I&#39;ll</p>
<p begin="07:08:13.280" end="07:08:17.840" style="s2">explain how to actually configure that</p>
<p begin="07:08:15.040" end="07:08:19.160" style="s2">on the front end um but literally in the</p>
<p begin="07:08:17.840" end="07:08:20.558" style="s2">authorization header we just write the</p>
<p begin="07:08:19.160" end="07:08:23.160" style="s2">word Bearer and then we provide the</p>
<p begin="07:08:20.558" end="07:08:25.200" style="s2">token so nothing special there all right</p>
<p begin="07:08:23.160" end="07:08:26.600" style="s2">let&#39;s try that out and it looks like I</p>
<p begin="07:08:25.200" end="07:08:29.360" style="s2">got an error and I don&#39;t know why I put</p>
<p begin="07:08:26.600" end="07:08:29.360" style="s2">an equal sign</p>
<p begin="07:08:29.920" end="07:08:34.040" style="s2">there and let&#39;s try TR this out so we</p>
<p begin="07:08:32.360" end="07:08:36.760" style="s2">we&#39;ve got the login in point let&#39;s put</p>
<p begin="07:08:34.040" end="07:08:39.200" style="s2">in the correct email this time and let&#39;s</p>
<p begin="07:08:36.760" end="07:08:41.718" style="s2">see what happens look at that we got an</p>
<p begin="07:08:39.200" end="07:08:43.558" style="s2">access token and this kind of looks like</p>
<p begin="07:08:41.718" end="07:08:45.240" style="s2">a JWT token right it just looks like a</p>
<p begin="07:08:43.558" end="07:08:46.520" style="s2">bunch of random text and then it tells</p>
<p begin="07:08:45.240" end="07:08:49.638" style="s2">us it&#39;s a bearer</p>
<p begin="07:08:46.520" end="07:08:52.440" style="s2">token so let&#39;s actually copy this and</p>
<p begin="07:08:49.638" end="07:08:54.478" style="s2">what I want you guys to do is uh go to</p>
<p begin="07:08:52.440" end="07:08:56.398" style="s2">your web browser and I want you to</p>
<p begin="07:08:54.478" end="07:08:58.920" style="s2">search for</p>
<p begin="07:08:56.398" end="07:09:01.558" style="s2">JWT and then go to the first well go to</p>
<p begin="07:08:58.920" end="07:09:04.520" style="s2">JWT doio and then here what we can do we</p>
<p begin="07:09:01.558" end="07:09:06.040" style="s2">can paste in our JWT token and what&#39;s</p>
<p begin="07:09:04.520" end="07:09:08.200" style="s2">really cool is it&#39;s going to decode the</p>
<p begin="07:09:06.040" end="07:09:10.840" style="s2">token for us and so you can see this is</p>
<p begin="07:09:08.200" end="07:09:14.120" style="s2">the algorithm we used it is a JWT token</p>
<p begin="07:09:10.840" end="07:09:15.600" style="s2">but take a look at the user ID right</p>
<p begin="07:09:14.120" end="07:09:17.760" style="s2">this is the actual user ID that we</p>
<p begin="07:09:15.600" end="07:09:19.478" style="s2">passed into the token so all of the data</p>
<p begin="07:09:17.760" end="07:09:20.680" style="s2">that we encrypted into the token are all</p>
<p begin="07:09:19.478" end="07:09:23.398" style="s2">sitting right here so we also got the</p>
<p begin="07:09:20.680" end="07:09:25.840" style="s2">expiration time and then the signature</p>
<p begin="07:09:23.398" end="07:09:27.200" style="s2">somewhere in here as well um but isn&#39;t</p>
<p begin="07:09:25.840" end="07:09:29.200" style="s2">that pretty cool right it was able to</p>
<p begin="07:09:27.200" end="07:09:30.440" style="s2">decode that and it&#39;s important to</p>
<p begin="07:09:29.200" end="07:09:32.120" style="s2">understand that you know none of this is</p>
<p begin="07:09:30.440" end="07:09:35.600" style="s2">encrypted anybody can see this</p>
<p begin="07:09:32.120" end="07:09:37.398" style="s2">information but by being able to sign it</p>
<p begin="07:09:35.600" end="07:09:38.920" style="s2">we know that no one can kind of mess</p>
<p begin="07:09:37.398" end="07:09:41.360" style="s2">with it and we can also specify an</p>
<p begin="07:09:38.920" end="07:09:43.320" style="s2">expiration time so we know that how long</p>
<p begin="07:09:41.360" end="07:09:45.398" style="s2">this token is valid so when the the our</p>
<p begin="07:09:43.320" end="07:09:46.760" style="s2">API gets it it&#39;s going to just verify</p>
<p begin="07:09:45.398" end="07:09:49.558" style="s2">that nobody touched the token it&#39;s going</p>
<p begin="07:09:46.760" end="07:09:51.760" style="s2">to verify that hey the expiration time</p>
<p begin="07:09:49.558" end="07:09:53.000" style="s2">you know isn&#39;t before the current time</p>
<p begin="07:09:51.760" end="07:09:54.638" style="s2">which would mean that it&#39;s already</p>
<p begin="07:09:53.000" end="07:09:56.360" style="s2">expired at that point it already knows</p>
<p begin="07:09:54.638" end="07:09:59.398" style="s2">the token&#39;s valid and then we can assume</p>
<p begin="07:09:56.360" end="07:10:00.958" style="s2">that uh everything is good to go we&#39;re</p>
<p begin="07:09:59.398" end="07:10:03.320" style="s2">going to make one small change when it</p>
<p begin="07:10:00.958" end="07:10:05.878" style="s2">comes to to retrieving the user</p>
<p begin="07:10:03.320" end="07:10:07.320" style="s2">credentials in our login route instead</p>
<p begin="07:10:05.878" end="07:10:09.520" style="s2">of passing it in the body we&#39;re going to</p>
<p begin="07:10:07.320" end="07:10:12.878" style="s2">use a built-in utility in the fast API</p>
<p begin="07:10:09.520" end="07:10:18.398" style="s2">Library so if we do from fast</p>
<p begin="07:10:12.878" end="07:10:22.280" style="s2">api. security do o oops oo 2 we&#39;re going</p>
<p begin="07:10:18.398" end="07:10:25.120" style="s2">to import something called oath 2</p>
<p begin="07:10:22.280" end="07:10:25.120" style="s2">password request</p>
<p begin="07:10:25.440" end="07:10:29.680" style="s2">form and so what we can actually do is</p>
<p begin="07:10:27.600" end="07:10:31.478" style="s2">instead of just doing the you the usual</p>
<p begin="07:10:29.680" end="07:10:33.280" style="s2">here with the user credentials we&#39;re</p>
<p begin="07:10:31.478" end="07:10:35.680" style="s2">actually going to delete that and I&#39;m</p>
<p begin="07:10:33.280" end="07:10:37.040" style="s2">going to provide a dependency well</p>
<p begin="07:10:35.680" end="07:10:38.878" style="s2">actually I need the user credentials</p>
<p begin="07:10:37.040" end="07:10:41.840" style="s2">because we have to store it someplace</p>
<p begin="07:10:38.878" end="07:10:44.920" style="s2">but here we say this equals ooth to</p>
<p begin="07:10:41.840" end="07:10:46.200" style="s2">password request form equals depend so</p>
<p begin="07:10:44.920" end="07:10:48.280" style="s2">we&#39;re setting up a dependency kind of</p>
<p begin="07:10:46.200" end="07:10:49.920" style="s2">like we do with the database and so this</p>
<p begin="07:10:48.280" end="07:10:51.680" style="s2">is going to require us to retrieve the</p>
<p begin="07:10:49.920" end="07:10:54.200" style="s2">credentials and then fast API is</p>
<p begin="07:10:51.680" end="07:10:55.798" style="s2">automatically going to store it inside</p>
<p begin="07:10:54.200" end="07:10:58.280" style="s2">this variable called user</p>
<p begin="07:10:55.798" end="07:11:01.600" style="s2">credentials however we have to make one</p>
<p begin="07:10:58.280" end="07:11:04.120" style="s2">small change so the username in when you</p>
<p begin="07:11:01.600" end="07:11:05.878" style="s2">retrieve the uh the user&#39;s attempted</p>
<p begin="07:11:04.120" end="07:11:07.440" style="s2">credentials from here what it&#39;s going to</p>
<p begin="07:11:05.878" end="07:11:08.958" style="s2">do is it&#39;s going to store it in a field</p>
<p begin="07:11:07.440" end="07:11:11.520" style="s2">not called email but it&#39;s going to store</p>
<p begin="07:11:08.958" end="07:11:13.558" style="s2">it in a field called username so when we</p>
<p begin="07:11:11.520" end="07:11:15.398" style="s2">compare the models. user. email when</p>
<p begin="07:11:13.558" end="07:11:17.878" style="s2">we&#39;re querying the database we can&#39;t</p>
<p begin="07:11:15.398" end="07:11:20.120" style="s2">compare to user credentials. email</p>
<p begin="07:11:17.878" end="07:11:21.638" style="s2">because there&#39;s no field called email</p>
<p begin="07:11:20.120" end="07:11:23.040" style="s2">right it&#39;s going to only return two</p>
<p begin="07:11:21.638" end="07:11:25.558" style="s2">things it&#39;s going to</p>
<p begin="07:11:23.040" end="07:11:27.360" style="s2">return oops it&#39;s going to return</p>
<p begin="07:11:25.558" end="07:11:29.760" style="s2">something it&#39;s going to return our</p>
<p begin="07:11:27.360" end="07:11:34.160" style="s2">username which equals whatever and then</p>
<p begin="07:11:29.760" end="07:11:34.160" style="s2">it&#39;s going to return our</p>
<p begin="07:11:34.240" end="07:11:38.958" style="s2">password which equals whatever uh and so</p>
<p begin="07:11:37.440" end="07:11:42.398" style="s2">we don&#39;t have access to email we have to</p>
<p begin="07:11:38.958" end="07:11:44.280" style="s2">use user dot uh sorry user credentials.</p>
<p begin="07:11:42.398" end="07:11:45.520" style="s2">username because uh well this is</p>
<p begin="07:11:44.280" end="07:11:47.080" style="s2">actually a bad example because you have</p>
<p begin="07:11:45.520" end="07:11:49.080" style="s2">to think of it as like a dictionary</p>
<p begin="07:11:47.080" end="07:11:51.558" style="s2">right it&#39;s coming in like this and then</p>
<p begin="07:11:49.080" end="07:11:54.120" style="s2">there&#39;s going to be a a user</p>
<p begin="07:11:51.558" end="07:11:55.160" style="s2">field you&#39;re going to have username oh</p>
<p begin="07:11:54.120" end="07:11:59.440" style="s2">why is that</p>
<p begin="07:11:55.160" end="07:12:02.000" style="s2">capitalized username which equals</p>
<p begin="07:11:59.440" end="07:12:03.798" style="s2">BL you&#39;re going to have username which</p>
<p begin="07:12:02.000" end="07:12:05.680" style="s2">equals you know blah and then you&#39;re</p>
<p begin="07:12:03.798" end="07:12:09.440" style="s2">going to</p>
<p begin="07:12:05.680" end="07:12:11.280" style="s2">have password which equals blah right</p>
<p begin="07:12:09.440" end="07:12:12.600" style="s2">and so we&#39;ll just tag user credentials</p>
<p begin="07:12:11.280" end="07:12:14.320" style="s2">Dot and then we&#39;ll grab the username</p>
<p begin="07:12:12.600" end="07:12:17.280" style="s2">which in our case will happen to be the</p>
<p begin="07:12:14.320" end="07:12:18.958" style="s2">email uh the ooth 2 password request</p>
<p begin="07:12:17.280" end="07:12:20.760" style="s2">form doesn&#39;t really care what what the</p>
<p begin="07:12:18.958" end="07:12:23.478" style="s2">username is it could be a username it</p>
<p begin="07:12:20.760" end="07:12:24.798" style="s2">can be a email it can be an ID it</p>
<p begin="07:12:23.478" end="07:12:26.320" style="s2">doesn&#39;t really matter it doesn&#39;t really</p>
<p begin="07:12:24.798" end="07:12:27.638" style="s2">care it&#39;s just whatever the user</p>
<p begin="07:12:26.320" end="07:12:30.558" style="s2">actually sends it&#39;s just going to store</p>
<p begin="07:12:27.638" end="07:12:33.240" style="s2">it in a field called username so those</p>
<p begin="07:12:30.558" end="07:12:36.478" style="s2">are all of the changes that we have to</p>
<p begin="07:12:33.240" end="07:12:38.760" style="s2">make uh from our back end side now when</p>
<p begin="07:12:36.478" end="07:12:41.160" style="s2">it comes to testing things we no longer</p>
<p begin="07:12:38.760" end="07:12:42.558" style="s2">send the credentials in the body like we</p>
<p begin="07:12:41.160" end="07:12:44.600" style="s2">normally do like if I try to send this</p>
<p begin="07:12:42.558" end="07:12:46.558" style="s2">now we&#39;re going to get an error right</p>
<p begin="07:12:44.600" end="07:12:48.920" style="s2">because it says uh</p>
<p begin="07:12:46.558" end="07:12:51.558" style="s2">username uh is field required value</p>
<p begin="07:12:48.920" end="07:12:52.840" style="s2">error missing so what we and the</p>
<p begin="07:12:51.558" end="07:12:55.280" style="s2">password is also missing so what it&#39;s</p>
<p begin="07:12:52.840" end="07:12:58.398" style="s2">doing is it no longer expects it here</p>
<p begin="07:12:55.280" end="07:13:01.320" style="s2">instead it expects it inside form data</p>
<p begin="07:12:58.398" end="07:13:04.840" style="s2">so here I&#39;m going to say username</p>
<p begin="07:13:01.320" end="07:13:04.840" style="s2">and this is going to be my email in this</p>
<p begin="07:13:04.878" end="07:13:08.760" style="s2">case and then my password</p>
<p begin="07:13:11.000" end="07:13:15.958" style="s2">here and so let&#39;s try this now and now</p>
<p begin="07:13:14.240" end="07:13:17.878" style="s2">it successfully works so those were the</p>
<p begin="07:13:15.958" end="07:13:19.240" style="s2">couple of changes that we have to make</p>
<p begin="07:13:17.878" end="07:13:20.638" style="s2">um but you&#39;ll see that it makes life a</p>
<p begin="07:13:19.240" end="07:13:22.040" style="s2">little bit easier by setting up that</p>
<p begin="07:13:20.638" end="07:13:24.520" style="s2">dependency and using the built-in</p>
<p begin="07:13:22.040" end="07:13:26.760" style="s2">functionality of fast API in the last</p>
<p begin="07:13:24.520" end="07:13:28.398" style="s2">lesson we learned how to log in a user</p>
<p begin="07:13:26.760" end="07:13:30.080" style="s2">by sending a request to the login</p>
<p begin="07:13:28.398" end="07:13:32.520" style="s2">endpoint and providing the username and</p>
<p begin="07:13:30.080" end="07:13:34.798" style="s2">password and our API will then return an</p>
<p begin="07:13:32.520" end="07:13:38.200" style="s2">access token which the user can then use</p>
<p begin="07:13:34.798" end="07:13:40.760" style="s2">to retrieve data from our API so anytime</p>
<p begin="07:13:38.200" end="07:13:42.600" style="s2">he needs to access a endpoint or path</p>
<p begin="07:13:40.760" end="07:13:45.360" style="s2">operation that requires a user to be log</p>
<p begin="07:13:42.600" end="07:13:48.440" style="s2">in he&#39;ll just send this JWT token in the</p>
<p begin="07:13:45.360" end="07:13:50.558" style="s2">payload and then our API has to actually</p>
<p begin="07:13:48.440" end="07:13:52.878" style="s2">validate the token so in this video</p>
<p begin="07:13:50.558" end="07:13:55.360" style="s2">we&#39;re going to handle the logic for</p>
<p begin="07:13:52.878" end="07:13:56.798" style="s2">verifying that the token is still valid</p>
<p begin="07:13:55.360" end="07:13:58.958" style="s2">then that they didn&#39;t temper with it as</p>
<p begin="07:13:56.798" end="07:14:01.440" style="s2">well as verifying that the token hasn&#39;t</p>
<p begin="07:13:58.958" end="07:14:03.478" style="s2">expired</p>
<p begin="07:14:01.440" end="07:14:05.520" style="s2">now before we do anything what we&#39;re</p>
<p begin="07:14:03.478" end="07:14:08.958" style="s2">actually going to do is we&#39;re going to</p>
<p begin="07:14:05.520" end="07:14:10.520" style="s2">define a schema for the token um because</p>
<p begin="07:14:08.958" end="07:14:12.798" style="s2">uh we know that the user has to provide</p>
<p begin="07:14:10.520" end="07:14:15.040" style="s2">the access token so uh just like any</p>
<p begin="07:14:12.798" end="07:14:16.680" style="s2">other piece of data uh if we expect them</p>
<p begin="07:14:15.040" end="07:14:18.320" style="s2">to send something it&#39;s best to set up a</p>
<p begin="07:14:16.680" end="07:14:20.240" style="s2">schema so we&#39;re just going to set up a</p>
<p begin="07:14:18.320" end="07:14:22.280" style="s2">schema for Access token and token type</p>
<p begin="07:14:20.240" end="07:14:24.000" style="s2">and just make sure that they match</p>
<p begin="07:14:22.280" end="07:14:26.600" style="s2">accordingly and so here we&#39;re going to</p>
<p begin="07:14:24.000" end="07:14:26.600" style="s2">do class</p>
<p begin="07:14:28.320" end="07:14:33.040" style="s2">token and we&#39;ll say the access token</p>
<p begin="07:14:33.638" end="07:14:39.200" style="s2">is going to be ftype</p>
<p begin="07:14:35.920" end="07:14:41.558" style="s2">string and the token uncore type is</p>
<p begin="07:14:39.200" end="07:14:44.040" style="s2">going to be of type string as well and</p>
<p begin="07:14:41.558" end="07:14:47.558" style="s2">then we can also set up a</p>
<p begin="07:14:44.040" end="07:14:50.798" style="s2">a a schema for the token data so the the</p>
<p begin="07:14:47.558" end="07:14:54.600" style="s2">data that we embedded into our uh access</p>
<p begin="07:14:50.798" end="07:14:54.600" style="s2">token so we can say token</p>
<p begin="07:14:54.920" end="07:15:02.200" style="s2">data base model and then here we did</p>
<p begin="07:14:58.680" end="07:15:02.200" style="s2">embed the ID</p>
<p begin="07:15:03.280" end="07:15:06.760" style="s2">but I&#39;m going to say this is optional</p>
<p begin="07:15:04.638" end="07:15:08.600" style="s2">for</p>
<p begin="07:15:06.760" end="07:15:10.760" style="s2">now and it&#39;s going to be a type of</p>
<p begin="07:15:08.600" end="07:15:13.200" style="s2">string if it is</p>
<p begin="07:15:10.760" end="07:15:15.520" style="s2">set so it can be optional and we got to</p>
<p begin="07:15:13.200" end="07:15:18.478" style="s2">import optional as well and so that&#39;s</p>
<p begin="07:15:15.520" end="07:15:18.478" style="s2">going to come from the typing</p>
<p begin="07:15:20.920" end="07:15:26.440" style="s2">library and then in our ooth 2 file we</p>
<p begin="07:15:24.120" end="07:15:27.798" style="s2">created an access token function and</p>
<p begin="07:15:26.440" end="07:15:29.558" style="s2">then we have to create a function to</p>
<p begin="07:15:27.798" end="07:15:30.680" style="s2">verify the access token so let&#39;s create</p>
<p begin="07:15:29.558" end="07:15:34.360" style="s2">that function and it&#39;s going to just be</p>
<p begin="07:15:30.680" end="07:15:36.160" style="s2">called verify access</p>
<p begin="07:15:34.360" end="07:15:38.718" style="s2">token and what we&#39;re going to do is</p>
<p begin="07:15:36.160" end="07:15:40.958" style="s2">we&#39;re going to pass in a</p>
<p begin="07:15:38.718" end="07:15:43.680" style="s2">token which is going to be a</p>
<p begin="07:15:40.958" end="07:15:46.120" style="s2">string and we&#39;re also going to pass in</p>
<p begin="07:15:43.680" end="07:15:48.600" style="s2">the specific credential exception so</p>
<p begin="07:15:46.120" end="07:15:50.320" style="s2">we&#39;re going to pass in uh what our</p>
<p begin="07:15:48.600" end="07:15:51.760" style="s2">exception should be if the credentials</p>
<p begin="07:15:50.320" end="07:15:53.520" style="s2">don&#39;t match or if there&#39;s some issue</p>
<p begin="07:15:51.760" end="07:15:55.920" style="s2">with the token so we&#39;ll just store this</p>
<p begin="07:15:53.520" end="07:15:58.040" style="s2">in a variable called credentials</p>
<p begin="07:15:55.920" end="07:16:01.200" style="s2">exception and I&#39;ll explain this a little</p>
<p begin="07:15:58.040" end="07:16:01.200" style="s2">bit later</p>
<p begin="07:16:01.240" end="07:16:06.718" style="s2">and so here I&#39;m going to say JWT right</p>
<p begin="07:16:04.280" end="07:16:09.040" style="s2">so we&#39;re going to access the JWT Library</p>
<p begin="07:16:06.718" end="07:16:10.478" style="s2">I&#39;m going to say JWT Dot and then it&#39;s</p>
<p begin="07:16:09.040" end="07:16:11.680" style="s2">going to have a function and if you take</p>
<p begin="07:16:10.478" end="07:16:14.638" style="s2">a look at our options I&#39;m sure you have</p>
<p begin="07:16:11.680" end="07:16:17.878" style="s2">an idea because creating a token we did</p>
<p begin="07:16:14.638" end="07:16:21.360" style="s2">uh uh encode encode I&#39;m guessing you can</p>
<p begin="07:16:17.878" end="07:16:24.840" style="s2">figure out what is the specific method</p>
<p begin="07:16:21.360" end="07:16:26.558" style="s2">for decoding it&#39;s going to be decode</p>
<p begin="07:16:24.840" end="07:16:28.320" style="s2">obviously and here we&#39;re going to pass</p>
<p begin="07:16:26.558" end="07:16:30.718" style="s2">in a couple things first of all the</p>
<p begin="07:16:28.320" end="07:16:31.638" style="s2">token then we have to pass in the secret</p>
<p begin="07:16:30.718" end="07:16:35.040" style="s2">ke</p>
<p begin="07:16:31.638" end="07:16:35.040" style="s2">so that we can decode</p>
<p begin="07:16:36.000" end="07:16:40.958" style="s2">it and then we have to pass in the</p>
<p begin="07:16:38.398" end="07:16:41.878" style="s2">algorithm that&#39;s used so we can just</p>
<p begin="07:16:40.958" end="07:16:43.958" style="s2">pass an</p>
<p begin="07:16:41.878" end="07:16:45.440" style="s2">algorithm once again these both of these</p>
<p begin="07:16:43.958" end="07:16:48.080" style="s2">are coming from these variables right</p>
<p begin="07:16:45.440" end="07:16:50.680" style="s2">here not it&#39;s obviously not a good idea</p>
<p begin="07:16:48.080" end="07:16:53.878" style="s2">to store the secret key uh within your</p>
<p begin="07:16:50.680" end="07:16:55.478" style="s2">actual code uh but like I said we&#39;re</p>
<p begin="07:16:53.878" end="07:16:57.160" style="s2">going to have a later section where</p>
<p begin="07:16:55.478" end="07:16:58.638" style="s2">we&#39;ll turn these into environment</p>
<p begin="07:16:57.160" end="07:17:00.558" style="s2">variables so that it&#39;s not hardcoded</p>
<p begin="07:16:58.638" end="07:17:01.798" style="s2">into our code and we&#39;re going to store</p>
<p begin="07:17:00.558" end="07:17:05.360" style="s2">this</p>
<p begin="07:17:01.798" end="07:17:06.718" style="s2">in payload in a variable called payload</p>
<p begin="07:17:05.360" end="07:17:09.200" style="s2">all right and so this will just store</p>
<p begin="07:17:06.718" end="07:17:11.000" style="s2">all of our payload data and to extract</p>
<p begin="07:17:09.200" end="07:17:13.840" style="s2">the data what we can do is we can say</p>
<p begin="07:17:11.000" end="07:17:16.320" style="s2">payload doget and then we have to get</p>
<p begin="07:17:13.840" end="07:17:19.638" style="s2">the specific field that we put in so if</p>
<p begin="07:17:16.320" end="07:17:21.798" style="s2">I go back to my o. py file in my routers</p>
<p begin="07:17:19.638" end="07:17:24.680" style="s2">and you take a look at my data you can</p>
<p begin="07:17:21.798" end="07:17:25.878" style="s2">see that we have a field called user ID</p>
<p begin="07:17:24.680" end="07:17:29.840" style="s2">and that&#39;s going to get the ID of the</p>
<p begin="07:17:25.878" end="07:17:32.080" style="s2">user so here we just say</p>
<p begin="07:17:29.840" end="07:17:35.240" style="s2">get and then we just pass in that same</p>
<p begin="07:17:32.080" end="07:17:36.558" style="s2">exact name users ID and we&#39;ll say that</p>
<p begin="07:17:35.240" end="07:17:39.440" style="s2">this is going to be stored in a variable</p>
<p begin="07:17:36.558" end="07:17:43.200" style="s2">called ID and this should be of type</p>
<p begin="07:17:39.440" end="07:17:45.478" style="s2">string and if there&#39;s no</p>
<p begin="07:17:43.200" end="07:17:47.878" style="s2">ID then we&#39;re going to</p>
<p begin="07:17:45.478" end="07:17:50.638" style="s2">raise a credentials</p>
<p begin="07:17:47.878" end="07:17:51.958" style="s2">exception right so whatever exception we</p>
<p begin="07:17:50.638" end="07:17:54.398" style="s2">provided into this function it&#39;s going</p>
<p begin="07:17:51.958" end="07:17:57.200" style="s2">to raise that and then we&#39;re going to</p>
<p begin="07:17:54.398" end="07:18:01.440" style="s2">say token data</p>
<p begin="07:17:57.200" end="07:18:02.520" style="s2">equals schemas do</p>
<p begin="07:18:01.440" end="07:18:04.558" style="s2">token</p>
<p begin="07:18:02.520" end="07:18:06.280" style="s2">data with the</p>
<p begin="07:18:04.558" end="07:18:08.680" style="s2">ID</p>
<p begin="07:18:06.280" end="07:18:09.638" style="s2">equals uh the ID that we extracted out</p>
<p begin="07:18:08.680" end="07:18:11.878" style="s2">of</p>
<p begin="07:18:09.638" end="07:18:14.120" style="s2">here and I see that we didn&#39;t import</p>
<p begin="07:18:11.878" end="07:18:18.320" style="s2">schema so I&#39;ll import that real</p>
<p begin="07:18:14.120" end="07:18:18.320" style="s2">quick so we&#39;ll say from</p>
<p begin="07:18:18.478" end="07:18:24.040" style="s2">dot import</p>
<p begin="07:18:22.160" end="07:18:25.600" style="s2">schemas and so all this is going to do</p>
<p begin="07:18:24.040" end="07:18:27.200" style="s2">is it&#39;s just going to validate you know</p>
<p begin="07:18:25.600" end="07:18:29.520" style="s2">that it matches our specific token</p>
<p begin="07:18:27.200" end="07:18:31.718" style="s2">schema now if you look at our schema</p>
<p begin="07:18:29.520" end="07:18:33.160" style="s2">right it&#39;s literally one thing so it&#39;s</p>
<p begin="07:18:31.718" end="07:18:35.160" style="s2">not super exciting and I made it</p>
<p begin="07:18:33.160" end="07:18:36.320" style="s2">optional so we shouldn&#39;t actually make</p>
<p begin="07:18:35.160" end="07:18:38.760" style="s2">it optional but we&#39;ll come back to</p>
<p begin="07:18:36.320" end="07:18:40.040" style="s2">fixing this in a bit um but this is just</p>
<p begin="07:18:38.760" end="07:18:42.958" style="s2">going to ensure that all the data we</p>
<p begin="07:18:40.040" end="07:18:44.680" style="s2">pass in the token is actually there and</p>
<p begin="07:18:42.958" end="07:18:46.520" style="s2">so that&#39;s why I&#39;m using a schema for</p>
<p begin="07:18:44.680" end="07:18:47.600" style="s2">that however for one actual variable you</p>
<p begin="07:18:46.520" end="07:18:48.760" style="s2">don&#39;t actually need to do that</p>
<p begin="07:18:47.600" end="07:18:51.718" style="s2">especially since we&#39;re checking to see</p>
<p begin="07:18:48.760" end="07:18:53.240" style="s2">if it exists right here but it&#39;s good to</p>
<p begin="07:18:51.718" end="07:18:56.200" style="s2">always make sure so that in the future</p>
<p begin="07:18:53.240" end="07:18:58.798" style="s2">if we do add extra Fields uh we can also</p>
<p begin="07:18:56.200" end="07:19:01.440" style="s2">validate the schema here now we&#39;re</p>
<p begin="07:18:58.798" end="07:19:03.320" style="s2">almost done with this function however</p>
<p begin="07:19:01.440" end="07:19:04.920" style="s2">there&#39;s one little issue um because we</p>
<p begin="07:19:03.320" end="07:19:06.080" style="s2">can run into an error in any one of</p>
<p begin="07:19:04.920" end="07:19:08.440" style="s2">these lines and so anytime you&#39;re</p>
<p begin="07:19:06.080" end="07:19:10.398" style="s2">working with code that can error out uh</p>
<p begin="07:19:08.440" end="07:19:12.718" style="s2">you want to do a try accept block so</p>
<p begin="07:19:10.398" end="07:19:12.718" style="s2">we&#39;ll do</p>
<p begin="07:19:12.760" end="07:19:16.798" style="s2">try and then I&#39;m going to indent</p>
<p begin="07:19:27.120" end="07:19:34.040" style="s2">these and then here we&#39;ll say</p>
<p begin="07:19:29.638" end="07:19:34.040" style="s2">accept and then we&#39;re going to pass JWT</p>
<p begin="07:19:35.958" end="07:19:41.520" style="s2">error and this should not be capitalized</p>
<p begin="07:19:38.958" end="07:19:43.958" style="s2">and remember this is coming from the</p>
<p begin="07:19:41.520" end="07:19:43.958" style="s2">Jose</p>
<p begin="07:19:45.080" end="07:19:49.320" style="s2">library and once again we&#39;re just going</p>
<p begin="07:19:47.160" end="07:19:51.478" style="s2">to raise a credentials</p>
<p begin="07:19:49.320" end="07:19:53.878" style="s2">exception uh if there&#39;s any kind of</p>
<p begin="07:19:51.478" end="07:19:55.798" style="s2">error that we didn&#39;t account</p>
<p begin="07:19:53.878" end="07:19:58.440" style="s2">for all right and the next thing that we</p>
<p begin="07:19:55.798" end="07:20:01.360" style="s2">have to do is Define one last function</p>
<p begin="07:19:58.440" end="07:20:03.320" style="s2">and this is going to be called get</p>
<p begin="07:20:01.360" end="07:20:05.040" style="s2">current user so what this is going to do</p>
<p begin="07:20:03.320" end="07:20:07.798" style="s2">is and so what this is ultimately going</p>
<p begin="07:20:05.040" end="07:20:09.920" style="s2">to do is that we can pass this as a</p>
<p begin="07:20:07.798" end="07:20:11.200" style="s2">dependency into any one of our path</p>
<p begin="07:20:09.920" end="07:20:12.920" style="s2">operations and when we do that what it&#39;s</p>
<p begin="07:20:11.200" end="07:20:15.160" style="s2">going to do is it&#39;s going to take the</p>
<p begin="07:20:12.920" end="07:20:18.080" style="s2">token from the request automatically</p>
<p begin="07:20:15.160" end="07:20:19.638" style="s2">extract the ID for us it&#39;s going to well</p>
<p begin="07:20:18.080" end="07:20:21.360" style="s2">it&#39;s going to verify that the token is</p>
<p begin="07:20:19.638" end="07:20:23.280" style="s2">correct by calling the verify access</p>
<p begin="07:20:21.360" end="07:20:24.920" style="s2">token and then it&#39;s going to extract the</p>
<p begin="07:20:23.280" end="07:20:26.798" style="s2">ID and then if we want to we can have it</p>
<p begin="07:20:24.920" end="07:20:30.240" style="s2">automatically fetch the user from the</p>
<p begin="07:20:26.798" end="07:20:32.080" style="s2">database and then add it uh into uh add</p>
<p begin="07:20:30.240" end="07:20:34.360" style="s2">it as a parameter into our path</p>
<p begin="07:20:32.080" end="07:20:37.200" style="s2">operation function so here all we&#39;re</p>
<p begin="07:20:34.360" end="07:20:40.680" style="s2">going to do is we&#39;re going to pass the</p>
<p begin="07:20:37.200" end="07:20:43.920" style="s2">token and so this is going to be a type</p>
<p begin="07:20:40.680" end="07:20:45.398" style="s2">string and then here we just say depends</p>
<p begin="07:20:43.920" end="07:20:50.760" style="s2">which has to be imported from the fast</p>
<p begin="07:20:45.398" end="07:20:53.000" style="s2">API Library so we&#39;ll say from Fast API</p>
<p begin="07:20:50.760" end="07:20:56.760" style="s2">import we&#39;re going to import depends</p>
<p begin="07:20:53.000" end="07:20:56.760" style="s2">status and HTTP</p>
<p begin="07:20:57.798" end="07:21:04.000" style="s2">exception so here we&#39;ll say depends and</p>
<p begin="07:21:00.320" end="07:21:06.200" style="s2">then we&#39;ll pass in a oath 2 schema or</p>
<p begin="07:21:04.000" end="07:21:07.040" style="s2">oath 2 scheme so what we have to do here</p>
<p begin="07:21:06.200" end="07:21:11.000" style="s2">is it&#39;s going to be a little bit</p>
<p begin="07:21:07.040" end="07:21:14.360" style="s2">confusing we&#39;ll say oath 2or</p>
<p begin="07:21:11.000" end="07:21:16.080" style="s2">scheme and this is going to be equal to</p>
<p begin="07:21:14.360" end="07:21:20.958" style="s2">and we have to import one more thing so</p>
<p begin="07:21:16.080" end="07:21:20.958" style="s2">we&#39;ll say from fast api.</p>
<p begin="07:21:22.638" end="07:21:27.680" style="s2">security</p>
<p begin="07:21:24.160" end="07:21:27.680" style="s2">import aath</p>
<p begin="07:21:29.520" end="07:21:34.398" style="s2">to password</p>
<p begin="07:21:32.280" end="07:21:36.520" style="s2">bear and then here we just reference</p>
<p begin="07:21:34.398" end="07:21:38.798" style="s2">Olaf 2 password</p>
<p begin="07:21:36.520" end="07:21:41.558" style="s2">bear and what we have to do is we have</p>
<p begin="07:21:38.798" end="07:21:43.120" style="s2">to provide one field called token URL</p>
<p begin="07:21:41.558" end="07:21:45.798" style="s2">and so this is going to be the the</p>
<p begin="07:21:43.120" end="07:21:48.240" style="s2">endpoint uh of our basically our login</p>
<p begin="07:21:45.798" end="07:21:51.040" style="s2">endpoint and so if you go to your o. py</p>
<p begin="07:21:48.240" end="07:21:52.040" style="s2">you just grab whatever name this is uh</p>
<p begin="07:21:51.040" end="07:21:54.280" style="s2">keep in mind you don&#39;t have to name it</p>
<p begin="07:21:52.040" end="07:21:56.478" style="s2">login but you just have to pass this</p>
<p begin="07:21:54.280" end="07:21:58.558" style="s2">into</p>
<p begin="07:21:56.478" end="07:22:02.320" style="s2">here actually sorry you removed the</p>
<p begin="07:21:58.558" end="07:22:02.320" style="s2">slash so it&#39;s just login</p>
<p begin="07:22:02.798" end="07:22:05.920" style="s2">and then we&#39;re going to grab this</p>
<p begin="07:22:04.320" end="07:22:07.558" style="s2">variable and I&#39;m just going to pass it</p>
<p begin="07:22:05.920" end="07:22:09.680" style="s2">into</p>
<p begin="07:22:07.558" end="07:22:12.160" style="s2">here and this is kind of just tying</p>
<p begin="07:22:09.680" end="07:22:12.160" style="s2">everything</p>
<p begin="07:22:13.000" end="07:22:17.080" style="s2">together and then we have to Define our</p>
<p begin="07:22:15.680" end="07:22:18.680" style="s2">uh credentials exception that we&#39;re</p>
<p begin="07:22:17.080" end="07:22:20.280" style="s2">going to pass into the verify access</p>
<p begin="07:22:18.680" end="07:22:22.638" style="s2">token</p>
<p begin="07:22:20.280" end="07:22:23.718" style="s2">function so when the credential is wrong</p>
<p begin="07:22:22.638" end="07:22:26.120" style="s2">or there&#39;s some kind of issue with the</p>
<p begin="07:22:23.718" end="07:22:28.120" style="s2">JWT token what uh exception should we</p>
<p begin="07:22:26.120" end="07:22:30.840" style="s2">raise so here I&#39;m just going to say HTTP</p>
<p begin="07:22:28.120" end="07:22:31.520" style="s2">exception and we&#39;ll set the status code</p>
<p begin="07:22:30.840" end="07:22:34.680" style="s2">to</p>
<p begin="07:22:31.520" end="07:22:34.680" style="s2">be a</p>
<p begin="07:22:35.240" end="07:22:38.558" style="s2">401 so</p>
<p begin="07:22:38.878" end="07:22:43.440" style="s2">unauthorized detail here I&#39;m going to</p>
<p begin="07:22:41.840" end="07:22:47.920" style="s2">pass a</p>
<p begin="07:22:43.440" end="07:22:50.240" style="s2">string once again could not validate</p>
<p begin="07:22:47.920" end="07:22:52.600" style="s2">credentials and then we have to set some</p>
<p begin="07:22:50.240" end="07:22:55.160" style="s2">headers as</p>
<p begin="07:22:52.600" end="07:22:58.318" style="s2">well and so just go ahead and just copy</p>
<p begin="07:22:55.160" end="07:22:58.318" style="s2">this in</p>
<p begin="07:23:05.600" end="07:23:12.160" style="s2">and then finally we&#39;re going to return</p>
<p begin="07:23:08.160" end="07:23:12.160" style="s2">uh a call to our verify access token</p>
<p begin="07:23:14.120" end="07:23:18.200" style="s2">function and since we have the token</p>
<p begin="07:23:16.160" end="07:23:21.240" style="s2">passed into the get uh current user we</p>
<p begin="07:23:18.200" end="07:23:23.398" style="s2">can pass it into our verify access</p>
<p begin="07:23:21.240" end="07:23:26.398" style="s2">token and then we also can provide the</p>
<p begin="07:23:23.398" end="07:23:26.398" style="s2">credentials</p>
<p begin="07:23:30.558" end="07:23:33.920" style="s2">all right so just to quickly recap</p>
<p begin="07:23:32.478" end="07:23:36.398" style="s2">because I know we did a lot and I think</p>
<p begin="07:23:33.920" end="07:23:38.200" style="s2">some of it may be confusing um but</p>
<p begin="07:23:36.398" end="07:23:40.478" style="s2">what&#39;s going to happen is anytime we</p>
<p begin="07:23:38.200" end="07:23:41.958" style="s2">have a specific endpoint that should be</p>
<p begin="07:23:40.478" end="07:23:44.240" style="s2">protected and what that means is that</p>
<p begin="07:23:41.958" end="07:23:46.558" style="s2">the user needs to be log in to use it uh</p>
<p begin="07:23:44.240" end="07:23:48.878" style="s2">what we&#39;re going to do is I&#39;m going to</p>
<p begin="07:23:46.558" end="07:23:50.558" style="s2">uh well as an example let&#39;s say that uh</p>
<p begin="07:23:48.878" end="07:23:52.760" style="s2">users who want to be able to create a</p>
<p begin="07:23:50.558" end="07:23:54.600" style="s2">post they need to be logged in what we</p>
<p begin="07:23:52.760" end="07:23:56.240" style="s2">can do is we can just add in an extra</p>
<p begin="07:23:54.600" end="07:23:58.360" style="s2">dependency into the path operation</p>
<p begin="07:23:56.240" end="07:24:00.718" style="s2">function so I can say uh here I would</p>
<p begin="07:23:58.360" end="07:24:02.760" style="s2">just say get</p>
<p begin="07:24:00.718" end="07:24:05.638" style="s2">current uncore</p>
<p begin="07:24:02.760" end="07:24:08.840" style="s2">user which would return an</p>
<p begin="07:24:05.638" end="07:24:10.360" style="s2">INT and then we&#39;ll say this equals and</p>
<p begin="07:24:08.840" end="07:24:13.360" style="s2">then we pass in a dependency so we&#39;ll</p>
<p begin="07:24:10.360" end="07:24:16.240" style="s2">say depends on oath</p>
<p begin="07:24:13.360" end="07:24:17.878" style="s2">2.get current user so this is going to</p>
<p begin="07:24:16.240" end="07:24:19.398" style="s2">add a dependency uh which is going to be</p>
<p begin="07:24:17.878" end="07:24:21.760" style="s2">that function that we created called get</p>
<p begin="07:24:19.398" end="07:24:24.040" style="s2">current user so anytime anyone wants to</p>
<p begin="07:24:21.760" end="07:24:25.920" style="s2">access a resource that&#39;s requires them</p>
<p begin="07:24:24.040" end="07:24:28.200" style="s2">to be logged in we&#39;re going to expect</p>
<p begin="07:24:25.920" end="07:24:29.718" style="s2">that they provide an access token and</p>
<p begin="07:24:28.200" end="07:24:32.680" style="s2">then we provide this dependency which is</p>
<p begin="07:24:29.718" end="07:24:35.280" style="s2">going to call this function get current</p>
<p begin="07:24:32.680" end="07:24:36.680" style="s2">uh sorry where is it get current user</p>
<p begin="07:24:35.280" end="07:24:39.160" style="s2">and then we pass in the token that comes</p>
<p begin="07:24:36.680" end="07:24:42.000" style="s2">from the request we&#39;re going to then run</p>
<p begin="07:24:39.160" end="07:24:43.878" style="s2">this verify access token in this case</p>
<p begin="07:24:42.000" end="07:24:46.398" style="s2">and then it&#39;s going to Pro uh provide</p>
<p begin="07:24:43.878" end="07:24:48.520" style="s2">all of the logic uh for verifying that</p>
<p begin="07:24:46.398" end="07:24:51.318" style="s2">the token is okay and that there&#39;s no</p>
<p begin="07:24:48.520" end="07:24:54.520" style="s2">errors and if there&#39;s no errors then we</p>
<p begin="07:24:51.318" end="07:24:56.398" style="s2">go ahead and uh return nothing</p>
<p begin="07:24:54.520" end="07:24:58.760" style="s2">essentially and that means that they</p>
<p begin="07:24:56.398" end="07:25:00.520" style="s2">were successfully able to um be</p>
<p begin="07:24:58.760" end="07:25:02.520" style="s2">authenticated if we do return return</p>
<p begin="07:25:00.520" end="07:25:03.958" style="s2">some kind of error with the credentials</p>
<p begin="07:25:02.520" end="07:25:06.878" style="s2">exception then it they&#39;re going to get</p>
<p begin="07:25:03.958" end="07:25:08.718" style="s2">that appropriate 401 response back so</p>
<p begin="07:25:06.878" end="07:25:10.600" style="s2">that&#39;s how our login works it&#39;s nothing</p>
<p begin="07:25:08.718" end="07:25:12.318" style="s2">special um but there are a couple of</p>
<p begin="07:25:10.600" end="07:25:14.958" style="s2">different components that are involved</p>
<p begin="07:25:12.318" end="07:25:17.360" style="s2">and uh in the next lecture we&#39;ll start</p>
<p begin="07:25:14.958" end="07:25:19.120" style="s2">to take a look at um starting to protect</p>
<p begin="07:25:17.360" end="07:25:20.440" style="s2">our specific endpoint so that it forces</p>
<p begin="07:25:19.120" end="07:25:23.000" style="s2">users to be logged in to actually</p>
<p begin="07:25:20.440" end="07:25:26.160" style="s2">perform that operation all right guys I</p>
<p begin="07:25:23.000" end="07:25:28.398" style="s2">made one little mistake uh in the verify</p>
<p begin="07:25:26.160" end="07:25:31.120" style="s2">access token function I forgot to return</p>
<p begin="07:25:28.398" end="07:25:33.600" style="s2">something and so if you ran into any</p>
<p begin="07:25:31.120" end="07:25:34.600" style="s2">issues uh it&#39;s because of this so what</p>
<p begin="07:25:33.600" end="07:25:39.040" style="s2">we&#39;re going to do is here is we&#39;re just</p>
<p begin="07:25:34.600" end="07:25:40.600" style="s2">going to do return token undor data and</p>
<p begin="07:25:39.040" end="07:25:43.360" style="s2">so what&#39;s really happening here is once</p>
<p begin="07:25:40.600" end="07:25:45.520" style="s2">again we&#39;re going to decode the JWT</p>
<p begin="07:25:43.360" end="07:25:47.638" style="s2">we&#39;re going to extract the ID if there&#39;s</p>
<p begin="07:25:45.520" end="07:25:49.558" style="s2">no ID then we&#39;re going to throw an error</p>
<p begin="07:25:47.638" end="07:25:51.200" style="s2">uh and then we&#39;re going to validate uh</p>
<p begin="07:25:49.558" end="07:25:53.240" style="s2">with the schema the actual token data</p>
<p begin="07:25:51.200" end="07:25:54.440" style="s2">which in this case is just an ID so</p>
<p begin="07:25:53.240" end="07:25:56.718" style="s2">that&#39;s the only field but if you had</p>
<p begin="07:25:54.440" end="07:25:58.440" style="s2">extra Properties or or extra information</p>
<p begin="07:25:56.718" end="07:26:00.558" style="s2">you can pass that in and then we want to</p>
<p begin="07:25:58.440" end="07:26:01.878" style="s2">make sure we return the token data so</p>
<p begin="07:26:00.558" end="07:26:04.120" style="s2">that we can actually make use of that</p>
<p begin="07:26:01.878" end="07:26:05.958" style="s2">data and keep in mind remember the get</p>
<p begin="07:26:04.120" end="07:26:07.920" style="s2">current user is what actually calls the</p>
<p begin="07:26:05.958" end="07:26:10.000" style="s2">verify access token so when it calls</p>
<p begin="07:26:07.920" end="07:26:11.318" style="s2">verify access token it expects us to</p>
<p begin="07:26:10.000" end="07:26:12.760" style="s2">return the token data and then when we</p>
<p begin="07:26:11.318" end="07:26:14.280" style="s2">get the token data we return it to</p>
<p begin="07:26:12.760" end="07:26:16.478" style="s2">whoever calls this</p>
<p begin="07:26:14.280" end="07:26:18.680" style="s2">function okay guys so I found a few</p>
<p begin="07:26:16.478" end="07:26:21.080" style="s2">extra bugs that we need to fix now the</p>
<p begin="07:26:18.680" end="07:26:22.920" style="s2">first thing that I messed up was when we</p>
<p begin="07:26:21.080" end="07:26:25.120" style="s2">actually set the expiration time under</p>
<p begin="07:26:22.920" end="07:26:26.958" style="s2">the create access token function instead</p>
<p begin="07:26:25.120" end="07:26:29.798" style="s2">of datetime.now it should be date</p>
<p begin="07:26:26.958" end="07:26:31.160" style="s2">time.utc now this is important um</p>
<p begin="07:26:29.798" end="07:26:33.520" style="s2">because as I was testing it I kept</p>
<p begin="07:26:31.160" end="07:26:36.360" style="s2">getting an expiration error and that&#39;s</p>
<p begin="07:26:33.520" end="07:26:38.798" style="s2">because this should be a UTC now and the</p>
<p begin="07:26:36.360" end="07:26:40.558" style="s2">second thing is we want to put this in</p>
<p begin="07:26:38.798" end="07:26:42.798" style="s2">Brackets because I guess it expects a</p>
<p begin="07:26:40.558" end="07:26:45.280" style="s2">list of algorithms maybe we&#39;ll put that</p>
<p begin="07:26:42.798" end="07:26:47.080" style="s2">in there and then finally uh this is</p>
<p begin="07:26:45.280" end="07:26:48.798" style="s2">also a bug right here because if you</p>
<p begin="07:26:47.080" end="07:26:51.398" style="s2">take a look at the payload when we</p>
<p begin="07:26:48.798" end="07:26:53.120" style="s2">create the token uh which I believe</p>
<p begin="07:26:51.398" end="07:26:56.478" style="s2">should be in the</p>
<p begin="07:26:53.120" end="07:27:01.840" style="s2">o.y when we log in we pass in uh the</p>
<p begin="07:26:56.478" end="07:27:05.520" style="s2">data as user ID and not users ID like we</p>
<p begin="07:27:01.840" end="07:27:07.638" style="s2">did here so remove that and this should</p>
<p begin="07:27:05.520" end="07:27:09.318" style="s2">prevent us from running into any other</p>
<p begin="07:27:07.638" end="07:27:11.638" style="s2">potential issues in the upcoming</p>
<p begin="07:27:09.318" end="07:27:13.080" style="s2">lectures sorry about that I know we ran</p>
<p begin="07:27:11.638" end="07:27:15.160" style="s2">into a couple of bugs but that&#39;s what</p>
<p begin="07:27:13.080" end="07:27:17.520" style="s2">happens when you try and copy and paste</p>
<p begin="07:27:15.160" end="07:27:19.160" style="s2">really quickly before we wrap things up</p>
<p begin="07:27:17.520" end="07:27:23.000" style="s2">there&#39;s one last change that I want to</p>
<p begin="07:27:19.160" end="07:27:26.840" style="s2">make inside the login route in the o. py</p>
<p begin="07:27:23.000" end="07:27:28.680" style="s2">router file um I noticed that for the</p>
<p begin="07:27:26.840" end="07:27:30.760" style="s2">response or or the exception that we</p>
<p begin="07:27:28.680" end="07:27:33.240" style="s2">raise if the either the users email is</p>
<p begin="07:27:30.760" end="07:27:34.120" style="s2">wrong or if their uh if their password</p>
<p begin="07:27:33.240" end="07:27:37.520" style="s2">is</p>
<p begin="07:27:34.120" end="07:27:40.120" style="s2">incorrect um I use the wrong HTTP status</p>
<p begin="07:27:37.520" end="07:27:41.840" style="s2">code for the exception and I can&#39;t</p>
<p begin="07:27:40.120" end="07:27:43.840" style="s2">remember what I actually had it before</p>
<p begin="07:27:41.840" end="07:27:45.318" style="s2">cuz I went ahead and fixed it but I want</p>
<p begin="07:27:43.840" end="07:27:47.398" style="s2">you guys to go ahead and change the two</p>
<p begin="07:27:45.318" end="07:27:49.440" style="s2">exceptions here uh in both of those</p>
<p begin="07:27:47.398" end="07:27:50.878" style="s2">cases to a 403 I think that&#39;s a better</p>
<p begin="07:27:49.440" end="07:27:52.958" style="s2">representation of what we should be</p>
<p begin="07:27:50.878" end="07:27:54.080" style="s2">sending when the user doesn&#39;t provide</p>
<p begin="07:27:52.958" end="07:27:56.398" style="s2">proper</p>
<p begin="07:27:54.080" end="07:27:58.160" style="s2">credentials so just update it here and</p>
<p begin="07:27:56.398" end="07:28:00.440" style="s2">then update it here as well and then you</p>
<p begin="07:27:58.160" end="07:28:02.160" style="s2">guys should be good to go</p>
<p begin="07:28:00.440" end="07:28:03.840" style="s2">okay guys we&#39;re pretty much done with</p>
<p begin="07:28:02.160" end="07:28:05.520" style="s2">all of the authentication side of things</p>
<p begin="07:28:03.840" end="07:28:07.398" style="s2">the only thing that we have to do is</p>
<p begin="07:28:05.520" end="07:28:09.240" style="s2">require the user to authenticate because</p>
<p begin="07:28:07.398" end="07:28:11.520" style="s2">right now you know if we perform any</p>
<p begin="07:28:09.240" end="07:28:13.638" style="s2">operation like creating a post uh you</p>
<p begin="07:28:11.520" end="07:28:14.920" style="s2">can see that I could just create a post</p>
<p begin="07:28:13.638" end="07:28:16.398" style="s2">and that&#39;s it I don&#39;t have to log in</p>
<p begin="07:28:14.920" end="07:28:18.080" style="s2">first I don&#39;t have to do anything so</p>
<p begin="07:28:16.398" end="07:28:20.040" style="s2">anyone can create post anyone can delete</p>
<p begin="07:28:18.080" end="07:28:21.478" style="s2">post anyone can do anything they want</p>
<p begin="07:28:20.040" end="07:28:23.600" style="s2">obviously that&#39;s not how your API is</p>
<p begin="07:28:21.478" end="07:28:25.040" style="s2">going to work uh you&#39;re going to want to</p>
<p begin="07:28:23.600" end="07:28:26.638" style="s2">ensure that users are logged in to</p>
<p begin="07:28:25.040" end="07:28:28.520" style="s2">perform certain operations and there may</p>
<p begin="07:28:26.638" end="07:28:29.718" style="s2">be certain operations where they don&#39;t</p>
<p begin="07:28:28.520" end="07:28:31.398" style="s2">necessarily need to be logged in</p>
<p begin="07:28:29.718" end="07:28:33.200" style="s2">depending on how you want to structure</p>
<p begin="07:28:31.398" end="07:28:35.440" style="s2">your application right because you know</p>
<p begin="07:28:33.200" end="07:28:37.000" style="s2">if it&#39;s like a a twitter- like</p>
<p begin="07:28:35.440" end="07:28:39.600" style="s2">application right anyone can see</p>
<p begin="07:28:37.000" end="07:28:41.680" style="s2">anyone&#39;s tweets I just can&#39;t delete</p>
<p begin="07:28:39.600" end="07:28:43.920" style="s2">anyone else&#39;s tweets right and to create</p>
<p begin="07:28:41.680" end="07:28:45.120" style="s2">a tweet I have to be logged in uh so it</p>
<p begin="07:28:43.920" end="07:28:46.360" style="s2">depends on what you want to do for your</p>
<p begin="07:28:45.120" end="07:28:48.160" style="s2">application but what we&#39;re going to do</p>
<p begin="07:28:46.360" end="07:28:49.680" style="s2">is we&#39;re going to start off by forcing</p>
<p begin="07:28:48.160" end="07:28:52.398" style="s2">the user to be logged in before they can</p>
<p begin="07:28:49.680" end="07:28:55.318" style="s2">create a post and doing this is actually</p>
<p begin="07:28:52.398" end="07:28:59.160" style="s2">really simple so let&#39;s go to our uh</p>
<p begin="07:28:55.318" end="07:29:00.718" style="s2">post. py and let&#39;s find our create posts</p>
<p begin="07:28:59.160" end="07:29:02.718" style="s2">now the first thing I want to do is I&#39;m</p>
<p begin="07:29:00.718" end="07:29:05.360" style="s2">going to import</p>
<p begin="07:29:02.718" end="07:29:08.718" style="s2">oath 2 which is coming from this oath</p>
<p begin="07:29:05.360" end="07:29:09.920" style="s2">2py file and then in our create posts</p>
<p begin="07:29:08.718" end="07:29:11.718" style="s2">path operation function we&#39;re going to</p>
<p begin="07:29:09.920" end="07:29:15.040" style="s2">add an extra dependency and this</p>
<p begin="07:29:11.718" end="07:29:17.280" style="s2">dependency is going to be the uh create</p>
<p begin="07:29:15.040" end="07:29:21.080" style="s2">or sorry get current user function that</p>
<p begin="07:29:17.280" end="07:29:21.080" style="s2">we defined in our oath 2</p>
<p begin="07:29:22.240" end="07:29:29.040" style="s2">file so we say is depends and then we&#39;ll</p>
<p begin="07:29:25.718" end="07:29:32.638" style="s2">say ooth</p>
<p begin="07:29:29.040" end="07:29:32.638" style="s2">2.get current</p>
<p begin="07:29:36.398" end="07:29:43.160" style="s2">user and then we&#39;re going to store this</p>
<p begin="07:29:38.680" end="07:29:46.040" style="s2">in a variable called uh we&#39;ll say</p>
<p begin="07:29:43.160" end="07:29:48.760" style="s2">userid and this is going to be</p>
<p begin="07:29:46.040" end="07:29:51.398" style="s2">a</p>
<p begin="07:29:48.760" end="07:29:54.160" style="s2">integer okay and so all this is saying</p>
<p begin="07:29:51.398" end="07:29:56.240" style="s2">is that uh this function is now going to</p>
<p begin="07:29:54.160" end="07:29:57.920" style="s2">be a dependency so this is what forces</p>
<p begin="07:29:56.240" end="07:29:59.798" style="s2">the users to have to be logged in before</p>
<p begin="07:29:57.920" end="07:30:01.558" style="s2">they can actually create a post and so</p>
<p begin="07:29:59.798" end="07:30:03.200" style="s2">when this function is called whenever</p>
<p begin="07:30:01.558" end="07:30:04.000" style="s2">they hit this endpoint the first thing</p>
<p begin="07:30:03.200" end="07:30:06.000" style="s2">that we&#39;re going to do is we&#39;re going to</p>
<p begin="07:30:04.000" end="07:30:07.200" style="s2">call this function and this function all</p>
<p begin="07:30:06.000" end="07:30:09.558" style="s2">this function does is really just call</p>
<p begin="07:30:07.200" end="07:30:13.680" style="s2">the verify AIS token but and passing in</p>
<p begin="07:30:09.558" end="07:30:17.040" style="s2">the T the token which comes from the</p>
<p begin="07:30:13.680" end="07:30:21.200" style="s2">user uh and so it takes the token uh we</p>
<p begin="07:30:17.040" end="07:30:24.280" style="s2">first decode the token we extract the</p>
<p begin="07:30:21.200" end="07:30:25.760" style="s2">ID from the payload and if there&#39;s no ID</p>
<p begin="07:30:24.280" end="07:30:28.760" style="s2">we throw an error and then you can see</p>
<p begin="07:30:25.760" end="07:30:30.360" style="s2">we validate the schema uh and then this</p>
<p begin="07:30:28.760" end="07:30:32.840" style="s2">sorry this is something I actually added</p>
<p begin="07:30:30.360" end="07:30:37.240" style="s2">in uh off camera so we can just delete</p>
<p begin="07:30:32.840" end="07:30:37.240" style="s2">that and then go back to what you guys</p>
<p begin="07:30:38.240" end="07:30:41.958" style="s2">have um but we ultimately return the</p>
<p begin="07:30:40.478" end="07:30:44.318" style="s2">token data which is nothing more than</p>
<p begin="07:30:41.958" end="07:30:46.398" style="s2">the ID right so we could rename this as</p>
<p begin="07:30:44.318" end="07:30:49.360" style="s2">ID for now but like I said in the future</p>
<p begin="07:30:46.398" end="07:30:51.080" style="s2">you may want to add extra uh Fields into</p>
<p begin="07:30:49.360" end="07:30:52.958" style="s2">the payload and then it&#39;s no longer just</p>
<p begin="07:30:51.080" end="07:30:54.680" style="s2">the ID it&#39;s going to include extra</p>
<p begin="07:30:52.958" end="07:30:56.600" style="s2">information so we&#39;re going to return the</p>
<p begin="07:30:54.680" end="07:30:58.878" style="s2">ID which then gets returned by the get</p>
<p begin="07:30:56.600" end="07:31:01.398" style="s2">current user function and then in our</p>
<p begin="07:30:58.878" end="07:31:03.200" style="s2">post. py uh in our function we&#39;re going</p>
<p begin="07:31:01.398" end="07:31:05.280" style="s2">to return the ID and stored in a</p>
<p begin="07:31:03.200" end="07:31:09.000" style="s2">variable called user ID and so then we</p>
<p begin="07:31:05.280" end="07:31:12.000" style="s2">can ultimately access the user ID by</p>
<p begin="07:31:09.000" end="07:31:14.000" style="s2">just calling user ID that&#39;s it and we</p>
<p begin="07:31:12.000" end="07:31:15.600" style="s2">can do whatever we want uh with this</p>
<p begin="07:31:14.000" end="07:31:18.080" style="s2">user ID and you&#39;ll see we&#39;ll eventually</p>
<p begin="07:31:15.600" end="07:31:19.318" style="s2">add some more logic uh but for now I&#39;m</p>
<p begin="07:31:18.080" end="07:31:20.360" style="s2">just going to print it out just to see</p>
<p begin="07:31:19.318" end="07:31:23.240" style="s2">what we</p>
<p begin="07:31:20.360" end="07:31:27.000" style="s2">see and let&#39;s go ahead and try this so</p>
<p begin="07:31:23.240" end="07:31:28.440" style="s2">first of all I&#39;m going to create post</p>
<p begin="07:31:27.000" end="07:31:30.798" style="s2">and then we&#39;re going to see what happens</p>
<p begin="07:31:28.440" end="07:31:32.878" style="s2">now when I try to create a post post</p>
<p begin="07:31:30.798" end="07:31:34.638" style="s2">look at that not authenticated so by</p>
<p begin="07:31:32.878" end="07:31:36.638" style="s2">putting in that extra dependency we have</p>
<p begin="07:31:34.638" end="07:31:38.920" style="s2">ensured that the user has to be</p>
<p begin="07:31:36.638" end="07:31:41.958" style="s2">authenticated before they can use this</p>
<p begin="07:31:38.920" end="07:31:44.440" style="s2">post now how do we actually provide the</p>
<p begin="07:31:41.958" end="07:31:46.080" style="s2">token so that we can actually use the</p>
<p begin="07:31:44.440" end="07:31:47.440" style="s2">create post well first of all let&#39;s get</p>
<p begin="07:31:46.080" end="07:31:49.360" style="s2">a token so we&#39;re going to go to the</p>
<p begin="07:31:47.440" end="07:31:51.318" style="s2">login user I&#39;m going to hit send going</p>
<p begin="07:31:49.360" end="07:31:53.360" style="s2">to get a brand new</p>
<p begin="07:31:51.318" end="07:31:55.398" style="s2">token and then what we want to do is we</p>
<p begin="07:31:53.360" end="07:31:58.318" style="s2">want to go to create post and then we</p>
<p begin="07:31:55.398" end="07:32:00.160" style="s2">want to go to headers and then we want</p>
<p begin="07:31:58.318" end="07:32:02.558" style="s2">to create a header and you know you can</p>
<p begin="07:32:00.160" end="07:32:03.878" style="s2">see I can I created one already but I&#39;m</p>
<p begin="07:32:02.558" end="07:32:07.080" style="s2">going to type this out for you from</p>
<p begin="07:32:03.878" end="07:32:10.440" style="s2">scratch in the line below it so we say</p>
<p begin="07:32:07.080" end="07:32:12.920" style="s2">authorization is going to be the the</p>
<p begin="07:32:10.440" end="07:32:14.398" style="s2">key and then the column is going to be</p>
<p begin="07:32:12.920" end="07:32:16.760" style="s2">and you type the word in Bearer because</p>
<p begin="07:32:14.398" end="07:32:19.440" style="s2">it&#39;s a bearer type token so you do bear</p>
<p begin="07:32:16.760" end="07:32:22.558" style="s2">with a capital b space don&#39;t forget the</p>
<p begin="07:32:19.440" end="07:32:25.398" style="s2">space and then paste it</p>
<p begin="07:32:22.558" end="07:32:27.558" style="s2">in okay and so now this is included in</p>
<p begin="07:32:25.398" end="07:32:29.878" style="s2">our header and so we should be able to</p>
<p begin="07:32:27.558" end="07:32:34.240" style="s2">send a request and so now look at this</p>
<p begin="07:32:29.878" end="07:32:36.280" style="s2">this we were now successfully able to um</p>
<p begin="07:32:34.240" end="07:32:38.638" style="s2">send our token the API was able to</p>
<p begin="07:32:36.280" end="07:32:41.878" style="s2">validate it was a valid token and it was</p>
<p begin="07:32:38.638" end="07:32:44.840" style="s2">able to then allow us to create a post</p>
<p begin="07:32:41.878" end="07:32:46.680" style="s2">and uh just another little Postman tip</p>
<p begin="07:32:44.840" end="07:32:47.958" style="s2">uh you can uncheck this for now so that</p>
<p begin="07:32:46.680" end="07:32:50.120" style="s2">it&#39;s not authorized for you if I try to</p>
<p begin="07:32:47.958" end="07:32:52.000" style="s2">do it now you see I get error you can go</p>
<p begin="07:32:50.120" end="07:32:53.478" style="s2">into authorization and then just type in</p>
<p begin="07:32:52.000" end="07:32:55.920" style="s2">uh go to Bearer token and then paste it</p>
<p begin="07:32:53.478" end="07:32:57.080" style="s2">into here does the same exact thing uh</p>
<p begin="07:32:55.920" end="07:32:59.558" style="s2">it&#39;s just you don&#39;t have to type in the</p>
<p begin="07:32:57.080" end="07:33:00.878" style="s2">word bear for yourself and then you know</p>
<p begin="07:32:59.558" end="07:33:03.120" style="s2">have to do all of that you could just</p>
<p begin="07:33:00.878" end="07:33:06.080" style="s2">hit send now and it does does the same</p>
<p begin="07:33:03.120" end="07:33:08.840" style="s2">exact thing whichever method you prefer</p>
<p begin="07:33:06.080" end="07:33:11.120" style="s2">more now that we&#39;ve protected our create</p>
<p begin="07:33:08.840" end="07:33:12.798" style="s2">post route uh let&#39;s go ahead and do this</p>
<p begin="07:33:11.120" end="07:33:14.680" style="s2">with some of our other routes so it&#39;s</p>
<p begin="07:33:12.798" end="07:33:17.160" style="s2">just a matter of just copying the</p>
<p begin="07:33:14.680" end="07:33:20.120" style="s2">dependency for get current user and then</p>
<p begin="07:33:17.160" end="07:33:21.840" style="s2">uh for retrieving a post well remember</p>
<p begin="07:33:20.120" end="07:33:23.920" style="s2">this part is up to you you decide</p>
<p begin="07:33:21.840" end="07:33:25.440" style="s2">ultimately what routes you want a user</p>
<p begin="07:33:23.920" end="07:33:28.080" style="s2">to be logged in to actually perform an</p>
<p begin="07:33:25.440" end="07:33:29.478" style="s2">operation um but for delete posts I&#39;m</p>
<p begin="07:33:28.080" end="07:33:32.160" style="s2">definitely going to force a user to be</p>
<p begin="07:33:29.478" end="07:33:33.680" style="s2">logged in and for update post I&#39;m going</p>
<p begin="07:33:32.160" end="07:33:36.040" style="s2">to do the same</p>
<p begin="07:33:33.680" end="07:33:37.600" style="s2">thing and then finally uh you know like</p>
<p begin="07:33:36.040" end="07:33:39.080" style="s2">I said for getting post you know it&#39;s</p>
<p begin="07:33:37.600" end="07:33:40.920" style="s2">really up to you um we&#39;ll say that you</p>
<p begin="07:33:39.080" end="07:33:43.080" style="s2">have to be logged in to do anything so</p>
<p begin="07:33:40.920" end="07:33:44.718" style="s2">for get posts or getting all posts we</p>
<p begin="07:33:43.080" end="07:33:46.398" style="s2">want to make sure that they&#39;re logged in</p>
<p begin="07:33:44.718" end="07:33:48.120" style="s2">and then for getting an individual post</p>
<p begin="07:33:46.398" end="07:33:51.360" style="s2">we want to make sure that they&#39;re logged</p>
<p begin="07:33:48.120" end="07:33:53.478" style="s2">in and then finally the last thing that</p>
<p begin="07:33:51.360" end="07:33:55.160" style="s2">we well it&#39;s not the last thing but uh</p>
<p begin="07:33:53.478" end="07:33:58.680" style="s2">one of the things I forgot to do is</p>
<p begin="07:33:55.160" end="07:34:01.840" style="s2">under o. py when we send our access</p>
<p begin="07:33:58.680" end="07:34:03.760" style="s2">token uh after they log in uh if you</p>
<p begin="07:34:01.840" end="07:34:06.920" style="s2">remember in under schemas we actually</p>
<p begin="07:34:03.760" end="07:34:08.478" style="s2">created a token model sorry token schema</p>
<p begin="07:34:06.920" end="07:34:11.080" style="s2">we never actually used it so let&#39;s</p>
<p begin="07:34:08.478" end="07:34:13.000" style="s2">actually use that um by setting the</p>
<p begin="07:34:11.080" end="07:34:16.040" style="s2">response model</p>
<p begin="07:34:13.000" end="07:34:18.478" style="s2">here and this is going to be</p>
<p begin="07:34:16.040" end="07:34:21.040" style="s2">schema do</p>
<p begin="07:34:18.478" end="07:34:25.760" style="s2">token emma.</p>
<p begin="07:34:21.040" end="07:34:25.760" style="s2">token but let&#39;s save this</p>
<p begin="07:34:31.558" end="07:34:35.600" style="s2">and this should be capitalized sorry</p>
<p begin="07:34:33.318" end="07:34:35.600" style="s2">about</p>
<p begin="07:34:36.040" end="07:34:40.798" style="s2">that and so now if we log in a user we</p>
<p begin="07:34:38.840" end="07:34:42.318" style="s2">should still get no error so perfect</p>
<p begin="07:34:40.798" end="07:34:44.000" style="s2">okay so just in case in the future we</p>
<p begin="07:34:42.318" end="07:34:45.398" style="s2">accidentally change something uh we&#39;re</p>
<p begin="07:34:44.000" end="07:34:47.638" style="s2">still going to perform that validation</p>
<p begin="07:34:45.398" end="07:34:50.680" style="s2">to ensure that the token we only send</p>
<p begin="07:34:47.638" end="07:34:53.240" style="s2">those two Fields when we return a</p>
<p begin="07:34:50.680" end="07:34:56.440" style="s2">token now let&#39;s quickly just test all</p>
<p begin="07:34:53.240" end="07:34:57.840" style="s2">the other route uh so if I do get posts</p>
<p begin="07:34:56.440" end="07:35:00.520" style="s2">and I hit</p>
<p begin="07:34:57.840" end="07:35:03.200" style="s2">send you can see well let me save</p>
<p begin="07:35:00.520" end="07:35:04.920" style="s2">everything sorry about that once again</p>
<p begin="07:35:03.200" end="07:35:06.680" style="s2">now if I hit send you can see I&#39;m not</p>
<p begin="07:35:04.920" end="07:35:08.920" style="s2">authenticated so I have to do the same</p>
<p begin="07:35:06.680" end="07:35:10.840" style="s2">thing uh so once again you can do</p>
<p begin="07:35:08.920" end="07:35:12.240" style="s2">authorization Bearer or you can go to</p>
<p begin="07:35:10.840" end="07:35:15.638" style="s2">authorization and then just select</p>
<p begin="07:35:12.240" end="07:35:15.638" style="s2">Bearer token and then paste in the</p>
<p begin="07:35:15.798" end="07:35:23.920" style="s2">token so now if I hit</p>
<p begin="07:35:18.280" end="07:35:23.920" style="s2">send oh sorry I got to recopy the token</p>
<p begin="07:35:24.040" end="07:35:29.120" style="s2">again now if we send it works now get</p>
<p begin="07:35:27.240" end="07:35:31.600" style="s2">one post let&#39;s try this not</p>
<p begin="07:35:29.120" end="07:35:34.958" style="s2">authenticated we&#39;ll go into</p>
<p begin="07:35:31.600" end="07:35:34.958" style="s2">authorization bear</p>
<p begin="07:35:35.040" end="07:35:43.240" style="s2">token send that works deleting</p>
<p begin="07:35:39.360" end="07:35:43.240" style="s2">posts go to once again to</p>
<p begin="07:35:46.760" end="07:35:51.520" style="s2">authorization uh there&#39;s no post with an</p>
<p begin="07:35:48.878" end="07:35:53.840" style="s2">ID of three about</p>
<p begin="07:35:51.520" end="07:35:55.680" style="s2">four all right that worked and then</p>
<p begin="07:35:53.840" end="07:35:58.160" style="s2">finally update</p>
<p begin="07:35:55.680" end="07:36:01.558" style="s2">post we&#39;re going to do the last thing</p>
<p begin="07:35:58.160" end="07:36:01.558" style="s2">and bear token</p>
<p begin="07:36:03.040" end="07:36:06.840" style="s2">all right and that works and then let&#39;s</p>
<p begin="07:36:04.718" end="07:36:08.360" style="s2">just double check to make sure that if</p>
<p begin="07:36:06.840" end="07:36:11.398" style="s2">there&#39;s no token what</p>
<p begin="07:36:08.360" end="07:36:12.920" style="s2">happens error perfect okay guys so I</p>
<p begin="07:36:11.398" end="07:36:14.680" style="s2">think that&#39;s going to wrap up this video</p>
<p begin="07:36:12.920" end="07:36:16.958" style="s2">for now we&#39;ve pretty much done uh all</p>
<p begin="07:36:14.680" end="07:36:19.360" style="s2">the authentication that we need to do up</p>
<p begin="07:36:16.958" end="07:36:21.520" style="s2">to this point there&#39;s one last thing</p>
<p begin="07:36:19.360" end="07:36:23.680" style="s2">that I want to test to verify that</p>
<p begin="07:36:21.520" end="07:36:25.000" style="s2">everything works the way it should and</p>
<p begin="07:36:23.680" end="07:36:26.718" style="s2">uh we probably should have test this in</p>
<p begin="07:36:25.000" end="07:36:28.398" style="s2">one of the previous videos but I forgot</p>
<p begin="07:36:26.718" end="07:36:30.760" style="s2">to do it and I want to make sure that we</p>
<p begin="07:36:28.398" end="07:36:33.120" style="s2">test the expiration process because a</p>
<p begin="07:36:30.760" end="07:36:36.200" style="s2">JWT uh has an expiration time that we</p>
<p begin="07:36:33.120" end="07:36:37.798" style="s2">set ourselves and this just ensures that</p>
<p begin="07:36:36.200" end="07:36:39.558" style="s2">a user is logged in only for certain</p>
<p begin="07:36:37.798" end="07:36:41.920" style="s2">amount of time now we set the access</p>
<p begin="07:36:39.558" end="07:36:44.240" style="s2">token expiration time to be 30 minutes</p>
<p begin="07:36:41.920" end="07:36:45.798" style="s2">uh and so that means that if a user logs</p>
<p begin="07:36:44.240" end="07:36:47.840" style="s2">in and he keeps his token for more than</p>
<p begin="07:36:45.798" end="07:36:50.200" style="s2">30 minutes after that 30 minute Mark if</p>
<p begin="07:36:47.840" end="07:36:52.200" style="s2">he tries to use that token to access any</p>
<p begin="07:36:50.200" end="07:36:54.558" style="s2">of our end points it should throw an</p>
<p begin="07:36:52.200" end="07:36:56.440" style="s2">error because it&#39;s already expired so</p>
<p begin="07:36:54.558" end="07:36:58.000" style="s2">let&#39;s test this out and the easiest way</p>
<p begin="07:36:56.440" end="07:36:59.200" style="s2">to test this is first of all we&#39;re not</p>
<p begin="07:36:58.000" end="07:37:00.318" style="s2">going to wait 30 minutes that&#39;s</p>
<p begin="07:36:59.200" end="07:37:03.958" style="s2">ridiculous ulous so what we&#39;re going to</p>
<p begin="07:37:00.318" end="07:37:03.958" style="s2">do is we&#39;re going to set this to 1</p>
<p begin="07:37:04.680" end="07:37:09.120" style="s2">minute and we&#39;re just going to test this</p>
<p begin="07:37:06.760" end="07:37:10.718" style="s2">real quick and so I&#39;m going to log in</p>
<p begin="07:37:09.120" end="07:37:13.718" style="s2">this</p>
<p begin="07:37:10.718" end="07:37:16.200" style="s2">user so this token is valid for exactly</p>
<p begin="07:37:13.718" end="07:37:17.160" style="s2">1 minute and so we&#39;ll go to create post</p>
<p begin="07:37:16.200" end="07:37:18.638" style="s2">actually we&#39;ll just do get post it</p>
<p begin="07:37:17.160" end="07:37:21.718" style="s2">doesn&#39;t really matter and I&#39;ll paste</p>
<p begin="07:37:18.638" end="07:37:23.520" style="s2">this in here and you&#39;ll see this works</p>
<p begin="07:37:21.718" end="07:37:25.360" style="s2">and we&#39;re going to just wait for one</p>
<p begin="07:37:23.520" end="07:37:27.878" style="s2">full minute and after 1 minute let&#39;s</p>
<p begin="07:37:25.360" end="07:37:30.638" style="s2">just verify that we get a unauthorized</p>
<p begin="07:37:27.878" end="07:37:33.160" style="s2">error because the token has expired</p>
<p begin="07:37:30.638" end="07:37:35.680" style="s2">okay so it should be about 1 minute now</p>
<p begin="07:37:33.160" end="07:37:37.558" style="s2">and so if we test this we should now get</p>
<p begin="07:37:35.680" end="07:37:39.440" style="s2">an error so after 1 minute it says it</p>
<p begin="07:37:37.558" end="07:37:41.440" style="s2">could not validate credentials now we</p>
<p begin="07:37:39.440" end="07:37:43.840" style="s2">could set up a log message to say that</p>
<p begin="07:37:41.440" end="07:37:45.878" style="s2">hey this token is expired but um we</p>
<p begin="07:37:43.840" end="07:37:47.638" style="s2">don&#39;t need to worry too much about that</p>
<p begin="07:37:45.878" end="07:37:49.318" style="s2">uh as long as it throws an error and it</p>
<p begin="07:37:47.638" end="07:37:50.600" style="s2">gives them a 401 I think that&#39;s good</p>
<p begin="07:37:49.318" end="07:37:53.920" style="s2">enough for</p>
<p begin="07:37:50.600" end="07:37:56.398" style="s2">now and so this confirms that our</p>
<p begin="07:37:53.920" end="07:37:58.240" style="s2">expiration functionality works and the</p>
<p begin="07:37:56.398" end="07:38:00.558" style="s2">last thing to do is well let&#39;s make sure</p>
<p begin="07:37:58.240" end="07:38:01.878" style="s2">we change this back so once again it</p>
<p begin="07:38:00.558" end="07:38:03.680" style="s2">doesn&#39;t matter what time you choose it&#39;s</p>
<p begin="07:38:01.878" end="07:38:05.240" style="s2">up to you I&#39;m just going to do 30</p>
<p begin="07:38:03.680" end="07:38:07.520" style="s2">minutes actually I&#39;m going to do 60</p>
<p begin="07:38:05.240" end="07:38:08.718" style="s2">minutes just for testing purposes moving</p>
<p begin="07:38:07.520" end="07:38:11.120" style="s2">forward I don&#39;t want to have to</p>
<p begin="07:38:08.718" end="07:38:14.120" style="s2">continually uh get a new token after</p>
<p begin="07:38:11.120" end="07:38:17.040" style="s2">every 30 minutes so 60 Minutes is a good</p>
<p begin="07:38:14.120" end="07:38:19.440" style="s2">number now you might be wondering why</p>
<p begin="07:38:17.040" end="07:38:21.440" style="s2">exactly do we have this get current user</p>
<p begin="07:38:19.440" end="07:38:23.240" style="s2">function when all it really does is just</p>
<p begin="07:38:21.440" end="07:38:25.440" style="s2">call verify access token we could</p>
<p begin="07:38:23.240" end="07:38:27.520" style="s2">completely just remove this and just</p>
<p begin="07:38:25.440" end="07:38:29.440" style="s2">call this directly whenever we want to</p>
<p begin="07:38:27.520" end="07:38:31.520" style="s2">authenticate a user and you Absolut</p>
<p begin="07:38:29.440" end="07:38:33.680" style="s2">absolutely could at it with the current</p>
<p begin="07:38:31.520" end="07:38:36.318" style="s2">implementation but the idea behind the</p>
<p begin="07:38:33.680" end="07:38:39.520" style="s2">get current user function is that uh</p>
<p begin="07:38:36.318" end="07:38:41.840" style="s2">once the verify access token uh REM uh</p>
<p begin="07:38:39.520" end="07:38:43.638" style="s2">Returns the token data which is the ID</p>
<p begin="07:38:41.840" end="07:38:45.040" style="s2">the get current user function should</p>
<p begin="07:38:43.638" end="07:38:47.120" style="s2">actually fetch the user from the</p>
<p begin="07:38:45.040" end="07:38:49.440" style="s2">database uh and so that way we can</p>
<p begin="07:38:47.120" end="07:38:51.080" style="s2">attach the user to any path operation</p>
<p begin="07:38:49.440" end="07:38:52.600" style="s2">and then we can perform any necessary</p>
<p begin="07:38:51.080" end="07:38:54.958" style="s2">logic now you don&#39;t actually have to</p>
<p begin="07:38:52.600" end="07:38:57.040" style="s2">fetch the user here uh it&#39;s up to you</p>
<p begin="07:38:54.958" end="07:38:58.718" style="s2">how you want to implement this if you</p>
<p begin="07:38:57.040" end="07:39:00.760" style="s2">want each of your path operations to</p>
<p begin="07:38:58.718" end="07:39:02.878" style="s2">fetch the user themselves they have the</p>
<p begin="07:39:00.760" end="07:39:04.440" style="s2">ID so they can do it themselves however</p>
<p begin="07:39:02.878" end="07:39:06.920" style="s2">if you wanted to automatically do it</p>
<p begin="07:39:04.440" end="07:39:08.040" style="s2">here you 100% can do that and so I&#39;m</p>
<p begin="07:39:06.920" end="07:39:09.160" style="s2">going to show you guys how you can do</p>
<p begin="07:39:08.040" end="07:39:11.318" style="s2">that in this</p>
<p begin="07:39:09.160" end="07:39:13.080" style="s2">lesson and so keep in mind we get the</p>
<p begin="07:39:11.318" end="07:39:15.840" style="s2">token data back which is going to be</p>
<p begin="07:39:13.080" end="07:39:17.638" style="s2">nothing more than an ID and what we&#39;re</p>
<p begin="07:39:15.840" end="07:39:18.958" style="s2">going to do is first of all uh we need</p>
<p begin="07:39:17.638" end="07:39:22.360" style="s2">access to our database so that we can</p>
<p begin="07:39:18.958" end="07:39:25.680" style="s2">fetch the users so from here I&#39;m going</p>
<p begin="07:39:22.360" end="07:39:28.878" style="s2">to import database and within this</p>
<p begin="07:39:25.680" end="07:39:30.638" style="s2">function we can pass in uh the the</p>
<p begin="07:39:28.878" end="07:39:33.160" style="s2">dependency so that we can actually get</p>
<p begin="07:39:30.638" end="07:39:35.318" style="s2">access to the DB object so I&#39;ll say</p>
<p begin="07:39:33.160" end="07:39:37.920" style="s2">depends and then we&#39;re going to access</p>
<p begin="07:39:35.318" end="07:39:39.680" style="s2">database Dot and I already forgot the</p>
<p begin="07:39:37.920" end="07:39:42.558" style="s2">name of the the function what is it</p>
<p begin="07:39:39.680" end="07:39:47.160" style="s2">getor DB so</p>
<p begin="07:39:42.558" end="07:39:49.240" style="s2">getor DB and we&#39;ll say DB</p>
<p begin="07:39:47.160" end="07:39:53.840" style="s2">session equals and then we have to</p>
<p begin="07:39:49.240" end="07:39:53.840" style="s2">import session from SQL Alchemy</p>
<p begin="07:40:03.000" end="07:40:06.920" style="s2">and so now we can make requests to a</p>
<p begin="07:40:08.718" end="07:40:12.080" style="s2">database and what we&#39;re going to do here</p>
<p begin="07:40:10.478" end="07:40:14.440" style="s2">is first of all I&#39;m no longer going to</p>
<p begin="07:40:12.080" end="07:40:18.160" style="s2">return that</p>
<p begin="07:40:14.440" end="07:40:20.558" style="s2">directly and I&#39;m going to say token</p>
<p begin="07:40:18.160" end="07:40:22.160" style="s2">equals and then we&#39;re going to call the</p>
<p begin="07:40:20.558" end="07:40:25.160" style="s2">this function right here verify access</p>
<p begin="07:40:22.160" end="07:40:25.160" style="s2">token</p>
<p begin="07:40:32.160" end="07:40:34.920" style="s2">all right and since we have access to</p>
<p begin="07:40:33.398" end="07:40:37.200" style="s2">the Token what we can do now is we can</p>
<p begin="07:40:34.920" end="07:40:40.240" style="s2">say db.</p>
<p begin="07:40:37.200" end="07:40:41.398" style="s2">query and then we have to import models</p>
<p begin="07:40:40.240" end="07:40:44.958" style="s2">and I&#39;m not sure if we&#39;ve done that</p>
<p begin="07:40:41.398" end="07:40:44.958" style="s2">already we haven&#39;t so I&#39;ll import</p>
<p begin="07:40:47.840" end="07:40:53.558" style="s2">models I&#39;ll say models.</p>
<p begin="07:40:50.958" end="07:40:55.920" style="s2">user. filter and then we want to filter</p>
<p begin="07:40:53.558" end="07:40:57.638" style="s2">based off of the ID so I&#39;ll say models.</p>
<p begin="07:40:55.920" end="07:41:00.520" style="s2">user.</p>
<p begin="07:40:57.638" end="07:41:04.040" style="s2">ID equals equal token and then we just</p>
<p begin="07:41:00.520" end="07:41:05.920" style="s2">grab the idid</p>
<p begin="07:41:04.040" end="07:41:07.958" style="s2">field and then we&#39;re going to grab the</p>
<p begin="07:41:05.920" end="07:41:11.958" style="s2">first</p>
<p begin="07:41:07.958" end="07:41:11.958" style="s2">one and then we can return the</p>
<p begin="07:41:13.360" end="07:41:17.318" style="s2">user which I forgot to save it so user</p>
<p begin="07:41:15.840" end="07:41:18.878" style="s2">is going to be equal to the result of</p>
<p begin="07:41:17.318" end="07:41:21.600" style="s2">that and if you want to you can print</p>
<p begin="07:41:18.878" end="07:41:23.520" style="s2">user here but um I already know this is</p>
<p begin="07:41:21.600" end="07:41:27.318" style="s2">going to work so we can just go and save</p>
<p begin="07:41:23.520" end="07:41:30.240" style="s2">this and then in our post. py right when</p>
<p begin="07:41:27.318" end="07:41:31.878" style="s2">we call this uh dependency right here</p>
<p begin="07:41:30.240" end="07:41:33.360" style="s2">it&#39;s no longer returning the user ID so</p>
<p begin="07:41:31.878" end="07:41:34.920" style="s2">I don&#39;t think it&#39;s it&#39;s a good practice</p>
<p begin="07:41:33.360" end="07:41:36.798" style="s2">to call this user ID anymore because it</p>
<p begin="07:41:34.920" end="07:41:39.760" style="s2">represents a user so I&#39;m going to say</p>
<p begin="07:41:36.798" end="07:41:42.840" style="s2">I&#39;m going to call this current user and</p>
<p begin="07:41:39.760" end="07:41:42.840" style="s2">we&#39;re going to rename this</p>
<p begin="07:41:53.478" end="07:41:56.558" style="s2">everywhere all right and then here</p>
<p begin="07:41:55.360" end="07:42:01.040" style="s2">within the function I&#39;m going to print</p>
<p begin="07:41:56.558" end="07:42:04.520" style="s2">out current uncore user</p>
<p begin="07:42:01.040" end="07:42:04.520" style="s2">and so if I try to create a post</p>
<p begin="07:42:06.718" end="07:42:12.398" style="s2">now and then open up my console you can</p>
<p begin="07:42:10.160" end="07:42:14.680" style="s2">see that it printed out the user object</p>
<p begin="07:42:12.398" end="07:42:16.958" style="s2">which not very helpful but uh what we</p>
<p begin="07:42:14.680" end="07:42:19.558" style="s2">can do real quick</p>
<p begin="07:42:16.958" end="07:42:22.160" style="s2">is I&#39;ll just say current.</p>
<p begin="07:42:19.558" end="07:42:24.398" style="s2">user. email so we can see the email of</p>
<p begin="07:42:22.160" end="07:42:26.638" style="s2">that user just to verify that we are</p>
<p begin="07:42:24.398" end="07:42:28.440" style="s2">actually getting the user and we can see</p>
<p begin="07:42:26.638" end="07:42:29.958" style="s2">that it does print out the email so</p>
<p begin="07:42:28.440" end="07:42:31.760" style="s2">that&#39;s ultimately why this function</p>
<p begin="07:42:29.958" end="07:42:33.718" style="s2">exists because normally here this is</p>
<p begin="07:42:31.760" end="07:42:35.680" style="s2">where you query your database to grab</p>
<p begin="07:42:33.718" end="07:42:37.398" style="s2">the user and then you return the user</p>
<p begin="07:42:35.680" end="07:42:39.240" style="s2">and then whatever you return here is</p>
<p begin="07:42:37.398" end="07:42:41.040" style="s2">ultimately what allows any of your other</p>
<p begin="07:42:39.240" end="07:42:42.600" style="s2">routes to get whatever you&#39;re returning</p>
<p begin="07:42:41.040" end="07:42:43.958" style="s2">so since we&#39;re returning a user we&#39;re</p>
<p begin="07:42:42.600" end="07:42:46.120" style="s2">going to store it as a variable called</p>
<p begin="07:42:43.958" end="07:42:47.280" style="s2">current user in this video we&#39;re going</p>
<p begin="07:42:46.120" end="07:42:49.440" style="s2">to take a look at some of the more</p>
<p begin="07:42:47.280" end="07:42:51.000" style="s2">advanced features of Postman and we&#39;re</p>
<p begin="07:42:49.440" end="07:42:53.160" style="s2">going to start off by taking a look at</p>
<p begin="07:42:51.000" end="07:42:55.520" style="s2">environments so select the environments</p>
<p begin="07:42:53.160" end="07:42:57.080" style="s2">Tab and you&#39;ll see that uh Postman just</p>
<p begin="07:42:55.520" end="07:42:58.600" style="s2">gives you a quick description of what an</p>
<p begin="07:42:57.080" end="07:43:00.478" style="s2">environment is it says an environment is</p>
<p begin="07:42:58.600" end="07:43:02.798" style="s2">a set of VAR Ables that allow you to</p>
<p begin="07:43:00.478" end="07:43:05.478" style="s2">switch the context of your request so we</p>
<p begin="07:43:02.798" end="07:43:07.958" style="s2">can set up some variables that change</p>
<p begin="07:43:05.478" end="07:43:10.318" style="s2">depending on uh what environment we work</p>
<p begin="07:43:07.958" end="07:43:12.280" style="s2">in and uh you&#39;re probably thinking what</p>
<p begin="07:43:10.318" end="07:43:14.680" style="s2">exactly is the point of that and let me</p>
<p begin="07:43:12.280" end="07:43:16.360" style="s2">give you a great example if you take a</p>
<p begin="07:43:14.680" end="07:43:20.080" style="s2">look at all of our requests you can see</p>
<p begin="07:43:16.360" end="07:43:22.200" style="s2">that we hardcoded them to be 127.0.0.1</p>
<p begin="07:43:20.080" end="07:43:23.878" style="s2">8000 and this is our development</p>
<p begin="07:43:22.200" end="07:43:25.840" style="s2">environment now when we ultimately go to</p>
<p begin="07:43:23.878" end="07:43:28.080" style="s2">deploy our app it&#39;s not going to be</p>
<p begin="07:43:25.840" end="07:43:29.638" style="s2">deployed on 127.0 1 it&#39;s going to be</p>
<p begin="07:43:28.080" end="07:43:31.080" style="s2">deployed on some server it&#39;s going to</p>
<p begin="07:43:29.638" end="07:43:33.638" style="s2">have a public IP somewhere on the</p>
<p begin="07:43:31.080" end="07:43:35.080" style="s2">internet and so when we want to test out</p>
<p begin="07:43:33.638" end="07:43:36.478" style="s2">our production server or make some</p>
<p begin="07:43:35.080" end="07:43:38.600" style="s2">changes to our production server make</p>
<p begin="07:43:36.478" end="07:43:41.600" style="s2">some test request to it we would have to</p>
<p begin="07:43:38.600" end="07:43:42.680" style="s2">change the IP address the port number as</p>
<p begin="07:43:41.600" end="07:43:45.398" style="s2">well as we probably are going to be</p>
<p begin="07:43:42.680" end="07:43:47.600" style="s2">running um https instead of HTTP so all</p>
<p begin="07:43:45.398" end="07:43:49.958" style="s2">of our requests we&#39;d have to change all</p>
<p begin="07:43:47.600" end="07:43:51.200" style="s2">of them uh and then continuously flip</p>
<p begin="07:43:49.958" end="07:43:53.120" style="s2">back and forth every time we move from</p>
<p begin="07:43:51.200" end="07:43:55.718" style="s2">Dev to prod and then from prod back to</p>
<p begin="07:43:53.120" end="07:43:57.000" style="s2">Dev and so instead of having to hard</p>
<p begin="07:43:55.718" end="07:43:58.520" style="s2">code these values and then change it</p>
<p begin="07:43:57.000" end="07:44:00.920" style="s2">constantly we can actually create a</p>
<p begin="07:43:58.520" end="07:44:03.240" style="s2">variable that changes depending on what</p>
<p begin="07:44:00.920" end="07:44:05.000" style="s2">environment we use within Postman so</p>
<p begin="07:44:03.240" end="07:44:06.120" style="s2">let&#39;s go to environment and let&#39;s create</p>
<p begin="07:44:05.000" end="07:44:09.360" style="s2">an environment and I&#39;m going to call</p>
<p begin="07:44:06.120" end="07:44:11.280" style="s2">this environment we&#39;ll say this is Dev</p>
<p begin="07:44:09.360" end="07:44:13.318" style="s2">and then uh our project name which is</p>
<p begin="07:44:11.280" end="07:44:16.318" style="s2">fast</p>
<p begin="07:44:13.318" end="07:44:17.798" style="s2">API so this is our environment and what</p>
<p begin="07:44:16.318" end="07:44:20.478" style="s2">we can do is we can define a variable</p>
<p begin="07:44:17.798" end="07:44:22.718" style="s2">and I&#39;m going to call this one</p>
<p begin="07:44:20.478" end="07:44:25.440" style="s2">URL and then here I&#39;m going to actually</p>
<p begin="07:44:22.718" end="07:44:25.440" style="s2">just copy this</p>
<p begin="07:44:26.440" end="07:44:29.878" style="s2">URL and then go to our environment again</p>
<p begin="07:44:28.840" end="07:44:31.120" style="s2">and and then I&#39;m going to give it an</p>
<p begin="07:44:29.878" end="07:44:32.958" style="s2">initial</p>
<p begin="07:44:31.120" end="07:44:34.200" style="s2">value all right and then our current</p>
<p begin="07:44:32.958" end="07:44:36.558" style="s2">value should update and then we can just</p>
<p begin="07:44:34.200" end="07:44:38.840" style="s2">hit save okay and so we&#39;ve set this</p>
<p begin="07:44:36.558" end="07:44:41.040" style="s2">variable to be this specific IP in our</p>
<p begin="07:44:38.840" end="07:44:43.478" style="s2">Dev environment and so if we go back to</p>
<p begin="07:44:41.040" end="07:44:45.240" style="s2">collections and then go to our G posts</p>
<p begin="07:44:43.478" end="07:44:46.520" style="s2">first of all now moving forward you want</p>
<p begin="07:44:45.240" end="07:44:47.920" style="s2">to make sure that you&#39;re working in some</p>
<p begin="07:44:46.520" end="07:44:49.878" style="s2">kind of environment so we&#39;ll select the</p>
<p begin="07:44:47.920" end="07:44:52.558" style="s2">environment we just created and then</p>
<p begin="07:44:49.878" end="07:44:55.160" style="s2">instead of hardcoding this value here</p>
<p begin="07:44:52.558" end="07:44:57.240" style="s2">I&#39;m going to change this and I&#39;m going</p>
<p begin="07:44:55.160" end="07:44:59.920" style="s2">to just say to actually use a variable</p>
<p begin="07:44:57.240" end="07:45:01.478" style="s2">you do curly Braes curly brace the name</p>
<p begin="07:44:59.920" end="07:45:04.478" style="s2">of the variable and then curly brace</p>
<p begin="07:45:01.478" end="07:45:05.680" style="s2">curly brace okay and it should be orange</p>
<p begin="07:45:04.478" end="07:45:07.160" style="s2">instead of red if you get a red it&#39;s</p>
<p begin="07:45:05.680" end="07:45:08.478" style="s2">going to mean that it wasn&#39;t able to</p>
<p begin="07:45:07.160" end="07:45:10.398" style="s2">resolve something and there&#39;s some issue</p>
<p begin="07:45:08.478" end="07:45:11.958" style="s2">so just double check what you did orange</p>
<p begin="07:45:10.398" end="07:45:13.478" style="s2">is good and then if you see this result</p>
<p begin="07:45:11.958" end="07:45:15.398" style="s2">when you hover over hover over it that</p>
<p begin="07:45:13.478" end="07:45:17.600" style="s2">means that everything&#39;s working and so</p>
<p begin="07:45:15.398" end="07:45:18.798" style="s2">just to quickly test this you can see</p>
<p begin="07:45:17.600" end="07:45:20.600" style="s2">that it says could not validate</p>
<p begin="07:45:18.798" end="07:45:21.798" style="s2">credentials that&#39;s perfectly fine I</p>
<p begin="07:45:20.600" end="07:45:23.280" style="s2">didn&#39;t set up the access token or</p>
<p begin="07:45:21.798" end="07:45:26.600" style="s2">anything but this does confirm that</p>
<p begin="07:45:23.280" end="07:45:28.160" style="s2">we&#39;re able to resolve that variable and</p>
<p begin="07:45:26.600" end="07:45:30.000" style="s2">so that way you know if I go and then</p>
<p begin="07:45:28.160" end="07:45:32.318" style="s2">create a new en enironment and I&#39;ll just</p>
<p begin="07:45:30.000" end="07:45:32.318" style="s2">add</p>
<p begin="07:45:32.558" end="07:45:39.160" style="s2">a here and then we&#39;ll say this is</p>
<p begin="07:45:36.080" end="07:45:43.080" style="s2">prod fast</p>
<p begin="07:45:39.160" end="07:45:45.080" style="s2">API we can then give a different URL for</p>
<p begin="07:45:43.080" end="07:45:48.958" style="s2">the um production environment so this</p>
<p begin="07:45:45.080" end="07:45:52.200" style="s2">could be like you know https colon slash</p>
<p begin="07:45:48.958" end="07:45:55.160" style="s2">SL I don&#39;t know you know some domain</p>
<p begin="07:45:52.200" end="07:45:57.920" style="s2">name that you buy I&#39;ll call this sanjie</p>
<p begin="07:45:55.160" end="07:46:00.160" style="s2">doxyz</p>
<p begin="07:45:57.920" end="07:46:03.000" style="s2">Flash and then I can save this and so</p>
<p begin="07:46:00.160" end="07:46:05.000" style="s2">that way uh if you ever are testing your</p>
<p begin="07:46:03.000" end="07:46:06.000" style="s2">development environment you just go to</p>
<p begin="07:46:05.000" end="07:46:07.878" style="s2">Dev and then when you want to quickly</p>
<p begin="07:46:06.000" end="07:46:09.398" style="s2">switch to your production you just</p>
<p begin="07:46:07.878" end="07:46:10.558" style="s2">change that and then the URL will</p>
<p begin="07:46:09.398" end="07:46:12.840" style="s2">automatically update so you don&#39;t have</p>
<p begin="07:46:10.558" end="07:46:14.718" style="s2">to change anything yourself and it&#39;s</p>
<p begin="07:46:12.840" end="07:46:16.080" style="s2">super handy to set this up and we&#39;re</p>
<p begin="07:46:14.718" end="07:46:18.520" style="s2">just going to do this for all of our</p>
<p begin="07:46:16.080" end="07:46:20.000" style="s2">requests moving forward so I&#39;m just</p>
<p begin="07:46:18.520" end="07:46:22.080" style="s2">going to copy</p>
<p begin="07:46:20.000" end="07:46:25.280" style="s2">this and we&#39;re going to do this for all</p>
<p begin="07:46:22.080" end="07:46:25.280" style="s2">of them</p>
<p begin="07:46:29.240" end="07:46:33.558" style="s2">okay and if you go ahead and test this</p>
<p begin="07:46:31.240" end="07:46:37.160" style="s2">yourself uh you should ultimately not</p>
<p begin="07:46:33.558" end="07:46:38.760" style="s2">run into any issues uh I&#39;m not going to</p>
<p begin="07:46:37.160" end="07:46:40.958" style="s2">bore you through you know individually</p>
<p begin="07:46:38.760" end="07:46:42.600" style="s2">testing these you can do this yourself</p>
<p begin="07:46:40.958" end="07:46:44.000" style="s2">uh and if you know if you run into areas</p>
<p begin="07:46:42.600" end="07:46:46.360" style="s2">it&#39;s just you probably past it in</p>
<p begin="07:46:44.000" end="07:46:48.798" style="s2">something wrong now that we&#39;ve set up</p>
<p begin="07:46:46.360" end="07:46:50.360" style="s2">authentication on our API testing our</p>
<p begin="07:46:48.798" end="07:46:52.080" style="s2">API has gotten a little bit more</p>
<p begin="07:46:50.360" end="07:46:54.240" style="s2">challenging and that&#39;s because I can no</p>
<p begin="07:46:52.080" end="07:46:56.120" style="s2">longer just go to create posts and then</p>
<p begin="07:46:54.240" end="07:46:57.718" style="s2">just hit send because I have to be</p>
<p begin="07:46:56.120" end="07:46:59.478" style="s2">authenticated first to be able to</p>
<p begin="07:46:57.718" end="07:47:01.120" style="s2">actually create a post and so what I</p>
<p begin="07:46:59.478" end="07:47:04.280" style="s2">have to do in Postman is I have to hit</p>
<p begin="07:47:01.120" end="07:47:06.200" style="s2">send I have to log in and then get the</p>
<p begin="07:47:04.280" end="07:47:08.120" style="s2">access token I have to copy the access</p>
<p begin="07:47:06.200" end="07:47:09.680" style="s2">token and then go to the specific</p>
<p begin="07:47:08.120" end="07:47:11.798" style="s2">endpoint I want to test and then I want</p>
<p begin="07:47:09.680" end="07:47:13.478" style="s2">to paste that in there and then hit send</p>
<p begin="07:47:11.798" end="07:47:15.718" style="s2">and then I can finally create post and</p>
<p begin="07:47:13.478" end="07:47:18.160" style="s2">this is a little cumbersome and tiring H</p>
<p begin="07:47:15.718" end="07:47:20.240" style="s2">and it gets really hard if you have a a</p>
<p begin="07:47:18.160" end="07:47:21.760" style="s2">short expiration time on your token</p>
<p begin="07:47:20.240" end="07:47:23.200" style="s2">imagine if you had an expiration time of</p>
<p begin="07:47:21.760" end="07:47:25.440" style="s2">five minutes then every 5 minutes you&#39;d</p>
<p begin="07:47:23.200" end="07:47:28.160" style="s2">have to repeat this process um but</p>
<p begin="07:47:25.440" end="07:47:31.200" style="s2">luckily postman has a way to actually do</p>
<p begin="07:47:28.160" end="07:47:32.520" style="s2">this uh through an automated fashion</p>
<p begin="07:47:31.200" end="07:47:35.200" style="s2">right we&#39;re all developers we all want</p>
<p begin="07:47:32.520" end="07:47:36.520" style="s2">to do things automated so let&#39;s take a</p>
<p begin="07:47:35.200" end="07:47:38.160" style="s2">look at how we can do this and I had to</p>
<p begin="07:47:36.520" end="07:47:40.080" style="s2">make sure that you guys understood uh</p>
<p begin="07:47:38.160" end="07:47:42.318" style="s2">environments and variables beforehand</p>
<p begin="07:47:40.080" end="07:47:43.798" style="s2">because uh this the method that we use</p>
<p begin="07:47:42.318" end="07:47:46.680" style="s2">actually makes use of environment</p>
<p begin="07:47:43.798" end="07:47:48.920" style="s2">variables so let&#39;s go to the login user</p>
<p begin="07:47:46.680" end="07:47:50.680" style="s2">endpoint and we&#39;re going to hit send and</p>
<p begin="07:47:48.920" end="07:47:52.240" style="s2">get a new access token and so we&#39;ve got</p>
<p begin="07:47:50.680" end="07:47:54.638" style="s2">this access token and what I want to do</p>
<p begin="07:47:52.240" end="07:47:56.200" style="s2">is through code I want Postman to</p>
<p begin="07:47:54.638" end="07:47:58.440" style="s2">automatically set an environment</p>
<p begin="07:47:56.200" end="07:48:00.318" style="s2">variable so how do we do that well let&#39;s</p>
<p begin="07:47:58.440" end="07:48:02.718" style="s2">go to</p>
<p begin="07:48:00.318" end="07:48:04.558" style="s2">tests and here we can put in whatever</p>
<p begin="07:48:02.718" end="07:48:06.040" style="s2">code we want and so we can read the</p>
<p begin="07:48:04.558" end="07:48:08.080" style="s2">documentation on how to do this but the</p>
<p begin="07:48:06.040" end="07:48:10.080" style="s2">ultimate goal is to uh set an</p>
<p begin="07:48:08.080" end="07:48:11.360" style="s2">environment variable through code so how</p>
<p begin="07:48:10.080" end="07:48:13.318" style="s2">do we do that well there&#39;s a little</p>
<p begin="07:48:11.360" end="07:48:16.000" style="s2">snippet here that kind of gives you</p>
<p begin="07:48:13.318" end="07:48:18.840" style="s2">examples uh and what we want to do is we</p>
<p begin="07:48:16.000" end="07:48:20.360" style="s2">want to set an environment variable and</p>
<p begin="07:48:18.840" end="07:48:22.840" style="s2">so to set an environment variable you</p>
<p begin="07:48:20.360" end="07:48:25.478" style="s2">just do environment. set provide the key</p>
<p begin="07:48:22.840" end="07:48:27.360" style="s2">and then the variable name and so just</p>
<p begin="07:48:25.478" end="07:48:29.000" style="s2">like we did with uh environments right</p>
<p begin="07:48:27.360" end="07:48:30.638" style="s2">if you go into your environment uh</p>
<p begin="07:48:29.000" end="07:48:32.398" style="s2">you&#39;ve got the URL which is the key and</p>
<p begin="07:48:30.638" end="07:48:33.680" style="s2">then the value and so we&#39;re just going</p>
<p begin="07:48:32.398" end="07:48:35.558" style="s2">to do the same thing but just through</p>
<p begin="07:48:33.680" end="07:48:37.120" style="s2">code so here I&#39;m going to set the key to</p>
<p begin="07:48:35.558" end="07:48:39.920" style="s2">be</p>
<p begin="07:48:37.120" end="07:48:42.718" style="s2">JWT and I&#39;m going to set the</p>
<p begin="07:48:39.920" end="07:48:44.520" style="s2">value to be this access token so how do</p>
<p begin="07:48:42.718" end="07:48:47.160" style="s2">we actually retrieve the access token</p>
<p begin="07:48:44.520" end="07:48:49.398" style="s2">from the response of the request well we</p>
<p begin="07:48:47.160" end="07:48:51.280" style="s2">can do pm. response that grabs the</p>
<p begin="07:48:49.398" end="07:48:53.478" style="s2">response object then we&#39;ll convert it to</p>
<p begin="07:48:51.280" end="07:48:55.360" style="s2">Json and then we need to get the token</p>
<p begin="07:48:53.478" end="07:48:58.040" style="s2">and the token sits on a property called</p>
<p begin="07:48:55.360" end="07:48:59.200" style="s2">accessor token so whatever this field is</p>
<p begin="07:48:58.040" end="07:49:03.280" style="s2">called this is is what you&#39;re going to</p>
<p begin="07:48:59.200" end="07:49:05.440" style="s2">pass in so we&#39;ll say dot accessor</p>
<p begin="07:49:03.280" end="07:49:06.360" style="s2">token all right and so now if I send</p>
<p begin="07:49:05.440" end="07:49:08.680" style="s2">this</p>
<p begin="07:49:06.360" end="07:49:10.958" style="s2">again we&#39;ll get the token the code</p>
<p begin="07:49:08.680" end="07:49:13.120" style="s2">should have run and it should have set a</p>
<p begin="07:49:10.958" end="07:49:15.718" style="s2">variable called access token and so now</p>
<p begin="07:49:13.120" end="07:49:18.600" style="s2">under create post instead of hard coding</p>
<p begin="07:49:15.718" end="07:49:21.440" style="s2">this what I can do is I can</p>
<p begin="07:49:18.600" end="07:49:23.840" style="s2">actually uh just reference the JWT</p>
<p begin="07:49:21.440" end="07:49:25.000" style="s2">variable and so I set minus capitals</p>
<p begin="07:49:23.840" end="07:49:27.398" style="s2">there looks like there&#39;s one from a</p>
<p begin="07:49:25.000" end="07:49:29.398" style="s2">previous project maybe but we want this</p>
<p begin="07:49:27.398" end="07:49:31.080" style="s2">one right here and if you want to just</p>
<p begin="07:49:29.398" end="07:49:32.718" style="s2">double check you can see that this ends</p>
<p begin="07:49:31.080" end="07:49:34.798" style="s2">in</p>
<p begin="07:49:32.718" end="07:49:36.920" style="s2">wd30 and if you want to go back into</p>
<p begin="07:49:34.798" end="07:49:39.520" style="s2">login user you can see that this ends in</p>
<p begin="07:49:36.920" end="07:49:41.638" style="s2">wd30 so it looks like it did set that</p>
<p begin="07:49:39.520" end="07:49:44.000" style="s2">and update it accordingly so we&#39;ll set</p>
<p begin="07:49:41.638" end="07:49:46.040" style="s2">that in there and so now if we send you</p>
<p begin="07:49:44.000" end="07:49:49.680" style="s2">can see that it uh we can now create</p>
<p begin="07:49:46.040" end="07:49:51.878" style="s2">posts and so anytime you log in a user</p>
<p begin="07:49:49.680" end="07:49:53.440" style="s2">it&#39;s going to update that token uh and</p>
<p begin="07:49:51.878" end="07:49:56.760" style="s2">we can verify this if you take it the</p>
<p begin="07:49:53.440" end="07:49:59.558" style="s2">last three letters q0a is the new token</p>
<p begin="07:49:56.760" end="07:50:01.558" style="s2">and then I&#39;m going to just remove that</p>
<p begin="07:49:59.558" end="07:50:04.760" style="s2">so we can see the value and we can see</p>
<p begin="07:50:01.558" end="07:50:07.000" style="s2">that q0a is the last three letters as</p>
<p begin="07:50:04.760" end="07:50:09.240" style="s2">well so this updates it dynamically so</p>
<p begin="07:50:07.000" end="07:50:11.440" style="s2">that all you have to do is now uh just</p>
<p begin="07:50:09.240" end="07:50:13.638" style="s2">hit login user and then you can start</p>
<p begin="07:50:11.440" end="07:50:14.718" style="s2">testing all of your other endpoints and</p>
<p begin="07:50:13.638" end="07:50:16.398" style="s2">we&#39;re going to update all the other</p>
<p begin="07:50:14.718" end="07:50:18.398" style="s2">endpoints as well so for get posts I&#39;m</p>
<p begin="07:50:16.398" end="07:50:20.718" style="s2">going to put that in there as well and</p>
<p begin="07:50:18.398" end="07:50:24.398" style="s2">then for getting an individual post</p>
<p begin="07:50:20.718" end="07:50:26.878" style="s2">deleting a post updating a post uh we</p>
<p begin="07:50:24.398" end="07:50:28.318" style="s2">don&#39;t need it for create user um we</p>
<p begin="07:50:26.878" end="07:50:30.000" style="s2">might want to do it for get user if we</p>
<p begin="07:50:28.318" end="07:50:31.840" style="s2">set up authentication for get user but</p>
<p begin="07:50:30.000" end="07:50:33.478" style="s2">we haven&#39;t done that yet so we&#39;ll hold</p>
<p begin="07:50:31.840" end="07:50:36.200" style="s2">off on doing that for</p>
<p begin="07:50:33.478" end="07:50:37.920" style="s2">now now currently our application</p>
<p begin="07:50:36.200" end="07:50:40.638" style="s2">doesn&#39;t work like a traditional</p>
<p begin="07:50:37.920" end="07:50:42.200" style="s2">application would and the reason I say</p>
<p begin="07:50:40.638" end="07:50:44.120" style="s2">that is you know if you take a look at</p>
<p begin="07:50:42.200" end="07:50:46.878" style="s2">how everything&#39;s been set up um not just</p>
<p begin="07:50:44.120" end="07:50:49.798" style="s2">in our API but in our database we&#39;ve got</p>
<p begin="07:50:46.878" end="07:50:52.718" style="s2">two tables a user table and a post table</p>
<p begin="07:50:49.798" end="07:50:55.318" style="s2">so we can create modify delete users</p>
<p begin="07:50:52.718" end="07:50:57.120" style="s2">however we want we can log in and then</p>
<p begin="07:50:55.318" end="07:50:58.840" style="s2">we can create modify and delete as many</p>
<p begin="07:50:57.120" end="07:51:00.920" style="s2">posts as we want right and you think</p>
<p begin="07:50:58.840" end="07:51:02.280" style="s2">well that that sounds perfectly fine yes</p>
<p begin="07:51:00.920" end="07:51:04.000" style="s2">however think about any other</p>
<p begin="07:51:02.280" end="07:51:06.000" style="s2">application think about any social media</p>
<p begin="07:51:04.000" end="07:51:08.120" style="s2">type application when someone creates a</p>
<p begin="07:51:06.000" end="07:51:09.318" style="s2">post and you see that post on your feed</p>
<p begin="07:51:08.120" end="07:51:11.318" style="s2">what are you going to see next to the</p>
<p begin="07:51:09.318" end="07:51:14.000" style="s2">post you&#39;re going to see the user that</p>
<p begin="07:51:11.318" end="07:51:16.240" style="s2">created it right so every post is</p>
<p begin="07:51:14.000" end="07:51:18.878" style="s2">ultimately associated with the user</p>
<p begin="07:51:16.240" end="07:51:21.280" style="s2">account that created that post but we</p>
<p begin="07:51:18.878" end="07:51:22.440" style="s2">have no way to actually do that in our</p>
<p begin="07:51:21.280" end="07:51:25.240" style="s2">application at the moment because</p>
<p begin="07:51:22.440" end="07:51:27.080" style="s2">there&#39;s nothing that ties a post to the</p>
<p begin="07:51:25.240" end="07:51:28.600" style="s2">user that created it right take a look</p>
<p begin="07:51:27.080" end="07:51:30.798" style="s2">at all of the columns in our database</p>
<p begin="07:51:28.600" end="07:51:32.638" style="s2">we&#39;ve got an ID a title content</p>
<p begin="07:51:30.798" end="07:51:34.120" style="s2">published technically there&#39;s a created</p>
<p begin="07:51:32.638" end="07:51:36.318" style="s2">at column that I didn&#39;t draw in this</p>
<p begin="07:51:34.120" end="07:51:40.558" style="s2">diagram but that&#39;s okay so how do we</p>
<p begin="07:51:36.318" end="07:51:42.680" style="s2">know what post was created by what user</p>
<p begin="07:51:40.558" end="07:51:44.240" style="s2">and this is where relational databases</p>
<p begin="07:51:42.680" end="07:51:46.120" style="s2">really start to shine because the the</p>
<p begin="07:51:44.240" end="07:51:48.718" style="s2">main idea behind a relational database</p>
<p begin="07:51:46.120" end="07:51:50.958" style="s2">is that you set up these relationships</p>
<p begin="07:51:48.718" end="07:51:52.878" style="s2">between tables so we need to set up some</p>
<p begin="07:51:50.958" end="07:51:56.160" style="s2">kind of special relationship between the</p>
<p begin="07:51:52.878" end="07:51:59.040" style="s2">users table and the post table that will</p>
<p begin="07:51:56.160" end="07:52:02.360" style="s2">allow us to associate a post with a</p>
<p begin="07:51:59.040" end="07:52:04.200" style="s2">specific user that created that post so</p>
<p begin="07:52:02.360" end="07:52:06.760" style="s2">let&#39;s take a look at how we can do that</p>
<p begin="07:52:04.200" end="07:52:09.120" style="s2">uh within postgress or any SQL based</p>
<p begin="07:52:06.760" end="07:52:11.080" style="s2">database and the way we do that is we</p>
<p begin="07:52:09.120" end="07:52:13.440" style="s2">actually create an extra column in our</p>
<p begin="07:52:11.080" end="07:52:14.638" style="s2">post table so we&#39;ve got a column you can</p>
<p begin="07:52:13.440" end="07:52:17.120" style="s2">call it whatever you want but I&#39;m going</p>
<p begin="07:52:14.638" end="07:52:18.478" style="s2">to call it user ID and I&#39;ll explain why</p>
<p begin="07:52:17.120" end="07:52:21.280" style="s2">and what we&#39;re going to do is we&#39;re</p>
<p begin="07:52:18.478" end="07:52:25.040" style="s2">going to set up a special foreign key</p>
<p begin="07:52:21.280" end="07:52:27.680" style="s2">and a foreign key is a how we tell SQL</p>
<p begin="07:52:25.040" end="07:52:29.240" style="s2">that this column here is connected to</p>
<p begin="07:52:27.680" end="07:52:31.718" style="s2">another table</p>
<p begin="07:52:29.240" end="07:52:33.200" style="s2">and what we do is we specify two things</p>
<p begin="07:52:31.718" end="07:52:34.680" style="s2">we specify the table that it should be</p>
<p begin="07:52:33.200" end="07:52:36.718" style="s2">connected to so here I&#39;m saying hey this</p>
<p begin="07:52:34.680" end="07:52:39.440" style="s2">should connect to the user&#39;s table and</p>
<p begin="07:52:36.718" end="07:52:40.920" style="s2">then we specify what specific column it</p>
<p begin="07:52:39.440" end="07:52:42.798" style="s2">should use from that table and here</p>
<p begin="07:52:40.920" end="07:52:45.280" style="s2">we&#39;re saying the ID column because this</p>
<p begin="07:52:42.798" end="07:52:46.680" style="s2">connection is connected to the ID column</p>
<p begin="07:52:45.280" end="07:52:48.878" style="s2">of the user&#39;s table and so that&#39;s what</p>
<p begin="07:52:46.680" end="07:52:51.558" style="s2">we set the foreign key on and all this</p>
<p begin="07:52:48.878" end="07:52:54.638" style="s2">is does is this is really such a simple</p>
<p begin="07:52:51.558" end="07:52:57.160" style="s2">concept whatever user creates this post</p>
<p begin="07:52:54.638" end="07:53:00.240" style="s2">we just embed the ID of that specific</p>
<p begin="07:52:57.160" end="07:53:02.638" style="s2">user so for the Post with the ID of 621</p>
<p begin="07:53:00.240" end="07:53:04.760" style="s2">the user that created this has an ID of</p>
<p begin="07:53:02.638" end="07:53:06.760" style="s2">212 so if we take a look at what user</p>
<p begin="07:53:04.760" end="07:53:09.240" style="s2">has an ID of 212 we go here and we can</p>
<p begin="07:53:06.760" end="07:53:11.680" style="s2">see that clay gmail.com created this</p>
<p begin="07:53:09.240" end="07:53:13.638" style="s2">post and so that&#39;s all we have to do to</p>
<p begin="07:53:11.680" end="07:53:15.920" style="s2">set up a relationship between these two</p>
<p begin="07:53:13.638" end="07:53:18.000" style="s2">tables and so now moving forward any</p>
<p begin="07:53:15.920" end="07:53:19.600" style="s2">post we create will easily be able to</p>
<p begin="07:53:18.000" end="07:53:22.000" style="s2">tell what user created it because we&#39;re</p>
<p begin="07:53:19.600" end="07:53:24.760" style="s2">going to embed the ID of that user into</p>
<p begin="07:53:22.000" end="07:53:26.558" style="s2">this column called</p>
<p begin="07:53:24.760" end="07:53:27.958" style="s2">userid and if you take a look at the</p>
<p begin="07:53:26.558" end="07:53:29.760" style="s2">second one as an example we can see that</p>
<p begin="07:53:27.958" end="07:53:32.160" style="s2">this was created by a user with an ID of</p>
<p begin="07:53:29.760" end="07:53:35.478" style="s2">378 so we go into the user table and we</p>
<p begin="07:53:32.160" end="07:53:37.798" style="s2">can see that this user is Mike</p>
<p begin="07:53:35.478" end="07:53:40.240" style="s2">gmail.com and it really is as simple as</p>
<p begin="07:53:37.798" end="07:53:43.318" style="s2">that and this is what&#39;s referred to as a</p>
<p begin="07:53:40.240" end="07:53:45.318" style="s2">on to many relationship within SQL or</p>
<p begin="07:53:43.318" end="07:53:47.120" style="s2">any relational database uh and the</p>
<p begin="07:53:45.318" end="07:53:49.240" style="s2">reason why they call it that is because</p>
<p begin="07:53:47.120" end="07:53:52.760" style="s2">one user can create as many posts as</p>
<p begin="07:53:49.240" end="07:53:55.280" style="s2">they want however a post can only be</p>
<p begin="07:53:52.760" end="07:53:56.920" style="s2">associated with one user two users can&#39;t</p>
<p begin="07:53:55.280" end="07:53:59.280" style="s2">create a</p>
<p begin="07:53:56.920" end="07:54:01.840" style="s2">post and so that&#39;s this is referred to</p>
<p begin="07:53:59.280" end="07:54:04.200" style="s2">as a one to many relationship one user</p>
<p begin="07:54:01.840" end="07:54:06.398" style="s2">can create many posts and that&#39;s all we</p>
<p begin="07:54:04.200" end="07:54:07.958" style="s2">have to do it is actually that simple we</p>
<p begin="07:54:06.398" end="07:54:09.878" style="s2">just create another column and then we</p>
<p begin="07:54:07.958" end="07:54:11.638" style="s2">have to specify this special forign key</p>
<p begin="07:54:09.878" end="07:54:13.638" style="s2">constraint where we just tell SQL hey</p>
<p begin="07:54:11.638" end="07:54:16.840" style="s2">what table do we look for and what</p>
<p begin="07:54:13.638" end="07:54:19.638" style="s2">column and keep in mind in this case I&#39;m</p>
<p begin="07:54:16.840" end="07:54:22.120" style="s2">using the ID of the user table um but</p>
<p begin="07:54:19.638" end="07:54:24.160" style="s2">when you get a little bit more advanced</p>
<p begin="07:54:22.120" end="07:54:25.718" style="s2">with SQL uh and setting up relational</p>
<p begin="07:54:24.160" end="07:54:27.600" style="s2">databases you&#39;ll find that it sometimes</p>
<p begin="07:54:25.718" end="07:54:29.240" style="s2">you don&#39;t have to always point to the ID</p>
<p begin="07:54:27.600" end="07:54:30.520" style="s2">of another table there&#39;s there&#39;s going</p>
<p begin="07:54:29.240" end="07:54:32.200" style="s2">to be a lot of instances where you set</p>
<p begin="07:54:30.520" end="07:54:34.200" style="s2">up foreign keys to other columns that</p>
<p begin="07:54:32.200" end="07:54:36.080" style="s2">aren&#39;t necessarily the ID column</p>
<p begin="07:54:34.200" end="07:54:37.638" style="s2">depending on how your relationships are</p>
<p begin="07:54:36.080" end="07:54:39.680" style="s2">set up and how your application should</p>
<p begin="07:54:37.638" end="07:54:42.040" style="s2">work that is a perfectly acceptable</p>
<p begin="07:54:39.680" end="07:54:44.040" style="s2">thing there&#39;s no um specific uh</p>
<p begin="07:54:42.040" end="07:54:46.920" style="s2">restriction saying that it has to point</p>
<p begin="07:54:44.040" end="07:54:48.638" style="s2">to the ID column of another table and so</p>
<p begin="07:54:46.920" end="07:54:50.558" style="s2">I think that&#39;s enough theory behind</p>
<p begin="07:54:48.638" end="07:54:51.718" style="s2">foreign keys and relationship so we&#39;re</p>
<p begin="07:54:50.558" end="07:54:53.318" style="s2">going to connect to our postgress</p>
<p begin="07:54:51.718" end="07:54:55.600" style="s2">database in the next section and we&#39;ll</p>
<p begin="07:54:53.318" end="07:54:57.040" style="s2">start creating that extra column adding</p>
<p begin="07:54:55.600" end="07:54:58.520" style="s2">the foreign keys and then we&#39;ll start</p>
<p begin="07:54:57.040" end="07:54:59.558" style="s2">learning about how to actually work with</p>
<p begin="07:54:58.520" end="07:55:01.240" style="s2">these</p>
<p begin="07:54:59.558" end="07:55:03.440" style="s2">relationships all right guys go ahead</p>
<p begin="07:55:01.240" end="07:55:04.638" style="s2">and open up PG admin and before we get</p>
<p begin="07:55:03.440" end="07:55:06.240" style="s2">started I&#39;m going to do something a</p>
<p begin="07:55:04.638" end="07:55:08.478" style="s2">little unusual I&#39;m going to delete</p>
<p begin="07:55:06.240" end="07:55:11.000" style="s2">everything from our post table now when</p>
<p begin="07:55:08.478" end="07:55:12.478" style="s2">it comes to creating an extra column and</p>
<p begin="07:55:11.000" end="07:55:13.520" style="s2">creating a foreign key that&#39;s not a</p>
<p begin="07:55:12.478" end="07:55:15.240" style="s2">requirement you know you don&#39;t need to</p>
<p begin="07:55:13.520" end="07:55:16.760" style="s2">do that in a production database I&#39;m</p>
<p begin="07:55:15.240" end="07:55:18.200" style="s2">just going to delete everything just to</p>
<p begin="07:55:16.760" end="07:55:20.398" style="s2">keep just to make things a little bit</p>
<p begin="07:55:18.200" end="07:55:21.718" style="s2">more simple moving forward um because if</p>
<p begin="07:55:20.398" end="07:55:23.360" style="s2">we don&#39;t delete anything when you start</p>
<p begin="07:55:21.718" end="07:55:25.760" style="s2">to add columns that especially have a</p>
<p begin="07:55:23.360" end="07:55:27.318" style="s2">not null constraint uh we have to do a</p>
<p begin="07:55:25.760" end="07:55:28.558" style="s2">little magic to kind of get that to work</p>
<p begin="07:55:27.318" end="07:55:30.080" style="s2">and I want to keep things as simp simple</p>
<p begin="07:55:28.558" end="07:55:31.200" style="s2">as possible so what we&#39;re going to do is</p>
<p begin="07:55:30.080" end="07:55:32.718" style="s2">we&#39;re just going to delete everything</p>
<p begin="07:55:31.200" end="07:55:34.360" style="s2">from the post table just to make things</p>
<p begin="07:55:32.718" end="07:55:38.240" style="s2">as simple as possible so we can just say</p>
<p begin="07:55:34.360" end="07:55:40.958" style="s2">delete from Posts and that should delete</p>
<p begin="07:55:38.240" end="07:55:42.478" style="s2">everything and everything&#39;s gone and we</p>
<p begin="07:55:40.958" end="07:55:43.840" style="s2">should be pretty much good to go to</p>
<p begin="07:55:42.478" end="07:55:46.240" style="s2">actually start setting up our foreign</p>
<p begin="07:55:43.840" end="07:55:48.040" style="s2">key so right click on your post table</p>
<p begin="07:55:46.240" end="07:55:49.440" style="s2">and then click on properties and the</p>
<p begin="07:55:48.040" end="07:55:51.040" style="s2">great part about these foreign Keys is</p>
<p begin="07:55:49.440" end="07:55:52.440" style="s2">that you know we just have to do this on</p>
<p begin="07:55:51.040" end="07:55:54.240" style="s2">the post table because it&#39;s a one to</p>
<p begin="07:55:52.440" end="07:55:56.478" style="s2">many relationship there is nothing in</p>
<p begin="07:55:54.240" end="07:55:57.160" style="s2">the users table that we have to do so</p>
<p begin="07:55:56.478" end="07:55:58.840" style="s2">what we&#39;re going to do is we&#39;re going to</p>
<p begin="07:55:57.160" end="07:56:02.240" style="s2">go to column</p>
<p begin="07:55:58.840" end="07:56:02.240" style="s2">and then we&#39;re going to add a new</p>
<p begin="07:56:04.760" end="07:56:09.558" style="s2">column and I&#39;m going to call this user</p>
<p begin="07:56:07.798" end="07:56:10.760" style="s2">ID and you can once again name this</p>
<p begin="07:56:09.558" end="07:56:12.840" style="s2">anything you want the actual name</p>
<p begin="07:56:10.760" end="07:56:15.040" style="s2">doesn&#39;t have to make sense but uh you</p>
<p begin="07:56:12.840" end="07:56:16.280" style="s2">know I think naming it user _ ID makes</p>
<p begin="07:56:15.040" end="07:56:17.600" style="s2">sense because this is a column that&#39;s</p>
<p begin="07:56:16.280" end="07:56:21.200" style="s2">going to represent the ID of the user</p>
<p begin="07:56:17.600" end="07:56:23.040" style="s2">that created our post the data type now</p>
<p begin="07:56:21.200" end="07:56:25.520" style="s2">this is important because the data type</p>
<p begin="07:56:23.040" end="07:56:28.920" style="s2">of this column needs to match whatever</p>
<p begin="07:56:25.520" end="07:56:31.160" style="s2">the uh data type is of the ID column</p>
<p begin="07:56:28.920" end="07:56:32.798" style="s2">uh from the users table so we always set</p>
<p begin="07:56:31.160" end="07:56:35.160" style="s2">the ID up to be integer so you want to</p>
<p begin="07:56:32.798" end="07:56:36.240" style="s2">match this however keep in mind that</p>
<p begin="07:56:35.160" end="07:56:38.360" style="s2">sometimes when you&#39;re working with data</p>
<p begin="07:56:36.240" end="07:56:40.080" style="s2">bases it might be uh some other data</p>
<p begin="07:56:38.360" end="07:56:41.120" style="s2">type right if you use big int you</p>
<p begin="07:56:40.080" end="07:56:42.760" style="s2">definitely want to make sure that this</p>
<p begin="07:56:41.120" end="07:56:44.398" style="s2">is also a big int if you use a small in</p>
<p begin="07:56:42.760" end="07:56:46.718" style="s2">make sure this is a small int if you use</p>
<p begin="07:56:44.398" end="07:56:48.280" style="s2">uu IDs make sure that this is a uu ID as</p>
<p begin="07:56:46.718" end="07:56:49.638" style="s2">well you just want to match up with</p>
<p begin="07:56:48.280" end="07:56:50.840" style="s2">whatever that column is in that</p>
<p begin="07:56:49.638" end="07:56:53.718" style="s2">respective</p>
<p begin="07:56:50.840" end="07:56:55.958" style="s2">table uh now we have uh the options to</p>
<p begin="07:56:53.718" end="07:56:58.160" style="s2">set this as not null so right now we can</p>
<p begin="07:56:55.958" end="07:56:59.798" style="s2">create a post with a null user which</p>
<p begin="07:56:58.160" end="07:57:03.958" style="s2">which means there&#39;s no user that created</p>
<p begin="07:56:59.798" end="07:57:05.318" style="s2">this post uh and if and to figure out if</p>
<p begin="07:57:03.958" end="07:57:06.360" style="s2">you should set this to be not knowledge</p>
<p begin="07:57:05.318" end="07:57:08.638" style="s2">just depends on how you want to set up</p>
<p begin="07:57:06.360" end="07:57:11.240" style="s2">your application should the database</p>
<p begin="07:57:08.638" end="07:57:12.520" style="s2">allow you to have a post without a user</p>
<p begin="07:57:11.240" end="07:57:15.440" style="s2">it&#39;s up to you to decide I&#39;m going to</p>
<p begin="07:57:12.520" end="07:57:16.200" style="s2">say no for now I&#39;m going to say Not N</p>
<p begin="07:57:15.440" end="07:57:19.000" style="s2">because I don&#39;t want to be able to</p>
<p begin="07:57:16.200" end="07:57:20.200" style="s2">create a post without a user it doesn&#39;t</p>
<p begin="07:57:19.000" end="07:57:22.520" style="s2">make</p>
<p begin="07:57:20.200" end="07:57:25.120" style="s2">sense right and then after that what we</p>
<p begin="07:57:22.520" end="07:57:26.840" style="s2">can do is we have to set up our foreign</p>
<p begin="07:57:25.120" end="07:57:28.840" style="s2">key constraint so let&#39;s go to</p>
<p begin="07:57:26.840" end="07:57:31.360" style="s2">constraints</p>
<p begin="07:57:28.840" end="07:57:33.398" style="s2">and then we want to go under foreign key</p>
<p begin="07:57:31.360" end="07:57:35.478" style="s2">so this is where we set up that magical</p>
<p begin="07:57:33.398" end="07:57:37.600" style="s2">connection between the two tables hit</p>
<p begin="07:57:35.478" end="07:57:39.000" style="s2">the plus sign and then give this foreign</p>
<p begin="07:57:37.600" end="07:57:41.318" style="s2">key a name the name of the foreign key</p>
<p begin="07:57:39.000" end="07:57:43.120" style="s2">doesn&#39;t matter right it doesn&#39;t impact</p>
<p begin="07:57:41.318" end="07:57:45.080" style="s2">the functionality of this is more just</p>
<p begin="07:57:43.120" end="07:57:46.440" style="s2">for you as a user to be able to read it</p>
<p begin="07:57:45.080" end="07:57:47.318" style="s2">a little bit more clearly when you see</p>
<p begin="07:57:46.440" end="07:57:50.240" style="s2">it on the</p>
<p begin="07:57:47.318" end="07:57:51.638" style="s2">CLI but there&#39;s a standard convention uh</p>
<p begin="07:57:50.240" end="07:57:53.478" style="s2">that we like to use when it comes to</p>
<p begin="07:57:51.638" end="07:57:55.920" style="s2">naming our foreign Keys what we like to</p>
<p begin="07:57:53.478" end="07:57:57.120" style="s2">do is we like to take the table that</p>
<p begin="07:57:55.920" end="07:58:00.120" style="s2">we&#39;re working on so it&#39;s going to be</p>
<p begin="07:57:57.120" end="07:58:00.120" style="s2">posts</p>
<p begin="07:58:00.478" end="07:58:03.958" style="s2">and then we do underscore then the table</p>
<p begin="07:58:02.318" end="07:58:05.478" style="s2">that we want to set a foreign key to so</p>
<p begin="07:58:03.958" end="07:58:07.878" style="s2">it&#39;s going to be</p>
<p begin="07:58:05.478" end="07:58:10.440" style="s2">users and then we just do underscore F</p>
<p begin="07:58:07.878" end="07:58:13.798" style="s2">key once again this is just nothing more</p>
<p begin="07:58:10.440" end="07:58:15.200" style="s2">than a a name to describe the foreign</p>
<p begin="07:58:13.798" end="07:58:17.360" style="s2">key it&#39;s not actually doing anything at</p>
<p begin="07:58:15.200" end="07:58:19.160" style="s2">the moment to actually set up the logic</p>
<p begin="07:58:17.360" end="07:58:21.920" style="s2">of the foreign key we have to open this</p>
<p begin="07:58:19.160" end="07:58:23.520" style="s2">up and we have to go under columns and</p>
<p begin="07:58:21.920" end="07:58:25.760" style="s2">so this is how we actually set up the</p>
<p begin="07:58:23.520" end="07:58:28.398" style="s2">relationship so here we&#39;re saying what</p>
<p begin="07:58:25.760" end="07:58:31.360" style="s2">is the name of the local column like the</p>
<p begin="07:58:28.398" end="07:58:34.478" style="s2">column in our posts uh table well we</p>
<p begin="07:58:31.360" end="07:58:36.478" style="s2">created our brand new user ID then it&#39;s</p>
<p begin="07:58:34.478" end="07:58:38.000" style="s2">going to reference what table well we</p>
<p begin="07:58:36.478" end="07:58:40.160" style="s2">know it&#39;s going to reference the users</p>
<p begin="07:58:38.000" end="07:58:41.760" style="s2">table so we select the users table and</p>
<p begin="07:58:40.160" end="07:58:43.280" style="s2">then what column from the users table is</p>
<p begin="07:58:41.760" end="07:58:45.840" style="s2">it going to reference well it&#39;s going to</p>
<p begin="07:58:43.280" end="07:58:48.080" style="s2">reference the ID column of the user</p>
<p begin="07:58:45.840" end="07:58:50.440" style="s2">table and at that point you just hit</p>
<p begin="07:58:48.080" end="07:58:53.280" style="s2">plus it gets added up</p>
<p begin="07:58:50.440" end="07:58:55.360" style="s2">here and before we move on there&#39;s one</p>
<p begin="07:58:53.280" end="07:58:59.240" style="s2">last thing I want to cover because we&#39;re</p>
<p begin="07:58:55.360" end="07:59:00.240" style="s2">almost done we have to go under actions</p>
<p begin="07:58:59.240" end="07:59:02.000" style="s2">and because we&#39;re setting this</p>
<p begin="07:59:00.240" end="07:59:03.760" style="s2">relationship up between two different</p>
<p begin="07:59:02.000" end="07:59:07.240" style="s2">tables we have to figure out you know</p>
<p begin="07:59:03.760" end="07:59:10.200" style="s2">what happens when uh a user gets deleted</p>
<p begin="07:59:07.240" end="07:59:11.520" style="s2">right because right now a post is going</p>
<p begin="07:59:10.200" end="07:59:13.558" style="s2">to have the idea of the user that</p>
<p begin="07:59:11.520" end="07:59:15.360" style="s2">created it what if we delete that user</p>
<p begin="07:59:13.558" end="07:59:16.520" style="s2">what do we do so if you go to the on</p>
<p begin="07:59:15.360" end="07:59:18.440" style="s2">delete section we have a couple of</p>
<p begin="07:59:16.520" end="07:59:20.638" style="s2">different options uh one of the more</p>
<p begin="07:59:18.440" end="07:59:23.440" style="s2">common ones is Cascade and so what</p>
<p begin="07:59:20.638" end="07:59:24.840" style="s2">Cascade does is if I let&#39;s say if I have</p>
<p begin="07:59:23.440" end="07:59:27.638" style="s2">a couple posts that were created by a</p>
<p begin="07:59:24.840" end="07:59:29.840" style="s2">user with an ID of seven if I delete</p>
<p begin="07:59:27.638" end="07:59:31.520" style="s2">that user user then postgress will</p>
<p begin="07:59:29.840" end="07:59:33.440" style="s2">automatically go into my post table and</p>
<p begin="07:59:31.520" end="07:59:34.440" style="s2">delete any posts that were created by</p>
<p begin="07:59:33.440" end="07:59:36.798" style="s2">that</p>
<p begin="07:59:34.440" end="07:59:38.440" style="s2">user and so that&#39;s one option that&#39;s</p>
<p begin="07:59:36.798" end="07:59:41.600" style="s2">what I&#39;m going to use however we have</p>
<p begin="07:59:38.440" end="07:59:43.200" style="s2">other options as well we can uh set it</p>
<p begin="07:59:41.600" end="07:59:45.280" style="s2">to the default value of the column so if</p>
<p begin="07:59:43.200" end="07:59:47.718" style="s2">we give the column a default value uh</p>
<p begin="07:59:45.280" end="07:59:49.280" style="s2">maybe we create like a like a random ID</p>
<p begin="07:59:47.718" end="07:59:51.040" style="s2">of zero or something then it&#39;s going to</p>
<p begin="07:59:49.280" end="07:59:53.878" style="s2">assign all of those posts that were</p>
<p begin="07:59:51.040" end="07:59:55.958" style="s2">created by the deleted user to zero we</p>
<p begin="07:59:53.878" end="07:59:57.440" style="s2">can set it to null so if we did set null</p>
<p begin="07:59:55.958" end="07:59:59.920" style="s2">then it&#39;s just going to set the user ID</p>
<p begin="07:59:57.440" end="08:00:01.360" style="s2">column to null if that user gets deleted</p>
<p begin="07:59:59.920" end="08:00:03.160" style="s2">keep in mind if you want to be able to</p>
<p begin="08:00:01.360" end="08:00:05.638" style="s2">use set null then you have to go back to</p>
<p begin="08:00:03.160" end="08:00:07.080" style="s2">columns and make sure this is not set to</p>
<p begin="08:00:05.638" end="08:00:08.760" style="s2">uh allow you to set it to null so we&#39;d</p>
<p begin="08:00:07.080" end="08:00:12.160" style="s2">have to set it to no or then it would</p>
<p begin="08:00:08.760" end="08:00:12.160" style="s2">throw an error when you try to delete</p>
<p begin="08:00:12.718" end="08:00:16.520" style="s2">someone and then there&#39;s a few other</p>
<p begin="08:00:14.760" end="08:00:18.120" style="s2">options but uh we&#39;re going to stick to</p>
<p begin="08:00:16.520" end="08:00:20.638" style="s2">Cascade and then keep in mind you can do</p>
<p begin="08:00:18.120" end="08:00:22.120" style="s2">the same thing with on update so what</p>
<p begin="08:00:20.638" end="08:00:24.718" style="s2">actions do you want to perform when you</p>
<p begin="08:00:22.120" end="08:00:26.638" style="s2">update a specific user in that case um</p>
<p begin="08:00:24.718" end="08:00:29.398" style="s2">but we&#39;ll leave it as no action for now</p>
<p begin="08:00:26.638" end="08:00:30.798" style="s2">I just mainly care about the on delete</p>
<p begin="08:00:29.398" end="08:00:32.680" style="s2">at this point that&#39;s all you have to do</p>
<p begin="08:00:30.798" end="08:00:33.840" style="s2">for foreign Keys you just specify the</p>
<p begin="08:00:32.680" end="08:00:37.718" style="s2">column of the other table it should</p>
<p begin="08:00:33.840" end="08:00:37.718" style="s2">point to and you&#39;re good to go we&#39;ll hit</p>
<p begin="08:00:38.360" end="08:00:42.478" style="s2">save and then we&#39;re going to go under</p>
<p begin="08:00:40.360" end="08:00:44.478" style="s2">posts well actually before we do that</p>
<p begin="08:00:42.478" end="08:00:46.200" style="s2">we&#39;re going to go under users we&#39;re</p>
<p begin="08:00:44.478" end="08:00:48.398" style="s2">going to view all</p>
<p begin="08:00:46.200" end="08:00:50.878" style="s2">rows and let me clear out some of these</p>
<p begin="08:00:48.398" end="08:00:52.798" style="s2">there&#39;s too many windows open right and</p>
<p begin="08:00:50.878" end="08:00:55.000" style="s2">these columns got a little</p>
<p begin="08:00:52.798" end="08:00:58.120" style="s2">squished um but right now I have three</p>
<p begin="08:00:55.000" end="08:00:59.558" style="s2">users uh it&#39;s got an ID of 17 18 19 so</p>
<p begin="08:00:58.120" end="08:01:00.760" style="s2">go ahead and remember that obviously</p>
<p begin="08:00:59.558" end="08:01:03.638" style="s2">your database is going to be different</p>
<p begin="08:01:00.760" end="08:01:05.440" style="s2">so uh just remember the IDS of a couple</p>
<p begin="08:01:03.638" end="08:01:08.040" style="s2">users and what we&#39;re going to do is</p>
<p begin="08:01:05.440" end="08:01:09.878" style="s2">we&#39;re going to go under our posts and</p>
<p begin="08:01:08.040" end="08:01:12.240" style="s2">we&#39;re going to view</p>
<p begin="08:01:09.878" end="08:01:13.718" style="s2">edit and so right now I have no post CU</p>
<p begin="08:01:12.240" end="08:01:15.240" style="s2">I deleted everything so I&#39;m going to</p>
<p begin="08:01:13.718" end="08:01:16.920" style="s2">create a brand new post and I&#39;ll just</p>
<p begin="08:01:15.240" end="08:01:19.000" style="s2">call this this my first</p>
<p begin="08:01:16.920" end="08:01:20.718" style="s2">post and then content is just going to</p>
<p begin="08:01:19.000" end="08:01:23.318" style="s2">be some random</p>
<p begin="08:01:20.718" end="08:01:25.200" style="s2">content I&#39;ll leave published blank um</p>
<p begin="08:01:23.318" end="08:01:26.840" style="s2">because we&#39;ve got a default value and</p>
<p begin="08:01:25.200" end="08:01:29.080" style="s2">then right now if you take a look we&#39;ve</p>
<p begin="08:01:26.840" end="08:01:30.638" style="s2">got this new user ID column so if I try</p>
<p begin="08:01:29.080" end="08:01:32.878" style="s2">to save a post right</p>
<p begin="08:01:30.638" end="08:01:34.478" style="s2">now take a look at what happens it gives</p>
<p begin="08:01:32.878" end="08:01:36.798" style="s2">me an error it says null value in column</p>
<p begin="08:01:34.478" end="08:01:38.760" style="s2">user ID Vol um violates not null</p>
<p begin="08:01:36.798" end="08:01:40.840" style="s2">constraint so because we said that user</p>
<p begin="08:01:38.760" end="08:01:43.120" style="s2">ID cannot be null we have to provide a</p>
<p begin="08:01:40.840" end="08:01:45.878" style="s2">user ID so let&#39;s give it an</p>
<p begin="08:01:43.120" end="08:01:47.680" style="s2">ID and if we go back to users I can see</p>
<p begin="08:01:45.878" end="08:01:49.878" style="s2">that there&#39;s going to be I can use 17 18</p>
<p begin="08:01:47.680" end="08:01:51.440" style="s2">or 19 so whatever user created this I&#39;ll</p>
<p begin="08:01:49.878" end="08:01:53.840" style="s2">just say John created this so we&#39;ll grab</p>
<p begin="08:01:51.440" end="08:01:56.160" style="s2">an ID of 17 and I&#39;ll say that this is</p>
<p begin="08:01:53.840" end="08:01:59.200" style="s2">going to be an ID of 17 and then if we</p>
<p begin="08:01:56.160" end="08:02:02.040" style="s2">save this look at that we now have a</p>
<p begin="08:01:59.200" end="08:02:04.318" style="s2">relationship between the users table and</p>
<p begin="08:02:02.040" end="08:02:06.878" style="s2">the post table let&#39;s create another</p>
<p begin="08:02:04.318" end="08:02:09.040" style="s2">entry I&#39;ll call this second</p>
<p begin="08:02:06.878" end="08:02:10.240" style="s2">post and just going to have some random</p>
<p begin="08:02:09.040" end="08:02:12.280" style="s2">content and I&#39;ll say that this was</p>
<p begin="08:02:10.240" end="08:02:15.040" style="s2">created by the user with an ID of</p>
<p begin="08:02:12.280" end="08:02:17.398" style="s2">18 and that should work just fine now</p>
<p begin="08:02:15.040" end="08:02:19.280" style="s2">what I&#39;m going to do now is what happens</p>
<p begin="08:02:17.398" end="08:02:21.398" style="s2">if I create a post and I give it an ID</p>
<p begin="08:02:19.280" end="08:02:24.638" style="s2">of a user that doesn&#39;t exist so I have</p>
<p begin="08:02:21.398" end="08:02:28.680" style="s2">IDs of 17 18 19 what happens if I set</p>
<p begin="08:02:24.638" end="08:02:30.360" style="s2">the user ID column to be a value of 20</p>
<p begin="08:02:28.680" end="08:02:32.760" style="s2">well let&#39;s let&#39;s try that out so I&#39;ll</p>
<p begin="08:02:30.360" end="08:02:34.718" style="s2">just call this third</p>
<p begin="08:02:32.760" end="08:02:37.160" style="s2">post and then we&#39;ll set the content to</p>
<p begin="08:02:34.718" end="08:02:37.160" style="s2">be something</p>
<p begin="08:02:37.760" end="08:02:44.240" style="s2">random and if I set this to 20 let&#39;s see</p>
<p begin="08:02:40.478" end="08:02:47.360" style="s2">what happens if I hit save look at this</p>
<p begin="08:02:44.240" end="08:02:48.840" style="s2">insert or update on table post violates</p>
<p begin="08:02:47.360" end="08:02:51.638" style="s2">forign key constraint there&#39;s no user</p>
<p begin="08:02:48.840" end="08:02:52.878" style="s2">with an ID of 20 right so that doesn&#39;t</p>
<p begin="08:02:51.638" end="08:02:55.398" style="s2">exist in that table so it&#39;s going to</p>
<p begin="08:02:52.878" end="08:02:56.760" style="s2">throw an error so uh that&#39;s the magic</p>
<p begin="08:02:55.398" end="08:02:58.080" style="s2">behind foreign keys that it&#39;s going to</p>
<p begin="08:02:56.760" end="08:02:59.080" style="s2">check to make sure that that user</p>
<p begin="08:02:58.080" end="08:03:01.000" style="s2">actually</p>
<p begin="08:02:59.080" end="08:03:03.638" style="s2">exists and so this isn&#39;t going to work</p>
<p begin="08:03:01.000" end="08:03:07.080" style="s2">so we&#39;ll just set this to 17 as</p>
<p begin="08:03:03.638" end="08:03:08.920" style="s2">well now save that right and that&#39;s it</p>
<p begin="08:03:07.080" end="08:03:11.840" style="s2">guys and when it comes to you know kind</p>
<p begin="08:03:08.920" end="08:03:13.878" style="s2">of querying these users right let&#39;s uh</p>
<p begin="08:03:11.840" end="08:03:16.200" style="s2">go back to our database and let&#39;s just</p>
<p begin="08:03:13.878" end="08:03:18.878" style="s2">set up a query now let&#39;s say I want to</p>
<p begin="08:03:16.200" end="08:03:21.638" style="s2">get all of the posts created by user 17</p>
<p begin="08:03:18.878" end="08:03:21.638" style="s2">well we can do</p>
<p begin="08:03:21.958" end="08:03:28.120" style="s2">select star from Posts where and now</p>
<p begin="08:03:26.398" end="08:03:30.160" style="s2">instead of you know searching for based</p>
<p begin="08:03:28.120" end="08:03:33.120" style="s2">off ID we grabb the user ID</p>
<p begin="08:03:30.160" end="08:03:34.478" style="s2">column and we set that equal to 17 so</p>
<p begin="08:03:33.120" end="08:03:37.000" style="s2">this is going to get me all of the posts</p>
<p begin="08:03:34.478" end="08:03:38.520" style="s2">that were created by user 17 if I run</p>
<p begin="08:03:37.000" end="08:03:40.558" style="s2">that you can see that this got the two</p>
<p begin="08:03:38.520" end="08:03:42.718" style="s2">post from user 17 and then if I change</p>
<p begin="08:03:40.558" end="08:03:46.200" style="s2">this to 18 we&#39;re going to get the one</p>
<p begin="08:03:42.718" end="08:03:47.200" style="s2">post created by user 18 so from a SQL</p>
<p begin="08:03:46.200" end="08:03:48.760" style="s2">perspective right nothing&#39;s really</p>
<p begin="08:03:47.200" end="08:03:50.878" style="s2">changed you just specify what column you</p>
<p begin="08:03:48.760" end="08:03:53.160" style="s2">want to match on and then provide a</p>
<p begin="08:03:50.878" end="08:03:55.638" style="s2">condition now what I&#39;m going to do now</p>
<p begin="08:03:53.160" end="08:03:58.478" style="s2">is I&#39;m actually going to delete this</p>
<p begin="08:03:55.638" end="08:04:01.280" style="s2">user so I&#39;m going to go and just say</p>
<p begin="08:03:58.478" end="08:04:04.398" style="s2">delete from users uh where ID equals 70</p>
<p begin="08:04:01.280" end="08:04:04.398" style="s2">so we&#39;re going to delete John at</p>
<p begin="08:04:04.520" end="08:04:09.160" style="s2">Gmail and we&#39;re going to actually do</p>
<p begin="08:04:06.318" end="08:04:13.200" style="s2">that here so I&#39;ll say first of all</p>
<p begin="08:04:09.160" end="08:04:13.200" style="s2">select star from</p>
<p begin="08:04:13.878" end="08:04:18.798" style="s2">post all right so we&#39;ve got all three</p>
<p begin="08:04:16.718" end="08:04:22.558" style="s2">posts and I&#39;m going to run another query</p>
<p begin="08:04:18.798" end="08:04:27.000" style="s2">except I&#39;m going to say delete from</p>
<p begin="08:04:22.558" end="08:04:28.958" style="s2">users where ID equals 17 so what is</p>
<p begin="08:04:27.000" end="08:04:30.718" style="s2">going to happen when we delete those</p>
<p begin="08:04:28.958" end="08:04:32.760" style="s2">users because we have posts that have</p>
<p begin="08:04:30.718" end="08:04:34.638" style="s2">relationships to them well since we set</p>
<p begin="08:04:32.760" end="08:04:37.080" style="s2">the on delete to Cascade it should</p>
<p begin="08:04:34.638" end="08:04:38.520" style="s2">delete these posts automatically for us</p>
<p begin="08:04:37.080" end="08:04:39.840" style="s2">so I&#39;m going to leave this down here so</p>
<p begin="08:04:38.520" end="08:04:41.318" style="s2">it&#39;s going to run another query so we</p>
<p begin="08:04:39.840" end="08:04:43.878" style="s2">can see exactly what our table looks</p>
<p begin="08:04:41.318" end="08:04:46.600" style="s2">like after we delete this user and so if</p>
<p begin="08:04:43.878" end="08:04:48.520" style="s2">I run this you can see that when I run</p>
<p begin="08:04:46.600" end="08:04:50.200" style="s2">select star from Posts there&#39;s only one</p>
<p begin="08:04:48.520" end="08:04:52.120" style="s2">entry left and that&#39;s the one with the</p>
<p begin="08:04:50.200" end="08:04:54.798" style="s2">user ID of 18 because it automatically</p>
<p begin="08:04:52.120" end="08:04:58.360" style="s2">deleted all of the posts created with an</p>
<p begin="08:04:54.798" end="08:04:58.360" style="s2">ID of 17</p>
<p begin="08:04:59.120" end="08:05:04.360" style="s2">all right and so from a database</p>
<p begin="08:05:02.160" end="08:05:06.040" style="s2">perspective uh I think this is all we</p>
<p begin="08:05:04.360" end="08:05:07.600" style="s2">really need to cover for now uh</p>
<p begin="08:05:06.040" end="08:05:09.478" style="s2">eventually we&#39;ll start taking a look at</p>
<p begin="08:05:07.600" end="08:05:12.040" style="s2">joins which is how to run these complex</p>
<p begin="08:05:09.478" end="08:05:14.638" style="s2">SQL commands that allow you to uh Jam</p>
<p begin="08:05:12.040" end="08:05:16.878" style="s2">The Columns of multiple tables into one</p>
<p begin="08:05:14.638" end="08:05:18.840" style="s2">result uh to make it a little bit easier</p>
<p begin="08:05:16.878" end="08:05:21.840" style="s2">to retrieve information because right</p>
<p begin="08:05:18.840" end="08:05:24.160" style="s2">now if I if I try to get all of the</p>
<p begin="08:05:21.840" end="08:05:25.920" style="s2">posts you know like send me every single</p>
<p begin="08:05:24.160" end="08:05:27.920" style="s2">post in my database right it&#39;s just</p>
<p begin="08:05:25.920" end="08:05:29.680" style="s2">going to give me the user ID but if I</p>
<p begin="08:05:27.920" end="08:05:31.040" style="s2">need the information about the user like</p>
<p begin="08:05:29.680" end="08:05:33.160" style="s2">what&#39;s the name of the user what&#39;s the</p>
<p begin="08:05:31.040" end="08:05:36.520" style="s2">the username or the email then I would</p>
<p begin="08:05:33.160" end="08:05:38.638" style="s2">have to individually query the uh the</p>
<p begin="08:05:36.520" end="08:05:40.520" style="s2">IDS of these users so i&#39; have to go then</p>
<p begin="08:05:38.638" end="08:05:42.638" style="s2">I&#39;d have to do you know a select whoops</p>
<p begin="08:05:40.520" end="08:05:48.200" style="s2">make sure I don&#39;t delete anything I&#39;d</p>
<p begin="08:05:42.638" end="08:05:51.718" style="s2">have to do a select star from users</p>
<p begin="08:05:48.200" end="08:05:54.680" style="s2">where ID equals 18 and I have to do this</p>
<p begin="08:05:51.718" end="08:05:56.558" style="s2">one by one for every single post so that</p>
<p begin="08:05:54.680" end="08:05:58.000" style="s2">I can get this specific user and so</p>
<p begin="08:05:56.558" end="08:05:59.958" style="s2">that&#39;s when we start to make of things</p>
<p begin="08:05:58.000" end="08:06:01.840" style="s2">like joins um but that&#39;s a little ahead</p>
<p begin="08:05:59.958" end="08:06:02.840" style="s2">of us at the moment and that takes a</p>
<p begin="08:06:01.840" end="08:06:05.280" style="s2">little while to explain so we&#39;re going</p>
<p begin="08:06:02.840" end="08:06:06.958" style="s2">to come back to that um but before we</p>
<p begin="08:06:05.280" end="08:06:08.440" style="s2">actually kind of move on from this</p>
<p begin="08:06:06.958" end="08:06:10.120" style="s2">database side of things because we</p>
<p begin="08:06:08.440" end="08:06:12.280" style="s2">pretty much covered everything we&#39;re</p>
<p begin="08:06:10.120" end="08:06:13.600" style="s2">going to delete that column for now</p>
<p begin="08:06:12.280" end="08:06:15.318" style="s2">because we&#39;re going to make sure that</p>
<p begin="08:06:13.600" end="08:06:17.080" style="s2">SQL Alchemy actually sets up all of</p>
<p begin="08:06:15.318" end="08:06:18.878" style="s2">these constraints for us automatically</p>
<p begin="08:06:17.080" end="08:06:20.958" style="s2">so that we don&#39;t manually have to do it</p>
<p begin="08:06:18.878" end="08:06:24.558" style="s2">so let&#39;s go to our properties go to</p>
<p begin="08:06:20.958" end="08:06:25.760" style="s2">columns we can just delete this column</p>
<p begin="08:06:24.558" end="08:06:27.718" style="s2">and then I think this should</p>
<p begin="08:06:25.760" end="08:06:29.120" style="s2">automatically delete the foreign key</p>
<p begin="08:06:27.718" end="08:06:32.120" style="s2">does not delete the forign key so make</p>
<p begin="08:06:29.120" end="08:06:32.120" style="s2">sure you delete that as</p>
<p begin="08:06:34.000" end="08:06:37.878" style="s2">well and then we can save</p>
<p begin="08:06:40.000" end="08:06:44.638" style="s2">that and it looks like there&#39;s it&#39;s</p>
<p begin="08:06:42.120" end="08:06:44.638" style="s2">throwing an</p>
<p begin="08:06:45.440" end="08:06:50.280" style="s2">error so let me cancel out of that and I</p>
<p begin="08:06:49.040" end="08:06:52.240" style="s2">think we&#39;re going to have to do this in</p>
<p begin="08:06:50.280" end="08:06:56.520" style="s2">a two-step process so we&#39;ll say</p>
<p begin="08:06:52.240" end="08:06:59.120" style="s2">constraints we&#39;ll delete the foreign key</p>
<p begin="08:06:56.520" end="08:07:04.318" style="s2">first we&#39;ll save that and</p>
<p begin="08:06:59.120" end="08:07:07.240" style="s2">then properties we&#39;ll delete the user</p>
<p begin="08:07:04.318" end="08:07:11.160" style="s2">ID there we go and so now if I do a</p>
<p begin="08:07:07.240" end="08:07:11.160" style="s2">select star from</p>
<p begin="08:07:11.440" end="08:07:15.440" style="s2">Posts right there should no longer be a</p>
<p begin="08:07:13.520" end="08:07:18.478" style="s2">user ID column so this put our database</p>
<p begin="08:07:15.440" end="08:07:20.000" style="s2">back into the state it was in before we</p>
<p begin="08:07:18.478" end="08:07:23.200" style="s2">started playing around with</p>
<p begin="08:07:20.000" end="08:07:25.878" style="s2">it so now that we know how to create and</p>
<p begin="08:07:23.200" end="08:07:27.558" style="s2">set up a foreign key within postgress</p>
<p begin="08:07:25.878" end="08:07:30.080" style="s2">and PG admin we&#39;re going to see how we</p>
<p begin="08:07:27.558" end="08:07:32.240" style="s2">can do this through code using SQL</p>
<p begin="08:07:30.080" end="08:07:33.920" style="s2">Alchemy because ideally since we&#39;re</p>
<p begin="08:07:32.240" end="08:07:36.040" style="s2">already using SQL Alchemy to generate</p>
<p begin="08:07:33.920" end="08:07:37.318" style="s2">all the tables uh generate all the</p>
<p begin="08:07:36.040" end="08:07:39.040" style="s2">columns for each table and all the</p>
<p begin="08:07:37.318" end="08:07:41.318" style="s2">different properties we should also set</p>
<p begin="08:07:39.040" end="08:07:43.240" style="s2">it up to generate the foreign key for us</p>
<p begin="08:07:41.318" end="08:07:45.398" style="s2">as well so we&#39;re going to go to the</p>
<p begin="08:07:43.240" end="08:07:46.680" style="s2">models atpy file this is where we Define</p>
<p begin="08:07:45.398" end="08:07:48.440" style="s2">what the tables are going to look like</p>
<p begin="08:07:46.680" end="08:07:51.200" style="s2">with the different classes and we&#39;re</p>
<p begin="08:07:48.440" end="08:07:53.478" style="s2">going to add a new user ID or owner ID</p>
<p begin="08:07:51.200" end="08:07:56.600" style="s2">column to the post class and that&#39;s</p>
<p begin="08:07:53.478" end="08:07:59.000" style="s2">going to create a specific column within</p>
<p begin="08:07:56.600" end="08:08:00.760" style="s2">the post table</p>
<p begin="08:07:59.000" end="08:08:02.440" style="s2">and so we can just go here and you know</p>
<p begin="08:08:00.760" end="08:08:04.240" style="s2">call it owner ID user ID whatever you</p>
<p begin="08:08:02.440" end="08:08:07.558" style="s2">want I&#39;m just going to call this owner</p>
<p begin="08:08:04.240" end="08:08:08.958" style="s2">ID and this is going to be column and</p>
<p begin="08:08:07.558" end="08:08:11.040" style="s2">then here we have to specify the data</p>
<p begin="08:08:08.958" end="08:08:13.520" style="s2">type of the column and as I mentioned</p>
<p begin="08:08:11.040" end="08:08:15.440" style="s2">the data type should match up with</p>
<p begin="08:08:13.520" end="08:08:17.798" style="s2">whatever the data type of the foreign</p>
<p begin="08:08:15.440" end="08:08:20.478" style="s2">key is so since this column is going to</p>
<p begin="08:08:17.798" end="08:08:22.120" style="s2">point to the ID column of the user table</p>
<p begin="08:08:20.478" end="08:08:24.080" style="s2">it should match up with whatever is here</p>
<p begin="08:08:22.120" end="08:08:25.878" style="s2">so since this is integer this has to be</p>
<p begin="08:08:24.080" end="08:08:28.558" style="s2">integer as</p>
<p begin="08:08:25.878" end="08:08:31.478" style="s2">well then to to set up a foreign key</p>
<p begin="08:08:28.558" end="08:08:33.120" style="s2">constraint you just type in foreign key</p>
<p begin="08:08:31.478" end="08:08:34.000" style="s2">and then go ahead and Auto Import that</p>
<p begin="08:08:33.120" end="08:08:35.398" style="s2">if you don&#39;t know where it&#39;s getting</p>
<p begin="08:08:34.000" end="08:08:37.440" style="s2">imported from it&#39;s going to get imported</p>
<p begin="08:08:35.398" end="08:08:38.958" style="s2">from SQL Alchemy so uh if you didn&#39;t</p>
<p begin="08:08:37.440" end="08:08:40.878" style="s2">automatically do it you can go ahead and</p>
<p begin="08:08:38.958" end="08:08:42.240" style="s2">just manually type that out and then</p>
<p begin="08:08:40.878" end="08:08:43.600" style="s2">there&#39;s going to be two fields that</p>
<p begin="08:08:42.240" end="08:08:46.280" style="s2">we&#39;re going to pass in so the first of</p>
<p begin="08:08:43.600" end="08:08:48.040" style="s2">all we have to pass in the exact column</p>
<p begin="08:08:46.280" end="08:08:50.200" style="s2">uh and table table and column that we</p>
<p begin="08:08:48.040" end="08:08:52.398" style="s2">want to reference and so we want the</p>
<p begin="08:08:50.200" end="08:08:54.240" style="s2">user&#39;s table and then grabbing the ID</p>
<p begin="08:08:52.398" end="08:08:56.000" style="s2">column and so your instinct would be to</p>
<p begin="08:08:54.240" end="08:08:57.398" style="s2">use the class name but we don&#39;t actually</p>
<p begin="08:08:56.000" end="08:08:59.398" style="s2">reference the class name instead we want</p>
<p begin="08:08:57.398" end="08:09:00.840" style="s2">want to reference the table name so it&#39;s</p>
<p begin="08:08:59.398" end="08:09:03.120" style="s2">going to be lowercase in this case so</p>
<p begin="08:09:00.840" end="08:09:07.040" style="s2">you say users Dot and then what&#39;s the</p>
<p begin="08:09:03.120" end="08:09:09.240" style="s2">column name it&#39;s called ID so we say do</p>
<p begin="08:09:07.040" end="08:09:11.040" style="s2">ID and then the second thing we need to</p>
<p begin="08:09:09.240" end="08:09:13.680" style="s2">do is uh if you recall we have to set up</p>
<p begin="08:09:11.040" end="08:09:16.120" style="s2">what the policy is for when we delete</p>
<p begin="08:09:13.680" end="08:09:19.478" style="s2">the foreign key or the parent table uh</p>
<p begin="08:09:16.120" end="08:09:21.200" style="s2">and so we always used uh Cascade so that</p>
<p begin="08:09:19.478" end="08:09:23.160" style="s2">if the parent object gets deleted all of</p>
<p begin="08:09:21.200" end="08:09:24.798" style="s2">the child object objects get deleted as</p>
<p begin="08:09:23.160" end="08:09:27.958" style="s2">well so we can do that through SQL</p>
<p begin="08:09:24.798" end="08:09:31.478" style="s2">Alchemy as well and we&#39;ll say on delete</p>
<p begin="08:09:27.958" end="08:09:33.558" style="s2">equals and then we just say</p>
<p begin="08:09:31.478" end="08:09:37.120" style="s2">Cascade and then finally we want this</p>
<p begin="08:09:33.558" end="08:09:40.000" style="s2">field to be nullable equals false so it</p>
<p begin="08:09:37.120" end="08:09:42.600" style="s2">has to be filled in all right and now if</p>
<p begin="08:09:40.000" end="08:09:44.958" style="s2">we save this restarter application we&#39;ll</p>
<p begin="08:09:42.600" end="08:09:48.718" style="s2">take a look at</p>
<p begin="08:09:44.958" end="08:09:51.958" style="s2">postgress and if I actually refresh</p>
<p begin="08:09:48.718" end="08:09:54.638" style="s2">this and this is actually an</p>
<p begin="08:09:51.958" end="08:09:56.600" style="s2">old an old panel so I&#39;m going to remove</p>
<p begin="08:09:54.638" end="08:09:58.000" style="s2">that and then if I just do uh we&#39;ll go</p>
<p begin="08:09:56.600" end="08:10:01.200" style="s2">to our post table</p>
<p begin="08:09:58.000" end="08:10:03.318" style="s2">go to query tool I&#39;ll say select star</p>
<p begin="08:10:01.200" end="08:10:06.440" style="s2">from</p>
<p begin="08:10:03.318" end="08:10:09.558" style="s2">Posts run that you can see that there is</p>
<p begin="08:10:06.440" end="08:10:13.080" style="s2">no actual owner ID column uh and so the</p>
<p begin="08:10:09.558" end="08:10:14.520" style="s2">reason for this is that uh SQL Alchemy</p>
<p begin="08:10:13.080" end="08:10:16.120" style="s2">when it when we start our application</p>
<p begin="08:10:14.520" end="08:10:18.840" style="s2">SQL Alchemy will check to see if there&#39;s</p>
<p begin="08:10:16.120" end="08:10:20.360" style="s2">a table called posts and if there is oh</p>
<p begin="08:10:18.840" end="08:10:22.398" style="s2">sorry if there isn&#39;t it&#39;s going to then</p>
<p begin="08:10:20.360" end="08:10:24.080" style="s2">create a table based off of these rules</p>
<p begin="08:10:22.398" end="08:10:26.558" style="s2">however if there&#39;s already a table named</p>
<p begin="08:10:24.080" end="08:10:28.240" style="s2">posts uh it&#39;s not going to do anything</p>
<p begin="08:10:26.558" end="08:10:29.840" style="s2">so if we update any properties for a</p>
<p begin="08:10:28.240" end="08:10:31.718" style="s2">pre-existing table it&#39;s not going to</p>
<p begin="08:10:29.840" end="08:10:33.680" style="s2">change that that&#39;s not exactly what SQL</p>
<p begin="08:10:31.718" end="08:10:36.798" style="s2">Alchemy is meant for instead we would</p>
<p begin="08:10:33.680" end="08:10:39.558" style="s2">have to use a database migration</p>
<p begin="08:10:36.798" end="08:10:41.840" style="s2">tool kind of like a lmic uh which we</p>
<p begin="08:10:39.558" end="08:10:42.798" style="s2">haven&#39;t covered yet uh so instead for</p>
<p begin="08:10:41.840" end="08:10:44.558" style="s2">now what we&#39;re going to do is we have a</p>
<p begin="08:10:42.798" end="08:10:46.318" style="s2">couple different options we can manually</p>
<p begin="08:10:44.558" end="08:10:48.080" style="s2">just do it go into PG admin add the</p>
<p begin="08:10:46.318" end="08:10:49.520" style="s2">things yourselves or we can just take</p>
<p begin="08:10:48.080" end="08:10:52.120" style="s2">the easy way out since this is a</p>
<p begin="08:10:49.520" end="08:10:54.760" style="s2">development environment we can just drop</p>
<p begin="08:10:52.120" end="08:10:54.760" style="s2">our post</p>
<p begin="08:10:55.040" end="08:10:59.718" style="s2">table and that&#39;s one of the luxuries of</p>
<p begin="08:10:57.440" end="08:11:02.840" style="s2">working in development so you can then</p>
<p begin="08:10:59.718" end="08:11:06.040" style="s2">hit save again and that&#39;s going to cause</p>
<p begin="08:11:02.840" end="08:11:07.760" style="s2">it to restart the applic the application</p>
<p begin="08:11:06.040" end="08:11:10.398" style="s2">and then if we go to</p>
<p begin="08:11:07.760" end="08:11:11.920" style="s2">postgress and we just hit refresh it&#39;s</p>
<p begin="08:11:10.398" end="08:11:14.280" style="s2">going to create a new post table and</p>
<p begin="08:11:11.920" end="08:11:16.558" style="s2">then we can go into properties and we&#39;ll</p>
<p begin="08:11:14.280" end="08:11:18.718" style="s2">go into columns and we now see that we</p>
<p begin="08:11:16.558" end="08:11:20.600" style="s2">have an owner ID column which is set to</p>
<p begin="08:11:18.718" end="08:11:23.160" style="s2">not null that&#39;s good and then if we go</p>
<p begin="08:11:20.600" end="08:11:24.360" style="s2">to constraints foreign key you&#39;ll see</p>
<p begin="08:11:23.160" end="08:11:26.520" style="s2">that we&#39;ve got our foreign key and you</p>
<p begin="08:11:24.360" end="08:11:27.638" style="s2">can take a look at the details down here</p>
<p begin="08:11:26.520" end="08:11:31.680" style="s2">and the main thing I want want to check</p>
<p begin="08:11:27.638" end="08:11:31.680" style="s2">is for actions we do have on delete</p>
<p begin="08:11:32.680" end="08:11:36.478" style="s2">Cascade all right and so now that we</p>
<p begin="08:11:34.680" end="08:11:38.520" style="s2">have everything set up if I just run</p>
<p begin="08:11:36.478" end="08:11:42.160" style="s2">this query again we should see the owner</p>
<p begin="08:11:38.520" end="08:11:44.280" style="s2">ID show up so let&#39;s create a few entries</p>
<p begin="08:11:42.160" end="08:11:46.200" style="s2">and um before I do that I need to make</p>
<p begin="08:11:44.280" end="08:11:47.680" style="s2">sure that I actually have some users um</p>
<p begin="08:11:46.200" end="08:11:50.558" style="s2">because I kind of went in and deleted a</p>
<p begin="08:11:47.680" end="08:11:53.200" style="s2">few things so I&#39;ve got two users with an</p>
<p begin="08:11:50.558" end="08:11:54.840" style="s2">ID of 20 and 21 and so what we&#39;re going</p>
<p begin="08:11:53.200" end="08:11:56.878" style="s2">to do is we&#39;re going to make sure that</p>
<p begin="08:11:54.840" end="08:11:59.360" style="s2">the foreign key po points to one of</p>
<p begin="08:11:56.878" end="08:12:01.798" style="s2">those IDs so we&#39;ll grab a post I&#39;m going</p>
<p begin="08:11:59.360" end="08:12:03.798" style="s2">to just set this to be post one as the</p>
<p begin="08:12:01.798" end="08:12:05.958" style="s2">title and it&#39;s going to be some</p>
<p begin="08:12:03.798" end="08:12:08.760" style="s2">gibberish and then we can set the post</p>
<p begin="08:12:05.958" end="08:12:10.920" style="s2">uh the owner ID to be the ID of a user</p>
<p begin="08:12:08.760" end="08:12:12.798" style="s2">that we already have in our database</p>
<p begin="08:12:10.920" end="08:12:15.558" style="s2">we&#39;ll save this and we can see that it&#39;s</p>
<p begin="08:12:12.798" end="08:12:17.798" style="s2">successfully created now if I create a</p>
<p begin="08:12:15.558" end="08:12:17.798" style="s2">new</p>
<p begin="08:12:17.840" end="08:12:22.958" style="s2">post and this time leaving the owner ID</p>
<p begin="08:12:20.280" end="08:12:24.360" style="s2">blank if I hit save you can see that it</p>
<p begin="08:12:22.958" end="08:12:27.958" style="s2">throws an error because this can&#39;t be</p>
<p begin="08:12:24.360" end="08:12:30.798" style="s2">set to null and if I try a ID of a user</p>
<p begin="08:12:27.958" end="08:12:32.440" style="s2">that doesn&#39;t exist like 57 it should</p>
<p begin="08:12:30.798" end="08:12:34.160" style="s2">also throw an error and so it&#39;s saying</p>
<p begin="08:12:32.440" end="08:12:35.638" style="s2">that hey the owner ID of 57 does not</p>
<p begin="08:12:34.160" end="08:12:38.200" style="s2">exist in the user</p>
<p begin="08:12:35.638" end="08:12:39.798" style="s2">table and I&#39;ll just change this to 21</p>
<p begin="08:12:38.200" end="08:12:43.440" style="s2">and then it should</p>
<p begin="08:12:39.798" end="08:12:45.398" style="s2">work great now let&#39;s quickly check out</p>
<p begin="08:12:43.440" end="08:12:47.680" style="s2">the on delete functionality just to make</p>
<p begin="08:12:45.398" end="08:12:50.040" style="s2">sure that it works uh and what we&#39;re</p>
<p begin="08:12:47.680" end="08:12:51.600" style="s2">going to do is let&#39;s go to well I&#39;ll</p>
<p begin="08:12:50.040" end="08:12:54.958" style="s2">just run the query right</p>
<p begin="08:12:51.600" end="08:12:58.478" style="s2">here so we&#39;ll do delete from and we&#39;ll</p>
<p begin="08:12:54.958" end="08:12:59.920" style="s2">say users where ID equals and we&#39;re</p>
<p begin="08:12:58.478" end="08:13:02.600" style="s2">going to delete the user with an ID of</p>
<p begin="08:12:59.920" end="08:13:04.360" style="s2">20 so if everything works we should see</p>
<p begin="08:13:02.600" end="08:13:06.638" style="s2">just this entry also get deleted in the</p>
<p begin="08:13:04.360" end="08:13:08.680" style="s2">post table because the owner is has an</p>
<p begin="08:13:06.638" end="08:13:10.200" style="s2">ID of 20 and since that owner is going</p>
<p begin="08:13:08.680" end="08:13:12.440" style="s2">to be deleted then we should only have</p>
<p begin="08:13:10.200" end="08:13:13.840" style="s2">this one left so if I run this yep we</p>
<p begin="08:13:12.440" end="08:13:15.280" style="s2">can see that the one with the owner ID</p>
<p begin="08:13:13.840" end="08:13:17.318" style="s2">of 20 is now</p>
<p begin="08:13:15.280" end="08:13:19.040" style="s2">deleted all right and so that kind of</p>
<p begin="08:13:17.318" end="08:13:21.360" style="s2">handles all of the database side of</p>
<p begin="08:13:19.040" end="08:13:22.440" style="s2">things at this point if you try to test</p>
<p begin="08:13:21.360" end="08:13:23.878" style="s2">the rest of your application you&#39;re</p>
<p begin="08:13:22.440" end="08:13:26.160" style="s2">going to probably run into a couple of</p>
<p begin="08:13:23.878" end="08:13:28.000" style="s2">issues um but that&#39;s just because you</p>
<p begin="08:13:26.160" end="08:13:29.840" style="s2">know we&#39; had hard coded our schema to</p>
<p begin="08:13:28.000" end="08:13:31.318" style="s2">match a certain you know number of</p>
<p begin="08:13:29.840" end="08:13:33.920" style="s2">properties and so since we&#39;ve added this</p>
<p begin="08:13:31.318" end="08:13:35.280" style="s2">new property to our posts it&#39;s going to</p>
<p begin="08:13:33.920" end="08:13:36.760" style="s2">throw a few errors so we&#39;re going to</p>
<p begin="08:13:35.280" end="08:13:38.798" style="s2">have to update a few things in the next</p>
<p begin="08:13:36.760" end="08:13:41.478" style="s2">video but you&#39;ll see that updating your</p>
<p begin="08:13:38.798" end="08:13:43.638" style="s2">schema is very simple With The Changes</p>
<p begin="08:13:41.478" end="08:13:45.558" style="s2">we made in the last lecture it&#39;s never</p>
<p begin="08:13:43.638" end="08:13:47.000" style="s2">really going to cause some issues with</p>
<p begin="08:13:45.558" end="08:13:49.080" style="s2">our application so there&#39;s going to be a</p>
<p begin="08:13:47.000" end="08:13:51.080" style="s2">few things that we have to update within</p>
<p begin="08:13:49.080" end="08:13:52.478" style="s2">our app and so let&#39;s just quickly run</p>
<p begin="08:13:51.080" end="08:13:53.878" style="s2">through a couple of our requests just to</p>
<p begin="08:13:52.478" end="08:13:55.680" style="s2">see what they look like see what changes</p>
<p begin="08:13:53.878" end="08:13:58.840" style="s2">we need to make and so if you haven&#39;t</p>
<p begin="08:13:55.680" end="08:14:00.080" style="s2">already done so uh log in a user and so</p>
<p begin="08:13:58.840" end="08:14:02.040" style="s2">once we&#39;re logged in we should update</p>
<p begin="08:14:00.080" end="08:14:04.478" style="s2">the variable and now we can retrieve our</p>
<p begin="08:14:02.040" end="08:14:06.000" style="s2">posts so if I hit send here you can see</p>
<p begin="08:14:04.478" end="08:14:08.000" style="s2">that we retrieve all of the posts in our</p>
<p begin="08:14:06.000" end="08:14:10.160" style="s2">application I just have one in this case</p>
<p begin="08:14:08.000" end="08:14:12.558" style="s2">but the first issue that I see is that</p>
<p begin="08:14:10.160" end="08:14:14.718" style="s2">we&#39;re not returning the owner ID right</p>
<p begin="08:14:12.558" end="08:14:16.200" style="s2">this is a brand new column and I would</p>
<p begin="08:14:14.718" end="08:14:18.200" style="s2">expect this information to get sent out</p>
<p begin="08:14:16.200" end="08:14:20.478" style="s2">to the user and the reason why it&#39;s not</p>
<p begin="08:14:18.200" end="08:14:22.000" style="s2">included in here is that uh we have to</p>
<p begin="08:14:20.478" end="08:14:23.318" style="s2">actually update our schema cuz our</p>
<p begin="08:14:22.000" end="08:14:25.398" style="s2">schema probably doesn&#39;t have that owner</p>
<p begin="08:14:23.318" end="08:14:26.478" style="s2">ID cuz we never added that in and you</p>
<p begin="08:14:25.398" end="08:14:27.760" style="s2">might be thinking well do we actually</p>
<p begin="08:14:26.478" end="08:14:29.958" style="s2">need to send it yeah I think it makes</p>
<p begin="08:14:27.760" end="08:14:31.638" style="s2">sense for us to send it because in any</p>
<p begin="08:14:29.958" end="08:14:32.920" style="s2">application the user should know who</p>
<p begin="08:14:31.638" end="08:14:35.040" style="s2">creates a post so ultimately they&#39;re</p>
<p begin="08:14:32.920" end="08:14:37.120" style="s2">going to have to uh get that information</p>
<p begin="08:14:35.040" end="08:14:40.040" style="s2">and so we should provide the owner</p>
<p begin="08:14:37.120" end="08:14:43.360" style="s2">ID so let&#39;s go to our code and if you</p>
<p begin="08:14:40.040" end="08:14:46.840" style="s2">actually go to the posts uh router and</p>
<p begin="08:14:43.360" end="08:14:48.360" style="s2">take a look at the uh get all posts</p>
<p begin="08:14:46.840" end="08:14:50.718" style="s2">you&#39;ll see that the response model is</p>
<p begin="08:14:48.360" end="08:14:52.318" style="s2">going to reference schemas dopost so</p>
<p begin="08:14:50.718" end="08:14:54.318" style="s2">let&#39;s go to schemas</p>
<p begin="08:14:52.318" end="08:14:57.160" style="s2">dopost and you can see that this is what</p>
<p begin="08:14:54.318" end="08:14:58.160" style="s2">we&#39;re using to return um this is the</p>
<p begin="08:14:57.160" end="08:15:00.840" style="s2">schema that we&#39;re going to use for</p>
<p begin="08:14:58.160" end="08:15:02.798" style="s2">returning post to a user and so this</p>
<p begin="08:15:00.840" end="08:15:06.040" style="s2">actually inherits from postbase so</p>
<p begin="08:15:02.798" end="08:15:08.080" style="s2">postbase has title content published and</p>
<p begin="08:15:06.040" end="08:15:09.558" style="s2">then we extend that and we&#39;re going to</p>
<p begin="08:15:08.080" end="08:15:11.558" style="s2">add the ID which gets created at the</p>
<p begin="08:15:09.558" end="08:15:13.360" style="s2">database level as well as the date and</p>
<p begin="08:15:11.558" end="08:15:15.040" style="s2">time or the created at field which gets</p>
<p begin="08:15:13.360" end="08:15:17.478" style="s2">added by the</p>
<p begin="08:15:15.040" end="08:15:19.440" style="s2">database so we can add it</p>
<p begin="08:15:17.478" end="08:15:21.080" style="s2">here however I&#39;m sure you&#39;re thinking</p>
<p begin="08:15:19.440" end="08:15:23.040" style="s2">well could we add it at post base should</p>
<p begin="08:15:21.080" end="08:15:25.558" style="s2">we add a post create well let&#39;s think</p>
<p begin="08:15:23.040" end="08:15:27.638" style="s2">about this right the the first thing</p>
<p begin="08:15:25.558" end="08:15:30.398" style="s2">that we have to think about is when we</p>
<p begin="08:15:27.638" end="08:15:31.478" style="s2">create a post should we be passing in a</p>
<p begin="08:15:30.398" end="08:15:36.000" style="s2">owner</p>
<p begin="08:15:31.478" end="08:15:37.600" style="s2">ID well that we 100% absolutely could do</p>
<p begin="08:15:36.000" end="08:15:39.478" style="s2">that uh and that actually does kind of</p>
<p begin="08:15:37.600" end="08:15:42.280" style="s2">make sense so in that case if we did</p>
<p begin="08:15:39.478" end="08:15:44.040" style="s2">want it to be available or require it</p>
<p begin="08:15:42.280" end="08:15:48.120" style="s2">for creating a post then we would add it</p>
<p begin="08:15:44.040" end="08:15:49.680" style="s2">under post create here as well or we</p>
<p begin="08:15:48.120" end="08:15:51.798" style="s2">could just add it under post Bas so that</p>
<p begin="08:15:49.680" end="08:15:53.160" style="s2">both of them inherit it however what</p>
<p begin="08:15:51.798" end="08:15:55.160" style="s2">we&#39;re going to do is we&#39;re actually not</p>
<p begin="08:15:53.160" end="08:15:57.318" style="s2">going to require the user to provide the</p>
<p begin="08:15:55.160" end="08:15:59.280" style="s2">owner ID uh instead what we&#39;re actually</p>
<p begin="08:15:57.318" end="08:16:01.360" style="s2">going to do is we&#39;re going to let the</p>
<p begin="08:15:59.280" end="08:16:05.238" style="s2">the logic of our route to actually just</p>
<p begin="08:16:01.360" end="08:16:06.760" style="s2">grab the ID from the token and then use</p>
<p begin="08:16:05.238" end="08:16:08.718" style="s2">that as the field so we don&#39;t actually</p>
<p begin="08:16:06.760" end="08:16:10.000" style="s2">need the user to pass that into the body</p>
<p begin="08:16:08.718" end="08:16:11.398" style="s2">so we&#39;re not going to we&#39;re not going to</p>
<p begin="08:16:10.000" end="08:16:12.478" style="s2">use that field or apply that field to</p>
<p begin="08:16:11.398" end="08:16:14.680" style="s2">either one of these classes we&#39;re just</p>
<p begin="08:16:12.478" end="08:16:16.280" style="s2">going to do it for the Post class which</p>
<p begin="08:16:14.680" end="08:16:18.318" style="s2">is the one that&#39;s responsible for</p>
<p begin="08:16:16.280" end="08:16:21.280" style="s2">sending the post</p>
<p begin="08:16:18.318" end="08:16:23.280" style="s2">out so I&#39;ll add a column here and we&#39;ll</p>
<p begin="08:16:21.280" end="08:16:27.238" style="s2">call it owner ID and I&#39;m going to say</p>
<p begin="08:16:23.280" end="08:16:27.238" style="s2">that this is going to be a type of int</p>
<p begin="08:16:28.360" end="08:16:32.200" style="s2">all right let&#39;s save that and let&#39;s see</p>
<p begin="08:16:30.318" end="08:16:34.558" style="s2">if that makes a difference so let&#39;s hit</p>
<p begin="08:16:32.200" end="08:16:36.920" style="s2">send and so now we can see that we get</p>
<p begin="08:16:34.558" end="08:16:38.280" style="s2">the owner ID and that&#39;s really all the</p>
<p begin="08:16:36.920" end="08:16:40.478" style="s2">changes we have to make so if we</p>
<p begin="08:16:38.280" end="08:16:42.120" style="s2">actually go to get one post and we look</p>
<p begin="08:16:40.478" end="08:16:45.238" style="s2">at our code here and if you look at the</p>
<p begin="08:16:42.120" end="08:16:46.798" style="s2">post. py for getting an individual post</p>
<p begin="08:16:45.238" end="08:16:49.318" style="s2">you can see that we&#39;re returning the</p>
<p begin="08:16:46.798" end="08:16:51.840" style="s2">same exact model and if we take a look</p>
<p begin="08:16:49.318" end="08:16:53.520" style="s2">at uh creating a post we return the same</p>
<p begin="08:16:51.840" end="08:16:56.120" style="s2">model so all of those will be updated</p>
<p begin="08:16:53.520" end="08:16:58.200" style="s2">accordingly and same thing with the</p>
<p begin="08:16:56.120" end="08:17:00.120" style="s2">update post the update post also uses</p>
<p begin="08:16:58.200" end="08:17:01.718" style="s2">schema. post so since we&#39;re using the</p>
<p begin="08:17:00.120" end="08:17:03.520" style="s2">same schema for all of them we don&#39;t</p>
<p begin="08:17:01.718" end="08:17:07.160" style="s2">have to do anything else and we can just</p>
<p begin="08:17:03.520" end="08:17:07.160" style="s2">quickly test that out so I&#39;ll do get one</p>
<p begin="08:17:08.478" end="08:17:12.878" style="s2">post and I realized we have to actually</p>
<p begin="08:17:10.760" end="08:17:16.280" style="s2">get what was the id id is four so we&#39;re</p>
<p begin="08:17:12.878" end="08:17:17.520" style="s2">going to update this to be an ID of four</p>
<p begin="08:17:16.280" end="08:17:20.760" style="s2">you can see that we now have the owner</p>
<p begin="08:17:17.520" end="08:17:20.760" style="s2">ID there if we update</p>
<p begin="08:17:21.280" end="08:17:25.718" style="s2">it right we can once again get the owner</p>
<p begin="08:17:23.718" end="08:17:27.520" style="s2">ID and at that point it looks like</p>
<p begin="08:17:25.718" end="08:17:30.360" style="s2">everything else is good</p>
<p begin="08:17:27.520" end="08:17:33.558" style="s2">however if we go to create posts real</p>
<p begin="08:17:30.360" end="08:17:36.398" style="s2">quick and we create a</p>
<p begin="08:17:33.558" end="08:17:38.558" style="s2">post right we get a crash actually so</p>
<p begin="08:17:36.398" end="08:17:40.200" style="s2">there is an issue with creating a post</p>
<p begin="08:17:38.558" end="08:17:42.238" style="s2">and I&#39;m sure you guys can guess exactly</p>
<p begin="08:17:40.200" end="08:17:43.920" style="s2">what it is take a look at the error when</p>
<p begin="08:17:42.238" end="08:17:47.360" style="s2">we try to create a</p>
<p begin="08:17:43.920" end="08:17:49.360" style="s2">post right it&#39;s saying uh there&#39;s some</p>
<p begin="08:17:47.360" end="08:17:51.680" style="s2">kind of SQL error and it says there&#39;s a</p>
<p begin="08:17:49.360" end="08:17:52.600" style="s2">null value in column owner ID and that</p>
<p begin="08:17:51.680" end="08:17:54.600" style="s2">makes</p>
<p begin="08:17:52.600" end="08:17:56.160" style="s2">sense and that makes sense so we&#39;ll</p>
<p begin="08:17:54.600" end="08:17:57.040" style="s2">actually tackle this in the next video</p>
<p begin="08:17:56.160" end="08:17:58.160" style="s2">and you&#39;ll see that it&#39;s going to be</p>
<p begin="08:17:57.040" end="08:18:00.798" style="s2">pretty straightforward to actually get</p>
<p begin="08:17:58.160" end="08:18:02.600" style="s2">that resolved so in the last video we</p>
<p begin="08:18:00.798" end="08:18:04.478" style="s2">learned that uh the create post</p>
<p begin="08:18:02.600" end="08:18:06.238" style="s2">functionality is broken now cuz if I try</p>
<p begin="08:18:04.478" end="08:18:09.520" style="s2">to create a post you can see that it</p>
<p begin="08:18:06.238" end="08:18:11.238" style="s2">sends back an uh a 500 status code and</p>
<p begin="08:18:09.520" end="08:18:13.120" style="s2">if we take a look at the logs we can see</p>
<p begin="08:18:11.238" end="08:18:15.360" style="s2">that uh it looks like there&#39;s some issue</p>
<p begin="08:18:13.120" end="08:18:18.120" style="s2">with the SQL and it&#39;s saying that the</p>
<p begin="08:18:15.360" end="08:18:20.680" style="s2">null value in column owner ID violates</p>
<p begin="08:18:18.120" end="08:18:22.798" style="s2">the not null constraint and so looking</p>
<p begin="08:18:20.680" end="08:18:26.000" style="s2">at our model we obviously set the owner</p>
<p begin="08:18:22.798" end="08:18:27.440" style="s2">ID right here and this is set to be</p>
<p begin="08:18:26.000" end="08:18:31.520" style="s2">nullable false so we actually have to</p>
<p begin="08:18:27.440" end="08:18:33.958" style="s2">provide who the owner ID is for this new</p>
<p begin="08:18:31.520" end="08:18:37.718" style="s2">post so how do we do that well let&#39;s go</p>
<p begin="08:18:33.958" end="08:18:41.398" style="s2">to our post path operation and let&#39;s go</p>
<p begin="08:18:37.718" end="08:18:43.440" style="s2">to the create post path operation and so</p>
<p begin="08:18:41.398" end="08:18:46.920" style="s2">it&#39;s right here and so nowhere in this</p>
<p begin="08:18:43.440" end="08:18:49.398" style="s2">code are we actually providing a user ID</p>
<p begin="08:18:46.920" end="08:18:51.760" style="s2">or owner ID into this new new post that</p>
<p begin="08:18:49.398" end="08:18:54.318" style="s2">we&#39;re creating we&#39;re just grabbing the</p>
<p begin="08:18:51.760" end="08:18:55.920" style="s2">post which comes from post create the</p>
<p begin="08:18:54.318" end="08:18:58.638" style="s2">schema and if we look at that schema you</p>
<p begin="08:18:55.920" end="08:19:01.040" style="s2">can see that we do do not provide a</p>
<p begin="08:18:58.638" end="08:19:03.080" style="s2">owner ID and like I said we&#39;re not going</p>
<p begin="08:19:01.040" end="08:19:05.238" style="s2">to actually pass the owner ID into the</p>
<p begin="08:19:03.080" end="08:19:06.840" style="s2">in the body what we&#39;re going to do is</p>
<p begin="08:19:05.238" end="08:19:08.760" style="s2">whoever is logged in and creating the</p>
<p begin="08:19:06.840" end="08:19:10.080" style="s2">post should automatically be the owner</p>
<p begin="08:19:08.760" end="08:19:12.120" style="s2">right if you&#39;re logged into Twitter and</p>
<p begin="08:19:10.080" end="08:19:13.760" style="s2">you post something Twitter knows that</p>
<p begin="08:19:12.120" end="08:19:15.040" style="s2">you&#39;re the one creating the post so</p>
<p begin="08:19:13.760" end="08:19:15.958" style="s2">whatever ID is associated with your</p>
<p begin="08:19:15.040" end="08:19:17.600" style="s2">account it&#39;s going to set that</p>
<p begin="08:19:15.958" end="08:19:19.360" style="s2">automatically so we shouldn&#39;t have to</p>
<p begin="08:19:17.600" end="08:19:21.600" style="s2">pass that in the body we should</p>
<p begin="08:19:19.360" end="08:19:23.638" style="s2">automatically retrieve it from uh your</p>
<p begin="08:19:21.600" end="08:19:26.718" style="s2">authentication</p>
<p begin="08:19:23.638" end="08:19:29.000" style="s2">status So within post right you can see</p>
<p begin="08:19:26.718" end="08:19:31.600" style="s2">that we have the current user and so we</p>
<p begin="08:19:29.000" end="08:19:34.638" style="s2">should be able to um get the current</p>
<p begin="08:19:31.600" end="08:19:38.398" style="s2">user uh or the user&#39;s ID so if I do</p>
<p begin="08:19:34.638" end="08:19:40.878" style="s2">current user.</p>
<p begin="08:19:38.398" end="08:19:43.478" style="s2">ID and we can remove this I don&#39;t need</p>
<p begin="08:19:40.878" end="08:19:44.680" style="s2">the email and if I try to create a post</p>
<p begin="08:19:43.478" end="08:19:46.000" style="s2">it&#39;s still going to error out that&#39;s</p>
<p begin="08:19:44.680" end="08:19:48.520" style="s2">okay I just want to see what it prints</p>
<p begin="08:19:46.000" end="08:19:51.478" style="s2">out though before the error and you can</p>
<p begin="08:19:48.520" end="08:19:53.680" style="s2">see we got a lot of Errors that&#39;s</p>
<p begin="08:19:51.478" end="08:19:56.718" style="s2">okay and you can see that it printed out</p>
<p begin="08:19:53.680" end="08:19:58.120" style="s2">the ID of my user which is 23 and just</p>
<p begin="08:19:56.718" end="08:20:01.238" style="s2">to double check that that&#39;s actually my</p>
<p begin="08:19:58.120" end="08:20:03.280" style="s2">user I&#39;m going to select star from users</p>
<p begin="08:20:01.238" end="08:20:05.638" style="s2">and you can see that 23 is sanjie at</p>
<p begin="08:20:03.280" end="08:20:09.080" style="s2">gmail so we can just take that and just</p>
<p begin="08:20:05.638" end="08:20:11.080" style="s2">add that into the new post</p>
<p begin="08:20:09.080" end="08:20:12.398" style="s2">object and so we&#39;re creating the new</p>
<p begin="08:20:11.080" end="08:20:14.238" style="s2">post right here where we reference</p>
<p begin="08:20:12.398" end="08:20:16.878" style="s2">models that post and what we&#39;re doing is</p>
<p begin="08:20:14.238" end="08:20:19.080" style="s2">we&#39;re just spreading whoops we&#39;re just</p>
<p begin="08:20:16.878" end="08:20:21.478" style="s2">spreading out the uh schema that we got</p>
<p begin="08:20:19.080" end="08:20:23.520" style="s2">from the body and so to actually add the</p>
<p begin="08:20:21.478" end="08:20:27.398" style="s2">ID property it&#39;s very easy all we have</p>
<p begin="08:20:23.520" end="08:20:32.200" style="s2">to do is just say owner</p>
<p begin="08:20:27.398" end="08:20:35.120" style="s2">_ ID is going to be set to current user.</p>
<p begin="08:20:32.200" end="08:20:36.760" style="s2">ID so we&#39;re just grabbing um that from</p>
<p begin="08:20:35.120" end="08:20:38.160" style="s2">the get current user function just like</p>
<p begin="08:20:36.760" end="08:20:40.200" style="s2">we did right</p>
<p begin="08:20:38.160" end="08:20:41.478" style="s2">here and I think we probably need a</p>
<p begin="08:20:40.200" end="08:20:43.318" style="s2">comma</p>
<p begin="08:20:41.478" end="08:20:45.280" style="s2">there and that should be all that we</p>
<p begin="08:20:43.318" end="08:20:47.478" style="s2">have to do so let&#39;s I&#39;m going to remove</p>
<p begin="08:20:45.280" end="08:20:47.478" style="s2">this</p>
<p begin="08:20:50.080" end="08:20:54.000" style="s2">code and let&#39;s test this out now so if I</p>
<p begin="08:20:52.920" end="08:20:57.040" style="s2">do create</p>
<p begin="08:20:54.000" end="08:20:58.718" style="s2">post look at that no errors you can see</p>
<p begin="08:20:57.040" end="08:21:02.080" style="s2">that the owner ID was automatically set</p>
<p begin="08:20:58.718" end="08:21:05.238" style="s2">to the ID of my user which is</p>
<p begin="08:21:02.080" end="08:21:07.080" style="s2">23 currently in our application we do</p>
<p begin="08:21:05.238" end="08:21:09.398" style="s2">have authentication set up for delete</p>
<p begin="08:21:07.080" end="08:21:11.760" style="s2">post and update post however there&#39;s no</p>
<p begin="08:21:09.398" end="08:21:13.878" style="s2">check to make sure that a user is only</p>
<p begin="08:21:11.760" end="08:21:15.478" style="s2">deleting his own posts right now if</p>
<p begin="08:21:13.878" end="08:21:17.760" style="s2">you&#39;re logged in you can delete anyone&#39;s</p>
<p begin="08:21:15.478" end="08:21:18.798" style="s2">posts and no application works like that</p>
<p begin="08:21:17.760" end="08:21:20.238" style="s2">you should only be able to delete your</p>
<p begin="08:21:18.798" end="08:21:21.718" style="s2">own post no user should be able to come</p>
<p begin="08:21:20.238" end="08:21:23.680" style="s2">in and delete one of my posts that</p>
<p begin="08:21:21.718" end="08:21:25.718" style="s2">doesn&#39;t make sense so let&#39;s implement</p>
<p begin="08:21:23.680" end="08:21:28.280" style="s2">the logic for setting up a quick little</p>
<p begin="08:21:25.718" end="08:21:29.798" style="s2">just if state just to check hey is the</p>
<p begin="08:21:28.280" end="08:21:31.840" style="s2">person that&#39;s logged in trying to delete</p>
<p begin="08:21:29.798" end="08:21:33.718" style="s2">a post that he owns if he doesn&#39;t then</p>
<p begin="08:21:31.840" end="08:21:34.920" style="s2">we&#39;re going to return an error and so</p>
<p begin="08:21:33.718" end="08:21:37.080" style="s2">right now if you take a look at our</p>
<p begin="08:21:34.920" end="08:21:38.478" style="s2">delete post path operation function uh</p>
<p begin="08:21:37.080" end="08:21:40.638" style="s2">we query the post that he&#39;s trying to</p>
<p begin="08:21:38.478" end="08:21:42.440" style="s2">delete and we check to see if there&#39;s no</p>
<p begin="08:21:40.638" end="08:21:44.920" style="s2">post if there&#39;s no post then we send a</p>
<p begin="08:21:42.440" end="08:21:46.558" style="s2">404 that&#39;s expected um but if we did</p>
<p begin="08:21:44.920" end="08:21:48.200" style="s2">find a post the next check is just going</p>
<p begin="08:21:46.558" end="08:21:49.600" style="s2">to be another simple if statement and</p>
<p begin="08:21:48.200" end="08:21:53.318" style="s2">we&#39;re going to say</p>
<p begin="08:21:49.600" end="08:21:58.520" style="s2">if post.</p>
<p begin="08:21:53.318" end="08:21:58.520" style="s2">owner ID does not equal</p>
<p begin="08:21:59.478" end="08:22:02.160" style="s2">get current</p>
<p begin="08:22:02.200" end="08:22:07.558" style="s2">user. ID so these two things have to</p>
<p begin="08:22:06.200" end="08:22:09.200" style="s2">match for the user to be able to delete</p>
<p begin="08:22:07.558" end="08:22:11.160" style="s2">it if they don&#39;t match then we&#39;re going</p>
<p begin="08:22:09.200" end="08:22:14.000" style="s2">to send another uh HTTP exception so</p>
<p begin="08:22:11.160" end="08:22:17.120" style="s2">we&#39;ll say raise HTTP exception now the</p>
<p begin="08:22:14.000" end="08:22:19.760" style="s2">exception will set the status code to be</p>
<p begin="08:22:17.120" end="08:22:22.638" style="s2">a new one so this one&#39;s going to be a</p>
<p begin="08:22:19.760" end="08:22:24.280" style="s2">403 so this means forbidden that&#39;s a</p>
<p begin="08:22:22.638" end="08:22:26.680" style="s2">that means it&#39;s a resource that they</p>
<p begin="08:22:24.280" end="08:22:28.920" style="s2">specifically aren&#39;t uh able to access</p>
<p begin="08:22:26.680" end="08:22:31.120" style="s2">because on we could send a 401 but they</p>
<p begin="08:22:28.920" end="08:22:32.600" style="s2">are I guess a 401 could also work but</p>
<p begin="08:22:31.120" end="08:22:36.638" style="s2">I&#39;m going to do 403 I think that makes</p>
<p begin="08:22:32.600" end="08:22:36.638" style="s2">more sense and then we can set the</p>
<p begin="08:22:37.120" end="08:22:42.840" style="s2">detail and I&#39;m just going to</p>
<p begin="08:22:39.840" end="08:22:47.600" style="s2">say not</p>
<p begin="08:22:42.840" end="08:22:50.478" style="s2">authorized to perform requested</p>
<p begin="08:22:47.600" end="08:22:52.398" style="s2">action and this exact same check can be</p>
<p begin="08:22:50.478" end="08:22:55.160" style="s2">used for updating posts as well because</p>
<p begin="08:22:52.398" end="08:22:57.000" style="s2">it&#39;s the same exact logic and I&#39;ll just</p>
<p begin="08:22:55.160" end="08:22:59.000" style="s2">do that right here</p>
<p begin="08:22:57.000" end="08:22:59.840" style="s2">right under the same check so same logic</p>
<p begin="08:22:59.000" end="08:23:01.000" style="s2">right first thing we&#39;re going to do is</p>
<p begin="08:22:59.840" end="08:23:02.318" style="s2">we&#39;re going to check to see if that post</p>
<p begin="08:23:01.000" end="08:23:03.120" style="s2">exists and then the next thing we&#39;re</p>
<p begin="08:23:02.318" end="08:23:04.600" style="s2">going to do is we&#39;re going to make sure</p>
<p begin="08:23:03.120" end="08:23:07.558" style="s2">that the</p>
<p begin="08:23:04.600" end="08:23:10.440" style="s2">owner of the post is whoever the user is</p>
<p begin="08:23:07.558" end="08:23:13.638" style="s2">logged in as now let&#39;s test this out so</p>
<p begin="08:23:10.440" end="08:23:15.600" style="s2">right now if I do a get posts uh you can</p>
<p begin="08:23:13.638" end="08:23:18.360" style="s2">see that the owner Okay so we&#39;ve got a</p>
<p begin="08:23:15.600" end="08:23:20.558" style="s2">post created by both owners and I&#39;m</p>
<p begin="08:23:18.360" end="08:23:23.200" style="s2">currently logged in as um I actually</p>
<p begin="08:23:20.558" end="08:23:25.600" style="s2">can&#39;t remember who I&#39;m logged in as but</p>
<p begin="08:23:23.200" end="08:23:27.520" style="s2">we can see that I used sanjie at Gmail</p>
<p begin="08:23:25.600" end="08:23:30.000" style="s2">and that&#39;s going to be user</p>
<p begin="08:23:27.520" end="08:23:31.718" style="s2">23 and what I&#39;m going to do is go back</p>
<p begin="08:23:30.000" end="08:23:34.040" style="s2">to get posts and I&#39;m going to try to</p>
<p begin="08:23:31.718" end="08:23:36.040" style="s2">delete the post with an ID of four</p>
<p begin="08:23:34.040" end="08:23:37.680" style="s2">because that&#39;s the owner ID of 21 and</p>
<p begin="08:23:36.040" end="08:23:39.120" style="s2">keep in mind right now I&#39;m logged in as</p>
<p begin="08:23:37.680" end="08:23:41.718" style="s2">user</p>
<p begin="08:23:39.120" end="08:23:43.040" style="s2">23 so let&#39;s try this we&#39;re going to</p>
<p begin="08:23:41.718" end="08:23:45.478" style="s2">delete</p>
<p begin="08:23:43.040" end="08:23:47.120" style="s2">post with an idea four okay it&#39;s already</p>
<p begin="08:23:45.478" end="08:23:48.200" style="s2">set there so we should get an error in</p>
<p begin="08:23:47.120" end="08:23:51.280" style="s2">this</p>
<p begin="08:23:48.200" end="08:23:53.958" style="s2">case and it looks like I got a server</p>
<p begin="08:23:51.280" end="08:23:54.638" style="s2">error that&#39;s a problem and I already see</p>
<p begin="08:23:53.958" end="08:23:57.600" style="s2">the</p>
<p begin="08:23:54.638" end="08:23:59.558" style="s2">issue and right now post is actually not</p>
<p begin="08:23:57.600" end="08:24:01.638" style="s2">the post itself it&#39;s the</p>
<p begin="08:23:59.558" end="08:24:03.520" style="s2">query and to actually get a post I have</p>
<p begin="08:24:01.638" end="08:24:07.040" style="s2">to do post. first one so what I&#39;m going</p>
<p begin="08:24:03.520" end="08:24:10.200" style="s2">to do actually is I could change this to</p>
<p begin="08:24:07.040" end="08:24:12.360" style="s2">uh post. first and then grab the owner</p>
<p begin="08:24:10.200" end="08:24:15.360" style="s2">ID but I&#39;m going to actually perform the</p>
<p begin="08:24:12.360" end="08:24:15.360" style="s2">query right here I&#39;ll say</p>
<p begin="08:24:16.360" end="08:24:21.638" style="s2">post I&#39;ll change this to postore query</p>
<p begin="08:24:19.440" end="08:24:23.520" style="s2">I&#39;m going to make a few changes actually</p>
<p begin="08:24:21.638" end="08:24:27.760" style="s2">and I&#39;m going to set this to be post</p>
<p begin="08:24:23.520" end="08:24:30.958" style="s2">equals postore query. first</p>
<p begin="08:24:27.760" end="08:24:30.958" style="s2">and then I&#39;m going to set this to be</p>
<p begin="08:24:31.798" end="08:24:35.958" style="s2">post and this is going to be set to</p>
<p begin="08:24:36.958" end="08:24:41.040" style="s2">query all right and just to kind of</p>
<p begin="08:24:38.760" end="08:24:43.200" style="s2">quickly recap uh we Define the query</p>
<p begin="08:24:41.040" end="08:24:45.478" style="s2">here we&#39;ll then find this post we&#39;ll</p>
<p begin="08:24:43.200" end="08:24:49.040" style="s2">check to see if it&#39;s not there and then</p>
<p begin="08:24:45.478" end="08:24:50.638" style="s2">we&#39;ll check to see if the owner is uh if</p>
<p begin="08:24:49.040" end="08:24:52.160" style="s2">the user who&#39;s logged in actually owns</p>
<p begin="08:24:50.638" end="08:24:53.920" style="s2">this post and then we&#39;re going to grab</p>
<p begin="08:24:52.160" end="08:24:55.638" style="s2">the original query and then we&#39;re just</p>
<p begin="08:24:53.920" end="08:24:58.680" style="s2">going to append a delete so that we</p>
<p begin="08:24:55.638" end="08:25:00.040" style="s2">delete it that&#39;s all and let&#39;s just make</p>
<p begin="08:24:58.680" end="08:25:01.238" style="s2">sure the update is set up the same way</p>
<p begin="08:25:00.040" end="08:25:03.318" style="s2">and it looks like the update one was</p>
<p begin="08:25:01.238" end="08:25:05.878" style="s2">already working that way so it should be</p>
<p begin="08:25:03.318" end="08:25:07.760" style="s2">good to go now hopefully there&#39;s no</p>
<p begin="08:25:05.878" end="08:25:11.000" style="s2">errors and let&#39;s try</p>
<p begin="08:25:07.760" end="08:25:13.478" style="s2">this and once again we got an</p>
<p begin="08:25:11.000" end="08:25:16.440" style="s2">error and it looks like function object</p>
<p begin="08:25:13.478" end="08:25:19.478" style="s2">has no attribute</p>
<p begin="08:25:16.440" end="08:25:21.398" style="s2">ID and I realized my mistake again first</p>
<p begin="08:25:19.478" end="08:25:24.080" style="s2">of all uh this is getting stored as</p>
<p begin="08:25:21.398" end="08:25:28.160" style="s2">current user not get current user so we</p>
<p begin="08:25:24.080" end="08:25:28.160" style="s2">need to change this to be</p>
<p begin="08:25:28.878" end="08:25:33.680" style="s2">current user I&#39;m not sure why I did it</p>
<p begin="08:25:30.680" end="08:25:36.558" style="s2">like that seems pretty goofy and then</p>
<p begin="08:25:33.680" end="08:25:39.160" style="s2">this also should be current</p>
<p begin="08:25:36.558" end="08:25:40.558" style="s2">user right because we&#39;re calling that</p>
<p begin="08:25:39.160" end="08:25:42.558" style="s2">function and we&#39;re storing the result in</p>
<p begin="08:25:40.558" end="08:25:44.280" style="s2">current user so we want to reference the</p>
<p begin="08:25:42.558" end="08:25:46.840" style="s2">variable I&#39;m not sure if that was like</p>
<p begin="08:25:44.280" end="08:25:49.520" style="s2">an autocomplete that did that or I just</p>
<p begin="08:25:46.840" end="08:25:52.798" style="s2">had a brain fart either way hopefully</p>
<p begin="08:25:49.520" end="08:25:55.120" style="s2">it&#39;s the last of our issues so let&#39;s try</p>
<p begin="08:25:52.798" end="08:25:56.600" style="s2">this all right Perfect Look at that not</p>
<p begin="08:25:55.120" end="08:25:58.080" style="s2">authorized to perform that re requested</p>
<p begin="08:25:56.600" end="08:26:00.160" style="s2">action that&#39;s to be expected because we</p>
<p begin="08:25:58.080" end="08:26:02.760" style="s2">don&#39;t own that post however if I do a</p>
<p begin="08:26:00.160" end="08:26:04.318" style="s2">quick search again um I do own the post</p>
<p begin="08:26:02.760" end="08:26:06.000" style="s2">with an ID of8 because we can see the</p>
<p begin="08:26:04.318" end="08:26:08.160" style="s2">owner ID is 23 and that&#39;s who I&#39;m logged</p>
<p begin="08:26:06.000" end="08:26:09.920" style="s2">in as so let&#39;s try to delete post with a</p>
<p begin="08:26:08.160" end="08:26:13.000" style="s2">with the value of</p>
<p begin="08:26:09.920" end="08:26:14.478" style="s2">eight send and we get a 204 so that</p>
<p begin="08:26:13.000" end="08:26:17.000" style="s2">means it&#39;s successfully deleted we&#39;ll do</p>
<p begin="08:26:14.478" end="08:26:19.398" style="s2">get post just to verify and we can see</p>
<p begin="08:26:17.000" end="08:26:22.200" style="s2">that we get those uh just the one post</p>
<p begin="08:26:19.398" end="08:26:23.878" style="s2">now so that seems to be working uh I&#39;m</p>
<p begin="08:26:22.200" end="08:26:25.958" style="s2">going to go back in actually let me</p>
<p begin="08:26:23.878" end="08:26:28.238" style="s2">create a post real quick because I no</p>
<p begin="08:26:25.958" end="08:26:30.520" style="s2">longer have a</p>
<p begin="08:26:28.238" end="08:26:33.360" style="s2">post all right so we have we created a</p>
<p begin="08:26:30.520" end="08:26:35.760" style="s2">new post and so you can see that this is</p>
<p begin="08:26:33.360" end="08:26:37.878" style="s2">my post right here and I&#39;m going to just</p>
<p begin="08:26:35.760" end="08:26:39.958" style="s2">update it so let&#39;s go to the update</p>
<p begin="08:26:37.878" end="08:26:41.478" style="s2">one uh first of all I&#39;m going to try to</p>
<p begin="08:26:39.958" end="08:26:42.718" style="s2">update a post that I don&#39;t own so we&#39;re</p>
<p begin="08:26:41.478" end="08:26:44.798" style="s2">going to try to update the post with an</p>
<p begin="08:26:42.718" end="08:26:47.360" style="s2">ID of four we should get it not</p>
<p begin="08:26:44.798" end="08:26:48.600" style="s2">authorized and then let&#39;s grab the ID of</p>
<p begin="08:26:47.360" end="08:26:52.160" style="s2">the post that we do want to change which</p>
<p begin="08:26:48.600" end="08:26:54.200" style="s2">is nine let&#39;s hit send and it looks like</p>
<p begin="08:26:52.160" end="08:26:58.478" style="s2">it updated but let&#39;s check our database</p>
<p begin="08:26:54.200" end="08:26:58.478" style="s2">always so we&#39;ll say select start from</p>
<p begin="08:26:58.718" end="08:27:02.520" style="s2">Posts and the post with the nine got the</p>
<p begin="08:27:01.080" end="08:27:05.000" style="s2">updated</p>
<p begin="08:27:02.520" end="08:27:09.120" style="s2">entry oh wait wait a minute it looks</p>
<p begin="08:27:05.000" end="08:27:10.440" style="s2">like it may have updated both of them uh</p>
<p begin="08:27:09.120" end="08:27:11.440" style="s2">only one way to find out if that&#39;s</p>
<p begin="08:27:10.440" end="08:27:14.238" style="s2">actually what&#39;s happening I&#39;m just going</p>
<p begin="08:27:11.440" end="08:27:14.238" style="s2">to create a quick new</p>
<p begin="08:27:15.080" end="08:27:21.160" style="s2">post I&#39;m just going to set the ID to be</p>
<p begin="08:27:19.200" end="08:27:23.558" style="s2">23 all right and I&#39;m going to update</p>
<p begin="08:27:21.160" end="08:27:27.398" style="s2">post with nine with an ID of</p>
<p begin="08:27:23.558" end="08:27:29.798" style="s2">nine okay and then let&#39;s refresh</p>
<p begin="08:27:27.398" end="08:27:32.200" style="s2">this okay so post with an ID of 10 is</p>
<p begin="08:27:29.798" end="08:27:33.558" style="s2">still the same so okay it wasn&#39;t a bug</p>
<p begin="08:27:32.200" end="08:27:34.478" style="s2">um it looks like maybe I had changed</p>
<p begin="08:27:33.558" end="08:27:37.120" style="s2">this</p>
<p begin="08:27:34.478" end="08:27:40.000" style="s2">earlier and I&#39;m not exactly sure why I</p>
<p begin="08:27:37.120" end="08:27:42.280" style="s2">had when I updated this post but that&#39;s</p>
<p begin="08:27:40.000" end="08:27:44.798" style="s2">okay and so I think that&#39;s going to wrap</p>
<p begin="08:27:42.280" end="08:27:46.200" style="s2">up this video um we&#39;ve uh handled the</p>
<p begin="08:27:44.798" end="08:27:49.040" style="s2">update and delete so that we can only</p>
<p begin="08:27:46.200" end="08:27:50.558" style="s2">update and delete our own posts all</p>
<p begin="08:27:49.040" end="08:27:52.520" style="s2">right before we proceed any further I do</p>
<p begin="08:27:50.558" end="08:27:54.478" style="s2">want to talk about one last thing and</p>
<p begin="08:27:52.520" end="08:27:56.238" style="s2">that is that when we do get posts which</p>
<p begin="08:27:54.478" end="08:27:57.478" style="s2">is an authenticated route so it requires</p>
<p begin="08:27:56.238" end="08:27:59.878" style="s2">you to be logged in to retrieve the</p>
<p begin="08:27:57.478" end="08:28:02.200" style="s2">posts uh if I try to retrieve the post</p>
<p begin="08:27:59.878" end="08:28:05.680" style="s2">you&#39;ll see I get posts from every user</p>
<p begin="08:28:02.200" end="08:28:07.040" style="s2">now this may or may not be the result</p>
<p begin="08:28:05.680" end="08:28:09.000" style="s2">that you want right it&#39;s going to depend</p>
<p begin="08:28:07.040" end="08:28:10.878" style="s2">on what your application&#39;s going to work</p>
<p begin="08:28:09.000" end="08:28:13.520" style="s2">uh look like uh you know if this is like</p>
<p begin="08:28:10.878" end="08:28:15.600" style="s2">a you know like a note taking app or</p>
<p begin="08:28:13.520" end="08:28:17.280" style="s2">something where all of your posts and</p>
<p begin="08:28:15.600" end="08:28:18.798" style="s2">things like that are all private then</p>
<p begin="08:28:17.280" end="08:28:20.440" style="s2">you wouldn&#39;t want to return everyone</p>
<p begin="08:28:18.798" end="08:28:23.360" style="s2">else&#39;s posts you&#39;d only want to return</p>
<p begin="08:28:20.440" end="08:28:25.160" style="s2">the user the user specific post however</p>
<p begin="08:28:23.360" end="08:28:26.238" style="s2">if this is some kind of social media app</p>
<p begin="08:28:25.160" end="08:28:28.160" style="s2">right then obviously you&#39;re post</p>
<p begin="08:28:26.238" end="08:28:30.878" style="s2">Republic so when you do get post you&#39;d</p>
<p begin="08:28:28.160" end="08:28:32.638" style="s2">want to return everyone&#39;s posts and so</p>
<p begin="08:28:30.878" end="08:28:34.558" style="s2">it really just comes down to how you</p>
<p begin="08:28:32.638" end="08:28:36.318" style="s2">want your app to to function I&#39;m going</p>
<p begin="08:28:34.558" end="08:28:37.798" style="s2">to show you guys what you would need to</p>
<p begin="08:28:36.318" end="08:28:40.160" style="s2">change if you wanted to make it so that</p>
<p begin="08:28:37.798" end="08:28:42.000" style="s2">you returned your only your own posts</p>
<p begin="08:28:40.160" end="08:28:43.080" style="s2">but after afterwards uh we&#39;re going to</p>
<p begin="08:28:42.000" end="08:28:44.558" style="s2">actually delete those changes because I</p>
<p begin="08:28:43.080" end="08:28:45.958" style="s2">want to leave my app like this this is</p>
<p begin="08:28:44.558" end="08:28:47.878" style="s2">kind of how I wanted it to work more</p>
<p begin="08:28:45.958" end="08:28:48.958" style="s2">like a social media app but I do want to</p>
<p begin="08:28:47.878" end="08:28:50.280" style="s2">make sure that you guys understood how</p>
<p begin="08:28:48.958" end="08:28:52.280" style="s2">to make this</p>
<p begin="08:28:50.280" end="08:28:53.680" style="s2">change and the same thing would go for</p>
<p begin="08:28:52.280" end="08:28:56.080" style="s2">get one post we want to make sure that</p>
<p begin="08:28:53.680" end="08:28:58.398" style="s2">only the user that created a post can</p>
<p begin="08:28:56.080" end="08:29:00.398" style="s2">retrieve that specific post and so if we</p>
<p begin="08:28:58.398" end="08:29:02.760" style="s2">go back to our path operation for</p>
<p begin="08:29:00.398" end="08:29:06.000" style="s2">getting all posts you could see that we</p>
<p begin="08:29:02.760" end="08:29:08.080" style="s2">just do a db. query uh doall and so if</p>
<p begin="08:29:06.000" end="08:29:10.200" style="s2">you only want to return the post for a</p>
<p begin="08:29:08.080" end="08:29:12.398" style="s2">specific user that&#39;s logged in it&#39;s very</p>
<p begin="08:29:10.200" end="08:29:15.958" style="s2">simple all we have to do is do a</p>
<p begin="08:29:12.398" end="08:29:19.200" style="s2">filter and here we&#39;ll say models.</p>
<p begin="08:29:15.958" end="08:29:21.238" style="s2">poost doid equals</p>
<p begin="08:29:19.200" end="08:29:23.760" style="s2">equals and then we just get the current</p>
<p begin="08:29:21.238" end="08:29:23.760" style="s2">user</p>
<p begin="08:29:24.798" end="08:29:29.000" style="s2">ID and it looks like I still left this</p>
<p begin="08:29:27.200" end="08:29:31.520" style="s2">as user ID so this should actually be</p>
<p begin="08:29:29.000" end="08:29:34.600" style="s2">updated to be</p>
<p begin="08:29:31.520" end="08:29:36.718" style="s2">current user and if you notice the you</p>
<p begin="08:29:34.600" end="08:29:38.080" style="s2">can see that the type is set to int even</p>
<p begin="08:29:36.718" end="08:29:40.520" style="s2">though it&#39;s actually returning an entire</p>
<p begin="08:29:38.080" end="08:29:41.760" style="s2">user object I found that this whatever</p>
<p begin="08:29:40.520" end="08:29:43.680" style="s2">type you put here doesn&#39;t actually</p>
<p begin="08:29:41.760" end="08:29:45.040" style="s2">impact the code so put whatever you want</p>
<p begin="08:29:43.680" end="08:29:46.280" style="s2">you can put in a you know some sort of</p>
<p begin="08:29:45.040" end="08:29:48.798" style="s2">dictionary that actually correctly</p>
<p begin="08:29:46.280" end="08:29:50.760" style="s2">matches it um but you could just leave</p>
<p begin="08:29:48.798" end="08:29:53.238" style="s2">it as well so I&#39;m just going to leave it</p>
<p begin="08:29:50.760" end="08:29:54.440" style="s2">like that it doesn&#39;t break any logic H</p>
<p begin="08:29:53.238" end="08:29:56.558" style="s2">and then at this</p>
<p begin="08:29:54.440" end="08:29:59.760" style="s2">point I believe I&#39;m still logged in as</p>
<p begin="08:29:56.558" end="08:30:02.080" style="s2">user 23 if I try to retrieve all post uh</p>
<p begin="08:29:59.760" end="08:30:04.120" style="s2">looks like I got</p>
<p begin="08:30:02.080" end="08:30:06.638" style="s2">nothing and that could be a little bit</p>
<p begin="08:30:04.120" end="08:30:07.878" style="s2">of a problem so let&#39;s see what we broke</p>
<p begin="08:30:06.638" end="08:30:09.318" style="s2">and the easiest way to kind of</p>
<p begin="08:30:07.878" end="08:30:10.558" style="s2">troubleshoot this is what I&#39;m going to</p>
<p begin="08:30:09.318" end="08:30:11.478" style="s2">do is I&#39;m actually going to remove the</p>
<p begin="08:30:10.558" end="08:30:14.600" style="s2">dot</p>
<p begin="08:30:11.478" end="08:30:16.000" style="s2">all so that&#39;s going to return the query</p>
<p begin="08:30:14.600" end="08:30:17.040" style="s2">it just won&#39;t actually run the query and</p>
<p begin="08:30:16.000" end="08:30:19.318" style="s2">I&#39;m just going to print the query let&#39;s</p>
<p begin="08:30:17.040" end="08:30:20.958" style="s2">see what that looks like sometimes it</p>
<p begin="08:30:19.318" end="08:30:23.280" style="s2">helps to see the raw</p>
<p begin="08:30:20.958" end="08:30:25.398" style="s2">SQL let&#39;s hit</p>
<p begin="08:30:23.280" end="08:30:27.878" style="s2">send all right we should get an internal</p>
<p begin="08:30:25.398" end="08:30:30.558" style="s2">server a that&#39;s to be expected but I</p>
<p begin="08:30:27.878" end="08:30:33.280" style="s2">just want to see my print</p>
<p begin="08:30:30.558" end="08:30:35.398" style="s2">statement all right so let&#39;s see our our</p>
<p begin="08:30:33.280" end="08:30:37.798" style="s2">print statement so select we&#39;re getting</p>
<p begin="08:30:35.398" end="08:30:41.080" style="s2">all of the columns that&#39;s expected from</p>
<p begin="08:30:37.798" end="08:30:43.840" style="s2">Posts where posts ID</p>
<p begin="08:30:41.080" end="08:30:48.238" style="s2">equals this value so that looks like</p>
<p begin="08:30:43.840" end="08:30:50.360" style="s2">it&#39;s perfect well let&#39;s just quickly see</p>
<p begin="08:30:48.238" end="08:30:52.398" style="s2">um before we move any further uh what</p>
<p begin="08:30:50.360" end="08:30:55.718" style="s2">exactly is my user ID and we&#39;ll just</p>
<p begin="08:30:52.398" end="08:30:55.718" style="s2">check our database</p>
<p begin="08:31:02.360" end="08:31:07.878" style="s2">okay and we&#39;ll run this</p>
<p begin="08:31:04.238" end="08:31:07.878" style="s2">again and then we&#39;re going to</p>
<p begin="08:31:09.280" end="08:31:15.080" style="s2">check right so 23 and then if we go to</p>
<p begin="08:31:12.040" end="08:31:17.318" style="s2">our database and I realized the exact</p>
<p begin="08:31:15.080" end="08:31:19.440" style="s2">mistake that I made and this is a stupid</p>
<p begin="08:31:17.318" end="08:31:24.160" style="s2">mistake right this</p>
<p begin="08:31:19.440" end="08:31:25.958" style="s2">is this is looking for a post with an ID</p>
<p begin="08:31:24.160" end="08:31:27.958" style="s2">with this specific ID we don&#39;t want the</p>
<p begin="08:31:25.958" end="08:31:32.478" style="s2">the ID of the post we want the owner ID</p>
<p begin="08:31:27.958" end="08:31:32.478" style="s2">so we&#39;ll do owner ID equals current user</p>
<p begin="08:31:35.558" end="08:31:40.958" style="s2">ID all right let&#39;s test this out</p>
<p begin="08:31:38.440" end="08:31:44.558" style="s2">now once again an error but I just</p>
<p begin="08:31:40.958" end="08:31:44.558" style="s2">realized I forgot to update this to</p>
<p begin="08:31:46.280" end="08:31:51.718" style="s2">Beall and then we&#39;ll try this again and</p>
<p begin="08:31:49.080" end="08:31:53.478" style="s2">now we get all the post with an ID of 23</p>
<p begin="08:31:51.718" end="08:31:56.520" style="s2">if I log in as a different user let&#39;s</p>
<p begin="08:31:53.478" end="08:31:58.840" style="s2">say uh this is sanjie 1</p>
<p begin="08:31:56.520" end="08:32:00.280" style="s2">I&#39;ll login that should update the token</p>
<p begin="08:31:58.840" end="08:32:02.840" style="s2">so now if I do it get all posts it</p>
<p begin="08:32:00.280" end="08:32:04.760" style="s2">should return all posts with an ID of 21</p>
<p begin="08:32:02.840" end="08:32:05.878" style="s2">and so that&#39;s that&#39;s how that works and</p>
<p begin="08:32:04.760" end="08:32:08.160" style="s2">then if you want to see how that looks</p>
<p begin="08:32:05.878" end="08:32:11.238" style="s2">like for retrieving an individual post</p>
<p begin="08:32:08.160" end="08:32:12.920" style="s2">we&#39;ll go to get _ poost and to actually</p>
<p begin="08:32:11.238" end="08:32:14.798" style="s2">handle this logic it&#39;s going to be the</p>
<p begin="08:32:12.920" end="08:32:18.238" style="s2">same thing as a delete so you can just</p>
<p begin="08:32:14.798" end="08:32:18.238" style="s2">copy what we did for the delete</p>
<p begin="08:32:20.360" end="08:32:26.558" style="s2">one and here I can just say post. owner</p>
<p begin="08:32:33.920" end="08:32:40.318" style="s2">and this should do the same exact</p>
<p begin="08:32:37.120" end="08:32:41.360" style="s2">thing so now if I do get one post well</p>
<p begin="08:32:40.318" end="08:32:42.638" style="s2">first of all let&#39;s take a look at all of</p>
<p begin="08:32:41.360" end="08:32:45.520" style="s2">our</p>
<p begin="08:32:42.638" end="08:32:48.760" style="s2">posts I&#39;m going to do it in our database</p>
<p begin="08:32:45.520" end="08:32:50.718" style="s2">so I&#39;m logged in as user 21 so I should</p>
<p begin="08:32:48.760" end="08:32:52.680" style="s2">be able to access a post with four but I</p>
<p begin="08:32:50.718" end="08:32:56.120" style="s2">can&#39;t access a post with an ID of 10 so</p>
<p begin="08:32:52.680" end="08:32:56.120" style="s2">let&#39;s try 10</p>
<p begin="08:32:56.958" end="08:33:01.160" style="s2">am I able to access him not authorized</p>
<p begin="08:32:59.520" end="08:33:03.600" style="s2">let&#39;s try idea</p>
<p begin="08:33:01.160" end="08:33:05.080" style="s2">4 and I can get that one so that&#39;s how</p>
<p begin="08:33:03.600" end="08:33:06.920" style="s2">that works but like I said I don&#39;t want</p>
<p begin="08:33:05.080" end="08:33:08.520" style="s2">my application to work like that so I&#39;m</p>
<p begin="08:33:06.920" end="08:33:11.840" style="s2">going to remove that functionality I&#39;m</p>
<p begin="08:33:08.520" end="08:33:11.840" style="s2">going to make all posts essentially</p>
<p begin="08:33:12.920" end="08:33:17.040" style="s2">public and then we&#39;re going to remove</p>
<p begin="08:33:14.840" end="08:33:17.040" style="s2">this</p>
<p begin="08:33:18.440" end="08:33:22.040" style="s2">filter and I&#39;ll remove this print</p>
<p begin="08:33:20.520" end="08:33:25.920" style="s2">statement and this print statement just</p>
<p begin="08:33:22.040" end="08:33:25.920" style="s2">to clean things up a bit</p>
<p begin="08:33:26.120" end="08:33:28.638" style="s2">and let&#39;s just double check that we</p>
<p begin="08:33:27.280" end="08:33:31.080" style="s2">didn&#39;t break anything once again so</p>
<p begin="08:33:28.638" end="08:33:33.958" style="s2">let&#39;s get all posts we get all posts and</p>
<p begin="08:33:31.080" end="08:33:37.080" style="s2">let&#39;s get an individual post regardless</p>
<p begin="08:33:33.958" end="08:33:38.200" style="s2">of who owns it and that&#39;s all fine and</p>
<p begin="08:33:37.080" end="08:33:40.680" style="s2">dandy</p>
<p begin="08:33:38.200" end="08:33:42.398" style="s2">now now just kind of thinking ahead of</p>
<p begin="08:33:40.680" end="08:33:43.440" style="s2">what our uh you know front end would</p>
<p begin="08:33:42.398" end="08:33:45.958" style="s2">look like even though we&#39;re not going to</p>
<p begin="08:33:43.440" end="08:33:47.798" style="s2">build it uh taking a look at any social</p>
<p begin="08:33:45.958" end="08:33:49.920" style="s2">media type application you know when we</p>
<p begin="08:33:47.798" end="08:33:52.478" style="s2">retrieve the posts we usually want to</p>
<p begin="08:33:49.920" end="08:33:55.080" style="s2">embed uh the users&#39;s ID so we W want to</p>
<p begin="08:33:52.478" end="08:33:57.120" style="s2">know who actually created the specific</p>
<p begin="08:33:55.080" end="08:33:59.600" style="s2">post we wouldn&#39;t just put the owner ID</p>
<p begin="08:33:57.120" end="08:34:01.120" style="s2">because no no user none of your users</p>
<p begin="08:33:59.600" end="08:34:02.638" style="s2">understand that ID they want to see what</p>
<p begin="08:34:01.120" end="08:34:05.080" style="s2">is your you know Twitter handle what is</p>
<p begin="08:34:02.638" end="08:34:08.238" style="s2">your email whoever created that we want</p>
<p begin="08:34:05.080" end="08:34:09.958" style="s2">to see their user ID so it looks like</p>
<p begin="08:34:08.238" end="08:34:12.558" style="s2">for all of the posts that we retrieve we</p>
<p begin="08:34:09.958" end="08:34:14.600" style="s2">would have to then send a second query</p>
<p begin="08:34:12.558" end="08:34:17.478" style="s2">to retrieve you know hey what is the</p>
<p begin="08:34:14.600" end="08:34:18.840" style="s2">information for user uh with an ID of 23</p>
<p begin="08:34:17.478" end="08:34:20.920" style="s2">and then once we get that we would then</p>
<p begin="08:34:18.840" end="08:34:23.478" style="s2">have to kind of combine all that data so</p>
<p begin="08:34:20.920" end="08:34:25.160" style="s2">that we can figure out what post uh it</p>
<p begin="08:34:23.478" end="08:34:26.360" style="s2">belongs to what user and what is their</p>
<p begin="08:34:25.160" end="08:34:29.160" style="s2">specific</p>
<p begin="08:34:26.360" end="08:34:31.280" style="s2">username now with SQL Alchemy we can</p>
<p begin="08:34:29.160" end="08:34:34.080" style="s2">kind of set</p>
<p begin="08:34:31.280" end="08:34:36.558" style="s2">up set it up so that it automatically</p>
<p begin="08:34:34.080" end="08:34:37.760" style="s2">does this for us and so if we actually</p>
<p begin="08:34:36.558" end="08:34:39.958" style="s2">go to our</p>
<p begin="08:34:37.760" end="08:34:43.080" style="s2">models what I&#39;m going to do is I&#39;m going</p>
<p begin="08:34:39.958" end="08:34:45.238" style="s2">to set up a</p>
<p begin="08:34:43.080" end="08:34:46.878" style="s2">relationship and so this relationship</p>
<p begin="08:34:45.238" end="08:34:49.238" style="s2">isn&#39;t a foreign key it does nothing in</p>
<p begin="08:34:46.878" end="08:34:50.760" style="s2">the database whatsoever but what it does</p>
<p begin="08:34:49.238" end="08:34:52.160" style="s2">is it&#39;ll tell SQL Alchemy to</p>
<p begin="08:34:50.760" end="08:34:53.760" style="s2">automatically fetch some piece of</p>
<p begin="08:34:52.160" end="08:34:56.080" style="s2">information based off of the</p>
<p begin="08:34:53.760" end="08:34:58.280" style="s2">relationship and so here I could say</p>
<p begin="08:34:56.080" end="08:35:02.040" style="s2">we&#39;ll create a</p>
<p begin="08:34:58.280" end="08:35:03.958" style="s2">owner and I&#39;m going to say owner equals</p>
<p begin="08:35:02.040" end="08:35:05.558" style="s2">relationship and we probably have to</p>
<p begin="08:35:03.958" end="08:35:08.160" style="s2">import</p>
<p begin="08:35:05.558" end="08:35:10.718" style="s2">this and so it did so it imported</p>
<p begin="08:35:08.160" end="08:35:12.798" style="s2">relationship from sqlalchemy.orm</p>
<p begin="08:35:10.718" end="08:35:16.238" style="s2">and so if you haven&#39;t done that go ahead</p>
<p begin="08:35:12.798" end="08:35:20.200" style="s2">and do that and what we&#39;ll see is this</p>
<p begin="08:35:16.238" end="08:35:22.958" style="s2">is going to return uh the class of</p>
<p begin="08:35:20.200" end="08:35:24.080" style="s2">another model so here I want to return</p>
<p begin="08:35:22.958" end="08:35:25.878" style="s2">the</p>
<p begin="08:35:24.080" end="08:35:27.238" style="s2">user and this is going to be be a</p>
<p begin="08:35:25.878" end="08:35:29.520" style="s2">capital u because I&#39;m not referencing</p>
<p begin="08:35:27.238" end="08:35:31.280" style="s2">the table I&#39;m referencing the actual SQL</p>
<p begin="08:35:29.520" end="08:35:32.680" style="s2">Alchemy class so what this is going to</p>
<p begin="08:35:31.280" end="08:35:35.160" style="s2">do for us automatically is that it&#39;s</p>
<p begin="08:35:32.680" end="08:35:37.200" style="s2">going to create another property for our</p>
<p begin="08:35:35.160" end="08:35:39.680" style="s2">post so that when we retrieve a post</p>
<p begin="08:35:37.200" end="08:35:40.798" style="s2">it&#39;s going to return a owner property</p>
<p begin="08:35:39.680" end="08:35:43.680" style="s2">and what it&#39;s going to do is it&#39;s going</p>
<p begin="08:35:40.798" end="08:35:46.000" style="s2">to figure out the relationship uh to</p>
<p begin="08:35:43.680" end="08:35:48.280" style="s2">user so it&#39;s going to actually fetch the</p>
<p begin="08:35:46.000" end="08:35:50.318" style="s2">user based off of the owner ID and</p>
<p begin="08:35:48.280" end="08:35:51.760" style="s2">return that for us and there&#39;s nothing</p>
<p begin="08:35:50.318" end="08:35:53.080" style="s2">else we have to do it actually is that</p>
<p begin="08:35:51.760" end="08:35:54.600" style="s2">simple this is one of the great Parts</p>
<p begin="08:35:53.080" end="08:35:55.920" style="s2">about SQL Alchemy is that these</p>
<p begin="08:35:54.600" end="08:35:57.638" style="s2">relationships will Auto automatically</p>
<p begin="08:35:55.920" end="08:35:59.120" style="s2">make it so that it fetches that data for</p>
<p begin="08:35:57.638" end="08:36:00.080" style="s2">us so that we don&#39;t have to manually do</p>
<p begin="08:35:59.120" end="08:36:02.160" style="s2">it</p>
<p begin="08:36:00.080" end="08:36:04.200" style="s2">ourselves so let&#39;s test this out let&#39;s</p>
<p begin="08:36:02.160" end="08:36:08.200" style="s2">see if this actually works I&#39;m going to</p>
<p begin="08:36:04.200" end="08:36:08.200" style="s2">go back and I&#39;m going to retrieve all</p>
<p begin="08:36:08.958" end="08:36:13.398" style="s2">posts and it looks like nothing&#39;s</p>
<p begin="08:36:11.318" end="08:36:15.040" style="s2">changed we don&#39;t get any user</p>
<p begin="08:36:13.398" end="08:36:17.200" style="s2">information we do once again just get</p>
<p begin="08:36:15.040" end="08:36:20.160" style="s2">the owner ID so what happened well you</p>
<p begin="08:36:17.200" end="08:36:23.200" style="s2">probably can guess we need to update our</p>
<p begin="08:36:20.160" end="08:36:26.280" style="s2">schema and so if we go to our</p>
<p begin="08:36:23.200" end="08:36:27.120" style="s2">post we&#39;re now going to return</p>
<p begin="08:36:26.280" end="08:36:29.478" style="s2">a</p>
<p begin="08:36:27.120" end="08:36:32.000" style="s2">user and so here what we would do is we</p>
<p begin="08:36:29.478" end="08:36:34.238" style="s2">would just add another property called</p>
<p begin="08:36:32.000" end="08:36:36.280" style="s2">owner and then here it would instead of</p>
<p begin="08:36:34.238" end="08:36:38.878" style="s2">returning an INT or a string or anything</p>
<p begin="08:36:36.280" end="08:36:41.840" style="s2">like that we can actually return</p>
<p begin="08:36:38.878" end="08:36:45.520" style="s2">a pantic model so I can say I want you</p>
<p begin="08:36:41.840" end="08:36:47.478" style="s2">to return a user oops a user but I it</p>
<p begin="08:36:45.520" end="08:36:50.878" style="s2">looks like we don&#39;t have a user class we</p>
<p begin="08:36:47.478" end="08:36:52.798" style="s2">have user out and then we have user</p>
<p begin="08:36:50.878" end="08:36:54.958" style="s2">create so which one do we actually want</p>
<p begin="08:36:52.798" end="08:36:57.478" style="s2">to return um probably user out cuz</p>
<p begin="08:36:54.958" end="08:37:00.280" style="s2">that&#39;s what we&#39;re turning we the user</p>
<p begin="08:36:57.478" end="08:37:03.040" style="s2">create is for creating a</p>
<p begin="08:37:00.280" end="08:37:04.000" style="s2">user and you notice that we get an error</p>
<p begin="08:37:03.040" end="08:37:06.920" style="s2">actually</p>
<p begin="08:37:04.000" end="08:37:09.440" style="s2">here and that&#39;s because this user out</p>
<p begin="08:37:06.920" end="08:37:11.238" style="s2">hasn&#39;t been defined uh at this point in</p>
<p begin="08:37:09.440" end="08:37:13.638" style="s2">the code so you have to read python top</p>
<p begin="08:37:11.238" end="08:37:15.920" style="s2">down and so user out is actually defined</p>
<p begin="08:37:13.638" end="08:37:18.318" style="s2">all the way down here so if you wanted</p>
<p begin="08:37:15.920" end="08:37:20.878" style="s2">this to work we would have to move all</p>
<p begin="08:37:18.318" end="08:37:23.238" style="s2">of the user</p>
<p begin="08:37:20.878" end="08:37:24.840" style="s2">stuff up a level so I&#39;m going to cut</p>
<p begin="08:37:23.238" end="08:37:28.120" style="s2">this and I&#39;m going to just put it right</p>
<p begin="08:37:24.840" end="08:37:30.080" style="s2">above put post and so this should remove</p>
<p begin="08:37:28.120" end="08:37:32.080" style="s2">the error and so now it looks like it&#39;s</p>
<p begin="08:37:30.080" end="08:37:33.958" style="s2">good and so once again all we did was we</p>
<p begin="08:37:32.080" end="08:37:35.958" style="s2">added a new property called owner and</p>
<p begin="08:37:33.958" end="08:37:38.680" style="s2">this is going to return a pantic model</p>
<p begin="08:37:35.958" end="08:37:42.000" style="s2">type called user out and so that&#39;s all</p>
<p begin="08:37:38.680" end="08:37:43.318" style="s2">this is returning now so let&#39;s see if</p>
<p begin="08:37:42.000" end="08:37:46.080" style="s2">this fixes our</p>
<p begin="08:37:43.318" end="08:37:48.840" style="s2">issue and now I&#39;m going to retrieve all</p>
<p begin="08:37:46.080" end="08:37:50.958" style="s2">posts and so now take a look at this it</p>
<p begin="08:37:48.840" end="08:37:53.280" style="s2">automatically fetch the owner it got the</p>
<p begin="08:37:50.958" end="08:37:55.680" style="s2">ID it got the email it got when their</p>
<p begin="08:37:53.280" end="08:37:57.878" style="s2">account was created at um we may not</p>
<p begin="08:37:55.680" end="08:37:59.958" style="s2">want that but for now I think this makes</p>
<p begin="08:37:57.878" end="08:38:02.398" style="s2">sense we could create another class to</p>
<p begin="08:37:59.958" end="08:38:03.760" style="s2">kind of um narrow down the exact fields</p>
<p begin="08:38:02.398" end="08:38:05.120" style="s2">that we specifically wanted for this</p>
<p begin="08:38:03.760" end="08:38:06.920" style="s2">situation but I think this is good</p>
<p begin="08:38:05.120" end="08:38:08.840" style="s2">enough uh these are all the informations</p>
<p begin="08:38:06.920" end="08:38:10.520" style="s2">that I want actually returned so this is</p>
<p begin="08:38:08.840" end="08:38:14.398" style="s2">perfect it&#39;s going to do this for every</p>
<p begin="08:38:10.520" end="08:38:17.840" style="s2">post and if I try to get one</p>
<p begin="08:38:14.398" end="08:38:20.478" style="s2">post it&#39;s also going to return that</p>
<p begin="08:38:17.840" end="08:38:22.520" style="s2">specific owner and so in reality to get</p>
<p begin="08:38:20.478" end="08:38:24.440" style="s2">this functionality right once again all</p>
<p begin="08:38:22.520" end="08:38:26.840" style="s2">we had to do was just create this</p>
<p begin="08:38:24.440" end="08:38:28.318" style="s2">relationship and so once SQL Alchemy</p>
<p begin="08:38:26.840" end="08:38:30.638" style="s2">understands a relationship it&#39;s going to</p>
<p begin="08:38:28.318" end="08:38:32.160" style="s2">fetch that piece of information for you</p>
<p begin="08:38:30.638" end="08:38:34.200" style="s2">from the user</p>
<p begin="08:38:32.160" end="08:38:37.000" style="s2">model in this lesson we&#39;re going to take</p>
<p begin="08:38:34.200" end="08:38:38.600" style="s2">a look at query parameters and if you&#39;ve</p>
<p begin="08:38:37.000" end="08:38:40.878" style="s2">never worked with an API you may not</p>
<p begin="08:38:38.600" end="08:38:43.200" style="s2">know what that is but I guarantee you</p>
<p begin="08:38:40.878" end="08:38:44.878" style="s2">you have worked with them before and you</p>
<p begin="08:38:43.200" end="08:38:47.520" style="s2">have seen them you just had no idea what</p>
<p begin="08:38:44.878" end="08:38:48.718" style="s2">they were and so I&#39;m on yelp.com and I&#39;m</p>
<p begin="08:38:47.520" end="08:38:50.200" style="s2">just doing this for demonstration</p>
<p begin="08:38:48.718" end="08:38:51.280" style="s2">purposes but I&#39;m just going to do a</p>
<p begin="08:38:50.200" end="08:38:52.600" style="s2">quick search here I&#39;ve just picked a</p>
<p begin="08:38:51.280" end="08:38:53.718" style="s2">random City in this case it&#39;s Miami</p>
<p begin="08:38:52.600" end="08:38:56.478" style="s2">we&#39;re going to search for that and I</p>
<p begin="08:38:53.718" end="08:38:58.280" style="s2">want you to take a look at the URL</p>
<p begin="08:38:56.478" end="08:38:59.478" style="s2">and so our URL is first of all we have</p>
<p begin="08:38:58.280" end="08:39:01.360" style="s2">the domain name which is kind of like</p>
<p begin="08:38:59.478" end="08:39:03.398" style="s2">the IP address and then we have the</p>
<p begin="08:39:01.360" end="08:39:06.360" style="s2">specific endpoint that we want to reach</p>
<p begin="08:39:03.398" end="08:39:08.280" style="s2">so this is the SL search endpoint and so</p>
<p begin="08:39:06.360" end="08:39:10.680" style="s2">in their API they&#39;ve set up uh you know</p>
<p begin="08:39:08.280" end="08:39:12.920" style="s2">some sort of endpoint that probably is</p>
<p begin="08:39:10.680" end="08:39:15.040" style="s2">uh allows you to search for restaurants</p>
<p begin="08:39:12.920" end="08:39:16.160" style="s2">and then we have a question mark and I</p>
<p begin="08:39:15.040" end="08:39:17.360" style="s2">know you guys have seen this before</p>
<p begin="08:39:16.160" end="08:39:19.558" style="s2">because pretty much any website you&#39;ve</p>
<p begin="08:39:17.360" end="08:39:20.840" style="s2">ever uh you know used uh you&#39;ll see that</p>
<p begin="08:39:19.558" end="08:39:23.478" style="s2">question mark whenever you&#39;re you know</p>
<p begin="08:39:20.840" end="08:39:25.440" style="s2">searching for things and any results you</p>
<p begin="08:39:23.478" end="08:39:27.520" style="s2">get you&#39;ll see that in the URL and and</p>
<p begin="08:39:25.440" end="08:39:29.440" style="s2">so everything to the right of that is</p>
<p begin="08:39:27.520" end="08:39:32.200" style="s2">what&#39;s referred to as query parameters</p>
<p begin="08:39:29.440" end="08:39:34.958" style="s2">so all of this is query parameters and a</p>
<p begin="08:39:32.200" end="08:39:36.760" style="s2">query parameter is a optional key value</p>
<p begin="08:39:34.958" end="08:39:39.200" style="s2">pair that appears to to the right of the</p>
<p begin="08:39:36.760" end="08:39:42.000" style="s2">question mark and these query parameters</p>
<p begin="08:39:39.200" end="08:39:43.878" style="s2">allow us to kind of filter the results</p>
<p begin="08:39:42.000" end="08:39:45.280" style="s2">of a request so you know if we&#39;re trying</p>
<p begin="08:39:43.878" end="08:39:47.040" style="s2">to retrieve posts maybe we don&#39;t want</p>
<p begin="08:39:45.280" end="08:39:49.600" style="s2">all posts maybe we want to get posts</p>
<p begin="08:39:47.040" end="08:39:52.080" style="s2">that were created in the last two hours</p>
<p begin="08:39:49.600" end="08:39:53.600" style="s2">maybe we want to get uh posts that uh</p>
<p begin="08:39:52.080" end="08:39:55.040" style="s2">you know if it&#39;s a social media type app</p>
<p begin="08:39:53.600" end="08:39:57.000" style="s2">maybe we want to get posts that have</p>
<p begin="08:39:55.040" end="08:39:58.958" style="s2">rece received over 100 likes right these</p>
<p begin="08:39:57.000" end="08:40:00.798" style="s2">are all things that you would do using</p>
<p begin="08:39:58.958" end="08:40:02.398" style="s2">query parameters where you can say Hey</p>
<p begin="08:40:00.798" end="08:40:04.958" style="s2">you could just pass in a key and a pair</p>
<p begin="08:40:02.398" end="08:40:07.840" style="s2">and you can say I want to find posts you</p>
<p begin="08:40:04.958" end="08:40:10.040" style="s2">know that are less than 2 hours old and</p>
<p begin="08:40:07.840" end="08:40:11.920" style="s2">so a lot of other operations uh that are</p>
<p begin="08:40:10.040" end="08:40:13.638" style="s2">necessary in an API things like</p>
<p begin="08:40:11.920" end="08:40:15.160" style="s2">pagination those are all going to be</p>
<p begin="08:40:13.638" end="08:40:16.798" style="s2">done with query parameters and if you</p>
<p begin="08:40:15.160" end="08:40:18.798" style="s2">take a look at this one uh since we</p>
<p begin="08:40:16.798" end="08:40:20.680" style="s2">searched for Miami right it looks like</p>
<p begin="08:40:18.798" end="08:40:23.318" style="s2">it passed a query parameter called</p>
<p begin="08:40:20.680" end="08:40:25.600" style="s2">findor Lo which probably means location</p>
<p begin="08:40:23.318" end="08:40:27.680" style="s2">and then it says Miami Florida and so</p>
<p begin="08:40:25.600" end="08:40:29.000" style="s2">it&#39;s going to basically talk to the API</p>
<p begin="08:40:27.680" end="08:40:30.398" style="s2">and say Hey listen I need you to get me</p>
<p begin="08:40:29.000" end="08:40:32.718" style="s2">all the restaurants and I want you to</p>
<p begin="08:40:30.398" end="08:40:35.200" style="s2">filter Down based off of restaurants in</p>
<p begin="08:40:32.718" end="08:40:37.760" style="s2">Miami and so that&#39;s kind of how query</p>
<p begin="08:40:35.200" end="08:40:39.680" style="s2">parameters work and so for us it&#39;s it&#39;s</p>
<p begin="08:40:37.760" end="08:40:40.840" style="s2">up to us to Define what query parameters</p>
<p begin="08:40:39.680" end="08:40:42.238" style="s2">we want to allow and what we want them</p>
<p begin="08:40:40.840" end="08:40:44.280" style="s2">to do and it&#39;s going to vary from app to</p>
<p begin="08:40:42.238" end="08:40:46.360" style="s2">app but you&#39;ll see that most apis have a</p>
<p begin="08:40:44.280" end="08:40:49.200" style="s2">couple of uh query parameters that they</p>
<p begin="08:40:46.360" end="08:40:51.600" style="s2">all use so let&#39;s go to our app real</p>
<p begin="08:40:49.200" end="08:40:55.558" style="s2">quick and what we&#39;re going to do is</p>
<p begin="08:40:51.600" end="08:40:57.160" style="s2">we&#39;re going to go to our post router and</p>
<p begin="08:40:55.558" end="08:40:59.160" style="s2">in this case we&#39;ve got our path</p>
<p begin="08:40:57.160" end="08:41:01.040" style="s2">operation of retrieving all posts and</p>
<p begin="08:40:59.160" end="08:41:02.760" style="s2">what I want to do is I want to let the</p>
<p begin="08:41:01.040" end="08:41:05.080" style="s2">user be able to kind of filter down on</p>
<p begin="08:41:02.760" end="08:41:06.558" style="s2">the post that they want to see and the</p>
<p begin="08:41:05.080" end="08:41:08.840" style="s2">first thing that I&#39;m going to do is I&#39;m</p>
<p begin="08:41:06.558" end="08:41:10.120" style="s2">actually going to allow them to specify</p>
<p begin="08:41:08.840" end="08:41:12.638" style="s2">how many posts they want to retrieve</p>
<p begin="08:41:10.120" end="08:41:14.440" style="s2">altogether so I want to give them the</p>
<p begin="08:41:12.638" end="08:41:16.840" style="s2">option to say hey I want 10 posts or</p>
<p begin="08:41:14.440" end="08:41:19.360" style="s2">maybe I want 100 posts or maybe I want</p>
<p begin="08:41:16.840" end="08:41:22.318" style="s2">uh 50 posts we should allow the user to</p>
<p begin="08:41:19.360" end="08:41:25.798" style="s2">Define that and so</p>
<p begin="08:41:22.318" end="08:41:27.318" style="s2">to to allow a query parameter</p>
<p begin="08:41:25.798" end="08:41:28.600" style="s2">we could just go into our path operation</p>
<p begin="08:41:27.318" end="08:41:30.360" style="s2">function and just pass in another</p>
<p begin="08:41:28.600" end="08:41:32.520" style="s2">argument so I&#39;m going to do question</p>
<p begin="08:41:30.360" end="08:41:34.160" style="s2">mark then we give it the name of the</p>
<p begin="08:41:32.520" end="08:41:35.878" style="s2">query parameter so this is the key</p>
<p begin="08:41:34.160" end="08:41:37.000" style="s2">essentially and I&#39;m going to call this</p>
<p begin="08:41:35.878" end="08:41:39.200" style="s2">limit so this is going to limit the</p>
<p begin="08:41:37.000" end="08:41:42.000" style="s2">number of posts they get and this is</p>
<p begin="08:41:39.200" end="08:41:42.000" style="s2">going to be of type</p>
<p begin="08:41:42.318" end="08:41:46.440" style="s2">int and we&#39;re going to give it a default</p>
<p begin="08:41:44.680" end="08:41:48.318" style="s2">value so we&#39;ll say that you know by</p>
<p begin="08:41:46.440" end="08:41:50.000" style="s2">default if they don&#39;t provide a limit uh</p>
<p begin="08:41:48.318" end="08:41:51.398" style="s2">we&#39;re going to say the limit by default</p>
<p begin="08:41:50.000" end="08:41:53.638" style="s2">is</p>
<p begin="08:41:51.398" end="08:41:55.798" style="s2">10 and now I&#39;m all I&#39;m going to do is</p>
<p begin="08:41:53.638" end="08:41:57.638" style="s2">I&#39;m going to print out limit all right</p>
<p begin="08:41:55.798" end="08:41:59.478" style="s2">and I&#39;ll show you guys how to actually</p>
<p begin="08:41:57.638" end="08:42:02.398" style="s2">send that query parameter so let&#39;s go to</p>
<p begin="08:41:59.478" end="08:42:03.920" style="s2">our get all posts and so to send a query</p>
<p begin="08:42:02.398" end="08:42:06.478" style="s2">parameter it&#39;s very easy you just type</p>
<p begin="08:42:03.920" end="08:42:09.160" style="s2">in a question mark then you grab the</p>
<p begin="08:42:06.478" end="08:42:10.558" style="s2">name of the query parameter which once</p>
<p begin="08:42:09.160" end="08:42:13.238" style="s2">again is</p>
<p begin="08:42:10.558" end="08:42:15.318" style="s2">limit so we&#39;ll grab</p>
<p begin="08:42:13.238" end="08:42:16.878" style="s2">limit and then you say it you set it</p>
<p begin="08:42:15.318" end="08:42:19.440" style="s2">equal to whatever value you want to be</p>
<p begin="08:42:16.878" end="08:42:22.478" style="s2">so if I want to get a limit of</p>
<p begin="08:42:19.440" end="08:42:24.360" style="s2">three if I hit send right nothing should</p>
<p begin="08:42:22.478" end="08:42:26.318" style="s2">have changed in our code but you can see</p>
<p begin="08:42:24.360" end="08:42:29.120" style="s2">that we were able to print out the limit</p>
<p begin="08:42:26.318" end="08:42:30.958" style="s2">so that&#39;s how we access query parameters</p>
<p begin="08:42:29.120" end="08:42:32.760" style="s2">in fast API it&#39;s pretty simple you just</p>
<p begin="08:42:30.958" end="08:42:34.760" style="s2">pass it in as another argument into your</p>
<p begin="08:42:32.760" end="08:42:37.238" style="s2">path operation function but let&#39;s</p>
<p begin="08:42:34.760" end="08:42:39.360" style="s2">actually set up our query so that it now</p>
<p begin="08:42:37.238" end="08:42:42.318" style="s2">takes into account the limit and with</p>
<p begin="08:42:39.360" end="08:42:44.000" style="s2">SQL Alchemy uh anytime you want to you</p>
<p begin="08:42:42.318" end="08:42:45.398" style="s2">know perform another operation you</p>
<p begin="08:42:44.000" end="08:42:47.360" style="s2">usually have a built-in method so I&#39;m</p>
<p begin="08:42:45.398" end="08:42:49.080" style="s2">going to remove this do all for now and</p>
<p begin="08:42:47.360" end="08:42:50.760" style="s2">so if I want to uh limit the number of</p>
<p begin="08:42:49.080" end="08:42:53.440" style="s2">results I just do Dot and then let&#39;s see</p>
<p begin="08:42:50.760" end="08:42:54.440" style="s2">what uh methods we have at our disposal</p>
<p begin="08:42:53.440" end="08:42:55.958" style="s2">uh since we&#39;re looking for something</p>
<p begin="08:42:54.440" end="08:42:59.238" style="s2">that limits something let&#39;s maybe check</p>
<p begin="08:42:55.958" end="08:43:01.478" style="s2">to see if there is a limit method and</p>
<p begin="08:42:59.238" end="08:43:04.080" style="s2">looks like I don&#39;t see one here but</p>
<p begin="08:43:01.478" end="08:43:04.080" style="s2">there actually</p>
<p begin="08:43:05.840" end="08:43:10.558" style="s2">is we can do limit and then here I&#39;m</p>
<p begin="08:43:08.200" end="08:43:11.718" style="s2">just going to pass in the limit variable</p>
<p begin="08:43:10.558" end="08:43:15.000" style="s2">and then after that we can just do the</p>
<p begin="08:43:11.718" end="08:43:15.000" style="s2">do all as we usually</p>
<p begin="08:43:15.398" end="08:43:19.600" style="s2">do all right and so now well first of</p>
<p begin="08:43:18.318" end="08:43:21.798" style="s2">all in our database we don&#39;t actually</p>
<p begin="08:43:19.600" end="08:43:23.238" style="s2">have that many posts so I&#39;m just going</p>
<p begin="08:43:21.798" end="08:43:24.440" style="s2">to create a couple well actually I could</p>
<p begin="08:43:23.238" end="08:43:25.600" style="s2">just do this through our API a lot</p>
<p begin="08:43:24.440" end="08:43:27.318" style="s2">quicker so I&#39;m just to create a whole</p>
<p begin="08:43:25.600" end="08:43:30.558" style="s2">bunch of</p>
<p begin="08:43:27.318" end="08:43:33.798" style="s2">posts and so that should give us five</p>
<p begin="08:43:30.558" end="08:43:33.798" style="s2">posts now let&#39;s create a few</p>
<p begin="08:43:36.958" end="08:43:44.160" style="s2">more all right so we&#39;ve got 11 posts</p>
<p begin="08:43:41.160" end="08:43:46.080" style="s2">now and we&#39;ll go back to our API and</p>
<p begin="08:43:44.160" end="08:43:48.200" style="s2">we&#39;ll say I want a limit of three so</p>
<p begin="08:43:46.080" end="08:43:52.958" style="s2">let&#39;s send that and let&#39;s see if we only</p>
<p begin="08:43:48.200" end="08:43:55.398" style="s2">get three posts we get one 2 3 perfect</p>
<p begin="08:43:52.958" end="08:43:56.478" style="s2">and if I don&#39;t provide a limit well</p>
<p begin="08:43:55.398" end="08:43:58.040" style="s2">actually let&#39;s try a different number</p>
<p begin="08:43:56.478" end="08:44:02.798" style="s2">let&#39;s try five</p>
<p begin="08:43:58.040" end="08:44:04.558" style="s2">now all right we get one two 3 four five</p>
<p begin="08:44:02.798" end="08:44:05.798" style="s2">perfect and if we don&#39;t provide a limit</p>
<p begin="08:44:04.558" end="08:44:10.398" style="s2">alog</p>
<p begin="08:44:05.798" end="08:44:14.478" style="s2">together it should return 10 because our</p>
<p begin="08:44:10.398" end="08:44:25.160" style="s2">default was set to 10 posts the limit of</p>
<p begin="08:44:14.478" end="08:44:26.958" style="s2">10 and so we get one 2 3 4 5 6 7 8 9 10</p>
<p begin="08:44:25.160" end="08:44:29.120" style="s2">and there are 11 results so there&#39;s one</p>
<p begin="08:44:26.958" end="08:44:31.558" style="s2">result that it didn&#39;t provide so we&#39;ve</p>
<p begin="08:44:29.120" end="08:44:34.520" style="s2">got the limit functionality down what I</p>
<p begin="08:44:31.558" end="08:44:36.958" style="s2">want to do now is allow the user to skip</p>
<p begin="08:44:34.520" end="08:44:38.878" style="s2">results so it grabbed you know depending</p>
<p begin="08:44:36.958" end="08:44:41.160" style="s2">on however postgress has decided to</p>
<p begin="08:44:38.878" end="08:44:43.398" style="s2">return uh you know 10 posts it grabbed</p>
<p begin="08:44:41.160" end="08:44:47.718" style="s2">the first 10 based off of some</p>
<p begin="08:44:43.398" end="08:44:47.718" style="s2">criteria and if we actually take a look</p>
<p begin="08:44:48.080" end="08:44:53.878" style="s2">at how did it looks like we got ID of 10</p>
<p begin="08:44:52.318" end="08:44:56.160" style="s2">ID of 4 so it&#39;s kind of just all over</p>
<p begin="08:44:53.878" end="08:44:58.160" style="s2">the place uh so it&#39;s</p>
<p begin="08:44:56.160" end="08:45:00.638" style="s2">uh not sorting based off of any specific</p>
<p begin="08:44:58.160" end="08:45:01.680" style="s2">field we may want to specify that but</p>
<p begin="08:45:00.638" end="08:45:03.238" style="s2">what we&#39;re going to do is I&#39;m going to</p>
<p begin="08:45:01.680" end="08:45:05.878" style="s2">actually set the</p>
<p begin="08:45:03.238" end="08:45:08.160" style="s2">limit equal to</p>
<p begin="08:45:05.878" end="08:45:09.638" style="s2">two and so we&#39;ll get the first two</p>
<p begin="08:45:08.160" end="08:45:12.040" style="s2">however postris determines what are the</p>
<p begin="08:45:09.638" end="08:45:14.200" style="s2">first two it should send we get two but</p>
<p begin="08:45:12.040" end="08:45:16.920" style="s2">let&#39;s say we want to skip over a couple</p>
<p begin="08:45:14.200" end="08:45:18.200" style="s2">of them maybe we want to skip the first</p>
<p begin="08:45:16.920" end="08:45:20.718" style="s2">the first two maybe we want to skip</p>
<p begin="08:45:18.200" end="08:45:23.718" style="s2">these two well I want to be able to send</p>
<p begin="08:45:20.718" end="08:45:25.040" style="s2">another query parameter called skip so</p>
<p begin="08:45:23.718" end="08:45:26.478" style="s2">that we can specify how many we want to</p>
<p begin="08:45:25.040" end="08:45:28.520" style="s2">Skip and if you want to send more than</p>
<p begin="08:45:26.478" end="08:45:30.318" style="s2">one query parameter we just do the and</p>
<p begin="08:45:28.520" end="08:45:31.878" style="s2">keyword and then we provide the next key</p>
<p begin="08:45:30.318" end="08:45:34.638" style="s2">value pair so it would be like skip</p>
<p begin="08:45:31.878" end="08:45:36.840" style="s2">equals 2 and so just taking a look at</p>
<p begin="08:45:34.638" end="08:45:38.160" style="s2">the IDS here we&#39;ve got one with an ID of</p>
<p begin="08:45:36.840" end="08:45:39.878" style="s2">10 and one with an ID of four and we</p>
<p begin="08:45:38.160" end="08:45:41.718" style="s2">want to skip both of those so going back</p>
<p begin="08:45:39.878" end="08:45:43.920" style="s2">to our code we&#39;re going to provide</p>
<p begin="08:45:41.718" end="08:45:45.958" style="s2">another path operation function uh sorry</p>
<p begin="08:45:43.920" end="08:45:47.958" style="s2">another argument into the function and</p>
<p begin="08:45:45.958" end="08:45:52.760" style="s2">we&#39;ll call this skip this is going to be</p>
<p begin="08:45:47.958" end="08:45:56.000" style="s2">a integer and the default is going to</p>
<p begin="08:45:52.760" end="08:45:58.798" style="s2">be uh we&#39;ll say zero we don&#39;t want to</p>
<p begin="08:45:56.000" end="08:46:01.000" style="s2">skip anything by default and to add this</p>
<p begin="08:45:58.798" end="08:46:02.638" style="s2">to our query uh we use the keyword</p>
<p begin="08:46:01.000" end="08:46:04.680" style="s2">offset we do</p>
<p begin="08:46:02.638" end="08:46:05.718" style="s2">offset and then here I&#39;m going to say</p>
<p begin="08:46:04.680" end="08:46:08.718" style="s2">offset</p>
<p begin="08:46:05.718" end="08:46:08.718" style="s2">equals</p>
<p begin="08:46:09.360" end="08:46:14.440" style="s2">skip all right and so we should be able</p>
<p begin="08:46:11.600" end="08:46:15.958" style="s2">to skip over both of these and so if I</p>
<p begin="08:46:14.440" end="08:46:18.478" style="s2">provide a skip of</p>
<p begin="08:46:15.958" end="08:46:20.398" style="s2">two you can see it first starts out at</p>
<p begin="08:46:18.478" end="08:46:23.440" style="s2">nine and then</p>
<p begin="08:46:20.398" end="08:46:25.360" style="s2">11 if we do skip zero right it shouldn&#39;t</p>
<p begin="08:46:23.440" end="08:46:26.958" style="s2">skip any right 10</p>
<p begin="08:46:25.360" end="08:46:28.318" style="s2">and then an idea four if we Skip One it</p>
<p begin="08:46:26.958" end="08:46:30.798" style="s2">should just skip the 10 and then start</p>
<p begin="08:46:28.318" end="08:46:32.160" style="s2">off on four and we can see that the</p>
<p begin="08:46:30.798" end="08:46:33.760" style="s2">first one is four so it allows us to</p>
<p begin="08:46:32.160" end="08:46:35.280" style="s2">skip over post and so that&#39;s ultimately</p>
<p begin="08:46:33.760" end="08:46:37.040" style="s2">how we&#39;re going to implement pagination</p>
<p begin="08:46:35.280" end="08:46:39.000" style="s2">on the front end is because the front</p>
<p begin="08:46:37.040" end="08:46:41.160" style="s2">end should be able to skip um based off</p>
<p begin="08:46:39.000" end="08:46:43.280" style="s2">of what page they&#39;re on so if each page</p>
<p begin="08:46:41.160" end="08:46:45.760" style="s2">returns 20 results and you want to go to</p>
<p begin="08:46:43.280" end="08:46:47.000" style="s2">page two then you want to skip 20</p>
<p begin="08:46:45.760" end="08:46:49.680" style="s2">results if you want to go to page three</p>
<p begin="08:46:47.000" end="08:46:51.520" style="s2">you would skip 40 results now the last</p>
<p begin="08:46:49.680" end="08:46:53.600" style="s2">query parameter I want to set up is a</p>
<p begin="08:46:51.520" end="08:46:56.238" style="s2">search functionality I want the user to</p>
<p begin="08:46:53.600" end="08:46:58.920" style="s2">be able to search based off of you know</p>
<p begin="08:46:56.238" end="08:47:00.440" style="s2">some keywords in the title or maybe even</p>
<p begin="08:46:58.920" end="08:47:03.600" style="s2">the content depending on how we want to</p>
<p begin="08:47:00.440" end="08:47:05.120" style="s2">implement searching uh for for now we&#39;re</p>
<p begin="08:47:03.600" end="08:47:08.280" style="s2">just going to say we&#39;ll be able to</p>
<p begin="08:47:05.120" end="08:47:09.520" style="s2">search based off of the title and the</p>
<p begin="08:47:08.280" end="08:47:10.840" style="s2">way that the search will work is we&#39;ll</p>
<p begin="08:47:09.520" end="08:47:14.398" style="s2">have another</p>
<p begin="08:47:10.840" end="08:47:16.600" style="s2">and and we&#39;ll say search equals and then</p>
<p begin="08:47:14.398" end="08:47:17.798" style="s2">you know some random text and so once</p>
<p begin="08:47:16.600" end="08:47:20.440" style="s2">again we&#39;re going to provide another</p>
<p begin="08:47:17.798" end="08:47:20.440" style="s2">argument called</p>
<p begin="08:47:23.600" end="08:47:28.600" style="s2">search and this is going to be of type</p>
<p begin="08:47:26.280" end="08:47:30.040" style="s2">string however this is you know we can&#39;t</p>
<p begin="08:47:28.600" end="08:47:32.840" style="s2">exactly give a default search so I&#39;m</p>
<p begin="08:47:30.040" end="08:47:34.680" style="s2">going to say this is a</p>
<p begin="08:47:32.840" end="08:47:38.280" style="s2">optional it&#39;s going to be an optional</p>
<p begin="08:47:34.680" end="08:47:38.280" style="s2">string so we don&#39;t have to provide</p>
<p begin="08:47:39.318" end="08:47:44.558" style="s2">this and the default</p>
<p begin="08:47:42.160" end="08:47:46.398" style="s2">is uh just an empty</p>
<p begin="08:47:44.558" end="08:47:51.000" style="s2">quotes and it looks like I have to</p>
<p begin="08:47:46.398" end="08:47:51.000" style="s2">import optional from Fast API or from</p>
<p begin="08:47:53.398" end="08:47:58.798" style="s2">typing and so here I&#39;ll just say import</p>
<p begin="08:47:56.760" end="08:48:00.878" style="s2">optional and this is going to give us an</p>
<p begin="08:47:58.798" end="08:48:02.638" style="s2">optional query</p>
<p begin="08:48:00.878" end="08:48:05.080" style="s2">parameter and so what we&#39;re going to do</p>
<p begin="08:48:02.638" end="08:48:07.478" style="s2">here is I&#39;ll say</p>
<p begin="08:48:05.080" end="08:48:09.200" style="s2">filter and to filter this and just kind</p>
<p begin="08:48:07.478" end="08:48:12.160" style="s2">of like how we filtered based off of a</p>
<p begin="08:48:09.200" end="08:48:16.398" style="s2">specific uh user ID or a specific post</p>
<p begin="08:48:12.160" end="08:48:19.360" style="s2">ID I can say models.</p>
<p begin="08:48:16.398" end="08:48:22.360" style="s2">poost do</p>
<p begin="08:48:19.360" end="08:48:25.360" style="s2">tile and then we can use a method called</p>
<p begin="08:48:22.360" end="08:48:25.360" style="s2">contains</p>
<p begin="08:48:25.398" end="08:48:29.840" style="s2">so we can say contains and then the</p>
<p begin="08:48:27.478" end="08:48:31.238" style="s2">search keyword so this will allow us to</p>
<p begin="08:48:29.840" end="08:48:33.398" style="s2">provide some kind of string and it&#39;ll</p>
<p begin="08:48:31.238" end="08:48:36.200" style="s2">just search for the entire title of a</p>
<p begin="08:48:33.398" end="08:48:38.920" style="s2">post and it see if the Search keywords</p>
<p begin="08:48:36.200" end="08:48:40.478" style="s2">are anywhere in the post title it</p>
<p begin="08:48:38.920" end="08:48:42.600" style="s2">doesn&#39;t have to match completely it just</p>
<p begin="08:48:40.478" end="08:48:44.000" style="s2">has to be somewhere in the post so this</p>
<p begin="08:48:42.600" end="08:48:45.718" style="s2">will give us a little bit of flexibility</p>
<p begin="08:48:44.000" end="08:48:46.958" style="s2">so that we don&#39;t have to match the exact</p>
<p begin="08:48:45.718" end="08:48:49.718" style="s2">name of the post we could just provide</p>
<p begin="08:48:46.958" end="08:48:51.718" style="s2">some keywords like uh like hot dogs or</p>
<p begin="08:48:49.718" end="08:48:53.440" style="s2">beaches or whatever and it should be</p>
<p begin="08:48:51.718" end="08:48:54.958" style="s2">able to just see if it&#39;s contained in</p>
<p begin="08:48:53.440" end="08:48:57.120" style="s2">there so let&#39;s take a look at our</p>
<p begin="08:48:54.958" end="08:48:59.238" style="s2">database uh you can see that we&#39;ve got a</p>
<p begin="08:48:57.120" end="08:49:01.638" style="s2">lot of ones that say top beaches in</p>
<p begin="08:48:59.238" end="08:49:04.360" style="s2">Florida so I&#39;m just going to do a search</p>
<p begin="08:49:01.638" end="08:49:06.600" style="s2">and if I just search for beaches it</p>
<p begin="08:49:04.360" end="08:49:08.840" style="s2">should return all of these because they</p>
<p begin="08:49:06.600" end="08:49:10.760" style="s2">all contain the word beaches and I&#39;m</p>
<p begin="08:49:08.840" end="08:49:13.440" style="s2">just going to do a search and I&#39;ll I&#39;ll</p>
<p begin="08:49:10.760" end="08:49:16.478" style="s2">get rid of the the limits and the skip</p>
<p begin="08:49:13.440" end="08:49:16.478" style="s2">for now we don&#39;t really need</p>
<p begin="08:49:16.638" end="08:49:21.080" style="s2">that and all of the results should</p>
<p begin="08:49:21.318" end="08:49:27.478" style="s2">be actually I don&#39;t think I saved it let</p>
<p begin="08:49:23.760" end="08:49:28.840" style="s2">me let me save that and now if I do this</p>
<p begin="08:49:27.478" end="08:49:31.920" style="s2">you can see that every result is going</p>
<p begin="08:49:28.840" end="08:49:34.520" style="s2">to have the word beaches in in the title</p>
<p begin="08:49:31.920" end="08:49:35.920" style="s2">and when it comes to query parameters</p>
<p begin="08:49:34.520" end="08:49:38.280" style="s2">you can string as many as you want so if</p>
<p begin="08:49:35.920" end="08:49:40.718" style="s2">you wanted the the limit as well and</p>
<p begin="08:49:38.280" end="08:49:42.878" style="s2">we&#39;ll set the limit to two and we can</p>
<p begin="08:49:40.718" end="08:49:46.798" style="s2">also provide a</p>
<p begin="08:49:42.878" end="08:49:50.080" style="s2">skip equals 1 you can add as many of the</p>
<p begin="08:49:46.798" end="08:49:51.638" style="s2">query parameters that you want so now</p>
<p begin="08:49:50.080" end="08:49:53.520" style="s2">you can see that we set the limit to two</p>
<p begin="08:49:51.638" end="08:49:54.920" style="s2">and we skipped the first one now the</p>
<p begin="08:49:53.520" end="08:49:57.238" style="s2">last thing I want to show you guys is to</p>
<p begin="08:49:54.920" end="08:49:58.798" style="s2">use spaces in your search query um</p>
<p begin="08:49:57.238" end="08:50:00.878" style="s2">because right now we just have the word</p>
<p begin="08:49:58.798" end="08:50:02.040" style="s2">beaches but let&#39;s say I wanted uh you</p>
<p begin="08:50:00.878" end="08:50:04.478" style="s2">know just going into our postris</p>
<p begin="08:50:02.040" end="08:50:06.398" style="s2">database let&#39;s see what I&#39;ve got maybe I</p>
<p begin="08:50:04.478" end="08:50:08.040" style="s2">want to search for beaches hello or</p>
<p begin="08:50:06.398" end="08:50:09.798" style="s2">something beaches right how do I how</p>
<p begin="08:50:08.040" end="08:50:12.638" style="s2">would I search for that in a URL I can&#39;t</p>
<p begin="08:50:09.798" end="08:50:14.638" style="s2">put a space in the URL I can&#39;t say you</p>
<p begin="08:50:12.638" end="08:50:17.080" style="s2">know something</p>
<p begin="08:50:14.638" end="08:50:19.520" style="s2">beaches so how do I do a space well I</p>
<p begin="08:50:17.080" end="08:50:22.920" style="s2">can do</p>
<p begin="08:50:19.520" end="08:50:25.520" style="s2">perent and 20 which is reference uh</p>
<p begin="08:50:22.920" end="08:50:27.280" style="s2">which means space in your URL and then</p>
<p begin="08:50:25.520" end="08:50:28.840" style="s2">you can do beaches so then just to</p>
<p begin="08:50:27.280" end="08:50:31.000" style="s2">verify that that&#39;s actually returning</p>
<p begin="08:50:28.840" end="08:50:34.080" style="s2">what we want I&#39;m going to do a print and</p>
<p begin="08:50:31.000" end="08:50:34.080" style="s2">we&#39;re going to print out the search</p>
<p begin="08:50:34.840" end="08:50:40.760" style="s2">keyword and we&#39;re going to test this</p>
<p begin="08:50:37.398" end="08:50:42.238" style="s2">out so if I hit send you can see that it</p>
<p begin="08:50:40.760" end="08:50:44.318" style="s2">returned the one result that has the</p>
<p begin="08:50:42.238" end="08:50:46.000" style="s2">word something and then beaches um but</p>
<p begin="08:50:44.318" end="08:50:48.520" style="s2">it doesn&#39;t return anything</p>
<p begin="08:50:46.000" end="08:50:50.638" style="s2">else what I would like to do now is do a</p>
<p begin="08:50:48.520" end="08:50:52.638" style="s2">little bit of cleanup on our main.py</p>
<p begin="08:50:50.638" end="08:50:54.360" style="s2">file uh you&#39;ll see that there&#39;s a lot of</p>
<p begin="08:50:52.638" end="08:50:55.958" style="s2">unnecessary Imports that we don&#39;t need</p>
<p begin="08:50:54.360" end="08:50:58.360" style="s2">as especially since we moved all of our</p>
<p begin="08:50:55.958" end="08:50:59.638" style="s2">routes uh into their respective folders</p>
<p begin="08:50:58.360" end="08:51:01.318" style="s2">so you&#39;ll see that a lot of these are</p>
<p begin="08:50:59.638" end="08:51:03.878" style="s2">grayed out and so anything that&#39;s grayed</p>
<p begin="08:51:01.318" end="08:51:05.760" style="s2">out we can move but before we actually</p>
<p begin="08:51:03.878" end="08:51:08.680" style="s2">do that uh what I actually want to do</p>
<p begin="08:51:05.760" end="08:51:11.200" style="s2">first is I want to take this uh code for</p>
<p begin="08:51:08.680" end="08:51:13.798" style="s2">connecting to our database using uh the</p>
<p begin="08:51:11.200" end="08:51:15.440" style="s2">you know the regular postris driver and</p>
<p begin="08:51:13.798" end="08:51:17.440" style="s2">I&#39;m going to move that uh to our</p>
<p begin="08:51:15.440" end="08:51:18.798" style="s2">database. py file and keep in mind we</p>
<p begin="08:51:17.440" end="08:51:21.360" style="s2">can just delete this because we&#39;re no</p>
<p begin="08:51:18.798" end="08:51:22.638" style="s2">longer using this and we&#39;re using SQL</p>
<p begin="08:51:21.360" end="08:51:24.878" style="s2">Alchemy to actually connect to our</p>
<p begin="08:51:22.638" end="08:51:27.120" style="s2">database so you can actually delete this</p>
<p begin="08:51:24.878" end="08:51:28.878" style="s2">but just for documentation purposes I&#39;m</p>
<p begin="08:51:27.120" end="08:51:31.920" style="s2">actually going to just cut this</p>
<p begin="08:51:28.878" end="08:51:35.238" style="s2">out and I&#39;m going to move this into our</p>
<p begin="08:51:31.920" end="08:51:37.520" style="s2">database. py file just so that you guys</p>
<p begin="08:51:35.238" end="08:51:40.280" style="s2">have this for reference uh in case you</p>
<p begin="08:51:37.520" end="08:51:42.718" style="s2">ever want to uh you know run raw SQL</p>
<p begin="08:51:40.280" end="08:51:44.478" style="s2">directly using this postgress Library</p>
<p begin="08:51:42.718" end="08:51:46.360" style="s2">instead of using SQL Alchemy I want to</p>
<p begin="08:51:44.478" end="08:51:47.920" style="s2">make sure this course covers as many</p>
<p begin="08:51:46.360" end="08:51:50.478" style="s2">different uh you know possible</p>
<p begin="08:51:47.920" end="08:51:51.440" style="s2">situations for you guys um but moving</p>
<p begin="08:51:50.478" end="08:51:52.878" style="s2">this here obviously we&#39;re going to get</p>
<p begin="08:51:51.440" end="08:51:55.040" style="s2">some errors because we have to import</p>
<p begin="08:51:52.878" end="08:51:56.478" style="s2">all of these and and I&#39;m just going to</p>
<p begin="08:51:55.040" end="08:51:58.398" style="s2">go to our main and I&#39;m going to import</p>
<p begin="08:51:56.478" end="08:52:00.558" style="s2">them from here so here I&#39;ll just copy</p>
<p begin="08:51:58.398" end="08:52:04.638" style="s2">these</p>
<p begin="08:52:00.558" end="08:52:04.638" style="s2">two and we&#39;ll actually just cut it</p>
<p begin="08:52:05.760" end="08:52:10.718" style="s2">out and then it looks like we also need</p>
<p begin="08:52:08.120" end="08:52:15.440" style="s2">time where is that coming</p>
<p begin="08:52:10.718" end="08:52:15.440" style="s2">from it&#39;s just coming from the time</p>
<p begin="08:52:17.200" end="08:52:22.360" style="s2">okay all right that should uh remove any</p>
<p begin="08:52:19.958" end="08:52:24.160" style="s2">errors and we can just comment this out</p>
<p begin="08:52:22.360" end="08:52:26.440" style="s2">actually cuz we&#39;re not going to use that</p>
<p begin="08:52:24.160" end="08:52:26.440" style="s2">anymore</p>
<p begin="08:52:28.040" end="08:52:31.718" style="s2">more and then going back to our main uh</p>
<p begin="08:52:30.600" end="08:52:33.238" style="s2">you can see that both of these are</p>
<p begin="08:52:31.718" end="08:52:35.360" style="s2">grayed out so we&#39;re not even importing</p>
<p begin="08:52:33.238" end="08:52:36.680" style="s2">anything from uh typing anymore or we&#39;re</p>
<p begin="08:52:35.360" end="08:52:39.040" style="s2">not using anything from typing so I&#39;m</p>
<p begin="08:52:36.680" end="08:52:41.440" style="s2">going to remove that uh you can see that</p>
<p begin="08:52:39.040" end="08:52:43.360" style="s2">we&#39;re no longer using status so I&#39;ll</p>
<p begin="08:52:41.440" end="08:52:46.478" style="s2">actually we&#39;re no longer using all of</p>
<p begin="08:52:43.360" end="08:52:49.680" style="s2">these so I can remove all of</p>
<p begin="08:52:46.478" end="08:52:52.440" style="s2">those and I&#39;m not using the body here</p>
<p begin="08:52:49.680" end="08:52:54.680" style="s2">anymore I&#39;m not using anything from</p>
<p begin="08:52:52.440" end="08:52:57.478" style="s2">pantic and I&#39;m not using anything from</p>
<p begin="08:52:54.680" end="08:52:59.680" style="s2">random we&#39;ll just get that a little bit</p>
<p begin="08:52:57.478" end="08:53:02.958" style="s2">closer uh we&#39;re not using session</p>
<p begin="08:52:59.680" end="08:53:06.520" style="s2">anymore either so I&#39;ll remove that this</p>
<p begin="08:53:02.958" end="08:53:06.520" style="s2">whatever that is going to remove</p>
<p begin="08:53:08.840" end="08:53:17.360" style="s2">that and then we&#39;ll remove schemas and</p>
<p begin="08:53:12.958" end="08:53:17.360" style="s2">utils we can remove get DB as</p>
<p begin="08:53:19.040" end="08:53:24.958" style="s2">well and then obviously the uh the post</p>
<p begin="08:53:21.718" end="08:53:26.600" style="s2">array or list that&#39;s no longer needed</p>
<p begin="08:53:24.958" end="08:53:28.280" style="s2">these two functions they&#39;re no longer</p>
<p begin="08:53:26.600" end="08:53:29.398" style="s2">needed they were U before we started</p>
<p begin="08:53:28.280" end="08:53:31.638" style="s2">working with</p>
<p begin="08:53:29.398" end="08:53:32.718" style="s2">databases and then um I mean we don&#39;t</p>
<p begin="08:53:31.638" end="08:53:34.760" style="s2">actually need this route anymore but</p>
<p begin="08:53:32.718" end="08:53:36.878" style="s2">I&#39;ll just leave that in there but you</p>
<p begin="08:53:34.760" end="08:53:38.440" style="s2">can see that our code is a lot cleaner</p>
<p begin="08:53:36.878" end="08:53:41.160" style="s2">now after removing all of those</p>
<p begin="08:53:38.440" end="08:53:41.160" style="s2">unnecessary</p>
<p begin="08:53:41.638" end="08:53:44.920" style="s2">Imports I&#39;m just going to structure this</p>
<p begin="08:53:43.600" end="08:53:46.878" style="s2">a little bit better so all the codes a</p>
<p begin="08:53:44.920" end="08:53:48.160" style="s2">little bit closer together and I think</p>
<p begin="08:53:46.878" end="08:53:49.600" style="s2">that&#39;s all the cleanup that we need to</p>
<p begin="08:53:48.160" end="08:53:51.638" style="s2">do for now I just wanted to make sure</p>
<p begin="08:53:49.600" end="08:53:54.120" style="s2">there wasn&#39;t too much uh garbage</p>
<p begin="08:53:51.638" end="08:53:56.040" style="s2">building up in our application when we</p>
<p begin="08:53:54.120" end="08:53:58.120" style="s2">first started working on databases I</p>
<p begin="08:53:56.040" end="08:54:00.520" style="s2">mentioned that we should never hardcode</p>
<p begin="08:53:58.120" end="08:54:02.718" style="s2">our database information or the database</p>
<p begin="08:54:00.520" end="08:54:04.398" style="s2">URL into our code because this creates</p>
<p begin="08:54:02.718" end="08:54:06.440" style="s2">two issues first of all we&#39;re exposing</p>
<p begin="08:54:04.398" end="08:54:08.200" style="s2">our username and password right there in</p>
<p begin="08:54:06.440" end="08:54:10.238" style="s2">code so anyone can see it if we check it</p>
<p begin="08:54:08.200" end="08:54:11.958" style="s2">into GitHub anyone who has access to it</p>
<p begin="08:54:10.238" end="08:54:14.318" style="s2">can see our password now and at that</p>
<p begin="08:54:11.958" end="08:54:17.318" style="s2">point we&#39;ve compromised our</p>
<p begin="08:54:14.318" end="08:54:19.760" style="s2">application but on top of that uh the</p>
<p begin="08:54:17.318" end="08:54:21.798" style="s2">other big issue is that right now we&#39;ve</p>
<p begin="08:54:19.760" end="08:54:23.318" style="s2">set this URL to go to our development</p>
<p begin="08:54:21.798" end="08:54:25.000" style="s2">postr instance which is running on our</p>
<p begin="08:54:23.318" end="08:54:26.120" style="s2">local machine</p>
<p begin="08:54:25.000" end="08:54:27.558" style="s2">when we actually deploy this to</p>
<p begin="08:54:26.120" end="08:54:29.638" style="s2">production our postest server is not</p>
<p begin="08:54:27.558" end="08:54:30.840" style="s2">going to be running on this machine it&#39;s</p>
<p begin="08:54:29.638" end="08:54:32.360" style="s2">it may not even be running on the</p>
<p begin="08:54:30.840" end="08:54:34.000" style="s2">machine that our application is actually</p>
<p begin="08:54:32.360" end="08:54:36.160" style="s2">deployed on it could be on a a</p>
<p begin="08:54:34.000" end="08:54:37.840" style="s2">completely different system so we would</p>
<p begin="08:54:36.160" end="08:54:39.638" style="s2">need a way for the code to automatically</p>
<p begin="08:54:37.840" end="08:54:42.120" style="s2">update in in a production environment to</p>
<p begin="08:54:39.638" end="08:54:43.600" style="s2">point to the actual production postgress</p>
<p begin="08:54:42.120" end="08:54:45.238" style="s2">database instead of using the one that&#39;s</p>
<p begin="08:54:43.600" end="08:54:47.638" style="s2">hardcoded in</p>
<p begin="08:54:45.238" end="08:54:49.440" style="s2">here and so we need a way to do that and</p>
<p begin="08:54:47.638" end="08:54:51.878" style="s2">keep in mind this uh this isn&#39;t</p>
<p begin="08:54:49.440" end="08:54:54.478" style="s2">exclusive to just working with the</p>
<p begin="08:54:51.878" end="08:54:56.200" style="s2">databases any kind of uh confidential</p>
<p begin="08:54:54.478" end="08:54:58.440" style="s2">information any passwords Secrets</p>
<p begin="08:54:56.200" end="08:55:00.080" style="s2">anything that needs to get updated uh</p>
<p begin="08:54:58.440" end="08:55:03.680" style="s2">based off of the environment that it&#39;s</p>
<p begin="08:55:00.080" end="08:55:05.558" style="s2">in uh needs a way we we&#39;ll run into the</p>
<p begin="08:55:03.680" end="08:55:08.120" style="s2">same exact issue right and if we go to</p>
<p begin="08:55:05.558" end="08:55:10.000" style="s2">our oath 2. file you can see that we</p>
<p begin="08:55:08.120" end="08:55:12.120" style="s2">have our secret key hardcoded in here</p>
<p begin="08:55:10.000" end="08:55:14.280" style="s2">this is something that we don&#39;t want to</p>
<p begin="08:55:12.120" end="08:55:16.120" style="s2">do we don&#39;t want to expose this and we</p>
<p begin="08:55:14.280" end="08:55:17.200" style="s2">need this to get updated between our</p>
<p begin="08:55:16.120" end="08:55:18.600" style="s2">development and our production</p>
<p begin="08:55:17.200" end="08:55:21.040" style="s2">environment because they may not be the</p>
<p begin="08:55:18.600" end="08:55:22.200" style="s2">same on both so how do we do that well</p>
<p begin="08:55:21.040" end="08:55:25.120" style="s2">we&#39;re going to make use of something</p>
<p begin="08:55:22.200" end="08:55:28.040" style="s2">called environment variables and so an</p>
<p begin="08:55:25.120" end="08:55:30.520" style="s2">environment variable is just a variable</p>
<p begin="08:55:28.040" end="08:55:31.680" style="s2">that you configure on a computer doesn&#39;t</p>
<p begin="08:55:30.520" end="08:55:33.558" style="s2">matter what operating system they all</p>
<p begin="08:55:31.680" end="08:55:35.280" style="s2">support it and when you configure an</p>
<p begin="08:55:33.558" end="08:55:37.680" style="s2">environment variable on your computer</p>
<p begin="08:55:35.280" end="08:55:40.478" style="s2">any application that&#39;s running on that</p>
<p begin="08:55:37.680" end="08:55:44.280" style="s2">computer will be able to access</p>
<p begin="08:55:40.478" end="08:55:46.080" style="s2">it and that includes our fast API so Pi</p>
<p begin="08:55:44.280" end="08:55:47.840" style="s2">your python app will be able to access</p>
<p begin="08:55:46.080" end="08:55:49.360" style="s2">any environment variables on the machine</p>
<p begin="08:55:47.840" end="08:55:51.318" style="s2">and so instead of hard coding the values</p>
<p begin="08:55:49.360" end="08:55:53.798" style="s2">in our code what we&#39;ll say is hey</p>
<p begin="08:55:51.318" end="08:55:54.920" style="s2">retrieve an environment variable named</p>
<p begin="08:55:53.798" end="08:55:56.120" style="s2">you know what whatever like we might</p>
<p begin="08:55:54.920" end="08:55:58.318" style="s2">have an environment variable called</p>
<p begin="08:55:56.120" end="08:55:59.680" style="s2">postgress URL and that&#39;s going to</p>
<p begin="08:55:58.318" end="08:56:01.798" style="s2">contain the URL of our postgress</p>
<p begin="08:55:59.680" end="08:56:03.760" style="s2">database and so we don&#39;t need to</p>
<p begin="08:56:01.798" end="08:56:06.318" style="s2">hardcode the actual value we hardcode</p>
<p begin="08:56:03.760" end="08:56:08.120" style="s2">just the name of the variable and then</p>
<p begin="08:56:06.318" end="08:56:09.280" style="s2">python will automatically pull in that</p>
<p begin="08:56:08.120" end="08:56:11.840" style="s2">that variable so let me show you guys</p>
<p begin="08:56:09.280" end="08:56:13.558" style="s2">how to do that and I&#39;m going to show you</p>
<p begin="08:56:11.840" end="08:56:15.440" style="s2">guys how to do this on Windows first and</p>
<p begin="08:56:13.558" end="08:56:17.238" style="s2">then we&#39;ll take a look at this on a Mac</p>
<p begin="08:56:15.440" end="08:56:21.080" style="s2">or a Linux machine Mac and Linux are the</p>
<p begin="08:56:17.238" end="08:56:23.000" style="s2">same steps so I&#39;m going to search for</p>
<p begin="08:56:21.080" end="08:56:26.040" style="s2">environment and you&#39;ll see this edit the</p>
<p begin="08:56:23.000" end="08:56:27.840" style="s2">system environment variables</p>
<p begin="08:56:26.040" end="08:56:29.280" style="s2">and what we want to do is we want to go</p>
<p begin="08:56:27.840" end="08:56:32.318" style="s2">to environment variables under the</p>
<p begin="08:56:29.280" end="08:56:34.040" style="s2">advanced Tab and here you&#39;ll see two</p>
<p begin="08:56:32.318" end="08:56:34.958" style="s2">sections you&#39;ve got system variables</p>
<p begin="08:56:34.040" end="08:56:37.360" style="s2">this is going to be environment</p>
<p begin="08:56:34.958" end="08:56:39.638" style="s2">variables uh that are systemwide which</p>
<p begin="08:56:37.360" end="08:56:41.318" style="s2">means any user can access them and then</p>
<p begin="08:56:39.638" end="08:56:43.238" style="s2">we have user specific variable so these</p>
<p begin="08:56:41.318" end="08:56:45.440" style="s2">are variables that only I can</p>
<p begin="08:56:43.238" end="08:56:47.120" style="s2">access and you can just kind of you know</p>
<p begin="08:56:45.440" end="08:56:49.080" style="s2">go through these and just take a look at</p>
<p begin="08:56:47.120" end="08:56:50.478" style="s2">them um but you can see that we have an</p>
<p begin="08:56:49.080" end="08:56:52.478" style="s2">environment variable called path don&#39;t</p>
<p begin="08:56:50.478" end="08:56:53.798" style="s2">worry about what it&#39;s used for uh this</p>
<p begin="08:56:52.478" end="08:56:55.440" style="s2">is something that gets set up when you</p>
<p begin="08:56:53.798" end="08:56:56.920" style="s2">install machine but we&#39;re going to take</p>
<p begin="08:56:55.440" end="08:56:59.520" style="s2">a look and try to access this so you can</p>
<p begin="08:56:56.920" end="08:57:01.798" style="s2">see that this is the key the variable</p>
<p begin="08:56:59.520" end="08:57:03.958" style="s2">name path and then the value is some</p>
<p begin="08:57:01.798" end="08:57:06.558" style="s2">sort of path in our operating system or</p>
<p begin="08:57:03.958" end="08:57:10.958" style="s2">in our file system so how do we actually</p>
<p begin="08:57:06.558" end="08:57:10.958" style="s2">access that well let&#39;s open up a</p>
<p begin="08:57:12.920" end="08:57:15.840" style="s2">terminal and here I&#39;m just going to type</p>
<p begin="08:57:14.878" end="08:57:18.318" style="s2">in</p>
<p begin="08:57:15.840" end="08:57:19.760" style="s2">Echo and then we want to access an envir</p>
<p begin="08:57:18.318" end="08:57:21.280" style="s2">variable just do percent and then the</p>
<p begin="08:57:19.760" end="08:57:23.920" style="s2">name of the variable so I&#39;ll say path</p>
<p begin="08:57:21.280" end="08:57:26.478" style="s2">with a capital P and if I run this you</p>
<p begin="08:57:23.920" end="08:57:28.440" style="s2">can see that it prints out that specific</p>
<p begin="08:57:26.478" end="08:57:30.520" style="s2">path and so that&#39;s how you access an</p>
<p begin="08:57:28.440" end="08:57:32.318" style="s2">environment variable on the command line</p>
<p begin="08:57:30.520" end="08:57:33.478" style="s2">uh with python code it&#39;s going to be a</p>
<p begin="08:57:32.318" end="08:57:34.958" style="s2">little bit different but it&#39;s still</p>
<p begin="08:57:33.478" end="08:57:36.840" style="s2">pretty simple I&#39;m going to open up a new</p>
<p begin="08:57:34.958" end="08:57:38.600" style="s2">file just for demonstration purposes you</p>
<p begin="08:57:36.840" end="08:57:40.878" style="s2">don&#39;t have to actually follow along on</p>
<p begin="08:57:38.600" end="08:57:42.200" style="s2">this and to actually access a</p>
<p begin="08:57:40.878" end="08:57:43.680" style="s2">environment variable we have to import</p>
<p begin="08:57:42.200" end="08:57:46.080" style="s2">the OS</p>
<p begin="08:57:43.680" end="08:57:48.798" style="s2">module and then to access that variable</p>
<p begin="08:57:46.080" end="08:57:51.318" style="s2">you say OS</p>
<p begin="08:57:48.798" end="08:57:53.840" style="s2">do get</p>
<p begin="08:57:51.318" end="08:57:55.600" style="s2">NV and then within this method you uh</p>
<p begin="08:57:53.840" end="08:57:58.280" style="s2">just passing the name or the key of the</p>
<p begin="08:57:55.600" end="08:57:59.680" style="s2">variable so in this case it&#39;s path and</p>
<p begin="08:57:58.280" end="08:58:01.520" style="s2">I&#39;m just going to store this in a</p>
<p begin="08:57:59.680" end="08:58:03.958" style="s2">variable we can call this anything I&#39;ll</p>
<p begin="08:58:01.520" end="08:58:06.160" style="s2">just call this path why</p>
<p begin="08:58:03.958" end="08:58:09.000" style="s2">not and then I&#39;ll print out path so we</p>
<p begin="08:58:06.160" end="08:58:10.238" style="s2">can see how see if it actually works but</p>
<p begin="08:58:09.000" end="08:58:13.200" style="s2">now if I do</p>
<p begin="08:58:10.238" end="08:58:16.080" style="s2">pi-3 and then run example.</p>
<p begin="08:58:13.200" end="08:58:17.398" style="s2">py you can see that it printed out that</p>
<p begin="08:58:16.080" end="08:58:20.558" style="s2">same exact</p>
<p begin="08:58:17.398" end="08:58:24.920" style="s2">path now to set a new environment</p>
<p begin="08:58:20.558" end="08:58:24.920" style="s2">variable we would go to new</p>
<p begin="08:58:25.120" end="08:58:29.680" style="s2">and maybe I create a URL um a variable</p>
<p begin="08:58:27.478" end="08:58:31.958" style="s2">name called postgress or we can just</p>
<p begin="08:58:29.680" end="08:58:34.558" style="s2">call this how about myor</p>
<p begin="08:58:31.958" end="08:58:36.200" style="s2">dbor URL so this is going to have the uh</p>
<p begin="08:58:34.558" end="08:58:37.798" style="s2">URL to access our database I&#39;m going to</p>
<p begin="08:58:36.200" end="08:58:40.080" style="s2">say this is at Local</p>
<p begin="08:58:37.798" end="08:58:42.638" style="s2">Host col</p>
<p begin="08:58:40.080" end="08:58:45.238" style="s2">5432 I think that&#39;s what our database is</p>
<p begin="08:58:42.638" end="08:58:46.718" style="s2">running on and I&#39;ll hit okay and so here</p>
<p begin="08:58:45.238" end="08:58:48.600" style="s2">we can see that this is our new</p>
<p begin="08:58:46.718" end="08:58:51.718" style="s2">environment variable that we created my</p>
<p begin="08:58:48.600" end="08:58:54.878" style="s2">dpor URL and it&#39;s set to Local Host 5432</p>
<p begin="08:58:51.718" end="08:58:57.238" style="s2">I&#39;ll hit okay</p>
<p begin="08:58:54.878" end="08:58:58.798" style="s2">and then I&#39;ll hit okay here and then</p>
<p begin="08:58:57.238" end="08:59:01.160" style="s2">what we&#39;re going to do is we&#39;re going to</p>
<p begin="08:58:58.798" end="08:59:05.120" style="s2">try to access that variable so I&#39;ll do</p>
<p begin="08:59:01.160" end="08:59:07.958" style="s2">Echo myor dbor</p>
<p begin="08:59:05.120" end="08:59:10.120" style="s2">URL percent and actually it should be</p>
<p begin="08:59:07.958" end="08:59:12.440" style="s2">percent</p>
<p begin="08:59:10.120" end="08:59:13.878" style="s2">percent and you can see that it does not</p>
<p begin="08:59:12.440" end="08:59:16.120" style="s2">print out what we said it just prints</p>
<p begin="08:59:13.878" end="08:59:17.958" style="s2">out exactly what we wrote so what gives</p>
<p begin="08:59:16.120" end="08:59:19.238" style="s2">what happened here well anytime you set</p>
<p begin="08:59:17.958" end="08:59:20.360" style="s2">a new environment variable what you got</p>
<p begin="08:59:19.238" end="08:59:21.920" style="s2">to do is you got to close out your</p>
<p begin="08:59:20.360" end="08:59:23.878" style="s2">terminal and open up a brand new one so</p>
<p begin="08:59:21.920" end="08:59:26.520" style="s2">I can you know I can close this out or I</p>
<p begin="08:59:23.878" end="08:59:28.238" style="s2">can just open up a new one and this new</p>
<p begin="08:59:26.520" end="08:59:30.440" style="s2">terminal well actually I don&#39;t want a</p>
<p begin="08:59:28.238" end="08:59:32.680" style="s2">pow shell I want a command</p>
<p begin="08:59:30.440" end="08:59:35.200" style="s2">prompt so this new terminal will be able</p>
<p begin="08:59:32.680" end="08:59:37.360" style="s2">to access uh newly created environment</p>
<p begin="08:59:35.200" end="08:59:38.600" style="s2">variables because they get Set uh as</p>
<p begin="08:59:37.360" end="08:59:40.680" style="s2">soon as the terminal opens so once the</p>
<p begin="08:59:38.600" end="08:59:42.000" style="s2">terminal is open I can&#39;t change them so</p>
<p begin="08:59:40.680" end="08:59:43.718" style="s2">I have to open up a new one so that it</p>
<p begin="08:59:42.000" end="08:59:45.238" style="s2">can reread and import all of those</p>
<p begin="08:59:43.718" end="08:59:47.398" style="s2">environment variables so now if I do</p>
<p begin="08:59:45.238" end="08:59:53.398" style="s2">Echo percent</p>
<p begin="08:59:47.398" end="08:59:53.398" style="s2">mycore dbor URL percent</p>
<p begin="08:59:57.000" end="09:00:01.520" style="s2">it looks like I may have mistyped this</p>
<p begin="08:59:59.360" end="09:00:04.520" style="s2">so hold on let me see</p>
<p begin="09:00:01.520" end="09:00:06.200" style="s2">what what is called and that looks like</p>
<p begin="09:00:04.520" end="09:00:08.000" style="s2">it&#39;s correct so what&#39;s what&#39;s happening</p>
<p begin="09:00:06.200" end="09:00:09.280" style="s2">well I&#39;m going to close out all of them</p>
<p begin="09:00:08.000" end="09:00:11.958" style="s2">that&#39;s probably what&#39;s the issue so let</p>
<p begin="09:00:09.280" end="09:00:11.958" style="s2">me open up a new</p>
<p begin="09:00:14.040" end="09:00:18.920" style="s2">terminal and I&#39;ll open up a new CR</p>
<p begin="09:00:16.440" end="09:00:20.360" style="s2">command prompt and now I&#39;m going to try</p>
<p begin="09:00:18.920" end="09:00:25.760" style="s2">Echo</p>
<p begin="09:00:20.360" end="09:00:28.080" style="s2">percent my underscore DB _</p>
<p begin="09:00:25.760" end="09:00:29.840" style="s2">URL and now we can see that we can read</p>
<p begin="09:00:28.080" end="09:00:31.600" style="s2">it so we have to close out our Terminals</p>
<p begin="09:00:29.840" end="09:00:33.398" style="s2">and open up a brand new one it&#39;s kind of</p>
<p begin="09:00:31.600" end="09:00:36.318" style="s2">annoying um but that&#39;s just the way it</p>
<p begin="09:00:33.398" end="09:00:37.958" style="s2">works now on top of that there&#39;s an even</p>
<p begin="09:00:36.318" end="09:00:40.798" style="s2">bigger issue and I think this is</p>
<p begin="09:00:37.958" end="09:00:43.558" style="s2">exclusive to Windows uh and that is that</p>
<p begin="09:00:40.798" end="09:00:45.760" style="s2">VSS code the terminals here it&#39;s</p>
<p begin="09:00:43.558" end="09:00:47.520" style="s2">whenever you set a new environment</p>
<p begin="09:00:45.760" end="09:00:48.878" style="s2">variable they never have access to it so</p>
<p begin="09:00:47.520" end="09:00:51.200" style="s2">you could try deleting all of these</p>
<p begin="09:00:48.878" end="09:00:54.160" style="s2">Terminals and then creating a new</p>
<p begin="09:00:51.200" end="09:00:58.280" style="s2">terminal and then accessing</p>
<p begin="09:00:54.160" end="09:00:58.280" style="s2">that new environment variable my dbor</p>
<p begin="09:00:58.840" end="09:01:02.440" style="s2">URL and if I try</p>
<p begin="09:01:04.600" end="09:01:09.798" style="s2">to if I try to access if I try to run</p>
<p begin="09:01:07.600" end="09:01:09.798" style="s2">this</p>
<p begin="09:01:10.280" end="09:01:14.558" style="s2">code you&#39;ll see that it just says None</p>
<p begin="09:01:13.000" end="09:01:17.000" style="s2">and if I just try to run the same Echo</p>
<p begin="09:01:14.558" end="09:01:17.000" style="s2">command</p>
<p begin="09:01:18.120" end="09:01:22.398" style="s2">here you&#39;ll see that it just spits it</p>
<p begin="09:01:20.920" end="09:01:24.160" style="s2">out so it&#39;s not able to read it and it&#39;s</p>
<p begin="09:01:22.398" end="09:01:25.920" style="s2">a it&#39;s a little bit of an annoying issue</p>
<p begin="09:01:24.160" end="09:01:28.520" style="s2">with vs code and windows you have to</p>
<p begin="09:01:25.920" end="09:01:30.760" style="s2">close out every single VSS code window</p>
<p begin="09:01:28.520" end="09:01:32.478" style="s2">that you have and and then reopen them</p>
<p begin="09:01:30.760" end="09:01:34.440" style="s2">and sometimes even then that doesn&#39;t fix</p>
<p begin="09:01:32.478" end="09:01:37.398" style="s2">the issue so know that this is just kind</p>
<p begin="09:01:34.440" end="09:01:39.920" style="s2">of a limitation with</p>
<p begin="09:01:37.398" end="09:01:41.478" style="s2">Windows But ultimately uh don&#39;t worry</p>
<p begin="09:01:39.920" end="09:01:42.958" style="s2">too much about that because uh you&#39;re</p>
<p begin="09:01:41.478" end="09:01:45.798" style="s2">going to see that especially in a</p>
<p begin="09:01:42.958" end="09:01:47.398" style="s2">development environment going into and</p>
<p begin="09:01:45.798" end="09:01:49.958" style="s2">actually setting all of these variables</p>
<p begin="09:01:47.398" end="09:01:52.080" style="s2">yourself is unnecessary right I don&#39;t</p>
<p begin="09:01:49.958" end="09:01:55.200" style="s2">want to have to go in and Set uh one for</p>
<p begin="09:01:52.080" end="09:01:57.120" style="s2">my database IP my data base Port um as</p>
<p begin="09:01:55.200" end="09:01:58.958" style="s2">well as my secret key my password my</p>
<p begin="09:01:57.120" end="09:02:00.478" style="s2">username the it&#39;s just too many to</p>
<p begin="09:01:58.958" end="09:02:02.680" style="s2">manage yourself and you&#39;ll see that more</p>
<p begin="09:02:00.478" end="09:02:03.840" style="s2">complex applications could have 10 20 30</p>
<p begin="09:02:02.680" end="09:02:06.238" style="s2">environment variables that need to be</p>
<p begin="09:02:03.840" end="09:02:07.360" style="s2">set so instead of going into your system</p>
<p begin="09:02:06.238" end="09:02:10.360" style="s2">and actually changing it I&#39;m going to</p>
<p begin="09:02:07.360" end="09:02:11.718" style="s2">show you guys in the next video I&#39;m</p>
<p begin="09:02:10.360" end="09:02:14.080" style="s2">going to show you guys how we can get</p>
<p begin="09:02:11.718" end="09:02:16.238" style="s2">around this um by using what&#39;s referred</p>
<p begin="09:02:14.080" end="09:02:17.558" style="s2">to as an environment file uh and so you</p>
<p begin="09:02:16.238" end="09:02:18.760" style="s2">don&#39;t actually need to worry about the</p>
<p begin="09:02:17.558" end="09:02:19.798" style="s2">limitations while we&#39;re running here</p>
<p begin="09:02:18.760" end="09:02:21.200" style="s2">because we&#39;re never actually going to</p>
<p begin="09:02:19.798" end="09:02:23.000" style="s2">set our own environment variables on our</p>
<p begin="09:02:21.200" end="09:02:24.920" style="s2">local machine especially in our</p>
<p begin="09:02:23.000" end="09:02:27.120" style="s2">development machine because it&#39;s just</p>
<p begin="09:02:24.920" end="09:02:28.760" style="s2">too slow of a process and it makes</p>
<p begin="09:02:27.120" end="09:02:31.520" style="s2">things unnecessarily difficult to</p>
<p begin="09:02:28.760" end="09:02:32.638" style="s2">troubleshoot so before we wrap things up</p>
<p begin="09:02:31.520" end="09:02:34.238" style="s2">if you want to delete that environment</p>
<p begin="09:02:32.638" end="09:02:36.318" style="s2">varable feel free to do that which we</p>
<p begin="09:02:34.238" end="09:02:37.798" style="s2">can just go here and I can just select</p>
<p begin="09:02:36.318" end="09:02:39.878" style="s2">that and then hit</p>
<p begin="09:02:37.798" end="09:02:42.840" style="s2">delete and let me get let me show you</p>
<p begin="09:02:39.878" end="09:02:45.040" style="s2">guys how to do this on a Mac to set an</p>
<p begin="09:02:42.840" end="09:02:46.558" style="s2">environment variable on a Mac machine</p>
<p begin="09:02:45.040" end="09:02:47.878" style="s2">the command that we run in the terminal</p>
<p begin="09:02:46.558" end="09:02:49.318" style="s2">there isn&#39;t a gooey kind of like in</p>
<p begin="09:02:47.878" end="09:02:51.360" style="s2">Windows um we actually have to use a</p>
<p begin="09:02:49.318" end="09:02:52.638" style="s2">terminal which I actually prefer uh what</p>
<p begin="09:02:51.360" end="09:02:54.160" style="s2">we do is we just type in the command</p>
<p begin="09:02:52.638" end="09:02:56.280" style="s2">export</p>
<p begin="09:02:54.160" end="09:02:57.878" style="s2">and then we provide the name of the or</p>
<p begin="09:02:56.280" end="09:03:03.160" style="s2">the name of the variable or the key so</p>
<p begin="09:02:57.878" end="09:03:06.600" style="s2">I&#39;ll say myor dbor URL then we say</p>
<p begin="09:03:03.160" end="09:03:08.360" style="s2">equals and then we just provide the text</p>
<p begin="09:03:06.600" end="09:03:11.318" style="s2">uh the value so in this case maybe this</p>
<p begin="09:03:08.360" end="09:03:14.878" style="s2">is Local Host all in</p>
<p begin="09:03:11.318" end="09:03:16.280" style="s2">5432 all right and then to actually read</p>
<p begin="09:03:14.878" end="09:03:20.040" style="s2">the environment variables that have been</p>
<p begin="09:03:16.280" end="09:03:20.040" style="s2">set you type in print</p>
<p begin="09:03:20.120" end="09:03:23.600" style="s2">NV and here we can take a look at all</p>
<p begin="09:03:22.440" end="09:03:25.520" style="s2">the environment variables most of these</p>
<p begin="09:03:23.600" end="09:03:27.558" style="s2">have been set by the machine itself and</p>
<p begin="09:03:25.520" end="09:03:30.238" style="s2">you&#39;ll see that nowhere in here do we</p>
<p begin="09:03:27.558" end="09:03:32.478" style="s2">see well actually we do see my DB URL</p>
<p begin="09:03:30.238" end="09:03:34.520" style="s2">right here however uh just like I said</p>
<p begin="09:03:32.478" end="09:03:35.760" style="s2">in Windows sometimes uh you know</p>
<p begin="09:03:34.520" end="09:03:37.040" style="s2">depending on the terminal you&#39;re using</p>
<p begin="09:03:35.760" end="09:03:38.638" style="s2">and a few other things sometimes you</p>
<p begin="09:03:37.040" end="09:03:40.520" style="s2">actually have to close out this terminal</p>
<p begin="09:03:38.638" end="09:03:42.520" style="s2">and open up a new one to actually get</p>
<p begin="09:03:40.520" end="09:03:45.040" style="s2">the new environment variable um but here</p>
<p begin="09:03:42.520" end="09:03:48.120" style="s2">we can just access</p>
<p begin="09:03:45.040" end="09:03:53.958" style="s2">it by typing Echo and then we can just</p>
<p begin="09:03:48.120" end="09:03:55.558" style="s2">say dollar myor dbor URL and and you can</p>
<p begin="09:03:53.958" end="09:03:57.280" style="s2">see it prints it out and then within</p>
<p begin="09:03:55.558" end="09:03:59.200" style="s2">python uh just like we did on the</p>
<p begin="09:03:57.280" end="09:04:01.160" style="s2">Windows machine accessing it is the same</p>
<p begin="09:03:59.200" end="09:04:02.360" style="s2">exact way it shouldn&#39;t matter depend it</p>
<p begin="09:04:01.160" end="09:04:03.600" style="s2">shouldn&#39;t matter which operating system</p>
<p begin="09:04:02.360" end="09:04:05.440" style="s2">you&#39;re on it&#39;s the same exact thing from</p>
<p begin="09:04:03.600" end="09:04:07.558" style="s2">your codes</p>
<p begin="09:04:05.440" end="09:04:09.080" style="s2">perspective with any project there&#39;s</p>
<p begin="09:04:07.558" end="09:04:11.360" style="s2">going to be a certain number of</p>
<p begin="09:04:09.080" end="09:04:12.920" style="s2">environment variables and as I said as</p>
<p begin="09:04:11.360" end="09:04:15.080" style="s2">your project grows you&#39;re going to have</p>
<p begin="09:04:12.920" end="09:04:17.238" style="s2">more and more of them and one of the</p>
<p begin="09:04:15.080" end="09:04:18.760" style="s2">issues that you can run into is that you</p>
<p begin="09:04:17.238" end="09:04:20.280" style="s2">could potentially forget to set one of</p>
<p begin="09:04:18.760" end="09:04:21.360" style="s2">them either on your development</p>
<p begin="09:04:20.280" end="09:04:23.080" style="s2">environment or your production</p>
<p begin="09:04:21.360" end="09:04:26.478" style="s2">environment and it&#39;s probably going to</p>
<p begin="09:04:23.080" end="09:04:28.318" style="s2">cause your application to crash and so</p>
<p begin="09:04:26.478" end="09:04:30.958" style="s2">what would be good is to perform some</p>
<p begin="09:04:28.318" end="09:04:32.718" style="s2">sort of validation to ensure that all of</p>
<p begin="09:04:30.958" end="09:04:34.520" style="s2">the right environment variables have</p>
<p begin="09:04:32.718" end="09:04:37.160" style="s2">been set for your application to</p>
<p begin="09:04:34.520" end="09:04:38.360" style="s2">actually run properly and on top of that</p>
<p begin="09:04:37.160" end="09:04:40.718" style="s2">it&#39;s important to understand that when</p>
<p begin="09:04:38.360" end="09:04:43.040" style="s2">you read an environment variable it&#39;s</p>
<p begin="09:04:40.718" end="09:04:45.360" style="s2">always going to come out as a</p>
<p begin="09:04:43.040" end="09:04:46.600" style="s2">string which which is fine but it just</p>
<p begin="09:04:45.360" end="09:04:48.878" style="s2">means that you have to do all of the</p>
<p begin="09:04:46.600" end="09:04:51.318" style="s2">validation in code so if you&#39;re setting</p>
<p begin="09:04:48.878" end="09:04:53.718" style="s2">an environment variable for your uh you</p>
<p begin="09:04:51.318" end="09:04:55.840" style="s2">know your access token expire minutes</p>
<p begin="09:04:53.718" end="09:04:57.238" style="s2">right we needed this to be an INT not a</p>
<p begin="09:04:55.840" end="09:04:58.600" style="s2">string but when we read the environment</p>
<p begin="09:04:57.238" end="09:05:00.478" style="s2">variable it&#39;s going to come out as a</p>
<p begin="09:04:58.600" end="09:05:02.638" style="s2">string so we have to convert this to an</p>
<p begin="09:05:00.478" end="09:05:04.840" style="s2">integer so when it comes to verifying</p>
<p begin="09:05:02.638" end="09:05:07.440" style="s2">that all the properties are set as well</p>
<p begin="09:05:04.840" end="09:05:09.520" style="s2">as performing validation we might have</p>
<p begin="09:05:07.440" end="09:05:11.600" style="s2">already kind of addressed this issue</p>
<p begin="09:05:09.520" end="09:05:13.558" style="s2">with a different part of our application</p>
<p begin="09:05:11.600" end="09:05:14.878" style="s2">right and that&#39;s our schemas right we do</p>
<p begin="09:05:13.558" end="09:05:17.958" style="s2">the same thing with all of the data we</p>
<p begin="09:05:14.878" end="09:05:19.558" style="s2">send in the body by using pantic to</p>
<p begin="09:05:17.958" end="09:05:21.120" style="s2">perform all that verification to make</p>
<p begin="09:05:19.558" end="09:05:23.200" style="s2">sure that every single property that we</p>
<p begin="09:05:21.120" end="09:05:25.120" style="s2">need is there and to also perform all of</p>
<p begin="09:05:23.200" end="09:05:26.760" style="s2">the type casting so if we set it</p>
<p begin="09:05:25.120" end="09:05:28.440" style="s2">something to be an integer it&#39;ll</p>
<p begin="09:05:26.760" end="09:05:31.000" style="s2">automatically convert it and validate</p>
<p begin="09:05:28.440" end="09:05:33.000" style="s2">that is a valid integer and what&#39;s great</p>
<p begin="09:05:31.000" end="09:05:36.440" style="s2">about pantic is we can actually use</p>
<p begin="09:05:33.000" end="09:05:38.600" style="s2">pantic to perform all of that validation</p>
<p begin="09:05:36.440" end="09:05:40.638" style="s2">for our environment variables and let&#39;s</p>
<p begin="09:05:38.600" end="09:05:43.638" style="s2">see how we can actually do that so I&#39;m</p>
<p begin="09:05:40.638" end="09:05:45.760" style="s2">going to go to main.py and as an example</p>
<p begin="09:05:43.638" end="09:05:48.238" style="s2">I&#39;m just going to uh import from the</p>
<p begin="09:05:45.760" end="09:05:48.238" style="s2">pantic</p>
<p begin="09:05:48.318" end="09:05:53.520" style="s2">library something called base settings</p>
<p begin="09:05:53.878" end="09:05:59.840" style="s2">and so just like with uh you know any</p>
<p begin="09:05:55.600" end="09:06:01.680" style="s2">other pantic model right we can set up a</p>
<p begin="09:05:59.840" end="09:06:04.478" style="s2">class and I&#39;m going to call this</p>
<p begin="09:06:01.680" end="09:06:06.478" style="s2">settings and this is going to extend</p>
<p begin="09:06:04.478" end="09:06:08.640" style="s2">base</p>
<p begin="09:06:06.478" end="09:06:11.438" style="s2">settings and I didn&#39;t mean to</p>
<p begin="09:06:08.640" end="09:06:14.160" style="s2">accidentally import</p>
<p begin="09:06:11.438" end="09:06:16.918" style="s2">base and here we can basically just</p>
<p begin="09:06:14.160" end="09:06:19.520" style="s2">provide a list of all of the environment</p>
<p begin="09:06:16.918" end="09:06:22.278" style="s2">variables that we need set as properties</p>
<p begin="09:06:19.520" end="09:06:24.718" style="s2">on the class itself and so you know</p>
<p begin="09:06:22.278" end="09:06:28.078" style="s2">maybe I need something called</p>
<p begin="09:06:24.718" end="09:06:31.878" style="s2">database undor</p>
<p begin="09:06:28.078" end="09:06:34.160" style="s2">password and this needs to be a of type</p>
<p begin="09:06:31.878" end="09:06:36.800" style="s2">string and we can even give it a default</p>
<p begin="09:06:34.160" end="09:06:39.758" style="s2">value which is Local</p>
<p begin="09:06:36.800" end="09:06:41.360" style="s2">Host and then maybe I need a</p>
<p begin="09:06:39.758" end="09:06:43.718" style="s2">database</p>
<p begin="09:06:41.360" end="09:06:45.122" style="s2">username which is going to be string and</p>
<p begin="09:06:43.718" end="09:06:46.320" style="s2">we can give it once again a default</p>
<p begin="09:06:45.122" end="09:06:48.360" style="s2">password we don&#39;t actually have to give</p>
<p begin="09:06:46.320" end="09:06:50.040" style="s2">a default value but if you want to you</p>
<p begin="09:06:48.360" end="09:06:53.040" style="s2">can and I&#39;ll say this is going to be</p>
<p begin="09:06:50.040" end="09:06:53.040" style="s2">postgress</p>
<p begin="09:06:53.758" end="09:06:57.160" style="s2">and then maybe we want the secret</p>
<p begin="09:06:58.640" end="09:07:02.520" style="s2">key and this is once again going to be a</p>
<p begin="09:07:00.840" end="09:07:05.800" style="s2">type string and we can just give it you</p>
<p begin="09:07:02.520" end="09:07:07.122" style="s2">know some arbitrary default and let&#39;s</p>
<p begin="09:07:05.800" end="09:07:08.160" style="s2">say these are the only environment</p>
<p begin="09:07:07.122" end="09:07:10.840" style="s2">variables that we need for our</p>
<p begin="09:07:08.160" end="09:07:12.840" style="s2">application to run by setting it like</p>
<p begin="09:07:10.840" end="09:07:14.558" style="s2">this it&#39;s going to automatically perform</p>
<p begin="09:07:12.840" end="09:07:16.680" style="s2">all of the validation for us to ensure</p>
<p begin="09:07:14.558" end="09:07:18.200" style="s2">that all of these have been set and an</p>
<p begin="09:07:16.680" end="09:07:20.480" style="s2">important thing to understand is that</p>
<p begin="09:07:18.200" end="09:07:23.758" style="s2">when you set environment variables uh</p>
<p begin="09:07:20.480" end="09:07:26.758" style="s2">you know if we just quickly go back to</p>
<p begin="09:07:23.758" end="09:07:29.278" style="s2">um the environment variables on my</p>
<p begin="09:07:26.758" end="09:07:31.520" style="s2">machine normally best practice for</p>
<p begin="09:07:29.278" end="09:07:33.918" style="s2">environment variables is to do all caps</p>
<p begin="09:07:31.520" end="09:07:35.360" style="s2">with underscores right it it doesn&#39;t</p>
<p begin="09:07:33.918" end="09:07:36.718" style="s2">have to be all caps but this is just</p>
<p begin="09:07:35.360" end="09:07:38.480" style="s2">kind of standard convention you can see</p>
<p begin="09:07:36.718" end="09:07:41.320" style="s2">I&#39;ve got some that aren&#39;t like that but</p>
<p begin="09:07:38.480" end="09:07:43.800" style="s2">in general you want to do it all caps</p>
<p begin="09:07:41.320" end="09:07:46.000" style="s2">and you can see here we reference it all</p>
<p begin="09:07:43.800" end="09:07:48.000" style="s2">in lowercase so pantic will</p>
<p begin="09:07:46.000" end="09:07:50.398" style="s2">automatically handle all of this from a</p>
<p begin="09:07:48.000" end="09:07:52.078" style="s2">case insensitive per perspective so it</p>
<p begin="09:07:50.398" end="09:07:54.000" style="s2">doesn&#39;t matter if you capitalize this or</p>
<p begin="09:07:52.078" end="09:07:55.278" style="s2">lowercase everything it it&#39;ll take all</p>
<p begin="09:07:54.000" end="09:07:57.360" style="s2">of your environment variables and it&#39;ll</p>
<p begin="09:07:55.278" end="09:07:59.800" style="s2">convert it to lowercase just to simplify</p>
<p begin="09:07:57.360" end="09:08:00.918" style="s2">everything then we create a variable</p>
<p begin="09:07:59.800" end="09:08:05.238" style="s2">called</p>
<p begin="09:08:00.918" end="09:08:05.238" style="s2">settings equals and then we say</p>
<p begin="09:08:07.160" end="09:08:10.718" style="s2">settings so right here all we&#39;re doing</p>
<p begin="09:08:09.238" end="09:08:12.840" style="s2">is we&#39;re creating an instance of this</p>
<p begin="09:08:10.718" end="09:08:14.438" style="s2">settings class and so at this point</p>
<p begin="09:08:12.840" end="09:08:15.718" style="s2">pantic will read all of these</p>
<p begin="09:08:14.438" end="09:08:17.680" style="s2">environment variables and once again</p>
<p begin="09:08:15.718" end="09:08:19.238" style="s2">it&#39;ll look for them uh from a case</p>
<p begin="09:08:17.680" end="09:08:20.680" style="s2">insensitive perspective so it doesn&#39;t</p>
<p begin="09:08:19.238" end="09:08:22.320" style="s2">matter if they&#39;re capitalized or not and</p>
<p begin="09:08:20.680" end="09:08:23.960" style="s2">then it&#39;s going to and then it&#39;s going</p>
<p begin="09:08:22.320" end="09:08:25.320" style="s2">to perform all of the validation it&#39;s</p>
<p begin="09:08:23.960" end="09:08:28.718" style="s2">going to ensure that they properly a</p>
<p begin="09:08:25.320" end="09:08:30.000" style="s2">string uh and and so on and then finally</p>
<p begin="09:08:28.718" end="09:08:31.558" style="s2">it&#39;s going to store it in a variable</p>
<p begin="09:08:30.000" end="09:08:34.160" style="s2">called settings so then we can access</p>
<p begin="09:08:31.558" end="09:08:37.878" style="s2">all of these variables by just</p>
<p begin="09:08:34.160" end="09:08:39.480" style="s2">saying settings Dot and then the name of</p>
<p begin="09:08:37.878" end="09:08:40.960" style="s2">the property so if I want to get the</p>
<p begin="09:08:39.480" end="09:08:43.200" style="s2">database password I just do settings.</p>
<p begin="09:08:40.960" end="09:08:45.360" style="s2">database password and so we can print</p>
<p begin="09:08:43.200" end="09:08:45.360" style="s2">this</p>
<p begin="09:08:45.918" end="09:08:52.360" style="s2">out and I&#39;ll just start my</p>
<p begin="09:08:49.840" end="09:08:54.398" style="s2">application right and you can see that</p>
<p begin="09:08:52.360" end="09:08:56.200" style="s2">it printed out Local Host post and if I</p>
<p begin="09:08:54.398" end="09:08:59.680" style="s2">want to grab maybe the</p>
<p begin="09:08:56.200" end="09:08:59.680" style="s2">username I just say</p>
<p begin="09:09:02.078" end="09:09:07.078" style="s2">username actually sorry it should be</p>
<p begin="09:09:04.398" end="09:09:08.960" style="s2">database</p>
<p begin="09:09:07.078" end="09:09:10.558" style="s2">username and you can see it prints out</p>
<p begin="09:09:08.960" end="09:09:12.640" style="s2">post which is the default values because</p>
<p begin="09:09:10.558" end="09:09:14.078" style="s2">I haven&#39;t actually set my system uh</p>
<p begin="09:09:12.640" end="09:09:15.718" style="s2">environment variables to be any of these</p>
<p begin="09:09:14.078" end="09:09:17.640" style="s2">values so it&#39;s going to use the default</p>
<p begin="09:09:15.718" end="09:09:19.122" style="s2">one and like I said we&#39;re going to run</p>
<p begin="09:09:17.640" end="09:09:20.320" style="s2">into that Windows issue where I can&#39;t</p>
<p begin="09:09:19.122" end="09:09:21.438" style="s2">exactly update it without closing</p>
<p begin="09:09:20.320" end="09:09:23.520" style="s2">everything so I&#39;m not going to bother</p>
<p begin="09:09:21.438" end="09:09:25.398" style="s2">doing that but what I will do just to</p>
<p begin="09:09:23.520" end="09:09:28.040" style="s2">show you how this validation works is</p>
<p begin="09:09:25.398" end="09:09:30.918" style="s2">let&#39;s remove</p>
<p begin="09:09:28.040" end="09:09:33.238" style="s2">this let&#39;s say there&#39;s no default</p>
<p begin="09:09:30.918" end="09:09:34.960" style="s2">password and so if there&#39;s no default</p>
<p begin="09:09:33.238" end="09:09:37.640" style="s2">password then you know it&#39;s first going</p>
<p begin="09:09:34.960" end="09:09:38.878" style="s2">to check my system uh my my system or</p>
<p begin="09:09:37.640" end="09:09:39.800" style="s2">user environment variables to see if</p>
<p begin="09:09:38.878" end="09:09:41.520" style="s2">there&#39;s something called database</p>
<p begin="09:09:39.800" end="09:09:43.398" style="s2">password and since I didn&#39;t provide a</p>
<p begin="09:09:41.520" end="09:09:45.160" style="s2">default one if there is no environment</p>
<p begin="09:09:43.398" end="09:09:47.078" style="s2">variable with that name it&#39;s going to</p>
<p begin="09:09:45.160" end="09:09:48.520" style="s2">throw an error because the whole point</p>
<p begin="09:09:47.078" end="09:09:50.558" style="s2">of this is to validate that all of the</p>
<p begin="09:09:48.520" end="09:09:52.320" style="s2">environment variables that we have are</p>
<p begin="09:09:50.558" end="09:09:55.078" style="s2">configured</p>
<p begin="09:09:52.320" end="09:09:56.960" style="s2">here right and so after I save it if we</p>
<p begin="09:09:55.078" end="09:09:59.680" style="s2">take a look at this you can see that we</p>
<p begin="09:09:56.960" end="09:10:02.160" style="s2">get one validation error for settings so</p>
<p begin="09:09:59.680" end="09:10:04.122" style="s2">settings database password and we can</p>
<p begin="09:10:02.160" end="09:10:06.000" style="s2">see that it&#39;s missing right and so</p>
<p begin="09:10:04.122" end="09:10:07.558" style="s2">having that quick check makes our life</p>
<p begin="09:10:06.000" end="09:10:09.320" style="s2">so much easier so that we don&#39;t have to</p>
<p begin="09:10:07.558" end="09:10:11.598" style="s2">figure out you know which environment</p>
<p begin="09:10:09.320" end="09:10:13.480" style="s2">variable is is missing which one&#39;s not</p>
<p begin="09:10:11.598" end="09:10:15.000" style="s2">because like I said you could have 10 20</p>
<p begin="09:10:13.480" end="09:10:17.278" style="s2">30 40 of them there&#39;s going to be a lot</p>
<p begin="09:10:15.000" end="09:10:19.640" style="s2">of them and managing them does become a</p>
<p begin="09:10:17.278" end="09:10:22.278" style="s2">little bit of a challenge now one quick</p>
<p begin="09:10:19.640" end="09:10:24.438" style="s2">thing uh you know let&#39;s say I go to my</p>
<p begin="09:10:22.278" end="09:10:27.360" style="s2">environment variables once more and I&#39;ve</p>
<p begin="09:10:24.438" end="09:10:30.278" style="s2">got uh something called path right so</p>
<p begin="09:10:27.360" end="09:10:31.320" style="s2">path is uh you know some the path to a</p>
<p begin="09:10:30.278" end="09:10:33.040" style="s2">specific</p>
<p begin="09:10:31.320" end="09:10:34.878" style="s2">directory and what I&#39;m going to do is</p>
<p begin="09:10:33.040" end="09:10:36.598" style="s2">I&#39;m going to say I want to access the</p>
<p begin="09:10:34.878" end="09:10:40.598" style="s2">path but we&#39;re going to say that this</p>
<p begin="09:10:36.598" end="09:10:42.160" style="s2">needs to be of type int so piden is</p>
<p begin="09:10:40.598" end="09:10:43.640" style="s2">going to perform some validation it&#39;s</p>
<p begin="09:10:42.160" end="09:10:45.520" style="s2">going to read it and every environment</p>
<p begin="09:10:43.640" end="09:10:46.878" style="s2">variable is always read as a string and</p>
<p begin="09:10:45.520" end="09:10:48.398" style="s2">then it&#39;s going to try to typ cast it</p>
<p begin="09:10:46.878" end="09:10:50.360" style="s2">into an INT and if it fails it&#39;s going</p>
<p begin="09:10:48.398" end="09:10:53.040" style="s2">to throw an error and so since this is</p>
<p begin="09:10:50.360" end="09:10:55.758" style="s2">clearly not a integer it should throw an</p>
<p begin="09:10:53.040" end="09:10:58.718" style="s2">error so let&#39;s try this out and we can</p>
<p begin="09:10:55.758" end="09:11:00.640" style="s2">see that value is not a valid integer</p>
<p begin="09:10:58.718" end="09:11:02.438" style="s2">now for all of the settings and the</p>
<p begin="09:11:00.640" end="09:11:04.598" style="s2">environment variables I usually like to</p>
<p begin="09:11:02.438" end="09:11:06.878" style="s2">create a separate file to hold all of</p>
<p begin="09:11:04.598" end="09:11:09.000" style="s2">this information so under</p>
<p begin="09:11:06.878" end="09:11:11.800" style="s2">app I&#39;m going to create a new file</p>
<p begin="09:11:09.000" end="09:11:11.800" style="s2">called</p>
<p begin="09:11:11.960" end="09:11:16.520" style="s2">config.py and I&#39;m going to move all of</p>
<p begin="09:11:14.320" end="09:11:16.520" style="s2">that</p>
<p begin="09:11:17.640" end="09:11:21.160" style="s2">code into that</p>
<p begin="09:11:21.320" end="09:11:28.878" style="s2">file and then in our main py file I&#39;ll</p>
<p begin="09:11:24.122" end="09:11:28.878" style="s2">just import from config</p>
<p begin="09:11:29.680" end="09:11:34.160" style="s2">import</p>
<p begin="09:11:31.878" end="09:11:36.960" style="s2">settings right so ultimately we&#39;re just</p>
<p begin="09:11:34.160" end="09:11:39.040" style="s2">importing that final class the instance</p>
<p begin="09:11:36.960" end="09:11:41.360" style="s2">of the class that we</p>
<p begin="09:11:39.040" end="09:11:43.480" style="s2">created right and so once again it&#39;s</p>
<p begin="09:11:41.360" end="09:11:46.000" style="s2">able to perform the validation and it&#39;s</p>
<p begin="09:11:43.480" end="09:11:48.480" style="s2">going to report an error with the path</p>
<p begin="09:11:46.000" end="09:11:49.558" style="s2">variable all right so having it in its</p>
<p begin="09:11:48.480" end="09:11:50.800" style="s2">own file is going to make things a</p>
<p begin="09:11:49.558" end="09:11:53.200" style="s2">little bit easier because then we could</p>
<p begin="09:11:50.800" end="09:11:55.078" style="s2">just go to the config.py file and we&#39;ll</p>
<p begin="09:11:53.200" end="09:11:56.640" style="s2">know exactly um you know where to look</p>
<p begin="09:11:55.078" end="09:11:58.238" style="s2">for all of our environment variables and</p>
<p begin="09:11:56.640" end="09:12:00.238" style="s2">all the configs related to our</p>
<p begin="09:11:58.238" end="09:12:02.078" style="s2">application the last thing I want to do</p>
<p begin="09:12:00.238" end="09:12:03.520" style="s2">is let&#39;s go ahead and actually figure</p>
<p begin="09:12:02.078" end="09:12:05.758" style="s2">out what environment variables we want</p>
<p begin="09:12:03.520" end="09:12:07.238" style="s2">to use moving forward and actually set</p>
<p begin="09:12:05.758" end="09:12:10.278" style="s2">this up so we&#39;re going to clear out all</p>
<p begin="09:12:07.238" end="09:12:11.800" style="s2">of these and I&#39;m going to create one for</p>
<p begin="09:12:10.278" end="09:12:13.878" style="s2">all of the database related stuff so</p>
<p begin="09:12:11.800" end="09:12:15.640" style="s2">database uncore host name this is going</p>
<p begin="09:12:13.878" end="09:12:18.878" style="s2">to be a string by</p>
<p begin="09:12:15.640" end="09:12:21.320" style="s2">default we&#39;re going to have database _</p>
<p begin="09:12:18.878" end="09:12:25.122" style="s2">Port once again a</p>
<p begin="09:12:21.320" end="09:12:25.122" style="s2">string we&#39;ll have a database</p>
<p begin="09:12:28.278" end="09:12:31.840" style="s2">password and then we&#39;ll have a database</p>
<p begin="09:12:30.200" end="09:12:33.840" style="s2">uncore name so that&#39;s the</p>
<p begin="09:12:31.840" end="09:12:36.238" style="s2">database within postest that we&#39;re</p>
<p begin="09:12:33.840" end="09:12:36.238" style="s2">connecting</p>
<p begin="09:12:36.558" end="09:12:41.918" style="s2">to we&#39;ll need a username all of these</p>
<p begin="09:12:39.680" end="09:12:41.918" style="s2">will be</p>
<p begin="09:12:42.800" end="09:12:46.840" style="s2">strings and you may be wondering why the</p>
<p begin="09:12:44.840" end="09:12:47.960" style="s2">port is set to a string but uh the</p>
<p begin="09:12:46.840" end="09:12:49.398" style="s2">reason why it&#39;s going to be set to a</p>
<p begin="09:12:47.960" end="09:12:51.122" style="s2">string is because if we actually take a</p>
<p begin="09:12:49.398" end="09:12:52.718" style="s2">look at our database connection it just</p>
<p begin="09:12:51.122" end="09:12:55.718" style="s2">goes into a URL so we don&#39;t actually</p>
<p begin="09:12:52.718" end="09:12:58.320" style="s2">ever need need to uh have it be an INT I</p>
<p begin="09:12:55.718" end="09:13:00.840" style="s2">guess you could make sure that it&#39;s a</p>
<p begin="09:12:58.320" end="09:13:02.878" style="s2">valid port number and then convert it</p>
<p begin="09:13:00.840" end="09:13:05.398" style="s2">back to a string but that seems a little</p>
<p begin="09:13:02.878" end="09:13:07.960" style="s2">unnecessary at that point uh then</p>
<p begin="09:13:05.398" end="09:13:10.840" style="s2">there&#39;s a secret key for our for you</p>
<p begin="09:13:07.960" end="09:13:10.840" style="s2">know our Json web</p>
<p begin="09:13:13.078" end="09:13:16.680" style="s2">tokens and we&#39;ve got the</p>
<p begin="09:13:16.918" end="09:13:21.680" style="s2">algorithm for signing our token</p>
<p begin="09:13:24.078" end="09:13:28.278" style="s2">and then we have the axis</p>
<p begin="09:13:26.520" end="09:13:31.122" style="s2">token</p>
<p begin="09:13:28.278" end="09:13:33.640" style="s2">expire unor</p>
<p begin="09:13:31.122" end="09:13:35.520" style="s2">minutes which is going to be an INT all</p>
<p begin="09:13:33.640" end="09:13:37.078" style="s2">right and if we save all of this we</p>
<p begin="09:13:35.520" end="09:13:38.278" style="s2">should get a whole bunch of errors and</p>
<p begin="09:13:37.078" end="09:13:40.438" style="s2">that&#39;s okay because none of these have</p>
<p begin="09:13:38.278" end="09:13:41.840" style="s2">been set so at this point you could</p>
<p begin="09:13:40.438" end="09:13:43.558" style="s2">technically you know whether you&#39;re on a</p>
<p begin="09:13:41.840" end="09:13:45.438" style="s2">Windows or Mac set these on your machine</p>
<p begin="09:13:43.558" end="09:13:48.480" style="s2">and get everything to work but like I</p>
<p begin="09:13:45.438" end="09:13:50.200" style="s2">said that is an unacceptable thing to do</p>
<p begin="09:13:48.480" end="09:13:51.960" style="s2">because that&#39;s a lot of work and we want</p>
<p begin="09:13:50.200" end="09:13:54.680" style="s2">to simplify things so what we can</p>
<p begin="09:13:51.960" end="09:13:55.878" style="s2">actually do is with in our fast API</p>
<p begin="09:13:54.680" end="09:13:58.800" style="s2">directory we&#39;re going to create a new</p>
<p begin="09:13:55.878" end="09:14:01.278" style="s2">file called EnV so this is kind of</p>
<p begin="09:13:58.800" end="09:14:02.640" style="s2">standard convention but this file and</p>
<p begin="09:14:01.278" end="09:14:04.040" style="s2">don&#39;t forget the dot this file is going</p>
<p begin="09:14:02.640" end="09:14:06.320" style="s2">to contain all of our environment</p>
<p begin="09:14:04.040" end="09:14:08.960" style="s2">variables so we can set it much easier</p>
<p begin="09:14:06.320" end="09:14:10.200" style="s2">just by having a file do all of the work</p>
<p begin="09:14:08.960" end="09:14:12.598" style="s2">now in production you&#39;re not going to</p>
<p begin="09:14:10.200" end="09:14:14.078" style="s2">use this uh in in production you&#39;re</p>
<p begin="09:14:12.598" end="09:14:15.640" style="s2">going to actually set it on your machine</p>
<p begin="09:14:14.078" end="09:14:17.320" style="s2">but in development it&#39;s perfectly okay</p>
<p begin="09:14:15.640" end="09:14:18.160" style="s2">to just set everything in here and so</p>
<p begin="09:14:17.320" end="09:14:19.918" style="s2">what we&#39;re going to do is we&#39;re going to</p>
<p begin="09:14:18.160" end="09:14:21.480" style="s2">take all of those uh environment</p>
<p begin="09:14:19.918" end="09:14:23.200" style="s2">variables that we defined and we&#39;re</p>
<p begin="09:14:21.480" end="09:14:24.398" style="s2">going to provide values and so like I I</p>
<p begin="09:14:23.200" end="09:14:27.718" style="s2">said in real</p>
<p begin="09:14:24.398" end="09:14:29.558" style="s2">life you generally want to capitalize</p>
<p begin="09:14:27.718" end="09:14:31.160" style="s2">everything um but luckily pantic</p>
<p begin="09:14:29.558" end="09:14:32.640" style="s2">automatically looks at everything from a</p>
<p begin="09:14:31.160" end="09:14:34.438" style="s2">case insensitive</p>
<p begin="09:14:32.640" end="09:14:35.718" style="s2">perspective and so our database right</p>
<p begin="09:14:34.438" end="09:14:38.800" style="s2">now is running on Local Host so we can</p>
<p begin="09:14:35.718" end="09:14:41.680" style="s2">just say Local Host our database</p>
<p begin="09:14:38.800" end="09:14:44.680" style="s2">Port is going to be</p>
<p begin="09:14:41.680" end="09:14:48.160" style="s2">5432 the password that&#39;s going to be</p>
<p begin="09:14:44.680" end="09:14:48.160" style="s2">whatever you chose to use as your</p>
<p begin="09:14:48.840" end="09:14:56.040" style="s2">password this going to be password 1 2</p>
<p begin="09:14:51.800" end="09:14:56.040" style="s2">3 and we&#39;ve got our database</p>
<p begin="09:14:56.878" end="09:15:04.160" style="s2">name um mine happens to be fast API but</p>
<p begin="09:15:00.960" end="09:15:06.438" style="s2">yours is going to be something different</p>
<p begin="09:15:04.160" end="09:15:07.878" style="s2">probably the username I&#39;m guessing</p>
<p begin="09:15:06.438" end="09:15:08.960" style="s2">everyone&#39;s probably going to be using</p>
<p begin="09:15:07.878" end="09:15:11.718" style="s2">the default</p>
<p begin="09:15:08.960" end="09:15:14.360" style="s2">postest the secret</p>
<p begin="09:15:11.718" end="09:15:19.758" style="s2">key I&#39;m just going to grab whatever I</p>
<p begin="09:15:14.360" end="09:15:19.758" style="s2">used in my file so I&#39;ll just grab this</p>
<p begin="09:15:28.718" end="09:15:33.360" style="s2">the algorithm is going to be HS</p>
<p begin="09:15:37.680" end="09:15:45.238" style="s2">256 and then the access token expiration</p>
<p begin="09:15:42.558" end="09:15:48.718" style="s2">time it&#39;s going to be set to</p>
<p begin="09:15:45.238" end="09:15:51.040" style="s2">30 so we&#39;ve got all the values set here</p>
<p begin="09:15:48.718" end="09:15:53.000" style="s2">and uh one thing to note I didn&#39;t</p>
<p begin="09:15:51.040" end="09:15:55.078" style="s2">provide any default values and you could</p>
<p begin="09:15:53.000" end="09:15:56.800" style="s2">100% go ahead and add default values</p>
<p begin="09:15:55.078" end="09:16:00.320" style="s2">into yours if you want to but I&#39;m going</p>
<p begin="09:15:56.800" end="09:16:02.122" style="s2">to leave them as such and now we have to</p>
<p begin="09:16:00.320" end="09:16:04.718" style="s2">tell pantic to actually import it from</p>
<p begin="09:16:02.122" end="09:16:08.078" style="s2">ourv</p>
<p begin="09:16:04.718" end="09:16:11.398" style="s2">file and the way to do that is inside</p>
<p begin="09:16:08.078" end="09:16:16.040" style="s2">this class we just say class</p>
<p begin="09:16:11.398" end="09:16:19.320" style="s2">config and we say enor file and then the</p>
<p begin="09:16:16.040" end="09:16:23.000" style="s2">path to our specific file so we say EnV</p>
<p begin="09:16:19.320" end="09:16:23.000" style="s2">so we&#39;ll save this</p>
<p begin="09:16:24.320" end="09:16:30.238" style="s2">and I forgot to save my EnV file and</p>
<p begin="09:16:27.360" end="09:16:33.040" style="s2">then I&#39;m going to run this again and our</p>
<p begin="09:16:30.238" end="09:16:35.520" style="s2">applications should start up with zero</p>
<p begin="09:16:33.040" end="09:16:36.758" style="s2">issues and so hopefully you guys see how</p>
<p begin="09:16:35.520" end="09:16:37.960" style="s2">easy it is to work with environment</p>
<p begin="09:16:36.758" end="09:16:39.718" style="s2">variables especially when you&#39;re allowed</p>
<p begin="09:16:37.960" end="09:16:41.160" style="s2">to set it on a file so that we don&#39;t</p>
<p begin="09:16:39.718" end="09:16:44.278" style="s2">have to worry about setting it either in</p>
<p begin="09:16:41.160" end="09:16:45.718" style="s2">the terminal or uh you know on a Windows</p>
<p begin="09:16:44.278" end="09:16:46.640" style="s2">machine having to go through the guey to</p>
<p begin="09:16:45.718" end="09:16:49.520" style="s2">do</p>
<p begin="09:16:46.640" end="09:16:51.758" style="s2">that but one thing to keep in mind is</p>
<p begin="09:16:49.520" end="09:16:53.398" style="s2">that you never want to check this EnV</p>
<p begin="09:16:51.758" end="09:16:54.360" style="s2">file into git</p>
<p begin="09:16:53.398" end="09:16:55.480" style="s2">right because this has all the</p>
<p begin="09:16:54.360" end="09:16:56.480" style="s2">credentials for your development</p>
<p begin="09:16:55.480" end="09:16:58.320" style="s2">environment maybe you don&#39;t want those</p>
<p begin="09:16:56.480" end="09:17:00.438" style="s2">to get out uh and there&#39;s no need to</p>
<p begin="09:16:58.320" end="09:17:03.598" style="s2">ever check it into git so if you create</p>
<p begin="09:17:00.438" end="09:17:06.918" style="s2">a git ignore file so which isg ignore</p>
<p begin="09:17:03.598" end="09:17:09.200" style="s2">you want to make sure that you put in</p>
<p begin="09:17:06.918" end="09:17:10.520" style="s2">EnV and we&#39;ll come back to the get</p>
<p begin="09:17:09.200" end="09:17:12.758" style="s2">ignore file when we start working with</p>
<p begin="09:17:10.520" end="09:17:14.520" style="s2">Git in this course um but you also want</p>
<p begin="09:17:12.758" end="09:17:16.558" style="s2">to make sure you remove anything with</p>
<p begin="09:17:14.520" end="09:17:18.840" style="s2">underscore uncore pachore uncore which</p>
<p begin="09:17:16.558" end="09:17:20.800" style="s2">is all of these as well as your virtual</p>
<p begin="09:17:18.840" end="09:17:22.160" style="s2">environment uh folder so you want to</p>
<p begin="09:17:20.800" end="09:17:24.200" style="s2">make sure none of those get checked into</p>
<p begin="09:17:22.160" end="09:17:26.238" style="s2">G so they don&#39;t get uploaded to your</p>
<p begin="09:17:24.200" end="09:17:27.840" style="s2">GitHub repo and just to make sure that</p>
<p begin="09:17:26.238" end="09:17:29.278" style="s2">everything&#39;s working let&#39;s go ahead and</p>
<p begin="09:17:27.840" end="09:17:31.278" style="s2">just test this out real quick just to</p>
<p begin="09:17:29.278" end="09:17:32.558" style="s2">make sure that nothing&#39;s broken and that</p>
<p begin="09:17:31.278" end="09:17:35.078" style="s2">seems to work and then if we try to get</p>
<p begin="09:17:32.558" end="09:17:37.122" style="s2">all posts everything seems to be working</p>
<p begin="09:17:35.078" end="09:17:39.758" style="s2">so we have now successfully moved</p>
<p begin="09:17:37.122" end="09:17:42.160" style="s2">everything over to environment variables</p>
<p begin="09:17:39.758" end="09:17:44.200" style="s2">and actually sorry we forgot to do one</p>
<p begin="09:17:42.160" end="09:17:45.840" style="s2">very important thing we&#39;re not actually</p>
<p begin="09:17:44.200" end="09:17:49.278" style="s2">using the environment variables right</p>
<p begin="09:17:45.840" end="09:17:51.078" style="s2">now because if I actually go to my</p>
<p begin="09:17:49.278" end="09:17:52.438" style="s2">database you can see that it&#39;s still</p>
<p begin="09:17:51.078" end="09:17:54.680" style="s2">just a hard-coded value so we have to</p>
<p begin="09:17:52.438" end="09:17:57.078" style="s2">make sure we actually update that to use</p>
<p begin="09:17:54.680" end="09:18:00.438" style="s2">the environment variables so we&#39;re going</p>
<p begin="09:17:57.078" end="09:18:01.640" style="s2">to change this to be an F an F string</p>
<p begin="09:18:00.438" end="09:18:04.200" style="s2">and then here this is going to be the</p>
<p begin="09:18:01.640" end="09:18:05.800" style="s2">username this is the password uh this is</p>
<p begin="09:18:04.200" end="09:18:07.360" style="s2">the host name and then this is the</p>
<p begin="09:18:05.800" end="09:18:09.078" style="s2">database name and then there&#39;s also</p>
<p begin="09:18:07.360" end="09:18:11.800" style="s2">going to be the port number which would</p>
<p begin="09:18:09.078" end="09:18:13.278" style="s2">be right here which is 5432 I believe</p>
<p begin="09:18:11.800" end="09:18:14.718" style="s2">that&#39;s yeah and that&#39;s going to be the</p>
<p begin="09:18:13.278" end="09:18:16.878" style="s2">port number so what we have to do is</p>
<p begin="09:18:14.718" end="09:18:19.878" style="s2">since we&#39;re using an F string I can just</p>
<p begin="09:18:16.878" end="09:18:24.200" style="s2">remove this and I can</p>
<p begin="09:18:19.878" end="09:18:27.200" style="s2">say well first of all we have to import</p>
<p begin="09:18:24.200" end="09:18:30.160" style="s2">our config file that we have access to</p>
<p begin="09:18:27.200" end="09:18:34.078" style="s2">it or we can do from</p>
<p begin="09:18:30.160" end="09:18:34.078" style="s2">config import</p>
<p begin="09:18:41.360" end="09:18:48.238" style="s2">settings just put a dot there and now I</p>
<p begin="09:18:44.238" end="09:18:50.000" style="s2">can just say settings dot database and</p>
<p begin="09:18:48.238" end="09:18:52.040" style="s2">then we&#39;ll grab the username</p>
<p begin="09:18:50.000" end="09:18:54.438" style="s2">here and then for the password I&#39;m going</p>
<p begin="09:18:52.040" end="09:18:57.918" style="s2">to do the same thing I&#39;ll</p>
<p begin="09:18:54.438" end="09:19:00.758" style="s2">say settings</p>
<p begin="09:18:57.918" end="09:19:03.758" style="s2">do database</p>
<p begin="09:19:00.758" end="09:19:06.000" style="s2">password and the host</p>
<p begin="09:19:03.758" end="09:19:10.438" style="s2">name this is going to be</p>
<p begin="09:19:06.000" end="09:19:10.438" style="s2">settings. database host</p>
<p begin="09:19:13.238" end="09:19:19.120" style="s2">name and then this going to be the port</p>
<p begin="09:19:17.080" end="09:19:23.000" style="s2">number and then finally we&#39;ve got the</p>
<p begin="09:19:19.120" end="09:19:23.000" style="s2">actual database name</p>
<p begin="09:19:29.400" end="09:19:33.640" style="s2">I</p>
<p begin="09:19:31.360" end="09:19:35.480" style="s2">think everything should still work just</p>
<p begin="09:19:33.640" end="09:19:37.040" style="s2">to test this part let&#39;s just quickly log</p>
<p begin="09:19:35.480" end="09:19:39.436" style="s2">in</p>
<p begin="09:19:37.040" end="09:19:41.360" style="s2">now all right everything still works so</p>
<p begin="09:19:39.436" end="09:19:43.840" style="s2">we our access to our database is now</p>
<p begin="09:19:41.360" end="09:19:46.120" style="s2">working just fine um but there&#39;s a few</p>
<p begin="09:19:43.840" end="09:19:47.916" style="s2">other things that I want to update and</p>
<p begin="09:19:46.120" end="09:19:49.360" style="s2">keep in mind if you were using the uh</p>
<p begin="09:19:47.916" end="09:19:50.960" style="s2">the post Crush driver to actually</p>
<p begin="09:19:49.360" end="09:19:53.200" style="s2">connect and make queries then you would</p>
<p begin="09:19:50.960" end="09:19:56.400" style="s2">just update it here with the settings</p>
<p begin="09:19:53.200" end="09:19:57.560" style="s2">whatever um but if we go to our oath 2</p>
<p begin="09:19:56.400" end="09:20:01.360" style="s2">we</p>
<p begin="09:19:57.560" end="09:20:05.520" style="s2">can well first of all let&#39;s</p>
<p begin="09:20:01.360" end="09:20:05.520" style="s2">import our</p>
<p begin="09:20:07.960" end="09:20:12.040" style="s2">config and we&#39;ll change the secret</p>
<p begin="09:20:12.880" end="09:20:18.200" style="s2">key now this is going to</p>
<p begin="09:20:15.276" end="09:20:24.000" style="s2">be settings</p>
<p begin="09:20:18.200" end="09:20:29.960" style="s2">do Secret Key not schema secret key</p>
<p begin="09:20:24.000" end="09:20:29.960" style="s2">the algorithm is going to be settings.</p>
<p begin="09:20:31.520" end="09:20:34.276" style="s2">algorithm and then finally this is going</p>
<p begin="09:20:33.436" end="09:20:37.640" style="s2">to be</p>
<p begin="09:20:34.276" end="09:20:40.276" style="s2">settings. access token expire</p>
<p begin="09:20:37.640" end="09:20:42.200" style="s2">minutes all right let&#39;s reload this</p>
<p begin="09:20:40.276" end="09:20:46.320" style="s2">let&#39;s uh just double check a few things</p>
<p begin="09:20:42.200" end="09:20:46.320" style="s2">so let&#39;s uh well let&#39;s create a new</p>
<p begin="09:20:46.400" end="09:20:52.800" style="s2">user all right we are able to create a</p>
<p begin="09:20:48.560" end="09:20:52.800" style="s2">user let&#39;s log in that user</p>
<p begin="09:20:55.360" end="09:20:59.480" style="s2">we&#39;re a to log in and then let&#39;s get</p>
<p begin="09:20:57.040" end="09:21:00.800" style="s2">posts and we&#39;re able to get posts and</p>
<p begin="09:20:59.480" end="09:21:02.840" style="s2">let&#39;s just double check that there&#39;s no</p>
<p begin="09:21:00.800" end="09:21:05.480" style="s2">errors so everything looks good and so</p>
<p begin="09:21:02.840" end="09:21:07.720" style="s2">now we have successfully migrated all of</p>
<p begin="09:21:05.480" end="09:21:10.840" style="s2">our code to using environment variables</p>
<p begin="09:21:07.720" end="09:21:13.240" style="s2">and so when we move to production we can</p>
<p begin="09:21:10.840" end="09:21:16.080" style="s2">just on the machine set all of these</p>
<p begin="09:21:13.240" end="09:21:17.360" style="s2">values that we have inside our config.py</p>
<p begin="09:21:16.080" end="09:21:19.276" style="s2">file and it&#39;s going to automatically</p>
<p begin="09:21:17.360" end="09:21:22.120" style="s2">import it and then update those values</p>
<p begin="09:21:19.276" end="09:21:23.916" style="s2">wherever we reference them in any social</p>
<p begin="09:21:22.120" end="09:21:26.756" style="s2">media type app there&#39;s going to be some</p>
<p begin="09:21:23.916" end="09:21:29.000" style="s2">sort of voting or likes system so</p>
<p begin="09:21:26.756" end="09:21:32.000" style="s2">Facebook has likes Reddit has up votes</p>
<p begin="09:21:29.000" end="09:21:34.320" style="s2">and down votes Instagram has likes</p>
<p begin="09:21:32.000" end="09:21:36.640" style="s2">Twitter has likes as well and so we&#39;re</p>
<p begin="09:21:34.320" end="09:21:38.080" style="s2">going to implement a simple like system</p>
<p begin="09:21:36.640" end="09:21:40.080" style="s2">as well and we&#39;re going to quickly go</p>
<p begin="09:21:38.080" end="09:21:41.720" style="s2">over the requirements for it so the</p>
<p begin="09:21:40.080" end="09:21:44.436" style="s2">first thing is a user should be able to</p>
<p begin="09:21:41.720" end="09:21:46.160" style="s2">like a post a user should only be able</p>
<p begin="09:21:44.436" end="09:21:48.160" style="s2">to like a post once we shouldn&#39;t be able</p>
<p begin="09:21:46.160" end="09:21:50.080" style="s2">to like a post 10 times and then</p>
<p begin="09:21:48.160" end="09:21:52.320" style="s2">artificially cause the number of likes</p>
<p begin="09:21:50.080" end="09:21:54.960" style="s2">for that post to go up and then finally</p>
<p begin="09:21:52.320" end="09:21:57.480" style="s2">any anytime we retrieve a post from our</p>
<p begin="09:21:54.960" end="09:21:59.916" style="s2">database uh or from our API we should</p>
<p begin="09:21:57.480" end="09:22:02.320" style="s2">also fetch the total number of likes for</p>
<p begin="09:21:59.916" end="09:22:04.756" style="s2">that post now let&#39;s take a look at the</p>
<p begin="09:22:02.320" end="09:22:07.276" style="s2">requirements for our voting model or our</p>
<p begin="09:22:04.756" end="09:22:09.756" style="s2">like model and so naturally just like we</p>
<p begin="09:22:07.276" end="09:22:12.276" style="s2">have a table for users and a table for</p>
<p begin="09:22:09.756" end="09:22:15.596" style="s2">posts it makes sense to store the votes</p>
<p begin="09:22:12.276" end="09:22:17.360" style="s2">in another table just like we always do</p>
<p begin="09:22:15.596" end="09:22:19.756" style="s2">and if you think about the requirements</p>
<p begin="09:22:17.360" end="09:22:21.880" style="s2">or what we should do for the columns</p>
<p begin="09:22:19.756" end="09:22:24.680" style="s2">well we need to have a column that&#39;s</p>
<p begin="09:22:21.880" end="09:22:27.120" style="s2">going to store the ID of the post that</p>
<p begin="09:22:24.680" end="09:22:29.200" style="s2">we&#39;re ultimately going to like and then</p>
<p begin="09:22:27.120" end="09:22:31.200" style="s2">we&#39;re also going to need a column that</p>
<p begin="09:22:29.200" end="09:22:33.596" style="s2">references the ID of the user who like</p>
<p begin="09:22:31.200" end="09:22:35.960" style="s2">the post so those are the two absolute</p>
<p begin="09:22:33.596" end="09:22:38.360" style="s2">minimum number of columns that we need</p>
<p begin="09:22:35.960" end="09:22:40.320" style="s2">to get our voting system in place keep</p>
<p begin="09:22:38.360" end="09:22:41.916" style="s2">in mind if you wanted to do a you know</p>
<p begin="09:22:40.320" end="09:22:43.276" style="s2">an up vote down vote type thing like</p>
<p begin="09:22:41.916" end="09:22:44.840" style="s2">Reddit does then you might want to have</p>
<p begin="09:22:43.276" end="09:22:46.720" style="s2">a third column for the direction of your</p>
<p begin="09:22:44.840" end="09:22:48.040" style="s2">vote but we&#39;re going to keep this nice</p>
<p begin="09:22:46.720" end="09:22:50.756" style="s2">and simple and it&#39;s just going to be a</p>
<p begin="09:22:48.040" end="09:22:52.520" style="s2">very simple like system so it&#39;s just One</p>
<p begin="09:22:50.756" end="09:22:54.960" style="s2">Direction but the most important thing</p>
<p begin="09:22:52.520" end="09:22:57.756" style="s2">of the vote table is that since a user</p>
<p begin="09:22:54.960" end="09:22:59.596" style="s2">should only be able to like a post once</p>
<p begin="09:22:57.756" end="09:23:02.680" style="s2">this means that we need to ensure that</p>
<p begin="09:22:59.596" end="09:23:04.960" style="s2">every entry every post ID and voter ID</p>
<p begin="09:23:02.680" end="09:23:07.360" style="s2">is a unique combination so what do I</p>
<p begin="09:23:04.960" end="09:23:09.960" style="s2">mean by that well take a look at this we</p>
<p begin="09:23:07.360" end="09:23:12.000" style="s2">have a post with an ID of 12 and this</p>
<p begin="09:23:09.960" end="09:23:14.436" style="s2">post was liked by a user ID of four so</p>
<p begin="09:23:12.000" end="09:23:16.480" style="s2">this is what an entry would look like</p>
<p begin="09:23:14.436" end="09:23:19.040" style="s2">and that&#39;s perfectly fine and if we go</p>
<p begin="09:23:16.480" end="09:23:20.840" style="s2">and we here we&#39;ve got a post ID of 28</p>
<p begin="09:23:19.040" end="09:23:22.560" style="s2">and it looks like a user with an ID of 9</p>
<p begin="09:23:20.840" end="09:23:25.720" style="s2">like this post and if I go all the the</p>
<p begin="09:23:22.560" end="09:23:28.160" style="s2">way down to here you&#39;ll see that post ID</p>
<p begin="09:23:25.720" end="09:23:30.800" style="s2">of 12 which you could see that there was</p>
<p begin="09:23:28.160" end="09:23:33.160" style="s2">already a row with the post ID 12 is</p>
<p begin="09:23:30.800" end="09:23:34.840" style="s2">liked by a different user nine so it&#39;s</p>
<p begin="09:23:33.160" end="09:23:37.200" style="s2">perfectly okay to see a repeat in this</p>
<p begin="09:23:34.840" end="09:23:39.720" style="s2">column and under the user ID section</p>
<p begin="09:23:37.200" end="09:23:41.000" style="s2">it&#39;s perfectly okay to see a repeat uh</p>
<p begin="09:23:39.720" end="09:23:45.040" style="s2">in this column as well because we can</p>
<p begin="09:23:41.000" end="09:23:47.200" style="s2">see that a user of id9 voted and liked a</p>
<p begin="09:23:45.040" end="09:23:50.596" style="s2">post with an ID of 28 as well as a post</p>
<p begin="09:23:47.200" end="09:23:52.520" style="s2">with an ID of 12 and then obviously one</p>
<p begin="09:23:50.596" end="09:23:55.240" style="s2">post can be liked by different users so</p>
<p begin="09:23:52.520" end="09:23:58.000" style="s2">a post with an ID of 12 was liked by a</p>
<p begin="09:23:55.240" end="09:24:01.080" style="s2">user with an ID of four and a post with</p>
<p begin="09:23:58.000" end="09:24:03.320" style="s2">the the same post was also liked by a</p>
<p begin="09:24:01.080" end="09:24:08.040" style="s2">user with an ID of nine now what we</p>
<p begin="09:24:03.320" end="09:24:11.080" style="s2">can&#39;t have is a user liking a post more</p>
<p begin="09:24:08.040" end="09:24:14.276" style="s2">than once so you could see here uh user</p>
<p begin="09:24:11.080" end="09:24:16.480" style="s2">2 liked a post with an ID of 55 we can&#39;t</p>
<p begin="09:24:14.276" end="09:24:18.520" style="s2">have him do that again right it&#39;s a</p>
<p begin="09:24:16.480" end="09:24:20.000" style="s2">duplicate this isn&#39;t allowed or or this</p>
<p begin="09:24:18.520" end="09:24:21.320" style="s2">shouldn&#39;t be allowed in our system</p>
<p begin="09:24:20.000" end="09:24:25.040" style="s2">because we don&#39;t want users to be able</p>
<p begin="09:24:21.320" end="09:24:26.200" style="s2">to uh live like a post more than once</p>
<p begin="09:24:25.040" end="09:24:28.880" style="s2">and so there&#39;s a couple of different</p>
<p begin="09:24:26.200" end="09:24:29.916" style="s2">ways of setting up this requirement but</p>
<p begin="09:24:28.880" end="09:24:31.960" style="s2">we&#39;re going to take a look at the</p>
<p begin="09:24:29.916" end="09:24:33.640" style="s2">simplest solution and we&#39;re going to</p>
<p begin="09:24:31.960" end="09:24:36.160" style="s2">learn about something called composite</p>
<p begin="09:24:33.640" end="09:24:38.400" style="s2">keys so we&#39;ve already covered what a</p>
<p begin="09:24:36.160" end="09:24:40.120" style="s2">primary key is it&#39;s a it&#39;s a column in</p>
<p begin="09:24:38.400" end="09:24:42.360" style="s2">your table that&#39;s going to ensure that</p>
<p begin="09:24:40.120" end="09:24:45.080" style="s2">every single entry is unique and we</p>
<p begin="09:24:42.360" end="09:24:48.000" style="s2">always used a column um called ID which</p>
<p begin="09:24:45.080" end="09:24:49.400" style="s2">had a auto incrementing integer however</p>
<p begin="09:24:48.000" end="09:24:51.400" style="s2">what we can also do is make use of</p>
<p begin="09:24:49.400" end="09:24:53.120" style="s2">something called composite keys and a</p>
<p begin="09:24:51.400" end="09:24:56.040" style="s2">composite key is nothing more than a</p>
<p begin="09:24:53.120" end="09:24:57.640" style="s2">primary key that spans multiple columns</p>
<p begin="09:24:56.040" end="09:25:00.160" style="s2">so we&#39;ve only worked with one column</p>
<p begin="09:24:57.640" end="09:25:01.756" style="s2">primary keys but we can actually have it</p>
<p begin="09:25:00.160" end="09:25:04.120" style="s2">cover more than one column we it can</p>
<p begin="09:25:01.756" end="09:25:06.720" style="s2">have two columns or three columns and</p>
<p begin="09:25:04.120" end="09:25:08.720" style="s2">since a primary key must be unique this</p>
<p begin="09:25:06.720" end="09:25:10.596" style="s2">will ultimately ensure that no user can</p>
<p begin="09:25:08.720" end="09:25:12.276" style="s2">like a post twice if we make sure that</p>
<p begin="09:25:10.596" end="09:25:14.880" style="s2">both of these columns are part of the</p>
<p begin="09:25:12.276" end="09:25:17.000" style="s2">primary key right and so when you have a</p>
<p begin="09:25:14.880" end="09:25:19.080" style="s2">composite primary key it does not care</p>
<p begin="09:25:17.000" end="09:25:20.680" style="s2">if there&#39;s duplicates in one row it does</p>
<p begin="09:25:19.080" end="09:25:21.800" style="s2">not care if sorry in one column and it</p>
<p begin="09:25:20.680" end="09:25:23.000" style="s2">does not care if there&#39;s duplicates in</p>
<p begin="09:25:21.800" end="09:25:26.560" style="s2">the other column</p>
<p begin="09:25:23.000" end="09:25:29.520" style="s2">all it cares about is are both of the</p>
<p begin="09:25:26.560" end="09:25:32.200" style="s2">columns the same in two different rows</p>
<p begin="09:25:29.520" end="09:25:34.800" style="s2">so once again you know for a post of ID</p>
<p begin="09:25:32.200" end="09:25:36.436" style="s2">12 we have a user of four who likes it</p>
<p begin="09:25:34.800" end="09:25:38.436" style="s2">as well as a user of nine that likes it</p>
<p begin="09:25:36.436" end="09:25:39.840" style="s2">and so with the composite primary key it</p>
<p begin="09:25:38.436" end="09:25:41.240" style="s2">sees that as two different entries</p>
<p begin="09:25:39.840" end="09:25:43.640" style="s2">because it needs both of them to be the</p>
<p begin="09:25:41.240" end="09:25:46.080" style="s2">same to be considered a duplicate so we</p>
<p begin="09:25:43.640" end="09:25:47.880" style="s2">can uniquely identify this row by saying</p>
<p begin="09:25:46.080" end="09:25:50.120" style="s2">Hey I want the row with the post ID of</p>
<p begin="09:25:47.880" end="09:25:53.040" style="s2">12 and a post ID of 9 there&#39;s going to</p>
<p begin="09:25:50.120" end="09:25:54.240" style="s2">be no other rows with that combination</p>
<p begin="09:25:53.040" end="09:25:58.040" style="s2">and the same thing goes in the other</p>
<p begin="09:25:54.240" end="09:26:00.120" style="s2">direction the user 9 can like post 28</p>
<p begin="09:25:58.040" end="09:26:02.120" style="s2">and he can also like post 12 and so once</p>
<p begin="09:26:00.120" end="09:26:04.720" style="s2">again we can uniquely identify either</p>
<p begin="09:26:02.120" end="09:26:06.520" style="s2">one of these rows because we can say hey</p>
<p begin="09:26:04.720" end="09:26:08.720" style="s2">post a 28 with the user ID that&#39;s a</p>
<p begin="09:26:06.520" end="09:26:11.000" style="s2">unique combination and a post ID of 12</p>
<p begin="09:26:08.720" end="09:26:14.880" style="s2">with a user ID of 9 once again a unique</p>
<p begin="09:26:11.000" end="09:26:17.436" style="s2">combination however we can&#39;t have a user</p>
<p begin="09:26:14.880" end="09:26:20.320" style="s2">with ID of two like 55 and then once</p>
<p begin="09:26:17.436" end="09:26:22.720" style="s2">again the user ID of two like 55 because</p>
<p begin="09:26:20.320" end="09:26:25.720" style="s2">the combination of these two is now</p>
<p begin="09:26:22.720" end="09:26:27.480" style="s2">duplicate because one is 55 and two and</p>
<p begin="09:26:25.720" end="09:26:29.400" style="s2">the other one&#39;s 55 and 2 and so that&#39;s</p>
<p begin="09:26:27.480" end="09:26:30.880" style="s2">all a composite key is it&#39;s just a</p>
<p begin="09:26:29.400" end="09:26:34.120" style="s2">primary key that spans two columns and</p>
<p begin="09:26:30.880" end="09:26:36.560" style="s2">ensures that across both columns we have</p>
<p begin="09:26:34.120" end="09:26:39.160" style="s2">unique combinations for</p>
<p begin="09:26:36.560" end="09:26:41.436" style="s2">things so let&#39;s figure out how to create</p>
<p begin="09:26:39.160" end="09:26:42.720" style="s2">our new votes table and I&#39;m going to</p>
<p begin="09:26:41.436" end="09:26:44.756" style="s2">first show you guys how to do this</p>
<p begin="09:26:42.720" end="09:26:46.120" style="s2">within PG admin so just with regular</p>
<p begin="09:26:44.756" end="09:26:48.400" style="s2">postgress and then we&#39;ll take a look at</p>
<p begin="09:26:46.120" end="09:26:50.480" style="s2">how to do this with SQL</p>
<p begin="09:26:48.400" end="09:26:51.640" style="s2">Alchemy and I&#39;m just going to go under</p>
<p begin="09:26:50.480" end="09:26:54.480" style="s2">tables and I&#39;m going to create a new</p>
<p begin="09:26:51.640" end="09:26:54.480" style="s2">table we call it</p>
<p begin="09:26:56.520" end="09:27:01.000" style="s2">votes and then under columns here I&#39;m</p>
<p begin="09:26:58.840" end="09:27:01.840" style="s2">going to add a column and this is going</p>
<p begin="09:27:01.000" end="09:27:05.640" style="s2">to</p>
<p begin="09:27:01.840" end="09:27:07.080" style="s2">be postore ID so this is going to be the</p>
<p begin="09:27:05.640" end="09:27:10.120" style="s2">column that referenced the ID of the</p>
<p begin="09:27:07.080" end="09:27:11.200" style="s2">specific post this should uh and then um</p>
<p begin="09:27:10.120" end="09:27:13.640" style="s2">actually before we do anything else I&#39;m</p>
<p begin="09:27:11.200" end="09:27:14.480" style="s2">going to add the other column in as well</p>
<p begin="09:27:13.640" end="09:27:16.800" style="s2">and then we&#39;re going to have the user</p>
<p begin="09:27:14.480" end="09:27:19.960" style="s2">uncore ID and so these are both going to</p>
<p begin="09:27:16.800" end="09:27:19.960" style="s2">be integers</p>
<p begin="09:27:23.756" end="09:27:27.520" style="s2">and then we can just select primary key</p>
<p begin="09:27:25.276" end="09:27:30.276" style="s2">primary key and that&#39;s going to create</p>
<p begin="09:27:27.520" end="09:27:31.916" style="s2">that composite key and then we have to</p>
<p begin="09:27:30.276" end="09:27:33.320" style="s2">set up the foreign Keys as well so these</p>
<p begin="09:27:31.916" end="09:27:36.120" style="s2">are going to reference other tables so</p>
<p begin="09:27:33.320" end="09:27:37.720" style="s2">for the Post ID we can go into uh</p>
<p begin="09:27:36.120" end="09:27:39.916" style="s2">constraints and then we&#39;ll go into</p>
<p begin="09:27:37.720" end="09:27:44.040" style="s2">foreign key We&#39;ll add a new foreign key</p>
<p begin="09:27:39.916" end="09:27:46.400" style="s2">and I&#39;m going to call this votes uncore</p>
<p begin="09:27:44.040" end="09:27:48.800" style="s2">postscore primary whoops not primary key</p>
<p begin="09:27:46.400" end="09:27:48.800" style="s2">foreign</p>
<p begin="09:27:49.840" end="09:27:54.520" style="s2">key and actually sorry I didn&#39;t mean to</p>
<p begin="09:27:52.240" end="09:27:58.040" style="s2">do that and then we&#39;re just going to go</p>
<p begin="09:27:54.520" end="09:27:59.480" style="s2">into here for the columns we&#39;re going to</p>
<p begin="09:27:58.040" end="09:28:02.560" style="s2">select the local column which is going</p>
<p begin="09:27:59.480" end="09:28:05.080" style="s2">to be post ID sorry it&#39;s not post ID</p>
<p begin="09:28:02.560" end="09:28:07.560" style="s2">yeah post ID and then for the</p>
<p begin="09:28:05.080" end="09:28:09.560" style="s2">referencing table it&#39;s going to be the</p>
<p begin="09:28:07.560" end="09:28:11.400" style="s2">posts</p>
<p begin="09:28:09.560" end="09:28:14.720" style="s2">table and then we&#39;re going to grab the</p>
<p begin="09:28:11.400" end="09:28:15.720" style="s2">ID of that and for action on delete</p>
<p begin="09:28:14.720" end="09:28:17.720" style="s2">we&#39;re going to make sure it&#39;s set to</p>
<p begin="09:28:15.720" end="09:28:19.120" style="s2">Cascade so that if the you if the post</p>
<p begin="09:28:17.720" end="09:28:22.120" style="s2">gets deleted we&#39;re going to delete this</p>
<p begin="09:28:19.120" end="09:28:22.120" style="s2">entry</p>
<p begin="09:28:25.640" end="09:28:30.120" style="s2">and then we&#39;ll add that in</p>
<p begin="09:28:27.680" end="09:28:33.080" style="s2">there oh it looks like it&#39;s got deleted</p>
<p begin="09:28:30.120" end="09:28:35.436" style="s2">let me just redo this we&#39;ll add that and</p>
<p begin="09:28:33.080" end="09:28:37.596" style="s2">so we&#39;ve got that in there now and that</p>
<p begin="09:28:35.436" end="09:28:39.560" style="s2">should be it for the first foreign key</p>
<p begin="09:28:37.596" end="09:28:42.200" style="s2">let&#39;s add another foreign key and this</p>
<p begin="09:28:39.560" end="09:28:44.560" style="s2">is going to be called votes uncore users</p>
<p begin="09:28:42.200" end="09:28:44.560" style="s2">forign</p>
<p begin="09:28:46.040" end="09:28:52.276" style="s2">key columns this is going to be user ID</p>
<p begin="09:28:50.436" end="09:28:53.916" style="s2">of the local table this is going to</p>
<p begin="09:28:52.276" end="09:28:59.240" style="s2">reference the users table and then it&#39;s</p>
<p begin="09:28:53.916" end="09:28:59.240" style="s2">going to reference the ID we&#39;ll hit that</p>
<p begin="09:28:59.276" end="09:29:02.436" style="s2">actions uh this is going to be a Cascade</p>
<p begin="09:29:01.720" end="09:29:04.640" style="s2">as</p>
<p begin="09:29:02.436" end="09:29:06.436" style="s2">well and we&#39;ll save</p>
<p begin="09:29:04.640" end="09:29:07.680" style="s2">that and then I&#39;m going to right click</p>
<p begin="09:29:06.436" end="09:29:10.480" style="s2">on the votes table and then we can go to</p>
<p begin="09:29:07.680" end="09:29:12.756" style="s2">view edit data we&#39;ll go to all</p>
<p begin="09:29:10.480" end="09:29:14.680" style="s2">rows you can see it&#39;s a very simple</p>
<p begin="09:29:12.756" end="09:29:18.080" style="s2">table so let&#39;s create a</p>
<p begin="09:29:14.680" end="09:29:20.000" style="s2">new uh let&#39;s create a new vote first uh</p>
<p begin="09:29:18.080" end="09:29:21.240" style="s2">and so I&#39;m going to first of all I&#39;ve</p>
<p begin="09:29:20.000" end="09:29:22.680" style="s2">got way too many of these windows so I&#39;m</p>
<p begin="09:29:21.240" end="09:29:24.880" style="s2">going to just quickly delete</p>
<p begin="09:29:22.680" end="09:29:28.756" style="s2">those all right so I got those deleted</p>
<p begin="09:29:24.880" end="09:29:28.756" style="s2">I&#39;m going to open up uh a new</p>
<p begin="09:29:29.276" end="09:29:32.960" style="s2">query and I can just go into database</p>
<p begin="09:29:31.520" end="09:29:35.160" style="s2">we&#39;ll do</p>
<p begin="09:29:32.960" end="09:29:37.480" style="s2">query and I&#39;m going to do</p>
<p begin="09:29:35.160" end="09:29:41.160" style="s2">select star from</p>
<p begin="09:29:37.480" end="09:29:43.400" style="s2">Posts and then select star from users</p>
<p begin="09:29:41.160" end="09:29:49.000" style="s2">just so I can get a list of uh post IDs</p>
<p begin="09:29:43.400" end="09:29:53.960" style="s2">and user IDs so I got user ID of 21 23</p>
<p begin="09:29:49.000" end="09:29:53.960" style="s2">24 and uh for the</p>
<p begin="09:29:54.360" end="09:29:59.040" style="s2">post we get</p>
<p begin="09:29:56.276" end="09:30:01.720" style="s2">1049 so let&#39;s try those</p>
<p begin="09:29:59.040" end="09:30:03.360" style="s2">out and I already forgot them so let&#39;s</p>
<p begin="09:30:01.720" end="09:30:06.200" style="s2">let&#39;s get that post ID again uh so we&#39;ll</p>
<p begin="09:30:03.360" end="09:30:08.436" style="s2">just grab a post ID of 10 so this going</p>
<p begin="09:30:06.200" end="09:30:09.960" style="s2">to be 10 and then the user ID well I&#39;m</p>
<p begin="09:30:08.436" end="09:30:12.000" style="s2">going to open up a new window so I can</p>
<p begin="09:30:09.960" end="09:30:14.120" style="s2">just switch between</p>
<p begin="09:30:12.000" end="09:30:16.120" style="s2">them so now we have the both of these</p>
<p begin="09:30:14.120" end="09:30:18.680" style="s2">windows for quering and I can do select</p>
<p begin="09:30:16.120" end="09:30:18.680" style="s2">star from</p>
<p begin="09:30:18.720" end="09:30:23.916" style="s2">users uh 21 okay so we&#39;ll do</p>
<p begin="09:30:29.400" end="09:30:32.320" style="s2">and it looks like we hit a bug in PG</p>
<p begin="09:30:30.916" end="09:30:33.560" style="s2">admin because I can&#39;t write anything</p>
<p begin="09:30:32.320" end="09:30:36.160" style="s2">here so I&#39;m just going to do view edit</p>
<p begin="09:30:33.560" end="09:30:38.756" style="s2">data all rows again and that looks a</p>
<p begin="09:30:36.160" end="09:30:40.520" style="s2">little bit better so let&#39;s get a post 10</p>
<p begin="09:30:38.756" end="09:30:43.560" style="s2">and a user of</p>
<p begin="09:30:40.520" end="09:30:46.276" style="s2">21 so</p>
<p begin="09:30:43.560" end="09:30:48.960" style="s2">10 21 and let&#39;s see if we&#39;re</p>
<p begin="09:30:46.276" end="09:30:51.000" style="s2">successfully able to get that and looks</p>
<p begin="09:30:48.960" end="09:30:54.000" style="s2">like that worked and then if I grab a</p>
<p begin="09:30:51.000" end="09:30:56.240" style="s2">post ID that doesn&#39;t exist uh so let&#39;s</p>
<p begin="09:30:54.000" end="09:30:56.240" style="s2">say like</p>
<p begin="09:30:56.520" end="09:31:02.040" style="s2">99 and then a valid user let&#39;s see what</p>
<p begin="09:31:00.240" end="09:31:04.276" style="s2">happens it&#39;s going to throw an error</p>
<p begin="09:31:02.040" end="09:31:06.240" style="s2">that&#39;s good and then if we grab a valid</p>
<p begin="09:31:04.276" end="09:31:09.276" style="s2">post number but a ID of a user that</p>
<p begin="09:31:06.240" end="09:31:11.840" style="s2">doesn&#39;t exist we should also get an</p>
<p begin="09:31:09.276" end="09:31:14.080" style="s2">error and then if any of these are</p>
<p begin="09:31:11.840" end="09:31:16.916" style="s2">blank and save it should throw an error</p>
<p begin="09:31:14.080" end="09:31:18.200" style="s2">as well okay so our table looks set</p>
<p begin="09:31:16.916" end="09:31:19.840" style="s2">that&#39;s pretty much all we have to do</p>
<p begin="09:31:18.200" end="09:31:21.040" style="s2">there&#39;s nothing else for these tables</p>
<p begin="09:31:19.840" end="09:31:23.040" style="s2">you&#39;ll see that once you can create one</p>
<p begin="09:31:21.040" end="09:31:26.240" style="s2">table you can really create all so I&#39;m</p>
<p begin="09:31:23.040" end="09:31:28.560" style="s2">just going to drop this table for</p>
<p begin="09:31:26.240" end="09:31:30.080" style="s2">now and in the next video we&#39;ll take a</p>
<p begin="09:31:28.560" end="09:31:31.640" style="s2">look at defining our model and SQL</p>
<p begin="09:31:30.080" end="09:31:33.520" style="s2">Alchemy so that SQL Alchemy actually</p>
<p begin="09:31:31.640" end="09:31:37.040" style="s2">generates the table for</p>
<p begin="09:31:33.520" end="09:31:39.400" style="s2">us in our models.py file let&#39;s create</p>
<p begin="09:31:37.040" end="09:31:42.040" style="s2">our model for our votes</p>
<p begin="09:31:39.400" end="09:31:45.520" style="s2">table and we&#39;ll call it votes or just</p>
<p begin="09:31:42.040" end="09:31:48.916" style="s2">vote it&#39;s going to extend</p>
<p begin="09:31:45.520" end="09:31:50.120" style="s2">base and then for our table name uh I</p>
<p begin="09:31:48.916" end="09:31:53.120" style="s2">think it just makes sense to call it</p>
<p begin="09:31:50.120" end="09:31:53.120" style="s2">votes</p>
<p begin="09:31:55.040" end="09:32:01.080" style="s2">then let&#39;s set up our two</p>
<p begin="09:31:57.320" end="09:32:02.800" style="s2">columns so we&#39;re going to have a user</p>
<p begin="09:32:01.080" end="09:32:06.436" style="s2">ID and then we&#39;re going to have a</p>
<p begin="09:32:02.800" end="09:32:08.480" style="s2">postore ID so for the user uncore ID</p>
<p begin="09:32:06.436" end="09:32:12.276" style="s2">this going to be a</p>
<p begin="09:32:08.480" end="09:32:12.276" style="s2">column and it&#39;s going to be a type</p>
<p begin="09:32:12.560" end="09:32:16.596" style="s2">integer we&#39;re going to set up the</p>
<p begin="09:32:14.200" end="09:32:16.596" style="s2">foreign</p>
<p begin="09:32:17.880" end="09:32:22.880" style="s2">key and this will be users so it&#39;s going</p>
<p begin="09:32:21.040" end="09:32:25.276" style="s2">to reference the users table and grab</p>
<p begin="09:32:22.880" end="09:32:25.276" style="s2">the ID</p>
<p begin="09:32:25.520" end="09:32:29.436" style="s2">field and then the second property is</p>
<p begin="09:32:27.596" end="09:32:32.120" style="s2">going to be the on delete which is going</p>
<p begin="09:32:29.436" end="09:32:32.120" style="s2">to be set to</p>
<p begin="09:32:33.596" end="09:32:39.400" style="s2">Cascade right then we&#39;ll set the primary</p>
<p begin="09:32:36.040" end="09:32:39.400" style="s2">key to be</p>
<p begin="09:32:39.840" end="09:32:44.960" style="s2">true and that&#39;s pretty much it and then</p>
<p begin="09:32:42.640" end="09:32:47.120" style="s2">I&#39;m just going to copy</p>
<p begin="09:32:44.960" end="09:32:49.040" style="s2">this paste it here we&#39;re just going to</p>
<p begin="09:32:47.120" end="09:32:51.360" style="s2">change this to be instead of users&#39;s ID</p>
<p begin="09:32:49.040" end="09:32:52.596" style="s2">we&#39;re going to be it&#39;s going to be post.</p>
<p begin="09:32:51.360" end="09:32:53.640" style="s2">ID</p>
<p begin="09:32:52.596" end="09:32:55.160" style="s2">and I don&#39;t know why I got autof</p>
<p begin="09:32:53.640" end="09:32:57.800" style="s2">formatted to a different</p>
<p begin="09:32:55.160" end="09:33:01.480" style="s2">line okay okay it looks like that&#39;s what</p>
<p begin="09:32:57.800" end="09:33:04.200" style="s2">it prefers and so save this and assuming</p>
<p begin="09:33:01.480" end="09:33:07.276" style="s2">there&#39;s no errors our application should</p>
<p begin="09:33:04.200" end="09:33:08.276" style="s2">restart and then if we go to PG admin</p>
<p begin="09:33:07.276" end="09:33:10.840" style="s2">and then</p>
<p begin="09:33:08.276" end="09:33:12.916" style="s2">refresh we should see a votes</p>
<p begin="09:33:10.840" end="09:33:15.436" style="s2">table and I&#39;m just going to go and take</p>
<p begin="09:33:12.916" end="09:33:15.436" style="s2">a look at the</p>
<p begin="09:33:16.240" end="09:33:19.360" style="s2">properties and you can see that we&#39;ve</p>
<p begin="09:33:17.960" end="09:33:20.640" style="s2">got the user ID and the post ID we&#39;ve</p>
<p begin="09:33:19.360" end="09:33:22.160" style="s2">got the primary key set so it&#39;s a</p>
<p begin="09:33:20.640" end="09:33:24.916" style="s2">composite key and since it&#39;s a primary</p>
<p begin="09:33:22.160" end="09:33:26.160" style="s2">key not null is going to be set to yes</p>
<p begin="09:33:24.916" end="09:33:28.040" style="s2">we go to</p>
<p begin="09:33:26.160" end="09:33:29.756" style="s2">constraints we&#39;ve got you know once</p>
<p begin="09:33:28.040" end="09:33:32.480" style="s2">again both of the primary Keys uh we</p>
<p begin="09:33:29.756" end="09:33:33.840" style="s2">should have two foreign keys and then if</p>
<p begin="09:33:32.480" end="09:33:37.480" style="s2">we just take a look at one of them real</p>
<p begin="09:33:33.840" end="09:33:40.840" style="s2">quick we should see Cascade on</p>
<p begin="09:33:37.480" end="09:33:46.000" style="s2">delete and so if we go and View and edit</p>
<p begin="09:33:40.840" end="09:33:46.000" style="s2">data Let&#39;s test this out 10 21</p>
<p begin="09:33:50.276" end="09:33:54.400" style="s2">again oh sorry should be 21 and 10</p>
<p begin="09:33:52.800" end="09:33:58.756" style="s2">because the user ID is the First Column</p>
<p begin="09:33:54.400" end="09:34:00.720" style="s2">now 21 and 10 let&#39;s try saving that good</p>
<p begin="09:33:58.756" end="09:34:03.276" style="s2">let&#39;s try doing 21 and</p>
<p begin="09:34:00.720" end="09:34:05.680" style="s2">N or 21 and</p>
<p begin="09:34:03.276" end="09:34:07.436" style="s2">88 should error out perfect and then</p>
<p begin="09:34:05.680" end="09:34:11.276" style="s2">let&#39;s try 10</p>
<p begin="09:34:07.436" end="09:34:13.320" style="s2">and some random number error</p>
<p begin="09:34:11.276" end="09:34:14.640" style="s2">perfect now there&#39;s going to be a couple</p>
<p begin="09:34:13.320" end="09:34:16.520" style="s2">things that we need to take into</p>
<p begin="09:34:14.640" end="09:34:18.520" style="s2">consideration when setting up the vote</p>
<p begin="09:34:16.520" end="09:34:20.240" style="s2">route so first of all what is the path</p>
<p begin="09:34:18.520" end="09:34:22.040" style="s2">we&#39;re going to use and I think it makes</p>
<p begin="09:34:20.240" end="09:34:25.080" style="s2">sense just to set up a new path called</p>
<p begin="09:34:22.040" end="09:34:26.596" style="s2">SL vote uh just like we have for SL</p>
<p begin="09:34:25.080" end="09:34:28.756" style="s2">users when it comes to handling anything</p>
<p begin="09:34:26.596" end="09:34:30.000" style="s2">with users and we have SL poost for</p>
<p begin="09:34:28.756" end="09:34:33.200" style="s2">handling anything with post we&#39;re going</p>
<p begin="09:34:30.000" end="09:34:36.116" style="s2">to have the SL vote for handling</p>
<p begin="09:34:33.200" end="09:34:38.680" style="s2">voting now the user ID the user who&#39;s</p>
<p begin="09:34:36.116" end="09:34:40.000" style="s2">trying to vote on a or like a post uh</p>
<p begin="09:34:38.680" end="09:34:42.080" style="s2">the ID of that user is going to be</p>
<p begin="09:34:40.000" end="09:34:43.520" style="s2">extracted from the JWT token so we don&#39;t</p>
<p begin="09:34:42.080" end="09:34:44.840" style="s2">actually have to extract that from the</p>
<p begin="09:34:43.520" end="09:34:46.880" style="s2">body we don&#39;t need to include it in the</p>
<p begin="09:34:44.840" end="09:34:49.480" style="s2">body however the body itself is going to</p>
<p begin="09:34:46.880" end="09:34:51.480" style="s2">contain two pieces of information the ID</p>
<p begin="09:34:49.480" end="09:34:54.040" style="s2">of the post we&#39;re trying to like as well</p>
<p begin="09:34:51.480" end="09:34:56.320" style="s2">as uh the direction of the vote and what</p>
<p begin="09:34:54.040" end="09:34:58.080" style="s2">I mean by direction is um do they want</p>
<p begin="09:34:56.320" end="09:34:59.360" style="s2">to vote on the post or do they want to</p>
<p begin="09:34:58.080" end="09:35:00.596" style="s2">remove a post because like any</p>
<p begin="09:34:59.360" end="09:35:02.116" style="s2">application you know maybe you</p>
<p begin="09:35:00.596" end="09:35:03.520" style="s2">accidentally clicked on a post to like</p>
<p begin="09:35:02.116" end="09:35:05.320" style="s2">it but you realize you don&#39;t want to</p>
<p begin="09:35:03.520" end="09:35:08.080" style="s2">like it so you click on it again to</p>
<p begin="09:35:05.320" end="09:35:09.640" style="s2">remove that so vote direction of one</p>
<p begin="09:35:08.080" end="09:35:11.240" style="s2">means that we&#39;re going to like the post</p>
<p begin="09:35:09.640" end="09:35:13.720" style="s2">and then a vote direction of zero means</p>
<p begin="09:35:11.240" end="09:35:15.800" style="s2">we&#39;re going to remove our like of the</p>
<p begin="09:35:13.720" end="09:35:17.596" style="s2">post now in our routers folder we&#39;re</p>
<p begin="09:35:15.800" end="09:35:19.160" style="s2">going to create a new file which is just</p>
<p begin="09:35:17.596" end="09:35:20.916" style="s2">going to be vote. py so this is going to</p>
<p begin="09:35:19.160" end="09:35:22.560" style="s2">handle all the routing for our voting</p>
<p begin="09:35:20.916" end="09:35:23.560" style="s2">urls</p>
<p begin="09:35:22.560" end="09:35:25.640" style="s2">and what I&#39;m going to do is I&#39;m just</p>
<p begin="09:35:23.560" end="09:35:28.200" style="s2">going to copy the import statement from</p>
<p begin="09:35:25.640" end="09:35:28.200" style="s2">one of the other</p>
<p begin="09:35:31.116" end="09:35:34.680" style="s2">routers and we&#39;ll set up our route so</p>
<p begin="09:35:33.276" end="09:35:36.320" style="s2">let&#39;s set up The Decorator first and</p>
<p begin="09:35:34.680" end="09:35:38.756" style="s2">this is going to be a</p>
<p begin="09:35:36.320" end="09:35:42.160" style="s2">post and I actually have to import</p>
<p begin="09:35:38.756" end="09:35:45.320" style="s2">router we got it let&#39;s create our router</p>
<p begin="09:35:42.160" end="09:35:48.320" style="s2">instance so we&#39;ll say router equals API</p>
<p begin="09:35:45.320" end="09:35:48.320" style="s2">router</p>
<p begin="09:36:00.276" end="09:36:06.400" style="s2">and we&#39;ll set up the prefix to</p>
<p begin="09:36:03.436" end="09:36:08.520" style="s2">be SL</p>
<p begin="09:36:06.400" end="09:36:10.640" style="s2">vote and the tags we&#39;re going to give it</p>
<p begin="09:36:08.520" end="09:36:13.000" style="s2">its own</p>
<p begin="09:36:10.640" end="09:36:16.000" style="s2">section which is going to just</p>
<p begin="09:36:13.000" end="09:36:16.000" style="s2">say</p>
<p begin="09:36:20.240" end="09:36:25.360" style="s2">vote and now we can do at router. poost</p>
<p begin="09:36:24.320" end="09:36:26.596" style="s2">this is going to be a post operation</p>
<p begin="09:36:25.360" end="09:36:28.040" style="s2">because we have to send some information</p>
<p begin="09:36:26.596" end="09:36:31.520" style="s2">to the</p>
<p begin="09:36:28.040" end="09:36:33.240" style="s2">server and the the URL is just going to</p>
<p begin="09:36:31.520" end="09:36:35.596" style="s2">be slash so it&#39;s just going to be SL</p>
<p begin="09:36:33.240" end="09:36:35.596" style="s2">vote</p>
<p begin="09:36:37.640" end="09:36:42.720" style="s2">then and since we&#39;re going to create a</p>
<p begin="09:36:40.040" end="09:36:44.480" style="s2">vote um by default uh we&#39;re going to</p>
<p begin="09:36:42.720" end="09:36:47.360" style="s2">send a different status code we&#39;re going</p>
<p begin="09:36:44.480" end="09:36:50.360" style="s2">to send a uh 201 instead of the default</p>
<p begin="09:36:47.360" end="09:36:50.360" style="s2">200</p>
<p begin="09:36:58.000" end="09:37:01.276" style="s2">then we&#39;ll Define our function which</p>
<p begin="09:36:59.116" end="09:37:03.200" style="s2">I&#39;ll just call</p>
<p begin="09:37:01.276" end="09:37:04.640" style="s2">vote now there&#39;s going to be a couple</p>
<p begin="09:37:03.200" end="09:37:06.800" style="s2">things that we have to pass in so since</p>
<p begin="09:37:04.640" end="09:37:09.040" style="s2">we expect the user to provide some data</p>
<p begin="09:37:06.800" end="09:37:10.680" style="s2">in the body it usually means we want to</p>
<p begin="09:37:09.040" end="09:37:12.040" style="s2">define a schema just so that we can</p>
<p begin="09:37:10.680" end="09:37:14.400" style="s2">ensure they send us the exact</p>
<p begin="09:37:12.040" end="09:37:15.200" style="s2">information so let&#39;s set up our schema</p>
<p begin="09:37:14.400" end="09:37:20.200" style="s2">for</p>
<p begin="09:37:15.200" end="09:37:20.200" style="s2">voting we&#39;ll create a class called vote</p>
<p begin="09:37:22.000" end="09:37:26.400" style="s2">and so the first field should be a post</p>
<p begin="09:37:23.640" end="09:37:28.880" style="s2">ID uhu which is going to be of type int</p>
<p begin="09:37:26.400" end="09:37:31.680" style="s2">and then we&#39;re going to have a</p>
<p begin="09:37:28.880" end="09:37:33.320" style="s2">direction which is going to be an</p>
<p begin="09:37:31.680" end="09:37:37.596" style="s2">integer as well so it&#39;s either zero or</p>
<p begin="09:37:33.320" end="09:37:39.276" style="s2">one uh however I I would like to be able</p>
<p begin="09:37:37.596" end="09:37:41.756" style="s2">to validate it to ensure that it&#39;s only</p>
<p begin="09:37:39.276" end="09:37:43.000" style="s2">zero or one I couldn&#39;t exactly figure</p>
<p begin="09:37:41.756" end="09:37:45.320" style="s2">out if there was a way to do that in</p>
<p begin="09:37:43.000" end="09:37:48.640" style="s2">pantic but one thing we can do is we can</p>
<p begin="09:37:45.320" end="09:37:51.560" style="s2">use uh Conant so we&#39;ll we&#39;ll import that</p>
<p begin="09:37:48.640" end="09:37:52.560" style="s2">from pantic automatically so if you want</p>
<p begin="09:37:51.560" end="09:37:53.840" style="s2">to see the import that&#39;s what it&#39;s going</p>
<p begin="09:37:52.560" end="09:37:56.916" style="s2">to look</p>
<p begin="09:37:53.840" end="09:37:59.480" style="s2">like and we can say less than or equal</p>
<p begin="09:37:56.916" end="09:38:00.680" style="s2">to one so anything less than one is</p>
<p begin="09:37:59.480" end="09:38:02.360" style="s2">going to be allowed the only problem</p>
<p begin="09:38:00.680" end="09:38:04.960" style="s2">with this is it allows for negative</p>
<p begin="09:38:02.360" end="09:38:06.080" style="s2">numbers um but that&#39;s okay uh you know</p>
<p begin="09:38:04.960" end="09:38:08.640" style="s2">if you guys figure out how to just</p>
<p begin="09:38:06.080" end="09:38:10.080" style="s2">specify zero and one then um you know go</p>
<p begin="09:38:08.640" end="09:38:11.756" style="s2">ahead and replace that and definitely</p>
<p begin="09:38:10.080" end="09:38:13.040" style="s2">leave it uh leave that piece of</p>
<p begin="09:38:11.756" end="09:38:15.080" style="s2">information in the comments so that</p>
<p begin="09:38:13.040" end="09:38:17.596" style="s2">anyone else who wants to set up that</p>
<p begin="09:38:15.080" end="09:38:21.360" style="s2">specific restriction uh then we all know</p>
<p begin="09:38:17.596" end="09:38:21.360" style="s2">how to do that moving forward</p>
<p begin="09:38:23.916" end="09:38:28.520" style="s2">and let&#39;s import our schema now so we&#39;ll</p>
<p begin="09:38:26.080" end="09:38:28.520" style="s2">go up a</p>
<p begin="09:38:30.400" end="09:38:36.480" style="s2">directory and let&#39;s also import</p>
<p begin="09:38:33.680" end="09:38:38.800" style="s2">database models and uh we&#39;re going to</p>
<p begin="09:38:36.480" end="09:38:40.916" style="s2">have to require the user to be logged in</p>
<p begin="09:38:38.800" end="09:38:43.480" style="s2">before uh they can vote on something so</p>
<p begin="09:38:40.916" end="09:38:48.276" style="s2">let&#39;s import awath</p>
<p begin="09:38:43.480" end="09:38:48.276" style="s2">2 and so here we&#39;re going to set up the</p>
<p begin="09:38:48.360" end="09:38:52.000" style="s2">schema and we&#39;re also going to set up</p>
<p begin="09:38:50.400" end="09:38:54.720" style="s2">the database</p>
<p begin="09:38:52.000" end="09:38:54.720" style="s2">so that we can make</p>
<p begin="09:39:04.800" end="09:39:10.116" style="s2">queries and then lastly we&#39;ll get the</p>
<p begin="09:39:06.840" end="09:39:10.116" style="s2">current user</p>
<p begin="09:39:24.960" end="09:39:30.756" style="s2">so once we got all those dependencies uh</p>
<p begin="09:39:27.240" end="09:39:30.756" style="s2">looks like we have to import session as</p>
<p begin="09:39:34.040" end="09:39:39.720" style="s2">well and I&#39;m actually going to move</p>
<p begin="09:39:37.080" end="09:39:41.436" style="s2">this right below the first import not</p>
<p begin="09:39:39.720" end="09:39:43.520" style="s2">that it matters</p>
<p begin="09:39:41.436" end="09:39:46.116" style="s2">but and so we&#39;re going to set up logic</p>
<p begin="09:39:43.520" end="09:39:50.520" style="s2">for when the vote direction is one so if</p>
<p begin="09:39:46.116" end="09:39:52.640" style="s2">I if vote. dur so we&#39;re pulling the the</p>
<p begin="09:39:50.520" end="09:39:54.080" style="s2">direction from the vote vote schema</p>
<p begin="09:39:52.640" end="09:39:55.880" style="s2">equals equals 1 then we&#39;re going to</p>
<p begin="09:39:54.080" end="09:39:58.080" style="s2">perform some</p>
<p begin="09:39:55.880" end="09:39:59.520" style="s2">logic else if it&#39;s zero then we&#39;re going</p>
<p begin="09:39:58.080" end="09:40:03.276" style="s2">to perform some other</p>
<p begin="09:39:59.520" end="09:40:04.480" style="s2">logic so if we want to uh create a vote</p>
<p begin="09:40:03.276" end="09:40:06.880" style="s2">the first thing we&#39;re going to do is</p>
<p begin="09:40:04.480" end="09:40:09.276" style="s2">query to see uh you know does the vote</p>
<p begin="09:40:06.880" end="09:40:11.756" style="s2">already exist and so what I&#39;m going to</p>
<p begin="09:40:09.276" end="09:40:15.400" style="s2">do is I&#39;m going to say db.</p>
<p begin="09:40:11.756" end="09:40:19.000" style="s2">query and we&#39;ll grab models.</p>
<p begin="09:40:15.400" end="09:40:21.916" style="s2">vote and I&#39;m going to filter based off</p>
<p begin="09:40:19.000" end="09:40:24.916" style="s2">of models. vote</p>
<p begin="09:40:21.916" end="09:40:24.916" style="s2">_</p>
<p begin="09:40:25.320" end="09:40:31.436" style="s2">ID and we&#39;re going to say it equals</p>
<p begin="09:40:27.276" end="09:40:32.840" style="s2">equals vote. postore ID so we&#39;re going</p>
<p begin="09:40:31.436" end="09:40:35.360" style="s2">to see if there&#39;s already a vote for</p>
<p begin="09:40:32.840" end="09:40:37.596" style="s2">this specific post ID however this isn&#39;t</p>
<p begin="09:40:35.360" end="09:40:39.480" style="s2">enough because remember uh multiple</p>
<p begin="09:40:37.596" end="09:40:41.916" style="s2">people can vote on the same post so we</p>
<p begin="09:40:39.480" end="09:40:44.400" style="s2">actually have to do a second</p>
<p begin="09:40:41.916" end="09:40:45.720" style="s2">check and we can add in a second</p>
<p begin="09:40:44.400" end="09:40:46.960" style="s2">condition by just doing a comma and then</p>
<p begin="09:40:45.720" end="09:40:52.596" style="s2">providing the second condition so we</p>
<p begin="09:40:46.960" end="09:40:57.276" style="s2">have to say models. vote. user ID equal</p>
<p begin="09:40:52.596" end="09:40:57.276" style="s2">equals current user.</p>
<p begin="09:40:58.080" end="09:41:02.756" style="s2">ID and I&#39;m going to save this and we&#39;re</p>
<p begin="09:41:00.160" end="09:41:04.040" style="s2">going to call this uh vote query so this</p>
<p begin="09:41:02.756" end="09:41:05.480" style="s2">isn&#39;t going to actually query the</p>
<p begin="09:41:04.040" end="09:41:07.276" style="s2">database yet this is just building out</p>
<p begin="09:41:05.480" end="09:41:09.560" style="s2">the query and it&#39;s going to check to see</p>
<p begin="09:41:07.276" end="09:41:11.680" style="s2">if this specific user ultimately has</p>
<p begin="09:41:09.560" end="09:41:13.916" style="s2">voted for this specific post already or</p>
<p begin="09:41:11.680" end="09:41:16.240" style="s2">liked this post and I&#39;m actually going</p>
<p begin="09:41:13.916" end="09:41:18.200" style="s2">to move this above the if</p>
<p begin="09:41:16.240" end="09:41:22.000" style="s2">statement and you guys will see why</p>
<p begin="09:41:18.200" end="09:41:22.000" style="s2">we&#39;re going to do that in a bit</p>
<p begin="09:41:24.200" end="09:41:27.720" style="s2">and we&#39;re going to then perform the</p>
<p begin="09:41:25.520" end="09:41:32.436" style="s2">query and just save that result under</p>
<p begin="09:41:27.720" end="09:41:34.520" style="s2">found vote equals vote query. first all</p>
<p begin="09:41:32.436" end="09:41:37.276" style="s2">right and so if the user wants to like a</p>
<p begin="09:41:34.520" end="09:41:38.960" style="s2">post but we already found a post that</p>
<p begin="09:41:37.276" end="09:41:41.080" style="s2">means he&#39;s already liked this specific</p>
<p begin="09:41:38.960" end="09:41:43.276" style="s2">post so he can&#39;t like it again so what</p>
<p begin="09:41:41.080" end="09:41:44.756" style="s2">we&#39;re going to say is if we already</p>
<p begin="09:41:43.276" end="09:41:47.520" style="s2">found a vote then we&#39;re going to raise</p>
<p begin="09:41:44.756" end="09:41:47.520" style="s2">an HTTP</p>
<p begin="09:41:48.400" end="09:41:52.200" style="s2">exception uh now the status code we&#39;re</p>
<p begin="09:41:50.680" end="09:41:55.200" style="s2">going to use a new status code I&#39;m going</p>
<p begin="09:41:52.200" end="09:41:57.640" style="s2">to use status do and then this is going</p>
<p begin="09:41:55.200" end="09:41:57.640" style="s2">to be a</p>
<p begin="09:41:58.240" end="09:42:02.360" style="s2">409 for conflict and there&#39;s other</p>
<p begin="09:42:00.756" end="09:42:03.640" style="s2">status codes you could potentially use I</p>
<p begin="09:42:02.360" end="09:42:05.596" style="s2">I just decided that this is probably</p>
<p begin="09:42:03.640" end="09:42:06.916" style="s2">going to be the best fit and then for</p>
<p begin="09:42:05.596" end="09:42:10.160" style="s2">detail we&#39;re going to just pass an F</p>
<p begin="09:42:06.916" end="09:42:14.436" style="s2">string and say user and then we pass in</p>
<p begin="09:42:10.160" end="09:42:17.436" style="s2">the user which is a get whoops current</p>
<p begin="09:42:14.436" end="09:42:17.436" style="s2">user.</p>
<p begin="09:42:17.596" end="09:42:23.840" style="s2">ID has</p>
<p begin="09:42:19.680" end="09:42:27.116" style="s2">already voted on on post with an ID</p>
<p begin="09:42:23.840" end="09:42:29.400" style="s2">of vote. postore</p>
<p begin="09:42:27.116" end="09:42:31.000" style="s2">ID all right but if we didn&#39;t find a</p>
<p begin="09:42:29.400" end="09:42:33.320" style="s2">vote then what we&#39;re going to do is</p>
<p begin="09:42:31.000" end="09:42:35.640" style="s2">we&#39;re going to create a brand new vote</p>
<p begin="09:42:33.320" end="09:42:39.200" style="s2">so I&#39;ll say models. vote and so the post</p>
<p begin="09:42:35.640" end="09:42:42.800" style="s2">ID field is going to be set to vote.</p>
<p begin="09:42:39.200" end="09:42:44.240" style="s2">poost _ ID and then we can grab the user</p>
<p begin="09:42:42.800" end="09:42:48.400" style="s2">ID</p>
<p begin="09:42:44.240" end="09:42:51.276" style="s2">field from current user. ID so this will</p>
<p begin="09:42:48.400" end="09:42:54.800" style="s2">set the two properties and we&#39;ll save</p>
<p begin="09:42:51.276" end="09:42:56.520" style="s2">this as newor vote and as usual to</p>
<p begin="09:42:54.800" end="09:42:58.520" style="s2">actually perform these changes or to add</p>
<p begin="09:42:56.520" end="09:43:01.040" style="s2">this to our database we have to do a db.</p>
<p begin="09:42:58.520" end="09:43:05.116" style="s2">add newcore</p>
<p begin="09:43:01.040" end="09:43:05.116" style="s2">vote and then a db.</p>
<p begin="09:43:07.480" end="09:43:11.720" style="s2">commit and we don&#39;t actually need to</p>
<p begin="09:43:09.596" end="09:43:12.756" style="s2">send the created vote back to the user</p>
<p begin="09:43:11.720" end="09:43:14.400" style="s2">because it doesn&#39;t really provide any</p>
<p begin="09:43:12.756" end="09:43:16.680" style="s2">useful information uh we&#39;re just going</p>
<p begin="09:43:14.400" end="09:43:19.200" style="s2">to send a</p>
<p begin="09:43:16.680" end="09:43:22.276" style="s2">message that</p>
<p begin="09:43:19.200" end="09:43:24.680" style="s2">says successfully</p>
<p begin="09:43:22.276" end="09:43:24.680" style="s2">added</p>
<p begin="09:43:25.720" end="09:43:29.720" style="s2">vote now if the user provided a</p>
<p begin="09:43:28.560" end="09:43:32.436" style="s2">direction of zero that means they want</p>
<p begin="09:43:29.720" end="09:43:35.916" style="s2">to delete a pre-existing vote so first</p>
<p begin="09:43:32.436" end="09:43:37.400" style="s2">of all we&#39;ll say if not found vote right</p>
<p begin="09:43:35.916" end="09:43:41.160" style="s2">we can&#39;t delete a vote that doesn&#39;t</p>
<p begin="09:43:37.400" end="09:43:41.160" style="s2">exist so raise an HTTP</p>
<p begin="09:43:44.080" end="09:43:49.916" style="s2">exception status code um I think we</p>
<p begin="09:43:46.400" end="09:43:49.916" style="s2">could just send a 404</p>
<p begin="09:43:56.480" end="09:44:01.680" style="s2">and for the detail I just say vote does</p>
<p begin="09:43:59.276" end="09:44:01.680" style="s2">not</p>
<p begin="09:44:05.720" end="09:44:10.400" style="s2">exist but if we did find a vote then we</p>
<p begin="09:44:08.276" end="09:44:13.436" style="s2">have to delete it so I&#39;ll say</p>
<p begin="09:44:10.400" end="09:44:17.080" style="s2">vote query remember this is the query</p>
<p begin="09:44:13.436" end="09:44:17.080" style="s2">all the way at the top</p>
<p begin="09:44:23.840" end="09:44:27.436" style="s2">I&#39;ll say.</p>
<p begin="09:44:25.680" end="09:44:29.720" style="s2">delete and then we can just do our</p>
<p begin="09:44:27.436" end="09:44:33.960" style="s2">synchr synchronized session</p>
<p begin="09:44:29.720" end="09:44:33.960" style="s2">balse and we&#39;ll do a db.</p>
<p begin="09:44:40.596" end="09:44:50.596" style="s2">commit and we&#39;ll just return a similar</p>
<p begin="09:44:45.160" end="09:44:50.596" style="s2">message successfully deleted vote</p>
<p begin="09:44:51.080" end="09:44:55.596" style="s2">okay and this should kind of sum up uh</p>
<p begin="09:44:53.080" end="09:44:57.680" style="s2">all of the logic in our path operation</p>
<p begin="09:44:55.596" end="09:44:59.756" style="s2">function and at this point we can just</p>
<p begin="09:44:57.680" end="09:45:04.160" style="s2">go ahead and test this out so we&#39;ll go</p>
<p begin="09:44:59.756" end="09:45:04.160" style="s2">back to postman first of all let&#39;s log</p>
<p begin="09:45:05.880" end="09:45:10.720" style="s2">in all right so we&#39;ve logged in and what</p>
<p begin="09:45:09.360" end="09:45:15.720" style="s2">I&#39;m going to do is create a brand new</p>
<p begin="09:45:10.720" end="09:45:15.720" style="s2">request we&#39;ll call this vote</p>
<p begin="09:45:22.116" end="09:45:25.276" style="s2">and this is going to be a</p>
<p begin="09:45:26.916" end="09:45:31.400" style="s2">vote and in the body we have to pass in</p>
<p begin="09:45:29.720" end="09:45:35.240" style="s2">the specific data so let&#39;s actually grab</p>
<p begin="09:45:31.400" end="09:45:38.200" style="s2">a post um or an ID of a post so in this</p>
<p begin="09:45:35.240" end="09:45:38.200" style="s2">case there&#39;s an ID of</p>
<p begin="09:45:40.880" end="09:45:45.560" style="s2">10 actually first let me double check</p>
<p begin="09:45:43.200" end="09:45:47.400" style="s2">who I&#39;m logged in as okay that&#39;s fine so</p>
<p begin="09:45:45.560" end="09:45:50.520" style="s2">I&#39;m going to grab uh a post with an ID</p>
<p begin="09:45:47.400" end="09:45:50.520" style="s2">of 10</p>
<p begin="09:45:53.320" end="09:45:58.840" style="s2">so here we&#39;ll say postore</p>
<p begin="09:45:55.840" end="09:45:58.840" style="s2">ID</p>
<p begin="09:46:07.160" end="09:46:13.040" style="s2">10 and then we&#39;ll say</p>
<p begin="09:46:10.596" end="09:46:15.240" style="s2">dur actually is that what we called it I</p>
<p begin="09:46:13.040" end="09:46:19.720" style="s2">actually forgot let&#39;s go to our</p>
<p begin="09:46:15.240" end="09:46:19.720" style="s2">schemas yeah it&#39;s just dur</p>
<p begin="09:46:21.400" end="09:46:25.596" style="s2">and this is going to be let&#39;s let&#39;s this</p>
<p begin="09:46:24.480" end="09:46:28.240" style="s2">is going to be a one so that we can</p>
<p begin="09:46:25.596" end="09:46:30.116" style="s2">actually like the post and remember this</p>
<p begin="09:46:28.240" end="09:46:33.040" style="s2">should be a post request so let&#39;s try</p>
<p begin="09:46:30.116" end="09:46:35.276" style="s2">this out let&#39;s hit</p>
<p begin="09:46:33.040" end="09:46:37.520" style="s2">send and it looks like we ran into an</p>
<p begin="09:46:35.276" end="09:46:40.276" style="s2">issue so let&#39;s</p>
<p begin="09:46:37.520" end="09:46:42.880" style="s2">check and uh it says that this specific</p>
<p begin="09:46:40.276" end="09:46:44.916" style="s2">route was not found uh and so that&#39;s</p>
<p begin="09:46:42.880" end="09:46:48.436" style="s2">obviously because we didn&#39;t wire up this</p>
<p begin="09:46:44.916" end="09:46:52.240" style="s2">specific router so let&#39;s go back to our</p>
<p begin="09:46:48.436" end="09:46:54.560" style="s2">main.py and let&#39;s import vote</p>
<p begin="09:46:52.240" end="09:46:58.596" style="s2">and then we can just copy</p>
<p begin="09:46:54.560" end="09:46:58.596" style="s2">this and wire up vote.</p>
<p begin="09:47:02.080" end="09:47:08.596" style="s2">router yep and once again another</p>
<p begin="09:47:05.756" end="09:47:10.276" style="s2">typo all right let&#39;s give this a try now</p>
<p begin="09:47:08.596" end="09:47:12.840" style="s2">so we&#39;ll hit</p>
<p begin="09:47:10.276" end="09:47:14.800" style="s2">send it says we&#39;re not authenticated so</p>
<p begin="09:47:12.840" end="09:47:18.880" style="s2">let me login</p>
<p begin="09:47:14.800" end="09:47:18.880" style="s2">user all right now let&#39;s try</p>
<p begin="09:47:19.400" end="09:47:25.560" style="s2">this and it says say that I&#39;m still</p>
<p begin="09:47:23.320" end="09:47:27.436" style="s2">unauthenticated and guys I realized why</p>
<p begin="09:47:25.560" end="09:47:28.560" style="s2">we&#39;re getting uh not authenticated</p>
<p begin="09:47:27.436" end="09:47:29.840" style="s2">that&#39;s just because we have a new</p>
<p begin="09:47:28.560" end="09:47:33.040" style="s2">request and we have to make sure that we</p>
<p begin="09:47:29.840" end="09:47:35.240" style="s2">set the authorization to be beer</p>
<p begin="09:47:33.040" end="09:47:37.000" style="s2">token and then we want to pass in our</p>
<p begin="09:47:35.240" end="09:47:39.756" style="s2">JWT variable so it wasn&#39;t actually</p>
<p begin="09:47:37.000" end="09:47:42.240" style="s2">retrieving that so now if I try this we</p>
<p begin="09:47:39.756" end="09:47:44.480" style="s2">can see that we successfully added vote</p>
<p begin="09:47:42.240" end="09:47:45.916" style="s2">and uh you know just make sure that it</p>
<p begin="09:47:44.480" end="09:47:48.116" style="s2">actually did that let&#39;s actually go into</p>
<p begin="09:47:45.916" end="09:47:51.480" style="s2">our database and take a look at our</p>
<p begin="09:47:48.116" end="09:47:51.480" style="s2">votes table</p>
<p begin="09:47:55.640" end="09:48:00.276" style="s2">and so we like the post uh and it looks</p>
<p begin="09:47:58.116" end="09:48:01.840" style="s2">like um I have some previous ones so</p>
<p begin="09:48:00.276" end="09:48:03.520" style="s2">what I&#39;m actually going to do is I&#39;m</p>
<p begin="09:48:01.840" end="09:48:05.640" style="s2">going to delete everything uh from our</p>
<p begin="09:48:03.520" end="09:48:07.560" style="s2">votes table just so we can make sure it</p>
<p begin="09:48:05.640" end="09:48:08.960" style="s2">works cuz I forgot who I&#39;m even logged</p>
<p begin="09:48:07.560" end="09:48:11.640" style="s2">in as let&#39;s go to</p>
<p begin="09:48:08.960" end="09:48:13.800" style="s2">properties okay sorry uh let me just do</p>
<p begin="09:48:11.640" end="09:48:13.800" style="s2">a</p>
<p begin="09:48:14.436" end="09:48:20.400" style="s2">query and I&#39;m just going to say delete</p>
<p begin="09:48:18.040" end="09:48:23.680" style="s2">from votes that&#39;s going to delete</p>
<p begin="09:48:20.400" end="09:48:28.080" style="s2">everything in our votes table perfect</p>
<p begin="09:48:23.680" end="09:48:28.080" style="s2">and then we can just say select from</p>
<p begin="09:48:32.040" end="09:48:35.800" style="s2">votes we have nothing in there and let&#39;s</p>
<p begin="09:48:34.160" end="09:48:39.560" style="s2">try this</p>
<p begin="09:48:35.800" end="09:48:41.880" style="s2">again all right and so now run this we</p>
<p begin="09:48:39.560" end="09:48:44.400" style="s2">can see that we did like Post 10 and I</p>
<p begin="09:48:41.880" end="09:48:47.000" style="s2">guess our ID is uh 24 but we can just</p>
<p begin="09:48:44.400" end="09:48:50.240" style="s2">quickly verify that I do select star</p>
<p begin="09:48:47.000" end="09:48:50.240" style="s2">from users</p>
<p begin="09:48:52.320" end="09:48:55.840" style="s2">and I&#39;m logged in as sanji1 123 so we</p>
<p begin="09:48:54.160" end="09:48:58.436" style="s2">can see that that has an ID of 24 so</p>
<p begin="09:48:55.840" end="09:49:00.200" style="s2">that works now what I&#39;m going to do is</p>
<p begin="09:48:58.436" end="09:49:01.800" style="s2">Let&#39;s test to see what happens if I try</p>
<p begin="09:49:00.200" end="09:49:04.200" style="s2">to vote on a post that I&#39;ve already</p>
<p begin="09:49:01.800" end="09:49:05.960" style="s2">voted on so I&#39;m going to keep the vote</p>
<p begin="09:49:04.200" end="09:49:08.000" style="s2">direction to be one and I know I&#39;ve</p>
<p begin="09:49:05.960" end="09:49:12.276" style="s2">already voted on this post so we should</p>
<p begin="09:49:08.000" end="09:49:15.000" style="s2">get user 24 has already voted on Post 10</p>
<p begin="09:49:12.276" end="09:49:16.560" style="s2">perfect now let&#39;s go and try to delete a</p>
<p begin="09:49:15.000" end="09:49:19.116" style="s2">post so I&#39;m going to set the vote there</p>
<p begin="09:49:16.560" end="09:49:21.400" style="s2">to be zero and let&#39;s see what happens it</p>
<p begin="09:49:19.116" end="09:49:23.240" style="s2">says I successfully deleted the post</p>
<p begin="09:49:21.400" end="09:49:26.116" style="s2">or or the vote and let&#39;s just do a quick</p>
<p begin="09:49:23.240" end="09:49:29.040" style="s2">query we can see nothing is there and</p>
<p begin="09:49:26.116" end="09:49:31.640" style="s2">then if we try to delete a vote or or a</p>
<p begin="09:49:29.040" end="09:49:34.436" style="s2">like that doesn&#39;t exist we can see that</p>
<p begin="09:49:31.640" end="09:49:36.276" style="s2">vote does not exist all right guys we&#39;ve</p>
<p begin="09:49:34.436" end="09:49:39.000" style="s2">actually implemented all of the voting</p>
<p begin="09:49:36.276" end="09:49:42.040" style="s2">logic right there the only other thing</p>
<p begin="09:49:39.000" end="09:49:43.840" style="s2">that we need to do is when we retrieve a</p>
<p begin="09:49:42.040" end="09:49:48.080" style="s2">post right whether it&#39;s through the get</p>
<p begin="09:49:43.840" end="09:49:53.240" style="s2">all posts or even I get one post I want</p>
<p begin="09:49:48.080" end="09:49:55.960" style="s2">to have my fast API send the number of</p>
<p begin="09:49:53.240" end="09:49:57.640" style="s2">votes as a property as a field here so</p>
<p begin="09:49:55.960" end="09:49:59.880" style="s2">that uh you know when we load up posts</p>
<p begin="09:49:57.640" end="09:50:02.116" style="s2">on our front end application they can</p>
<p begin="09:49:59.880" end="09:50:03.720" style="s2">see the number of likes that a post has</p>
<p begin="09:50:02.116" end="09:50:05.520" style="s2">that&#39;s usually how most applications</p>
<p begin="09:50:03.720" end="09:50:07.040" style="s2">work and I would like it to have it</p>
<p begin="09:50:05.520" end="09:50:09.560" style="s2">automatically send that information</p>
<p begin="09:50:07.040" end="09:50:11.400" style="s2">instead of having to send another query</p>
<p begin="09:50:09.560" end="09:50:12.916" style="s2">to our back end to see you know what is</p>
<p begin="09:50:11.400" end="09:50:15.560" style="s2">the total number of votes I wanted to do</p>
<p begin="09:50:12.916" end="09:50:18.200" style="s2">it automatically anytime we retrieve any</p>
<p begin="09:50:15.560" end="09:50:20.436" style="s2">post and uh that&#39;s going to be a little</p>
<p begin="09:50:18.200" end="09:50:23.520" style="s2">bit more complex uh we&#39;re going to have</p>
<p begin="09:50:20.436" end="09:50:25.756" style="s2">to learn a little bit more about SQL uh</p>
<p begin="09:50:23.520" end="09:50:28.040" style="s2">start digging into some of the weeds of</p>
<p begin="09:50:25.756" end="09:50:30.560" style="s2">uh SQL and postgress and then once we</p>
<p begin="09:50:28.040" end="09:50:32.916" style="s2">learn how to do it with a regular SQL we</p>
<p begin="09:50:30.560" end="09:50:35.880" style="s2">have to see if we can do this with um</p>
<p begin="09:50:32.916" end="09:50:37.880" style="s2">SQL Alchemy after I finished recording</p>
<p begin="09:50:35.880" end="09:50:39.880" style="s2">all of the uh voting logic or at least</p>
<p begin="09:50:37.880" end="09:50:42.320" style="s2">the router that handles voting I</p>
<p begin="09:50:39.880" end="09:50:44.400" style="s2">realized there&#39;s one tiny bug and that</p>
<p begin="09:50:42.320" end="09:50:46.160" style="s2">is that right now there&#39;s no logic to</p>
<p begin="09:50:44.400" end="09:50:48.360" style="s2">actually detect if the user is trying to</p>
<p begin="09:50:46.160" end="09:50:50.116" style="s2">vote on a post that doesn&#39;t exist</p>
<p begin="09:50:48.360" end="09:50:51.680" style="s2">because if they want to vote on a post</p>
<p begin="09:50:50.116" end="09:50:54.160" style="s2">that doesn&#39;t exist I want to ideally</p>
<p begin="09:50:51.680" end="09:50:55.360" style="s2">send a 404 so what we&#39;re going to do is</p>
<p begin="09:50:54.160" end="09:50:56.916" style="s2">we&#39;re going to implement that logic and</p>
<p begin="09:50:55.360" end="09:50:58.640" style="s2">it&#39;s going to be really simple we&#39;re</p>
<p begin="09:50:56.916" end="09:51:00.680" style="s2">just going to query for the Post based</p>
<p begin="09:50:58.640" end="09:51:02.436" style="s2">off of the ID first if it doesn&#39;t exist</p>
<p begin="09:51:00.680" end="09:51:04.000" style="s2">we&#39;re going to throw an exception so</p>
<p begin="09:51:02.436" end="09:51:05.160" style="s2">just like we&#39;ve done with pretty much</p>
<p begin="09:51:04.000" end="09:51:06.480" style="s2">all of our other routers whenever</p>
<p begin="09:51:05.160" end="09:51:08.560" style="s2">someone tries to access a post that they</p>
<p begin="09:51:06.480" end="09:51:10.080" style="s2">don&#39;t uh that doesn&#39;t exist then we&#39;re</p>
<p begin="09:51:08.560" end="09:51:12.276" style="s2">just going to Simply send a</p>
<p begin="09:51:10.080" end="09:51:14.840" style="s2">404 so let&#39;s start off by making our</p>
<p begin="09:51:12.276" end="09:51:18.000" style="s2">query I&#39;m going to do db.</p>
<p begin="09:51:14.840" end="09:51:19.720" style="s2">query we&#39;ll say models.</p>
<p begin="09:51:18.000" end="09:51:20.916" style="s2">poost and then what we&#39;re going to do is</p>
<p begin="09:51:19.720" end="09:51:24.560" style="s2">we&#39;re going to filter based off of the</p>
<p begin="09:51:20.916" end="09:51:27.436" style="s2">post ID so we&#39;ll say models. post.</p>
<p begin="09:51:24.560" end="09:51:31.360" style="s2">ID equals equals</p>
<p begin="09:51:27.436" end="09:51:33.960" style="s2">vote. postore ID and then we&#39;re going to</p>
<p begin="09:51:31.360" end="09:51:33.960" style="s2">grab the first</p>
<p begin="09:51:34.400" end="09:51:39.480" style="s2">one and we&#39;ll save this in a variable</p>
<p begin="09:51:36.756" end="09:51:39.480" style="s2">called</p>
<p begin="09:51:42.480" end="09:51:47.560" style="s2">post then we&#39;ll say if not post so if</p>
<p begin="09:51:45.436" end="09:51:51.596" style="s2">the post doesn&#39;t exist then we&#39;re going</p>
<p begin="09:51:47.560" end="09:51:51.596" style="s2">to raise an HTTP exception</p>
<p begin="09:51:52.756" end="09:51:56.000" style="s2">and the status code is going to be a</p>
<p begin="09:52:02.240" end="09:52:07.880" style="s2">404 and the detail will be the usual F</p>
<p begin="09:52:04.800" end="09:52:12.840" style="s2">string that says uh</p>
<p begin="09:52:07.880" end="09:52:12.840" style="s2">post with ID and then we&#39;ll pass in the</p>
<p begin="09:52:19.040" end="09:52:23.596" style="s2">ID does not</p>
<p begin="09:52:21.480" end="09:52:25.276" style="s2">exist and that&#39;s all we have to do and</p>
<p begin="09:52:23.596" end="09:52:27.116" style="s2">that&#39;s going to fix that little bit that</p>
<p begin="09:52:25.276" end="09:52:29.160" style="s2">little tiny bug and you&#39;ll see that when</p>
<p begin="09:52:27.116" end="09:52:31.160" style="s2">we get to the testing section we can now</p>
<p begin="09:52:29.160" end="09:52:33.560" style="s2">test to see if the post doesn&#39;t exist as</p>
<p begin="09:52:31.160" end="09:52:35.116" style="s2">well up till now we&#39;ve been working with</p>
<p begin="09:52:33.560" end="09:52:37.720" style="s2">very simple queries we&#39;ve just been</p>
<p begin="09:52:35.116" end="09:52:40.040" style="s2">querying a single table however now that</p>
<p begin="09:52:37.720" end="09:52:42.560" style="s2">we have more than one table uh and all</p>
<p begin="09:52:40.040" end="09:52:44.240" style="s2">of these tables have built out these</p>
<p begin="09:52:42.560" end="09:52:45.680" style="s2">relationships you&#39;re going to see that</p>
<p begin="09:52:44.240" end="09:52:47.680" style="s2">eventually you want to be able to get</p>
<p begin="09:52:45.680" end="09:52:49.840" style="s2">information from two tables at the same</p>
<p begin="09:52:47.680" end="09:52:51.596" style="s2">exact time and this gets a little</p>
<p begin="09:52:49.840" end="09:52:54.000" style="s2">complicated but the way we actually do</p>
<p begin="09:52:51.596" end="09:52:57.000" style="s2">that is by using something called a join</p>
<p begin="09:52:54.000" end="09:52:59.160" style="s2">so we join two tables together and as an</p>
<p begin="09:52:57.000" end="09:53:03.360" style="s2">example uh let&#39;s say I want to get all</p>
<p begin="09:52:59.160" end="09:53:03.360" style="s2">of my posts so I do a select star from</p>
<p begin="09:53:03.400" end="09:53:08.320" style="s2">Posts that&#39;s great and all however you</p>
<p begin="09:53:06.240" end="09:53:12.240" style="s2">know when we&#39;re sending back the the</p>
<p begin="09:53:08.320" end="09:53:14.480" style="s2">posts to the user right the or our front</p>
<p begin="09:53:12.240" end="09:53:16.320" style="s2">end our front end has no idea what uh a</p>
<p begin="09:53:14.480" end="09:53:18.000" style="s2">owner ID of 23 is he doesn&#39;t know what</p>
<p begin="09:53:16.320" end="09:53:20.276" style="s2">that is and we ultimately want to</p>
<p begin="09:53:18.000" end="09:53:21.916" style="s2">display the username or the email uh of</p>
<p begin="09:53:20.276" end="09:53:23.560" style="s2">the the user that created that post on</p>
<p begin="09:53:21.916" end="09:53:25.880" style="s2">our front end so what we would have to</p>
<p begin="09:53:23.560" end="09:53:27.840" style="s2">do if we can only uh you know retrieve</p>
<p begin="09:53:25.880" end="09:53:29.560" style="s2">data from one table at a time is we&#39;d</p>
<p begin="09:53:27.840" end="09:53:32.040" style="s2">have to then individually go and then</p>
<p begin="09:53:29.560" end="09:53:34.720" style="s2">fetch all of these users from the user</p>
<p begin="09:53:32.040" end="09:53:38.160" style="s2">table one by one so that we can actually</p>
<p begin="09:53:34.720" end="09:53:39.916" style="s2">get the email or or the username and</p>
<p begin="09:53:38.160" end="09:53:41.436" style="s2">that&#39;s a little inefficient having to do</p>
<p begin="09:53:39.916" end="09:53:43.800" style="s2">multiple queries if you ever get a</p>
<p begin="09:53:41.436" end="09:53:46.080" style="s2">chance to uh it&#39;s better to just do a</p>
<p begin="09:53:43.800" end="09:53:47.520" style="s2">single query uh and get all of the</p>
<p begin="09:53:46.080" end="09:53:48.916" style="s2">pieces of information that you&#39;re</p>
<p begin="09:53:47.520" end="09:53:50.756" style="s2">interested in so I&#39;m going to show you</p>
<p begin="09:53:48.916" end="09:53:52.520" style="s2">guys how we can join information from</p>
<p begin="09:53:50.756" end="09:53:54.840" style="s2">two tables CU I would also like to get</p>
<p begin="09:53:52.520" end="09:53:58.040" style="s2">all of the user information based off of</p>
<p begin="09:53:54.840" end="09:54:00.640" style="s2">the owner ID field that&#39;s on the posts</p>
<p begin="09:53:58.040" end="09:54:03.400" style="s2">table so how do we do that well we start</p>
<p begin="09:54:00.640" end="09:54:04.960" style="s2">off a query just like this and actually</p>
<p begin="09:54:03.400" end="09:54:06.680" style="s2">before we go into this what I would like</p>
<p begin="09:54:04.960" end="09:54:09.560" style="s2">to do is show you one of my favorite</p>
<p begin="09:54:06.680" end="09:54:11.756" style="s2">websites uh so if you go to postgress</p>
<p begin="09:54:09.560" end="09:54:13.520" style="s2">tutorial just search for that in</p>
<p begin="09:54:11.756" end="09:54:16.240" style="s2">Google uh you&#39;ll see that there&#39;s a</p>
<p begin="09:54:13.520" end="09:54:18.720" style="s2">website called postgressql tutorial.com</p>
<p begin="09:54:16.240" end="09:54:22.400" style="s2">this is one of my favorite sites and I</p>
<p begin="09:54:18.720" end="09:54:24.800" style="s2">want you to go to Jo joins right here so</p>
<p begin="09:54:22.400" end="09:54:27.400" style="s2">this is how we get information from two</p>
<p begin="09:54:24.800" end="09:54:29.276" style="s2">different tables and this this page uh</p>
<p begin="09:54:27.400" end="09:54:31.560" style="s2">you know does an absolute marvelous job</p>
<p begin="09:54:29.276" end="09:54:32.800" style="s2">of explaining how to actually uh join</p>
<p begin="09:54:31.560" end="09:54:34.160" style="s2">two tables and it goes over the</p>
<p begin="09:54:32.800" end="09:54:36.160" style="s2">different types of joins because there</p>
<p begin="09:54:34.160" end="09:54:37.480" style="s2">isn&#39;t just one method uh you&#39;ve got left</p>
<p begin="09:54:36.160" end="09:54:40.720" style="s2">joins you have inner joints you got</p>
<p begin="09:54:37.480" end="09:54:42.400" style="s2">outer joints you got right joins um and</p>
<p begin="09:54:40.720" end="09:54:43.916" style="s2">I strongly suggest you guys quickly just</p>
<p begin="09:54:42.400" end="09:54:45.840" style="s2">kind of read through this just to get an</p>
<p begin="09:54:43.916" end="09:54:46.916" style="s2">idea um because I don&#39;t want to cover</p>
<p begin="09:54:45.840" end="09:54:48.840" style="s2">every single joint I&#39;m just going to</p>
<p begin="09:54:46.916" end="09:54:51.640" style="s2">show you the ones that we need to get</p>
<p begin="09:54:48.840" end="09:54:54.080" style="s2">the data that we&#39;re interested in</p>
<p begin="09:54:51.640" end="09:54:56.040" style="s2">so let&#39;s go back to postgress and let&#39;s</p>
<p begin="09:54:54.080" end="09:54:57.640" style="s2">create our first join so here I&#39;m do</p>
<p begin="09:54:56.040" end="09:54:59.756" style="s2">select I&#39;m just grabbing all of the</p>
<p begin="09:54:57.640" end="09:55:01.640" style="s2">fields and I&#39;m going to grab it from the</p>
<p begin="09:54:59.756" end="09:55:03.640" style="s2">post table and what we can do is I can</p>
<p begin="09:55:01.640" end="09:55:06.480" style="s2">say left</p>
<p begin="09:55:03.640" end="09:55:08.916" style="s2">join and then we specify the other table</p>
<p begin="09:55:06.480" end="09:55:10.756" style="s2">we want to jam into my query so now I</p>
<p begin="09:55:08.916" end="09:55:12.916" style="s2">want to get data from the users table so</p>
<p begin="09:55:10.756" end="09:55:15.596" style="s2">I do users and then we have to find a</p>
<p begin="09:55:12.916" end="09:55:18.520" style="s2">field uh in both tables that we need to</p>
<p begin="09:55:15.596" end="09:55:20.800" style="s2">match on or join the table on and since</p>
<p begin="09:55:18.520" end="09:55:22.880" style="s2">we want to find the specific user</p>
<p begin="09:55:20.800" end="09:55:24.560" style="s2">associated with the person who created</p>
<p begin="09:55:22.880" end="09:55:27.040" style="s2">this post we need to join on the owner</p>
<p begin="09:55:24.560" end="09:55:29.916" style="s2">ID so what we say</p>
<p begin="09:55:27.040" end="09:55:32.720" style="s2">is on so this is how we specify what it</p>
<p begin="09:55:29.916" end="09:55:34.880" style="s2">should join on and we want to say uh we</p>
<p begin="09:55:32.720" end="09:55:38.276" style="s2">grab the first table&#39;s name right the</p>
<p begin="09:55:34.880" end="09:55:39.840" style="s2">posts table we grab post and then we say</p>
<p begin="09:55:38.276" end="09:55:43.520" style="s2">dot and then we grab the specific column</p>
<p begin="09:55:39.840" end="09:55:46.680" style="s2">we want to join on so owner</p>
<p begin="09:55:43.520" end="09:55:48.800" style="s2">ID and then we just say it equals 2 and</p>
<p begin="09:55:46.680" end="09:55:50.680" style="s2">then we grab the second table which is</p>
<p begin="09:55:48.800" end="09:55:53.116" style="s2">called users and then we Gra gra the</p>
<p begin="09:55:50.680" end="09:55:55.960" style="s2">specific column from the users table you</p>
<p begin="09:55:53.116" end="09:55:59.840" style="s2">want to join on which is users. ID so</p>
<p begin="09:55:55.960" end="09:56:04.080" style="s2">now if I run this take a look at that it</p>
<p begin="09:55:59.840" end="09:56:06.080" style="s2">took all of the user data and it jammed</p>
<p begin="09:56:04.080" end="09:56:09.596" style="s2">it right into one single query with the</p>
<p begin="09:56:06.080" end="09:56:11.880" style="s2">post and so now I get the entire post</p>
<p begin="09:56:09.596" end="09:56:14.360" style="s2">and I also get information about this</p>
<p begin="09:56:11.880" end="09:56:17.560" style="s2">specific user because we joined on owner</p>
<p begin="09:56:14.360" end="09:56:19.200" style="s2">ID and the user ID uh together so it was</p>
<p begin="09:56:17.560" end="09:56:20.480" style="s2">able to kind of take that information</p>
<p begin="09:56:19.200" end="09:56:23.080" style="s2">from the other table and match match it</p>
<p begin="09:56:20.480" end="09:56:25.560" style="s2">right up to here because we did a star</p>
<p begin="09:56:23.080" end="09:56:27.480" style="s2">it&#39;s going to grab the columns from it&#39;s</p>
<p begin="09:56:25.560" end="09:56:29.840" style="s2">going to grab every single column from</p>
<p begin="09:56:27.480" end="09:56:31.276" style="s2">every single from both of the tables and</p>
<p begin="09:56:29.840" end="09:56:33.800" style="s2">there may be times where maybe you don&#39;t</p>
<p begin="09:56:31.276" end="09:56:36.360" style="s2">want that maybe we just want a couple of</p>
<p begin="09:56:33.800" end="09:56:37.520" style="s2">columns so let&#39;s say we want uh the</p>
<p begin="09:56:36.360" end="09:56:41.080" style="s2">title</p>
<p begin="09:56:37.520" end="09:56:43.320" style="s2">column maybe we want content and maybe</p>
<p begin="09:56:41.080" end="09:56:45.916" style="s2">we want</p>
<p begin="09:56:43.320" end="09:56:48.800" style="s2">email right and this should allow us to</p>
<p begin="09:56:45.916" end="09:56:52.520" style="s2">grab the title which comes from the post</p>
<p begin="09:56:48.800" end="09:56:54.800" style="s2">table and the content which comes from</p>
<p begin="09:56:52.520" end="09:56:56.080" style="s2">the uh post table and then email which</p>
<p begin="09:56:54.800" end="09:56:57.916" style="s2">comes from the user table so let&#39;s see</p>
<p begin="09:56:56.080" end="09:56:59.560" style="s2">what happens when I run this right you</p>
<p begin="09:56:57.916" end="09:57:02.080" style="s2">can see I got the title content and</p>
<p begin="09:56:59.560" end="09:57:05.276" style="s2">email now if I remove this and go back</p>
<p begin="09:57:02.080" end="09:57:07.480" style="s2">to everything just real quick let&#39;s say</p>
<p begin="09:57:05.276" end="09:57:10.960" style="s2">I want to get the post</p>
<p begin="09:57:07.480" end="09:57:15.756" style="s2">ID and the email well let&#39;s see what</p>
<p begin="09:57:10.960" end="09:57:15.756" style="s2">happens I&#39;m going to do ID and then</p>
<p begin="09:57:16.320" end="09:57:20.360" style="s2">email well it looks like we have an</p>
<p begin="09:57:18.240" end="09:57:22.680" style="s2">error it says column reference ID is</p>
<p begin="09:57:20.360" end="09:57:24.480" style="s2">ambiguous so what exactly is happening</p>
<p begin="09:57:22.680" end="09:57:26.360" style="s2">here well I&#39;m going to remove this and</p>
<p begin="09:57:24.480" end="09:57:28.916" style="s2">show you exactly what</p>
<p begin="09:57:26.360" end="09:57:32.080" style="s2">happened the problem is is that the post</p>
<p begin="09:57:28.916" end="09:57:34.240" style="s2">table has a column called ID and the</p>
<p begin="09:57:32.080" end="09:57:36.916" style="s2">user table has a column called ID so</p>
<p begin="09:57:34.240" end="09:57:38.160" style="s2">when I just say ID it has no idea which</p>
<p begin="09:57:36.916" end="09:57:40.800" style="s2">column I want so that&#39;s why it&#39;s saying</p>
<p begin="09:57:38.160" end="09:57:42.800" style="s2">it&#39;s ambiguous so what we need to do is</p>
<p begin="09:57:40.800" end="09:57:45.560" style="s2">anytime there&#39;s a potential for</p>
<p begin="09:57:42.800" end="09:57:48.916" style="s2">confusion we always have to specify the</p>
<p begin="09:57:45.560" end="09:57:50.680" style="s2">table name before so I can say posts. ID</p>
<p begin="09:57:48.916" end="09:57:53.640" style="s2">and then I can say email</p>
<p begin="09:57:50.680" end="09:57:57.000" style="s2">now I don&#39;t have to say uh you know</p>
<p begin="09:57:53.640" end="09:57:59.200" style="s2">user. email because only the users table</p>
<p begin="09:57:57.000" end="09:58:00.916" style="s2">has an email column however if there was</p>
<p begin="09:57:59.200" end="09:58:02.800" style="s2">an email column in the post table as</p>
<p begin="09:58:00.916" end="09:58:05.040" style="s2">well then we would have to append the</p>
<p begin="09:58:02.800" end="09:58:06.720" style="s2">table name first so you only need to do</p>
<p begin="09:58:05.040" end="09:58:08.800" style="s2">this when there&#39;s confusion however if</p>
<p begin="09:58:06.720" end="09:58:10.596" style="s2">you want to just kind of stick to a</p>
<p begin="09:58:08.800" end="09:58:13.276" style="s2">certain convention you can just set up</p>
<p begin="09:58:10.596" end="09:58:14.680" style="s2">every single property to have the table</p>
<p begin="09:58:13.276" end="09:58:16.116" style="s2">name beforehand so that you know which</p>
<p begin="09:58:14.680" end="09:58:18.916" style="s2">table it&#39;s coming from makes it a little</p>
<p begin="09:58:16.116" end="09:58:22.040" style="s2">bit easier to read and so now I got just</p>
<p begin="09:58:18.916" end="09:58:22.040" style="s2">the ID and the email</p>
<p begin="09:58:23.596" end="09:58:28.880" style="s2">now let&#39;s say I want to get every field</p>
<p begin="09:58:25.200" end="09:58:32.720" style="s2">from one of the tables I can say posts</p>
<p begin="09:58:28.880" end="09:58:34.360" style="s2">do star that&#39;s going to grab every field</p>
<p begin="09:58:32.720" end="09:58:36.160" style="s2">so it&#39;s grabbing the post table and then</p>
<p begin="09:58:34.360" end="09:58:37.880" style="s2">the star means hey grab every single</p>
<p begin="09:58:36.160" end="09:58:39.360" style="s2">column and so I can do that it&#39;s going</p>
<p begin="09:58:37.880" end="09:58:40.916" style="s2">to grab everything from the post table</p>
<p begin="09:58:39.360" end="09:58:43.480" style="s2">and then I can grab maybe just the email</p>
<p begin="09:58:40.916" end="09:58:45.436" style="s2">in this case and so this kind of</p>
<p begin="09:58:43.480" end="09:58:47.960" style="s2">ultimately does what we had wanted it to</p>
<p begin="09:58:45.436" end="09:58:50.116" style="s2">do um because you know I told you guys</p>
<p begin="09:58:47.960" end="09:58:52.000" style="s2">uh we want to be able to get the email</p>
<p begin="09:58:50.116" end="09:58:54.916" style="s2">or the username information for each and</p>
<p begin="09:58:52.000" end="09:58:56.000" style="s2">every single post and if we want to you</p>
<p begin="09:58:54.916" end="09:58:58.160" style="s2">know we can add in some of the other</p>
<p begin="09:58:56.000" end="09:59:02.116" style="s2">fields maybe</p>
<p begin="09:58:58.160" end="09:59:03.000" style="s2">the maybe the user. ID so the user ID</p>
<p begin="09:59:02.116" end="09:59:04.400" style="s2">however that&#39;s just going to match up</p>
<p begin="09:59:03.000" end="09:59:06.520" style="s2">with the owner ID but just to show you</p>
<p begin="09:59:04.400" end="09:59:08.880" style="s2">guys there is some</p>
<p begin="09:59:06.520" end="09:59:10.400" style="s2">flexibility and as I mentioned before</p>
<p begin="09:59:08.880" end="09:59:11.960" style="s2">there are different types of joins</p>
<p begin="09:59:10.400" end="09:59:14.080" style="s2">there&#39;s left join there&#39;s right join</p>
<p begin="09:59:11.960" end="09:59:16.080" style="s2">inner join outer join I don&#39;t want to</p>
<p begin="09:59:14.080" end="09:59:18.400" style="s2">spend too much on it but I do want to</p>
<p begin="09:59:16.080" end="09:59:20.800" style="s2">cover just a few things all right so the</p>
<p begin="09:59:18.400" end="09:59:22.116" style="s2">direction references which table so</p>
<p begin="09:59:20.800" end="09:59:23.800" style="s2">right now we&#39;re working with two tables</p>
<p begin="09:59:22.116" end="09:59:26.080" style="s2">there&#39;s the first table that&#39;s</p>
<p begin="09:59:23.800" end="09:59:27.720" style="s2">referenced by uh from and then the name</p>
<p begin="09:59:26.080" end="09:59:30.116" style="s2">of the table and then there&#39;s the second</p>
<p begin="09:59:27.720" end="09:59:31.960" style="s2">table which is referenced after the join</p>
<p begin="09:59:30.116" end="09:59:33.200" style="s2">which is right here and so the first</p>
<p begin="09:59:31.960" end="09:59:36.320" style="s2">table that&#39;s referenced is always</p>
<p begin="09:59:33.200" end="09:59:38.360" style="s2">referred to as the left table and the</p>
<p begin="09:59:36.320" end="09:59:39.756" style="s2">ref uh the table on the right the second</p>
<p begin="09:59:38.360" end="09:59:42.560" style="s2">table that&#39;s mentioned is always going</p>
<p begin="09:59:39.756" end="09:59:44.000" style="s2">to be the right table so you got the</p>
<p begin="09:59:42.560" end="09:59:45.720" style="s2">left table and the right table and so</p>
<p begin="09:59:44.000" end="09:59:48.560" style="s2">when we do join what it&#39;s actually doing</p>
<p begin="09:59:45.720" end="09:59:51.240" style="s2">is well I think this page actually gives</p>
<p begin="09:59:48.560" end="09:59:54.720" style="s2">us the best explanation so left</p>
<p begin="09:59:51.240" end="09:59:55.756" style="s2">join select data from the left table and</p>
<p begin="09:59:54.720" end="09:59:57.276" style="s2">I don&#39;t know if this is big enough for</p>
<p begin="09:59:55.756" end="09:59:59.436" style="s2">you guys but I&#39;ll zoom</p>
<p begin="09:59:57.276" end="10:00:00.840" style="s2">in so it&#39;s going to select data from the</p>
<p begin="09:59:59.436" end="10:00:03.240" style="s2">left table it&#39;s going to compare the</p>
<p begin="10:00:00.840" end="10:00:05.400" style="s2">values uh between the two columns that</p>
<p begin="10:00:03.240" end="10:00:07.840" style="s2">we have selected and for us in this case</p>
<p begin="10:00:05.400" end="10:00:09.960" style="s2">it&#39;s going to be uh post. owner ID on</p>
<p begin="10:00:07.840" end="10:00:11.800" style="s2">the left side and then users. ID on the</p>
<p begin="10:00:09.960" end="10:00:13.720" style="s2">right</p>
<p begin="10:00:11.800" end="10:00:15.560" style="s2">side and it&#39;s going to find where those</p>
<p begin="10:00:13.720" end="10:00:17.400" style="s2">values match and if they are equal the</p>
<p begin="10:00:15.560" end="10:00:19.116" style="s2">left join creates a new row that</p>
<p begin="10:00:17.400" end="10:00:21.000" style="s2">contains The Columns of both tables and</p>
<p begin="10:00:19.116" end="10:00:23.640" style="s2">adds this row to the result</p>
<p begin="10:00:21.000" end="10:00:25.840" style="s2">set and what&#39;s important is in case the</p>
<p begin="10:00:23.640" end="10:00:27.320" style="s2">value does not equal the left joint also</p>
<p begin="10:00:25.840" end="10:00:29.040" style="s2">creates a new row that contains the</p>
<p begin="10:00:27.320" end="10:00:32.080" style="s2">column from both tables and adds it to</p>
<p begin="10:00:29.040" end="10:00:34.040" style="s2">the result set however on the right side</p>
<p begin="10:00:32.080" end="10:00:36.560" style="s2">uh the the value is going to be set to</p>
<p begin="10:00:34.040" end="10:00:39.960" style="s2">null so if we ever had a</p>
<p begin="10:00:36.560" end="10:00:43.360" style="s2">post that didn&#39;t have an owner ID then</p>
<p begin="10:00:39.960" end="10:00:45.436" style="s2">what would happen is we would see the uh</p>
<p begin="10:00:43.360" end="10:00:47.200" style="s2">the user information all set to null in</p>
<p begin="10:00:45.436" end="10:00:49.400" style="s2">that case or the email would be set to</p>
<p begin="10:00:47.200" end="10:00:52.400" style="s2">null however since the way we set up our</p>
<p begin="10:00:49.400" end="10:00:54.596" style="s2">table is is that every single uh post</p>
<p begin="10:00:52.400" end="10:00:56.640" style="s2">must have a owner ID we&#39;re never going</p>
<p begin="10:00:54.596" end="10:00:59.080" style="s2">to run into that situation now before we</p>
<p begin="10:00:56.640" end="10:01:00.916" style="s2">move any further just to show you guys</p>
<p begin="10:00:59.080" end="10:01:04.116" style="s2">what a right join is it&#39;s the exact same</p>
<p begin="10:01:00.916" end="10:01:04.116" style="s2">thing but in the opposite</p>
<p begin="10:01:06.520" end="10:01:11.916" style="s2">direction and so let&#39;s take a</p>
<p begin="10:01:09.880" end="10:01:13.480" style="s2">look and things look a little bit</p>
<p begin="10:01:11.916" end="10:01:16.520" style="s2">different now um because what&#39;s</p>
<p begin="10:01:13.480" end="10:01:18.160" style="s2">happening is that we&#39;re going to is that</p>
<p begin="10:01:16.520" end="10:01:20.240" style="s2">we&#39;re going to go through the two tables</p>
<p begin="10:01:18.160" end="10:01:21.916" style="s2">and find if the owner and the owner ID</p>
<p begin="10:01:20.240" end="10:01:23.720" style="s2">and the ID of the user match and we&#39;re</p>
<p begin="10:01:21.916" end="10:01:25.880" style="s2">going to join it on that and we&#39;re going</p>
<p begin="10:01:23.720" end="10:01:29.320" style="s2">to do this for every single</p>
<p begin="10:01:25.880" end="10:01:32.040" style="s2">entry and then at the end you can see</p>
<p begin="10:01:29.320" end="10:01:34.200" style="s2">that user 24 has no information on the</p>
<p begin="10:01:32.040" end="10:01:36.160" style="s2">left side and that&#39;s because user 24</p>
<p begin="10:01:34.200" end="10:01:37.960" style="s2">didn&#39;t create any post so the right join</p>
<p begin="10:01:36.160" end="10:01:40.560" style="s2">will show you instances where something</p>
<p begin="10:01:37.960" end="10:01:43.000" style="s2">exists in the right table but it doesn&#39;t</p>
<p begin="10:01:40.560" end="10:01:44.840" style="s2">exist on the left table the left join</p>
<p begin="10:01:43.000" end="10:01:46.800" style="s2">will show you something that exists in</p>
<p begin="10:01:44.840" end="10:01:48.560" style="s2">the left table but doesn&#39;t necessarily</p>
<p begin="10:01:46.800" end="10:01:51.720" style="s2">exist on the right table but I&#39;m going</p>
<p begin="10:01:48.560" end="10:01:53.720" style="s2">to change this back to left join</p>
<p begin="10:01:51.720" end="10:01:58.240" style="s2">and now what I would like to do is uh it</p>
<p begin="10:01:53.720" end="10:02:01.960" style="s2">would be great if we can uh get the</p>
<p begin="10:01:58.240" end="10:02:04.200" style="s2">number of posts by each user right how</p>
<p begin="10:02:01.960" end="10:02:06.680" style="s2">many posts has each user created so is</p>
<p begin="10:02:04.200" end="10:02:09.160" style="s2">there a way to do that well there is</p>
<p begin="10:02:06.680" end="10:02:12.916" style="s2">actually so what I&#39;m going to do here</p>
<p begin="10:02:09.160" end="10:02:12.916" style="s2">is I&#39;m going to grab</p>
<p begin="10:02:13.916" end="10:02:19.840" style="s2">the users. email actually users. idid</p>
<p begin="10:02:18.116" end="10:02:23.276" style="s2">and maybe want the users. email as well</p>
<p begin="10:02:19.840" end="10:02:25.756" style="s2">as well actually we&#39;ll just get the</p>
<p begin="10:02:23.276" end="10:02:28.560" style="s2">ID and here at the end I&#39;m going to say</p>
<p begin="10:02:25.756" end="10:02:28.560" style="s2">I want to group</p>
<p begin="10:02:28.840" end="10:02:31.840" style="s2">by</p>
<p begin="10:02:33.520" end="10:02:37.480" style="s2">users.</p>
<p begin="10:02:35.360" end="10:02:40.320" style="s2">ID so we&#39;re going to find all of these</p>
<p begin="10:02:37.480" end="10:02:43.400" style="s2">entries in our join uh and then group</p>
<p begin="10:02:40.320" end="10:02:45.680" style="s2">them based off of the user ID field from</p>
<p begin="10:02:43.400" end="10:02:47.560" style="s2">the user column and so once we group</p>
<p begin="10:02:45.680" end="10:02:49.840" style="s2">them we can then actually count up all</p>
<p begin="10:02:47.560" end="10:02:51.840" style="s2">of the columns uh sorry all of the</p>
<p begin="10:02:49.840" end="10:02:54.116" style="s2">entries on a per user basis so if I say</p>
<p begin="10:02:51.840" end="10:02:57.276" style="s2">user ID and then we say we can use a</p>
<p begin="10:02:54.116" end="10:03:00.320" style="s2">built-in postest</p>
<p begin="10:02:57.276" end="10:03:01.520" style="s2">function and here if I put in Star and</p>
<p begin="10:03:00.320" end="10:03:04.116" style="s2">I&#39;ll come back and explain what this</p>
<p begin="10:03:01.520" end="10:03:06.840" style="s2">means we can hit run and we can see that</p>
<p begin="10:03:04.116" end="10:03:10.200" style="s2">the user with an ID of 21 has 11 posts</p>
<p begin="10:03:06.840" end="10:03:13.160" style="s2">and the user with an ID of 23 has two</p>
<p begin="10:03:10.200" end="10:03:15.560" style="s2">posts the only issue is if I actually do</p>
<p begin="10:03:13.160" end="10:03:17.960" style="s2">another query right here and do select</p>
<p begin="10:03:15.560" end="10:03:21.160" style="s2">star from</p>
<p begin="10:03:17.960" end="10:03:22.916" style="s2">users there&#39;s actually three users right</p>
<p begin="10:03:21.160" end="10:03:24.080" style="s2">and one of them hasn&#39;t made any posts</p>
<p begin="10:03:22.916" end="10:03:26.116" style="s2">and so that&#39;s why we don&#39;t see it in</p>
<p begin="10:03:24.080" end="10:03:27.880" style="s2">that list and if we want to be able to</p>
<p begin="10:03:26.116" end="10:03:30.560" style="s2">see it in that list we need to actually</p>
<p begin="10:03:27.880" end="10:03:33.040" style="s2">change our query and like I mentioned</p>
<p begin="10:03:30.560" end="10:03:34.880" style="s2">the right join if I actually remove the</p>
<p begin="10:03:33.040" end="10:03:37.560" style="s2">count column right</p>
<p begin="10:03:34.880" end="10:03:40.480" style="s2">here and we just do a</p>
<p begin="10:03:37.560" end="10:03:42.756" style="s2">star this is going to actually uh list</p>
<p begin="10:03:40.480" end="10:03:44.800" style="s2">every single user even if the user has</p>
<p begin="10:03:42.756" end="10:03:46.400" style="s2">no posts and so if I remove the group by</p>
<p begin="10:03:44.800" end="10:03:49.116" style="s2">ID real</p>
<p begin="10:03:46.400" end="10:03:52.436" style="s2">quick right you could see down here I</p>
<p begin="10:03:49.116" end="10:03:56.080" style="s2">have user 24 with no post that&#39;s exactly</p>
<p begin="10:03:52.436" end="10:03:59.116" style="s2">what we want and so now I can say Group</p>
<p begin="10:03:56.080" end="10:04:01.640" style="s2">by users.</p>
<p begin="10:03:59.116" end="10:04:06.040" style="s2">ID and then here I&#39;m going to say select</p>
<p begin="10:04:01.640" end="10:04:06.040" style="s2">users. ID and then we grab the</p>
<p begin="10:04:06.080" end="10:04:12.116" style="s2">count so let&#39;s see if this</p>
<p begin="10:04:09.596" end="10:04:13.840" style="s2">works uh and notice how all of the post</p>
<p begin="10:04:12.116" end="10:04:15.240" style="s2">fields are completely empty so that&#39;s</p>
<p begin="10:04:13.840" end="10:04:17.520" style="s2">that&#39;s perfectly fine and then we can</p>
<p begin="10:04:15.240" end="10:04:19.840" style="s2">run this and you can see that it it</p>
<p begin="10:04:17.520" end="10:04:22.000" style="s2">seems to have worked all right user us</p>
<p begin="10:04:19.840" end="10:04:24.800" style="s2">21 has 11 posts user 23 has two post and</p>
<p begin="10:04:22.000" end="10:04:27.240" style="s2">then we got user 24 but it says that uh</p>
<p begin="10:04:24.800" end="10:04:30.000" style="s2">there&#39;s a value of one and the reason</p>
<p begin="10:04:27.240" end="10:04:31.756" style="s2">for that is that when you do star right</p>
<p begin="10:04:30.000" end="10:04:33.720" style="s2">here that means it&#39;s going to count null</p>
<p begin="10:04:31.756" end="10:04:36.756" style="s2">entries so since we have that one null</p>
<p begin="10:04:33.720" end="10:04:38.400" style="s2">entry it&#39;s going to count that as one so</p>
<p begin="10:04:36.756" end="10:04:40.596" style="s2">instead what we&#39;re going to do is we can</p>
<p begin="10:04:38.400" end="10:04:43.080" style="s2">actually pass in the name of a column</p>
<p begin="10:04:40.596" end="10:04:45.800" style="s2">and so once again I&#39;m actually going to</p>
<p begin="10:04:43.080" end="10:04:49.560" style="s2">copy this paste it into here we&#39;re going</p>
<p begin="10:04:45.800" end="10:04:49.560" style="s2">to remove the group I</p>
<p begin="10:04:52.240" end="10:04:57.040" style="s2">and then just do a star so we&#39;re going</p>
<p begin="10:04:54.640" end="10:04:59.200" style="s2">to get every entry except because we did</p>
<p begin="10:04:57.040" end="10:05:01.560" style="s2">Count star it always ends up counting</p>
<p begin="10:04:59.200" end="10:05:03.680" style="s2">this as one so that user 24 is always</p>
<p begin="10:05:01.560" end="10:05:04.680" style="s2">going to have one entry but that&#39;s not</p>
<p begin="10:05:03.680" end="10:05:06.916" style="s2">accurate because he doesn&#39;t actually</p>
<p begin="10:05:04.680" end="10:05:09.160" style="s2">have any so instead of doing count star</p>
<p begin="10:05:06.916" end="10:05:11.276" style="s2">we can actually pass in a</p>
<p begin="10:05:09.160" end="10:05:13.116" style="s2">column that we want to count and so in</p>
<p begin="10:05:11.276" end="10:05:14.880" style="s2">this case we can pick any of the posts</p>
<p begin="10:05:13.116" end="10:05:19.960" style="s2">column that we&#39;re trying to retrieve and</p>
<p begin="10:05:14.880" end="10:05:21.520" style="s2">so I can just say post do idid uh and so</p>
<p begin="10:05:19.960" end="10:05:24.360" style="s2">when you pass in a column name it does</p>
<p begin="10:05:21.520" end="10:05:25.916" style="s2">not count columns that have a null value</p>
<p begin="10:05:24.360" end="10:05:29.000" style="s2">so if the user doesn&#39;t have any posts he</p>
<p begin="10:05:25.916" end="10:05:30.680" style="s2">won&#39;t have anything under post. ID and</p>
<p begin="10:05:29.000" end="10:05:33.276" style="s2">then if I just remove this query and</p>
<p begin="10:05:30.680" end="10:05:36.080" style="s2">then run this you can see that now I</p>
<p begin="10:05:33.276" end="10:05:39.436" style="s2">have successfully gotten the exact query</p>
<p begin="10:05:36.080" end="10:05:44.200" style="s2">that I want and I can rename this column</p>
<p begin="10:05:39.436" end="10:05:46.080" style="s2">as uh user undor postore count or</p>
<p begin="10:05:44.200" end="10:05:47.360" style="s2">something it&#39;s a little bit read more</p>
<p begin="10:05:46.080" end="10:05:48.916" style="s2">readable and then you know I can grab</p>
<p begin="10:05:47.360" end="10:05:52.560" style="s2">any other field that I want maybe I also</p>
<p begin="10:05:48.916" end="10:05:52.560" style="s2">want the users.</p>
<p begin="10:05:53.880" end="10:05:58.436" style="s2">email and so that way we get just the</p>
<p begin="10:05:56.720" end="10:06:00.560" style="s2">information that we ultimately want so</p>
<p begin="10:05:58.436" end="10:06:02.436" style="s2">you can see that doing these queries</p>
<p begin="10:06:00.560" end="10:06:05.000" style="s2">they do get a little bit more complex</p>
<p begin="10:06:02.436" end="10:06:06.480" style="s2">and you have to practice this a lot and</p>
<p begin="10:06:05.000" end="10:06:08.640" style="s2">so I definitely recommend you actually</p>
<p begin="10:06:06.480" end="10:06:10.436" style="s2">just read through this document set up a</p>
<p begin="10:06:08.640" end="10:06:12.320" style="s2">few example tables and just practice</p>
<p begin="10:06:10.436" end="10:06:13.640" style="s2">doing your queries um but we&#39;re going to</p>
<p begin="10:06:12.320" end="10:06:15.436" style="s2">spend just a little bit more time on</p>
<p begin="10:06:13.640" end="10:06:17.276" style="s2">these queries so that we can uh figure</p>
<p begin="10:06:15.436" end="10:06:18.720" style="s2">out how to get the total number of votes</p>
<p begin="10:06:17.276" end="10:06:20.116" style="s2">it is a little bit longer of a process</p>
<p begin="10:06:18.720" end="10:06:22.560" style="s2">but I want to make sure that you guys</p>
<p begin="10:06:20.116" end="10:06:24.800" style="s2">understand exactly what we&#39;re doing all</p>
<p begin="10:06:22.560" end="10:06:27.160" style="s2">right guys so let&#39;s move on to working</p>
<p begin="10:06:24.800" end="10:06:29.800" style="s2">with our posts table and our votes table</p>
<p begin="10:06:27.160" end="10:06:32.040" style="s2">so I want to do a join on those two so</p>
<p begin="10:06:29.800" end="10:06:33.480" style="s2">let&#39;s start off by doing select uh and</p>
<p begin="10:06:32.040" end="10:06:35.040" style="s2">then we&#39;ll just do star for now and</p>
<p begin="10:06:33.480" end="10:06:37.520" style="s2">we&#39;ll say select star</p>
<p begin="10:06:35.040" end="10:06:39.116" style="s2">from and then in this case post and keep</p>
<p begin="10:06:37.520" end="10:06:40.436" style="s2">in mind guys I mentioned that the first</p>
<p begin="10:06:39.116" end="10:06:42.360" style="s2">table you reference is the left table</p>
<p begin="10:06:40.436" end="10:06:44.400" style="s2">and the second table uh that you</p>
<p begin="10:06:42.360" end="10:06:45.720" style="s2">reference is the right table uh it</p>
<p begin="10:06:44.400" end="10:06:47.680" style="s2">doesn&#39;t actually matter which one is the</p>
<p begin="10:06:45.720" end="10:06:49.160" style="s2">left or right uh the only thing that</p>
<p begin="10:06:47.680" end="10:06:51.160" style="s2">matters is that you set up the right</p>
<p begin="10:06:49.160" end="10:06:53.640" style="s2">direction of the join so if we set up</p>
<p begin="10:06:51.160" end="10:06:55.520" style="s2">posts as the left table and we want to</p>
<p begin="10:06:53.640" end="10:06:58.720" style="s2">do a left join then if we ever rewrite</p>
<p begin="10:06:55.520" end="10:07:00.680" style="s2">our SQL query and set up our um our</p>
<p begin="10:06:58.720" end="10:07:02.000" style="s2">votes table to be the left table instead</p>
<p begin="10:07:00.680" end="10:07:04.116" style="s2">then we would just have to flip the join</p>
<p begin="10:07:02.000" end="10:07:05.640" style="s2">to be a right join so it doesn&#39;t matter</p>
<p begin="10:07:04.116" end="10:07:07.200" style="s2">which table comes first keep that in</p>
<p begin="10:07:05.640" end="10:07:09.360" style="s2">mind so you don&#39;t have to start your</p>
<p begin="10:07:07.200" end="10:07:11.240" style="s2">query on just the post you could do this</p>
<p begin="10:07:09.360" end="10:07:12.720" style="s2">on votes as well and you just change the</p>
<p begin="10:07:11.240" end="10:07:16.436" style="s2">direction of the</p>
<p begin="10:07:12.720" end="10:07:16.436" style="s2">join but I like to do</p>
<p begin="10:07:17.240" end="10:07:21.040" style="s2">posts and then we&#39;re going to try a left</p>
<p begin="10:07:19.520" end="10:07:24.040" style="s2">join once</p>
<p begin="10:07:21.040" end="10:07:25.160" style="s2">again and we&#39;ll say uh that the other</p>
<p begin="10:07:24.040" end="10:07:27.360" style="s2">table is going to be votes and we&#39;re</p>
<p begin="10:07:25.160" end="10:07:30.640" style="s2">going to join on well uh if we take a</p>
<p begin="10:07:27.360" end="10:07:32.400" style="s2">look at our votes table which I&#39;m</p>
<p begin="10:07:30.640" end="10:07:35.480" style="s2">actually just going to cut this out real</p>
<p begin="10:07:32.400" end="10:07:38.080" style="s2">quick and save that in my scratch</p>
<p begin="10:07:35.480" end="10:07:39.400" style="s2">Pad I&#39;m going to just say select star</p>
<p begin="10:07:38.080" end="10:07:42.160" style="s2">from</p>
<p begin="10:07:39.400" end="10:07:45.080" style="s2">votes we&#39;ll run that right so there&#39;s</p>
<p begin="10:07:42.160" end="10:07:46.960" style="s2">going to be a user ID and a post ID and</p>
<p begin="10:07:45.080" end="10:07:50.276" style="s2">then if I do a select</p>
<p begin="10:07:46.960" end="10:07:52.276" style="s2">star from Posts</p>
<p begin="10:07:50.276" end="10:07:54.916" style="s2">we have all these fields so I think you</p>
<p begin="10:07:52.276" end="10:07:56.596" style="s2">guys can guess uh the exact column that</p>
<p begin="10:07:54.916" end="10:08:01.400" style="s2">we need to join on so we need to join on</p>
<p begin="10:07:56.596" end="10:08:04.520" style="s2">post. ID and then votes</p>
<p begin="10:08:01.400" end="10:08:06.800" style="s2">dot. postore ID so whenever those match</p>
<p begin="10:08:04.520" end="10:08:08.880" style="s2">we need to get a result so I&#39;m going to</p>
<p begin="10:08:06.800" end="10:08:10.680" style="s2">go into my application and just run a</p>
<p begin="10:08:08.880" end="10:08:12.756" style="s2">few uh I&#39;m just going to vote on a few</p>
<p begin="10:08:10.680" end="10:08:14.160" style="s2">posts so that we actually have some data</p>
<p begin="10:08:12.756" end="10:08:17.000" style="s2">so I&#39;m logged in as a user and I&#39;m going</p>
<p begin="10:08:14.160" end="10:08:17.000" style="s2">to vote on Post</p>
<p begin="10:08:17.320" end="10:08:20.560" style="s2">10 all right we successfully added add</p>
<p begin="10:08:19.560" end="10:08:21.520" style="s2">votes I&#39;m going to get a whole bunch of</p>
<p begin="10:08:20.560" end="10:08:26.436" style="s2">other</p>
<p begin="10:08:21.520" end="10:08:26.436" style="s2">posts I&#39;m going to vote on post four and</p>
<p begin="10:08:30.360" end="10:08:36.040" style="s2">nine all right and um I&#39;m going to log</p>
<p begin="10:08:33.160" end="10:08:38.400" style="s2">in as a different user now let&#39;s see who</p>
<p begin="10:08:36.040" end="10:08:38.400" style="s2">else I</p>
<p begin="10:08:41.480" end="10:08:50.436" style="s2">got all right I&#39;ll just log in as San I</p>
<p begin="10:08:46.276" end="10:08:50.436" style="s2">guess my login</p>
<p begin="10:08:57.116" end="10:09:03.756" style="s2">all right we&#39;ve logged</p>
<p begin="10:08:59.800" end="10:09:05.040" style="s2">in and I&#39;m going to vote on Post 10 as</p>
<p begin="10:09:03.756" end="10:09:08.756" style="s2">well on this</p>
<p begin="10:09:05.040" end="10:09:10.916" style="s2">guy and then we&#39;ll grab some random vote</p>
<p begin="10:09:08.756" end="10:09:10.916" style="s2">uh</p>
<p begin="10:09:14.960" end="10:09:19.880" style="s2">15 okay and so we should have a decent</p>
<p begin="10:09:17.240" end="10:09:21.720" style="s2">number of votes now and I purposely made</p>
<p begin="10:09:19.880" end="10:09:23.680" style="s2">it so that one of the users didn&#39;t vote</p>
<p begin="10:09:21.720" end="10:09:26.360" style="s2">just so that we can take a look at what</p>
<p begin="10:09:23.680" end="10:09:28.360" style="s2">complications that add all right so we</p>
<p begin="10:09:26.360" end="10:09:30.116" style="s2">have all of these votes and we&#39;ve got</p>
<p begin="10:09:28.360" end="10:09:33.160" style="s2">the user ID and the post ID so now let&#39;s</p>
<p begin="10:09:30.116" end="10:09:35.756" style="s2">set up a join so I&#39;m going to do select</p>
<p begin="10:09:33.160" end="10:09:37.560" style="s2">star from</p>
<p begin="10:09:35.756" end="10:09:39.520" style="s2">Posts and I&#39;m going to start off with</p>
<p begin="10:09:37.560" end="10:09:41.916" style="s2">the left</p>
<p begin="10:09:39.520" end="10:09:44.240" style="s2">join and we&#39;ll say we want to join with</p>
<p begin="10:09:41.916" end="10:09:46.360" style="s2">the votes table and the field that we&#39;re</p>
<p begin="10:09:44.240" end="10:09:49.840" style="s2">going to join on is on the posts we&#39;re</p>
<p begin="10:09:46.360" end="10:09:51.596" style="s2">going to grab the ID and the and</p>
<p begin="10:09:49.840" end="10:09:54.480" style="s2">wherever this is equal to</p>
<p begin="10:09:51.596" end="10:09:56.840" style="s2">votes. postore ID we want to join the</p>
<p begin="10:09:54.480" end="10:09:59.800" style="s2">table so let&#39;s run</p>
<p begin="10:09:56.840" end="10:10:02.276" style="s2">this and let&#39;s see what results we get</p>
<p begin="10:09:59.800" end="10:10:05.596" style="s2">back all right and so you can see that</p>
<p begin="10:10:02.276" end="10:10:08.436" style="s2">hey look uh they post with an ID of</p>
<p begin="10:10:05.596" end="10:10:11.756" style="s2">10 it looks like it does</p>
<p begin="10:10:08.436" end="10:10:14.160" style="s2">have uh a vote so this is one join right</p>
<p begin="10:10:11.756" end="10:10:16.480" style="s2">here but then you&#39;ll notice that I if I</p>
<p begin="10:10:14.160" end="10:10:17.880" style="s2">go down you&#39;ll see another entry so this</p>
<p begin="10:10:16.480" end="10:10:19.916" style="s2">doesn&#39;t mean in our database that we</p>
<p begin="10:10:17.880" end="10:10:21.916" style="s2">have two posts with an ID 10 is just</p>
<p begin="10:10:19.916" end="10:10:24.200" style="s2">saying that since we joined them we have</p>
<p begin="10:10:21.916" end="10:10:25.640" style="s2">to go down the list see where they match</p>
<p begin="10:10:24.200" end="10:10:28.680" style="s2">and then print out a row so it&#39;s going</p>
<p begin="10:10:25.640" end="10:10:32.200" style="s2">to print out a row for every single time</p>
<p begin="10:10:28.680" end="10:10:34.520" style="s2">the post ID matches the postore ID of</p>
<p begin="10:10:32.200" end="10:10:37.200" style="s2">the votes table and so since we have two</p>
<p begin="10:10:34.520" end="10:10:38.200" style="s2">votes for this same exact post that</p>
<p begin="10:10:37.200" end="10:10:39.436" style="s2">means we&#39;re going to get two different</p>
<p begin="10:10:38.200" end="10:10:40.960" style="s2">entries doesn&#39;t mean there&#39;s actually</p>
<p begin="10:10:39.436" end="10:10:42.840" style="s2">two posts in our table it&#39;s just the way</p>
<p begin="10:10:40.960" end="10:10:44.200" style="s2">that the joins work and I strongly</p>
<p begin="10:10:42.840" end="10:10:46.480" style="s2">recommend like if this is still a little</p>
<p begin="10:10:44.200" end="10:10:47.800" style="s2">confusing keep reading that document and</p>
<p begin="10:10:46.480" end="10:10:49.680" style="s2">play around with it if you want to see</p>
<p begin="10:10:47.800" end="10:10:50.720" style="s2">the opposite</p>
<p begin="10:10:49.680" end="10:10:52.560" style="s2">actually before we take a look let&#39;s</p>
<p begin="10:10:50.720" end="10:10:54.756" style="s2">just take a look at a few other things</p>
<p begin="10:10:52.560" end="10:10:56.560" style="s2">uh you can see we&#39;ve got post with four</p>
<p begin="10:10:54.756" end="10:10:58.560" style="s2">and we can see that there&#39;s uh one vote</p>
<p begin="10:10:56.560" end="10:11:01.720" style="s2">for that because there&#39;s no other uh</p>
<p begin="10:10:58.560" end="10:11:03.640" style="s2">entries here with for an idea four and</p>
<p begin="10:11:01.720" end="10:11:07.320" style="s2">then we can see all of these posts that</p>
<p begin="10:11:03.640" end="10:11:09.400" style="s2">have no votes whatsoever so that&#39;s what</p>
<p begin="10:11:07.320" end="10:11:11.360" style="s2">the left join gives us because uh</p>
<p begin="10:11:09.400" end="10:11:12.720" style="s2">anytime we have a post which is the left</p>
<p begin="10:11:11.360" end="10:11:14.640" style="s2">table since we do a left join it&#39;s going</p>
<p begin="10:11:12.720" end="10:11:16.880" style="s2">to list those posts uh and it&#39;ll just</p>
<p begin="10:11:14.640" end="10:11:18.276" style="s2">put null on the right side whereas if we</p>
<p begin="10:11:16.880" end="10:11:21.240" style="s2">change this to a right join it&#39;s going</p>
<p begin="10:11:18.276" end="10:11:21.240" style="s2">to do the exact opposite</p>
<p begin="10:11:22.200" end="10:11:28.000" style="s2">it on with the right join right once</p>
<p begin="10:11:24.880" end="10:11:30.360" style="s2">again it&#39;s going to look for Anytime the</p>
<p begin="10:11:28.000" end="10:11:32.680" style="s2">uh the ID here matches the post ID and</p>
<p begin="10:11:30.360" end="10:11:34.000" style="s2">it&#39;s going to spit out a row and then</p>
<p begin="10:11:32.680" end="10:11:35.320" style="s2">the same thing goes for the post with an</p>
<p begin="10:11:34.000" end="10:11:37.200" style="s2">ID of four and then once again you can</p>
<p begin="10:11:35.320" end="10:11:39.720" style="s2">see 10 shows up twice because two users</p>
<p begin="10:11:37.200" end="10:11:41.720" style="s2">voted on it and then 15 and so on but</p>
<p begin="10:11:39.720" end="10:11:44.720" style="s2">then you&#39;ll see nothing else and the</p>
<p begin="10:11:41.720" end="10:11:47.436" style="s2">reason for that is we did a right join</p>
<p begin="10:11:44.720" end="10:11:51.320" style="s2">so it&#39;s going to show us all of</p>
<p begin="10:11:47.436" end="10:11:53.916" style="s2">the votes and their corresponding post</p>
<p begin="10:11:51.320" end="10:11:56.320" style="s2">however it&#39;s also going to list out any</p>
<p begin="10:11:53.916" end="10:11:58.240" style="s2">votes because it&#39;s a it&#39;s a right join</p>
<p begin="10:11:56.320" end="10:12:00.640" style="s2">that don&#39;t that aren&#39;t associated with</p>
<p begin="10:11:58.240" end="10:12:02.520" style="s2">the post now all of our votes have to be</p>
<p begin="10:12:00.640" end="10:12:04.560" style="s2">associated with the post cuz we put in</p>
<p begin="10:12:02.520" end="10:12:06.200" style="s2">that constraint that check so that&#39;s why</p>
<p begin="10:12:04.560" end="10:12:07.596" style="s2">we don&#39;t see anything with a null on the</p>
<p begin="10:12:06.200" end="10:12:10.116" style="s2">left side because that&#39;s just the way</p>
<p begin="10:12:07.596" end="10:12:11.436" style="s2">our tables have been set up so hopefully</p>
<p begin="10:12:10.116" end="10:12:14.116" style="s2">that didn&#39;t confuse you guys we&#39;re going</p>
<p begin="10:12:11.436" end="10:12:16.240" style="s2">to change this back to left</p>
<p begin="10:12:14.116" end="10:12:18.116" style="s2">join and what we&#39;re going to do now is</p>
<p begin="10:12:16.240" end="10:12:19.640" style="s2">we&#39;re going to do um I want to be able</p>
<p begin="10:12:18.116" end="10:12:22.040" style="s2">to count the total number of votes for</p>
<p begin="10:12:19.640" end="10:12:23.720" style="s2">each and every post so we&#39;re once again</p>
<p begin="10:12:22.040" end="10:12:26.200" style="s2">going to do the group by so we&#39;re going</p>
<p begin="10:12:23.720" end="10:12:26.200" style="s2">to group</p>
<p begin="10:12:27.436" end="10:12:32.240" style="s2">by</p>
<p begin="10:12:29.200" end="10:12:34.276" style="s2">post. ID so we&#39;ll group them together</p>
<p begin="10:12:32.240" end="10:12:36.640" style="s2">and then count</p>
<p begin="10:12:34.276" end="10:12:39.040" style="s2">them and for columns I&#39;m just going to</p>
<p begin="10:12:36.640" end="10:12:41.880" style="s2">say uh we&#39;ll say post.</p>
<p begin="10:12:39.040" end="10:12:44.080" style="s2">ID and then we want the count so we&#39;ll</p>
<p begin="10:12:41.880" end="10:12:46.240" style="s2">start off with the star and let&#39;s see</p>
<p begin="10:12:44.080" end="10:12:46.240" style="s2">what</p>
<p begin="10:12:47.000" end="10:12:50.800" style="s2">happens okay uh so we can see that that</p>
<p begin="10:12:49.276" end="10:12:52.080" style="s2">you know post with an ID of 10 we know</p>
<p begin="10:12:50.800" end="10:12:54.436" style="s2">it has two</p>
<p begin="10:12:52.080" end="10:12:58.116" style="s2">votes but then everything else has a</p>
<p begin="10:12:54.436" end="10:13:00.240" style="s2">value of one this is not correct we know</p>
<p begin="10:12:58.116" end="10:13:02.520" style="s2">that a whole bunch of posts don&#39;t have a</p>
<p begin="10:13:00.240" end="10:13:04.840" style="s2">value of one but like we covered in the</p>
<p begin="10:13:02.520" end="10:13:07.720" style="s2">previous lesson uh anytime you have a</p>
<p begin="10:13:04.840" end="10:13:10.240" style="s2">value of null then it&#39;s going to count</p>
<p begin="10:13:07.720" end="10:13:11.160" style="s2">that as one so I&#39;m going to run this the</p>
<p begin="10:13:10.240" end="10:13:13.596" style="s2">previous</p>
<p begin="10:13:11.160" end="10:13:16.360" style="s2">query remove the group</p>
<p begin="10:13:13.596" end="10:13:20.640" style="s2">by and I&#39;ll show you guys exactly what I</p>
<p begin="10:13:16.360" end="10:13:23.116" style="s2">mean so now if I run this oops this</p>
<p begin="10:13:20.640" end="10:13:23.116" style="s2">should be a</p>
<p begin="10:13:23.916" end="10:13:27.840" style="s2">star all right look at all of these</p>
<p begin="10:13:25.916" end="10:13:29.640" style="s2">posts that have a value of null it&#39;s</p>
<p begin="10:13:27.840" end="10:13:33.040" style="s2">going to count them all as one in this</p>
<p begin="10:13:29.640" end="10:13:34.560" style="s2">case and we don&#39;t want that right that&#39;s</p>
<p begin="10:13:33.040" end="10:13:37.116" style="s2">why that&#39;s what happens when you do uh</p>
<p begin="10:13:34.560" end="10:13:38.596" style="s2">star in the count field so instead what</p>
<p begin="10:13:37.116" end="10:13:41.040" style="s2">we&#39;re going to do</p>
<p begin="10:13:38.596" end="10:13:42.596" style="s2">is we&#39;re going to provide a specific</p>
<p begin="10:13:41.040" end="10:13:44.596" style="s2">column to count on so it doesn&#39;t count</p>
<p begin="10:13:42.596" end="10:13:46.360" style="s2">the null values so what column should we</p>
<p begin="10:13:44.596" end="10:13:48.720" style="s2">use uh I mean we can really use any</p>
<p begin="10:13:46.360" end="10:13:50.200" style="s2">column I think it makes sense just to do</p>
<p begin="10:13:48.720" end="10:13:51.680" style="s2">uh we have to grab one of the columns</p>
<p begin="10:13:50.200" end="10:13:55.276" style="s2">that are null in this case so we&#39;ll get</p>
<p begin="10:13:51.680" end="10:13:55.276" style="s2">votes. postore</p>
<p begin="10:13:59.436" end="10:14:06.080" style="s2">ID so now look at that we get the post</p>
<p begin="10:14:03.276" end="10:14:08.080" style="s2">ID and then we get how many votes they</p>
<p begin="10:14:06.080" end="10:14:10.080" style="s2">have altogether or how many</p>
<p begin="10:14:08.080" end="10:14:11.400" style="s2">likes and instead of just grabbing the</p>
<p begin="10:14:10.080" end="10:14:14.640" style="s2">ID I&#39;m going to actually grab everything</p>
<p begin="10:14:11.400" end="10:14:17.116" style="s2">from the post table we can run that and</p>
<p begin="10:14:14.640" end="10:14:19.116" style="s2">this is the exact query that we&#39;re</p>
<p begin="10:14:17.116" end="10:14:20.840" style="s2">looking for we get the post information</p>
<p begin="10:14:19.116" end="10:14:23.000" style="s2">and we get the number of votes and we</p>
<p begin="10:14:20.840" end="10:14:24.560" style="s2">can rename this cuz I don&#39;t like calling</p>
<p begin="10:14:23.000" end="10:14:27.520" style="s2">a account we can rename it as you know</p>
<p begin="10:14:24.560" end="10:14:31.240" style="s2">votes or likes it doesn&#39;t really</p>
<p begin="10:14:27.520" end="10:14:35.560" style="s2">matter and there you go guys and if you</p>
<p begin="10:14:31.240" end="10:14:37.916" style="s2">guys want to um query for an individual</p>
<p begin="10:14:35.560" end="10:14:39.320" style="s2">post and get the total number of votes</p>
<p begin="10:14:37.916" end="10:14:40.596" style="s2">it&#39;s actually very simple it&#39;s the same</p>
<p begin="10:14:39.320" end="10:14:42.840" style="s2">exact query we&#39;re just going to provide</p>
<p begin="10:14:40.596" end="10:14:43.916" style="s2">a wear condition and so here I can just</p>
<p begin="10:14:42.840" end="10:14:49.200" style="s2">say</p>
<p begin="10:14:43.916" end="10:14:50.560" style="s2">where post. ID equals 1</p>
<p begin="10:14:49.200" end="10:14:53.400" style="s2">well actually I don&#39;t have a post ID of</p>
<p begin="10:14:50.560" end="10:14:57.640" style="s2">one so I&#39;ll grab a post ID of</p>
<p begin="10:14:53.400" end="10:14:59.840" style="s2">10 and so now I get my one post and we</p>
<p begin="10:14:57.640" end="10:15:01.480" style="s2">can see that he should have two votes</p>
<p begin="10:14:59.840" end="10:15:05.040" style="s2">all right and so that&#39;s how we do this</p>
<p begin="10:15:01.480" end="10:15:05.040" style="s2">with uh raw</p>
<p begin="10:15:05.480" end="10:15:09.960" style="s2">SQL Hopefully this wasn&#39;t too</p>
<p begin="10:15:07.680" end="10:15:11.960" style="s2">complicated uh like I said I strongly</p>
<p begin="10:15:09.960" end="10:15:13.680" style="s2">recommend you spend a little bit of time</p>
<p begin="10:15:11.960" end="10:15:15.276" style="s2">uh going over joins and practicing it</p>
<p begin="10:15:13.680" end="10:15:17.400" style="s2">with your own tables don&#39;t just use</p>
<p begin="10:15:15.276" end="10:15:19.080" style="s2">posts and votes uh if you can probably</p>
<p begin="10:15:17.400" end="10:15:20.560" style="s2">come up with simpler tables to work on</p>
<p begin="10:15:19.080" end="10:15:22.000" style="s2">this and and understand it a little bit</p>
<p begin="10:15:20.560" end="10:15:23.960" style="s2">better but I think that&#39;s going to wrap</p>
<p begin="10:15:22.000" end="10:15:25.756" style="s2">up this video and so go ahead and just</p>
<p begin="10:15:23.960" end="10:15:28.480" style="s2">save these queries for now uh so that we</p>
<p begin="10:15:25.756" end="10:15:30.000" style="s2">can reference them later in the last</p>
<p begin="10:15:28.480" end="10:15:32.160" style="s2">video we saw how we can gather</p>
<p begin="10:15:30.000" end="10:15:34.520" style="s2">information from two different Tables by</p>
<p begin="10:15:32.160" end="10:15:36.240" style="s2">making use of joins and so we saw how to</p>
<p begin="10:15:34.520" end="10:15:38.596" style="s2">do that with raw SQL and now we&#39;re going</p>
<p begin="10:15:36.240" end="10:15:39.800" style="s2">to see how we can perform joins using</p>
<p begin="10:15:38.596" end="10:15:42.240" style="s2">SQL</p>
<p begin="10:15:39.800" end="10:15:44.200" style="s2">Alchemy and if you go to your post</p>
<p begin="10:15:42.240" end="10:15:47.240" style="s2">router we&#39;re going to go to the get</p>
<p begin="10:15:44.200" end="10:15:49.080" style="s2">posts path operation uh and so we&#39;re</p>
<p begin="10:15:47.240" end="10:15:50.840" style="s2">going to kind of just take this this</p>
<p begin="10:15:49.080" end="10:15:52.880" style="s2">step by step and see how we can slowly</p>
<p begin="10:15:50.840" end="10:15:54.756" style="s2">build out this query uh so that we can</p>
<p begin="10:15:52.880" end="10:15:57.160" style="s2">actually perform a join and if you take</p>
<p begin="10:15:54.756" end="10:15:58.960" style="s2">a look at the current query uh what we</p>
<p begin="10:15:57.160" end="10:15:59.840" style="s2">can do is just ignore all of the filter</p>
<p begin="10:15:58.960" end="10:16:02.520" style="s2">stuff</p>
<p begin="10:15:59.840" end="10:16:04.360" style="s2">first and so really the the meat of this</p>
<p begin="10:16:02.520" end="10:16:06.160" style="s2">query is just db. query and then you</p>
<p begin="10:16:04.360" end="10:16:07.560" style="s2">pass the model and that&#39;s going to get</p>
<p begin="10:16:06.160" end="10:16:09.160" style="s2">every single post that we have in this</p>
<p begin="10:16:07.560" end="10:16:11.200" style="s2">table and then we perform all of these</p>
<p begin="10:16:09.160" end="10:16:12.320" style="s2">filters to kind of drill down so we&#39;re</p>
<p begin="10:16:11.200" end="10:16:15.360" style="s2">going to start off with the same thing</p>
<p begin="10:16:12.320" end="10:16:19.200" style="s2">and I&#39;m going to save this new query as</p>
<p begin="10:16:15.360" end="10:16:21.080" style="s2">results or or we could just say postore</p>
<p begin="10:16:19.200" end="10:16:22.756" style="s2">votes maybe and we&#39;ll just save it as</p>
<p begin="10:16:21.080" end="10:16:24.000" style="s2">results and so we&#39;re going to start off</p>
<p begin="10:16:22.756" end="10:16:28.680" style="s2">with the same exact query we&#39;re going do</p>
<p begin="10:16:24.000" end="10:16:28.680" style="s2">db. query models</p>
<p begin="10:16:29.840" end="10:16:35.276" style="s2">dopost and we&#39;re going to perform do</p>
<p begin="10:16:32.480" end="10:16:37.116" style="s2">all actually remove the dot</p>
<p begin="10:16:35.276" end="10:16:38.560" style="s2">all and the reason I don&#39;t want to do</p>
<p begin="10:16:37.116" end="10:16:39.960" style="s2">the dot all is I don&#39;t actually want to</p>
<p begin="10:16:38.560" end="10:16:42.240" style="s2">query the table I just want to actually</p>
<p begin="10:16:39.960" end="10:16:45.400" style="s2">see the raw SQL that&#39;s it&#39;s generating</p>
<p begin="10:16:42.240" end="10:16:45.400" style="s2">and now we can do a print</p>
<p begin="10:16:46.596" end="10:16:50.160" style="s2">results I&#39;m going to bring this up a bit</p>
<p begin="10:16:48.960" end="10:16:52.320" style="s2">and we&#39;re going to just send a query to</p>
<p begin="10:16:50.160" end="10:16:54.720" style="s2">the get all</p>
<p begin="10:16:52.320" end="10:16:56.520" style="s2">posts and you can see the raw SQL that</p>
<p begin="10:16:54.720" end="10:16:57.916" style="s2">it generated so it&#39;s going to select and</p>
<p begin="10:16:56.520" end="10:17:00.480" style="s2">basically select every column and then</p>
<p begin="10:16:57.916" end="10:17:01.800" style="s2">rename it uh accordingly and then it&#39;s</p>
<p begin="10:17:00.480" end="10:17:03.596" style="s2">just going to get that from the post</p>
<p begin="10:17:01.800" end="10:17:05.200" style="s2">table so it&#39;s getting every single post</p>
<p begin="10:17:03.596" end="10:17:06.560" style="s2">that&#39;s all so everything is pretty</p>
<p begin="10:17:05.200" end="10:17:10.560" style="s2">straightforward at this</p>
<p begin="10:17:06.560" end="10:17:13.640" style="s2">point and if we go back to our um PG</p>
<p begin="10:17:10.560" end="10:17:16.116" style="s2">admin let&#39;s actually take a</p>
<p begin="10:17:13.640" end="10:17:18.840" style="s2">look uh let&#39;s take a look at what our</p>
<p begin="10:17:16.116" end="10:17:20.320" style="s2">SQL query actually looks like and so you</p>
<p begin="10:17:18.840" end="10:17:21.800" style="s2">you can see here there&#39;s a whole bunch</p>
<p begin="10:17:20.320" end="10:17:23.116" style="s2">of things going on but the next thing I</p>
<p begin="10:17:21.800" end="10:17:25.360" style="s2">want to do is I want to actually start</p>
<p begin="10:17:23.116" end="10:17:27.240" style="s2">to perform the join so I want to join on</p>
<p begin="10:17:25.360" end="10:17:29.436" style="s2">the votes table so let&#39;s take a look at</p>
<p begin="10:17:27.240" end="10:17:32.916" style="s2">how we can do that and to perform a join</p>
<p begin="10:17:29.436" end="10:17:35.000" style="s2">with SQL Alchemy I can just say</p>
<p begin="10:17:32.916" end="10:17:36.160" style="s2">join and then we have to specify the</p>
<p begin="10:17:35.000" end="10:17:38.520" style="s2">table we want to join so this is going</p>
<p begin="10:17:36.160" end="10:17:40.640" style="s2">to be the models.</p>
<p begin="10:17:38.520" end="10:17:42.800" style="s2">vote and then the second thing is what</p>
<p begin="10:17:40.640" end="10:17:44.640" style="s2">is going to be our the uh what is going</p>
<p begin="10:17:42.800" end="10:17:46.880" style="s2">to be the column that we perform a join</p>
<p begin="10:17:44.640" end="10:17:49.240" style="s2">on so in this case you could see that</p>
<p begin="10:17:46.880" end="10:17:52.240" style="s2">we&#39;re performing a join on post. ID and</p>
<p begin="10:17:49.240" end="10:17:54.400" style="s2">votes. postore</p>
<p begin="10:17:52.240" end="10:17:56.116" style="s2">ID and we&#39;re going to do the same thing</p>
<p begin="10:17:54.400" end="10:18:00.360" style="s2">here I&#39;m going to say</p>
<p begin="10:17:56.116" end="10:18:02.320" style="s2">models. vote. postore ID equals equals</p>
<p begin="10:18:00.360" end="10:18:04.640" style="s2">and then we&#39;ll say models.</p>
<p begin="10:18:02.320" end="10:18:06.116" style="s2">post. ID whenever they&#39;re equal we&#39;re</p>
<p begin="10:18:04.640" end="10:18:09.080" style="s2">going to join the table now the thing</p>
<p begin="10:18:06.116" end="10:18:12.720" style="s2">about this join is by default with SQL</p>
<p begin="10:18:09.080" end="10:18:15.080" style="s2">Alchemy this is going to be a left inner</p>
<p begin="10:18:12.720" end="10:18:16.680" style="s2">join and the word inner is going to be a</p>
<p begin="10:18:15.080" end="10:18:17.916" style="s2">little bit new for you um and that&#39;s</p>
<p begin="10:18:16.680" end="10:18:20.640" style="s2">because there&#39;s two different types of</p>
<p begin="10:18:17.916" end="10:18:22.520" style="s2">left joins you&#39;ve got left inner and you</p>
<p begin="10:18:20.640" end="10:18:24.000" style="s2">have left outer and I don&#39;t want to</p>
<p begin="10:18:22.520" end="10:18:25.596" style="s2">spend too much time kind of diving into</p>
<p begin="10:18:24.000" end="10:18:28.240" style="s2">what&#39;s the difference just know that if</p>
<p begin="10:18:25.596" end="10:18:30.360" style="s2">you ignore the keyword it&#39;s going to by</p>
<p begin="10:18:28.240" end="10:18:33.200" style="s2">default be an outer so what we want is</p>
<p begin="10:18:30.360" end="10:18:35.720" style="s2">an outer join um however SQL Alchemy by</p>
<p begin="10:18:33.200" end="10:18:38.400" style="s2">default uses</p>
<p begin="10:18:35.720" end="10:18:40.276" style="s2">um inner joins so to actually set this</p>
<p begin="10:18:38.400" end="10:18:43.680" style="s2">as an outer join we have to pass one</p>
<p begin="10:18:40.276" end="10:18:45.480" style="s2">more thing which is going to be is outer</p>
<p begin="10:18:43.680" end="10:18:49.436" style="s2">equals true so this is going to make</p>
<p begin="10:18:45.480" end="10:18:52.040" style="s2">this a uh outer left outer join so we&#39;ve</p>
<p begin="10:18:49.436" end="10:18:54.040" style="s2">got our join at this point and what I&#39;m</p>
<p begin="10:18:52.040" end="10:18:56.480" style="s2">going to do now is save this again and</p>
<p begin="10:18:54.040" end="10:18:58.400" style="s2">let&#39;s take a look at our query so we&#39;ll</p>
<p begin="10:18:56.480" end="10:19:00.000" style="s2">send something and now we&#39;ll take a look</p>
<p begin="10:18:58.400" end="10:19:02.040" style="s2">at our query we can see that okay we&#39;re</p>
<p begin="10:19:00.000" end="10:19:04.080" style="s2">going to select everything from our post</p>
<p begin="10:19:02.040" end="10:19:08.160" style="s2">table then we&#39;re going to perform a left</p>
<p begin="10:19:04.080" end="10:19:10.800" style="s2">outer join with votes uh on the table</p>
<p begin="10:19:08.160" end="10:19:14.080" style="s2">votes whenever votes. poost ID equals</p>
<p begin="10:19:10.800" end="10:19:15.720" style="s2">post. ID so we&#39;re almost there uh the</p>
<p begin="10:19:14.080" end="10:19:19.200" style="s2">next thing that we have to do is we have</p>
<p begin="10:19:15.720" end="10:19:21.360" style="s2">to group by post. ID</p>
<p begin="10:19:19.200" end="10:19:23.800" style="s2">and then we have to perform the count on</p>
<p begin="10:19:21.360" end="10:19:26.080" style="s2">votes. postore</p>
<p begin="10:19:23.800" end="10:19:29.916" style="s2">ID and so if you can take a guess as how</p>
<p begin="10:19:26.080" end="10:19:31.840" style="s2">to do group by we can just dot Group by</p>
<p begin="10:19:29.916" end="10:19:35.756" style="s2">and then we specify the specific column</p>
<p begin="10:19:31.840" end="10:19:39.720" style="s2">so we&#39;ll do models. poost do</p>
<p begin="10:19:35.756" end="10:19:42.436" style="s2">ID and then we have to get the count so</p>
<p begin="10:19:39.720" end="10:19:45.480" style="s2">we&#39;ll go here and I&#39;m going to say well</p>
<p begin="10:19:42.436" end="10:19:47.640" style="s2">first all we have to import a function</p>
<p begin="10:19:45.480" end="10:19:50.276" style="s2">so what you&#39;re going to do is from SQL</p>
<p begin="10:19:47.640" end="10:19:53.916" style="s2">Alchemy import Funk and so this is going</p>
<p begin="10:19:50.276" end="10:19:58.436" style="s2">to give us access to functions like</p>
<p begin="10:19:53.916" end="10:19:58.436" style="s2">count I&#39;m going to say funk.</p>
<p begin="10:19:59.880" end="10:20:07.560" style="s2">count and then we&#39;ll say models. vote.</p>
<p begin="10:20:05.116" end="10:20:11.360" style="s2">postore</p>
<p begin="10:20:07.560" end="10:20:13.080" style="s2">ID we&#39;ll save this and I&#39;m going to send</p>
<p begin="10:20:11.360" end="10:20:16.160" style="s2">this and let&#39;s take a look at the query</p>
<p begin="10:20:13.080" end="10:20:18.000" style="s2">once again and so we&#39;ve got select posts</p>
<p begin="10:20:16.160" end="10:20:21.040" style="s2">all of the post columns good good good</p>
<p begin="10:20:18.000" end="10:20:22.320" style="s2">good uh and then we get to count right</p>
<p begin="10:20:21.040" end="10:20:24.320" style="s2">and it&#39;s going to perform the count</p>
<p begin="10:20:22.320" end="10:20:26.840" style="s2">that&#39;s all right however we&#39;re naming it</p>
<p begin="10:20:24.320" end="10:20:28.840" style="s2">as count one I don&#39;t like that I want to</p>
<p begin="10:20:26.840" end="10:20:31.116" style="s2">name this something that I will</p>
<p begin="10:20:28.840" end="10:20:32.596" style="s2">understand so maybe something like votes</p>
<p begin="10:20:31.116" end="10:20:34.160" style="s2">so we have to figure out a way to rename</p>
<p begin="10:20:32.596" end="10:20:37.916" style="s2">this column and if you want to rename</p>
<p begin="10:20:34.160" end="10:20:39.276" style="s2">this column you just say dot label and</p>
<p begin="10:20:37.916" end="10:20:42.360" style="s2">then the name that you want to give that</p>
<p begin="10:20:39.276" end="10:20:42.360" style="s2">column so we&#39;re going to call this a</p>
<p begin="10:20:42.596" end="10:20:47.916" style="s2">votes and so let&#39;s test this out one</p>
<p begin="10:20:45.080" end="10:20:49.240" style="s2">last time and now we can see that the</p>
<p begin="10:20:47.916" end="10:20:52.080" style="s2">column is called</p>
<p begin="10:20:49.240" end="10:20:53.436" style="s2">votes so this is exactly what we want</p>
<p begin="10:20:52.080" end="10:20:55.720" style="s2">this is the exact query that we</p>
<p begin="10:20:53.436" end="10:20:57.680" style="s2">generated in PG admin manually we&#39;re</p>
<p begin="10:20:55.720" end="10:21:00.320" style="s2">just doing it through SQL</p>
<p begin="10:20:57.680" end="10:21:02.596" style="s2">Alchemy and what we&#39;re going to do is</p>
<p begin="10:21:00.320" end="10:21:04.080" style="s2">well let&#39;s actually perform the query</p>
<p begin="10:21:02.596" end="10:21:06.320" style="s2">we&#39;ll do</p>
<p begin="10:21:04.080" end="10:21:08.040" style="s2">all I don&#39;t need the print anymore and</p>
<p begin="10:21:06.320" end="10:21:10.680" style="s2">we&#39;re going to actually return results</p>
<p begin="10:21:08.040" end="10:21:10.680" style="s2">and let&#39;s see what</p>
<p begin="10:21:12.436" end="10:21:18.240" style="s2">happens so now if I send a</p>
<p begin="10:21:15.720" end="10:21:19.756" style="s2">query it&#39;s giving me a whole bunch of</p>
<p begin="10:21:18.240" end="10:21:22.080" style="s2">errors and if we scroll to the top of</p>
<p begin="10:21:19.756" end="10:21:25.000" style="s2">the errors uh we can see that these are</p>
<p begin="10:21:22.080" end="10:21:26.916" style="s2">all pantic validations uh and so it&#39;s</p>
<p begin="10:21:25.000" end="10:21:28.560" style="s2">saying that hey there&#39;s no title there&#39;s</p>
<p begin="10:21:26.916" end="10:21:30.560" style="s2">no content there&#39;s no ID there&#39;s no</p>
<p begin="10:21:28.560" end="10:21:32.276" style="s2">owner ID there&#39;s no owner all of these</p>
<p begin="10:21:30.560" end="10:21:35.116" style="s2">fields seem to be</p>
<p begin="10:21:32.276" end="10:21:36.840" style="s2">missing and why exactly is that well</p>
<p begin="10:21:35.116" end="10:21:38.560" style="s2">let&#39;s take a look at the response model</p>
<p begin="10:21:36.840" end="10:21:40.680" style="s2">so the validation is happening because</p>
<p begin="10:21:38.560" end="10:21:42.960" style="s2">we use this response model of schema.</p>
<p begin="10:21:40.680" end="10:21:46.640" style="s2">poost and so if we go to</p>
<p begin="10:21:42.960" end="10:21:47.916" style="s2">schemas and we find our post object or</p>
<p begin="10:21:46.640" end="10:21:51.240" style="s2">post class you can see that expects an</p>
<p begin="10:21:47.916" end="10:21:53.400" style="s2">ID a create ated at an owner ID an owner</p>
<p begin="10:21:51.240" end="10:21:54.960" style="s2">uh and all of that good stuff and it&#39;s</p>
<p begin="10:21:53.400" end="10:21:56.520" style="s2">saying that none of these have been set</p>
<p begin="10:21:54.960" end="10:21:58.840" style="s2">so it looks like there&#39;s something wrong</p>
<p begin="10:21:56.520" end="10:22:00.840" style="s2">with our query but just to make this a</p>
<p begin="10:21:58.840" end="10:22:03.320" style="s2">little bit simpler what I&#39;m going to do</p>
<p begin="10:22:00.840" end="10:22:05.436" style="s2">is I&#39;m actually going to</p>
<p begin="10:22:03.320" end="10:22:07.436" style="s2">remove the response model so I&#39;m going</p>
<p begin="10:22:05.436" end="10:22:08.560" style="s2">to just comment out that remove the</p>
<p begin="10:22:07.436" end="10:22:10.916" style="s2">response model so we&#39;re not actually</p>
<p begin="10:22:08.560" end="10:22:12.640" style="s2">performing any</p>
<p begin="10:22:10.916" end="10:22:14.880" style="s2">validation and we&#39;re going to see what</p>
<p begin="10:22:12.640" end="10:22:17.040" style="s2">this looks like now so when we retrieve</p>
<p begin="10:22:14.880" end="10:22:19.640" style="s2">the data I want you to take a look at</p>
<p begin="10:22:17.040" end="10:22:22.720" style="s2">what this looks like so this right here</p>
<p begin="10:22:19.640" end="10:22:24.880" style="s2">is one specific post and so after our</p>
<p begin="10:22:22.720" end="10:22:26.800" style="s2">changes we can see that we&#39;ve got a</p>
<p begin="10:22:24.880" end="10:22:28.400" style="s2">property called post and then within</p>
<p begin="10:22:26.800" end="10:22:30.916" style="s2">there we have ID published and so on and</p>
<p begin="10:22:28.400" end="10:22:32.960" style="s2">then we&#39;ve got a property of votes and</p>
<p begin="10:22:30.916" end="10:22:34.756" style="s2">I&#39;m actually going to copy this as an</p>
<p begin="10:22:32.960" end="10:22:36.560" style="s2">example and I&#39;m just going to create a</p>
<p begin="10:22:34.756" end="10:22:38.880" style="s2">new</p>
<p begin="10:22:36.560" end="10:22:41.080" style="s2">file and I&#39;m just going to say we&#39;ll</p>
<p begin="10:22:38.880" end="10:22:42.240" style="s2">just call this example py that&#39;s fine it</p>
<p begin="10:22:41.080" end="10:22:45.276" style="s2">doesn&#39;t really matter we&#39;ll delete this</p>
<p begin="10:22:42.240" end="10:22:48.116" style="s2">in a bit so this is what it looks like</p>
<p begin="10:22:45.276" end="10:22:48.960" style="s2">and when we go back to our path</p>
<p begin="10:22:48.116" end="10:22:51.800" style="s2">operation</p>
<p begin="10:22:48.960" end="10:22:51.800" style="s2">I&#39;m going to return</p>
<p begin="10:22:53.400" end="10:22:57.880" style="s2">posts and we can actually return the</p>
<p begin="10:22:55.640" end="10:23:00.040" style="s2">response model just to see what that</p>
<p begin="10:22:57.880" end="10:23:03.960" style="s2">looks</p>
<p begin="10:23:00.040" end="10:23:03.960" style="s2">like and so now if I do a</p>
<p begin="10:23:04.276" end="10:23:09.480" style="s2">query I need to</p>
<p begin="10:23:07.596" end="10:23:11.720" style="s2">save right if you take a look at the</p>
<p begin="10:23:09.480" end="10:23:13.800" style="s2">query this is what it looks like in a</p>
<p begin="10:23:11.720" end="10:23:17.520" style="s2">working State before we set up the</p>
<p begin="10:23:13.800" end="10:23:21.040" style="s2">joins and if I go down to my example</p>
<p begin="10:23:17.520" end="10:23:24.480" style="s2">where&#39;s my example py</p>
<p begin="10:23:21.040" end="10:23:27.240" style="s2">file so this is what pantic</p>
<p begin="10:23:24.480" end="10:23:29.360" style="s2">expects expects to get an object with a</p>
<p begin="10:23:27.240" end="10:23:32.080" style="s2">field of title content published ID and</p>
<p begin="10:23:29.360" end="10:23:34.640" style="s2">so on however after I join something odd</p>
<p begin="10:23:32.080" end="10:23:35.960" style="s2">happens we have a field called post and</p>
<p begin="10:23:34.640" end="10:23:37.640" style="s2">that breaks everything because it</p>
<p begin="10:23:35.960" end="10:23:39.640" style="s2">doesn&#39;t expect the ID and the published</p>
<p begin="10:23:37.640" end="10:23:41.720" style="s2">and the owner to be under this uh this</p>
<p begin="10:23:39.640" end="10:23:42.756" style="s2">essentially this dictionary right here</p>
<p begin="10:23:41.720" end="10:23:45.200" style="s2">and that&#39;s why it&#39;s throwing all of</p>
<p begin="10:23:42.756" end="10:23:47.080" style="s2">these errors so how exactly do we fix</p>
<p begin="10:23:45.200" end="10:23:49.720" style="s2">this well what we&#39;re going to do is I&#39;m</p>
<p begin="10:23:47.080" end="10:23:51.080" style="s2">actually going to go to my schemas</p>
<p begin="10:23:49.720" end="10:23:53.320" style="s2">and I&#39;m actually going to create a new</p>
<p begin="10:23:51.080" end="10:23:54.560" style="s2">schema so we&#39;ll call this um You can</p>
<p begin="10:23:53.320" end="10:23:57.240" style="s2">call this whatever you</p>
<p begin="10:23:54.560" end="10:23:59.000" style="s2">want maybe post Vote or I&#39;m just going</p>
<p begin="10:23:57.240" end="10:24:02.116" style="s2">to call this post</p>
<p begin="10:23:59.000" end="10:24:04.040" style="s2">out and this is going to be a post base</p>
<p begin="10:24:02.116" end="10:24:05.040" style="s2">it&#39;s going to expend post base and what</p>
<p begin="10:24:04.040" end="10:24:07.680" style="s2">we&#39;re going to do is we&#39;re just going to</p>
<p begin="10:24:05.040" end="10:24:09.520" style="s2">try to match this as close as possible</p>
<p begin="10:24:07.680" end="10:24:10.400" style="s2">so this is going to represent a post</p>
<p begin="10:24:09.520" end="10:24:11.640" style="s2">object and then we&#39;re going to have a</p>
<p begin="10:24:10.400" end="10:24:12.320" style="s2">field called votes which is going to be</p>
<p begin="10:24:11.640" end="10:24:15.276" style="s2">an</p>
<p begin="10:24:12.320" end="10:24:16.596" style="s2">integer so here I can just say uh we</p>
<p begin="10:24:15.276" end="10:24:18.800" style="s2">have something called post and don&#39;t</p>
<p begin="10:24:16.596" end="10:24:21.080" style="s2">forget to capitalize it because our quer</p>
<p begin="10:24:18.800" end="10:24:22.596" style="s2">for some reason returns it with the</p>
<p begin="10:24:21.080" end="10:24:26.116" style="s2">capital P took me a little while to</p>
<p begin="10:24:22.596" end="10:24:26.116" style="s2">figure that out I was running into a few</p>
<p begin="10:24:26.436" end="10:24:31.160" style="s2">issues but we can go here and we can say</p>
<p begin="10:24:28.840" end="10:24:33.800" style="s2">I want to return uh I want this to be of</p>
<p begin="10:24:31.160" end="10:24:36.560" style="s2">type and then we&#39;ll reference this</p>
<p begin="10:24:33.800" end="10:24:39.800" style="s2">post right so all of these fields will</p>
<p begin="10:24:36.560" end="10:24:41.320" style="s2">be under a field name post and then we</p>
<p begin="10:24:39.800" end="10:24:44.596" style="s2">expect something called votes which is</p>
<p begin="10:24:41.320" end="10:24:44.596" style="s2">going to be set to an</p>
<p begin="10:24:45.080" end="10:24:50.116" style="s2">integer so let&#39;s try this out and we&#39;ll</p>
<p begin="10:24:47.596" end="10:24:51.640" style="s2">go back to our post post. py and I&#39;m</p>
<p begin="10:24:50.116" end="10:24:53.916" style="s2">going to call I&#39;m going to reference</p>
<p begin="10:24:51.640" end="10:24:53.916" style="s2">post</p>
<p begin="10:24:56.800" end="10:25:01.040" style="s2">out and we&#39;re going to return results</p>
<p begin="10:25:02.320" end="10:25:06.040" style="s2">again and let&#39;s just make sure there&#39;s</p>
<p begin="10:25:04.160" end="10:25:08.880" style="s2">no errors it looks like it&#39;s good and</p>
<p begin="10:25:06.040" end="10:25:10.720" style="s2">let&#39;s see what happens now all right we</p>
<p begin="10:25:08.880" end="10:25:13.560" style="s2">got a little bit of an</p>
<p begin="10:25:10.720" end="10:25:15.960" style="s2">issue and it looks like there&#39;s a title</p>
<p begin="10:25:13.560" end="10:25:18.116" style="s2">content title content a whole bunch of</p>
<p begin="10:25:15.960" end="10:25:21.480" style="s2">errors and so the title and the content</p>
<p begin="10:25:18.116" end="10:25:23.520" style="s2">are missing for both so what did we do</p>
<p begin="10:25:21.480" end="10:25:26.000" style="s2">wrong here this should have fixed our</p>
<p begin="10:25:23.520" end="10:25:27.400" style="s2">issue well let&#39;s try adding this uh</p>
<p begin="10:25:26.000" end="10:25:29.840" style="s2">class config</p>
<p begin="10:25:27.400" end="10:25:32.720" style="s2">orm uh I think that might actually be</p>
<p begin="10:25:29.840" end="10:25:35.240" style="s2">what&#39;s causing this problem and now</p>
<p begin="10:25:32.720" end="10:25:35.240" style="s2">let&#39;s try</p>
<p begin="10:25:35.436" end="10:25:39.160" style="s2">this that didn&#39;t look like it fixed it</p>
<p begin="10:25:38.080" end="10:25:40.756" style="s2">all right guys so I was playing around</p>
<p begin="10:25:39.160" end="10:25:43.320" style="s2">with it and then I don&#39;t know what</p>
<p begin="10:25:40.756" end="10:25:46.040" style="s2">exactly fixed it but all I did was uh I</p>
<p begin="10:25:43.320" end="10:25:49.116" style="s2">had changed this to a lowercase</p>
<p begin="10:25:46.040" end="10:25:51.560" style="s2">p and this led to you know us seeing</p>
<p begin="10:25:49.116" end="10:25:53.040" style="s2">this specific issue where it says you</p>
<p begin="10:25:51.560" end="10:25:55.960" style="s2">know hey this post doesn&#39;t exist and</p>
<p begin="10:25:53.040" end="10:25:59.436" style="s2">then as soon as I recapitalized</p>
<p begin="10:25:55.960" end="10:26:01.680" style="s2">it all the sudden it started to to work</p>
<p begin="10:25:59.436" end="10:26:03.360" style="s2">again it starts to work now so I&#39;m not</p>
<p begin="10:26:01.680" end="10:26:05.880" style="s2">really sure why it broke in the first</p>
<p begin="10:26:03.360" end="10:26:07.800" style="s2">place I didn&#39;t change any other code uh</p>
<p begin="10:26:05.880" end="10:26:09.400" style="s2">just looking back at my path operation</p>
<p begin="10:26:07.800" end="10:26:12.916" style="s2">you can see that I&#39;m now changing my</p>
<p begin="10:26:09.400" end="10:26:14.040" style="s2">response model to be schema. poost out</p>
<p begin="10:26:12.916" end="10:26:16.160" style="s2">and then we&#39;re performing the same</p>
<p begin="10:26:14.040" end="10:26:18.276" style="s2">results query and then returning it for</p>
<p begin="10:26:16.160" end="10:26:20.680" style="s2">some reason or another it&#39;s now properly</p>
<p begin="10:26:18.276" end="10:26:23.720" style="s2">working I have no idea what changed I</p>
<p begin="10:26:20.680" end="10:26:25.200" style="s2">have no idea exactly what changed but</p>
<p begin="10:26:23.720" end="10:26:26.720" style="s2">it&#39;s working now so hopefully you guys</p>
<p begin="10:26:25.200" end="10:26:28.240" style="s2">don&#39;t run into any issues and hopefully</p>
<p begin="10:26:26.720" end="10:26:31.116" style="s2">it was just some kind of issue on my</p>
<p begin="10:26:28.240" end="10:26:33.276" style="s2">machine but if you do run into the same</p>
<p begin="10:26:31.116" end="10:26:35.040" style="s2">issue just try moving it to a lowercase</p>
<p begin="10:26:33.276" end="10:26:36.640" style="s2">try restarting the application then</p>
<p begin="10:26:35.040" end="10:26:38.840" style="s2">changing it back I have no idea why that</p>
<p begin="10:26:36.640" end="10:26:41.360" style="s2">would fix it but seems to have done</p>
<p begin="10:26:38.840" end="10:26:43.520" style="s2">something and so now our results are</p>
<p begin="10:26:41.360" end="10:26:46.040" style="s2">perfect we get the post information we</p>
<p begin="10:26:43.520" end="10:26:47.240" style="s2">still fetch the owner which is fantastic</p>
<p begin="10:26:46.040" end="10:26:48.436" style="s2">and then we have the votes and then just</p>
<p begin="10:26:47.240" end="10:26:51.640" style="s2">double check to make sure that all of</p>
<p begin="10:26:48.436" end="10:26:52.800" style="s2">your votes are all okay uh and so it</p>
<p begin="10:26:51.640" end="10:26:53.960" style="s2">looks like they all look good I know</p>
<p begin="10:26:52.800" end="10:26:55.916" style="s2">that one had two and then the rest</p>
<p begin="10:26:53.960" end="10:26:59.800" style="s2">should all have zero so everything&#39;s</p>
<p begin="10:26:55.916" end="10:27:02.000" style="s2">looking pretty pretty good the next</p>
<p begin="10:26:59.800" end="10:27:05.000" style="s2">thing that we need to do is actually uh</p>
<p begin="10:27:02.000" end="10:27:06.680" style="s2">go ahead and add our filters back in so</p>
<p begin="10:27:05.000" end="10:27:10.116" style="s2">let&#39;s see if I can still filter on all</p>
<p begin="10:27:06.680" end="10:27:10.116" style="s2">of these and so I&#39;m just going to copy</p>
<p begin="10:27:11.596" end="10:27:18.480" style="s2">this and then before I perform the the</p>
<p begin="10:27:14.116" end="10:27:21.116" style="s2">dot all I&#39;m going to paste that in there</p>
<p begin="10:27:18.480" end="10:27:21.116" style="s2">oops I forgot</p>
<p begin="10:27:21.160" end="10:27:24.756" style="s2">to I forgot to</p>
<p begin="10:27:32.000" end="10:27:37.000" style="s2">copy all right and then let&#39;s test this</p>
<p begin="10:27:34.080" end="10:27:40.480" style="s2">out again right things are still working</p>
<p begin="10:27:37.000" end="10:27:44.756" style="s2">but let&#39;s just add a few extra uh query</p>
<p begin="10:27:40.480" end="10:27:47.756" style="s2">parameters so I&#39;ll say search equals</p>
<p begin="10:27:44.756" end="10:27:47.756" style="s2">beaches</p>
<p begin="10:27:48.596" end="10:27:52.960" style="s2">all right and then it looks like it</p>
<p begin="10:27:50.200" end="10:27:56.276" style="s2">should only return post with the word</p>
<p begin="10:27:52.960" end="10:27:58.960" style="s2">beaches and then let&#39;s try</p>
<p begin="10:27:56.276" end="10:28:02.000" style="s2">limit equals</p>
<p begin="10:27:58.960" end="10:28:04.596" style="s2">2 remove this search for</p>
<p begin="10:28:02.000" end="10:28:05.840" style="s2">now and that works too so it looks like</p>
<p begin="10:28:04.596" end="10:28:08.000" style="s2">we get to keep all of the same</p>
<p begin="10:28:05.840" end="10:28:10.560" style="s2">functionality that we had before so I&#39;m</p>
<p begin="10:28:08.000" end="10:28:12.680" style="s2">going to just write this as posts we&#39;re</p>
<p begin="10:28:10.560" end="10:28:14.480" style="s2">going to comment this out just for</p>
<p begin="10:28:12.680" end="10:28:16.116" style="s2">reference and then we&#39;re going to return</p>
<p begin="10:28:14.480" end="10:28:18.720" style="s2">post like we normally</p>
<p begin="10:28:16.116" end="10:28:20.360" style="s2">do send it one more time and it looks</p>
<p begin="10:28:18.720" end="10:28:21.276" style="s2">like everything is still working just</p>
<p begin="10:28:20.360" end="10:28:24.040" style="s2">fine</p>
<p begin="10:28:21.276" end="10:28:26.360" style="s2">perfect so we finished the uh get</p>
<p begin="10:28:24.040" end="10:28:29.000" style="s2">multiple posts path operation or get all</p>
<p begin="10:28:26.360" end="10:28:31.000" style="s2">posts and I noticed that we do have to</p>
<p begin="10:28:29.000" end="10:28:33.436" style="s2">go ahead and update the get individual</p>
<p begin="10:28:31.000" end="10:28:34.276" style="s2">post because right now if we go to get</p>
<p begin="10:28:33.436" end="10:28:37.000" style="s2">one</p>
<p begin="10:28:34.276" end="10:28:40.080" style="s2">post you can see that we do not actually</p>
<p begin="10:28:37.000" end="10:28:42.240" style="s2">get the votes vote count for that so we</p>
<p begin="10:28:40.080" end="10:28:43.840" style="s2">definitely want to see that in here and</p>
<p begin="10:28:42.240" end="10:28:46.680" style="s2">we&#39;re going to have to perform the same</p>
<p begin="10:28:43.840" end="10:28:49.560" style="s2">exact join so I&#39;m just going to copy the</p>
<p begin="10:28:46.680" end="10:28:53.720" style="s2">previous query all the way way up to uh</p>
<p begin="10:28:49.560" end="10:28:53.720" style="s2">before the filter so just copy that</p>
<p begin="10:28:57.640" end="10:29:05.800" style="s2">part say post equals paste that in</p>
<p begin="10:29:02.840" end="10:29:08.276" style="s2">there and then we can filter copy this</p>
<p begin="10:29:05.800" end="10:29:10.756" style="s2">filter at the</p>
<p begin="10:29:08.276" end="10:29:11.960" style="s2">end and that should ultimately get us</p>
<p begin="10:29:10.756" end="10:29:13.320" style="s2">what we want I&#39;m going to comment this</p>
<p begin="10:29:11.960" end="10:29:16.436" style="s2">one</p>
<p begin="10:29:13.320" end="10:29:19.960" style="s2">out and keep in mind we have to return</p>
<p begin="10:29:16.436" end="10:29:24.436" style="s2">post out instead of post now because we</p>
<p begin="10:29:19.960" end="10:29:24.436" style="s2">want the uh the new format with the</p>
<p begin="10:29:24.756" end="10:29:29.116" style="s2">votes so now if I hit</p>
<p begin="10:29:29.160" end="10:29:33.400" style="s2">send name post is not</p>
<p begin="10:29:33.840" end="10:29:38.436" style="s2">defined oh okay misspelled</p>
<p begin="10:29:40.480" end="10:29:45.320" style="s2">that and looks like we fixed that one</p>
<p begin="10:29:43.596" end="10:29:47.640" style="s2">and then it&#39;s really up to you to see if</p>
<p begin="10:29:45.320" end="10:29:50.960" style="s2">you want to um you know kind of worry</p>
<p begin="10:29:47.640" end="10:29:52.320" style="s2">about creating posts and updating posts</p>
<p begin="10:29:50.960" end="10:29:55.040" style="s2">uh to make sure that you know when they</p>
<p begin="10:29:52.320" end="10:29:56.640" style="s2">create an update that they uh return the</p>
<p begin="10:29:55.040" end="10:29:58.680" style="s2">number of votes but it&#39;s ultimately up</p>
<p begin="10:29:56.640" end="10:30:00.840" style="s2">to you I I think we don&#39;t need it in</p>
<p begin="10:29:58.680" end="10:30:03.080" style="s2">those uh this more of just kind of</p>
<p begin="10:30:00.840" end="10:30:04.680" style="s2">returning back uh just the main</p>
<p begin="10:30:03.080" end="10:30:07.756" style="s2">information about the post and then you</p>
<p begin="10:30:04.680" end="10:30:09.756" style="s2">know the queries for updating uh a</p>
<p begin="10:30:07.756" end="10:30:11.160" style="s2">specific post and then grabbing the</p>
<p begin="10:30:09.756" end="10:30:14.200" style="s2">votes gets a little complicated so we&#39;re</p>
<p begin="10:30:11.160" end="10:30:18.436" style="s2">going to ignore that for the update and</p>
<p begin="10:30:14.200" end="10:30:20.756" style="s2">the uh and the create post functionality</p>
<p begin="10:30:18.436" end="10:30:23.480" style="s2">now when it comes to building out the</p>
<p begin="10:30:20.756" end="10:30:25.320" style="s2">tables or the database schema SQL</p>
<p begin="10:30:23.480" end="10:30:26.840" style="s2">Alchemy has a little bit of a limitation</p>
<p begin="10:30:25.320" end="10:30:29.596" style="s2">and that is that SQL Alchemy doesn&#39;t</p>
<p begin="10:30:26.840" end="10:30:31.480" style="s2">allow us to modify tables it doesn&#39;t</p>
<p begin="10:30:29.596" end="10:30:34.160" style="s2">allow us to create extra columns delete</p>
<p begin="10:30:31.480" end="10:30:36.960" style="s2">columns add foreign key constraints and</p>
<p begin="10:30:34.160" end="10:30:39.320" style="s2">that&#39;s because when we Define these</p>
<p begin="10:30:36.960" end="10:30:41.480" style="s2">models what SQL Alchemy does is it</p>
<p begin="10:30:39.320" end="10:30:43.640" style="s2">checks to see if the specific table name</p>
<p begin="10:30:41.480" end="10:30:45.160" style="s2">already exist in our postris database</p>
<p begin="10:30:43.640" end="10:30:46.720" style="s2">and if it does it&#39;s not going to touch</p>
<p begin="10:30:45.160" end="10:30:48.560" style="s2">it so if we make any changes it will</p>
<p begin="10:30:46.720" end="10:30:50.596" style="s2">never push out those changes</p>
<p begin="10:30:48.560" end="10:30:52.480" style="s2">it&#39;ll only create these tables if it</p>
<p begin="10:30:50.596" end="10:30:54.756" style="s2">doesn&#39;t already see a table with that</p>
<p begin="10:30:52.480" end="10:30:57.240" style="s2">specific name and so we&#39;ve had to resort</p>
<p begin="10:30:54.756" end="10:30:58.916" style="s2">to dropping all of our tables and then</p>
<p begin="10:30:57.240" end="10:31:01.040" style="s2">restarting our application so that SQL</p>
<p begin="10:30:58.916" end="10:31:02.360" style="s2">Alchemy builds it from scratch that&#39;s</p>
<p begin="10:31:01.040" end="10:31:04.480" style="s2">something we can&#39;t obviously do in</p>
<p begin="10:31:02.360" end="10:31:06.960" style="s2">production that would be an unacceptable</p>
<p begin="10:31:04.480" end="10:31:08.800" style="s2">thing to do and just to show you guys uh</p>
<p begin="10:31:06.960" end="10:31:11.480" style="s2">in case you&#39;ve forgotten if we go to my</p>
<p begin="10:31:08.800" end="10:31:13.436" style="s2">our post database and we go we can see</p>
<p begin="10:31:11.480" end="10:31:16.640" style="s2">that we&#39;ve got our three</p>
<p begin="10:31:13.436" end="10:31:18.436" style="s2">tables now if I add a phone number class</p>
<p begin="10:31:16.640" end="10:31:21.560" style="s2">sorry a phone number uh</p>
<p begin="10:31:18.436" end="10:31:23.080" style="s2">column to our user class and I&#39;ll set</p>
<p begin="10:31:21.560" end="10:31:24.240" style="s2">this column to be just a string and this</p>
<p begin="10:31:23.080" end="10:31:26.040" style="s2">is really just for demonstration</p>
<p begin="10:31:24.240" end="10:31:28.680" style="s2">purposes you guys don&#39;t have to do this</p>
<p begin="10:31:26.040" end="10:31:31.276" style="s2">if I save this and reload this SQL</p>
<p begin="10:31:28.680" end="10:31:33.116" style="s2">Alchemy will not go into postgress and</p>
<p begin="10:31:31.276" end="10:31:36.200" style="s2">actually create that column if I refresh</p>
<p begin="10:31:33.116" end="10:31:39.116" style="s2">this and then go into users properties</p>
<p begin="10:31:36.200" end="10:31:41.680" style="s2">you can see that it is not</p>
<p begin="10:31:39.116" end="10:31:44.200" style="s2">here and so that&#39;s the limitation of SQL</p>
<p begin="10:31:41.680" end="10:31:45.116" style="s2">alamy and so in this section what we&#39;re</p>
<p begin="10:31:44.200" end="10:31:47.276" style="s2">going to do is we&#39;re going to take a</p>
<p begin="10:31:45.116" end="10:31:49.240" style="s2">look at another tool that&#39;ll allow us to</p>
<p begin="10:31:47.276" end="10:31:50.800" style="s2">do a couple things first of all it&#39;s</p>
<p begin="10:31:49.240" end="10:31:53.680" style="s2">going to allow us to automatically</p>
<p begin="10:31:50.800" end="10:31:55.400" style="s2">update the columns based off of the</p>
<p begin="10:31:53.680" end="10:31:56.840" style="s2">models that we Define here so moving</p>
<p begin="10:31:55.400" end="10:31:58.400" style="s2">forward when we add this phone number</p>
<p begin="10:31:56.840" end="10:32:00.756" style="s2">column it&#39;s going to automatically</p>
<p begin="10:31:58.400" end="10:32:02.916" style="s2">update our postgress database and this</p>
<p begin="10:32:00.756" end="10:32:05.160" style="s2">tool is called olymic it is what we</p>
<p begin="10:32:02.916" end="10:32:08.000" style="s2">refer to as a data database migration</p>
<p begin="10:32:05.160" end="10:32:11.320" style="s2">tool however it&#39;s much more powerful</p>
<p begin="10:32:08.000" end="10:32:13.116" style="s2">than that right it&#39;s able to allow us to</p>
<p begin="10:32:11.320" end="10:32:15.116" style="s2">uh you know create incremental changes</p>
<p begin="10:32:13.116" end="10:32:17.596" style="s2">to our database and actually track it</p>
<p begin="10:32:15.116" end="10:32:19.520" style="s2">kind of like we do with code so uh in</p>
<p begin="10:32:17.596" end="10:32:20.840" style="s2">the in this lesson and in the next</p>
<p begin="10:32:19.520" end="10:32:21.960" style="s2">coming lessons we&#39;re going to take a</p>
<p begin="10:32:20.840" end="10:32:23.480" style="s2">look at Olympic we&#39;re going to see</p>
<p begin="10:32:21.960" end="10:32:25.400" style="s2">everything it has to offer and I&#39;m going</p>
<p begin="10:32:23.480" end="10:32:27.320" style="s2">to hopefully get you guys at least a</p>
<p begin="10:32:25.400" end="10:32:28.880" style="s2">solid understanding of how to work with</p>
<p begin="10:32:27.320" end="10:32:30.800" style="s2">Olympic so that when you guys work on</p>
<p begin="10:32:28.880" end="10:32:32.720" style="s2">your projects you can immediately get</p>
<p begin="10:32:30.800" end="10:32:34.480" style="s2">Olympic installed running and then</p>
<p begin="10:32:32.720" end="10:32:35.720" style="s2">manage your databases using Olympic</p>
<p begin="10:32:34.480" end="10:32:38.680" style="s2">instead of having to either do it</p>
<p begin="10:32:35.720" end="10:32:40.840" style="s2">manually or or use any other kind of</p>
<p begin="10:32:38.680" end="10:32:43.040" style="s2">unusual</p>
<p begin="10:32:40.840" end="10:32:45.916" style="s2">workaround now one of the motivations</p>
<p begin="10:32:43.040" end="10:32:47.756" style="s2">for a database migration tool is uh came</p>
<p begin="10:32:45.916" end="10:32:49.160" style="s2">from the fact that developers can track</p>
<p begin="10:32:47.756" end="10:32:51.596" style="s2">changes to their code and roll back</p>
<p begin="10:32:49.160" end="10:32:53.116" style="s2">their code easily with Git and they</p>
<p begin="10:32:51.596" end="10:32:55.520" style="s2">wanted to be able to do the same thing</p>
<p begin="10:32:53.116" end="10:32:58.000" style="s2">for our database models and our database</p>
<p begin="10:32:55.520" end="10:32:59.520" style="s2">schema uh and so they went about</p>
<p begin="10:32:58.000" end="10:33:01.276" style="s2">implementing what is referred to as</p>
<p begin="10:32:59.520" end="10:33:02.800" style="s2">database migration tools and so a</p>
<p begin="10:33:01.276" end="10:33:04.756" style="s2">database migration tool just allows us</p>
<p begin="10:33:02.800" end="10:33:07.160" style="s2">to incrementally track changes to our</p>
<p begin="10:33:04.756" end="10:33:09.360" style="s2">schema and roll back those changes to</p>
<p begin="10:33:07.160" end="10:33:10.840" style="s2">any point in time and so as we go</p>
<p begin="10:33:09.360" end="10:33:13.320" style="s2">through our project you know we kept</p>
<p begin="10:33:10.840" end="10:33:15.200" style="s2">adding new tables and new features uh</p>
<p begin="10:33:13.320" end="10:33:16.480" style="s2">what a database migration tool is uh</p>
<p begin="10:33:15.200" end="10:33:18.840" style="s2">it&#39;s going to allow us to track those</p>
<p begin="10:33:16.480" end="10:33:20.680" style="s2">changes and so if we ever want to go</p>
<p begin="10:33:18.840" end="10:33:22.200" style="s2">back to a specific point in time so that</p>
<p begin="10:33:20.680" end="10:33:25.240" style="s2">we can kind of troubleshoot code at that</p>
<p begin="10:33:22.200" end="10:33:26.480" style="s2">point in time it&#39;s so easy it&#39;s just one</p>
<p begin="10:33:25.240" end="10:33:28.720" style="s2">simple command and it&#39;s going to</p>
<p begin="10:33:26.480" end="10:33:31.360" style="s2">automatically update our database so</p>
<p begin="10:33:28.720" end="10:33:33.916" style="s2">that the schema matches what it was at</p>
<p begin="10:33:31.360" end="10:33:34.916" style="s2">that specific point in time and so that</p>
<p begin="10:33:33.916" end="10:33:37.240" style="s2">tool that we&#39;re going to use like I</p>
<p begin="10:33:34.916" end="10:33:39.840" style="s2">mentioned is going to be alumic and uh</p>
<p begin="10:33:37.240" end="10:33:41.596" style="s2">what&#39;s great about alumic is that it can</p>
<p begin="10:33:39.840" end="10:33:44.080" style="s2">also automatically pull all of our SQL</p>
<p begin="10:33:41.596" end="10:33:46.240" style="s2">alemy models uh and generate the proper</p>
<p begin="10:33:44.080" end="10:33:49.000" style="s2">tables based off of them all right so</p>
<p begin="10:33:46.240" end="10:33:52.680" style="s2">this is the documentation for almic so</p>
<p begin="10:33:49.000" end="10:33:54.240" style="s2">it&#39;s just alm. sq.com dog and if you</p>
<p begin="10:33:52.680" end="10:33:56.200" style="s2">want to kind of follow along just select</p>
<p begin="10:33:54.240" end="10:33:58.800" style="s2">the tutorial right here and this is just</p>
<p begin="10:33:56.200" end="10:34:01.436" style="s2">going to give you kind of a quick walkr</p>
<p begin="10:33:58.800" end="10:34:02.680" style="s2">of how to get Olympic set up um but I&#39;m</p>
<p begin="10:34:01.436" end="10:34:04.160" style="s2">going to show you guys this so you don&#39;t</p>
<p begin="10:34:02.680" end="10:34:05.560" style="s2">actually have to follow the tutorial so</p>
<p begin="10:34:04.160" end="10:34:07.436" style="s2">we&#39;re going to do a first of all we have</p>
<p begin="10:34:05.560" end="10:34:09.916" style="s2">to install the library so we&#39;ll do pip</p>
<p begin="10:34:07.436" end="10:34:09.916" style="s2">install</p>
<p begin="10:34:11.560" end="10:34:15.436" style="s2">olymic and so that&#39;ll get Olympic</p>
<p begin="10:34:13.756" end="10:34:17.116" style="s2">installed and what it does is it</p>
<p begin="10:34:15.436" end="10:34:20.080" style="s2">actually gives us access to the Olympic</p>
<p begin="10:34:17.116" end="10:34:22.960" style="s2">command so if I do almic</p>
<p begin="10:34:20.080" end="10:34:25.040" style="s2">d-el and actually before we proceed any</p>
<p begin="10:34:22.960" end="10:34:27.436" style="s2">further I want you to go ahead and</p>
<p begin="10:34:25.040" end="10:34:28.800" style="s2">delete phone number we don&#39;t actually</p>
<p begin="10:34:27.436" end="10:34:32.000" style="s2">need that</p>
<p begin="10:34:28.800" end="10:34:34.116" style="s2">anymore and then go to your application</p>
<p begin="10:34:32.000" end="10:34:35.520" style="s2">and actually close that out stop it so</p>
<p begin="10:34:34.116" end="10:34:37.520" style="s2">that it doesn&#39;t automatically restart</p>
<p begin="10:34:35.520" end="10:34:38.520" style="s2">for any other reason and then also what</p>
<p begin="10:34:37.520" end="10:34:39.960" style="s2">we&#39;re going to do is I&#39;m actually going</p>
<p begin="10:34:38.520" end="10:34:41.240" style="s2">to delete all of our tables so that we</p>
<p begin="10:34:39.960" end="10:34:44.436" style="s2">can actually take a look at how this</p>
<p begin="10:34:41.240" end="10:34:45.880" style="s2">works so do delete drop and if you try</p>
<p begin="10:34:44.436" end="10:34:47.276" style="s2">to drop this table it&#39;s going to say we</p>
<p begin="10:34:45.880" end="10:34:49.276" style="s2">can&#39;t drop it due to the foreign key</p>
<p begin="10:34:47.276" end="10:34:51.040" style="s2">constraint that&#39;s okay we can just do</p>
<p begin="10:34:49.276" end="10:34:52.560" style="s2">drop Cascade and that&#39;s going to delete</p>
<p begin="10:34:51.040" end="10:34:54.840" style="s2">it and we&#39;re just going to do that for</p>
<p begin="10:34:52.560" end="10:34:54.840" style="s2">all of</p>
<p begin="10:34:54.960" end="10:35:00.960" style="s2">them all right so now let&#39;s get back to</p>
<p begin="10:34:59.080" end="10:35:02.720" style="s2">Olympic I&#39;m going to make this bigger</p>
<p begin="10:35:00.960" end="10:35:05.596" style="s2">for you guys all right and so we&#39;ll do</p>
<p begin="10:35:02.720" end="10:35:07.596" style="s2">Olympic d-el to see what commands we</p>
<p begin="10:35:05.596" end="10:35:09.756" style="s2">have and the first thing that we have to</p>
<p begin="10:35:07.596" end="10:35:10.680" style="s2">do is we have to initialize olymic and</p>
<p begin="10:35:09.756" end="10:35:12.400" style="s2">what that&#39;s going to do is it&#39;s going to</p>
<p begin="10:35:10.680" end="10:35:18.080" style="s2">actually create an olymic directory for</p>
<p begin="10:35:12.400" end="10:35:18.080" style="s2">us so we&#39;ll do almic in it</p>
<p begin="10:35:19.436" end="10:35:22.360" style="s2">and then I&#39;m just going to do d-el to</p>
<p begin="10:35:20.840" end="10:35:23.840" style="s2">see if we need to pass in any extra</p>
<p begin="10:35:22.360" end="10:35:25.160" style="s2">flags and then we have to give it a</p>
<p begin="10:35:23.840" end="10:35:27.000" style="s2">directory name so when we run this</p>
<p begin="10:35:25.160" end="10:35:29.596" style="s2">command it&#39;s going to create a directory</p>
<p begin="10:35:27.000" end="10:35:31.436" style="s2">I&#39;m going to name the directory almic</p>
<p begin="10:35:29.596" end="10:35:32.400" style="s2">you could call it DB database whatever</p>
<p begin="10:35:31.436" end="10:35:33.720" style="s2">you want to call it but I&#39;m just going</p>
<p begin="10:35:32.400" end="10:35:35.960" style="s2">to call it almic so it&#39;s going to create</p>
<p begin="10:35:33.720" end="10:35:38.040" style="s2">a folder called</p>
<p begin="10:35:35.960" end="10:35:39.756" style="s2">olymic and so you can see that we&#39;ve got</p>
<p begin="10:35:38.040" end="10:35:42.000" style="s2">this folder called olymic and notice how</p>
<p begin="10:35:39.756" end="10:35:44.800" style="s2">it gets installed outside of uh the app</p>
<p begin="10:35:42.000" end="10:35:47.720" style="s2">folder which is what we want and it also</p>
<p begin="10:35:44.800" end="10:35:50.436" style="s2">created this olymic file so we&#39;ll take</p>
<p begin="10:35:47.720" end="10:35:51.916" style="s2">look at both of those and the first</p>
<p begin="10:35:50.436" end="10:35:54.200" style="s2">thing that we want to do is so go up</p>
<p begin="10:35:51.916" end="10:35:56.756" style="s2">into olymic and there&#39;s really m one</p>
<p begin="10:35:54.200" end="10:35:58.680" style="s2">main file it&#39;s the EMV py so this is</p>
<p begin="10:35:56.756" end="10:35:59.916" style="s2">kind of like the the King Kong</p>
<p begin="10:35:58.680" end="10:36:02.116" style="s2">configuration</p>
<p begin="10:35:59.916" end="10:36:04.680" style="s2">file and there&#39;s going to be a couple of</p>
<p begin="10:36:02.116" end="10:36:06.916" style="s2">things that we have to add to this file</p>
<p begin="10:36:04.680" end="10:36:09.840" style="s2">to make sure that things work because</p>
<p begin="10:36:06.916" end="10:36:11.800" style="s2">almic works with the SQL Alchemy and the</p>
<p begin="10:36:09.840" end="10:36:13.596" style="s2">models uh that you build with SQL</p>
<p begin="10:36:11.800" end="10:36:17.640" style="s2">Alchemy we need to make sure that it has</p>
<p begin="10:36:13.596" end="10:36:19.720" style="s2">access to our base our base object right</p>
<p begin="10:36:17.640" end="10:36:23.080" style="s2">here so we have to import this base</p>
<p begin="10:36:19.720" end="10:36:24.596" style="s2">object into the env. py file so I&#39;m</p>
<p begin="10:36:23.080" end="10:36:26.400" style="s2">going to just go right here and we&#39;re</p>
<p begin="10:36:24.596" end="10:36:28.596" style="s2">going to say from and what we&#39;re going</p>
<p begin="10:36:26.400" end="10:36:31.960" style="s2">to do is how do we actually get to that</p>
<p begin="10:36:28.596" end="10:36:34.480" style="s2">database file uh that um That Base</p>
<p begin="10:36:31.960" end="10:36:37.680" style="s2">object we have to go into app and then</p>
<p begin="10:36:34.480" end="10:36:39.200" style="s2">we go into go into database and then</p>
<p begin="10:36:37.680" end="10:36:41.240" style="s2">we&#39;ll import</p>
<p begin="10:36:39.200" end="10:36:42.840" style="s2">base all right and so this is kind of</p>
<p begin="10:36:41.240" end="10:36:45.960" style="s2">give us access to all of those SQL</p>
<p begin="10:36:42.840" end="10:36:47.916" style="s2">Alchemy models and then for Target</p>
<p begin="10:36:45.960" end="10:36:50.960" style="s2">metadata instead of saying none what we</p>
<p begin="10:36:47.916" end="10:36:52.480" style="s2">want to do is we want to get base so</p>
<p begin="10:36:50.960" end="10:36:56.160" style="s2">we&#39;re</p>
<p begin="10:36:52.480" end="10:36:58.276" style="s2">accessing this should be a capital</p>
<p begin="10:36:56.160" end="10:37:02.200" style="s2">B actually let&#39;s just double check that</p>
<p begin="10:36:58.276" end="10:37:05.080" style="s2">it&#39;s capitalized uh yep it&#39;s capitalized</p>
<p begin="10:37:02.200" end="10:37:07.160" style="s2">here so we&#39;ll go to base and then we</p>
<p begin="10:37:05.080" end="10:37:09.320" style="s2">want to make sure we grab</p>
<p begin="10:37:07.160" end="10:37:12.560" style="s2">metadata so that&#39;s all we have to do to</p>
<p begin="10:37:09.320" end="10:37:15.800" style="s2">rig this up to SQL alamy the next thing</p>
<p begin="10:37:12.560" end="10:37:15.800" style="s2">that we have to do is if we go to</p>
<p begin="10:37:16.040" end="10:37:22.436" style="s2">almic we have to pass in one value here</p>
<p begin="10:37:19.360" end="10:37:24.916" style="s2">which is the SQL Alchemy URL uh which is</p>
<p begin="10:37:22.436" end="10:37:26.276" style="s2">basically what&#39;s the URL to access our</p>
<p begin="10:37:24.916" end="10:37:28.320" style="s2">postrest</p>
<p begin="10:37:26.276" end="10:37:29.400" style="s2">database and so just to show you what</p>
<p begin="10:37:28.320" end="10:37:31.276" style="s2">this is going to look like this is going</p>
<p begin="10:37:29.400" end="10:37:33.720" style="s2">to be fundamentally no different than</p>
<p begin="10:37:31.276" end="10:37:37.520" style="s2">the URL that we used uh within database.</p>
<p begin="10:37:33.720" end="10:37:40.560" style="s2">py uh which is this one right here H and</p>
<p begin="10:37:37.520" end="10:37:40.560" style="s2">so I&#39;m just going to write this</p>
<p begin="10:37:40.880" end="10:37:45.596" style="s2">out just going to copy this first part</p>
<p begin="10:37:43.400" end="10:37:48.596" style="s2">right here because I can never remember</p>
<p begin="10:37:45.596" end="10:37:48.596" style="s2">that</p>
<p begin="10:37:49.436" end="10:37:54.756" style="s2">and so</p>
<p begin="10:37:50.400" end="10:37:58.360" style="s2">here just going to copy that so we say</p>
<p begin="10:37:54.756" end="10:38:00.520" style="s2">postgressql and uh optionally with the</p>
<p begin="10:37:58.360" end="10:38:02.276" style="s2">URL you can do a plus and then whatever</p>
<p begin="10:38:00.520" end="10:38:03.520" style="s2">driver you&#39;re using so if you don&#39;t</p>
<p begin="10:38:02.276" end="10:38:05.720" style="s2">provide the driver it&#39;s going to use</p>
<p begin="10:38:03.520" end="10:38:08.160" style="s2">whatever the default driver is um but</p>
<p begin="10:38:05.720" end="10:38:09.720" style="s2">we&#39;re using uh let&#39;s see which driver</p>
<p begin="10:38:08.160" end="10:38:12.680" style="s2">what is our</p>
<p begin="10:38:09.720" end="10:38:15.040" style="s2">driver if I do pip freeze it&#39;s going to</p>
<p begin="10:38:12.680" end="10:38:16.916" style="s2">be this one right here so this is the</p>
<p begin="10:38:15.040" end="10:38:18.320" style="s2">default driver for postest so you don&#39;t</p>
<p begin="10:38:16.916" end="10:38:22.200" style="s2">actually need a provide it but if you</p>
<p begin="10:38:18.320" end="10:38:24.276" style="s2">did you could just say plus Psy</p>
<p begin="10:38:22.200" end="10:38:25.960" style="s2">copg2 but like I said it&#39;s the default</p>
<p begin="10:38:24.276" end="10:38:27.640" style="s2">one so it&#39;s optional right then we have</p>
<p begin="10:38:25.960" end="10:38:29.436" style="s2">to give it the username so what&#39;s the</p>
<p begin="10:38:27.640" end="10:38:31.680" style="s2">username um that&#39;s going to be using to</p>
<p begin="10:38:29.436" end="10:38:33.080" style="s2">log into your postgress database for me</p>
<p begin="10:38:31.680" end="10:38:35.520" style="s2">it&#39;s just postgress the password is</p>
<p begin="10:38:33.080" end="10:38:37.840" style="s2">going to be password</p>
<p begin="10:38:35.520" end="10:38:39.800" style="s2">123 uh it&#39;s going to be running on Local</p>
<p begin="10:38:37.840" end="10:38:41.880" style="s2">Host uh and then if you want to you can</p>
<p begin="10:38:39.800" end="10:38:44.916" style="s2">provide the port which is 5432 and then</p>
<p begin="10:38:41.880" end="10:38:48.080" style="s2">your database name which is fast API for</p>
<p begin="10:38:44.916" end="10:38:49.480" style="s2">me so this is Ultimate</p>
<p begin="10:38:48.080" end="10:38:50.520" style="s2">what the URL is going to look like and</p>
<p begin="10:38:49.480" end="10:38:53.840" style="s2">at this</p>
<p begin="10:38:50.520" end="10:38:55.596" style="s2">point Olympic is set up and ready to run</p>
<p begin="10:38:53.840" end="10:38:57.200" style="s2">however you know just like I just like</p>
<p begin="10:38:55.596" end="10:38:59.960" style="s2">we did before I don&#39;t like the fact that</p>
<p begin="10:38:57.200" end="10:39:02.640" style="s2">we&#39;re hardcoding this data in here uh</p>
<p begin="10:38:59.960" end="10:39:03.960" style="s2">it&#39;s gross we&#39;re saving our password uh</p>
<p begin="10:39:02.640" end="10:39:05.640" style="s2">and if we move into our production</p>
<p begin="10:39:03.960" end="10:39:06.916" style="s2">server it&#39;s not going to work properly</p>
<p begin="10:39:05.640" end="10:39:09.360" style="s2">because they&#39;re not going to use these</p>
<p begin="10:39:06.916" end="10:39:11.276" style="s2">credentials or this IP so instead of</p>
<p begin="10:39:09.360" end="10:39:13.400" style="s2">doing this what we&#39;re actually going to</p>
<p begin="10:39:11.276" end="10:39:15.320" style="s2">do is we&#39;re going to override this value</p>
<p begin="10:39:13.400" end="10:39:18.840" style="s2">that&#39;s stored in this file within the</p>
<p begin="10:39:15.320" end="10:39:22.400" style="s2">env. py file and so under this config</p>
<p begin="10:39:18.840" end="10:39:24.360" style="s2">right here I&#39;m going to set a new uh</p>
<p begin="10:39:22.400" end="10:39:29.436" style="s2">option under the config object I&#39;m going</p>
<p begin="10:39:24.360" end="10:39:32.436" style="s2">to say config do set underscore</p>
<p begin="10:39:29.436" end="10:39:32.436" style="s2">maincore</p>
<p begin="10:39:32.800" end="10:39:37.436" style="s2">option and then here we can override any</p>
<p begin="10:39:35.436" end="10:39:40.160" style="s2">options that we have in here so I&#39;m</p>
<p begin="10:39:37.436" end="10:39:41.756" style="s2">going to override this SQL Alchemy URL</p>
<p begin="10:39:40.160" end="10:39:44.200" style="s2">so no matter what I put in here we&#39;re</p>
<p begin="10:39:41.756" end="10:39:46.680" style="s2">actually going to overwrite it and here</p>
<p begin="10:39:44.200" end="10:39:48.840" style="s2">you just pass in a string so SQL Alchemy</p>
<p begin="10:39:46.680" end="10:39:49.520" style="s2">URL so that&#39;s the the value we&#39;re going</p>
<p begin="10:39:48.840" end="10:39:52.200" style="s2">to</p>
<p begin="10:39:49.520" end="10:39:54.520" style="s2">override and then we&#39;re going to pass in</p>
<p begin="10:39:52.200" end="10:39:54.520" style="s2">our</p>
<p begin="10:39:54.596" end="10:40:00.160" style="s2">string so I can just cut this out and</p>
<p begin="10:39:56.800" end="10:40:00.160" style="s2">it&#39;s okay to just leave this blank</p>
<p begin="10:40:00.320" end="10:40:04.640" style="s2">here all right and so we&#39;ve hardcoded</p>
<p begin="10:40:03.560" end="10:40:05.916" style="s2">the string here so we haven&#39;t</p>
<p begin="10:40:04.640" end="10:40:07.520" style="s2">technically fixed anything but what</p>
<p begin="10:40:05.916" end="10:40:09.960" style="s2">we&#39;re going to do is just like we have</p>
<p begin="10:40:07.520" end="10:40:11.960" style="s2">in our database. py file you could see</p>
<p begin="10:40:09.960" end="10:40:14.596" style="s2">that we&#39;re using the settings object</p>
<p begin="10:40:11.960" end="10:40:16.916" style="s2">right that comes from our config file um</p>
<p begin="10:40:14.596" end="10:40:18.240" style="s2">which is making use of this pantic class</p>
<p begin="10:40:16.916" end="10:40:20.560" style="s2">where we can grab it from our</p>
<p begin="10:40:18.240" end="10:40:21.560" style="s2">environment variable and so what we&#39;re</p>
<p begin="10:40:20.560" end="10:40:23.680" style="s2">going to do is we&#39;re going to do the</p>
<p begin="10:40:21.560" end="10:40:26.116" style="s2">same exact thing we did with main right</p>
<p begin="10:40:23.680" end="10:40:28.200" style="s2">we imported settings and we&#39;re just</p>
<p begin="10:40:26.116" end="10:40:31.000" style="s2">going to do that in our env. py file so</p>
<p begin="10:40:28.200" end="10:40:33.116" style="s2">we can access all of uh our environment</p>
<p begin="10:40:31.000" end="10:40:35.916" style="s2">variables so I&#39;m going to say from</p>
<p begin="10:40:33.116" end="10:40:35.916" style="s2">app.config</p>
<p begin="10:40:36.480" end="10:40:41.276" style="s2">import</p>
<p begin="10:40:38.916" end="10:40:43.800" style="s2">settings and so now I have access to the</p>
<p begin="10:40:41.276" end="10:40:45.640" style="s2">settings object I can override all of</p>
<p begin="10:40:43.800" end="10:40:48.200" style="s2">these so this is going to be the</p>
<p begin="10:40:45.640" end="10:40:49.840" style="s2">username so I can say setting</p>
<p begin="10:40:48.200" end="10:40:51.916" style="s2">do</p>
<p begin="10:40:49.840" end="10:40:55.880" style="s2">username and actually I don&#39;t think</p>
<p begin="10:40:51.916" end="10:40:55.880" style="s2">that&#39;s what it is it&#39;s database</p>
<p begin="10:40:58.880" end="10:41:02.880" style="s2">username and then we&#39;ll override the</p>
<p begin="10:41:03.880" end="10:41:08.916" style="s2">password which is settings.</p>
<p begin="10:41:07.160" end="10:41:11.276" style="s2">database</p>
<p begin="10:41:08.916" end="10:41:13.680" style="s2">password and in reality instead of just</p>
<p begin="10:41:11.276" end="10:41:14.960" style="s2">typing this all out myself um we</p>
<p begin="10:41:13.680" end="10:41:17.116" style="s2">actually have this written out in our</p>
<p begin="10:41:14.960" end="10:41:18.880" style="s2">database. py file so I can just copy</p>
<p begin="10:41:17.116" end="10:41:20.960" style="s2">this this</p>
<p begin="10:41:18.880" end="10:41:23.240" style="s2">here and that way we don&#39;t waste too</p>
<p begin="10:41:20.960" end="10:41:23.240" style="s2">much</p>
<p begin="10:41:29.720" end="10:41:35.040" style="s2">time okay so we&#39;ve got our URL set and</p>
<p begin="10:41:32.640" end="10:41:37.320" style="s2">we&#39;re not hardcoding any values and at</p>
<p begin="10:41:35.040" end="10:41:38.720" style="s2">this point almic should be set to</p>
<p begin="10:41:37.320" end="10:41:41.160" style="s2">actually connect to our database and</p>
<p begin="10:41:38.720" end="10:41:43.276" style="s2">modify any of the tables generate tables</p>
<p begin="10:41:41.160" end="10:41:46.840" style="s2">uh and be able to really perform any</p>
<p begin="10:41:43.276" end="10:41:49.160" style="s2">actions that we wanted to moving forward</p>
<p begin="10:41:46.840" end="10:41:50.400" style="s2">hey guys I made one tiny little mistake</p>
<p begin="10:41:49.160" end="10:41:53.400" style="s2">if you take a look at where we&#39;re</p>
<p begin="10:41:50.400" end="10:41:54.880" style="s2">importing base I wrote app. database and</p>
<p begin="10:41:53.400" end="10:41:57.680" style="s2">if we take a look at that it looks like</p>
<p begin="10:41:54.880" end="10:41:59.480" style="s2">we are grabbing our base right here but</p>
<p begin="10:41:57.680" end="10:42:01.116" style="s2">this is not the one we want instead what</p>
<p begin="10:41:59.480" end="10:42:03.756" style="s2">we want to do is we want to import it</p>
<p begin="10:42:01.116" end="10:42:05.320" style="s2">from Models so we want to import base</p>
<p begin="10:42:03.756" end="10:42:08.080" style="s2">which is technically getting imported</p>
<p begin="10:42:05.320" end="10:42:10.960" style="s2">from that same file but by doing it from</p>
<p begin="10:42:08.080" end="10:42:12.720" style="s2">here it&#39;ll allow olymic to read all of</p>
<p begin="10:42:10.960" end="10:42:15.080" style="s2">these models and if we do it directly</p>
<p begin="10:42:12.720" end="10:42:17.720" style="s2">from database it&#39;s not going to work so</p>
<p begin="10:42:15.080" end="10:42:21.840" style="s2">what I want you guys to do is go to your</p>
<p begin="10:42:17.720" end="10:42:25.276" style="s2">uh env. py file and just change this</p>
<p begin="10:42:21.840" end="10:42:27.640" style="s2">from app. database to app.</p>
<p begin="10:42:25.276" end="10:42:30.400" style="s2">models and that should fix any potential</p>
<p begin="10:42:27.640" end="10:42:32.916" style="s2">issues that you could have okay so just</p>
<p begin="10:42:30.400" end="10:42:34.520" style="s2">to quickly recap uh we have cleared out</p>
<p begin="10:42:32.916" end="10:42:36.756" style="s2">all of our tables so there&#39;s nothing in</p>
<p begin="10:42:34.520" end="10:42:38.320" style="s2">our postest database we don&#39;t have any</p>
<p begin="10:42:36.756" end="10:42:40.276" style="s2">tables defined and we&#39;re going to do</p>
<p begin="10:42:38.320" end="10:42:42.436" style="s2">this all through almic but what I want</p>
<p begin="10:42:40.276" end="10:42:44.200" style="s2">to do is I want to kind of go through</p>
<p begin="10:42:42.436" end="10:42:46.240" style="s2">this like we would have if we had</p>
<p begin="10:42:44.200" end="10:42:48.200" style="s2">already known about Olympic from the</p>
<p begin="10:42:46.240" end="10:42:49.880" style="s2">start of our project project and so</p>
<p begin="10:42:48.200" end="10:42:51.840" style="s2">we&#39;re going to take this step by step</p>
<p begin="10:42:49.880" end="10:42:53.520" style="s2">right because when we first started</p>
<p begin="10:42:51.840" end="10:42:55.680" style="s2">creating tables in our post course</p>
<p begin="10:42:53.520" end="10:42:57.040" style="s2">database we kind of went along with what</p>
<p begin="10:42:55.680" end="10:42:59.756" style="s2">we were working on in our app so the</p>
<p begin="10:42:57.040" end="10:43:01.560" style="s2">first thing we did was uh we created a</p>
<p begin="10:42:59.756" end="10:43:04.756" style="s2">post</p>
<p begin="10:43:01.560" end="10:43:06.276" style="s2">table and that&#39;s because we didn&#39;t learn</p>
<p begin="10:43:04.756" end="10:43:08.000" style="s2">about how to actually create users we</p>
<p begin="10:43:06.276" end="10:43:09.960" style="s2">didn&#39;t learn about hashing passwords we</p>
<p begin="10:43:08.000" end="10:43:11.800" style="s2">haven&#39;t gotten to the user section so we</p>
<p begin="10:43:09.960" end="10:43:14.200" style="s2">originally just had a post table with a</p>
<p begin="10:43:11.800" end="10:43:15.480" style="s2">couple of fields and then after working</p>
<p begin="10:43:14.200" end="10:43:17.640" style="s2">through our code once we finished all</p>
<p begin="10:43:15.480" end="10:43:19.400" style="s2">the crud operations for post we then</p>
<p begin="10:43:17.640" end="10:43:21.756" style="s2">learned how to register users and at</p>
<p begin="10:43:19.400" end="10:43:24.040" style="s2">that point we had to create a table for</p>
<p begin="10:43:21.756" end="10:43:25.840" style="s2">users and then after that the next</p>
<p begin="10:43:24.040" end="10:43:28.756" style="s2">logical step was Hey how do we set up</p>
<p begin="10:43:25.840" end="10:43:30.360" style="s2">the relationship between posts and users</p>
<p begin="10:43:28.756" end="10:43:32.480" style="s2">then we had to modify that and set up a</p>
<p begin="10:43:30.360" end="10:43:34.116" style="s2">foreign key and then finally after that</p>
<p begin="10:43:32.480" end="10:43:37.116" style="s2">the last thing that we had to do was we</p>
<p begin="10:43:34.116" end="10:43:38.596" style="s2">created a voting table or a votes table</p>
<p begin="10:43:37.116" end="10:43:40.640" style="s2">and then we set up all of the necessary</p>
<p begin="10:43:38.596" end="10:43:42.520" style="s2">foreign keys for that so we&#39;re going to</p>
<p begin="10:43:40.640" end="10:43:44.640" style="s2">so we&#39;re going to do this step by step</p>
<p begin="10:43:42.520" end="10:43:47.160" style="s2">just kind of like how we did it with our</p>
<p begin="10:43:44.640" end="10:43:48.680" style="s2">uh our project um but we&#39;re going to do</p>
<p begin="10:43:47.160" end="10:43:50.200" style="s2">this with the database so that you can</p>
<p begin="10:43:48.680" end="10:43:52.756" style="s2">see how we would have done it if we had</p>
<p begin="10:43:50.200" end="10:43:54.840" style="s2">already known how to work with a lmic</p>
<p begin="10:43:52.756" end="10:43:57.436" style="s2">all right so first things first do a</p>
<p begin="10:43:54.840" end="10:44:01.116" style="s2">lmic</p>
<p begin="10:43:57.436" end="10:44:03.276" style="s2">almic d-el just to see what commands we</p>
<p begin="10:44:01.116" end="10:44:05.400" style="s2">have uh and so there&#39;s a few different</p>
<p begin="10:44:03.276" end="10:44:08.116" style="s2">commands but the first one that I want</p>
<p begin="10:44:05.400" end="10:44:10.680" style="s2">to focus on is revision so when we want</p>
<p begin="10:44:08.116" end="10:44:12.960" style="s2">to make a change to our database we</p>
<p begin="10:44:10.680" end="10:44:14.720" style="s2">create a revision so the revision is</p>
<p begin="10:44:12.960" end="10:44:17.080" style="s2">what really tracks all of the changes</p>
<p begin="10:44:14.720" end="10:44:19.640" style="s2">that we make uh on a step-by-step BAS</p>
<p begin="10:44:17.080" end="10:44:21.160" style="s2">basis so we&#39;re going to do almic</p>
<p begin="10:44:19.640" end="10:44:23.320" style="s2">revision</p>
<p begin="10:44:21.160" end="10:44:25.436" style="s2">d-el and and we&#39;ll see the different</p>
<p begin="10:44:23.320" end="10:44:28.000" style="s2">options that we have in our disposal uh</p>
<p begin="10:44:25.436" end="10:44:29.520" style="s2">the first one is that I well really the</p>
<p begin="10:44:28.000" end="10:44:31.000" style="s2">only one that I care about is the dhm</p>
<p begin="10:44:29.520" end="10:44:33.436" style="s2">flag so it&#39;s kind of like a when you do</p>
<p begin="10:44:31.000" end="10:44:36.240" style="s2">a get commit you can add a-m a message</p>
<p begin="10:44:33.436" end="10:44:38.520" style="s2">so that you can kind of uh have a human</p>
<p begin="10:44:36.240" end="10:44:41.320" style="s2">readable name associated with each</p>
<p begin="10:44:38.520" end="10:44:45.840" style="s2">revision so I&#39;m going to say get sorry</p>
<p begin="10:44:41.320" end="10:44:47.520" style="s2">not get olymic revision DM and I&#39;m gonna</p>
<p begin="10:44:45.840" end="10:44:50.080" style="s2">say this is going to be</p>
<p begin="10:44:47.520" end="10:44:52.400" style="s2">uh create post table so the this</p>
<p begin="10:44:50.080" end="10:44:55.116" style="s2">revision is going to be responsible for</p>
<p begin="10:44:52.400" end="10:44:58.360" style="s2">creating a post</p>
<p begin="10:44:55.116" end="10:45:00.400" style="s2">table we&#39;ll run that and I want you to</p>
<p begin="10:44:58.360" end="10:45:02.116" style="s2">notice something right you could see</p>
<p begin="10:45:00.400" end="10:45:04.080" style="s2">that it created this file under the</p>
<p begin="10:45:02.116" end="10:45:06.436" style="s2">version so the versions folder under the</p>
<p begin="10:45:04.080" end="10:45:07.880" style="s2">Olympic folder is going to contain all</p>
<p begin="10:45:06.436" end="10:45:10.756" style="s2">of our</p>
<p begin="10:45:07.880" end="10:45:13.640" style="s2">changes and if we take a look at the</p>
<p begin="10:45:10.756" end="10:45:15.560" style="s2">revision there&#39;s a couple things to note</p>
<p begin="10:45:13.640" end="10:45:17.480" style="s2">uh so you&#39;ll see that we import op from</p>
<p begin="10:45:15.560" end="10:45:20.040" style="s2">the olymic library and then we import</p>
<p begin="10:45:17.480" end="10:45:21.840" style="s2">essay from the SQL Alchemy library and</p>
<p begin="10:45:20.040" end="10:45:23.276" style="s2">then you can see the revision ID that it</p>
<p begin="10:45:21.840" end="10:45:24.680" style="s2">gives it and then there&#39;s going to be</p>
<p begin="10:45:23.276" end="10:45:27.116" style="s2">two different functions that are empty</p>
<p begin="10:45:24.680" end="10:45:28.880" style="s2">at the moment so these functions are</p>
<p begin="10:45:27.116" end="10:45:31.320" style="s2">pretty important uh what they are is the</p>
<p begin="10:45:28.880" end="10:45:33.916" style="s2">upgrade function when we run the upgrade</p>
<p begin="10:45:31.320" end="10:45:35.800" style="s2">uh what it does is it runs the commands</p>
<p begin="10:45:33.916" end="10:45:37.240" style="s2">for making the changes that you want to</p>
<p begin="10:45:35.800" end="10:45:38.640" style="s2">do so in this case we want to create a</p>
<p begin="10:45:37.240" end="10:45:40.160" style="s2">post table so what we&#39;re going to do is</p>
<p begin="10:45:38.640" end="10:45:42.880" style="s2">we&#39;re going to put all of the logic for</p>
<p begin="10:45:40.160" end="10:45:45.000" style="s2">creating a post table within this</p>
<p begin="10:45:42.880" end="10:45:46.596" style="s2">function and then if we ever want to</p>
<p begin="10:45:45.000" end="10:45:48.320" style="s2">roll back right if maybe I create the</p>
<p begin="10:45:46.596" end="10:45:49.916" style="s2">table and I realize I messed it up and I</p>
<p begin="10:45:48.320" end="10:45:52.320" style="s2">don&#39;t want it anymore then we have to</p>
<p begin="10:45:49.916" end="10:45:54.880" style="s2">put in all of the logic in the downgrade</p>
<p begin="10:45:52.320" end="10:45:57.116" style="s2">function to handle removing the table so</p>
<p begin="10:45:54.880" end="10:45:58.840" style="s2">the upgrade just handles the changes and</p>
<p begin="10:45:57.116" end="10:46:00.520" style="s2">the downgrade handles rolling it back</p>
<p begin="10:45:58.840" end="10:46:03.596" style="s2">but it&#39;s all manual you have to Define</p>
<p begin="10:46:00.520" end="10:46:06.276" style="s2">how to do all of that so let&#39;s go ahead</p>
<p begin="10:46:03.596" end="10:46:08.520" style="s2">and set up the upgrade function and</p>
<p begin="10:46:06.276" end="10:46:11.520" style="s2">let&#39;s configure uh all of the necessary</p>
<p begin="10:46:08.520" end="10:46:13.160" style="s2">columns for our post table all right and</p>
<p begin="10:46:11.520" end="10:46:15.360" style="s2">if you ever want to take a look at the</p>
<p begin="10:46:13.160" end="10:46:17.400" style="s2">documentation for this uh what you want</p>
<p begin="10:46:15.360" end="10:46:19.080" style="s2">to do is Select documentation here here</p>
<p begin="10:46:17.400" end="10:46:21.680" style="s2">and then you want to go down down down</p>
<p begin="10:46:19.080" end="10:46:23.916" style="s2">all the way down to API details and you</p>
<p begin="10:46:21.680" end="10:46:26.080" style="s2">want to go to ddl internals so this is</p>
<p begin="10:46:23.916" end="10:46:27.960" style="s2">going to show you how to actually um</p>
<p begin="10:46:26.080" end="10:46:30.480" style="s2">perform the various operations so if you</p>
<p begin="10:46:27.960" end="10:46:31.960" style="s2">want to create a column if you want to</p>
<p begin="10:46:30.480" end="10:46:33.276" style="s2">add a column this is the command that</p>
<p begin="10:46:31.960" end="10:46:35.960" style="s2">you&#39;re going to run if you want to alter</p>
<p begin="10:46:33.276" end="10:46:39.320" style="s2">a column if you want to modify a table</p>
<p begin="10:46:35.960" end="10:46:42.200" style="s2">drop a column uh create a table all of</p>
<p begin="10:46:39.320" end="10:46:43.916" style="s2">these are all listed here so this is the</p>
<p begin="10:46:42.200" end="10:46:45.360" style="s2">sheet that you&#39;re going to reference on</p>
<p begin="10:46:43.916" end="10:46:47.116" style="s2">a fairly frequent basis when you&#39;re</p>
<p begin="10:46:45.360" end="10:46:49.000" style="s2">working with almic because I can never</p>
<p begin="10:46:47.116" end="10:46:51.000" style="s2">remember each of the things but we&#39;re</p>
<p begin="10:46:49.000" end="10:46:54.880" style="s2">going to go ahead and create our post</p>
<p begin="10:46:51.000" end="10:46:58.000" style="s2">table and so we access the op object</p>
<p begin="10:46:54.880" end="10:46:59.276" style="s2">from almic and I&#39;m going to say op and</p>
<p begin="10:46:58.000" end="10:47:00.840" style="s2">then if you look at the documentation</p>
<p begin="10:46:59.276" end="10:47:02.916" style="s2">the way to create a table is you do</p>
<p begin="10:47:00.840" end="10:47:04.756" style="s2">create uncore</p>
<p begin="10:47:02.916" end="10:47:06.040" style="s2">table and there&#39;s going to be a couple</p>
<p begin="10:47:04.756" end="10:47:07.240" style="s2">of properties we have to pass in so</p>
<p begin="10:47:06.040" end="10:47:09.916" style="s2">what&#39;s the name of the table in</p>
<p begin="10:47:07.240" end="10:47:12.240" style="s2">postgress well we&#39;re going to call it</p>
<p begin="10:47:09.916" end="10:47:14.320" style="s2">posts and then we have to Define our</p>
<p begin="10:47:12.240" end="10:47:15.800" style="s2">columns and I&#39;m not going to do all of</p>
<p begin="10:47:14.320" end="10:47:17.276" style="s2">our post column because it&#39;s going to</p>
<p begin="10:47:15.800" end="10:47:18.400" style="s2">take a little bit of a while and we</p>
<p begin="10:47:17.276" end="10:47:20.400" style="s2">might do it later on but we&#39;re just</p>
<p begin="10:47:18.400" end="10:47:23.720" style="s2">going to Define two columns so the first</p>
<p begin="10:47:20.400" end="10:47:26.520" style="s2">one is going to be first of all we do sa</p>
<p begin="10:47:23.720" end="10:47:28.640" style="s2">column so we&#39;re grabbing the SQL Alchemy</p>
<p begin="10:47:26.520" end="10:47:30.080" style="s2">object and so this column is going to</p>
<p begin="10:47:28.640" end="10:47:35.080" style="s2">represent the ID so the name of it is</p>
<p begin="10:47:30.080" end="10:47:35.080" style="s2">going to be ID it&#39;s going to be type of</p>
<p begin="10:47:38.720" end="10:47:44.480" style="s2">integer and I may have accidentally</p>
<p begin="10:47:40.800" end="10:47:44.480" style="s2">imported nope that we&#39;re good so</p>
<p begin="10:47:45.480" end="10:47:53.116" style="s2">integer and then we can set nullable</p>
<p begin="10:47:49.116" end="10:47:54.800" style="s2">equals false which means it&#39;s required</p>
<p begin="10:47:53.116" end="10:47:56.200" style="s2">and then we also want this to be the</p>
<p begin="10:47:54.800" end="10:47:57.320" style="s2">primary key so you just do primary key</p>
<p begin="10:47:56.200" end="10:47:59.680" style="s2">equals</p>
<p begin="10:47:57.320" end="10:48:01.720" style="s2">true all right fairly straightforward</p>
<p begin="10:47:59.680" end="10:48:04.360" style="s2">right guys so we can then go in and</p>
<p begin="10:48:01.720" end="10:48:05.596" style="s2">create a second column and so this is</p>
<p begin="10:48:04.360" end="10:48:07.960" style="s2">just going to follow the same exact</p>
<p begin="10:48:05.596" end="10:48:10.200" style="s2">pattern essay.</p>
<p begin="10:48:07.960" end="10:48:14.680" style="s2">column and then this one will be the</p>
<p begin="10:48:10.200" end="10:48:14.680" style="s2">title it&#39;s going to be a type of essay.</p>
<p begin="10:48:14.880" end="10:48:21.116" style="s2">string and this is going to be equals</p>
<p begin="10:48:18.880" end="10:48:22.200" style="s2">false and I&#39;m just going to stop it</p>
<p begin="10:48:21.116" end="10:48:23.520" style="s2">right here so we&#39;re going to just create</p>
<p begin="10:48:22.200" end="10:48:26.756" style="s2">two columns I don&#39;t feel like creating</p>
<p begin="10:48:23.520" end="10:48:26.756" style="s2">all of the columns that we had for</p>
<p begin="10:48:27.080" end="10:48:31.916" style="s2">post and so the upgrade function is done</p>
<p begin="10:48:30.480" end="10:48:35.160" style="s2">however we also have to provide the</p>
<p begin="10:48:31.916" end="10:48:37.360" style="s2">logic for undoing these changes so if we</p>
<p begin="10:48:35.160" end="10:48:39.596" style="s2">create a table what&#39;s the how do we undo</p>
<p begin="10:48:37.360" end="10:48:43.596" style="s2">that well we delete the table so we do</p>
<p begin="10:48:39.596" end="10:48:44.880" style="s2">op. dropcore table and we just give it</p>
<p begin="10:48:43.596" end="10:48:46.960" style="s2">the name of the table so it&#39;s going to</p>
<p begin="10:48:44.880" end="10:48:48.880" style="s2">be posts all right and so now now we</p>
<p begin="10:48:46.960" end="10:48:50.520" style="s2">should be able to make these changes and</p>
<p begin="10:48:48.880" end="10:48:53.116" style="s2">then we can roll back because we put the</p>
<p begin="10:48:50.520" end="10:48:55.480" style="s2">logic in for downgrading so how exactly</p>
<p begin="10:48:53.116" end="10:48:58.116" style="s2">do we make these changes well let&#39;s go</p>
<p begin="10:48:55.480" end="10:49:01.560" style="s2">to almic</p>
<p begin="10:48:58.116" end="10:49:03.560" style="s2">d-el and let&#39;s see what commands we have</p>
<p begin="10:49:01.560" end="10:49:05.000" style="s2">uh so we&#39;ve got a couple uh branches</p>
<p begin="10:49:03.560" end="10:49:06.160" style="s2">that&#39;s probably not it current that&#39;s</p>
<p begin="10:49:05.000" end="10:49:08.240" style="s2">going to show us what&#39;s the current</p>
<p begin="10:49:06.160" end="10:49:09.240" style="s2">revision like what version are we on and</p>
<p begin="10:49:08.240" end="10:49:13.040" style="s2">if you actually want to see that we&#39;ll</p>
<p begin="10:49:09.240" end="10:49:13.040" style="s2">see Olympic current</p>
<p begin="10:49:18.680" end="10:49:23.000" style="s2">and it looks like it&#39;s giving me uh an</p>
<p begin="10:49:20.480" end="10:49:27.080" style="s2">error hold on let&#39;s go back to my env.</p>
<p begin="10:49:23.000" end="10:49:29.080" style="s2">py file and I made a very silly mistake</p>
<p begin="10:49:27.080" end="10:49:30.560" style="s2">this should be an F string so it wasn&#39;t</p>
<p begin="10:49:29.080" end="10:49:32.360" style="s2">actually doing anything that&#39;s why it</p>
<p begin="10:49:30.560" end="10:49:34.276" style="s2">was kind of highlighted weird so let&#39;s</p>
<p begin="10:49:32.360" end="10:49:36.880" style="s2">try this now again we&#39;re going to do</p>
<p begin="10:49:34.276" end="10:49:36.880" style="s2">almic</p>
<p begin="10:49:37.360" end="10:49:41.880" style="s2">current and it&#39;s not going to actually</p>
<p begin="10:49:39.400" end="10:49:44.000" style="s2">really give us any uh useful information</p>
<p begin="10:49:41.880" end="10:49:45.880" style="s2">at the moment because we haven&#39;t run any</p>
<p begin="10:49:44.000" end="10:49:49.040" style="s2">migrations right we&#39;re kind of starting</p>
<p begin="10:49:45.880" end="10:49:50.880" style="s2">from a clean plate so let&#39;s go back and</p>
<p begin="10:49:49.040" end="10:49:51.800" style="s2">let&#39;s just do a d-el and see what else</p>
<p begin="10:49:50.880" end="10:49:54.680" style="s2">we&#39;ve</p>
<p begin="10:49:51.800" end="10:49:58.320" style="s2">got uh so we&#39;ve got a downgrade well we</p>
<p begin="10:49:54.680" end="10:50:00.880" style="s2">don&#39;t want to downgrade edit not really</p>
<p begin="10:49:58.320" end="10:50:02.240" style="s2">uh heads we&#39;ll come back to that history</p>
<p begin="10:50:00.880" end="10:50:04.240" style="s2">um that&#39;s not going to be useful because</p>
<p begin="10:50:02.240" end="10:50:06.480" style="s2">we haven&#39;t done anything but if we go</p>
<p begin="10:50:04.240" end="10:50:10.080" style="s2">down we want to get to upgrade so this</p>
<p begin="10:50:06.480" end="10:50:13.480" style="s2">is what&#39;s important so if we do uh</p>
<p begin="10:50:10.080" end="10:50:15.960" style="s2">almic upgrade we can just do das dasel</p>
<p begin="10:50:13.480" end="10:50:18.320" style="s2">and we&#39;ll see what options we have and</p>
<p begin="10:50:15.960" end="10:50:20.840" style="s2">so we have to provide a revision number</p>
<p begin="10:50:18.320" end="10:50:23.116" style="s2">to tell a limic like hey what version of</p>
<p begin="10:50:20.840" end="10:50:24.756" style="s2">our database do we want to go to uh and</p>
<p begin="10:50:23.116" end="10:50:27.400" style="s2">so if you actually take a look at this</p>
<p begin="10:50:24.756" end="10:50:29.756" style="s2">specific revision it provides a revision</p>
<p begin="10:50:27.400" end="10:50:31.680" style="s2">number so if we actually want to get up</p>
<p begin="10:50:29.756" end="10:50:34.520" style="s2">to this point where it runs this upgrade</p>
<p begin="10:50:31.680" end="10:50:37.840" style="s2">we provide this revision number so I can</p>
<p begin="10:50:34.520" end="10:50:37.840" style="s2">say almic</p>
<p begin="10:50:38.640" end="10:50:44.480" style="s2">revision and then paste</p>
<p begin="10:50:41.000" end="10:50:47.480" style="s2">that so let&#39;s run this and see what</p>
<p begin="10:50:44.480" end="10:50:47.480" style="s2">happens</p>
<p begin="10:50:50.160" end="10:50:54.640" style="s2">sorry not I didn&#39;t mean to type revision</p>
<p begin="10:50:52.916" end="10:50:58.480" style="s2">I meant Olympic</p>
<p begin="10:50:54.640" end="10:51:00.000" style="s2">upgrade and then not Olympic revision so</p>
<p begin="10:50:58.480" end="10:51:01.520" style="s2">that&#39;s going to upgrade it and so you</p>
<p begin="10:51:00.000" end="10:51:03.160" style="s2">can see it did a couple things say</p>
<p begin="10:51:01.520" end="10:51:05.800" style="s2">running upgrade and it said it created</p>
<p begin="10:51:03.160" end="10:51:07.360" style="s2">post table so let&#39;s go to postgress and</p>
<p begin="10:51:05.800" end="10:51:09.520" style="s2">let&#39;s just refresh this and let&#39;s see if</p>
<p begin="10:51:07.360" end="10:51:10.880" style="s2">it actually did something right and it</p>
<p begin="10:51:09.520" end="10:51:12.596" style="s2">looks like it created two table so</p>
<p begin="10:51:10.880" end="10:51:14.040" style="s2">that&#39;s interesting so we are we see our</p>
<p begin="10:51:12.596" end="10:51:16.276" style="s2">post table and let&#39;s just quickly</p>
<p begin="10:51:14.040" end="10:51:18.360" style="s2">inspect this we&#39;ll go to columns you can</p>
<p begin="10:51:16.276" end="10:51:19.800" style="s2">see it created these columns and this</p>
<p begin="10:51:18.360" end="10:51:21.116" style="s2">one got set to the primary key and both</p>
<p begin="10:51:19.800" end="10:51:22.720" style="s2">are not now so it looks like it did</p>
<p begin="10:51:21.116" end="10:51:24.680" style="s2">everything it was supposed to do but</p>
<p begin="10:51:22.720" end="10:51:27.276" style="s2">what is this almic versions table well</p>
<p begin="10:51:24.680" end="10:51:29.480" style="s2">this is uh this is what almic uses to</p>
<p begin="10:51:27.276" end="10:51:31.080" style="s2">kind of keep track of all the revisions</p>
<p begin="10:51:29.480" end="10:51:33.560" style="s2">uh and so if we just go to view edit</p>
<p begin="10:51:31.080" end="10:51:36.240" style="s2">data all rows you can see that it just</p>
<p begin="10:51:33.560" end="10:51:38.240" style="s2">has one column at the moment which has</p>
<p begin="10:51:36.240" end="10:51:40.720" style="s2">the revision number uh you can see it&#39;s</p>
<p begin="10:51:38.240" end="10:51:42.916" style="s2">d18 and that&#39;s going to match up with uh</p>
<p begin="10:51:40.720" end="10:51:44.320" style="s2">this file d18 so that&#39;s all that&#39;s doing</p>
<p begin="10:51:42.916" end="10:51:45.480" style="s2">so it will create a table for you</p>
<p begin="10:51:44.320" end="10:51:47.880" style="s2">automatically so you can keep track of</p>
<p begin="10:51:45.480" end="10:51:49.640" style="s2">all of the revisions um but make sure</p>
<p begin="10:51:47.880" end="10:51:52.240" style="s2">you don&#39;t delete</p>
<p begin="10:51:49.640" end="10:51:54.880" style="s2">that okay so that&#39;s cool we just got our</p>
<p begin="10:51:52.240" end="10:51:56.040" style="s2">first table created through almic and I</p>
<p begin="10:51:54.880" end="10:51:57.520" style="s2">think at this point you probably still</p>
<p begin="10:51:56.040" end="10:51:59.040" style="s2">don&#39;t understand the Brilliance of a</p>
<p begin="10:51:57.520" end="10:52:00.276" style="s2">database migration tool and that&#39;s okay</p>
<p begin="10:51:59.040" end="10:52:02.360" style="s2">because we haven&#39;t really done much with</p>
<p begin="10:52:00.276" end="10:52:04.436" style="s2">it yet so let&#39;s say that you know as</p>
<p begin="10:52:02.360" end="10:52:06.880" style="s2">we&#39;re coding out our application uh we</p>
<p begin="10:52:04.436" end="10:52:08.680" style="s2">realize we want to add a new column to</p>
<p begin="10:52:06.880" end="10:52:10.756" style="s2">our database sorry well to our</p>
<p begin="10:52:08.680" end="10:52:12.756" style="s2">specifically to our post table well we</p>
<p begin="10:52:10.756" end="10:52:14.596" style="s2">can create a brand new revision to add a</p>
<p begin="10:52:12.756" end="10:52:16.640" style="s2">new column so let&#39;s say if you take a</p>
<p begin="10:52:14.596" end="10:52:17.680" style="s2">look at our models you know we have a</p>
<p begin="10:52:16.640" end="10:52:21.000" style="s2">other fields that are missing so let&#39;s</p>
<p begin="10:52:17.680" end="10:52:24.160" style="s2">say we want to add the content column</p>
<p begin="10:52:21.000" end="10:52:25.480" style="s2">now I can type in almic revision so this</p>
<p begin="10:52:24.160" end="10:52:27.400" style="s2">is going to create a brand new revision</p>
<p begin="10:52:25.480" end="10:52:31.480" style="s2">we&#39;ll give it a name and I&#39;ll say add</p>
<p begin="10:52:27.400" end="10:52:31.480" style="s2">content column to post</p>
<p begin="10:52:31.756" end="10:52:36.800" style="s2">table all right and it&#39;s going to create</p>
<p begin="10:52:33.680" end="10:52:39.320" style="s2">a brand new revision for us and once</p>
<p begin="10:52:36.800" end="10:52:41.640" style="s2">again we have to put in the logic for</p>
<p begin="10:52:39.320" end="10:52:43.800" style="s2">upgradeing and downgrading and you can</p>
<p begin="10:52:41.640" end="10:52:45.160" style="s2">see that when we now that we have more</p>
<p begin="10:52:43.800" end="10:52:46.720" style="s2">than one revision we can see that</p>
<p begin="10:52:45.160" end="10:52:48.480" style="s2">there&#39;s also a down revision so if you</p>
<p begin="10:52:46.720" end="10:52:50.160" style="s2">want to go down a step it&#39;s going to go</p>
<p begin="10:52:48.480" end="10:52:52.276" style="s2">to the revision of the previous one so</p>
<p begin="10:52:50.160" end="10:52:54.800" style="s2">let&#39;s put it in the logic for creating</p>
<p begin="10:52:52.276" end="10:52:57.040" style="s2">or adding in a brand new column for</p>
<p begin="10:52:54.800" end="10:53:00.720" style="s2">content and the way we add a new column</p>
<p begin="10:52:57.040" end="10:53:03.116" style="s2">is we do op. addore</p>
<p begin="10:53:00.720" end="10:53:04.360" style="s2">column and then we specify the table we</p>
<p begin="10:53:03.116" end="10:53:07.160" style="s2">want to modify so it&#39;s going to be the</p>
<p begin="10:53:04.360" end="10:53:10.116" style="s2">post table and then we do essay. column</p>
<p begin="10:53:07.160" end="10:53:10.116" style="s2">to Define this</p>
<p begin="10:53:11.520" end="10:53:15.436" style="s2">column so what&#39;s the column name it&#39;s</p>
<p begin="10:53:13.720" end="10:53:19.000" style="s2">going to be</p>
<p begin="10:53:15.436" end="10:53:20.960" style="s2">content and it&#39;s going to be a type of</p>
<p begin="10:53:19.000" end="10:53:24.080" style="s2">string and we&#39;re going to make sure that</p>
<p begin="10:53:20.960" end="10:53:27.000" style="s2">it&#39;s nullable is set to</p>
<p begin="10:53:24.080" end="10:53:28.756" style="s2">false all right and remember every time</p>
<p begin="10:53:27.000" end="10:53:30.720" style="s2">you set up the upgrade function you have</p>
<p begin="10:53:28.756" end="10:53:32.720" style="s2">to set up the downgrade function so if</p>
<p begin="10:53:30.720" end="10:53:35.960" style="s2">we add a column what&#39;s how do we undo</p>
<p begin="10:53:32.720" end="10:53:38.960" style="s2">that well we dro the column so it&#39;s just</p>
<p begin="10:53:35.960" end="10:53:41.520" style="s2">op. dropcore</p>
<p begin="10:53:38.960" end="10:53:43.200" style="s2">column and then from the post we have to</p>
<p begin="10:53:41.520" end="10:53:45.160" style="s2">provide the table that we want to drop</p>
<p begin="10:53:43.200" end="10:53:46.680" style="s2">the column from which is the post table</p>
<p begin="10:53:45.160" end="10:53:48.400" style="s2">and then we need to provide the actual</p>
<p begin="10:53:46.680" end="10:53:49.800" style="s2">column we want to drop which is going to</p>
<p begin="10:53:48.400" end="10:53:52.436" style="s2">be</p>
<p begin="10:53:49.800" end="10:53:55.720" style="s2">content so we&#39;ll do</p>
<p begin="10:53:52.436" end="10:53:57.320" style="s2">content okay and so let&#39;s test this out</p>
<p begin="10:53:55.720" end="10:53:59.880" style="s2">uh first of all we&#39;ll run a few new</p>
<p begin="10:53:57.320" end="10:53:59.880" style="s2">commands so</p>
<p begin="10:54:03.040" end="10:54:09.436" style="s2">almic all right and let&#39;s see what the</p>
<p begin="10:54:05.320" end="10:54:11.240" style="s2">current revision is so if I do almic</p>
<p begin="10:54:09.436" end="10:54:13.480" style="s2">current right we could see that we are</p>
<p begin="10:54:11.240" end="10:54:15.276" style="s2">currently on 2D one8 that&#39;s the revision</p>
<p begin="10:54:13.480" end="10:54:17.756" style="s2">so this is the the revision where we</p>
<p begin="10:54:15.276" end="10:54:19.520" style="s2">created the post table</p>
<p begin="10:54:17.756" end="10:54:22.040" style="s2">and if I type in the</p>
<p begin="10:54:19.520" end="10:54:24.080" style="s2">olymic</p>
<p begin="10:54:22.040" end="10:54:28.240" style="s2">heads we can see that the latest</p>
<p begin="10:54:24.080" end="10:54:30.360" style="s2">revision is actually 298 29885 which is</p>
<p begin="10:54:28.240" end="10:54:32.200" style="s2">that new one we just created so if we</p>
<p begin="10:54:30.360" end="10:54:33.720" style="s2">ever want to get to the latest revision</p>
<p begin="10:54:32.200" end="10:54:36.436" style="s2">that&#39;s what&#39;s referred to as the head so</p>
<p begin="10:54:33.720" end="10:54:37.840" style="s2">I can say uh if we want to you know</p>
<p begin="10:54:36.436" end="10:54:40.360" style="s2">upgrade to that revision I can say a</p>
<p begin="10:54:37.840" end="10:54:42.560" style="s2">lmic upgrade like we did before and I</p>
<p begin="10:54:40.360" end="10:54:46.360" style="s2">can grab the revision</p>
<p begin="10:54:42.560" end="10:54:48.800" style="s2">number like this or because it&#39;s also</p>
<p begin="10:54:46.360" end="10:54:50.040" style="s2">happens to be the head I can just say</p>
<p begin="10:54:48.800" end="10:54:52.200" style="s2">olymic</p>
<p begin="10:54:50.040" end="10:54:54.160" style="s2">upgrade head and it&#39;s going to do the</p>
<p begin="10:54:52.200" end="10:54:56.320" style="s2">same thing so let&#39;s try</p>
<p begin="10:54:54.160" end="10:54:58.200" style="s2">this all right it said it added a</p>
<p begin="10:54:56.320" end="10:54:59.000" style="s2">Content column we&#39;ll go and check this</p>
<p begin="10:54:58.200" end="10:55:01.000" style="s2">in</p>
<p begin="10:54:59.000" end="10:55:04.160" style="s2">postgress and I&#39;m just going to refresh</p>
<p begin="10:55:01.000" end="10:55:08.640" style="s2">this table and we&#39;ll go into properties</p>
<p begin="10:55:04.160" end="10:55:11.436" style="s2">and we can see that we added the content</p>
<p begin="10:55:08.640" end="10:55:13.116" style="s2">now let&#39;s say that after working on this</p>
<p begin="10:55:11.436" end="10:55:14.640" style="s2">for a bit we realize we want to undo</p>
<p begin="10:55:13.116" end="10:55:18.116" style="s2">these changes for whatever reason maybe</p>
<p begin="10:55:14.640" end="10:55:20.756" style="s2">we no longer want the content column</p>
<p begin="10:55:18.116" end="10:55:24.040" style="s2">so how do we actually roll</p>
<p begin="10:55:20.756" end="10:55:25.916" style="s2">back well the since upgrading makes the</p>
<p begin="10:55:24.040" end="10:55:28.276" style="s2">changes downgrading is going to do the</p>
<p begin="10:55:25.916" end="10:55:30.040" style="s2">opposite so we can do</p>
<p begin="10:55:28.276" end="10:55:31.800" style="s2">almic</p>
<p begin="10:55:30.040" end="10:55:33.276" style="s2">downgrade and then if you want to just</p>
<p begin="10:55:31.800" end="10:55:35.916" style="s2">roll back this revision we can see what</p>
<p begin="10:55:33.276" end="10:55:39.320" style="s2">the down revision is so we can just say</p>
<p begin="10:55:35.916" end="10:55:41.560" style="s2">this and just paste that in</p>
<p begin="10:55:39.320" end="10:55:46.560" style="s2">there but we can also do a few other</p>
<p begin="10:55:41.560" end="10:55:47.756" style="s2">things we can also say um minus one so</p>
<p begin="10:55:46.560" end="10:55:50.680" style="s2">when I say minus one that means I&#39;m</p>
<p begin="10:55:47.756" end="10:55:52.116" style="s2">going to go back to one revision earlier</p>
<p begin="10:55:50.680" end="10:55:53.596" style="s2">and we can even go as far back as we</p>
<p begin="10:55:52.116" end="10:55:54.880" style="s2">want so if I say I want to go back to</p>
<p begin="10:55:53.596" end="10:55:57.040" style="s2">minus two it&#39;s going to go back to two</p>
<p begin="10:55:54.880" end="10:55:59.080" style="s2">revisions earlier um but we just have</p>
<p begin="10:55:57.040" end="10:56:01.200" style="s2">one so I&#39;m just going to say minus one</p>
<p begin="10:55:59.080" end="10:56:04.116" style="s2">or I can just paste in the revision</p>
<p begin="10:56:01.200" end="10:56:06.240" style="s2">number and so if I run the downgrade you</p>
<p begin="10:56:04.116" end="10:56:11.560" style="s2">can see that it ran this</p>
<p begin="10:56:06.240" end="10:56:11.560" style="s2">downgrade and if I go and refresh</p>
<p begin="10:56:11.880" end="10:56:16.480" style="s2">this and then go to properties columns</p>
<p begin="10:56:15.080" end="10:56:18.200" style="s2">we can see that we no longer have have a</p>
<p begin="10:56:16.480" end="10:56:21.080" style="s2">Content</p>
<p begin="10:56:18.200" end="10:56:23.916" style="s2">column and that&#39;s how easy it is to</p>
<p begin="10:56:21.080" end="10:56:27.040" style="s2">downgrade uh or roll back your database</p>
<p begin="10:56:23.916" end="10:56:30.000" style="s2">using a database migration tool like</p>
<p begin="10:56:27.040" end="10:56:31.640" style="s2">almic okay so we got our post table uh</p>
<p begin="10:56:30.000" end="10:56:33.880" style="s2">we&#39;re not going to worry too much about</p>
<p begin="10:56:31.640" end="10:56:35.520" style="s2">that uh the next part of our application</p>
<p begin="10:56:33.880" end="10:56:37.040" style="s2">was hey let&#39;s Implement user</p>
<p begin="10:56:35.520" end="10:56:39.360" style="s2">functionality let&#39;s make it so that user</p>
<p begin="10:56:37.040" end="10:56:42.240" style="s2">can sign up and log in so now we need to</p>
<p begin="10:56:39.360" end="10:56:43.960" style="s2">create a user table how do we do that</p>
<p begin="10:56:42.240" end="10:56:44.756" style="s2">well let&#39;s set up a new revision we&#39;ll</p>
<p begin="10:56:43.960" end="10:56:46.720" style="s2">do</p>
<p begin="10:56:44.756" end="10:56:49.756" style="s2">almic revision</p>
<p begin="10:56:46.720" end="10:56:53.200" style="s2">- M and I&#39;ll say</p>
<p begin="10:56:49.756" end="10:56:53.200" style="s2">add user</p>
<p begin="10:56:56.040" end="10:57:00.756" style="s2">table all right so we&#39;ve got our brand</p>
<p begin="10:56:58.276" end="10:57:03.320" style="s2">new revision and we have to set up the</p>
<p begin="10:57:00.756" end="10:57:03.320" style="s2">upgrade and the</p>
<p begin="10:57:05.960" end="10:57:09.800" style="s2">downgrade uh now for this I don&#39;t want</p>
<p begin="10:57:07.880" end="10:57:11.596" style="s2">to just type this out you know one by</p>
<p begin="10:57:09.800" end="10:57:13.080" style="s2">one it would be kind of slow and boring</p>
<p begin="10:57:11.596" end="10:57:15.520" style="s2">for you guys so I&#39;ve actually I&#39;m just</p>
<p begin="10:57:13.080" end="10:57:18.360" style="s2">going to copy and paste this uh from my</p>
<p begin="10:57:15.520" end="10:57:21.000" style="s2">notes and if you want to follow along</p>
<p begin="10:57:18.360" end="10:57:22.160" style="s2">just uh you know pause the video and</p>
<p begin="10:57:21.000" end="10:57:24.000" style="s2">just write this out but we&#39;ll just</p>
<p begin="10:57:22.160" end="10:57:25.520" style="s2">quickly you know walk through exactly</p>
<p begin="10:57:24.000" end="10:57:27.080" style="s2">what&#39;s happening so once again we&#39;re</p>
<p begin="10:57:25.520" end="10:57:28.960" style="s2">using the create table method we&#39;re</p>
<p begin="10:57:27.080" end="10:57:30.000" style="s2">going to create a table called users and</p>
<p begin="10:57:28.960" end="10:57:32.276" style="s2">then we&#39;re going to set up all of our</p>
<p begin="10:57:30.000" end="10:57:34.596" style="s2">columns so we&#39;ve got a column called ID</p>
<p begin="10:57:32.276" end="10:57:36.720" style="s2">which is an integer set to nullable</p>
<p begin="10:57:34.596" end="10:57:39.000" style="s2">equals false you notice how I haven&#39;t</p>
<p begin="10:57:36.720" end="10:57:39.916" style="s2">set this to be the primary key here</p>
<p begin="10:57:39.000" end="10:57:41.916" style="s2">that&#39;s because there&#39;s two different</p>
<p begin="10:57:39.916" end="10:57:44.000" style="s2">ways to set the primary key you know if</p>
<p begin="10:57:41.916" end="10:57:46.680" style="s2">we go back to the previous one we set</p>
<p begin="10:57:44.000" end="10:57:48.560" style="s2">this to be primary key equals true but</p>
<p begin="10:57:46.680" end="10:57:50.040" style="s2">on this one if you actually go all the</p>
<p begin="10:57:48.560" end="10:57:52.080" style="s2">way down to the bottom you can see that</p>
<p begin="10:57:50.040" end="10:57:53.840" style="s2">we can add in a constraint sa primary</p>
<p begin="10:57:52.080" end="10:57:54.916" style="s2">key constraint and then we pass the name</p>
<p begin="10:57:53.840" end="10:57:56.560" style="s2">of the column that&#39;s going to be the</p>
<p begin="10:57:54.916" end="10:57:59.756" style="s2">primary key so they both do the same</p>
<p begin="10:57:56.560" end="10:58:02.240" style="s2">thing uh it&#39;s just whatever method you</p>
<p begin="10:57:59.756" end="10:58:03.276" style="s2">prefer uh we&#39;ve got the email column</p>
<p begin="10:58:02.240" end="10:58:05.276" style="s2">which is going to be set to nullable</p>
<p begin="10:58:03.276" end="10:58:07.276" style="s2">equals false same thing with password</p>
<p begin="10:58:05.276" end="10:58:09.596" style="s2">then we&#39;ve got the created at and so</p>
<p begin="10:58:07.276" end="10:58:10.800" style="s2">here it&#39;s going to be a a type timestamp</p>
<p begin="10:58:09.596" end="10:58:12.800" style="s2">and you&#39;ll see that this is all coming</p>
<p begin="10:58:10.800" end="10:58:14.560" style="s2">from SQL Alchemy essentially because if</p>
<p begin="10:58:12.800" end="10:58:17.000" style="s2">we go to our models and we go to our</p>
<p begin="10:58:14.560" end="10:58:19.800" style="s2">user table it&#39;s same thing type</p>
<p begin="10:58:17.000" end="10:58:21.880" style="s2">timestamp time zone equals true nullable</p>
<p begin="10:58:19.800" end="10:58:24.560" style="s2">equals false server default equals text</p>
<p begin="10:58:21.880" end="10:58:26.200" style="s2">well that&#39;s created at but yeah uh and</p>
<p begin="10:58:24.560" end="10:58:28.520" style="s2">we&#39;re just doing the same thing so</p>
<p begin="10:58:26.200" end="10:58:31.720" style="s2">server default and then we grab essay.</p>
<p begin="10:58:28.520" end="10:58:33.840" style="s2">text now nullable equals</p>
<p begin="10:58:31.720" end="10:58:35.596" style="s2">false and then you can see that we added</p>
<p begin="10:58:33.840" end="10:58:37.520" style="s2">a unique constraint under the email</p>
<p begin="10:58:35.596" end="10:58:39.320" style="s2">field to ensure that uh we can&#39;t have</p>
<p begin="10:58:37.520" end="10:58:42.200" style="s2">duplicate</p>
<p begin="10:58:39.320" end="10:58:47.240" style="s2">emails and then to downgrade we just do</p>
<p begin="10:58:42.200" end="10:58:47.240" style="s2">op. dropcore table</p>
<p begin="10:58:50.240" end="10:58:55.000" style="s2">users all right and so once again if you</p>
<p begin="10:58:53.480" end="10:58:57.480" style="s2">want to see where we currently are cuz</p>
<p begin="10:58:55.000" end="10:58:59.840" style="s2">remember we had originally upgraded</p>
<p begin="10:58:57.480" end="10:59:02.560" style="s2">added the content column but then we</p>
<p begin="10:58:59.840" end="10:59:04.840" style="s2">downgraded so where exactly are we uh</p>
<p begin="10:59:02.560" end="10:59:07.880" style="s2">from a revision perspective well let&#39;s</p>
<p begin="10:59:04.840" end="10:59:10.436" style="s2">do a lmic</p>
<p begin="10:59:07.880" end="10:59:13.320" style="s2">current uh you can see that we&#39;re on 218</p>
<p begin="10:59:10.436" end="10:59:16.040" style="s2">so we&#39;re back on that first</p>
<p begin="10:59:13.320" end="10:59:18.320" style="s2">revision and we can also do an almic at</p>
<p begin="10:59:16.040" end="10:59:20.116" style="s2">I believe it&#39;s history and you can see</p>
<p begin="10:59:18.320" end="10:59:22.960" style="s2">the history of our revision so we</p>
<p begin="10:59:20.116" end="10:59:24.436" style="s2">created post add content column to post</p>
<p begin="10:59:22.960" end="10:59:26.116" style="s2">and then add user table and this is the</p>
<p begin="10:59:24.436" end="10:59:27.520" style="s2">head so if you want to go all the way to</p>
<p begin="10:59:26.116" end="10:59:30.960" style="s2">the front to the latest you would just</p>
<p begin="10:59:27.520" end="10:59:30.960" style="s2">do Olympic upgrade</p>
<p begin="10:59:32.800" end="10:59:37.480" style="s2">head and I think there&#39;s one more I want</p>
<p begin="10:59:34.960" end="10:59:39.000" style="s2">to show you yeah that&#39;s okay uh so we&#39;re</p>
<p begin="10:59:37.480" end="10:59:41.200" style="s2">going to do an</p>
<p begin="10:59:39.000" end="10:59:45.400" style="s2">Olympic and uh let&#39;s say that we just</p>
<p begin="10:59:41.200" end="10:59:47.160" style="s2">want to go and um go up one revision so</p>
<p begin="10:59:45.400" end="10:59:51.000" style="s2">adding one rision is going to add that</p>
<p begin="10:59:47.160" end="10:59:54.320" style="s2">column back we can do a lmic upgrade and</p>
<p begin="10:59:51.000" end="10:59:58.160" style="s2">we can either put in the name of this</p>
<p begin="10:59:54.320" end="11:00:00.596" style="s2">revision or we can upgrade one</p>
<p begin="10:59:58.160" end="11:00:02.320" style="s2">level uh if we want to go all the way to</p>
<p begin="11:00:00.596" end="11:00:05.080" style="s2">the latest which is going to be adding</p>
<p begin="11:00:02.320" end="11:00:07.840" style="s2">the user table we can say head we can</p>
<p begin="11:00:05.080" end="11:00:09.960" style="s2">also go up to revisions so if I do plus</p>
<p begin="11:00:07.840" end="11:00:11.200" style="s2">two that&#39;s going to go up uh to add</p>
<p begin="11:00:09.960" end="11:00:12.436" style="s2">content column one that&#39;s the first</p>
<p begin="11:00:11.200" end="11:00:13.720" style="s2">revision and then one more which is</p>
<p begin="11:00:12.436" end="11:00:15.320" style="s2">going to go up to the latest in this</p>
<p begin="11:00:13.720" end="11:00:16.840" style="s2">case so there&#39;s a lot of different ways</p>
<p begin="11:00:15.320" end="11:00:18.320" style="s2">to get there I&#39;m just going to go to the</p>
<p begin="11:00:16.840" end="11:00:19.840" style="s2">latest so this is going to add the</p>
<p begin="11:00:18.320" end="11:00:21.960" style="s2">column back in the post table and then</p>
<p begin="11:00:19.840" end="11:00:24.116" style="s2">add the users</p>
<p begin="11:00:21.960" end="11:00:26.200" style="s2">table and you can see that it went ahead</p>
<p begin="11:00:24.116" end="11:00:27.800" style="s2">and added the users table so if I</p>
<p begin="11:00:26.200" end="11:00:30.320" style="s2">refresh</p>
<p begin="11:00:27.800" end="11:00:31.756" style="s2">this we can now see that we have a users</p>
<p begin="11:00:30.320" end="11:00:34.000" style="s2">table and hopefully all of the</p>
<p begin="11:00:31.756" end="11:00:36.840" style="s2">properties are there uh you can see all</p>
<p begin="11:00:34.000" end="11:00:39.640" style="s2">of these have been set constraints</p>
<p begin="11:00:36.840" end="11:00:41.520" style="s2">primary key is set and anything else</p>
<p begin="11:00:39.640" end="11:00:43.680" style="s2">everything else looks</p>
<p begin="11:00:41.520" end="11:00:45.000" style="s2">good I guess one thing just to check is</p>
<p begin="11:00:43.680" end="11:00:46.680" style="s2">the created at so if we check the</p>
<p begin="11:00:45.000" end="11:00:49.916" style="s2">constraints here you can see that we&#39;re</p>
<p begin="11:00:46.680" end="11:00:52.800" style="s2">going to grab the current time</p>
<p begin="11:00:49.916" end="11:00:54.520" style="s2">Perfect all right so after we had added</p>
<p begin="11:00:52.800" end="11:00:57.840" style="s2">the user functionality the next thing we</p>
<p begin="11:00:54.520" end="11:00:59.720" style="s2">had to do was we had to implement uh the</p>
<p begin="11:00:57.840" end="11:01:01.436" style="s2">relationships between users and post so</p>
<p begin="11:00:59.720" end="11:01:04.400" style="s2">we had to set up that foreign key that</p>
<p begin="11:01:01.436" end="11:01:06.880" style="s2">link the user table to the post table or</p>
<p begin="11:01:04.400" end="11:01:10.800" style="s2">post table to the user table so once</p>
<p begin="11:01:06.880" end="11:01:13.640" style="s2">again uh we&#39;re going to do an olymic</p>
<p begin="11:01:10.800" end="11:01:16.596" style="s2">revision</p>
<p begin="11:01:13.640" end="11:01:18.160" style="s2">dasm and I&#39;m just going to say add</p>
<p begin="11:01:16.596" end="11:01:19.840" style="s2">forign</p>
<p begin="11:01:18.160" end="11:01:23.160" style="s2">key</p>
<p begin="11:01:19.840" end="11:01:23.160" style="s2">to post</p>
<p begin="11:01:24.960" end="11:01:29.276" style="s2">table all right we got our new revision</p>
<p begin="11:01:28.276" end="11:01:31.000" style="s2">and what we&#39;re going to do is we&#39;re</p>
<p begin="11:01:29.276" end="11:01:33.756" style="s2">going to first of all we have to add a</p>
<p begin="11:01:31.000" end="11:01:35.640" style="s2">column to our post table called owner ID</p>
<p begin="11:01:33.756" end="11:01:37.880" style="s2">and that&#39;s going to be the one that has</p>
<p begin="11:01:35.640" end="11:01:40.916" style="s2">the foreign key constraint so we have to</p>
<p begin="11:01:37.880" end="11:01:40.916" style="s2">do op. add</p>
<p begin="11:01:42.240" end="11:01:46.240" style="s2">column and we have to specify the table</p>
<p begin="11:01:45.000" end="11:01:47.960" style="s2">we want to add the column which is going</p>
<p begin="11:01:46.240" end="11:01:50.400" style="s2">to be the post table and this is going</p>
<p begin="11:01:47.960" end="11:01:55.040" style="s2">to be essay.</p>
<p begin="11:01:50.400" end="11:01:59.640" style="s2">column we&#39;re going to call this owner _</p>
<p begin="11:01:55.040" end="11:01:59.640" style="s2">ID and it&#39;s going to be a type of essay</p>
<p begin="11:02:01.560" end="11:02:05.840" style="s2">integer and nullable is going to be set</p>
<p begin="11:02:03.680" end="11:02:05.840" style="s2">to</p>
<p begin="11:02:07.360" end="11:02:10.840" style="s2">false all right so we&#39;ve created the</p>
<p begin="11:02:09.480" end="11:02:12.360" style="s2">column now we have to set the link</p>
<p begin="11:02:10.840" end="11:02:14.320" style="s2">between the two tables uh which is going</p>
<p begin="11:02:12.360" end="11:02:16.080" style="s2">to be the foreign key constraint and so</p>
<p begin="11:02:14.320" end="11:02:18.680" style="s2">to do that this is a little bit</p>
<p begin="11:02:16.080" end="11:02:19.916" style="s2">confusing at first for me um because the</p>
<p begin="11:02:18.680" end="11:02:23.800" style="s2">documentation is a little bit hard to</p>
<p begin="11:02:19.916" end="11:02:25.840" style="s2">read sometimes so you do create foreign</p>
<p begin="11:02:23.800" end="11:02:27.276" style="s2">key then you have to give it you know</p>
<p begin="11:02:25.840" end="11:02:31.116" style="s2">some arbitrary foreign key name I&#39;m</p>
<p begin="11:02:27.276" end="11:02:32.360" style="s2">going to call this postscore users FK so</p>
<p begin="11:02:31.116" end="11:02:34.520" style="s2">this is the foreign key between the post</p>
<p begin="11:02:32.360" end="11:02:36.276" style="s2">and the user table and then we have to</p>
<p begin="11:02:34.520" end="11:02:37.840" style="s2">specify what is the source table of the</p>
<p begin="11:02:36.276" end="11:02:39.916" style="s2">foreign key so this is going to be the</p>
<p begin="11:02:37.840" end="11:02:43.000" style="s2">foreign key for the Post table so we&#39;re</p>
<p begin="11:02:39.916" end="11:02:47.000" style="s2">going to say sourcecore table</p>
<p begin="11:02:43.000" end="11:02:47.000" style="s2">equals post</p>
<p begin="11:02:47.040" end="11:02:52.840" style="s2">uh then we have to reference the U uh</p>
<p begin="11:02:50.756" end="11:02:54.720" style="s2">the remote table which they call a</p>
<p begin="11:02:52.840" end="11:02:56.640" style="s2">referent uncore</p>
<p begin="11:02:54.720" end="11:02:58.960" style="s2">table and so this is going to be the</p>
<p begin="11:02:56.640" end="11:03:00.960" style="s2">users</p>
<p begin="11:02:58.960" end="11:03:02.320" style="s2">table and then we have to specify what</p>
<p begin="11:03:00.960" end="11:03:06.436" style="s2">is the local colum that we&#39;re going to</p>
<p begin="11:03:02.320" end="11:03:06.436" style="s2">be using so the column in the post</p>
<p begin="11:03:08.436" end="11:03:13.080" style="s2">table and that&#39;s going to be owner ID</p>
<p begin="11:03:11.360" end="11:03:14.520" style="s2">which is the table uh the column that we</p>
<p begin="11:03:13.080" end="11:03:17.116" style="s2">just</p>
<p begin="11:03:14.520" end="11:03:21.276" style="s2">created and finally we have to specify</p>
<p begin="11:03:17.116" end="11:03:21.276" style="s2">the remote column in the users</p>
<p begin="11:03:25.116" end="11:03:29.200" style="s2">table and this is going to be set and</p>
<p begin="11:03:27.436" end="11:03:32.640" style="s2">we&#39;re also going to set the on</p>
<p begin="11:03:29.200" end="11:03:32.640" style="s2">delete to be</p>
<p begin="11:03:32.880" end="11:03:37.040" style="s2">Cascade and yeah by the way the remote</p>
<p begin="11:03:35.000" end="11:03:39.360" style="s2">column is going to be the ID field of</p>
<p begin="11:03:37.040" end="11:03:41.520" style="s2">the user table and yeah we want to make</p>
<p begin="11:03:39.360" end="11:03:44.596" style="s2">sure we have the on delete as</p>
<p begin="11:03:41.520" end="11:03:46.116" style="s2">well and that pretty much o what</p>
<p begin="11:03:44.596" end="11:03:48.276" style="s2">happened there it&#39;s a we weird way to</p>
<p begin="11:03:46.116" end="11:03:50.480" style="s2">format</p>
<p begin="11:03:48.276" end="11:03:51.596" style="s2">things all right well it wants to format</p>
<p begin="11:03:50.480" end="11:03:52.800" style="s2">it that way so I&#39;m just going to leave</p>
<p begin="11:03:51.596" end="11:03:54.960" style="s2">it like</p>
<p begin="11:03:52.800" end="11:03:56.756" style="s2">that let&#39;s set up the downgrade now so</p>
<p begin="11:03:54.960" end="11:04:01.916" style="s2">we have to undo those</p>
<p begin="11:03:56.756" end="11:04:01.916" style="s2">changes we&#39;ll do op. dropcore</p>
<p begin="11:04:02.040" end="11:04:05.520" style="s2">constraint and then we just mentioned</p>
<p begin="11:04:03.960" end="11:04:07.880" style="s2">the name of the constraint which is post</p>
<p begin="11:04:05.520" end="11:04:07.880" style="s2">users</p>
<p begin="11:04:08.756" end="11:04:13.040" style="s2">FK we have to specify the table that</p>
<p begin="11:04:11.320" end="11:04:17.640" style="s2">we&#39;re removing it from so it&#39;s on the</p>
<p begin="11:04:13.040" end="11:04:17.640" style="s2">post table so we do table name equals</p>
<p begin="11:04:18.436" end="11:04:23.960" style="s2">post and then we have to drop the column</p>
<p begin="11:04:20.640" end="11:04:26.240" style="s2">so we do op. dropcore</p>
<p begin="11:04:23.960" end="11:04:28.880" style="s2">column and where does this column sit</p>
<p begin="11:04:26.240" end="11:04:31.800" style="s2">it&#39;s in the post table and it&#39;s called</p>
<p begin="11:04:28.880" end="11:04:37.916" style="s2">owner</p>
<p begin="11:04:31.800" end="11:04:40.000" style="s2">ID all right and so if I do an almic</p>
<p begin="11:04:37.916" end="11:04:42.800" style="s2">current we&#39;re on</p>
<p begin="11:04:40.000" end="11:04:45.320" style="s2">f52 and almic heads let&#39;s see what the</p>
<p begin="11:04:42.800" end="11:04:46.240" style="s2">latest one is it should be 296 which is</p>
<p begin="11:04:45.320" end="11:04:51.040" style="s2">this one</p>
<p begin="11:04:46.240" end="11:04:53.276" style="s2">so let&#39;s do an Olympic upgrade head go</p>
<p begin="11:04:51.040" end="11:04:53.276" style="s2">to the</p>
<p begin="11:04:55.200" end="11:04:59.756" style="s2">latest and I have a typo so this should</p>
<p begin="11:04:57.596" end="11:04:59.756" style="s2">be</p>
<p begin="11:05:00.720" end="11:05:04.360" style="s2">integer all right looks like it ran with</p>
<p begin="11:05:02.800" end="11:05:06.480" style="s2">no issues let&#39;s double check that the</p>
<p begin="11:05:04.360" end="11:05:07.436" style="s2">foreign key is there now if we go to</p>
<p begin="11:05:06.480" end="11:05:11.116" style="s2">Post</p>
<p begin="11:05:07.436" end="11:05:13.400" style="s2">Properties constraints forn key you can</p>
<p begin="11:05:11.116" end="11:05:15.360" style="s2">see that we have our post user FK and we</p>
<p begin="11:05:13.400" end="11:05:18.756" style="s2">can see that it points uh from owner ID</p>
<p begin="11:05:15.360" end="11:05:20.320" style="s2">and the post table to ID in the users</p>
<p begin="11:05:18.756" end="11:05:22.040" style="s2">table and if you want to you can go</p>
<p begin="11:05:20.320" end="11:05:24.000" style="s2">under actions and see that Cascade has</p>
<p begin="11:05:22.040" end="11:05:26.360" style="s2">been set to on</p>
<p begin="11:05:24.000" end="11:05:28.400" style="s2">delete now in our post table at the</p>
<p begin="11:05:26.360" end="11:05:29.756" style="s2">moment uh you know we didn&#39;t Implement</p>
<p begin="11:05:28.400" end="11:05:32.436" style="s2">all of the columns that we actually have</p>
<p begin="11:05:29.756" end="11:05:34.480" style="s2">in our application so I figured H why</p>
<p begin="11:05:32.436" end="11:05:36.480" style="s2">not just go in and add it might as</p>
<p begin="11:05:34.480" end="11:05:39.480" style="s2">well so I&#39;m going to create a new</p>
<p begin="11:05:36.480" end="11:05:39.480" style="s2">revision</p>
<p begin="11:05:50.596" end="11:05:53.640" style="s2">all right and then we go to that</p>
<p begin="11:05:51.640" end="11:05:56.320" style="s2">revision uh there&#39;s really only two more</p>
<p begin="11:05:53.640" end="11:05:57.596" style="s2">columns that we have to add and this is</p>
<p begin="11:05:56.320" end="11:05:59.040" style="s2">I&#39;m once again going to just copy and</p>
<p begin="11:05:57.596" end="11:06:01.640" style="s2">paste from my notes just because I don&#39;t</p>
<p begin="11:05:59.040" end="11:06:02.640" style="s2">want to waste your guys time too much</p>
<p begin="11:06:01.640" end="11:06:04.880" style="s2">but you can see here we&#39;re going to do</p>
<p begin="11:06:02.640" end="11:06:07.320" style="s2">an add column and we&#39;re going to add it</p>
<p begin="11:06:04.880" end="11:06:08.480" style="s2">from our add it to our post table and</p>
<p begin="11:06:07.320" end="11:06:09.680" style="s2">then here we&#39;re going to specify the</p>
<p begin="11:06:08.480" end="11:06:11.200" style="s2">parameters of the column so this is</p>
<p begin="11:06:09.680" end="11:06:14.880" style="s2">going to be called publish it&#39;s going to</p>
<p begin="11:06:11.200" end="11:06:17.960" style="s2">be of type Boolean and um nullable</p>
<p begin="11:06:14.880" end="11:06:20.480" style="s2">equals false and that&#39;s not correct it</p>
<p begin="11:06:17.960" end="11:06:23.560" style="s2">should actually be nullable equals</p>
<p begin="11:06:20.480" end="11:06:25.000" style="s2">true right it should be actually no it</p>
<p begin="11:06:23.560" end="11:06:27.640" style="s2">was</p>
<p begin="11:06:25.000" end="11:06:29.756" style="s2">false and then server default is set to</p>
<p begin="11:06:27.640" end="11:06:32.320" style="s2">be um true so if we don&#39;t provide it</p>
<p begin="11:06:29.756" end="11:06:34.800" style="s2">it&#39;s going to assume it&#39;s true and then</p>
<p begin="11:06:32.320" end="11:06:36.756" style="s2">the next one is the um column for</p>
<p begin="11:06:34.800" end="11:06:37.756" style="s2">created at so once again at the post</p>
<p begin="11:06:36.756" end="11:06:39.596" style="s2">table we&#39;re going to create a column</p>
<p begin="11:06:37.756" end="11:06:41.720" style="s2">called created at it&#39;s going to be a</p>
<p begin="11:06:39.596" end="11:06:43.000" style="s2">type timestamp nullable false and then</p>
<p begin="11:06:41.720" end="11:06:46.480" style="s2">the default means we&#39;re going to grab</p>
<p begin="11:06:43.000" end="11:06:46.480" style="s2">the current time</p>
<p begin="11:06:47.560" end="11:06:51.080" style="s2">and to downgrade we&#39;re going to delete</p>
<p begin="11:06:48.880" end="11:06:51.080" style="s2">those</p>
<p begin="11:07:13.160" end="11:07:17.436" style="s2">columns all right and let&#39;s do a</p>
<p begin="11:07:18.240" end="11:07:22.436" style="s2">almic upgrade and we&#39;ll just go instead</p>
<p begin="11:07:21.080" end="11:07:24.040" style="s2">of doing head we can just do plus one</p>
<p begin="11:07:22.436" end="11:07:26.200" style="s2">just to show you guys how it&#39;s going to</p>
<p begin="11:07:24.040" end="11:07:28.160" style="s2">do the same thing in this case and so it</p>
<p begin="11:07:26.200" end="11:07:29.916" style="s2">looks like it ran that and if we go back</p>
<p begin="11:07:28.160" end="11:07:31.960" style="s2">to</p>
<p begin="11:07:29.916" end="11:07:34.720" style="s2">postgress refresh</p>
<p begin="11:07:31.960" end="11:07:37.840" style="s2">this and then go to properties we should</p>
<p begin="11:07:34.720" end="11:07:39.080" style="s2">see we&#39;ve now got our published and our</p>
<p begin="11:07:37.840" end="11:07:41.080" style="s2">created at</p>
<p begin="11:07:39.080" end="11:07:43.560" style="s2">columns all right and once again let&#39;s</p>
<p begin="11:07:41.080" end="11:07:45.160" style="s2">say that maybe we want to roll back</p>
<p begin="11:07:43.560" end="11:07:48.520" style="s2">right maybe we want to roll back all the</p>
<p begin="11:07:45.160" end="11:07:50.880" style="s2">way to uh back when we just created the</p>
<p begin="11:07:48.520" end="11:07:52.276" style="s2">post table you know we can once again do</p>
<p begin="11:07:50.880" end="11:07:54.960" style="s2">a</p>
<p begin="11:07:52.276" end="11:07:56.680" style="s2">lmic downgrade and just provide the</p>
<p begin="11:07:54.960" end="11:07:58.680" style="s2">revision number of the specific revision</p>
<p begin="11:07:56.680" end="11:08:01.080" style="s2">you want to go to so we can go down to</p>
<p begin="11:07:58.680" end="11:08:03.720" style="s2">add user table we can go down to create</p>
<p begin="11:08:01.080" end="11:08:04.596" style="s2">post table we can go down to any section</p>
<p begin="11:08:03.720" end="11:08:07.720" style="s2">we</p>
<p begin="11:08:04.596" end="11:08:09.000" style="s2">want and it&#39;s really up to you and so</p>
<p begin="11:08:07.720" end="11:08:12.200" style="s2">let&#39;s say this time let&#39;s just go all</p>
<p begin="11:08:09.000" end="11:08:16.916" style="s2">the way down to uh let&#39;s go down to add</p>
<p begin="11:08:12.200" end="11:08:16.916" style="s2">user table so whatever revision this is</p>
<p begin="11:08:17.916" end="11:08:22.640" style="s2">we can do</p>
<p begin="11:08:20.040" end="11:08:24.596" style="s2">that all right and so it deleted a whole</p>
<p begin="11:08:22.640" end="11:08:26.436" style="s2">bunch of stuff uh looks like it deleted</p>
<p begin="11:08:24.596" end="11:08:28.000" style="s2">the last few columns that we just added</p>
<p begin="11:08:26.436" end="11:08:31.116" style="s2">as well as the foreign key constraint</p>
<p begin="11:08:28.000" end="11:08:34.756" style="s2">and so now if we refresh these tables</p>
<p begin="11:08:31.116" end="11:08:38.916" style="s2">you can see that posts uh it doesn&#39;t</p>
<p begin="11:08:34.756" end="11:08:43.116" style="s2">have the extra columns we added and the</p>
<p begin="11:08:38.916" end="11:08:46.756" style="s2">constraints born key no longer</p>
<p begin="11:08:43.116" end="11:08:48.520" style="s2">exist but fortunately we can upgrade to</p>
<p begin="11:08:46.756" end="11:08:52.800" style="s2">a newer version uh to one of the more</p>
<p begin="11:08:48.520" end="11:08:52.800" style="s2">recent versions so I can do a lmic</p>
<p begin="11:08:54.080" end="11:08:59.480" style="s2">upgrade plus one so if I do this it&#39;s</p>
<p begin="11:08:57.520" end="11:09:01.800" style="s2">going to go up one newer revision so</p>
<p begin="11:08:59.480" end="11:09:03.040" style="s2">right now we&#39;re at the uh add user table</p>
<p begin="11:09:01.800" end="11:09:04.200" style="s2">and if you forget wherever you are you</p>
<p begin="11:09:03.040" end="11:09:06.596" style="s2">could just do</p>
<p begin="11:09:04.200" end="11:09:09.840" style="s2">almic</p>
<p begin="11:09:06.596" end="11:09:13.596" style="s2">current all right so we&#39;re on uh 32</p>
<p begin="11:09:09.840" end="11:09:13.596" style="s2">f52 and so if I do an</p>
<p begin="11:09:13.916" end="11:09:18.720" style="s2">upgrade right</p>
<p begin="11:09:15.916" end="11:09:19.960" style="s2">we&#39;re going to go up to uh I think it&#39;s</p>
<p begin="11:09:18.720" end="11:09:22.840" style="s2">this</p>
<p begin="11:09:19.960" end="11:09:24.880" style="s2">one because you can see that in this one</p>
<p begin="11:09:22.840" end="11:09:27.480" style="s2">uh this revision is 296 but the previous</p>
<p begin="11:09:24.880" end="11:09:31.000" style="s2">revision is 252 which is the one we&#39;re</p>
<p begin="11:09:27.480" end="11:09:34.080" style="s2">currently on so I can do AIC</p>
<p begin="11:09:31.000" end="11:09:36.200" style="s2">upgrade plus</p>
<p begin="11:09:34.080" end="11:09:40.320" style="s2">one all right and so now we&#39;ve added the</p>
<p begin="11:09:36.200" end="11:09:43.640" style="s2">foreign key if I do almic current we can</p>
<p begin="11:09:40.320" end="11:09:46.040" style="s2">see that we&#39;re on 296 and then if I just</p>
<p begin="11:09:43.640" end="11:09:47.880" style="s2">do a lmic upgrade</p>
<p begin="11:09:46.040" end="11:09:49.200" style="s2">well almic heads it&#39;s going to show us</p>
<p begin="11:09:47.880" end="11:09:50.480" style="s2">whichever one&#39;s the latest one which is</p>
<p begin="11:09:49.200" end="11:09:55.000" style="s2">5</p>
<p begin="11:09:50.480" end="11:09:58.436" style="s2">B7 so we can just upgrade directly to</p>
<p begin="11:09:55.000" end="11:09:58.436" style="s2">that by doing</p>
<p begin="11:09:59.360" end="11:10:06.596" style="s2">head the last thing that we have to do</p>
<p begin="11:10:03.400" end="11:10:08.720" style="s2">now is generate the votes table but I&#39;m</p>
<p begin="11:10:06.596" end="11:10:10.720" style="s2">not going to manually create it myself</p>
<p begin="11:10:08.720" end="11:10:13.320" style="s2">this time instead I&#39;m going to make use</p>
<p begin="11:10:10.720" end="11:10:15.480" style="s2">of the autogenerate feature so this is</p>
<p begin="11:10:13.320" end="11:10:17.880" style="s2">what I was talking about earlier how we</p>
<p begin="11:10:15.480" end="11:10:20.720" style="s2">can use Olympic to be intelligent enough</p>
<p begin="11:10:17.880" end="11:10:22.520" style="s2">to figure out what exactly is missing</p>
<p begin="11:10:20.720" end="11:10:24.560" style="s2">from our postgress database and figure</p>
<p begin="11:10:22.520" end="11:10:25.840" style="s2">out what needs to be created and the way</p>
<p begin="11:10:24.560" end="11:10:28.200" style="s2">it actually does that is it takes a look</p>
<p begin="11:10:25.840" end="11:10:30.040" style="s2">at all at all of our models so it&#39;s</p>
<p begin="11:10:28.200" end="11:10:32.200" style="s2">going to import all of our SQL Alchemy</p>
<p begin="11:10:30.040" end="11:10:33.360" style="s2">models and based off of The Columns that</p>
<p begin="11:10:32.200" end="11:10:35.480" style="s2">we have set here it&#39;s going to figure</p>
<p begin="11:10:33.360" end="11:10:37.320" style="s2">out what our postest database is uh is</p>
<p begin="11:10:35.480" end="11:10:40.320" style="s2">supposed to look like and regardless of</p>
<p begin="11:10:37.320" end="11:10:42.436" style="s2">what the our database is in its current</p>
<p begin="11:10:40.320" end="11:10:43.916" style="s2">state we don&#39;t need to actually delete</p>
<p begin="11:10:42.436" end="11:10:45.800" style="s2">everything and build it from scratch</p>
<p begin="11:10:43.916" end="11:10:48.360" style="s2">instead a limpic is going to be</p>
<p begin="11:10:45.800" end="11:10:49.960" style="s2">intelligent enough to figure out what</p>
<p begin="11:10:48.360" end="11:10:52.040" style="s2">columns are missing what tables are</p>
<p begin="11:10:49.960" end="11:10:53.116" style="s2">missing uh what extra columns do we</p>
<p begin="11:10:52.040" end="11:10:54.080" style="s2">currently have that we may need to</p>
<p begin="11:10:53.116" end="11:10:56.116" style="s2">remove and it&#39;s going to figure out</p>
<p begin="11:10:54.080" end="11:10:58.080" style="s2">what&#39;s the different between SQL Alchemy</p>
<p begin="11:10:56.116" end="11:11:00.080" style="s2">models and our post database and it&#39;s</p>
<p begin="11:10:58.080" end="11:11:02.916" style="s2">going to make the necessary changes for</p>
<p begin="11:11:00.080" end="11:11:05.000" style="s2">us and so the way to do that and first</p>
<p begin="11:11:02.916" end="11:11:06.436" style="s2">of all I guess just to kind of reiterate</p>
<p begin="11:11:05.000" end="11:11:07.360" style="s2">uh the reason we can do that is because</p>
<p begin="11:11:06.436" end="11:11:10.400" style="s2">we</p>
<p begin="11:11:07.360" end="11:11:13.200" style="s2">imported the models and then we passed</p>
<p begin="11:11:10.400" end="11:11:16.360" style="s2">it into this target metadata so let&#39;s</p>
<p begin="11:11:13.200" end="11:11:18.596" style="s2">run almic and we&#39;ll do revision</p>
<p begin="11:11:16.360" end="11:11:19.960" style="s2">but if we do d-el you&#39;ll see that we&#39;re</p>
<p begin="11:11:18.596" end="11:11:22.560" style="s2">going to use one of the flags that we</p>
<p begin="11:11:19.960" end="11:11:25.800" style="s2">have never used before which is the D-</p>
<p begin="11:11:22.560" end="11:11:28.560" style="s2">autogenerate so we&#39;ll do D-</p>
<p begin="11:11:25.800" end="11:11:32.200" style="s2">autogenerate and then we will run send a</p>
<p begin="11:11:28.560" end="11:11:32.960" style="s2">message once again we&#39;ll say add votes</p>
<p begin="11:11:32.200" end="11:11:34.916" style="s2">how</p>
<p begin="11:11:32.960" end="11:11:38.400" style="s2">about autov</p>
<p begin="11:11:34.916" end="11:11:40.320" style="s2">vote maybe because it&#39;s autogenerated</p>
<p begin="11:11:38.400" end="11:11:41.520" style="s2">and I know it&#39;s going to add the votes</p>
<p begin="11:11:40.320" end="11:11:43.276" style="s2">table because that should be the only</p>
<p begin="11:11:41.520" end="11:11:46.276" style="s2">difference that we have so we&#39;ll run</p>
<p begin="11:11:43.276" end="11:11:46.276" style="s2">that</p>
<p begin="11:11:47.040" end="11:11:51.436" style="s2">and so if I go to autov vote let&#39;s take</p>
<p begin="11:11:49.640" end="11:11:54.400" style="s2">a look at the changes it&#39;s going to</p>
<p begin="11:11:51.436" end="11:11:55.520" style="s2">make and so you can see here the changes</p>
<p begin="11:11:54.400" end="11:11:57.276" style="s2">were it looks like it&#39;s going to create</p>
<p begin="11:11:55.520" end="11:11:59.116" style="s2">the votes table like I had predicted</p>
<p begin="11:11:57.276" end="11:12:00.680" style="s2">it&#39;s creating the two columns and then</p>
<p begin="11:11:59.116" end="11:12:02.360" style="s2">it&#39;s going to add the primary key</p>
<p begin="11:12:00.680" end="11:12:04.436" style="s2">constraint as well as the two foreign</p>
<p begin="11:12:02.360" end="11:12:06.040" style="s2">Keys as well and it&#39;s going to even add</p>
<p begin="11:12:04.436" end="11:12:07.000" style="s2">in all of the on delete properties and</p>
<p begin="11:12:06.040" end="11:12:09.800" style="s2">things like</p>
<p begin="11:12:07.000" end="11:12:15.436" style="s2">that all right and so all we got to do</p>
<p begin="11:12:09.800" end="11:12:15.436" style="s2">now is do an almic upgrade head</p>
<p begin="11:12:16.040" end="11:12:23.116" style="s2">and now if I refresh this and go to</p>
<p begin="11:12:19.880" end="11:12:23.116" style="s2">votes and</p>
<p begin="11:12:23.480" end="11:12:27.360" style="s2">properties right we should have the two</p>
<p begin="11:12:25.480" end="11:12:30.720" style="s2">columns and then our constraints and</p>
<p begin="11:12:27.360" end="11:12:31.880" style="s2">foreign keys look pretty good everything</p>
<p begin="11:12:30.720" end="11:12:34.520" style="s2">looks</p>
<p begin="11:12:31.880" end="11:12:36.520" style="s2">set and so that&#39;s how easy it was so no</p>
<p begin="11:12:34.520" end="11:12:38.436" style="s2">matter what state your database is at</p>
<p begin="11:12:36.520" end="11:12:40.880" style="s2">any point in time you can all you can</p>
<p begin="11:12:38.436" end="11:12:43.240" style="s2">always do the autogenerate functionality</p>
<p begin="11:12:40.880" end="11:12:46.080" style="s2">to get it back to a state that your code</p>
<p begin="11:12:43.240" end="11:12:48.960" style="s2">expects it to be and the best part about</p>
<p begin="11:12:46.080" end="11:12:51.080" style="s2">this is moving forward let&#39;s say I want</p>
<p begin="11:12:48.960" end="11:12:52.520" style="s2">to go back to my models and I want to</p>
<p begin="11:12:51.080" end="11:12:55.276" style="s2">change</p>
<p begin="11:12:52.520" end="11:12:58.080" style="s2">something so I&#39;ve got my user model this</p>
<p begin="11:12:55.276" end="11:13:01.080" style="s2">time I&#39;m going to add that phone</p>
<p begin="11:12:58.080" end="11:13:01.080" style="s2">number</p>
<p begin="11:13:01.480" end="11:13:07.720" style="s2">column and this is going to be</p>
<p begin="11:13:05.276" end="11:13:10.400" style="s2">string all right so any changes we make</p>
<p begin="11:13:07.720" end="11:13:12.116" style="s2">even on a table that already exists what</p>
<p begin="11:13:10.400" end="11:13:16.480" style="s2">we can do now</p>
<p begin="11:13:12.116" end="11:13:20.276" style="s2">is I can do a revision autogenerate</p>
<p begin="11:13:16.480" end="11:13:20.276" style="s2">now here I can just call it add phone</p>
<p begin="11:13:20.400" end="11:13:26.400" style="s2">number all right and then if we go take</p>
<p begin="11:13:22.800" end="11:13:28.840" style="s2">a look at that we can see that hey look</p>
<p begin="11:13:26.400" end="11:13:30.800" style="s2">we added our phone number column and so</p>
<p begin="11:13:28.840" end="11:13:32.916" style="s2">the only thing else we have to do is do</p>
<p begin="11:13:30.800" end="11:13:34.520" style="s2">an alic upgrade head and it&#39;s going to</p>
<p begin="11:13:32.916" end="11:13:36.880" style="s2">push out those</p>
<p begin="11:13:34.520" end="11:13:38.276" style="s2">changes so let&#39;s refresh this and let&#39;s</p>
<p begin="11:13:36.880" end="11:13:41.640" style="s2">just double</p>
<p begin="11:13:38.276" end="11:13:45.116" style="s2">check we go to users now properties we</p>
<p begin="11:13:41.640" end="11:13:46.560" style="s2">can see phone number column is now set</p>
<p begin="11:13:45.116" end="11:13:48.480" style="s2">and I think that&#39;s pretty much going to</p>
<p begin="11:13:46.560" end="11:13:49.916" style="s2">wrap up everything I wanted to cover</p>
<p begin="11:13:48.480" end="11:13:52.436" style="s2">from</p>
<p begin="11:13:49.916" end="11:13:54.756" style="s2">almic so moving forward now that we have</p>
<p begin="11:13:52.436" end="11:13:57.116" style="s2">almic we no longer actually need this</p>
<p begin="11:13:54.756" end="11:13:59.640" style="s2">command in our main.py file this is the</p>
<p begin="11:13:57.116" end="11:14:01.360" style="s2">command that told SQL Alchemy to run the</p>
<p begin="11:13:59.640" end="11:14:03.240" style="s2">create statement so that it generated</p>
<p begin="11:14:01.360" end="11:14:06.160" style="s2">all of the tables when it first started</p>
<p begin="11:14:03.240" end="11:14:08.320" style="s2">up but since we have a lmic now you no</p>
<p begin="11:14:06.160" end="11:14:09.680" style="s2">longer need the this command however if</p>
<p begin="11:14:08.320" end="11:14:11.080" style="s2">you want to keep it in it&#39;s not really</p>
<p begin="11:14:09.680" end="11:14:13.200" style="s2">going to break anything it just depends</p>
<p begin="11:14:11.080" end="11:14:15.320" style="s2">on how you want things to work because</p>
<p begin="11:14:13.200" end="11:14:17.400" style="s2">if it does create the tables for you</p>
<p begin="11:14:15.320" end="11:14:19.680" style="s2">then your first Olympic migration isn&#39;t</p>
<p begin="11:14:17.400" end="11:14:21.520" style="s2">going to have to do anything because uh</p>
<p begin="11:14:19.680" end="11:14:23.360" style="s2">everything is already there but I&#39;m</p>
<p begin="11:14:21.520" end="11:14:25.640" style="s2">going to leave this commented out moving</p>
<p begin="11:14:23.360" end="11:14:27.240" style="s2">forward because I don&#39;t really need it</p>
<p begin="11:14:25.640" end="11:14:29.840" style="s2">and it&#39;s really up to you guys for what</p>
<p begin="11:14:27.240" end="11:14:30.840" style="s2">you guys want to do for the most part</p>
<p begin="11:14:29.840" end="11:14:33.200" style="s2">throughout this course we&#39;ve been</p>
<p begin="11:14:30.840" end="11:14:35.360" style="s2">testing our API by sending request from</p>
<p begin="11:14:33.200" end="11:14:36.756" style="s2">Postman and postman&#39;s a great tool but</p>
<p begin="11:14:35.360" end="11:14:38.040" style="s2">there&#39;s one thing to note and that is</p>
<p begin="11:14:36.756" end="11:14:39.720" style="s2">that when you send a request from</p>
<p begin="11:14:38.040" end="11:14:41.480" style="s2">Postman you&#39;re actually sending a</p>
<p begin="11:14:39.720" end="11:14:43.640" style="s2">request from your own computer and it&#39;s</p>
<p begin="11:14:41.480" end="11:14:45.360" style="s2">important to understand this because uh</p>
<p begin="11:14:43.640" end="11:14:47.480" style="s2">you your API can get request from</p>
<p begin="11:14:45.360" end="11:14:49.880" style="s2">different types of devices you can get a</p>
<p begin="11:14:47.480" end="11:14:51.360" style="s2">request from a computer or a server uh</p>
<p begin="11:14:49.880" end="11:14:53.160" style="s2">whether that&#39;s through Postman or even</p>
<p begin="11:14:51.360" end="11:14:54.116" style="s2">through curl if you&#39;ve ever used curl</p>
<p begin="11:14:53.160" end="11:14:55.320" style="s2">it&#39;s essentially doing the same thing</p>
<p begin="11:14:54.116" end="11:14:57.160" style="s2">that postman&#39;s doing it just doesn&#39;t</p>
<p begin="11:14:55.320" end="11:14:58.916" style="s2">have a nice little gooey you can also</p>
<p begin="11:14:57.160" end="11:15:00.436" style="s2">get requests from mobile devices but</p>
<p begin="11:14:58.916" end="11:15:02.720" style="s2">more importantly you can get requests</p>
<p begin="11:15:00.436" end="11:15:03.960" style="s2">from a web browser so when a web browser</p>
<p begin="11:15:02.720" end="11:15:05.960" style="s2">sends a request you know using</p>
<p begin="11:15:03.960" end="11:15:07.596" style="s2">javascript&#39;s fetch API there&#39;s going to</p>
<p begin="11:15:05.960" end="11:15:09.756" style="s2">be a slightly different behavior that we</p>
<p begin="11:15:07.596" end="11:15:11.320" style="s2">have to account for which we can&#39;t take</p>
<p begin="11:15:09.756" end="11:15:13.200" style="s2">into consideration when sending requests</p>
<p begin="11:15:11.320" end="11:15:14.756" style="s2">with Postman because Postman isn&#39;t a web</p>
<p begin="11:15:13.200" end="11:15:16.080" style="s2">browser so what I&#39;m going to do is I&#39;m</p>
<p begin="11:15:14.756" end="11:15:18.080" style="s2">going to show you exactly what happens</p>
<p begin="11:15:16.080" end="11:15:19.880" style="s2">when we send a request from a web</p>
<p begin="11:15:18.080" end="11:15:22.720" style="s2">browser instead of our own computer</p>
<p begin="11:15:19.880" end="11:15:24.840" style="s2">using Postman so what I want you guys to</p>
<p begin="11:15:22.720" end="11:15:26.640" style="s2">do is open up your web browser and</p>
<p begin="11:15:24.840" end="11:15:28.756" style="s2">specifically go to google.com it&#39;s</p>
<p begin="11:15:26.640" end="11:15:30.240" style="s2">important that you go to google.com or</p>
<p begin="11:15:28.756" end="11:15:32.320" style="s2">technically this is going to work on any</p>
<p begin="11:15:30.240" end="11:15:34.320" style="s2">website but I need you to actually go to</p>
<p begin="11:15:32.320" end="11:15:36.276" style="s2">a specific website like</p>
<p begin="11:15:34.320" end="11:15:37.680" style="s2">google.com and then I want you to right</p>
<p begin="11:15:36.276" end="11:15:39.596" style="s2">click on the web browser and just hit</p>
<p begin="11:15:37.680" end="11:15:41.320" style="s2">inspect so this is going to open up the</p>
<p begin="11:15:39.596" end="11:15:42.756" style="s2">Chrome developer tools and if you are</p>
<p begin="11:15:41.320" end="11:15:45.436" style="s2">too familiar with it don&#39;t worry it&#39;s</p>
<p begin="11:15:42.756" end="11:15:47.520" style="s2">just a uh it&#39;s a built-in tool to that</p>
<p begin="11:15:45.436" end="11:15:49.916" style="s2">we have in in Chrome or any web browser</p>
<p begin="11:15:47.520" end="11:15:51.840" style="s2">that allows you to um make it makes it</p>
<p begin="11:15:49.916" end="11:15:53.596" style="s2">easier as a web developer to kind of</p>
<p begin="11:15:51.840" end="11:15:56.240" style="s2">troubleshoot things um but what we can</p>
<p begin="11:15:53.596" end="11:16:00.080" style="s2">do is if you go to console we can</p>
<p begin="11:15:56.240" end="11:16:02.400" style="s2">actually send an API request to our API</p>
<p begin="11:16:00.080" end="11:16:05.640" style="s2">from google.com or from our web browser</p>
<p begin="11:16:02.400" end="11:16:07.640" style="s2">which is on the google.com domain at the</p>
<p begin="11:16:05.640" end="11:16:09.240" style="s2">moment and so I want you to just type</p>
<p begin="11:16:07.640" end="11:16:11.520" style="s2">this in we&#39;re going to say fetch so this</p>
<p begin="11:16:09.240" end="11:16:14.360" style="s2">is how you perform an API request uh</p>
<p begin="11:16:11.520" end="11:16:17.320" style="s2">from the web browser level and we&#39;re</p>
<p begin="11:16:14.360" end="11:16:18.800" style="s2">going to send a request to our fast API</p>
<p begin="11:16:17.320" end="11:16:24.520" style="s2">so that&#39;s going to be hosted on</p>
<p begin="11:16:18.800" end="11:16:24.520" style="s2">HTTP col localhost col</p>
<p begin="11:16:25.276" end="11:16:30.240" style="s2">8000 and then just type in then so don&#39;t</p>
<p begin="11:16:28.480" end="11:16:31.720" style="s2">worry too much about this but it it</p>
<p begin="11:16:30.240" end="11:16:34.800" style="s2">technically returns a promise so we have</p>
<p begin="11:16:31.720" end="11:16:38.360" style="s2">to resolve the promise we just say</p>
<p begin="11:16:34.800" end="11:16:38.360" style="s2">re res.</p>
<p begin="11:16:41.916" end="11:16:46.840" style="s2">Json and then do another then and just</p>
<p begin="11:16:44.436" end="11:16:46.840" style="s2">say</p>
<p begin="11:16:47.756" end="11:16:51.880" style="s2">console.log and I forgot one bracket</p>
<p begin="11:16:50.080" end="11:16:53.840" style="s2">right here and so all this is doing is</p>
<p begin="11:16:51.880" end="11:16:55.640" style="s2">it&#39;s sending a request to the root URL</p>
<p begin="11:16:53.840" end="11:16:57.320" style="s2">of our API and then it&#39;s going to print</p>
<p begin="11:16:55.640" end="11:17:00.240" style="s2">out the contents of whatever we get back</p>
<p begin="11:16:57.320" end="11:17:01.800" style="s2">from the server so when I run this I</p>
<p begin="11:17:00.240" end="11:17:04.840" style="s2">want you to notice something we get an</p>
<p begin="11:17:01.800" end="11:17:07.080" style="s2">error it says access to fetch Local Host</p>
<p begin="11:17:04.840" end="11:17:09.800" style="s2">colon 8000 from origin and then it has</p>
<p begin="11:17:07.080" end="11:17:12.240" style="s2">google.com here has been blocked by Kors</p>
<p begin="11:17:09.800" end="11:17:14.560" style="s2">policy so what is happening here why is</p>
<p begin="11:17:12.240" end="11:17:17.160" style="s2">it that I can&#39;t send a request from the</p>
<p begin="11:17:14.560" end="11:17:20.680" style="s2">web browser but if I go to postman and I</p>
<p begin="11:17:17.160" end="11:17:20.680" style="s2">just create a quick new</p>
<p begin="11:17:21.000" end="11:17:25.040" style="s2">request and we can just go straight to</p>
<p begin="11:17:25.680" end="11:17:31.840" style="s2">URL it resolves just fine well it has to</p>
<p begin="11:17:29.480" end="11:17:33.116" style="s2">do with this course policy so in this</p>
<p begin="11:17:31.840" end="11:17:35.320" style="s2">lesson we&#39;re going to take a look at</p>
<p begin="11:17:33.116" end="11:17:36.916" style="s2">what exactly this course policy is and</p>
<p begin="11:17:35.320" end="11:17:40.116" style="s2">what we can do to ultimately resolve</p>
<p begin="11:17:36.916" end="11:17:42.116" style="s2">this issue so what exactly is Coors</p>
<p begin="11:17:40.116" end="11:17:44.400" style="s2">Coors is short for cross origin resource</p>
<p begin="11:17:42.116" end="11:17:47.360" style="s2">sharing and so Coors allows you to make</p>
<p begin="11:17:44.400" end="11:17:50.436" style="s2">request from a web browser on one domain</p>
<p begin="11:17:47.360" end="11:17:51.756" style="s2">to a server on a different domain and by</p>
<p begin="11:17:50.436" end="11:17:53.800" style="s2">default you know when you configure an</p>
<p begin="11:17:51.756" end="11:17:56.080" style="s2">API whether it&#39;s in fast API or any</p>
<p begin="11:17:53.800" end="11:17:59.116" style="s2">other framework or language uh you will</p>
<p begin="11:17:56.080" end="11:18:00.840" style="s2">only be allowed to send requests from my</p>
<p begin="11:17:59.116" end="11:18:02.680" style="s2">web browser running on the same exact</p>
<p begin="11:18:00.840" end="11:18:05.040" style="s2">domain as your</p>
<p begin="11:18:02.680" end="11:18:07.520" style="s2">server and so what exactly do I mean by</p>
<p begin="11:18:05.040" end="11:18:09.956" style="s2">that well if our API is hosted on</p>
<p begin="11:18:07.520" end="11:18:12.880" style="s2">google.com and our and our website is</p>
<p begin="11:18:09.956" end="11:18:15.240" style="s2">hosted on ebay.com ebay.com by default</p>
<p begin="11:18:12.880" end="11:18:17.360" style="s2">cannot send a request to an AP running</p>
<p begin="11:18:15.240" end="11:18:19.680" style="s2">on a different domain like google.com</p>
<p begin="11:18:17.360" end="11:18:22.400" style="s2">it&#39;s going to get blocked by</p>
<p begin="11:18:19.680" end="11:18:24.720" style="s2">cores however if our web if our website</p>
<p begin="11:18:22.400" end="11:18:26.800" style="s2">was also running on google.com and our</p>
<p begin="11:18:24.720" end="11:18:28.880" style="s2">API was also running on google.com then</p>
<p begin="11:18:26.800" end="11:18:30.800" style="s2">they&#39;d be able to talk just fine by</p>
<p begin="11:18:28.880" end="11:18:32.436" style="s2">default and just to prove that to you</p>
<p begin="11:18:30.800" end="11:18:36.200" style="s2">guys if we go to our web browser and go</p>
<p begin="11:18:32.436" end="11:18:39.160" style="s2">to Local Host colon 8000 you know which</p>
<p begin="11:18:36.200" end="11:18:41.480" style="s2">is the the URL that our application&#39;s</p>
<p begin="11:18:39.160" end="11:18:43.800" style="s2">currently running on you can see that I</p>
<p begin="11:18:41.480" end="11:18:45.720" style="s2">get a response back so our web browser</p>
<p begin="11:18:43.800" end="11:18:47.400" style="s2">was able to make a by the way when I</p>
<p begin="11:18:45.720" end="11:18:48.756" style="s2">when I did this right it did the same</p>
<p begin="11:18:47.400" end="11:18:50.800" style="s2">thing as you know going into Chrome</p>
<p begin="11:18:48.756" end="11:18:52.756" style="s2">developer tools and actually sending a</p>
<p begin="11:18:50.800" end="11:18:53.840" style="s2">request and just in case you don&#39;t</p>
<p begin="11:18:52.756" end="11:18:56.520" style="s2">believe me I&#39;m just going to actually</p>
<p begin="11:18:53.840" end="11:18:59.080" style="s2">just show you guys even on here if I</p>
<p begin="11:18:56.520" end="11:19:00.800" style="s2">paste it you can see that it was able to</p>
<p begin="11:18:59.080" end="11:19:02.560" style="s2">resolve and we can see the hello world</p>
<p begin="11:19:00.800" end="11:19:04.160" style="s2">so the reason why it works on this</p>
<p begin="11:19:02.560" end="11:19:07.560" style="s2">website is because this is the same</p>
<p begin="11:19:04.160" end="11:19:09.596" style="s2">exact URL or domain name that our API is</p>
<p begin="11:19:07.560" end="11:19:12.360" style="s2">running on right our API is running on</p>
<p begin="11:19:09.596" end="11:19:14.360" style="s2">Local Host colon 8000 so by default</p>
<p begin="11:19:12.360" end="11:19:17.160" style="s2">they&#39;re able to talk to one another only</p>
<p begin="11:19:14.360" end="11:19:20.800" style="s2">when the web browser domain is on the</p>
<p begin="11:19:17.160" end="11:19:22.756" style="s2">same exact domain as the api&#39;s domain so</p>
<p begin="11:19:20.800" end="11:19:24.756" style="s2">to fix this you know if you did want to</p>
<p begin="11:19:22.756" end="11:19:27.276" style="s2">allow people from other domains to talk</p>
<p begin="11:19:24.756" end="11:19:29.040" style="s2">to your API uh what you can do is take a</p>
<p begin="11:19:27.276" end="11:19:30.320" style="s2">look at the fast API documentation and</p>
<p begin="11:19:29.040" end="11:19:33.116" style="s2">just search for</p>
<p begin="11:19:30.320" end="11:19:34.480" style="s2">Cores cross origin resource sharing and</p>
<p begin="11:19:33.116" end="11:19:36.200" style="s2">you&#39;ll see that setting this up is</p>
<p begin="11:19:34.480" end="11:19:38.040" style="s2">really simple so the first thing that we</p>
<p begin="11:19:36.200" end="11:19:40.200" style="s2">have to do is from Fast API middleware</p>
<p begin="11:19:38.040" end="11:19:43.200" style="s2">cores we&#39;re going to import cores</p>
<p begin="11:19:40.200" end="11:19:43.200" style="s2">middleware</p>
<p begin="11:19:47.756" end="11:19:50.916" style="s2">all right and then just copy this</p>
<p begin="11:19:48.956" end="11:19:53.320" style="s2">section right</p>
<p begin="11:19:50.916" end="11:19:55.640" style="s2">here and I&#39;ll explain line by line</p>
<p begin="11:19:53.320" end="11:19:57.596" style="s2">exactly what each one&#39;s doing and so</p>
<p begin="11:19:55.640" end="11:19:59.080" style="s2">under the app right here we&#39;ll just</p>
<p begin="11:19:57.596" end="11:20:00.916" style="s2">paste this</p>
<p begin="11:19:59.080" end="11:20:02.320" style="s2">in and it&#39;s going to throw a little</p>
<p begin="11:20:00.916" end="11:20:03.800" style="s2">error here but we&#39;ll come back you can</p>
<p begin="11:20:02.320" end="11:20:06.640" style="s2">actually delete that and change that to</p>
<p begin="11:20:03.800" end="11:20:08.560" style="s2">a an array for now um but what we want</p>
<p begin="11:20:06.640" end="11:20:10.720" style="s2">to do is first of all we have to pass in</p>
<p begin="11:20:08.560" end="11:20:13.360" style="s2">the middleware and middleware is a term</p>
<p begin="11:20:10.720" end="11:20:15.160" style="s2">that&#39;s used in most web Frameworks um</p>
<p begin="11:20:13.360" end="11:20:17.596" style="s2">because it&#39;s basically a function</p>
<p begin="11:20:15.160" end="11:20:20.160" style="s2">that runs before every request so if</p>
<p begin="11:20:17.596" end="11:20:21.436" style="s2">someone sends a request uh to our app</p>
<p begin="11:20:20.160" end="11:20:23.436" style="s2">and before it actually goes through all</p>
<p begin="11:20:21.436" end="11:20:24.480" style="s2">of these routers it&#39;ll actually go</p>
<p begin="11:20:23.436" end="11:20:27.240" style="s2">through the middleware and then our</p>
<p begin="11:20:24.480" end="11:20:29.080" style="s2">middleware can perform some sort of</p>
<p begin="11:20:27.240" end="11:20:31.640" style="s2">operation but what we want to do is</p>
<p begin="11:20:29.080" end="11:20:33.480" style="s2">first of we have to specify the origins</p>
<p begin="11:20:31.640" end="11:20:37.080" style="s2">that we want to allow so what domains</p>
<p begin="11:20:33.480" end="11:20:39.360" style="s2">should be able to talk to our API cuz</p>
<p begin="11:20:37.080" end="11:20:41.000" style="s2">right now it&#39;s only it&#39;s no domains only</p>
<p begin="11:20:39.360" end="11:20:43.720" style="s2">if it&#39;s running on the same exact domain</p>
<p begin="11:20:41.000" end="11:20:46.880" style="s2">are you able to talk to our API so the</p>
<p begin="11:20:43.720" end="11:20:49.840" style="s2">way we can is we can put in um we&#39;ll</p>
<p begin="11:20:46.880" end="11:20:52.160" style="s2">create a list called Origins and I&#39;ll</p>
<p begin="11:20:49.840" end="11:20:54.360" style="s2">say Origins equals and it&#39;s just going</p>
<p begin="11:20:52.160" end="11:20:57.000" style="s2">to be a list and here we&#39;re going to per</p>
<p begin="11:20:54.360" end="11:20:59.320" style="s2">provide a list of all of the domains</p>
<p begin="11:20:57.000" end="11:21:00.800" style="s2">that can talk to our API and before we</p>
<p begin="11:20:59.320" end="11:21:04.276" style="s2">fill that in I just want to quickly talk</p>
<p begin="11:21:00.800" end="11:21:07.560" style="s2">about the other three as well so our</p>
<p begin="11:21:04.276" end="11:21:09.116" style="s2">cores policy uh can be pretty granular</p>
<p begin="11:21:07.560" end="11:21:11.756" style="s2">so not only can we allow specific</p>
<p begin="11:21:09.116" end="11:21:14.200" style="s2">domains we can also allow only specific</p>
<p begin="11:21:11.756" end="11:21:16.840" style="s2">HTTP methods so if we were building like</p>
<p begin="11:21:14.200" end="11:21:18.756" style="s2">a public API uh where people can just</p>
<p begin="11:21:16.840" end="11:21:20.800" style="s2">retrieve data we may not want them to</p>
<p begin="11:21:18.756" end="11:21:23.360" style="s2">allow we may not want to allow them to</p>
<p begin="11:21:20.800" end="11:21:24.520" style="s2">send post requests uh and put requests</p>
<p begin="11:21:23.360" end="11:21:26.840" style="s2">and delete requests so we could</p>
<p begin="11:21:24.520" end="11:21:28.756" style="s2">potentially just allow get requests and</p>
<p begin="11:21:26.840" end="11:21:30.436" style="s2">then we can even allow specific headers</p>
<p begin="11:21:28.756" end="11:21:33.040" style="s2">as well but for now we&#39;re just going to</p>
<p begin="11:21:30.436" end="11:21:34.320" style="s2">allow all headers and all methods and</p>
<p begin="11:21:33.040" end="11:21:37.160" style="s2">we&#39;re going to just kind of drill down</p>
<p begin="11:21:34.320" end="11:21:38.956" style="s2">based off of what Origins can talk to us</p>
<p begin="11:21:37.160" end="11:21:42.240" style="s2">and so you know if we want Google to be</p>
<p begin="11:21:38.956" end="11:21:46.240" style="s2">able to talk to us I can just say</p>
<p begin="11:21:42.240" end="11:21:46.240" style="s2">https www.google</p>
<p begin="11:21:48.800" end="11:21:54.640" style="s2">and so now this course policy is set to</p>
<p begin="11:21:50.560" end="11:21:54.640" style="s2">allow people from google.com to talk to</p>
<p begin="11:21:55.360" end="11:21:59.880" style="s2">us and so if I go back to google.com I</p>
<p begin="11:21:58.480" end="11:22:02.520" style="s2">just hit the up Arrow so I can run this</p>
<p begin="11:21:59.880" end="11:22:03.840" style="s2">command again you&#39;ll see that I do</p>
<p begin="11:22:02.520" end="11:22:06.560" style="s2">successfully get a response back and</p>
<p begin="11:22:03.840" end="11:22:08.640" style="s2">there&#39;s no cores error however if I go</p>
<p begin="11:22:06.560" end="11:22:10.480" style="s2">to a different website so you know some</p>
<p begin="11:22:08.640" end="11:22:12.596" style="s2">website on a different domain like</p>
<p begin="11:22:10.480" end="11:22:16.640" style="s2">youtube.com and then we go and then we</p>
<p begin="11:22:12.596" end="11:22:19.680" style="s2">send the same exact request from the</p>
<p begin="11:22:16.640" end="11:22:22.596" style="s2">console right we once again get the</p>
<p begin="11:22:19.680" end="11:22:23.880" style="s2">course error and that&#39;s because in our</p>
<p begin="11:22:22.596" end="11:22:27.200" style="s2">in our list of Origins we&#39;re not</p>
<p begin="11:22:23.880" end="11:22:29.640" style="s2">providing www.com uh doyoutube</p>
<p begin="11:22:27.200" end="11:22:33.200" style="s2">docomo allow youtube.com then we&#39;d have</p>
<p begin="11:22:29.640" end="11:22:35.320" style="s2">to do https</p>
<p begin="11:22:33.200" end="11:22:39.480" style="s2">colon</p>
<p begin="11:22:35.320" end="11:22:39.480" style="s2">www.youtube.com so now if I hit the up</p>
<p begin="11:22:39.800" end="11:22:44.756" style="s2">Arrow we can see that it it properly</p>
<p begin="11:22:42.436" end="11:22:48.640" style="s2">resolves so you just have to provide</p>
<p begin="11:22:44.756" end="11:22:51.000" style="s2">list of URLs that can talk to your</p>
<p begin="11:22:48.640" end="11:22:53.436" style="s2">API and if you want to set up a public</p>
<p begin="11:22:51.000" end="11:22:56.320" style="s2">API so that everyone can access it then</p>
<p begin="11:22:53.436" end="11:22:58.520" style="s2">your Origins would just be a wild card</p>
<p begin="11:22:56.320" end="11:22:59.680" style="s2">so this means every single domain or</p>
<p begin="11:22:58.520" end="11:23:02.276" style="s2">every single</p>
<p begin="11:22:59.680" end="11:23:05.240" style="s2">origin but if you if your API is being</p>
<p begin="11:23:02.276" end="11:23:07.040" style="s2">configured for a specific web app then</p>
<p begin="11:23:05.240" end="11:23:09.520" style="s2">you definitely want to make sure that</p>
<p begin="11:23:07.040" end="11:23:12.596" style="s2">you provide a strict list of Origins so</p>
<p begin="11:23:09.520" end="11:23:14.160" style="s2">just whatever domain your your web app</p>
<p begin="11:23:12.596" end="11:23:16.756" style="s2">is running on so that no one else can</p>
<p begin="11:23:14.160" end="11:23:18.680" style="s2">you know know accidentally reach our</p>
<p begin="11:23:16.756" end="11:23:20.596" style="s2">application for some reason or another</p>
<p begin="11:23:18.680" end="11:23:22.720" style="s2">it&#39;s just security best practices to</p>
<p begin="11:23:20.596" end="11:23:26.400" style="s2">really narrow down the scope of the</p>
<p begin="11:23:22.720" end="11:23:28.480" style="s2">origins that can actually access your</p>
<p begin="11:23:26.400" end="11:23:30.720" style="s2">API um for now I&#39;m just going to leave</p>
<p begin="11:23:28.480" end="11:23:32.360" style="s2">this as uh set to everyone so that you</p>
<p begin="11:23:30.720" end="11:23:33.596" style="s2">know when we actually go to deploy this</p>
<p begin="11:23:32.360" end="11:23:35.916" style="s2">it&#39;ll be a little bit easier from a</p>
<p begin="11:23:33.596" end="11:23:37.480" style="s2">testing purpose um but feel free to</p>
<p begin="11:23:35.916" end="11:23:39.240" style="s2">update this</p>
<p begin="11:23:37.480" end="11:23:41.116" style="s2">accordingly in this lesson we&#39;re going</p>
<p begin="11:23:39.240" end="11:23:42.720" style="s2">to focus on setting up git for our</p>
<p begin="11:23:41.116" end="11:23:45.276" style="s2">project so that we can start tracking</p>
<p begin="11:23:42.720" end="11:23:47.240" style="s2">our changes as well as set up a remote</p>
<p begin="11:23:45.276" end="11:23:48.840" style="s2">repository to store all of our code this</p>
<p begin="11:23:47.240" end="11:23:51.400" style="s2">is going to make the whole deployment</p>
<p begin="11:23:48.840" end="11:23:52.916" style="s2">process a whole lot easier but before we</p>
<p begin="11:23:51.400" end="11:23:54.640" style="s2">set up git there&#39;s a couple of things</p>
<p begin="11:23:52.916" end="11:23:56.640" style="s2">that we need to do because when you</p>
<p begin="11:23:54.640" end="11:23:58.916" style="s2">check your files into git by default</p>
<p begin="11:23:56.640" end="11:24:00.720" style="s2">it&#39;s going to uh check in all of your</p>
<p begin="11:23:58.916" end="11:24:03.200" style="s2">files and there&#39;s going to be some files</p>
<p begin="11:24:00.720" end="11:24:05.080" style="s2">that you don&#39;t want uh to be uploaded to</p>
<p begin="11:24:03.200" end="11:24:07.756" style="s2">a remote repository or even into your</p>
<p begin="11:24:05.080" end="11:24:11.200" style="s2">git in general and so we have to create</p>
<p begin="11:24:07.756" end="11:24:13.880" style="s2">a file called a get ignore file and so</p>
<p begin="11:24:11.200" end="11:24:15.720" style="s2">if you go to the main root PRO root</p>
<p begin="11:24:13.880" end="11:24:18.116" style="s2">folder of your project I want you to</p>
<p begin="11:24:15.720" end="11:24:19.480" style="s2">create a file called Dog ignore and it&#39;s</p>
<p begin="11:24:18.116" end="11:24:21.916" style="s2">important that you put the dot in front</p>
<p begin="11:24:19.480" end="11:24:24.000" style="s2">of it so it&#39;s dog ignore and so this</p>
<p begin="11:24:21.916" end="11:24:26.116" style="s2">file is going to tell git what are all</p>
<p begin="11:24:24.000" end="11:24:28.800" style="s2">of the files and folders We don&#39;t want</p>
<p begin="11:24:26.116" end="11:24:31.400" style="s2">uploaded to get and so some of the</p>
<p begin="11:24:28.800" end="11:24:33.756" style="s2">common things that you would not want to</p>
<p begin="11:24:31.400" end="11:24:35.520" style="s2">be tracked within git is going to be uh</p>
<p begin="11:24:33.756" end="11:24:37.436" style="s2">your EMV file so this is going to be all</p>
<p begin="11:24:35.520" end="11:24:39.200" style="s2">of your environment variables obviously</p>
<p begin="11:24:37.436" end="11:24:40.720" style="s2">you don&#39;t want to check those in or then</p>
<p begin="11:24:39.200" end="11:24:43.756" style="s2">uh you know if this is part of a public</p>
<p begin="11:24:40.720" end="11:24:44.916" style="s2">repository then anyone can see those uh</p>
<p begin="11:24:43.756" end="11:24:47.240" style="s2">but also on top top that you&#39;ll see all</p>
<p begin="11:24:44.916" end="11:24:49.956" style="s2">of these random pie cach these uncore</p>
<p begin="11:24:47.240" end="11:24:51.040" style="s2">uncore pyh folders so go ahead and add</p>
<p begin="11:24:49.956" end="11:24:52.916" style="s2">that in there as well cuz we don&#39;t</p>
<p begin="11:24:51.040" end="11:24:54.680" style="s2">actually need to check that into get and</p>
<p begin="11:24:52.916" end="11:24:56.756" style="s2">then finally we have our folder which</p>
<p begin="11:24:54.680" end="11:24:58.436" style="s2">contains our virtual environment we</p>
<p begin="11:24:56.756" end="11:25:01.436" style="s2">don&#39;t want to check that in as well just</p>
<p begin="11:24:58.436" end="11:25:03.200" style="s2">because we have no idea if someone else</p>
<p begin="11:25:01.436" end="11:25:05.800" style="s2">who wants to clone our repository is</p>
<p begin="11:25:03.200" end="11:25:07.520" style="s2">going to be using a virtual environment</p>
<p begin="11:25:05.800" end="11:25:09.520" style="s2">H and if and if they are then they can</p>
<p begin="11:25:07.520" end="11:25:11.596" style="s2">create one on their own there&#39;s no need</p>
<p begin="11:25:09.520" end="11:25:13.720" style="s2">for us to actually upload our virtual</p>
<p begin="11:25:11.596" end="11:25:16.080" style="s2">environment it just wouldn&#39;t make sense</p>
<p begin="11:25:13.720" end="11:25:18.116" style="s2">and on top that our virtual environment</p>
<p begin="11:25:16.080" end="11:25:19.720" style="s2">contains all of the third-party</p>
<p begin="11:25:18.116" end="11:25:22.000" style="s2">libraries that we&#39;ve installed so all of</p>
<p begin="11:25:19.720" end="11:25:23.956" style="s2">the different uh packages we installed</p>
<p begin="11:25:22.000" end="11:25:26.400" style="s2">through pip including fast API itself so</p>
<p begin="11:25:23.956" end="11:25:28.200" style="s2">all of the code of fast API is within</p>
<p begin="11:25:26.400" end="11:25:29.596" style="s2">that virtual environment folder and so</p>
<p begin="11:25:28.200" end="11:25:31.640" style="s2">there&#39;s no need to actually upload all</p>
<p begin="11:25:29.596" end="11:25:33.640" style="s2">of that because that&#39;s a lot of a lot of</p>
<p begin="11:25:31.640" end="11:25:34.880" style="s2">files uh that actually take up a decent</p>
<p begin="11:25:33.640" end="11:25:36.640" style="s2">amount of space and it just wouldn&#39;t be</p>
<p begin="11:25:34.880" end="11:25:39.596" style="s2">efficient to actually upload those to</p>
<p begin="11:25:36.640" end="11:25:43.480" style="s2">get however this does create one bit of</p>
<p begin="11:25:39.596" end="11:25:45.840" style="s2">an issue because uh if we clone the</p>
<p begin="11:25:43.480" end="11:25:48.080" style="s2">repository at this point right we have</p>
<p begin="11:25:45.840" end="11:25:49.880" style="s2">no idea what packages we need to install</p>
<p begin="11:25:48.080" end="11:25:51.880" style="s2">because our virtual environment didn&#39;t</p>
<p begin="11:25:49.880" end="11:25:54.000" style="s2">get uploaded with it so we need to wait</p>
<p begin="11:25:51.880" end="11:25:56.436" style="s2">for other users other people on our team</p>
<p begin="11:25:54.000" end="11:25:58.520" style="s2">to know what packages and dependencies</p>
<p begin="11:25:56.436" end="11:26:00.400" style="s2">we need our application uh so that our</p>
<p begin="11:25:58.520" end="11:26:01.800" style="s2">application actually works and so the</p>
<p begin="11:26:00.400" end="11:26:03.560" style="s2">way that we actually do this is well</p>
<p begin="11:26:01.800" end="11:26:05.320" style="s2">first of all before we even proceed go</p>
<p begin="11:26:03.560" end="11:26:07.276" style="s2">ahead and copy this into your get ignore</p>
<p begin="11:26:05.320" end="11:26:09.160" style="s2">file and make sure you have this before</p>
<p begin="11:26:07.276" end="11:26:11.160" style="s2">you do anything else because once</p>
<p begin="11:26:09.160" end="11:26:12.916" style="s2">certain files get checked in it&#39;s very</p>
<p begin="11:26:11.160" end="11:26:15.160" style="s2">hard to get them</p>
<p begin="11:26:12.916" end="11:26:16.880" style="s2">removed um but but after this what we</p>
<p begin="11:26:15.160" end="11:26:19.240" style="s2">want to do is we want to create one more</p>
<p begin="11:26:16.880" end="11:26:20.916" style="s2">file and open up your</p>
<p begin="11:26:19.240" end="11:26:22.160" style="s2">terminal and what we&#39;re going to do is</p>
<p begin="11:26:20.916" end="11:26:24.680" style="s2">type in PIP</p>
<p begin="11:26:22.160" end="11:26:26.400" style="s2">freeze so pip freeze is going to dump</p>
<p begin="11:26:24.680" end="11:26:28.320" style="s2">out all of the different packages and</p>
<p begin="11:26:26.400" end="11:26:31.596" style="s2">libraries that we have installed as well</p>
<p begin="11:26:28.320" end="11:26:33.240" style="s2">as the specific versions and so this is</p>
<p begin="11:26:31.596" end="11:26:35.956" style="s2">the information that we want to upload</p>
<p begin="11:26:33.240" end="11:26:37.756" style="s2">to get so that if anyone else uh clones</p>
<p begin="11:26:35.956" end="11:26:39.880" style="s2">our repository they&#39;ll know the exact</p>
<p begin="11:26:37.756" end="11:26:41.276" style="s2">versions of every package they need to</p>
<p begin="11:26:39.880" end="11:26:43.596" style="s2">install so what we&#39;re going to do is</p>
<p begin="11:26:41.276" end="11:26:45.116" style="s2">we&#39;re just going to take this output and</p>
<p begin="11:26:43.596" end="11:26:46.916" style="s2">we&#39;re going to pipe it to a file and the</p>
<p begin="11:26:45.116" end="11:26:48.800" style="s2">file name is going to be called</p>
<p begin="11:26:46.916" end="11:26:51.916" style="s2">requirements.txt</p>
<p begin="11:26:48.800" end="11:26:54.040" style="s2">so this is standard convention uh with</p>
<p begin="11:26:51.916" end="11:26:56.160" style="s2">any python application you want to</p>
<p begin="11:26:54.040" end="11:26:58.000" style="s2">create a requirements.txt file that&#39;s</p>
<p begin="11:26:56.160" end="11:26:59.320" style="s2">going to contain the version of all of</p>
<p begin="11:26:58.000" end="11:27:01.436" style="s2">the different packages that you have</p>
<p begin="11:26:59.320" end="11:27:03.240" style="s2">installed and so if we check this into</p>
<p begin="11:27:01.436" end="11:27:05.320" style="s2">git now then anyone else can just take a</p>
<p begin="11:27:03.240" end="11:27:06.956" style="s2">look at our requirements.txt file and</p>
<p begin="11:27:05.320" end="11:27:09.116" style="s2">then actually install dependencies based</p>
<p begin="11:27:06.956" end="11:27:11.116" style="s2">off of what&#39;s in this file and so for</p>
<p begin="11:27:09.116" end="11:27:13.320" style="s2">anyone else that clones our repository</p>
<p begin="11:27:11.116" end="11:27:14.916" style="s2">all they have to do uh instead of going</p>
<p begin="11:27:13.320" end="11:27:18.880" style="s2">one by one and in these they can just</p>
<p begin="11:27:14.916" end="11:27:20.756" style="s2">type in PIP install dasr</p>
<p begin="11:27:18.880" end="11:27:22.640" style="s2">requirements.txt and that&#39;s going to</p>
<p begin="11:27:20.756" end="11:27:24.400" style="s2">install everything that&#39;s in this file</p>
<p begin="11:27:22.640" end="11:27:26.680" style="s2">so this does simplify the process and it</p>
<p begin="11:27:24.400" end="11:27:29.880" style="s2">prevents us from having to upload all of</p>
<p begin="11:27:26.680" end="11:27:31.360" style="s2">those third party packages into git but</p>
<p begin="11:27:29.880" end="11:27:33.116" style="s2">we&#39;ve got everything set up at this</p>
<p begin="11:27:31.360" end="11:27:35.480" style="s2">point we&#39;ve got the git ignore file and</p>
<p begin="11:27:33.116" end="11:27:37.680" style="s2">we&#39;ve got the requirements.txt so what</p>
<p begin="11:27:35.480" end="11:27:39.956" style="s2">we need to do now is actually set up and</p>
<p begin="11:27:37.680" end="11:27:42.360" style="s2">install git on our local</p>
<p begin="11:27:39.956" end="11:27:43.560" style="s2">machine if you don&#39;t already have git</p>
<p begin="11:27:42.360" end="11:27:45.040" style="s2">installed then in this lesson we&#39;re</p>
<p begin="11:27:43.560" end="11:27:47.116" style="s2">going to focus on getting installed on</p>
<p begin="11:27:45.040" end="11:27:48.596" style="s2">your local machine so just search for</p>
<p begin="11:27:47.116" end="11:27:49.956" style="s2">git and then you can either go to the</p>
<p begin="11:27:48.596" end="11:27:51.040" style="s2">main page or you can go straight to the</p>
<p begin="11:27:49.956" end="11:27:52.840" style="s2">downloads page so I&#39;m just going to</p>
<p begin="11:27:51.040" end="11:27:53.880" style="s2">select the downloads page and then here</p>
<p begin="11:27:52.840" end="11:27:55.956" style="s2">you&#39;re going to see the different</p>
<p begin="11:27:53.880" end="11:27:57.360" style="s2">operating systems we can install get on</p>
<p begin="11:27:55.956" end="11:27:58.720" style="s2">and so just go ahead and select your</p>
<p begin="11:27:57.360" end="11:28:00.360" style="s2">respective operating system I&#39;m on a</p>
<p begin="11:27:58.720" end="11:28:01.756" style="s2">Windows machine but forg goodless of</p>
<p begin="11:28:00.360" end="11:28:04.080" style="s2">your operating system it&#39;s going to be a</p>
<p begin="11:28:01.756" end="11:28:06.840" style="s2">fairly similar procedure so I&#39;m going to</p>
<p begin="11:28:04.080" end="11:28:08.320" style="s2">select this it&#39;s going to download that</p>
<p begin="11:28:06.840" end="11:28:11.596" style="s2">all right and then when the wizard opens</p>
<p begin="11:28:08.320" end="11:28:13.360" style="s2">go ahead and select next next here and</p>
<p begin="11:28:11.596" end="11:28:17.040" style="s2">you can leave everything default here as</p>
<p begin="11:28:13.360" end="11:28:19.680" style="s2">well and here and</p>
<p begin="11:28:17.040" end="11:28:21.756" style="s2">here now this is the one thing that we</p>
<p begin="11:28:19.680" end="11:28:24.480" style="s2">do have to change so this is kind of a</p>
<p begin="11:28:21.756" end="11:28:26.240" style="s2">little bit uh of a a nuisance at this</p>
<p begin="11:28:24.480" end="11:28:27.956" style="s2">point but uh they used to call like the</p>
<p begin="11:28:26.240" end="11:28:30.596" style="s2">main branch the master Branch but I</p>
<p begin="11:28:27.956" end="11:28:33.000" style="s2">guess people are offended by that so now</p>
<p begin="11:28:30.596" end="11:28:34.840" style="s2">the new term for the main branch is main</p>
<p begin="11:28:33.000" end="11:28:37.840" style="s2">so go ahead and override the default</p>
<p begin="11:28:34.840" end="11:28:39.680" style="s2">branch and just change that to main</p>
<p begin="11:28:37.840" end="11:28:41.560" style="s2">because when you work on GitHub they&#39;ve</p>
<p begin="11:28:39.680" end="11:28:43.240" style="s2">already changed the default Branch to be</p>
<p begin="11:28:41.560" end="11:28:45.160" style="s2">main so we&#39;re going to want to do the</p>
<p begin="11:28:43.240" end="11:28:47.520" style="s2">same thing so hit</p>
<p begin="11:28:45.160" end="11:28:49.560" style="s2">next and then you can leave everything</p>
<p begin="11:28:47.520" end="11:28:52.480" style="s2">as default moving forward there&#39;s a lot</p>
<p begin="11:28:49.560" end="11:28:52.480" style="s2">of Windows to go</p>
<p begin="11:29:01.320" end="11:29:06.840" style="s2">through and then it&#39;s going to proceed</p>
<p begin="11:29:03.560" end="11:29:06.840" style="s2">to install</p>
<p begin="11:29:07.720" end="11:29:11.756" style="s2">git all right close that out and then</p>
<p begin="11:29:10.000" end="11:29:14.756" style="s2">what you want to do is open up a new</p>
<p begin="11:29:11.756" end="11:29:14.756" style="s2">terminal</p>
<p begin="11:29:16.240" end="11:29:21.680" style="s2">and just type in g-- version and if it</p>
<p begin="11:29:19.956" end="11:29:22.880" style="s2">spits that out that means you&#39;ve got git</p>
<p begin="11:29:21.680" end="11:29:24.756" style="s2">successfully</p>
<p begin="11:29:22.880" end="11:29:26.520" style="s2">installed in this video we&#39;re going to</p>
<p begin="11:29:24.756" end="11:29:28.916" style="s2">set up a remote repository so we can</p>
<p begin="11:29:26.520" end="11:29:30.276" style="s2">store all of our code on GitHub and so</p>
<p begin="11:29:28.916" end="11:29:32.240" style="s2">if you don&#39;t already have an account on</p>
<p begin="11:29:30.276" end="11:29:34.436" style="s2">GitHub go to the main GitHub page just</p>
<p begin="11:29:32.240" end="11:29:35.916" style="s2">go to github.com and just click sign up</p>
<p begin="11:29:34.436" end="11:29:37.596" style="s2">and then follow those instructions and</p>
<p begin="11:29:35.916" end="11:29:39.800" style="s2">then once that&#39;s done just log in and</p>
<p begin="11:29:37.596" end="11:29:41.000" style="s2">you should see something similar to this</p>
<p begin="11:29:39.800" end="11:29:42.436" style="s2">although you may not see an activity</p>
<p begin="11:29:41.000" end="11:29:43.360" style="s2">window if you just created a brand new</p>
<p begin="11:29:42.436" end="11:29:45.160" style="s2">account cuz you won&#39;t have any</p>
<p begin="11:29:43.360" end="11:29:47.680" style="s2">Repository</p>
<p begin="11:29:45.160" end="11:29:49.320" style="s2">um but just look for a new uh button a</p>
<p begin="11:29:47.680" end="11:29:50.916" style="s2">button to create a new repository you</p>
<p begin="11:29:49.320" end="11:29:54.276" style="s2">can also go up here I believe and select</p>
<p begin="11:29:50.916" end="11:29:55.956" style="s2">new repository so I&#39;ll select new and</p>
<p begin="11:29:54.276" end="11:29:57.520" style="s2">then we have to give our repository name</p>
<p begin="11:29:55.956" end="11:29:58.756" style="s2">you can give it any name you want I&#39;m</p>
<p begin="11:29:57.520" end="11:30:00.756" style="s2">just going to give it a dummy name so</p>
<p begin="11:29:58.756" end="11:30:02.360" style="s2">this is going to be example fast API but</p>
<p begin="11:30:00.756" end="11:30:04.800" style="s2">name it what after whatever your project</p>
<p begin="11:30:02.360" end="11:30:06.680" style="s2">is uh technically I&#39;ve already set up</p>
<p begin="11:30:04.800" end="11:30:08.000" style="s2">git for my project um just so I can</p>
<p begin="11:30:06.680" end="11:30:09.640" style="s2">track all the changes I&#39;ve made</p>
<p begin="11:30:08.000" end="11:30:11.080" style="s2">throughout the course um but I want to</p>
<p begin="11:30:09.640" end="11:30:12.680" style="s2">make sure that I can walk you through</p>
<p begin="11:30:11.080" end="11:30:14.800" style="s2">this if you&#39;ve never done it</p>
<p begin="11:30:12.680" end="11:30:17.040" style="s2">before uh you can give it an optional</p>
<p begin="11:30:14.800" end="11:30:19.160" style="s2">description uh and then you can choose</p>
<p begin="11:30:17.040" end="11:30:21.200" style="s2">whether or not a repository is public or</p>
<p begin="11:30:19.160" end="11:30:23.240" style="s2">private if it&#39;s public anybody can see</p>
<p begin="11:30:21.200" end="11:30:25.200" style="s2">it uh if it&#39;s private then only you can</p>
<p begin="11:30:23.240" end="11:30:26.640" style="s2">see it we&#39;re going to keep it as public</p>
<p begin="11:30:25.200" end="11:30:28.320" style="s2">uh don&#39;t worry if you decide to change</p>
<p begin="11:30:26.640" end="11:30:30.520" style="s2">it in the future you can change it to</p>
<p begin="11:30:28.320" end="11:30:31.956" style="s2">private uh however it does make a few</p>
<p begin="11:30:30.520" end="11:30:33.436" style="s2">things a little bit easier when it&#39;s</p>
<p begin="11:30:31.956" end="11:30:34.640" style="s2">public so I&#39;m going to leave this as</p>
<p begin="11:30:33.436" end="11:30:35.756" style="s2">public and then we&#39;re going to leave all</p>
<p begin="11:30:34.640" end="11:30:38.400" style="s2">of these unchecked they don&#39;t really</p>
<p begin="11:30:35.756" end="11:30:40.080" style="s2">matter and we&#39;ll select create</p>
<p begin="11:30:38.400" end="11:30:41.520" style="s2">repository and then you&#39;ll see that it&#39;s</p>
<p begin="11:30:40.080" end="11:30:43.320" style="s2">going to give us a couple of steps to</p>
<p begin="11:30:41.520" end="11:30:45.000" style="s2">follow so if we haven&#39;t already set up</p>
<p begin="11:30:43.320" end="11:30:46.276" style="s2">git for our project these are the</p>
<p begin="11:30:45.000" end="11:30:48.520" style="s2">instructions we&#39;re going to follow and</p>
<p begin="11:30:46.276" end="11:30:50.116" style="s2">if we&#39;ve already set up git in our uh</p>
<p begin="11:30:48.520" end="11:30:52.320" style="s2">project folder then we can follow these</p>
<p begin="11:30:50.116" end="11:30:53.720" style="s2">steps uh however you know we haven&#39;t set</p>
<p begin="11:30:52.320" end="11:30:55.640" style="s2">up git yet so we&#39;re going to for the</p>
<p begin="11:30:53.720" end="11:30:57.200" style="s2">most part follow along here but we&#39;re</p>
<p begin="11:30:55.640" end="11:30:58.276" style="s2">going to modify it just a little bit</p>
<p begin="11:30:57.200" end="11:31:00.680" style="s2">because we don&#39;t need to run some of</p>
<p begin="11:30:58.276" end="11:31:02.040" style="s2">these commands so go ahead and open up</p>
<p begin="11:31:00.680" end="11:31:04.840" style="s2">your project in vs code like you</p>
<p begin="11:31:02.040" end="11:31:06.560" style="s2">normally do then open up your terminal</p>
<p begin="11:31:04.840" end="11:31:07.956" style="s2">and we&#39;re going to follow these steps</p>
<p begin="11:31:06.560" end="11:31:09.800" style="s2">but we&#39;re going to ignore the first one</p>
<p begin="11:31:07.956" end="11:31:11.596" style="s2">we don&#39;t need to read me for now uh but</p>
<p begin="11:31:09.800" end="11:31:13.680" style="s2">we are going to do a git in it which is</p>
<p begin="11:31:11.596" end="11:31:15.520" style="s2">going to initialize git for our project</p>
<p begin="11:31:13.680" end="11:31:17.240" style="s2">and so make sure you&#39;re at the root</p>
<p begin="11:31:15.520" end="11:31:18.520" style="s2">directory of your project so whatever</p>
<p begin="11:31:17.240" end="11:31:19.880" style="s2">this is called right here at the top</p>
<p begin="11:31:18.520" end="11:31:22.000" style="s2">make sure that&#39;s where you&#39;re at and</p>
<p begin="11:31:19.880" end="11:31:24.400" style="s2">just do a get in it that&#39;s going to</p>
<p begin="11:31:22.000" end="11:31:26.880" style="s2">initialize git and uh you may not see</p>
<p begin="11:31:24.400" end="11:31:28.436" style="s2">anything uh different about your folders</p>
<p begin="11:31:26.880" end="11:31:30.596" style="s2">but I think it&#39;s because vs code</p>
<p begin="11:31:28.436" end="11:31:32.200" style="s2">actually hides the git folder but when</p>
<p begin="11:31:30.596" end="11:31:34.800" style="s2">you actually did a get in it if you open</p>
<p begin="11:31:32.200" end="11:31:36.200" style="s2">up this uh your project directory and</p>
<p begin="11:31:34.800" end="11:31:38.276" style="s2">you click on view here and then make</p>
<p begin="11:31:36.200" end="11:31:40.276" style="s2">sure you select hidden items uh you&#39;ll</p>
<p begin="11:31:38.276" end="11:31:42.320" style="s2">see that it created a dogit folder so</p>
<p begin="11:31:40.276" end="11:31:44.320" style="s2">this is where it stores all of the git</p>
<p begin="11:31:42.320" end="11:31:46.800" style="s2">information uh then we&#39;re going to skip</p>
<p begin="11:31:44.320" end="11:31:48.040" style="s2">this uh get ad read me instead what</p>
<p begin="11:31:46.800" end="11:31:51.480" style="s2">we&#39;re going to do is we&#39;re going to run</p>
<p begin="11:31:48.040" end="11:31:52.880" style="s2">get add-- all so this is going to add</p>
<p begin="11:31:51.480" end="11:31:54.756" style="s2">all of the files that we have in our</p>
<p begin="11:31:52.880" end="11:31:56.240" style="s2">directory into get all right and you&#39;ll</p>
<p begin="11:31:54.756" end="11:31:57.880" style="s2">get a couple of warnings potentially</p>
<p begin="11:31:56.240" end="11:32:00.240" style="s2">don&#39;t worry about that those won&#39;t</p>
<p begin="11:31:57.880" end="11:32:01.756" style="s2">create any issues then we have to commit</p>
<p begin="11:32:00.240" end="11:32:03.436" style="s2">our changes so anytime you add a file</p>
<p begin="11:32:01.756" end="11:32:07.320" style="s2">you then have to commit it so we&#39;ll say</p>
<p begin="11:32:03.436" end="11:32:08.360" style="s2">get commit DM so the DM means we&#39;re</p>
<p begin="11:32:07.320" end="11:32:10.400" style="s2">going to provide a message so you</p>
<p begin="11:32:08.360" end="11:32:12.436" style="s2">usually give a a message for each commit</p>
<p begin="11:32:10.400" end="11:32:13.916" style="s2">to kind of describe what changes you&#39;re</p>
<p begin="11:32:12.436" end="11:32:16.436" style="s2">making so we&#39;re just going to call this</p>
<p begin="11:32:13.916" end="11:32:16.436" style="s2">initial</p>
<p begin="11:32:17.240" end="11:32:21.520" style="s2">commit all right and you&#39;ll see that we</p>
<p begin="11:32:20.116" end="11:32:23.480" style="s2">probably get an error if this is the</p>
<p begin="11:32:21.520" end="11:32:24.720" style="s2">first time you&#39;ve ever worked with Git</p>
<p begin="11:32:23.480" end="11:32:27.360" style="s2">and that&#39;s okay it&#39;s just telling us hey</p>
<p begin="11:32:24.720" end="11:32:29.160" style="s2">we need to set up our uh user for our</p>
<p begin="11:32:27.360" end="11:32:30.680" style="s2">account on this machine so we&#39;re just</p>
<p begin="11:32:29.160" end="11:32:31.596" style="s2">going to run this Command right here and</p>
<p begin="11:32:30.680" end="11:32:34.160" style="s2">then we&#39;re just going to provide the</p>
<p begin="11:32:31.596" end="11:32:38.520" style="s2">email that we use to register for</p>
<p begin="11:32:34.160" end="11:32:42.116" style="s2">GitHub I&#39;ll say git config D- Global</p>
<p begin="11:32:38.520" end="11:32:42.116" style="s2">user. email</p>
<p begin="11:32:46.436" end="11:32:49.956" style="s2">all right we set that and then it&#39;s</p>
<p begin="11:32:47.800" end="11:32:52.436" style="s2">telling us to also set our name so we&#39;ll</p>
<p begin="11:32:49.956" end="11:32:52.436" style="s2">do that as</p>
<p begin="11:32:57.040" end="11:33:01.116" style="s2">well then we&#39;re going to run that same</p>
<p begin="11:32:59.080" end="11:33:02.480" style="s2">command the get commit so if you just</p>
<p begin="11:33:01.116" end="11:33:03.320" style="s2">hit the up Arrow a couple times you&#39;ll</p>
<p begin="11:33:02.480" end="11:33:05.436" style="s2">get to</p>
<p begin="11:33:03.320" end="11:33:07.160" style="s2">that all right so we&#39;ve committed those</p>
<p begin="11:33:05.436" end="11:33:09.640" style="s2">changes then what we need to do is we</p>
<p begin="11:33:07.160" end="11:33:11.200" style="s2">need to uh set what our branch is so</p>
<p begin="11:33:09.640" end="11:33:14.116" style="s2">here this is just going to set uh our</p>
<p begin="11:33:11.200" end="11:33:15.360" style="s2">main branch to be called Main and so we</p>
<p begin="11:33:14.116" end="11:33:17.916" style="s2">can copy</p>
<p begin="11:33:15.360" end="11:33:21.040" style="s2">that paste it into</p>
<p begin="11:33:17.916" end="11:33:23.436" style="s2">here uh then we have to set up a</p>
<p begin="11:33:21.040" end="11:33:26.276" style="s2">remote Branch so this is what&#39;s going to</p>
<p begin="11:33:23.436" end="11:33:27.840" style="s2">allow us to store all of our code on</p>
<p begin="11:33:26.276" end="11:33:29.520" style="s2">GitHub so we&#39;re just saying like Hey</p>
<p begin="11:33:27.840" end="11:33:31.956" style="s2">listen this is going to be the remote</p>
<p begin="11:33:29.520" end="11:33:33.276" style="s2">git repository and we just provide a URL</p>
<p begin="11:33:31.956" end="11:33:36.000" style="s2">to it and so that if you take a look at</p>
<p begin="11:33:33.276" end="11:33:37.596" style="s2">the URL it&#39;s going to match up with this</p>
<p begin="11:33:36.000" end="11:33:39.400" style="s2">and in this case we&#39;re naming it origin</p>
<p begin="11:33:37.596" end="11:33:42.480" style="s2">you can technically call it anything you</p>
<p begin="11:33:39.400" end="11:33:45.756" style="s2">want so we&#39;ll add that and then finally</p>
<p begin="11:33:42.480" end="11:33:47.200" style="s2">we need to do a get push - origin Main</p>
<p begin="11:33:45.756" end="11:33:48.840" style="s2">and so this means uh we&#39;re actually</p>
<p begin="11:33:47.200" end="11:33:51.916" style="s2">going to push all of our code up to</p>
<p begin="11:33:48.840" end="11:33:53.840" style="s2">GitHub and you&#39;ll see a popup uh asking</p>
<p begin="11:33:51.916" end="11:33:55.040" style="s2">you to sign in and there&#39;s a couple</p>
<p begin="11:33:53.840" end="11:33:58.240" style="s2">things we can do we can get a personal</p>
<p begin="11:33:55.040" end="11:34:00.116" style="s2">access token or we can sign in with our</p>
<p begin="11:33:58.240" end="11:34:02.400" style="s2">browser so I&#39;m just going to sign in</p>
<p begin="11:34:00.116" end="11:34:02.400" style="s2">with our</p>
<p begin="11:34:04.360" end="11:34:09.840" style="s2">browser and we just like authorize right</p>
<p begin="11:34:07.160" end="11:34:11.680" style="s2">here right and it says it&#39;s succeeded so</p>
<p begin="11:34:09.840" end="11:34:13.116" style="s2">we should be able to go back and we can</p>
<p begin="11:34:11.680" end="11:34:14.756" style="s2">see that a couple things change so it</p>
<p begin="11:34:13.116" end="11:34:16.596" style="s2">looks like a</p>
<p begin="11:34:14.756" end="11:34:18.520" style="s2">well that&#39;s our authentication and then</p>
<p begin="11:34:16.596" end="11:34:20.680" style="s2">you can see that we&#39;re pushing all of</p>
<p begin="11:34:18.520" end="11:34:22.320" style="s2">the stuff up to GitHub and so at this</p>
<p begin="11:34:20.680" end="11:34:24.596" style="s2">point you&#39;re pretty much done all of</p>
<p begin="11:34:22.320" end="11:34:26.436" style="s2">your code is now stored in GitHub and we</p>
<p begin="11:34:24.596" end="11:34:27.840" style="s2">can just verify that by going back to</p>
<p begin="11:34:26.436" end="11:34:30.240" style="s2">this page and just select the name of</p>
<p begin="11:34:27.840" end="11:34:32.480" style="s2">the repository again and you&#39;ll see all</p>
<p begin="11:34:30.240" end="11:34:34.400" style="s2">of our Co all of our codes stored on</p>
<p begin="11:34:32.480" end="11:34:36.956" style="s2">GitHub now so at this point our</p>
<p begin="11:34:34.400" end="11:34:39.320" style="s2">repository is set up and we can move on</p>
<p begin="11:34:36.956" end="11:34:41.160" style="s2">to deploying our</p>
<p begin="11:34:39.320" end="11:34:42.756" style="s2">application in this lesson we&#39;re going</p>
<p begin="11:34:41.160" end="11:34:44.000" style="s2">to take a look at the first of two</p>
<p begin="11:34:42.756" end="11:34:45.640" style="s2">deployment methods that we&#39;re going to</p>
<p begin="11:34:44.000" end="11:34:46.840" style="s2">cover in this course so what we&#39;re going</p>
<p begin="11:34:45.640" end="11:34:49.596" style="s2">to do is we&#39;re going to deploy our</p>
<p begin="11:34:46.840" end="11:34:51.320" style="s2">application to a platform called Heroku</p>
<p begin="11:34:49.596" end="11:34:52.680" style="s2">and the reason I wanted to make sure to</p>
<p begin="11:34:51.320" end="11:34:55.160" style="s2">have this as one of the deployment</p>
<p begin="11:34:52.680" end="11:34:57.080" style="s2">methods was that Heroku has a very</p>
<p begin="11:34:55.160" end="11:34:58.916" style="s2">generous free tier and so we can create</p>
<p begin="11:34:57.080" end="11:35:01.080" style="s2">an account for free and we can deploy</p>
<p begin="11:34:58.916" end="11:35:03.560" style="s2">our application absolutely for free</p>
<p begin="11:35:01.080" end="11:35:05.400" style="s2">without having to pay a single dollar</p>
<p begin="11:35:03.560" end="11:35:06.596" style="s2">and we don&#39;t even have to provide our</p>
<p begin="11:35:05.400" end="11:35:08.800" style="s2">credit cards and I wanted to make sure</p>
<p begin="11:35:06.596" end="11:35:10.360" style="s2">to add that just because I know for some</p>
<p begin="11:35:08.800" end="11:35:11.360" style="s2">of you guys that isn&#39;t exactly an option</p>
<p begin="11:35:10.360" end="11:35:13.160" style="s2">and I wanted to make sure that you can</p>
<p begin="11:35:11.360" end="11:35:14.596" style="s2">still deploy your application and show</p>
<p begin="11:35:13.160" end="11:35:16.520" style="s2">off to your friends and family uh what</p>
<p begin="11:35:14.596" end="11:35:18.560" style="s2">you have created and you&#39;ll see that</p>
<p begin="11:35:16.520" end="11:35:20.800" style="s2">Heroku has made it very easy to deploy</p>
<p begin="11:35:18.560" end="11:35:22.480" style="s2">your application and it&#39;s very easy to</p>
<p begin="11:35:20.800" end="11:35:24.480" style="s2">push out changes to your application</p>
<p begin="11:35:22.480" end="11:35:26.200" style="s2">it&#39;s a fantastic platform and I think</p>
<p begin="11:35:24.480" end="11:35:28.000" style="s2">you guys will learn a lot on how to</p>
<p begin="11:35:26.200" end="11:35:30.116" style="s2">actually deploy an application by making</p>
<p begin="11:35:28.000" end="11:35:31.640" style="s2">use of a platform like Heroku so we&#39;ll</p>
<p begin="11:35:30.116" end="11:35:34.160" style="s2">take a look at how we can you know make</p>
<p begin="11:35:31.640" end="11:35:35.640" style="s2">use of Heroku learn about the Heroku CLI</p>
<p begin="11:35:34.160" end="11:35:38.160" style="s2">so that we can push our application to</p>
<p begin="11:35:35.640" end="11:35:40.160" style="s2">the platform and ultimately have anyone</p>
<p begin="11:35:38.160" end="11:35:43.560" style="s2">be able to access our</p>
<p begin="11:35:40.160" end="11:35:45.116" style="s2">API Heroku has a lot of really good Tut</p>
<p begin="11:35:43.560" end="11:35:46.560" style="s2">tutorials on how to deploy applications</p>
<p begin="11:35:45.116" end="11:35:49.320" style="s2">on their platforms and they&#39;ve got one</p>
<p begin="11:35:46.560" end="11:35:51.560" style="s2">for python as well so if we go to Google</p>
<p begin="11:35:49.320" end="11:35:52.720" style="s2">uh just search for Heroku Python and the</p>
<p begin="11:35:51.560" end="11:35:54.240" style="s2">first result is going to be their</p>
<p begin="11:35:52.720" end="11:35:55.640" style="s2">tutorial it&#39;s going to walk us step by</p>
<p begin="11:35:54.240" end="11:35:57.480" style="s2">step on how to actually deploy our</p>
<p begin="11:35:55.640" end="11:35:58.596" style="s2">application um but before we do that</p>
<p begin="11:35:57.480" end="11:36:01.000" style="s2">there&#39;s a couple things that we have to</p>
<p begin="11:35:58.596" end="11:36:02.720" style="s2">do first of all go ahead and create an</p>
<p begin="11:36:01.000" end="11:36:04.560" style="s2">account on Heroku if you don&#39;t if you</p>
<p begin="11:36:02.720" end="11:36:06.720" style="s2">haven&#39;t already done so it&#39;s completely</p>
<p begin="11:36:04.560" end="11:36:08.956" style="s2">free uh so just provide your email and</p>
<p begin="11:36:06.720" end="11:36:11.240" style="s2">so on uh then there&#39;s two other</p>
<p begin="11:36:08.956" end="11:36:13.000" style="s2">requirements we have to have git</p>
<p begin="11:36:11.240" end="11:36:14.756" style="s2">installed on our machine which we&#39;ve</p>
<p begin="11:36:13.000" end="11:36:16.840" style="s2">already done and then finally we have to</p>
<p begin="11:36:14.756" end="11:36:18.756" style="s2">install Heroku itself so if you go to</p>
<p begin="11:36:16.840" end="11:36:21.080" style="s2">the setup section right here you&#39;re</p>
<p begin="11:36:18.756" end="11:36:22.400" style="s2">going to see the installers for all of</p>
<p begin="11:36:21.080" end="11:36:23.596" style="s2">the different operating systems they</p>
<p begin="11:36:22.400" end="11:36:25.360" style="s2">support so just select whichever</p>
<p begin="11:36:23.596" end="11:36:28.160" style="s2">operating system you have and get the</p>
<p begin="11:36:25.360" end="11:36:30.320" style="s2">Heroku CLI installed on your machine and</p>
<p begin="11:36:28.160" end="11:36:31.880" style="s2">after you get it installed usually you</p>
<p begin="11:36:30.320" end="11:36:34.116" style="s2">have to close out any of your</p>
<p begin="11:36:31.880" end="11:36:36.276" style="s2">pre-existing Terminals and reopen them</p>
<p begin="11:36:34.116" end="11:36:38.400" style="s2">to actually be able to access the Heroku</p>
<p begin="11:36:36.276" end="11:36:40.080" style="s2">command uh if you have vs code a lot of</p>
<p begin="11:36:38.400" end="11:36:41.520" style="s2">times I&#39;ve had to just close out VSS</p>
<p begin="11:36:40.080" end="11:36:42.800" style="s2">code altogether not just close the</p>
<p begin="11:36:41.520" end="11:36:45.400" style="s2">terminals but actually close out the</p>
<p begin="11:36:42.800" end="11:36:47.596" style="s2">entire application and then open it back</p>
<p begin="11:36:45.400" end="11:36:49.040" style="s2">up but after you&#39;ve done that if you</p>
<p begin="11:36:47.596" end="11:36:51.320" style="s2">want to verify if Heroku was</p>
<p begin="11:36:49.040" end="11:36:54.276" style="s2">successfully installed uh just go to</p>
<p begin="11:36:51.320" end="11:36:56.436" style="s2">your terminal and just type in Heroku D-</p>
<p begin="11:36:54.276" end="11:36:58.320" style="s2">version and if it spits out a version</p>
<p begin="11:36:56.436" end="11:37:00.240" style="s2">that means Heroku has been successfully</p>
<p begin="11:36:58.320" end="11:37:02.080" style="s2">installed and uh after it&#39;s been</p>
<p begin="11:37:00.240" end="11:37:04.276" style="s2">installed we want to log in so we do</p>
<p begin="11:37:02.080" end="11:37:06.436" style="s2">Heroku</p>
<p begin="11:37:04.276" end="11:37:08.360" style="s2">login and then you just press any key</p>
<p begin="11:37:06.436" end="11:37:11.360" style="s2">right here and it&#39;s going to open up uh</p>
<p begin="11:37:08.360" end="11:37:14.956" style="s2">your web browser you can just log in and</p>
<p begin="11:37:11.360" end="11:37:14.956" style="s2">then provide your credentials</p>
<p begin="11:37:19.640" end="11:37:22.276" style="s2">all right and then once you&#39;re logged in</p>
<p begin="11:37:20.756" end="11:37:24.596" style="s2">you can just close out this</p>
<p begin="11:37:22.276" end="11:37:26.680" style="s2">window we go back to our code and you</p>
<p begin="11:37:24.596" end="11:37:28.560" style="s2">can see logging in is done and we&#39;ve</p>
<p begin="11:37:26.680" end="11:37:29.680" style="s2">logged in and then that&#39;s my specific</p>
<p begin="11:37:28.560" end="11:37:32.400" style="s2">account right</p>
<p begin="11:37:29.680" end="11:37:36.276" style="s2">there all right and once that&#39;s done</p>
<p begin="11:37:32.400" end="11:37:38.116" style="s2">we&#39;re going to go back to the</p>
<p begin="11:37:36.276" end="11:37:39.840" style="s2">tutorial and we&#39;re just going to kind of</p>
<p begin="11:37:38.116" end="11:37:41.320" style="s2">follow along so if you go to prepare the</p>
<p begin="11:37:39.840" end="11:37:43.640" style="s2">app you can ignore this so they give you</p>
<p begin="11:37:41.320" end="11:37:45.596" style="s2">like a demo application uh to kind of</p>
<p begin="11:37:43.640" end="11:37:46.680" style="s2">follow through uh the tutorial but we</p>
<p begin="11:37:45.596" end="11:37:48.320" style="s2">already have our own app so we don&#39;t</p>
<p begin="11:37:46.680" end="11:37:50.680" style="s2">need to worry about that if we go to</p>
<p begin="11:37:48.320" end="11:37:52.240" style="s2">deploy the app we have to run this</p>
<p begin="11:37:50.680" end="11:37:56.520" style="s2">command herok create so we have to</p>
<p begin="11:37:52.240" end="11:37:59.240" style="s2">create an app within our Heroku account</p>
<p begin="11:37:56.520" end="11:38:02.916" style="s2">so let&#39;s run that command but before we</p>
<p begin="11:37:59.240" end="11:38:05.240" style="s2">run that I&#39;m going to do a herok create</p>
<p begin="11:38:02.916" end="11:38:07.520" style="s2">d-el and we can see that one of the</p>
<p begin="11:38:05.240" end="11:38:09.596" style="s2">arguments is going to be the name of the</p>
<p begin="11:38:07.520" end="11:38:10.916" style="s2">app we want to create uh and so if you</p>
<p begin="11:38:09.596" end="11:38:12.560" style="s2">don&#39;t provide a name Heroku just gives</p>
<p begin="11:38:10.916" end="11:38:14.916" style="s2">you a random name but I always like to</p>
<p begin="11:38:12.560" end="11:38:17.160" style="s2">use a a more familiar name so I know</p>
<p begin="11:38:14.916" end="11:38:19.240" style="s2">that what app which app covers which one</p>
<p begin="11:38:17.160" end="11:38:22.480" style="s2">of my applications and so I&#39;m going to</p>
<p begin="11:38:19.240" end="11:38:25.080" style="s2">call this fast API sanie and keep in</p>
<p begin="11:38:22.480" end="11:38:27.520" style="s2">mind these app names are Global so if I</p>
<p begin="11:38:25.080" end="11:38:29.276" style="s2">deploy my app as fast API sanjie you</p>
<p begin="11:38:27.520" end="11:38:31.040" style="s2">will not be able to create an app with</p>
<p begin="11:38:29.276" end="11:38:32.880" style="s2">the same exact name and that&#39;s because</p>
<p begin="11:38:31.040" end="11:38:35.840" style="s2">to actually access our application once</p>
<p begin="11:38:32.880" end="11:38:37.840" style="s2">deployed the URL is going to be the</p>
<p begin="11:38:35.840" end="11:38:40.360" style="s2">specific app name embedded in there so</p>
<p begin="11:38:37.840" end="11:38:42.640" style="s2">it has to be globally unique so if it</p>
<p begin="11:38:40.360" end="11:38:44.080" style="s2">says your your app name is already taken</p>
<p begin="11:38:42.640" end="11:38:45.320" style="s2">then just try a different one maybe add</p>
<p begin="11:38:44.080" end="11:38:48.240" style="s2">a couple numbers at the end it doesn&#39;t</p>
<p begin="11:38:45.320" end="11:38:48.240" style="s2">really matter what the name</p>
<p begin="11:38:50.400" end="11:38:56.880" style="s2">is all right and once we&#39;ve created our</p>
<p begin="11:38:53.640" end="11:38:58.520" style="s2">app the next thing that we have to do is</p>
<p begin="11:38:56.880" end="11:38:59.956" style="s2">well actually before we even do that I</p>
<p begin="11:38:58.520" end="11:39:01.520" style="s2">want to show you guys what it actually</p>
<p begin="11:38:59.956" end="11:39:03.400" style="s2">did so there&#39;s a couple things that</p>
<p begin="11:39:01.520" end="11:39:05.160" style="s2">happen behind the scenes uh and the</p>
<p begin="11:39:03.400" end="11:39:09.640" style="s2">first thing is if we actually log into</p>
<p begin="11:39:05.160" end="11:39:09.640" style="s2">our account I&#39;m going to log in right</p>
<p begin="11:39:11.000" end="11:39:14.240" style="s2">here right we&#39;re going to see our</p>
<p begin="11:39:12.720" end="11:39:16.520" style="s2">dashboard so in the dashboard you can</p>
<p begin="11:39:14.240" end="11:39:18.400" style="s2">see the application that we just</p>
<p begin="11:39:16.520" end="11:39:20.596" style="s2">created right now there&#39;s nothing</p>
<p begin="11:39:18.400" end="11:39:23.160" style="s2">interesting nothing&#39;s been set up with</p>
<p begin="11:39:20.596" end="11:39:24.800" style="s2">it so we don&#39;t actually see anything but</p>
<p begin="11:39:23.160" end="11:39:27.320" style="s2">the second thing that it also did was if</p>
<p begin="11:39:24.800" end="11:39:29.596" style="s2">I type in git</p>
<p begin="11:39:27.320" end="11:39:31.956" style="s2">remote this is going to show all of the</p>
<p begin="11:39:29.596" end="11:39:33.956" style="s2">remote remotes that have been set up for</p>
<p begin="11:39:31.956" end="11:39:35.640" style="s2">our git and we can see there&#39;s two now</p>
<p begin="11:39:33.956" end="11:39:37.640" style="s2">so there&#39;s origin which is the one we</p>
<p begin="11:39:35.640" end="11:39:40.360" style="s2">set up originally that&#39;s G Hub</p>
<p begin="11:39:37.640" end="11:39:42.200" style="s2">ultimately but Heroku added a second one</p>
<p begin="11:39:40.360" end="11:39:43.596" style="s2">and so this is ultimately how we deploy</p>
<p begin="11:39:42.200" end="11:39:46.080" style="s2">our application because because instead</p>
<p begin="11:39:43.596" end="11:39:48.916" style="s2">of doing a get push origin main to push</p>
<p begin="11:39:46.080" end="11:39:51.840" style="s2">it out to GitHub we can just do get push</p>
<p begin="11:39:48.916" end="11:39:54.040" style="s2">Heroku Heroku Main and that&#39;s going to</p>
<p begin="11:39:51.840" end="11:39:55.956" style="s2">push out our code to the hoko platform</p>
<p begin="11:39:54.040" end="11:39:58.240" style="s2">and then it will then create an instance</p>
<p begin="11:39:55.956" end="11:39:59.436" style="s2">for our application so let&#39;s go ahead</p>
<p begin="11:39:58.240" end="11:40:01.916" style="s2">and do that we&#39;re going to do a get push</p>
<p begin="11:39:59.436" end="11:40:01.916" style="s2">Heroku</p>
<p begin="11:40:03.800" end="11:40:07.520" style="s2">Main and this is going to take a little</p>
<p begin="11:40:05.880" end="11:40:09.240" style="s2">bit of a while because it&#39;s got to you</p>
<p begin="11:40:07.520" end="11:40:10.756" style="s2">know set up python it&#39;s got to do a few</p>
<p begin="11:40:09.240" end="11:40:12.916" style="s2">other things it&#39;s got to install all of</p>
<p begin="11:40:10.756" end="11:40:15.520" style="s2">our dependencies before it can actually</p>
<p begin="11:40:12.916" end="11:40:17.080" style="s2">get our app up and running so I&#39;m going</p>
<p begin="11:40:15.520" end="11:40:20.240" style="s2">to pause this video and then I&#39;ll touch</p>
<p begin="11:40:17.080" end="11:40:20.240" style="s2">base with you guys once that&#39;s</p>
<p begin="11:40:21.000" end="11:40:24.916" style="s2">complete all right so our application</p>
<p begin="11:40:23.360" end="11:40:26.360" style="s2">has successfully been deployed and</p>
<p begin="11:40:24.916" end="11:40:27.840" style="s2">you&#39;ll see that in the logs Heroku</p>
<p begin="11:40:26.360" end="11:40:29.800" style="s2">actually gives us the URL of our</p>
<p begin="11:40:27.840" end="11:40:31.400" style="s2">application so I&#39;m going to copy this</p>
<p begin="11:40:29.800" end="11:40:34.240" style="s2">URL and we&#39;re going to just open this up</p>
<p begin="11:40:31.400" end="11:40:35.560" style="s2">in the browser and if you let this run</p>
<p begin="11:40:34.240" end="11:40:37.800" style="s2">long enough you&#39;re eventually going to</p>
<p begin="11:40:35.560" end="11:40:40.720" style="s2">see an error so it looks like something</p>
<p begin="11:40:37.800" end="11:40:42.160" style="s2">in our application is broken and this is</p>
<p begin="11:40:40.720" end="11:40:43.520" style="s2">to be expected because there&#39;s still a</p>
<p begin="11:40:42.160" end="11:40:45.040" style="s2">few more things that we have to do to</p>
<p begin="11:40:43.520" end="11:40:47.160" style="s2">actually get this set up because if you</p>
<p begin="11:40:45.040" end="11:40:50.560" style="s2">take a look at what we&#39;ve done we pushed</p>
<p begin="11:40:47.160" end="11:40:53.360" style="s2">out our code to Heroku right but Heroku</p>
<p begin="11:40:50.560" end="11:40:55.116" style="s2">has no idea how to actually start our</p>
<p begin="11:40:53.360" end="11:40:56.560" style="s2">application that you know what is the</p>
<p begin="11:40:55.116" end="11:40:58.040" style="s2">command it doesn&#39;t it just knows that</p>
<p begin="11:40:56.560" end="11:40:59.200" style="s2">this is a python app but it doesn&#39;t know</p>
<p begin="11:40:58.040" end="11:41:00.560" style="s2">what it is it doesn&#39;t know that it&#39;s a</p>
<p begin="11:40:59.200" end="11:41:02.640" style="s2">fast API up it doesn&#39;t know that we&#39;re</p>
<p begin="11:41:00.560" end="11:41:05.240" style="s2">trying to build out an API it has no</p>
<p begin="11:41:02.640" end="11:41:07.680" style="s2">idea and when we deploy to our</p>
<p begin="11:41:05.240" end="11:41:11.640" style="s2">development environment we ran UV corn</p>
<p begin="11:41:07.680" end="11:41:14.320" style="s2">uh and then you know app. Main and then</p>
<p begin="11:41:11.640" end="11:41:16.040" style="s2">app right but we haven&#39;t given that</p>
<p begin="11:41:14.320" end="11:41:18.880" style="s2">command to Heroku how does it have any</p>
<p begin="11:41:16.040" end="11:41:21.720" style="s2">idea that our code is in main.py and</p>
<p begin="11:41:18.880" end="11:41:23.560" style="s2">that within the main.py file we have our</p>
<p begin="11:41:21.720" end="11:41:26.160" style="s2">app instance stored in a variable called</p>
<p begin="11:41:23.560" end="11:41:28.956" style="s2">app it has no idea so what we have to do</p>
<p begin="11:41:26.160" end="11:41:31.080" style="s2">is we actually have to create a file</p>
<p begin="11:41:28.956" end="11:41:33.596" style="s2">that&#39;s going to tell Heroku what is the</p>
<p begin="11:41:31.080" end="11:41:35.436" style="s2">exact command that we want to run so</p>
<p begin="11:41:33.596" end="11:41:37.436" style="s2">inside your root directory so just kind</p>
<p begin="11:41:35.436" end="11:41:39.116" style="s2">of collapse all the folders inside your</p>
<p begin="11:41:37.436" end="11:41:40.720" style="s2">root directory so just right click here</p>
<p begin="11:41:39.116" end="11:41:42.116" style="s2">create a new file create a file called</p>
<p begin="11:41:40.720" end="11:41:43.480" style="s2">proc file so I&#39;ve already got this in</p>
<p begin="11:41:42.116" end="11:41:45.040" style="s2">here it&#39;s going to be in the GitHub repo</p>
<p begin="11:41:43.480" end="11:41:46.680" style="s2">so you can take a look at it and make</p>
<p begin="11:41:45.040" end="11:41:49.520" style="s2">sure you capitalize the</p>
<p begin="11:41:46.680" end="11:41:51.520" style="s2">p and actually if you take a look at the</p>
<p begin="11:41:49.520" end="11:41:53.480" style="s2">the tutorial and we go to the next one</p>
<p begin="11:41:51.520" end="11:41:55.160" style="s2">which is a Define a proc file this is</p>
<p begin="11:41:53.480" end="11:41:56.840" style="s2">going to just explain what the proc file</p>
<p begin="11:41:55.160" end="11:41:58.276" style="s2">is but the proc file just just tells</p>
<p begin="11:41:56.840" end="11:42:00.560" style="s2">Heroku what is the command that we need</p>
<p begin="11:41:58.276" end="11:42:02.840" style="s2">to start our application and so here we</p>
<p begin="11:42:00.560" end="11:42:04.160" style="s2">give it a process type so since this is</p>
<p begin="11:42:02.840" end="11:42:06.480" style="s2">a web application that&#39;s going to be</p>
<p begin="11:42:04.160" end="11:42:08.880" style="s2">responding to you know web requests uh</p>
<p begin="11:42:06.480" end="11:42:10.400" style="s2">we want to use the word web and then we</p>
<p begin="11:42:08.880" end="11:42:12.916" style="s2">specify the exact command that we need</p>
<p begin="11:42:10.400" end="11:42:14.560" style="s2">to run and so in my proc file a couple</p>
<p begin="11:42:12.916" end="11:42:17.436" style="s2">of things have been set up so we run the</p>
<p begin="11:42:14.560" end="11:42:19.000" style="s2">came in UV corn app. Main and then app</p>
<p begin="11:42:17.436" end="11:42:21.520" style="s2">like we&#39;ve done before we&#39;re not going</p>
<p begin="11:42:19.000" end="11:42:23.000" style="s2">to pass in the D- reload flag because</p>
<p begin="11:42:21.520" end="11:42:24.400" style="s2">this is production we don&#39;t want it to</p>
<p begin="11:42:23.000" end="11:42:26.640" style="s2">automatically reload on changes because</p>
<p begin="11:42:24.400" end="11:42:29.276" style="s2">there should be no changes we do have to</p>
<p begin="11:42:26.640" end="11:42:31.200" style="s2">provide the host IP so this is just</p>
<p begin="11:42:29.276" end="11:42:33.640" style="s2">saying that hey we should be able to</p>
<p begin="11:42:31.200" end="11:42:35.680" style="s2">respond to request to any IP so whatever</p>
<p begin="11:42:33.640" end="11:42:38.320" style="s2">IP Heroku gives us this is going to</p>
<p begin="11:42:35.680" end="11:42:39.956" style="s2">accept it then the next flag is going to</p>
<p begin="11:42:38.320" end="11:42:41.520" style="s2">be the port flag so what port should we</p>
<p begin="11:42:39.956" end="11:42:43.640" style="s2">run this on if we don&#39;t provide a port</p>
<p begin="11:42:41.520" end="11:42:46.520" style="s2">flag uh then it&#39;s it&#39;s going to default</p>
<p begin="11:42:43.640" end="11:42:47.956" style="s2">to Port 8,000 like it always has however</p>
<p begin="11:42:46.520" end="11:42:49.756" style="s2">the thing about Heroku is that they&#39;re</p>
<p begin="11:42:47.956" end="11:42:51.200" style="s2">actually going to provide us Port so we</p>
<p begin="11:42:49.756" end="11:42:53.240" style="s2">don&#39;t know what this port is ahead of</p>
<p begin="11:42:51.200" end="11:42:55.520" style="s2">time so we have to be able to accept</p>
<p begin="11:42:53.240" end="11:42:57.276" style="s2">this port regardless of what it is and</p>
<p begin="11:42:55.520" end="11:42:59.360" style="s2">so it&#39;s actually going to pass this down</p>
<p begin="11:42:57.276" end="11:43:00.596" style="s2">as an environment variable so anytime</p>
<p begin="11:42:59.360" end="11:43:01.880" style="s2">you want to accept an environment</p>
<p begin="11:43:00.596" end="11:43:04.756" style="s2">variable or reference one you can just</p>
<p begin="11:43:01.880" end="11:43:07.116" style="s2">say dollar and then curly braces so</p>
<p begin="11:43:04.756" end="11:43:09.436" style="s2">we&#39;re really just saying we want to take</p>
<p begin="11:43:07.116" end="11:43:11.240" style="s2">whatever value Heroku gives us uh with</p>
<p begin="11:43:09.436" end="11:43:13.436" style="s2">the environment variable of port and we</p>
<p begin="11:43:11.240" end="11:43:15.720" style="s2">want to assign it here and then this is</p>
<p begin="11:43:13.436" end="11:43:17.680" style="s2">just giving it a default value of 5,000</p>
<p begin="11:43:15.720" end="11:43:19.116" style="s2">if they don&#39;t provide one however Heroku</p>
<p begin="11:43:17.680" end="11:43:21.840" style="s2">will always provide a support so I don&#39;t</p>
<p begin="11:43:19.116" end="11:43:24.640" style="s2">think we even need that and so after you</p>
<p begin="11:43:21.840" end="11:43:26.596" style="s2">um make this file you&#39;re then going to</p>
<p begin="11:43:24.640" end="11:43:28.800" style="s2">have to push out these changes to get</p>
<p begin="11:43:26.596" end="11:43:30.800" style="s2">once again and since I already had this</p>
<p begin="11:43:28.800" end="11:43:32.240" style="s2">file um there&#39;s nothing to change in my</p>
<p begin="11:43:30.800" end="11:43:34.000" style="s2">git so nothing will get pushed out so</p>
<p begin="11:43:32.240" end="11:43:35.160" style="s2">I&#39;m just going to just change some</p>
<p begin="11:43:34.000" end="11:43:38.680" style="s2">random</p>
<p begin="11:43:35.160" end="11:43:40.640" style="s2">code I&#39;m going to delete this 1 2 3 4</p>
<p begin="11:43:38.680" end="11:43:42.400" style="s2">here so that I can at least have some</p>
<p begin="11:43:40.640" end="11:43:43.596" style="s2">changes in my code you guys will already</p>
<p begin="11:43:42.400" end="11:43:45.480" style="s2">have changes in your code because you</p>
<p begin="11:43:43.596" end="11:43:47.880" style="s2">added the new file so then go ahead and</p>
<p begin="11:43:45.480" end="11:43:50.596" style="s2">do a get add-- all so it&#39;s going to add</p>
<p begin="11:43:47.880" end="11:43:52.916" style="s2">all the changes we&#39;re going to do a</p>
<p begin="11:43:50.596" end="11:43:56.116" style="s2">commit and we&#39;ll give it a message of</p>
<p begin="11:43:52.916" end="11:43:56.116" style="s2">added proc</p>
<p begin="11:43:56.560" end="11:44:02.116" style="s2">file and then we do a get push and then</p>
<p begin="11:43:59.800" end="11:44:03.520" style="s2">what do we push to well first of all you</p>
<p begin="11:44:02.116" end="11:44:05.436" style="s2">know moving forward we want to make sure</p>
<p begin="11:44:03.520" end="11:44:07.756" style="s2">that this is stored in GitHub so let&#39;s</p>
<p begin="11:44:05.436" end="11:44:09.480" style="s2">do a git push origin main this is going</p>
<p begin="11:44:07.756" end="11:44:11.840" style="s2">to push it to</p>
<p begin="11:44:09.480" end="11:44:13.680" style="s2">GitHub and then now we want to actually</p>
<p begin="11:44:11.840" end="11:44:15.840" style="s2">push out these changes to Heroku so that</p>
<p begin="11:44:13.680" end="11:44:18.360" style="s2">we can actually get our application up</p>
<p begin="11:44:15.840" end="11:44:20.916" style="s2">and running so we&#39;ll do a get push um</p>
<p begin="11:44:18.360" end="11:44:20.916" style="s2">Heroku</p>
<p begin="11:44:26.800" end="11:44:32.116" style="s2">Main and once again we have to kind of</p>
<p begin="11:44:29.080" end="11:44:32.116" style="s2">wait through this entire</p>
<p begin="11:44:34.520" end="11:44:38.560" style="s2">process okay so it&#39;s now finished once</p>
<p begin="11:44:36.840" end="11:44:39.956" style="s2">again we&#39;re going to go back to the URL</p>
<p begin="11:44:38.560" end="11:44:42.200" style="s2">it&#39;s deployed</p>
<p begin="11:44:39.956" end="11:44:43.680" style="s2">at and I&#39;m just going to do a refresh to</p>
<p begin="11:44:42.200" end="11:44:45.756" style="s2">see if we fixed our our</p>
<p begin="11:44:43.680" end="11:44:47.720" style="s2">issue and the fact that it&#39;s still</p>
<p begin="11:44:45.756" end="11:44:49.916" style="s2">spinning for this long most likely means</p>
<p begin="11:44:47.720" end="11:44:51.596" style="s2">that we did not fix our issue um but I</p>
<p begin="11:44:49.916" end="11:44:53.956" style="s2">already know the exact reason why this</p>
<p begin="11:44:51.596" end="11:44:55.800" style="s2">is and so we will take a look at exactly</p>
<p begin="11:44:53.956" end="11:44:58.560" style="s2">what is causing our application to not</p>
<p begin="11:44:55.800" end="11:45:01.116" style="s2">successfully get deployed in the next</p>
<p begin="11:44:58.560" end="11:45:03.840" style="s2">lesson anytime your application isn&#39;t</p>
<p begin="11:45:01.116" end="11:45:06.000" style="s2">working on heroku&#39;s platform they have a</p>
<p begin="11:45:03.840" end="11:45:08.400" style="s2">really easy way of accessing logs so we</p>
<p begin="11:45:06.000" end="11:45:10.276" style="s2">can say Heroku logs and then I&#39;m just</p>
<p begin="11:45:08.400" end="11:45:13.160" style="s2">going to do a d-el just to see what</p>
<p begin="11:45:10.276" end="11:45:15.240" style="s2">options we have</p>
<p begin="11:45:13.160" end="11:45:16.800" style="s2">and so here we could specify the app um</p>
<p begin="11:45:15.240" end="11:45:18.276" style="s2">or we can just dump the logs for all of</p>
<p begin="11:45:16.800" end="11:45:19.756" style="s2">our apps but what I&#39;m going to do is I&#39;m</p>
<p begin="11:45:18.276" end="11:45:21.520" style="s2">going to pass in the DT flag so we can</p>
<p begin="11:45:19.756" end="11:45:24.916" style="s2">tail the logs as things</p>
<p begin="11:45:21.520" end="11:45:24.916" style="s2">happen so if I do</p>
<p begin="11:45:25.160" end="11:45:29.276" style="s2">a-t and we scroll up you can see that</p>
<p begin="11:45:27.320" end="11:45:30.596" style="s2">we&#39;ve got a couple of different errors</p>
<p begin="11:45:29.276" end="11:45:33.436" style="s2">and so it looks like there&#39;s some issues</p>
<p begin="11:45:30.596" end="11:45:35.880" style="s2">with settings which you know is the the</p>
<p begin="11:45:33.436" end="11:45:37.596" style="s2">pantic model that we&#39;ve set up for</p>
<p begin="11:45:35.880" end="11:45:38.756" style="s2">retrieving our environment variables and</p>
<p begin="11:45:37.596" end="11:45:42.040" style="s2">it&#39;s saying that there&#39;s a couple of</p>
<p begin="11:45:38.756" end="11:45:43.320" style="s2">validation errors for our settings model</p>
<p begin="11:45:42.040" end="11:45:44.680" style="s2">and it says that hey look we don&#39;t have</p>
<p begin="11:45:43.320" end="11:45:47.080" style="s2">a database host name we don&#39;t have a</p>
<p begin="11:45:44.680" end="11:45:48.756" style="s2">database Port password or any of the</p>
<p begin="11:45:47.080" end="11:45:51.116" style="s2">other information so there&#39;s some issue</p>
<p begin="11:45:48.756" end="11:45:53.200" style="s2">with our environment variables and this</p>
<p begin="11:45:51.116" end="11:45:57.080" style="s2">makes sense because in development we</p>
<p begin="11:45:53.200" end="11:45:59.160" style="s2">use our uhv file to um provide all of</p>
<p begin="11:45:57.080" end="11:46:01.480" style="s2">the environment variables into that</p>
<p begin="11:45:59.160" end="11:46:04.320" style="s2">settings model right here and we passed</p>
<p begin="11:46:01.480" end="11:46:07.116" style="s2">that by specifying the EnV file however</p>
<p begin="11:46:04.320" end="11:46:09.756" style="s2">we did not check our EnV file into G</p>
<p begin="11:46:07.116" end="11:46:09.756" style="s2">remember in</p>
<p begin="11:46:10.000" end="11:46:13.880" style="s2">git we we use the git ignore file to</p>
<p begin="11:46:12.520" end="11:46:15.680" style="s2">make sure excluded that cuz we don&#39;t</p>
<p begin="11:46:13.880" end="11:46:18.680" style="s2">want to actually check that into G so</p>
<p begin="11:46:15.680" end="11:46:20.916" style="s2">how does Heroku know what all of our</p>
<p begin="11:46:18.680" end="11:46:23.000" style="s2">environment variables should be well</p>
<p begin="11:46:20.916" end="11:46:24.360" style="s2">they have a and so we actually have to</p>
<p begin="11:46:23.000" end="11:46:26.480" style="s2">add those environment variables either</p>
<p begin="11:46:24.360" end="11:46:28.680" style="s2">through the command line or through the</p>
<p begin="11:46:26.480" end="11:46:30.436" style="s2">dashboard but before we can do that we</p>
<p begin="11:46:28.680" end="11:46:32.680" style="s2">need to actually get a postgress</p>
<p begin="11:46:30.436" end="11:46:35.200" style="s2">database because right now we don&#39;t have</p>
<p begin="11:46:32.680" end="11:46:36.956" style="s2">a postgress database so what would we</p>
<p begin="11:46:35.200" end="11:46:38.320" style="s2">even provide for database host name and</p>
<p begin="11:46:36.956" end="11:46:40.720" style="s2">port and password and things like that</p>
<p begin="11:46:38.320" end="11:46:43.840" style="s2">if we don&#39;t have one so let&#39;s create one</p>
<p begin="11:46:40.720" end="11:46:45.480" style="s2">and once again Heroku provides us with a</p>
<p begin="11:46:43.840" end="11:46:48.240" style="s2">free postgress</p>
<p begin="11:46:45.480" end="11:46:49.596" style="s2">instance that we can have access to and</p>
<p begin="11:46:48.240" end="11:46:51.080" style="s2">that&#39;s what that&#39;s one of my favorite</p>
<p begin="11:46:49.596" end="11:46:53.360" style="s2">Parts about herok is that now we have</p>
<p begin="11:46:51.080" end="11:46:55.320" style="s2">access to postgress so let&#39;s go to</p>
<p begin="11:46:53.360" end="11:46:58.880" style="s2">Heroku</p>
<p begin="11:46:55.320" end="11:46:58.880" style="s2">postgress and I&#39;ll just say</p>
<p begin="11:46:59.560" end="11:47:02.320" style="s2">tutorial and it&#39;s going to take us to</p>
<p begin="11:47:01.320" end="11:47:04.360" style="s2">their Dev Center so this is going to</p>
<p begin="11:47:02.320" end="11:47:07.360" style="s2">show us actually how to uh create a</p>
<p begin="11:47:04.360" end="11:47:08.756" style="s2">postgress instance and so it postgress</p>
<p begin="11:47:07.360" end="11:47:09.916" style="s2">is one of their many add-ons if you want</p>
<p begin="11:47:08.756" end="11:47:10.916" style="s2">to actually go to their website and see</p>
<p begin="11:47:09.916" end="11:47:12.116" style="s2">all of the different add-ons they</p>
<p begin="11:47:10.916" end="11:47:14.276" style="s2">support they support a ton if you want</p>
<p begin="11:47:12.116" end="11:47:16.000" style="s2">to read us add-on you can get that added</p>
<p begin="11:47:14.276" end="11:47:18.360" style="s2">but in this casee we want to create a</p>
<p begin="11:47:16.000" end="11:47:21.480" style="s2">postgress a postgress instance so we do</p>
<p begin="11:47:18.360" end="11:47:22.720" style="s2">Heroku add-ons create uh then the type</p>
<p begin="11:47:21.480" end="11:47:24.840" style="s2">of add-on which means it&#39;s going to be</p>
<p begin="11:47:22.720" end="11:47:26.800" style="s2">post SQL and then plan name so we are</p>
<p begin="11:47:24.840" end="11:47:28.560" style="s2">under the hobby Dev which is essentially</p>
<p begin="11:47:26.800" end="11:47:31.116" style="s2">the free one and that&#39;s going to</p>
<p begin="11:47:28.560" end="11:47:33.680" style="s2">actually create a hero uh a postgress</p>
<p begin="11:47:31.116" end="11:47:36.520" style="s2">instance so let&#39;s run this and just</p>
<p begin="11:47:33.680" end="11:47:36.520" style="s2">contrl C out of</p>
<p begin="11:47:36.680" end="11:47:40.560" style="s2">this and let&#39;s just do a d Das help real</p>
<p begin="11:47:39.080" end="11:47:42.320" style="s2">quick just to see what other flags we</p>
<p begin="11:47:40.560" end="11:47:44.240" style="s2">have and that should be fine we don&#39;t</p>
<p begin="11:47:42.320" end="11:47:46.720" style="s2">need actually provide any other flags so</p>
<p begin="11:47:44.240" end="11:47:48.680" style="s2">let&#39;s run this and Heroku is actually</p>
<p begin="11:47:46.720" end="11:47:50.480" style="s2">going to create our postest instance and</p>
<p begin="11:47:48.680" end="11:47:52.040" style="s2">keep in mind that for Heroku to spin up</p>
<p begin="11:47:50.480" end="11:47:54.080" style="s2">a postgress instance it does take a</p>
<p begin="11:47:52.040" end="11:47:56.320" style="s2">little bit of time um but we can</p>
<p begin="11:47:54.080" end="11:47:57.800" style="s2">actually monitor that in our dashboard</p>
<p begin="11:47:56.320" end="11:47:59.956" style="s2">so if we go back to my dashboard and do</p>
<p begin="11:47:57.800" end="11:48:02.520" style="s2">a</p>
<p begin="11:47:59.956" end="11:48:04.520" style="s2">refresh you can see that this is the new</p>
<p begin="11:48:02.520" end="11:48:06.400" style="s2">Heroku</p>
<p begin="11:48:04.520" end="11:48:07.596" style="s2">instance and I can just click on this</p>
<p begin="11:48:06.400" end="11:48:09.720" style="s2">and we can see some more information</p>
<p begin="11:48:07.596" end="11:48:11.596" style="s2">it&#39;s going to open this up in a new tab</p>
<p begin="11:48:09.720" end="11:48:13.956" style="s2">and if you want to we can go into these</p>
<p begin="11:48:11.596" end="11:48:16.560" style="s2">settings and here we can take a look at</p>
<p begin="11:48:13.956" end="11:48:18.520" style="s2">our database credentials so if I view my</p>
<p begin="11:48:16.560" end="11:48:21.116" style="s2">credentials you can see that this is the</p>
<p begin="11:48:18.520" end="11:48:23.480" style="s2">IP address my database lives on uh this</p>
<p begin="11:48:21.116" end="11:48:26.200" style="s2">is the actual database name so we don&#39;t</p>
<p begin="11:48:23.480" end="11:48:28.240" style="s2">get to create our own database name or</p>
<p begin="11:48:26.200" end="11:48:29.640" style="s2">our own database within postgress they</p>
<p begin="11:48:28.240" end="11:48:31.520" style="s2">give us a fixed name and that&#39;s</p>
<p begin="11:48:29.640" end="11:48:33.480" style="s2">perfectly</p>
<p begin="11:48:31.520" end="11:48:34.680" style="s2">fine and then here&#39;s this is going to be</p>
<p begin="11:48:33.480" end="11:48:36.080" style="s2">the username that we&#39;re going to log in</p>
<p begin="11:48:34.680" end="11:48:38.080" style="s2">as this is the port it&#39;s running on and</p>
<p begin="11:48:36.080" end="11:48:40.360" style="s2">then this is our password and they also</p>
<p begin="11:48:38.080" end="11:48:42.756" style="s2">provide us the full postris URL if we</p>
<p begin="11:48:40.360" end="11:48:44.360" style="s2">want uh to use that so now that we have</p>
<p begin="11:48:42.756" end="11:48:46.720" style="s2">have this information feel free to save</p>
<p begin="11:48:44.360" end="11:48:49.040" style="s2">this real quick and I&#39;m actually just</p>
<p begin="11:48:46.720" end="11:48:51.160" style="s2">going to do a quick</p>
<p begin="11:48:49.040" end="11:48:52.480" style="s2">screenshot and save this in my notes so</p>
<p begin="11:48:51.160" end="11:48:55.560" style="s2">that I don&#39;t have to keep bouncing back</p>
<p begin="11:48:52.480" end="11:48:58.880" style="s2">and forth and now let&#39;s go back to our</p>
<p begin="11:48:55.560" end="11:49:02.040" style="s2">application and if we go under</p>
<p begin="11:48:58.880" end="11:49:04.000" style="s2">settings this config vars is where we</p>
<p begin="11:49:02.040" end="11:49:06.400" style="s2">actually provide environment variables</p>
<p begin="11:49:04.000" end="11:49:09.116" style="s2">to our Heroku instance and by the way</p>
<p begin="11:49:06.400" end="11:49:10.520" style="s2">Heroku calls are instance dinos um but</p>
<p begin="11:49:09.116" end="11:49:11.840" style="s2">you can use either term you want and so</p>
<p begin="11:49:10.520" end="11:49:13.080" style="s2">you could see all of the config</p>
<p begin="11:49:11.840" end="11:49:15.756" style="s2">variables that have been set and there</p>
<p begin="11:49:13.080" end="11:49:17.560" style="s2">should be nothing except for one so when</p>
<p begin="11:49:15.756" end="11:49:19.680" style="s2">you add a postc instance to your</p>
<p begin="11:49:17.560" end="11:49:22.116" style="s2">application what happens</p>
<p begin="11:49:19.680" end="11:49:24.040" style="s2">is Heroku automatically adds an</p>
<p begin="11:49:22.116" end="11:49:25.756" style="s2">environment variable called database URL</p>
<p begin="11:49:24.040" end="11:49:28.756" style="s2">and it&#39;s going to contain the entire</p>
<p begin="11:49:25.756" end="11:49:31.276" style="s2">postrest ql UL uh</p>
<p begin="11:49:28.756" end="11:49:33.560" style="s2">URL and so we could go into our</p>
<p begin="11:49:31.276" end="11:49:36.276" style="s2">application and then update our code so</p>
<p begin="11:49:33.560" end="11:49:37.560" style="s2">that in the database. py file instead of</p>
<p begin="11:49:36.276" end="11:49:40.080" style="s2">uh you know breaking things down like</p>
<p begin="11:49:37.560" end="11:49:42.400" style="s2">this we can just provide you know one uh</p>
<p begin="11:49:40.080" end="11:49:45.320" style="s2">one specific URL and just put it in as</p>
<p begin="11:49:42.400" end="11:49:48.080" style="s2">say settings do you know</p>
<p begin="11:49:45.320" end="11:49:49.916" style="s2">database URL however I don&#39;t like to</p>
<p begin="11:49:48.080" end="11:49:53.240" style="s2">change my code I like it just the way it</p>
<p begin="11:49:49.916" end="11:49:54.480" style="s2">is so instead of using the the default</p>
<p begin="11:49:53.240" end="11:49:56.080" style="s2">environment variable we&#39;re going to</p>
<p begin="11:49:54.480" end="11:49:58.040" style="s2">actually break this URL out into</p>
<p begin="11:49:56.080" end="11:49:59.840" style="s2">multiple different environment variables</p>
<p begin="11:49:58.040" end="11:50:01.276" style="s2">so just open this up and take a look at</p>
<p begin="11:49:59.840" end="11:50:04.000" style="s2">all of the environment variables that we</p>
<p begin="11:50:01.276" end="11:50:05.880" style="s2">expect by going into our config.py so we</p>
<p begin="11:50:04.000" end="11:50:08.276" style="s2">need all of these set so we&#39;re going to</p>
<p begin="11:50:05.880" end="11:50:12.596" style="s2">add one for</p>
<p begin="11:50:08.276" end="11:50:12.596" style="s2">database host name</p>
<p begin="11:50:13.880" end="11:50:18.080" style="s2">and from the URL if you forgot what the</p>
<p begin="11:50:15.720" end="11:50:20.956" style="s2">host name is and actually I&#39;m going to</p>
<p begin="11:50:18.080" end="11:50:22.320" style="s2">just open this one up in a new tab and</p>
<p begin="11:50:20.956" end="11:50:24.080" style="s2">then open up actually I don&#39;t even need</p>
<p begin="11:50:22.320" end="11:50:26.276" style="s2">to open up this</p>
<p begin="11:50:24.080" end="11:50:28.800" style="s2">one I just need to flip between these</p>
<p begin="11:50:26.276" end="11:50:30.320" style="s2">two so the host name uh is right here</p>
<p begin="11:50:28.800" end="11:50:32.116" style="s2">and but you can get it from this URL</p>
<p begin="11:50:30.320" end="11:50:34.080" style="s2">just by clicking on this icon and then</p>
<p begin="11:50:32.116" end="11:50:35.560" style="s2">just grabbing the IP address but it&#39;s</p>
<p begin="11:50:34.080" end="11:50:36.916" style="s2">such a small little window I hate having</p>
<p begin="11:50:35.560" end="11:50:40.200" style="s2">to do that so I&#39;m going to close that</p>
<p begin="11:50:36.916" end="11:50:40.200" style="s2">and just bounce between these two</p>
<p begin="11:50:40.916" end="11:50:44.916" style="s2">links all right so let&#39;s grab the host</p>
<p begin="11:50:49.840" end="11:50:55.040" style="s2">name and we&#39;ll add this one uh then the</p>
<p begin="11:50:53.240" end="11:50:58.360" style="s2">next one is going to</p>
<p begin="11:50:55.040" end="11:51:00.840" style="s2">be the database Port password name and</p>
<p begin="11:50:58.360" end="11:51:03.840" style="s2">user name so let&#39;s just write those out</p>
<p begin="11:51:00.840" end="11:51:03.840" style="s2">database</p>
<p begin="11:51:06.680" end="11:51:10.276" style="s2">Port database</p>
<p begin="11:51:11.160" end="11:51:15.276" style="s2">username datab base</p>
<p begin="11:51:20.160" end="11:51:24.000" style="s2">password and then database</p>
<p begin="11:51:25.240" end="11:51:32.640" style="s2">name I think that&#39;s it database Port</p>
<p begin="11:51:29.560" end="11:51:32.640" style="s2">password name</p>
<p begin="11:51:35.080" end="11:51:39.080" style="s2">username and then we have to add the</p>
<p begin="11:51:37.080" end="11:51:43.436" style="s2">stuff for our token so we got secret key</p>
<p begin="11:51:39.080" end="11:51:43.436" style="s2">algorithm and then the last one</p>
<p begin="11:52:03.520" end="11:52:06.956" style="s2">and then now we can provide in the Valu</p>
<p begin="11:52:04.956" end="11:52:10.916" style="s2">so the database Port we can see from</p>
<p begin="11:52:06.956" end="11:52:10.916" style="s2">here it&#39;s going to be the default 5432</p>
<p begin="11:52:16.276" end="11:52:18.480" style="s2">the</p>
<p begin="11:52:28.160" end="11:52:32.116" style="s2">username and then here we&#39;ll grab the</p>
<p begin="11:52:41.436" end="11:52:45.956" style="s2">password and then the actual database</p>
<p begin="11:52:43.680" end="11:52:45.956" style="s2">name</p>
<p begin="11:52:50.520" end="11:52:54.436" style="s2">here the secret key I&#39;m just going to</p>
<p begin="11:52:52.640" end="11:52:56.720" style="s2">use what whatever we used in development</p>
<p begin="11:52:54.436" end="11:52:58.080" style="s2">not actually recommended but I&#39;m just</p>
<p begin="11:52:56.720" end="11:53:00.116" style="s2">going to keep things as simple as</p>
<p begin="11:52:58.080" end="11:53:03.800" style="s2">possible for now but you can provide any</p>
<p begin="11:53:00.116" end="11:53:03.800" style="s2">secret key you want</p>
<p begin="11:53:16.400" end="11:53:20.680" style="s2">and I&#39;ll say in production it&#39;ll expire</p>
<p begin="11:53:18.116" end="11:53:20.680" style="s2">after 60</p>
<p begin="11:53:20.720" end="11:53:25.240" style="s2">minutes all right and so now we&#39;ve got</p>
<p begin="11:53:23.040" end="11:53:28.040" style="s2">our all of our environment variables set</p>
<p begin="11:53:25.240" end="11:53:30.160" style="s2">up and our post postgress instance is</p>
<p begin="11:53:28.040" end="11:53:32.116" style="s2">already up and running so I think at</p>
<p begin="11:53:30.160" end="11:53:34.756" style="s2">this point our app should work so we&#39;ll</p>
<p begin="11:53:32.116" end="11:53:34.756" style="s2">try this out</p>
<p begin="11:53:36.880" end="11:53:41.000" style="s2">again so now that we set those new</p>
<p begin="11:53:39.040" end="11:53:43.840" style="s2">environment variables how do we actually</p>
<p begin="11:53:41.000" end="11:53:45.596" style="s2">restart our Heroku instance well let&#39;s</p>
<p begin="11:53:43.840" end="11:53:47.520" style="s2">do a</p>
<p begin="11:53:45.596" end="11:53:50.520" style="s2">Heroku</p>
<p begin="11:53:47.520" end="11:53:50.520" style="s2">apps</p>
<p begin="11:53:51.116" end="11:53:56.240" style="s2">d-el and let&#39;s see if there&#39;s a restart</p>
<p begin="11:53:53.640" end="11:53:58.480" style="s2">so there&#39;s app create</p>
<p begin="11:53:56.240" end="11:54:00.880" style="s2">destroy and it doesn&#39;t look like there&#39;s</p>
<p begin="11:53:58.480" end="11:54:04.320" style="s2">a restart so we can&#39;t actually use the</p>
<p begin="11:54:00.880" end="11:54:06.160" style="s2">apps argument to restart our application</p>
<p begin="11:54:04.320" end="11:54:08.956" style="s2">instead we have to do</p>
<p begin="11:54:06.160" end="11:54:11.720" style="s2">Heroku ps-</p>
<p begin="11:54:08.956" end="11:54:13.320" style="s2">dhel so now um we can see that we do</p>
<p begin="11:54:11.720" end="11:54:18.000" style="s2">have access to restart so we&#39;re going to</p>
<p begin="11:54:13.320" end="11:54:18.000" style="s2">do Heroku PS</p>
<p begin="11:54:18.360" end="11:54:23.916" style="s2">restart and that&#39;s going to restart our</p>
<p begin="11:54:20.640" end="11:54:23.916" style="s2">Dino which is our Heroku</p>
<p begin="11:54:24.360" end="11:54:27.756" style="s2">instance and once again I&#39;m going to do</p>
<p begin="11:54:26.160" end="11:54:31.560" style="s2">a Heroku</p>
<p begin="11:54:27.756" end="11:54:33.956" style="s2">logs DT to tail the</p>
<p begin="11:54:31.560" end="11:54:36.116" style="s2">logs all right and so now you can see</p>
<p begin="11:54:33.956" end="11:54:38.200" style="s2">those previous errors were gone and we</p>
<p begin="11:54:36.116" end="11:54:41.116" style="s2">were now able to successfully run the</p>
<p begin="11:54:38.200" end="11:54:44.756" style="s2">startup command and you can see that um</p>
<p begin="11:54:41.116" end="11:54:47.000" style="s2">we actually got past a specific Port of</p>
<p begin="11:54:44.756" end="11:54:48.360" style="s2">34731 uh and so that&#39;s why we ultimately</p>
<p begin="11:54:47.000" end="11:54:49.800" style="s2">had to provide the port variable because</p>
<p begin="11:54:48.360" end="11:54:52.596" style="s2">this will change every time we restart</p>
<p begin="11:54:49.800" end="11:54:54.080" style="s2">it however we don&#39;t actually need to use</p>
<p begin="11:54:52.596" end="11:54:56.640" style="s2">that</p>
<p begin="11:54:54.080" end="11:54:59.956" style="s2">specific port number in the URL that we</p>
<p begin="11:54:56.640" end="11:55:03.040" style="s2">need to access so let&#39;s get our um our</p>
<p begin="11:54:59.956" end="11:55:03.040" style="s2">app URL which I already</p>
<p begin="11:55:06.000" end="11:55:10.720" style="s2">forgot and if you ever forget your url</p>
<p begin="11:55:08.756" end="11:55:12.480" style="s2">you can just type in Heroku apps info</p>
<p begin="11:55:10.720" end="11:55:13.756" style="s2">then the name of the specific app and</p>
<p begin="11:55:12.480" end="11:55:15.360" style="s2">then it&#39;s going to give you all of the</p>
<p begin="11:55:13.756" end="11:55:17.160" style="s2">specific information so you can see this</p>
<p begin="11:55:15.360" end="11:55:19.080" style="s2">is actually where the hoko git is being</p>
<p begin="11:55:17.160" end="11:55:21.720" style="s2">stored we can see that we have one</p>
<p begin="11:55:19.080" end="11:55:23.520" style="s2">instance in this case running the web</p>
<p begin="11:55:21.720" end="11:55:26.160" style="s2">and then we have our URL down here so</p>
<p begin="11:55:23.520" end="11:55:26.160" style="s2">I&#39;m going to copy</p>
<p begin="11:55:27.640" end="11:55:32.640" style="s2">this and you can see that we get message</p>
<p begin="11:55:31.080" end="11:55:35.596" style="s2">hello world so it looks like things are</p>
<p begin="11:55:32.640" end="11:55:37.680" style="s2">working uh if I actually go to/ dos</p>
<p begin="11:55:35.596" end="11:55:40.080" style="s2">Let&#39;s test that out and so now we have</p>
<p begin="11:55:37.680" end="11:55:42.080" style="s2">access to documents I&#39;m going to</p>
<p begin="11:55:40.080" end="11:55:45.680" style="s2">minimize that so it looks like things</p>
<p begin="11:55:42.080" end="11:55:47.276" style="s2">are working however if I try to log in</p>
<p begin="11:55:45.680" end="11:55:49.436" style="s2">whether it&#39;s either through the</p>
<p begin="11:55:47.276" end="11:55:51.756" style="s2">documentation or if I actually send a</p>
<p begin="11:55:49.436" end="11:55:53.320" style="s2">request from Postman you&#39;re going to see</p>
<p begin="11:55:51.756" end="11:55:56.436" style="s2">that there&#39;s going to be some issues so</p>
<p begin="11:55:53.320" end="11:55:58.200" style="s2">here I&#39;m going to actually I can&#39;t even</p>
<p begin="11:55:56.436" end="11:55:59.596" style="s2">log in I have to create a user first</p>
<p begin="11:55:58.200" end="11:56:01.640" style="s2">because this is a fresh deployment so</p>
<p begin="11:55:59.596" end="11:56:03.800" style="s2">let&#39;s go to users and we&#39;re going to</p>
<p begin="11:56:01.640" end="11:56:05.756" style="s2">create a user real quick and I&#39;m going</p>
<p begin="11:56:03.800" end="11:56:08.080" style="s2">to just try this out and put in whatever</p>
<p begin="11:56:05.756" end="11:56:08.080" style="s2">name you</p>
<p begin="11:56:08.240" end="11:56:13.200" style="s2">want now so this is sanjie example.com</p>
<p begin="11:56:11.240" end="11:56:16.956" style="s2">my password will be</p>
<p begin="11:56:13.200" end="11:56:19.360" style="s2">password 1 2 3 we&#39;ll execute</p>
<p begin="11:56:16.956" end="11:56:21.520" style="s2">it and you can see that we get an</p>
<p begin="11:56:19.360" end="11:56:23.756" style="s2">internal server error so what is</p>
<p begin="11:56:21.520" end="11:56:26.240" style="s2">happening why can&#39;t we exactly create a</p>
<p begin="11:56:23.756" end="11:56:27.400" style="s2">user well like usual we&#39;re going to go</p>
<p begin="11:56:26.240" end="11:56:30.040" style="s2">back to our</p>
<p begin="11:56:27.400" end="11:56:32.560" style="s2">logs and we&#39;re going to see what</p>
<p begin="11:56:30.040" end="11:56:35.276" style="s2">happened all right so we can see the SQL</p>
<p begin="11:56:32.560" end="11:56:36.596" style="s2">that&#39;s getting inputed in the logs and</p>
<p begin="11:56:35.276" end="11:56:38.040" style="s2">it looks like there&#39;s some kind of error</p>
<p begin="11:56:36.596" end="11:56:40.320" style="s2">with the SQL and I don&#39;t know if it&#39;s</p>
<p begin="11:56:38.040" end="11:56:42.720" style="s2">going to give us a more specific in uh</p>
<p begin="11:56:40.320" end="11:56:44.160" style="s2">error that&#39;s going to actually help us</p>
<p begin="11:56:42.720" end="11:56:47.040" style="s2">uh I think that&#39;s all it&#39;s going to</p>
<p begin="11:56:44.160" end="11:56:49.240" style="s2">provide us in this case but I think you</p>
<p begin="11:56:47.040" end="11:56:54.436" style="s2">guys can guess exactly what&#39;s happening</p>
<p begin="11:56:49.240" end="11:56:54.436" style="s2">we deployed a brand new instance of</p>
<p begin="11:56:54.480" end="11:56:58.080" style="s2">postgress um but right now if we</p>
<p begin="11:56:56.800" end="11:56:59.640" style="s2">actually connect to our postgress you&#39;re</p>
<p begin="11:56:58.080" end="11:57:01.080" style="s2">going to see a few different issues so</p>
<p begin="11:56:59.640" end="11:57:04.200" style="s2">I&#39;m going to actually connect to this</p>
<p begin="11:57:01.080" end="11:57:06.276" style="s2">postest instance and to create a postest</p>
<p begin="11:57:04.200" end="11:57:08.360" style="s2">instance just right click here and then</p>
<p begin="11:57:06.276" end="11:57:10.000" style="s2">select create server so this is going to</p>
<p begin="11:57:08.360" end="11:57:12.720" style="s2">allow us to connect to another postris</p>
<p begin="11:57:10.000" end="11:57:14.560" style="s2">and I&#39;m going to call this Heroku d</p>
<p begin="11:57:12.720" end="11:57:17.040" style="s2">postgress and then here we&#39;re going to</p>
<p begin="11:57:14.560" end="11:57:19.320" style="s2">provide the same exact connection</p>
<p begin="11:57:17.040" end="11:57:21.756" style="s2">information so we&#39;ll go back to settings</p>
<p begin="11:57:19.320" end="11:57:21.756" style="s2">we&#39;ll get our</p>
<p begin="11:57:26.596" end="11:57:30.956" style="s2">credentials okay and so now we are</p>
<p begin="11:57:28.756" end="11:57:33.360" style="s2">successfully connected to our Heroku</p>
<p begin="11:57:30.956" end="11:57:36.240" style="s2">postgress instance and if I just drop</p>
<p begin="11:57:33.360" end="11:57:38.800" style="s2">this down and then go into databases</p>
<p begin="11:57:36.240" end="11:57:40.596" style="s2">you&#39;ll see a ton of different databases</p>
<p begin="11:57:38.800" end="11:57:43.880" style="s2">keep in mind we won&#39;t actually be able</p>
<p begin="11:57:40.596" end="11:57:45.680" style="s2">to access most of these uh so the reason</p>
<p begin="11:57:43.880" end="11:57:47.320" style="s2">postgress is able to oh sorry the reason</p>
<p begin="11:57:45.680" end="11:57:49.160" style="s2">Heroku is actually able to provide this</p>
<p begin="11:57:47.320" end="11:57:51.956" style="s2">for free is that they have one instance</p>
<p begin="11:57:49.160" end="11:57:54.680" style="s2">of postgress and then they give you one</p>
<p begin="11:57:51.956" end="11:57:56.756" style="s2">database within that instance that you</p>
<p begin="11:57:54.680" end="11:58:00.756" style="s2">can access but only you can access that</p>
<p begin="11:57:56.756" end="11:58:02.880" style="s2">specific database and so our database is</p>
<p begin="11:58:00.756" end="11:58:05.240" style="s2">d58 and I don&#39;t know if there&#39;s an easy</p>
<p begin="11:58:02.880" end="11:58:07.116" style="s2">way to search for databases let me see</p>
<p begin="11:58:05.240" end="11:58:08.560" style="s2">if I can right click this nope it</p>
<p begin="11:58:07.116" end="11:58:10.756" style="s2">doesn&#39;t look like there&#39;s an easy way so</p>
<p begin="11:58:08.560" end="11:58:13.720" style="s2">I&#39;m just going to have to scroll down to</p>
<p begin="11:58:10.756" end="11:58:16.360" style="s2">D5 and then to the next letters</p>
<p begin="11:58:13.720" end="11:58:18.520" style="s2">d58 re</p>
<p begin="11:58:16.360" end="11:58:20.240" style="s2">e05 all right so I finally found my</p>
<p begin="11:58:18.520" end="11:58:22.320" style="s2">database you&#39;ll see it&#39;s the one that I</p>
<p begin="11:58:20.240" end="11:58:24.840" style="s2">have access to so it&#39;s actually colored</p>
<p begin="11:58:22.320" end="11:58:27.720" style="s2">and if I just open this up real quick</p>
<p begin="11:58:24.840" end="11:58:27.720" style="s2">and go into</p>
<p begin="11:58:28.436" end="11:58:33.160" style="s2">schemas public and then</p>
<p begin="11:58:30.916" end="11:58:35.160" style="s2">tables there&#39;s nothing in there so</p>
<p begin="11:58:33.160" end="11:58:36.640" style="s2">that&#39;s really the reason why our</p>
<p begin="11:58:35.160" end="11:58:39.080" style="s2">application is not working is because we</p>
<p begin="11:58:36.640" end="11:58:41.000" style="s2">have a brand new postr instance but we</p>
<p begin="11:58:39.080" end="11:58:44.276" style="s2">haven&#39;t actually set up our tables or</p>
<p begin="11:58:41.000" end="11:58:46.276" style="s2">our schema and so this is where almic is</p>
<p begin="11:58:44.276" end="11:58:47.596" style="s2">going to come into play once again uh</p>
<p begin="11:58:46.276" end="11:58:49.880" style="s2">you&#39;ll see that since we already have</p>
<p begin="11:58:47.596" end="11:58:52.560" style="s2">all of our revision set up uh getting</p>
<p begin="11:58:49.880" end="11:58:54.560" style="s2">our production database to match our</p>
<p begin="11:58:52.560" end="11:58:56.756" style="s2">development database will be as simple</p>
<p begin="11:58:54.560" end="11:58:59.000" style="s2">as just running one simple command so</p>
<p begin="11:58:56.756" end="11:59:01.276" style="s2">we&#39;ll take a look at that in the next</p>
<p begin="11:58:59.000" end="11:59:03.880" style="s2">video in our development environment we</p>
<p begin="11:59:01.276" end="11:59:06.116" style="s2">used Olympic to manage our database</p>
<p begin="11:59:03.880" end="11:59:08.360" style="s2">schema so Olympic was responsible for</p>
<p begin="11:59:06.116" end="11:59:10.360" style="s2">creating all of those tables and since</p>
<p begin="11:59:08.360" end="11:59:11.720" style="s2">we have all of these revision files</p>
<p begin="11:59:10.360" end="11:59:13.240" style="s2">within the almic folder we can</p>
<p begin="11:59:11.720" end="11:59:16.116" style="s2">essentially track all the changes that</p>
<p begin="11:59:13.240" end="11:59:17.720" style="s2">we make and so to actually get our</p>
<p begin="11:59:16.116" end="11:59:21.116" style="s2">development database up to date we just</p>
<p begin="11:59:17.720" end="11:59:22.360" style="s2">ran olymic upgrade head and that would</p>
<p begin="11:59:21.116" end="11:59:24.276" style="s2">go to whichever one of these is the</p>
<p begin="11:59:22.360" end="11:59:26.160" style="s2">latest revision and make sure that our</p>
<p begin="11:59:24.276" end="11:59:29.720" style="s2">postgress instance matched whatever that</p>
<p begin="11:59:26.160" end="11:59:31.840" style="s2">is in our production database because in</p>
<p begin="11:59:29.720" end="11:59:33.560" style="s2">our production database it&#39;s going to be</p>
<p begin="11:59:31.840" end="11:59:36.640" style="s2">no different we&#39;re going to just run a</p>
<p begin="11:59:33.560" end="11:59:38.000" style="s2">limic upgrade head on our Heroku</p>
<p begin="11:59:36.640" end="11:59:40.680" style="s2">instance and that&#39;s going to ensure that</p>
<p begin="11:59:38.000" end="11:59:43.200" style="s2">our postgress database uh gets updated</p>
<p begin="11:59:40.680" end="11:59:45.720" style="s2">to our latest schema and because we&#39;ve</p>
<p begin="11:59:43.200" end="11:59:47.916" style="s2">checked all of these files into git um</p>
<p begin="11:59:45.720" end="11:59:50.880" style="s2">because all of the Olympic folders was</p>
<p begin="11:59:47.916" end="11:59:53.840" style="s2">added to git as well uh that then our</p>
<p begin="11:59:50.880" end="11:59:55.520" style="s2">Heroku instance has access to all of our</p>
<p begin="11:59:53.840" end="11:59:57.436" style="s2">revisions and so when we run Olympic</p>
<p begin="11:59:55.520" end="11:59:59.800" style="s2">Olympic can keep track of all of those</p>
<p begin="11:59:57.436" end="12:00:01.916" style="s2">changes as well in our production server</p>
<p begin="11:59:59.800" end="12:00:04.160" style="s2">and it&#39;s important to understand that we</p>
<p begin="12:00:01.916" end="12:00:06.680" style="s2">never run olymic</p>
<p begin="12:00:04.160" end="12:00:08.596" style="s2">revision on our production server we</p>
<p begin="12:00:06.680" end="12:00:10.080" style="s2">only run Olympic revision on our</p>
<p begin="12:00:08.596" end="12:00:11.720" style="s2">development server when we&#39;re staging</p>
<p begin="12:00:10.080" end="12:00:13.320" style="s2">out these changes in our production</p>
<p begin="12:00:11.720" end="12:00:15.436" style="s2">server server whenever we want to push</p>
<p begin="12:00:13.320" end="12:00:18.116" style="s2">out those changes we just do a get push</p>
<p begin="12:00:15.436" end="12:00:19.596" style="s2">so we push out the code all of our code</p>
<p begin="12:00:18.116" end="12:00:21.520" style="s2">changes as well as all of the Olympic</p>
<p begin="12:00:19.596" end="12:00:24.596" style="s2">revisions to our production server and</p>
<p begin="12:00:21.520" end="12:00:28.160" style="s2">we just run an Olympic upgrade head it&#39;s</p>
<p begin="12:00:24.596" end="12:00:29.560" style="s2">as simple as that so let&#39;s do that now</p>
<p begin="12:00:28.160" end="12:00:30.840" style="s2">the first thing that we need to do is we</p>
<p begin="12:00:29.560" end="12:00:33.956" style="s2">got to figure out how do we actually run</p>
<p begin="12:00:30.840" end="12:00:36.116" style="s2">a command in our Heroku</p>
<p begin="12:00:33.956" end="12:00:37.480" style="s2">instance uh I think your first guess is</p>
<p begin="12:00:36.116" end="12:00:39.400" style="s2">probably going to be do we add another</p>
<p begin="12:00:37.480" end="12:00:41.596" style="s2">line into this proc file that we can</p>
<p begin="12:00:39.400" end="12:00:43.520" style="s2">kind of call whenever we want to uh not</p>
<p begin="12:00:41.596" end="12:00:45.800" style="s2">exactly although maybe you can do that</p>
<p begin="12:00:43.520" end="12:00:48.360" style="s2">um but if we go back to our tutorial and</p>
<p begin="12:00:45.800" end="12:00:51.640" style="s2">go to start a console we can run a</p>
<p begin="12:00:48.360" end="12:00:53.276" style="s2">specific command on our Heroku instance</p>
<p begin="12:00:51.640" end="12:00:55.320" style="s2">by doing Heroku run and then the</p>
<p begin="12:00:53.276" end="12:00:57.360" style="s2">specific command that we want to run so</p>
<p begin="12:00:55.320" end="12:00:59.720" style="s2">let&#39;s try that out and you can even drop</p>
<p begin="12:00:57.360" end="12:01:02.000" style="s2">into the bash shell so there&#39;s a lot of</p>
<p begin="12:00:59.720" end="12:01:04.240" style="s2">flexibility but we&#39;re going to just do a</p>
<p begin="12:01:02.000" end="12:01:05.880" style="s2">Heroku run and then we want to provide</p>
<p begin="12:01:04.240" end="12:01:07.320" style="s2">the command that we want to run I&#39;m</p>
<p begin="12:01:05.880" end="12:01:08.520" style="s2">going to put in quotes I don&#39;t remember</p>
<p begin="12:01:07.320" end="12:01:09.916" style="s2">if it&#39;s a requirement to put it in</p>
<p begin="12:01:08.520" end="12:01:13.840" style="s2">quotes but I&#39;m going to do that just in</p>
<p begin="12:01:09.916" end="12:01:13.840" style="s2">case so we&#39;ll do almic upgrade</p>
<p begin="12:01:15.436" end="12:01:21.640" style="s2">head all right and you see that it&#39;s</p>
<p begin="12:01:17.880" end="12:01:21.640" style="s2">running that Command right</p>
<p begin="12:01:22.840" end="12:01:27.436" style="s2">now and take a look at the logs right</p>
<p begin="12:01:25.560" end="12:01:29.276" style="s2">you can see that not only did it get our</p>
<p begin="12:01:27.436" end="12:01:31.400" style="s2">postgress instance up to the latest</p>
<p begin="12:01:29.276" end="12:01:33.276" style="s2">revision it has all of the other</p>
<p begin="12:01:31.400" end="12:01:35.160" style="s2">incremental steps added in as well so we</p>
<p begin="12:01:33.276" end="12:01:37.436" style="s2">can roll back to any of them just like</p>
<p begin="12:01:35.160" end="12:01:40.840" style="s2">we did in development and if we go back</p>
<p begin="12:01:37.436" end="12:01:43.080" style="s2">to PG admin I&#39;m going to just refresh</p>
<p begin="12:01:40.840" end="12:01:45.240" style="s2">tables and if we go to our tables you</p>
<p begin="12:01:43.080" end="12:01:48.720" style="s2">can see that we have all of our tables</p>
<p begin="12:01:45.240" end="12:01:51.480" style="s2">here now and just in case um because I</p>
<p begin="12:01:48.720" end="12:01:55.160" style="s2">believe we crashed our application maybe</p>
<p begin="12:01:51.480" end="12:01:56.916" style="s2">uh when we try to you know create a user</p>
<p begin="12:01:55.160" end="12:01:58.720" style="s2">without having a postgress database or</p>
<p begin="12:01:56.916" end="12:02:00.800" style="s2">table set up I&#39;m just going to do a</p>
<p begin="12:01:58.720" end="12:02:03.400" style="s2">Heroku</p>
<p begin="12:02:00.800" end="12:02:05.880" style="s2">PS restart</p>
<p begin="12:02:03.400" end="12:02:09.560" style="s2">again just to restart the instance just</p>
<p begin="12:02:05.880" end="12:02:12.000" style="s2">in case and now I want to go back to</p>
<p begin="12:02:09.560" end="12:02:15.040" style="s2">here and we&#39;re going to just go back to</p>
<p begin="12:02:12.000" end="12:02:16.560" style="s2">the root URL to see if that works and</p>
<p begin="12:02:15.040" end="12:02:18.480" style="s2">that works that&#39;s perfect we&#39;ll go back</p>
<p begin="12:02:16.560" end="12:02:20.956" style="s2">to</p>
<p begin="12:02:18.480" end="12:02:23.640" style="s2">docs we can see that that works now</p>
<p begin="12:02:20.956" end="12:02:25.320" style="s2">let&#39;s try to create a user and so I&#39;ll</p>
<p begin="12:02:23.640" end="12:02:27.400" style="s2">do try it</p>
<p begin="12:02:25.320" end="12:02:28.756" style="s2">out and I don&#39;t even feel like changing</p>
<p begin="12:02:27.400" end="12:02:31.560" style="s2">any of these values technically these</p>
<p begin="12:02:28.756" end="12:02:33.520" style="s2">should still work so let&#39;s just try that</p>
<p begin="12:02:31.560" end="12:02:35.640" style="s2">and we got a response back and look at</p>
<p begin="12:02:33.520" end="12:02:38.240" style="s2">this we got a 2011 and we can see the</p>
<p begin="12:02:35.640" end="12:02:39.756" style="s2">user that was created so it looks like</p>
<p begin="12:02:38.240" end="12:02:41.840" style="s2">our application was now successfully</p>
<p begin="12:02:39.756" end="12:02:43.040" style="s2">able to access our database if we go</p>
<p begin="12:02:41.840" end="12:02:45.160" style="s2">into the users</p>
<p begin="12:02:43.040" end="12:02:48.480" style="s2">table right click on this and just do a</p>
<p begin="12:02:45.160" end="12:02:51.360" style="s2">view edit all</p>
<p begin="12:02:48.480" end="12:02:53.756" style="s2">rows we can see the one user that we</p>
<p begin="12:02:51.360" end="12:02:55.480" style="s2">created all right and so that&#39;s pretty</p>
<p begin="12:02:53.756" end="12:02:57.360" style="s2">much it we&#39;ve successfully deployed our</p>
<p begin="12:02:55.480" end="12:02:59.680" style="s2">application the last thing that I want</p>
<p begin="12:02:57.360" end="12:03:02.160" style="s2">to show you guys is how do we push out</p>
<p begin="12:02:59.680" end="12:03:04.840" style="s2">changes to our application let so let&#39;s</p>
<p begin="12:03:02.160" end="12:03:06.116" style="s2">say that I go into my app and right now</p>
<p begin="12:03:04.840" end="12:03:08.320" style="s2">I go into</p>
<p begin="12:03:06.116" end="12:03:09.840" style="s2">main.py and I see that this just says</p>
<p begin="12:03:08.320" end="12:03:11.880" style="s2">message hello world and let&#39;s say I make</p>
<p begin="12:03:09.840" end="12:03:13.596" style="s2">some kind of change and let&#39;s say I just</p>
<p begin="12:03:11.880" end="12:03:15.080" style="s2">add a whole bunch of exclamation points</p>
<p begin="12:03:13.596" end="12:03:16.480" style="s2">or something just keep it to keep it</p>
<p begin="12:03:15.080" end="12:03:17.956" style="s2">simple just to show you guys you know</p>
<p begin="12:03:16.480" end="12:03:19.360" style="s2">regardless of what change you make the</p>
<p begin="12:03:17.956" end="12:03:21.840" style="s2">steps are going to be identical so we</p>
<p begin="12:03:19.360" end="12:03:23.720" style="s2">make some changes the the next thing</p>
<p begin="12:03:21.840" end="12:03:25.276" style="s2">that we have to do is we actually have</p>
<p begin="12:03:23.720" end="12:03:26.640" style="s2">to push out those changes so first of</p>
<p begin="12:03:25.276" end="12:03:28.160" style="s2">all you&#39;re definitely going to you know</p>
<p begin="12:03:26.640" end="12:03:30.560" style="s2">push out those changes to your GitHub</p>
<p begin="12:03:28.160" end="12:03:32.040" style="s2">repository so we&#39;ll do get push origin</p>
<p begin="12:03:30.560" end="12:03:34.276" style="s2">main so that&#39;s going to push it out to</p>
<p begin="12:03:32.040" end="12:03:36.840" style="s2">get</p>
<p begin="12:03:34.276" end="12:03:38.840" style="s2">GitHub well sorry I forgot to do a get</p>
<p begin="12:03:36.840" end="12:03:40.116" style="s2">add-- all so we actually have to add</p>
<p begin="12:03:38.840" end="12:03:43.720" style="s2">those changes and then commit those</p>
<p begin="12:03:40.116" end="12:03:43.720" style="s2">changes so I&#39;ll do get commit</p>
<p begin="12:03:45.080" end="12:03:49.520" style="s2">then we&#39;ll do a get push origin main so</p>
<p begin="12:03:47.596" end="12:03:51.040" style="s2">that&#39;s going to push it out to GitHub</p>
<p begin="12:03:49.520" end="12:03:52.640" style="s2">and then finally to actually push those</p>
<p begin="12:03:51.040" end="12:03:58.916" style="s2">changes out to our production</p>
<p begin="12:03:52.640" end="12:03:58.916" style="s2">environment we&#39;ll do a get push Heroku</p>
<p begin="12:04:03.756" end="12:04:08.840" style="s2">main all right and so that&#39;s pushed out</p>
<p begin="12:04:06.200" end="12:04:10.756" style="s2">now and if we go back to our</p>
<p begin="12:04:08.840" end="12:04:12.360" style="s2">application I&#39;m going to go back to the</p>
<p begin="12:04:10.756" end="12:04:14.956" style="s2">route</p>
<p begin="12:04:12.360" end="12:04:16.880" style="s2">URL and we can see that we now have the</p>
<p begin="12:04:14.956" end="12:04:18.640" style="s2">extra exclamation points so we have</p>
<p begin="12:04:16.880" end="12:04:21.160" style="s2">successfully pushed out our changes all</p>
<p begin="12:04:18.640" end="12:04:23.400" style="s2">it took was just one simple command and</p>
<p begin="12:04:21.160" end="12:04:25.400" style="s2">keep in mind that if you make changes to</p>
<p begin="12:04:23.400" end="12:04:26.720" style="s2">your code that&#39;s all you have to do</p>
<p begin="12:04:25.400" end="12:04:28.360" style="s2">however if you make changes to your</p>
<p begin="12:04:26.720" end="12:04:30.200" style="s2">database so you know you go into Olympic</p>
<p begin="12:04:28.360" end="12:04:32.400" style="s2">and you create a new revision then we</p>
<p begin="12:04:30.200" end="12:04:35.000" style="s2">have to follow the same exact steps but</p>
<p begin="12:04:32.400" end="12:04:38.840" style="s2">on top of that we have to do the uh the</p>
<p begin="12:04:35.000" end="12:04:40.000" style="s2">Heroku run almic you know upgrade head</p>
<p begin="12:04:38.840" end="12:04:42.200" style="s2">so that we actually push out those</p>
<p begin="12:04:40.000" end="12:04:43.160" style="s2">changes to the postest instance but</p>
<p begin="12:04:42.200" end="12:04:45.436" style="s2">there you guys have it you have</p>
<p begin="12:04:43.160" end="12:04:48.080" style="s2">successfully deployed the application</p>
<p begin="12:04:45.436" end="12:04:50.756" style="s2">that we have spent building the past</p>
<p begin="12:04:48.080" end="12:04:52.756" style="s2">couple of days and so feel free to show</p>
<p begin="12:04:50.756" end="12:04:54.436" style="s2">this off to your friends and family uh</p>
<p begin="12:04:52.756" end="12:04:56.000" style="s2">feel free to make as many changes and</p>
<p begin="12:04:54.436" end="12:04:59.116" style="s2">modifications really start to play</p>
<p begin="12:04:56.000" end="12:05:00.756" style="s2">around with it uh try to expand on the</p>
<p begin="12:04:59.116" end="12:05:03.520" style="s2">functionality of our</p>
<p begin="12:05:00.756" end="12:05:05.276" style="s2">application and just keep learning I</p>
<p begin="12:05:03.520" end="12:05:06.916" style="s2">guess for the second method of</p>
<p begin="12:05:05.276" end="12:05:09.916" style="s2">deployment we&#39;re going to see how we can</p>
<p begin="12:05:06.916" end="12:05:12.040" style="s2">deploy our application on an abunto</p>
<p begin="12:05:09.916" end="12:05:14.000" style="s2">server and it&#39;s important to keep in</p>
<p begin="12:05:12.040" end="12:05:16.240" style="s2">mind that it does not matter where you</p>
<p begin="12:05:14.000" end="12:05:18.680" style="s2">host your abon 2 server you can run it</p>
<p begin="12:05:16.240" end="12:05:21.320" style="s2">on any of the major Cloud providers AWS</p>
<p begin="12:05:18.680" end="12:05:23.320" style="s2">Azure gcp you can run it on digital</p>
<p begin="12:05:21.320" end="12:05:25.000" style="s2">ocean you can run it on your local</p>
<p begin="12:05:23.320" end="12:05:26.720" style="s2">machine if you have virtual box</p>
<p begin="12:05:25.000" end="12:05:29.956" style="s2">installed on your computer you can run</p>
<p begin="12:05:26.720" end="12:05:31.800" style="s2">it on Raspberry Pi it doesn&#39;t matter the</p>
<p begin="12:05:29.956" end="12:05:34.596" style="s2">steps are going to be identical as long</p>
<p begin="12:05:31.800" end="12:05:36.360" style="s2">as you run it on an auntu server now</p>
<p begin="12:05:34.596" end="12:05:37.640" style="s2">what we&#39;re going to do in this course is</p>
<p begin="12:05:36.360" end="12:05:40.880" style="s2">I&#39;m going to show you guys how to deploy</p>
<p begin="12:05:37.640" end="12:05:43.560" style="s2">it on digital ocean just because it&#39;s $5</p>
<p begin="12:05:40.880" end="12:05:45.916" style="s2">a month it&#39;s cheap it&#39;s a fixed price uh</p>
<p begin="12:05:43.560" end="12:05:48.200" style="s2">if you deploy it on AWS then the price</p>
<p begin="12:05:45.916" end="12:05:50.160" style="s2">is kind of it varies and if you run it</p>
<p begin="12:05:48.200" end="12:05:52.240" style="s2">all all month long then it could Spike</p>
<p begin="12:05:50.160" end="12:05:55.080" style="s2">up well past $5 so this is kind of the</p>
<p begin="12:05:52.240" end="12:05:56.640" style="s2">cheapest solution but keep in mind like</p>
<p begin="12:05:55.080" end="12:05:58.480" style="s2">I said the steps are identical</p>
<p begin="12:05:56.640" end="12:06:00.880" style="s2">regardless of where you</p>
<p begin="12:05:58.480" end="12:06:02.756" style="s2">deploy I just want to focus on making</p>
<p begin="12:06:00.880" end="12:06:05.240" style="s2">sure that you guys understand the steps</p>
<p begin="12:06:02.756" end="12:06:08.720" style="s2">that needs to take place to actually set</p>
<p begin="12:06:05.240" end="12:06:11.640" style="s2">up your buntu server to be ready to host</p>
<p begin="12:06:08.720" end="12:06:13.000" style="s2">your application uh and so if you don&#39;t</p>
<p begin="12:06:11.640" end="12:06:15.116" style="s2">have a digal ocean account go ahead and</p>
<p begin="12:06:13.000" end="12:06:17.116" style="s2">make one and then once you log in you&#39;ll</p>
<p begin="12:06:15.116" end="12:06:19.320" style="s2">see this window and what we want to do</p>
<p begin="12:06:17.116" end="12:06:22.640" style="s2">is Select get started with the</p>
<p begin="12:06:19.320" end="12:06:24.680" style="s2">droplet so we&#39;ll select that and what we</p>
<p begin="12:06:22.640" end="12:06:26.916" style="s2">want to do is we want to select auntu</p>
<p begin="12:06:24.680" end="12:06:28.560" style="s2">20.04 that&#39;s the latest version at the</p>
<p begin="12:06:26.916" end="12:06:30.640" style="s2">moment if you&#39;re watching this in the</p>
<p begin="12:06:28.560" end="12:06:32.480" style="s2">future um you could probably grab one of</p>
<p begin="12:06:30.640" end="12:06:34.200" style="s2">the newer ones most of these commands</p>
<p begin="12:06:32.480" end="12:06:35.680" style="s2">are going to be identical but if you</p>
<p begin="12:06:34.200" end="12:06:37.640" style="s2">wanted to make sure that you don&#39;t run</p>
<p begin="12:06:35.680" end="12:06:40.000" style="s2">into any issues select the same exact</p>
<p begin="12:06:37.640" end="12:06:41.640" style="s2">version then for the CPU options you</p>
<p begin="12:06:40.000" end="12:06:43.436" style="s2">want to select regular Intel with with</p>
<p begin="12:06:41.640" end="12:06:45.040" style="s2">SSD that&#39;s going to be the cheapest and</p>
<p begin="12:06:43.436" end="12:06:50.400" style="s2">then you want to select the cheapest one</p>
<p begin="12:06:45.040" end="12:06:50.400" style="s2">right here which is $5 a month or</p>
<p begin="12:06:50.436" end="12:06:56.880" style="s2">0.7 per hour what is that seven 710 of a</p>
<p begin="12:06:54.240" end="12:06:58.520" style="s2">cent all right and then uh select your</p>
<p begin="12:06:56.880" end="12:06:59.880" style="s2">data center so I&#39;m just going to select</p>
<p begin="12:06:58.520" end="12:07:02.200" style="s2">whatever is closest to me I&#39;m on the</p>
<p begin="12:06:59.880" end="12:07:04.840" style="s2">East Coast so I&#39;m going to select</p>
<p begin="12:07:02.200" end="12:07:06.160" style="s2">that and then nothing else for the most</p>
<p begin="12:07:04.840" end="12:07:07.720" style="s2">part really matters we can leave</p>
<p begin="12:07:06.160" end="12:07:09.320" style="s2">everything as default uh and then you</p>
<p begin="12:07:07.720" end="12:07:11.596" style="s2">have two options for authentication you</p>
<p begin="12:07:09.320" end="12:07:13.276" style="s2">can use SSH keys if you&#39;re familiar with</p>
<p begin="12:07:11.596" end="12:07:14.800" style="s2">how to work with that if you&#39;re not then</p>
<p begin="12:07:13.276" end="12:07:16.480" style="s2">start out with password for now it&#39;s</p>
<p begin="12:07:14.800" end="12:07:18.276" style="s2">just a little bit</p>
<p begin="12:07:16.480" end="12:07:20.480" style="s2">simpler and you&#39;ll see that digital</p>
<p begin="12:07:18.276" end="12:07:22.400" style="s2">ocean has some strict requirements for</p>
<p begin="12:07:20.480" end="12:07:24.000" style="s2">passwords so uh you&#39;re probably going to</p>
<p begin="12:07:22.400" end="12:07:26.116" style="s2">have to try this a couple times before</p>
<p begin="12:07:24.000" end="12:07:28.080" style="s2">you find one that actually matches their</p>
<p begin="12:07:26.116" end="12:07:30.720" style="s2">criteria and then here we can just give</p>
<p begin="12:07:28.080" end="12:07:33.880" style="s2">this a specific host name I&#39;m just going</p>
<p begin="12:07:30.720" end="12:07:37.880" style="s2">to call this auntu dfast</p>
<p begin="12:07:33.880" end="12:07:39.756" style="s2">API it&#39;s nothing more than really just a</p>
<p begin="12:07:37.880" end="12:07:41.756" style="s2">tag and that&#39;s all we have to do we&#39;ll</p>
<p begin="12:07:39.756" end="12:07:45.040" style="s2">select create do droplet and digital</p>
<p begin="12:07:41.756" end="12:07:45.040" style="s2">ocean will create our auntu</p>
<p begin="12:07:52.080" end="12:07:56.400" style="s2">VM all right and once the loading bar</p>
<p begin="12:07:54.360" end="12:07:58.640" style="s2">finishes you should see a public IP this</p>
<p begin="12:07:56.400" end="12:08:01.560" style="s2">is the IP that we&#39;re going to use to</p>
<p begin="12:07:58.640" end="12:08:03.160" style="s2">connect to our virtual machine and so</p>
<p begin="12:08:01.560" end="12:08:04.640" style="s2">we&#39;ll take a look at how to connect to</p>
<p begin="12:08:03.160" end="12:08:07.360" style="s2">this in the next</p>
<p begin="12:08:04.640" end="12:08:09.320" style="s2">video to connect to our auntu virtual</p>
<p begin="12:08:07.360" end="12:08:11.040" style="s2">machine we need to open up our terminal</p>
<p begin="12:08:09.320" end="12:08:12.240" style="s2">so just search for terminal on Windows</p>
<p begin="12:08:11.040" end="12:08:14.080" style="s2">if you&#39;re on Mac you can do the same</p>
<p begin="12:08:12.240" end="12:08:15.436" style="s2">thing just search for terminal uh and</p>
<p begin="12:08:14.080" end="12:08:16.916" style="s2">then on Windows you can select command</p>
<p begin="12:08:15.436" end="12:08:18.040" style="s2">prompt I installed another terminal so</p>
<p begin="12:08:16.916" end="12:08:19.680" style="s2">I&#39;m actually going to use that but you</p>
<p begin="12:08:18.040" end="12:08:21.640" style="s2">can use this one as well you can even</p>
<p begin="12:08:19.680" end="12:08:25.116" style="s2">use the built-in terminal within VSS</p>
<p begin="12:08:21.640" end="12:08:25.116" style="s2">code it&#39;s all going to be the same</p>
<p begin="12:08:26.276" end="12:08:32.880" style="s2">thing okay and to connect to a device we</p>
<p begin="12:08:30.560" end="12:08:35.520" style="s2">have to use a protocol called SSH so we</p>
<p begin="12:08:32.880" end="12:08:37.400" style="s2">do SSH and then we have to provide the</p>
<p begin="12:08:35.520" end="12:08:39.720" style="s2">username that we want to connect to to</p>
<p begin="12:08:37.400" end="12:08:41.200" style="s2">the device uh and so this is going to</p>
<p begin="12:08:39.720" end="12:08:44.276" style="s2">vary depending on where you&#39;re deploying</p>
<p begin="12:08:41.200" end="12:08:45.480" style="s2">your virtual machine um on digital ocean</p>
<p begin="12:08:44.276" end="12:08:47.436" style="s2">this is they&#39;re going to create an</p>
<p begin="12:08:45.480" end="12:08:49.200" style="s2">account uh for the root user so this is</p>
<p begin="12:08:47.436" end="12:08:51.080" style="s2">like the most privileged user this is</p>
<p begin="12:08:49.200" end="12:08:52.276" style="s2">where you can ultimately do anything</p>
<p begin="12:08:51.080" end="12:08:56.080" style="s2">with the device you have unlimited</p>
<p begin="12:08:52.276" end="12:08:57.360" style="s2">access so we&#39;re going to do SSH root at</p>
<p begin="12:08:56.080" end="12:08:59.000" style="s2">and then you do the at symbol and then</p>
<p begin="12:08:57.360" end="12:09:01.520" style="s2">we provide the IP address so I can just</p>
<p begin="12:08:59.000" end="12:09:03.240" style="s2">hover over this select copy and then</p>
<p begin="12:09:01.520" end="12:09:05.276" style="s2">paste it in</p>
<p begin="12:09:03.240" end="12:09:08.000" style="s2">here and at this point you&#39;ll get this</p>
<p begin="12:09:05.276" end="12:09:10.000" style="s2">you know fingerprint message so just hit</p>
<p begin="12:09:08.000" end="12:09:11.200" style="s2">yes and then it&#39;s going to ask you for</p>
<p begin="12:09:10.000" end="12:09:12.480" style="s2">the password so this is the password</p>
<p begin="12:09:11.200" end="12:09:13.480" style="s2">that we provided when we created the</p>
<p begin="12:09:12.480" end="12:09:15.720" style="s2">virtual</p>
<p begin="12:09:13.480" end="12:09:17.800" style="s2">machine and at that point we are now</p>
<p begin="12:09:15.720" end="12:09:19.200" style="s2">successfully logged in and so you can if</p>
<p begin="12:09:17.800" end="12:09:20.480" style="s2">you run LS this is just going to print</p>
<p begin="12:09:19.200" end="12:09:22.240" style="s2">out the contents of your current</p>
<p begin="12:09:20.480" end="12:09:24.956" style="s2">directory and so it looks like we&#39;ve got</p>
<p begin="12:09:22.240" end="12:09:27.916" style="s2">one folder uh in our directory right</p>
<p begin="12:09:24.956" end="12:09:30.880" style="s2">here but this is our abunto virtual</p>
<p begin="12:09:27.916" end="12:09:32.436" style="s2">machine and anytime you you get a brand</p>
<p begin="12:09:30.880" end="12:09:33.800" style="s2">new abun to Virtual Machine the first</p>
<p begin="12:09:32.436" end="12:09:35.880" style="s2">thing that we want to do is we want to</p>
<p begin="12:09:33.800" end="12:09:37.080" style="s2">update all of the installed packages so</p>
<p begin="12:09:35.880" end="12:09:38.956" style="s2">we want to make sure that it&#39;s up to</p>
<p begin="12:09:37.080" end="12:09:41.000" style="s2">date right just just like installing any</p>
<p begin="12:09:38.956" end="12:09:43.000" style="s2">other operating system and to run that</p>
<p begin="12:09:41.000" end="12:09:44.956" style="s2">there&#39;s two commands that we want to run</p>
<p begin="12:09:43.000" end="12:09:46.596" style="s2">so we do pseudo so this is going to give</p>
<p begin="12:09:44.956" end="12:09:48.116" style="s2">you well technically we don&#39;t need to</p>
<p begin="12:09:46.596" end="12:09:49.640" style="s2">run pseudo because we&#39;re the root user</p>
<p begin="12:09:48.116" end="12:09:50.840" style="s2">but if for some reason you&#39;re not the</p>
<p begin="12:09:49.640" end="12:09:54.800" style="s2">root user then you always have to use</p>
<p begin="12:09:50.840" end="12:09:56.916" style="s2">the keyword pseudo so we do pseudo apt</p>
<p begin="12:09:54.800" end="12:10:00.756" style="s2">update and then the second command we</p>
<p begin="12:09:56.916" end="12:10:03.720" style="s2">can do two and signs and say pseudo apt</p>
<p begin="12:10:00.756" end="12:10:05.560" style="s2">upgrade and then pass in a-y flag the</p>
<p begin="12:10:03.720" end="12:10:07.320" style="s2">reason we pass in the- Y flag is because</p>
<p begin="12:10:05.560" end="12:10:08.680" style="s2">if you don&#39;t pass in this flag what&#39;s</p>
<p begin="12:10:07.320" end="12:10:10.240" style="s2">going to happen is it&#39;s going to do a</p>
<p begin="12:10:08.680" end="12:10:12.840" style="s2">few things and then a prompt will come</p>
<p begin="12:10:10.240" end="12:10:14.276" style="s2">up or you actually have to hit yes uh</p>
<p begin="12:10:12.840" end="12:10:16.840" style="s2">and I always hate having to hit yes when</p>
<p begin="12:10:14.276" end="12:10:18.360" style="s2">you pass in the dashy you can let it run</p>
<p begin="12:10:16.840" end="12:10:19.916" style="s2">uh and then you can just go do something</p>
<p begin="12:10:18.360" end="12:10:22.560" style="s2">else go get some coffee because it is a</p>
<p begin="12:10:19.916" end="12:10:22.560" style="s2">fairly long</p>
<p begin="12:10:23.000" end="12:10:26.916" style="s2">process if you get this popup it doesn&#39;t</p>
<p begin="12:10:25.360" end="12:10:28.596" style="s2">really matter what option you choose you</p>
<p begin="12:10:26.916" end="12:10:29.956" style="s2">can say keep local version currently</p>
<p begin="12:10:28.596" end="12:10:31.640" style="s2">installed or install the package</p>
<p begin="12:10:29.956" end="12:10:33.040" style="s2">maintainers version I&#39;m going to select</p>
<p begin="12:10:31.640" end="12:10:35.276" style="s2">this one but it shouldn&#39;t make a</p>
<p begin="12:10:33.040" end="12:10:36.916" style="s2">difference so once all of those packages</p>
<p begin="12:10:35.276" end="12:10:38.596" style="s2">are up to date we need to install a</p>
<p begin="12:10:36.916" end="12:10:40.436" style="s2">couple of extra</p>
<p begin="12:10:38.596" end="12:10:42.276" style="s2">packages and the first thing that we</p>
<p begin="12:10:40.436" end="12:10:43.680" style="s2">need to do is well let&#39;s actually check</p>
<p begin="12:10:42.276" end="12:10:46.640" style="s2">what version of python we&#39;re running on</p>
<p begin="12:10:43.680" end="12:10:49.480" style="s2">this machine so if I do python D-</p>
<p begin="12:10:46.640" end="12:10:51.480" style="s2">version all right so it doesn&#39;t look</p>
<p begin="12:10:49.480" end="12:10:56.080" style="s2">like Python&#39;s installed however if I do</p>
<p begin="12:10:51.480" end="12:10:57.520" style="s2">a python 3-- version we can see that we</p>
<p begin="12:10:56.080" end="12:11:00.240" style="s2">actually do have python it&#39;s just we</p>
<p begin="12:10:57.520" end="12:11:03.200" style="s2">have to use Python 3 because a version</p>
<p begin="12:11:00.240" end="12:11:05.560" style="s2">three uh of python was installed and so</p>
<p begin="12:11:03.200" end="12:11:08.756" style="s2">if you see anything that starts at 3.8</p>
<p begin="12:11:05.560" end="12:11:10.116" style="s2">do10 or later you should be good however</p>
<p begin="12:11:08.756" end="12:11:13.080" style="s2">if you want to you can always do a</p>
<p begin="12:11:10.116" end="12:11:14.400" style="s2">pseudo app inst stall Python and then I</p>
<p begin="12:11:13.080" end="12:11:16.080" style="s2">think you could just do a dash and</p>
<p begin="12:11:14.400" end="12:11:17.916" style="s2">specify the specific version that you</p>
<p begin="12:11:16.080" end="12:11:19.276" style="s2">want but you can you can figure out how</p>
<p begin="12:11:17.916" end="12:11:22.240" style="s2">to do that by taking a look at the</p>
<p begin="12:11:19.276" end="12:11:24.080" style="s2">python documentation 3.8 do10 or later</p>
<p begin="12:11:22.240" end="12:11:25.480" style="s2">is more than good enough for us so we</p>
<p begin="12:11:24.080" end="12:11:27.520" style="s2">have python the next thing that we need</p>
<p begin="12:11:25.480" end="12:11:28.720" style="s2">to do is we need to install pip and</p>
<p begin="12:11:27.520" end="12:11:30.276" style="s2">let&#39;s actually double check and make</p>
<p begin="12:11:28.720" end="12:11:32.756" style="s2">sure that it&#39;s not already installed on</p>
<p begin="12:11:30.276" end="12:11:33.480" style="s2">our machine so we can just say pip Das</p>
<p begin="12:11:32.756" end="12:11:36.116" style="s2">Das</p>
<p begin="12:11:33.480" end="12:11:38.880" style="s2">version we can see there&#39;s no pip here</p>
<p begin="12:11:36.116" end="12:11:40.840" style="s2">however let&#39;s try a pip three--</p>
<p begin="12:11:38.880" end="12:11:42.116" style="s2">version and it looks like we don&#39;t have</p>
<p begin="12:11:40.840" end="12:11:44.360" style="s2">Pip in installed but it&#39;s giving us a</p>
<p begin="12:11:42.116" end="12:11:49.720" style="s2">little hint on how to install pip so we</p>
<p begin="12:11:44.360" end="12:11:49.720" style="s2">can do pseudo app install python 3-</p>
<p begin="12:11:50.040" end="12:11:56.680" style="s2">pip and we&#39;ll hit why for</p>
<p begin="12:11:54.680" end="12:11:59.640" style="s2">yes and once that&#39;s done we&#39;re going to</p>
<p begin="12:11:56.680" end="12:12:01.160" style="s2">use pip to actually install virtual Envy</p>
<p begin="12:11:59.640" end="12:12:02.916" style="s2">um because we are going to make use of</p>
<p begin="12:12:01.160" end="12:12:07.480" style="s2">virtual environments on this machine as</p>
<p begin="12:12:02.916" end="12:12:11.080" style="s2">well so we&#39;ll say pseudo pip 3 install</p>
<p begin="12:12:07.480" end="12:12:11.080" style="s2">virtual Envy</p>
<p begin="12:12:18.000" end="12:12:21.240" style="s2">and so now we should be able to use the</p>
<p begin="12:12:19.360" end="12:12:23.436" style="s2">virtual environment</p>
<p begin="12:12:21.240" end="12:12:26.276" style="s2">command the next thing that we have to</p>
<p begin="12:12:23.436" end="12:12:29.200" style="s2">do is install postgress on this machine</p>
<p begin="12:12:26.276" end="12:12:32.200" style="s2">so we&#39;ll run pseudo apt install and then</p>
<p begin="12:12:29.200" end="12:12:38.200" style="s2">the libraries that we need are</p>
<p begin="12:12:32.200" end="12:12:40.560" style="s2">postgressql and postgressql Das</p>
<p begin="12:12:38.200" end="12:12:42.916" style="s2">contrib and then we&#39;ll do a-y so that we</p>
<p begin="12:12:40.560" end="12:12:45.080" style="s2">don&#39;t have to hit hit</p>
<p begin="12:12:42.916" end="12:12:47.400" style="s2">yes okay so we&#39;ve got postgress</p>
<p begin="12:12:45.080" end="12:12:49.840" style="s2">installed how exactly do we connect to</p>
<p begin="12:12:47.400" end="12:12:51.880" style="s2">it uh so what we&#39;re going to first do is</p>
<p begin="12:12:49.840" end="12:12:54.400" style="s2">before we try to connect to it from our</p>
<p begin="12:12:51.880" end="12:12:56.916" style="s2">local machine I want to connect to it</p>
<p begin="12:12:54.400" end="12:12:59.240" style="s2">from the actual auntu computer itself</p>
<p begin="12:12:56.916" end="12:13:00.680" style="s2">the auntu virtual machine uh and so</p>
<p begin="12:12:59.240" end="12:13:03.560" style="s2">we&#39;re actually going to take a look at</p>
<p begin="12:13:00.680" end="12:13:06.000" style="s2">the the CLI for accessing the postgress</p>
<p begin="12:13:03.560" end="12:13:08.480" style="s2">database and so the tool that we use to</p>
<p begin="12:13:06.000" end="12:13:10.640" style="s2">do this through CLI is called</p>
<p begin="12:13:08.480" end="12:13:13.840" style="s2">psql right and we should be able to have</p>
<p begin="12:13:10.640" end="12:13:15.240" style="s2">access to it so if you do psql - verion</p>
<p begin="12:13:13.840" end="12:13:17.080" style="s2">you should see that it should respond</p>
<p begin="12:13:15.240" end="12:13:20.080" style="s2">back with something so that means psql</p>
<p begin="12:13:17.080" end="12:13:21.520" style="s2">is installed and if I do a psql --el</p>
<p begin="12:13:20.080" end="12:13:24.040" style="s2">it&#39;s going to show us the different</p>
<p begin="12:13:21.520" end="12:13:25.720" style="s2">flags that we can pass in um but the</p>
<p begin="12:13:24.040" end="12:13:27.400" style="s2">main flag that we want to pass in is the</p>
<p begin="12:13:25.720" end="12:13:31.116" style="s2">dasu so we can specify what&#39;s the</p>
<p begin="12:13:27.400" end="12:13:31.116" style="s2">username that we want to connect</p>
<p begin="12:13:31.276" end="12:13:38.320" style="s2">to so let&#39;s say psql then- capital u and</p>
<p begin="12:13:36.240" end="12:13:40.680" style="s2">then our username and we know that when</p>
<p begin="12:13:38.320" end="12:13:43.160" style="s2">we install postgress it&#39;s going to</p>
<p begin="12:13:40.680" end="12:13:44.276" style="s2">install call a user on the database</p>
<p begin="12:13:43.160" end="12:13:46.200" style="s2">called postgress so that&#39;s what we</p>
<p begin="12:13:44.276" end="12:13:48.480" style="s2">always use to connect to it by default</p>
<p begin="12:13:46.200" end="12:13:51.276" style="s2">and see we say postgress and if you want</p>
<p begin="12:13:48.480" end="12:13:52.560" style="s2">to you can specify the specific database</p>
<p begin="12:13:51.276" end="12:13:55.480" style="s2">you want to connect to I believe there&#39;s</p>
<p begin="12:13:52.560" end="12:13:57.916" style="s2">a flag it might be- D yep the database</p>
<p begin="12:13:55.480" end="12:13:59.756" style="s2">name so you could technically say- D</p>
<p begin="12:13:57.916" end="12:14:01.720" style="s2">postest but postest is going to be the</p>
<p begin="12:13:59.756" end="12:14:04.880" style="s2">default so you can leave that</p>
<p begin="12:14:01.720" end="12:14:06.800" style="s2">off and we&#39;re connecting to uh our Local</p>
<p begin="12:14:04.880" end="12:14:08.596" style="s2">Host which is going to be the default as</p>
<p begin="12:14:06.800" end="12:14:10.560" style="s2">well so we don&#39;t need to pass in that</p>
<p begin="12:14:08.596" end="12:14:12.480" style="s2">and the port we can also pass that in</p>
<p begin="12:14:10.560" end="12:14:14.080" style="s2">the default is 5432 which is what it&#39;s</p>
<p begin="12:14:12.480" end="12:14:15.640" style="s2">running on so we don&#39;t really have to</p>
<p begin="12:14:14.080" end="12:14:17.240" style="s2">touch anything else and we&#39;re going to</p>
<p begin="12:14:15.640" end="12:14:18.160" style="s2">try and connect like this so let&#39;s see</p>
<p begin="12:14:17.240" end="12:14:20.436" style="s2">what</p>
<p begin="12:14:18.160" end="12:14:22.560" style="s2">happens all right and we get this error</p>
<p begin="12:14:20.436" end="12:14:24.916" style="s2">it says psql error fatal peer</p>
<p begin="12:14:22.560" end="12:14:26.720" style="s2">authentication failed for user postgress</p>
<p begin="12:14:24.916" end="12:14:29.240" style="s2">so for some reason it&#39;s saying peer</p>
<p begin="12:14:26.720" end="12:14:31.000" style="s2">authentication failed and this is a</p>
<p begin="12:14:29.240" end="12:14:33.200" style="s2">special meaning right it sounds like a</p>
<p begin="12:14:31.000" end="12:14:34.720" style="s2">regular login failure but it&#39;s not and</p>
<p begin="12:14:33.200" end="12:14:36.720" style="s2">it&#39;s because postrest when you install</p>
<p begin="12:14:34.720" end="12:14:39.720" style="s2">it on a buntu it has a special way of</p>
<p begin="12:14:36.720" end="12:14:42.040" style="s2">authenticating users by default so when</p>
<p begin="12:14:39.720" end="12:14:43.840" style="s2">it comes to local authentication and</p>
<p begin="12:14:42.040" end="12:14:46.240" style="s2">what I mean by local authentication is</p>
<p begin="12:14:43.840" end="12:14:48.480" style="s2">the abtu VM connecting to the database</p>
<p begin="12:14:46.240" end="12:14:50.080" style="s2">itself that&#39;s what a local</p>
<p begin="12:14:48.480" end="12:14:51.520" style="s2">authentication means whereas if I&#39;m</p>
<p begin="12:14:50.080" end="12:14:54.520" style="s2">connecting from my Windows machine to</p>
<p begin="12:14:51.520" end="12:14:56.956" style="s2">the postris database on this uh on this</p>
<p begin="12:14:54.520" end="12:14:59.320" style="s2">auntu VM that is not called that is not</p>
<p begin="12:14:56.956" end="12:15:00.680" style="s2">considered local authentication so since</p>
<p begin="12:14:59.320" end="12:15:03.400" style="s2">we are on the same machine that we&#39;re</p>
<p begin="12:15:00.680" end="12:15:04.956" style="s2">trying to connect to our database uh</p>
<p begin="12:15:03.400" end="12:15:07.800" style="s2">postgress considers this a local</p>
<p begin="12:15:04.956" end="12:15:10.200" style="s2">authentication and on a buntu we have a</p>
<p begin="12:15:07.800" end="12:15:11.520" style="s2">special configuration uh called Pure</p>
<p begin="12:15:10.200" end="12:15:13.080" style="s2">Authentication</p>
<p begin="12:15:11.520" end="12:15:14.680" style="s2">now this is the default configuration</p>
<p begin="12:15:13.080" end="12:15:16.560" style="s2">for postgress and what peer</p>
<p begin="12:15:14.680" end="12:15:19.276" style="s2">authentication does is it actually takes</p>
<p begin="12:15:16.560" end="12:15:22.320" style="s2">the user that&#39;s logged in to the abunto</p>
<p begin="12:15:19.276" end="12:15:23.956" style="s2">machine and it tries to log in as that</p>
<p begin="12:15:22.320" end="12:15:26.400" style="s2">user essentially so even though we pass</p>
<p begin="12:15:23.956" end="12:15:29.276" style="s2">in the - flag since I am technically</p>
<p begin="12:15:26.400" end="12:15:30.956" style="s2">logged in as the root user all right</p>
<p begin="12:15:29.276" end="12:15:32.436" style="s2">postgress is going to error out because</p>
<p begin="12:15:30.956" end="12:15:36.080" style="s2">it will only</p>
<p begin="12:15:32.436" end="12:15:38.596" style="s2">allow a auntu user called postest to be</p>
<p begin="12:15:36.080" end="12:15:40.360" style="s2">able to log in as the user called</p>
<p begin="12:15:38.596" end="12:15:43.080" style="s2">postest on the postest database little</p>
<p begin="12:15:40.360" end="12:15:45.400" style="s2">confusing right but it actually connects</p>
<p begin="12:15:43.080" end="12:15:47.320" style="s2">it actually obtains the username from</p>
<p begin="12:15:45.400" end="12:15:48.680" style="s2">the Linux kernel so whoever you&#39;re</p>
<p begin="12:15:47.320" end="12:15:50.916" style="s2">logged in is that&#39;s the only person you</p>
<p begin="12:15:48.680" end="12:15:53.596" style="s2">can log in as uh and so what we can do</p>
<p begin="12:15:50.916" end="12:15:56.080" style="s2">is first of all um because this is the</p>
<p begin="12:15:53.596" end="12:15:57.560" style="s2">default configuration um postgress</p>
<p begin="12:15:56.080" end="12:16:01.080" style="s2">understands that so postgress actually</p>
<p begin="12:15:57.560" end="12:16:03.000" style="s2">created a user on our auntu VM called</p>
<p begin="12:16:01.080" end="12:16:05.040" style="s2">postgress so if you want to see the list</p>
<p begin="12:16:03.000" end="12:16:11.240" style="s2">of all the users on your auntu machine</p>
<p begin="12:16:05.040" end="12:16:11.240" style="s2">you can do a pseudo cat etcp passwd</p>
<p begin="12:16:11.640" end="12:16:14.480" style="s2">and you can see all of the users that</p>
<p begin="12:16:12.916" end="12:16:15.880" style="s2">have been installed and you can see that</p>
<p begin="12:16:14.480" end="12:16:19.000" style="s2">it actually created a user called</p>
<p begin="12:16:15.880" end="12:16:20.756" style="s2">postgress on this machine so I&#39;m going</p>
<p begin="12:16:19.000" end="12:16:21.560" style="s2">to change that user so we can do that by</p>
<p begin="12:16:20.756" end="12:16:23.800" style="s2">doing</p>
<p begin="12:16:21.560" end="12:16:25.000" style="s2">Sue Dash and then the name of the user</p>
<p begin="12:16:23.800" end="12:16:26.956" style="s2">so</p>
<p begin="12:16:25.000" end="12:16:30.000" style="s2">postgress right and notice how we</p>
<p begin="12:16:26.956" end="12:16:32.840" style="s2">changed to this specific</p>
<p begin="12:16:30.000" end="12:16:34.560" style="s2">user and so now if I try to do</p>
<p begin="12:16:32.840" end="12:16:37.520" style="s2">psql</p>
<p begin="12:16:34.560" end="12:16:39.840" style="s2">dasu</p>
<p begin="12:16:37.520" end="12:16:41.560" style="s2">postest we can now log into the database</p>
<p begin="12:16:39.840" end="12:16:43.240" style="s2">so if you see this that means you&#39;re</p>
<p begin="12:16:41.560" end="12:16:45.400" style="s2">successfully logged into the postrest</p>
<p begin="12:16:43.240" end="12:16:47.596" style="s2">database and while we&#39;re logged in here</p>
<p begin="12:16:45.400" end="12:16:48.520" style="s2">before we do anything else because first</p>
<p begin="12:16:47.596" end="12:16:51.240" style="s2">of all we&#39;re going to get rid of that</p>
<p begin="12:16:48.520" end="12:16:53.080" style="s2">pure authentication because I hate it uh</p>
<p begin="12:16:51.240" end="12:16:55.480" style="s2">we want to create a password for our</p>
<p begin="12:16:53.080" end="12:16:59.640" style="s2">postgress user and to assign a password</p>
<p begin="12:16:55.480" end="12:17:02.756" style="s2">to this user we can say um backs</p>
<p begin="12:16:59.640" end="12:17:04.040" style="s2">slash password and then the name of the</p>
<p begin="12:17:02.756" end="12:17:06.560" style="s2">user that we want to assign a password</p>
<p begin="12:17:04.040" end="12:17:08.320" style="s2">to so we&#39;re going to use the postest</p>
<p begin="12:17:06.560" end="12:17:09.360" style="s2">user and then here we&#39;re going to</p>
<p begin="12:17:08.320" end="12:17:11.520" style="s2">provide our</p>
<p begin="12:17:09.360" end="12:17:13.800" style="s2">password all right and so now we should</p>
<p begin="12:17:11.520" end="12:17:16.000" style="s2">have a password and I&#39;m going to exit</p>
<p begin="12:17:13.800" end="12:17:18.680" style="s2">out of here so to exit out of the</p>
<p begin="12:17:16.000" end="12:17:19.800" style="s2">postgress uh console or terminal</p>
<p begin="12:17:18.680" end="12:17:22.720" style="s2">whatever you want to call it you just do</p>
<p begin="12:17:19.800" end="12:17:24.040" style="s2">backs slash and then Q for quit and then</p>
<p begin="12:17:22.720" end="12:17:25.756" style="s2">we&#39;re we&#39;re still logged in as the</p>
<p begin="12:17:24.040" end="12:17:27.480" style="s2">postgress user and so if you type in</p>
<p begin="12:17:25.756" end="12:17:28.480" style="s2">exit it&#39;s going to take us back to the</p>
<p begin="12:17:27.480" end="12:17:30.360" style="s2">root</p>
<p begin="12:17:28.480" end="12:17:31.756" style="s2">user there&#39;s going to be a few more</p>
<p begin="12:17:30.360" end="12:17:34.080" style="s2">things that I want to change to our</p>
<p begin="12:17:31.756" end="12:17:36.880" style="s2">postgress installation uh and so anytime</p>
<p begin="12:17:34.080" end="12:17:38.800" style="s2">you want to modify the configs for</p>
<p begin="12:17:36.880" end="12:17:40.116" style="s2">postgress uh what we want to do is we</p>
<p begin="12:17:38.800" end="12:17:41.200" style="s2">want to move to a different directory so</p>
<p begin="12:17:40.116" end="12:17:43.640" style="s2">the command to move to a different</p>
<p begin="12:17:41.200" end="12:17:45.000" style="s2">directory is CD and then we specify the</p>
<p begin="12:17:43.640" end="12:17:48.040" style="s2">path to the directory so we want to go</p>
<p begin="12:17:45.000" end="12:17:50.520" style="s2">to/ Etc so generally any application you</p>
<p begin="12:17:48.040" end="12:17:52.560" style="s2">install on Linux or a bun machine</p>
<p begin="12:17:50.520" end="12:17:53.840" style="s2">usually the configs for that that</p>
<p begin="12:17:52.560" end="12:17:55.956" style="s2">package or that application is going to</p>
<p begin="12:17:53.840" end="12:17:58.956" style="s2">be in/ Etsy and then here I&#39;m going to</p>
<p begin="12:17:55.956" end="12:18:01.360" style="s2">say postgress</p>
<p begin="12:17:58.956" end="12:18:02.436" style="s2">slash and then if I hit tab you can see</p>
<p begin="12:18:01.360" end="12:18:03.756" style="s2">that it&#39;s going to autocomplete so</p>
<p begin="12:18:02.436" end="12:18:06.040" style="s2">you&#39;re going to specify whatever version</p>
<p begin="12:18:03.756" end="12:18:08.480" style="s2">of postgress you ran uh and so in this</p>
<p begin="12:18:06.040" end="12:18:10.400" style="s2">case uh I have postgress 12 but if you</p>
<p begin="12:18:08.480" end="12:18:13.680" style="s2">installed a version 13 then you would</p>
<p begin="12:18:10.400" end="12:18:17.360" style="s2">put in it would be a folder called</p>
<p begin="12:18:13.680" end="12:18:19.116" style="s2">13 and then we go to Main and if I type</p>
<p begin="12:18:17.360" end="12:18:20.720" style="s2">in LS we&#39;ll see all of the files that we</p>
<p begin="12:18:19.116" end="12:18:23.080" style="s2">have in this folder and the two main</p>
<p begin="12:18:20.720" end="12:18:25.200" style="s2">files that we want to focus on are PG</p>
<p begin="12:18:23.080" end="12:18:28.680" style="s2">HPA com so this is where we configure</p>
<p begin="12:18:25.200" end="12:18:31.040" style="s2">postgress as well as postgress ql.com</p>
<p begin="12:18:28.680" end="12:18:33.840" style="s2">and so we&#39;re going to open up postgress</p>
<p begin="12:18:31.040" end="12:18:36.480" style="s2">ql.com so I&#39;m going to say pseudo VII</p>
<p begin="12:18:33.840" end="12:18:36.480" style="s2">postgressql</p>
<p begin="12:18:37.640" end="12:18:42.720" style="s2">com and we want to kind of scroll down</p>
<p begin="12:18:43.116" end="12:18:46.880" style="s2">and we want to take a look at the</p>
<p begin="12:18:44.596" end="12:18:48.040" style="s2">connections and authentication section</p>
<p begin="12:18:46.880" end="12:18:50.480" style="s2">uh and so if you take a look at the</p>
<p begin="12:18:48.040" end="12:18:52.596" style="s2">default configuration uh we can see that</p>
<p begin="12:18:50.480" end="12:18:54.680" style="s2">under listen addresses it&#39;s only going</p>
<p begin="12:18:52.596" end="12:18:56.680" style="s2">to allow Local Host to connect to our</p>
<p begin="12:18:54.680" end="12:18:58.880" style="s2">database that means only when we&#39;re</p>
<p begin="12:18:56.680" end="12:19:01.116" style="s2">logged into this auntu VM can we then</p>
<p begin="12:18:58.880" end="12:19:03.756" style="s2">log in to this postgress database it is</p>
<p begin="12:19:01.116" end="12:19:05.680" style="s2">not going to allow me to take PG admin</p>
<p begin="12:19:03.756" end="12:19:08.480" style="s2">on my Windows machine and connect to it</p>
<p begin="12:19:05.680" end="12:19:09.800" style="s2">remotely and so I want to change this</p>
<p begin="12:19:08.480" end="12:19:12.040" style="s2">and technically you don&#39;t have to do</p>
<p begin="12:19:09.800" end="12:19:13.880" style="s2">this um but you know if you do want to</p>
<p begin="12:19:12.040" end="12:19:16.800" style="s2">be able to connect to it remotely then</p>
<p begin="12:19:13.880" end="12:19:16.800" style="s2">you want to change these</p>
<p begin="12:19:17.800" end="12:19:22.400" style="s2">configs and so I&#39;m going to put this</p>
<p begin="12:19:19.596" end="12:19:24.560" style="s2">config we&#39;re going to say listenor</p>
<p begin="12:19:22.400" end="12:19:26.840" style="s2">addresses</p>
<p begin="12:19:24.560" end="12:19:29.680" style="s2">equals and then here you would provide</p>
<p begin="12:19:26.840" end="12:19:32.320" style="s2">the IP</p>
<p begin="12:19:29.680" end="12:19:33.956" style="s2">addresses uh and so you know if you</p>
<p begin="12:19:32.320" end="12:19:37.000" style="s2">wanted to only be able to connect to</p>
<p begin="12:19:33.956" end="12:19:38.640" style="s2">this database from you know uh your your</p>
<p begin="12:19:37.000" end="12:19:41.000" style="s2">office then you would put the IP address</p>
<p begin="12:19:38.640" end="12:19:43.400" style="s2">or domain name of your office if you</p>
<p begin="12:19:41.000" end="12:19:44.680" style="s2">want to allow all IP addresses to</p>
<p begin="12:19:43.400" end="12:19:46.080" style="s2">connect to it you would just do a star</p>
<p begin="12:19:44.680" end="12:19:47.596" style="s2">so that&#39;s what I&#39;m going to do it&#39;s</p>
<p begin="12:19:46.080" end="12:19:49.756" style="s2">going to allow me to connect to this</p>
<p begin="12:19:47.596" end="12:19:52.560" style="s2">regardless of what computer I&#39;m on or</p>
<p begin="12:19:49.756" end="12:19:53.880" style="s2">where I am on the network however it</p>
<p begin="12:19:52.560" end="12:19:55.956" style="s2">generally when it comes to best</p>
<p begin="12:19:53.880" end="12:19:57.640" style="s2">practices you want to really narrow down</p>
<p begin="12:19:55.956" end="12:19:59.520" style="s2">the scope of the different IPS and</p>
<p begin="12:19:57.640" end="12:20:00.680" style="s2">domains that can access your database</p>
<p begin="12:19:59.520" end="12:20:02.000" style="s2">because that&#39;s the most important part</p>
<p begin="12:20:00.680" end="12:20:04.200" style="s2">of your application you want to make</p>
<p begin="12:20:02.000" end="12:20:06.400" style="s2">sure it&#39;s as secure as</p>
<p begin="12:20:04.200" end="12:20:07.520" style="s2">possible all right so we&#39;ll save this</p>
<p begin="12:20:06.400" end="12:20:08.560" style="s2">that&#39;s the only change we need to make</p>
<p begin="12:20:07.520" end="12:20:10.680" style="s2">in this</p>
<p begin="12:20:08.560" end="12:20:13.756" style="s2">file then the next file that we need to</p>
<p begin="12:20:10.680" end="12:20:16.400" style="s2">change is PG HBA comp so we&#39;ll do the</p>
<p begin="12:20:13.756" end="12:20:19.680" style="s2">same thing sud VI PG HBA</p>
<p begin="12:20:16.400" end="12:20:21.840" style="s2">comp and we&#39;re going to scroll</p>
<p begin="12:20:19.680" end="12:20:23.756" style="s2">down and we&#39;re going to take a look at</p>
<p begin="12:20:21.840" end="12:20:26.320" style="s2">our default configuration so I did</p>
<p begin="12:20:23.756" end="12:20:28.640" style="s2">mention that uh when we connect locally</p>
<p begin="12:20:26.320" end="12:20:30.800" style="s2">it uses a peer authentication so you can</p>
<p begin="12:20:28.640" end="12:20:32.956" style="s2">see that uh for local</p>
<p begin="12:20:30.800" end="12:20:35.276" style="s2">connections and I forget what the second</p>
<p begin="12:20:32.956" end="12:20:37.000" style="s2">column is if we actually scroll up well</p>
<p begin="12:20:35.276" end="12:20:38.956" style="s2">I got to go up actually let&#39;s see what</p>
<p begin="12:20:37.000" end="12:20:41.436" style="s2">the second column</p>
<p begin="12:20:38.956" end="12:20:43.640" style="s2">is okay so this is going to be the</p>
<p begin="12:20:41.436" end="12:20:45.880" style="s2">format of it so this is going to specify</p>
<p begin="12:20:43.640" end="12:20:47.436" style="s2">what type of connection uh then what</p>
<p begin="12:20:45.880" end="12:20:49.436" style="s2">database this connection should be</p>
<p begin="12:20:47.436" end="12:20:51.596" style="s2">associated with or this rule should be</p>
<p begin="12:20:49.436" end="12:20:53.916" style="s2">associated with what&#39;s the user and then</p>
<p begin="12:20:51.596" end="12:20:56.116" style="s2">what&#39;s the method uh well we also have</p>
<p begin="12:20:53.916" end="12:20:58.200" style="s2">address and Method if you are connecting</p>
<p begin="12:20:56.116" end="12:21:00.880" style="s2">remotely so we want to change this so we</p>
<p begin="12:20:58.200" end="12:21:02.360" style="s2">want to say for local users regardless</p>
<p begin="12:21:00.880" end="12:21:04.680" style="s2">of you know what database they connect</p>
<p begin="12:21:02.360" end="12:21:06.436" style="s2">to uh and what user they connect as we</p>
<p begin="12:21:04.680" end="12:21:08.000" style="s2">want to make sure that we do not use</p>
<p begin="12:21:06.436" end="12:21:10.040" style="s2">pure authentication we use regular</p>
<p begin="12:21:08.000" end="12:21:13.240" style="s2">password based authentication uh which</p>
<p begin="12:21:10.040" end="12:21:13.240" style="s2">is MD 5 in this</p>
<p begin="12:21:13.956" end="12:21:19.000" style="s2">case uh and so here we&#39;re just going to</p>
<p begin="12:21:16.880" end="12:21:21.200" style="s2">change this so this is saying uh for any</p>
<p begin="12:21:19.000" end="12:21:24.000" style="s2">database this rule is going to apply for</p>
<p begin="12:21:21.200" end="12:21:28.116" style="s2">the user postest we&#39;re going to say</p>
<p begin="12:21:24.000" end="12:21:28.116" style="s2">instead of Pier we want md5 like we have</p>
<p begin="12:21:31.276" end="12:21:34.560" style="s2">here we&#39;ll say</p>
<p begin="12:21:36.480" end="12:21:42.436" style="s2">md5 and we&#39;re going to change this one</p>
<p begin="12:21:38.480" end="12:21:42.436" style="s2">to md5 as well</p>
<p begin="12:21:43.276" end="12:21:47.596" style="s2">and then lastly uh for these two</p>
<p begin="12:21:45.840" end="12:21:49.040" style="s2">sections right here um these are going</p>
<p begin="12:21:47.596" end="12:21:50.916" style="s2">to be for remote connection so if I want</p>
<p begin="12:21:49.040" end="12:21:52.200" style="s2">to connect from my Windows machine this</p>
<p begin="12:21:50.916" end="12:21:54.160" style="s2">is the rule that&#39;s going to apply so</p>
<p begin="12:21:52.200" end="12:21:57.596" style="s2">this is saying that for you know hosts</p>
<p begin="12:21:54.160" end="12:21:59.276" style="s2">uh for any database any user right now</p>
<p begin="12:21:57.596" end="12:22:01.756" style="s2">the only IP addresses that can connect</p>
<p begin="12:21:59.276" end="12:22:04.040" style="s2">to it are going to be 12701 which means</p>
<p begin="12:22:01.756" end="12:22:06.596" style="s2">Local Host so that&#39;s effect effectively</p>
<p begin="12:22:04.040" end="12:22:08.640" style="s2">blocking all remote connections so I&#39;m</p>
<p begin="12:22:06.596" end="12:22:12.040" style="s2">going to go here and we are going to</p>
<p begin="12:22:08.640" end="12:22:12.040" style="s2">change this</p>
<p begin="12:22:12.276" end="12:22:18.400" style="s2">and I&#39;m going to say 0.0.0 sl0 so this</p>
<p begin="12:22:16.160" end="12:22:20.320" style="s2">means any IP</p>
<p begin="12:22:18.400" end="12:22:21.560" style="s2">address and then just to keep things</p>
<p begin="12:22:20.320" end="12:22:22.916" style="s2">nicely formatt I&#39;m going to move that</p>
<p begin="12:22:21.560" end="12:22:24.596" style="s2">over there and then we&#39;re going to do</p>
<p begin="12:22:22.916" end="12:22:27.116" style="s2">the same thing for IPv6 which is what</p>
<p begin="12:22:24.596" end="12:22:27.116" style="s2">this line is</p>
<p begin="12:22:30.000" end="12:22:36.480" style="s2">doing and I&#39;m going to</p>
<p begin="12:22:33.320" end="12:22:40.480" style="s2">say this so this is the syntax in IPv6</p>
<p begin="12:22:36.480" end="12:22:40.480" style="s2">for saying any IP address</p>
<p begin="12:22:42.720" end="12:22:47.040" style="s2">and that should be all of the config</p>
<p begin="12:22:44.200" end="12:22:49.116" style="s2">changes that we need to</p>
<p begin="12:22:47.040" end="12:22:51.320" style="s2">make and so I&#39;m going to exit out of</p>
<p begin="12:22:49.116" end="12:22:52.596" style="s2">here and make sure to save it all right</p>
<p begin="12:22:51.320" end="12:22:55.200" style="s2">and at this point you probably think the</p>
<p begin="12:22:52.596" end="12:22:56.560" style="s2">changes have been made however generally</p>
<p begin="12:22:55.200" end="12:22:57.916" style="s2">uh when you change any configuration</p>
<p begin="12:22:56.560" end="12:22:59.680" style="s2">file you actually have to restart the</p>
<p begin="12:22:57.916" end="12:23:02.116" style="s2">application for the changes to take</p>
<p begin="12:22:59.680" end="12:23:06.240" style="s2">effect and so to restart an application</p>
<p begin="12:23:02.116" end="12:23:07.436" style="s2">you do system CTL restart and then the</p>
<p begin="12:23:06.240" end="12:23:09.160" style="s2">name of the application so this is going</p>
<p begin="12:23:07.436" end="12:23:12.436" style="s2">to be</p>
<p begin="12:23:09.160" end="12:23:12.436" style="s2">postgress Q</p>
<p begin="12:23:19.116" end="12:23:23.680" style="s2">all right and it should be running at</p>
<p begin="12:23:21.040" end="12:23:26.320" style="s2">this point so let&#39;s try this out</p>
<p begin="12:23:23.680" end="12:23:28.000" style="s2">now uh right now we are still logged in</p>
<p begin="12:23:26.320" end="12:23:29.520" style="s2">as the root user so remember before we</p>
<p begin="12:23:28.000" end="12:23:31.520" style="s2">actually had to change to the postest</p>
<p begin="12:23:29.520" end="12:23:33.680" style="s2">user on our auntu machine before we can</p>
<p begin="12:23:31.520" end="12:23:36.916" style="s2">log in as the postgress user so now</p>
<p begin="12:23:33.680" end="12:23:38.756" style="s2">instead I&#39;m going to do psql dasu</p>
<p begin="12:23:36.916" end="12:23:40.640" style="s2">postgress and I want to see if I&#39;m able</p>
<p begin="12:23:38.756" end="12:23:42.560" style="s2">to log in and so now I have actually get</p>
<p begin="12:23:40.640" end="12:23:46.200" style="s2">a prompt for a password so it looks like</p>
<p begin="12:23:42.560" end="12:23:46.200" style="s2">things are working so far so I&#39;ll try my</p>
<p begin="12:23:46.436" end="12:23:51.596" style="s2">password and now we are successfully</p>
<p begin="12:23:48.720" end="12:23:52.596" style="s2">logged in to our postrest database</p>
<p begin="12:23:51.596" end="12:23:54.756" style="s2">that&#39;s</p>
<p begin="12:23:52.596" end="12:23:57.956" style="s2">perfect now let&#39;s actually try to</p>
<p begin="12:23:54.756" end="12:24:00.200" style="s2">connect to it using PG admin on so PG</p>
<p begin="12:23:57.956" end="12:24:01.720" style="s2">admin I&#39;ve got my local machine which is</p>
<p begin="12:24:00.200" end="12:24:02.800" style="s2">right here if I want to add a new</p>
<p begin="12:24:01.720" end="12:24:05.040" style="s2">machine I&#39;m going to right click on</p>
<p begin="12:24:02.800" end="12:24:06.956" style="s2">servers we&#39;re going to select create</p>
<p begin="12:24:05.040" end="12:24:11.756" style="s2">server give this a name I&#39;m going to</p>
<p begin="12:24:06.956" end="12:24:13.640" style="s2">call this uh fast API DPR</p>
<p begin="12:24:11.756" end="12:24:15.480" style="s2">call it whatever you want connection</p>
<p begin="12:24:13.640" end="12:24:17.320" style="s2">details uh here we&#39;re going to provide</p>
<p begin="12:24:15.480" end="12:24:19.080" style="s2">the IP address so I already forgot</p>
<p begin="12:24:17.320" end="12:24:23.840" style="s2">what&#39;s the IP address of our</p>
<p begin="12:24:19.080" end="12:24:24.800" style="s2">machine we logged in 13 4122 whatever</p>
<p begin="12:24:23.840" end="12:24:27.360" style="s2">that</p>
<p begin="12:24:24.800" end="12:24:30.956" style="s2">is we&#39;re going to provide</p>
<p begin="12:24:27.360" end="12:24:33.680" style="s2">this that&#39;s the default Port uh that&#39;s</p>
<p begin="12:24:30.956" end="12:24:35.840" style="s2">the the the user we&#39;re going to connect</p>
<p begin="12:24:33.680" end="12:24:39.720" style="s2">as and then if we want to we can put in</p>
<p begin="12:24:35.840" end="12:24:39.720" style="s2">a password here as well</p>
<p begin="12:24:41.000" end="12:24:45.080" style="s2">all right and now we are successfully</p>
<p begin="12:24:42.800" end="12:24:46.320" style="s2">logged in to our production database if</p>
<p begin="12:24:45.080" end="12:24:48.360" style="s2">I open this up take a look at the</p>
<p begin="12:24:46.320" end="12:24:50.800" style="s2">databases we just have the one default</p>
<p begin="12:24:48.360" end="12:24:52.800" style="s2">database that always gets installed till</p>
<p begin="12:24:50.800" end="12:24:55.400" style="s2">now we&#39;ve done everything as the root</p>
<p begin="12:24:52.800" end="12:24:56.840" style="s2">user and it&#39;s generally frowned upon in</p>
<p begin="12:24:55.400" end="12:24:58.160" style="s2">the Linux World regardless of what</p>
<p begin="12:24:56.840" end="12:25:01.080" style="s2">flavor of Linux you&#39;re using it could be</p>
<p begin="12:24:58.160" end="12:25:02.560" style="s2">a buntu Centos Red Hat you generally</p>
<p begin="12:25:01.080" end="12:25:05.276" style="s2">don&#39;t want to be logged in as the root</p>
<p begin="12:25:02.560" end="12:25:06.840" style="s2">user because it opens the door for</p>
<p begin="12:25:05.276" end="12:25:08.840" style="s2">potential security vulnerabilities and</p>
<p begin="12:25:06.840" end="12:25:10.480" style="s2">it opens the door for you to potentially</p>
<p begin="12:25:08.840" end="12:25:11.800" style="s2">break your machine and so what we&#39;re</p>
<p begin="12:25:10.480" end="12:25:14.000" style="s2">going to do is we&#39;re going to create</p>
<p begin="12:25:11.800" end="12:25:15.596" style="s2">another user this user is going to have</p>
<p begin="12:25:14.000" end="12:25:17.480" style="s2">root privilege so he&#39;ll still be able to</p>
<p begin="12:25:15.596" end="12:25:19.400" style="s2">make any of the changes but it&#39;s better</p>
<p begin="12:25:17.480" end="12:25:21.000" style="s2">than being logged in as the root user</p>
<p begin="12:25:19.400" end="12:25:24.116" style="s2">and more importantly when we actually</p>
<p begin="12:25:21.000" end="12:25:27.040" style="s2">install our API our python application</p>
<p begin="12:25:24.116" end="12:25:28.720" style="s2">we&#39;re going to have our nonroot user be</p>
<p begin="12:25:27.040" end="12:25:30.240" style="s2">the one responsible for starting it we</p>
<p begin="12:25:28.720" end="12:25:31.680" style="s2">don&#39;t want the root user to start the</p>
<p begin="12:25:30.240" end="12:25:34.080" style="s2">application because then we&#39;re giving</p>
<p begin="12:25:31.680" end="12:25:36.276" style="s2">our application root access to our</p>
<p begin="12:25:34.080" end="12:25:39.160" style="s2">machine and that is very risky so</p>
<p begin="12:25:36.276" end="12:25:41.040" style="s2">instead we want a non-root user to start</p>
<p begin="12:25:39.160" end="12:25:43.560" style="s2">our API</p>
<p begin="12:25:41.040" end="12:25:45.720" style="s2">so on Linux to create a new user you</p>
<p begin="12:25:43.560" end="12:25:50.240" style="s2">type in the command user</p>
<p begin="12:25:45.720" end="12:25:51.916" style="s2">mod sorry not user mod we do add user</p>
<p begin="12:25:50.240" end="12:25:55.116" style="s2">and then the name of the user so pick</p>
<p begin="12:25:51.916" end="12:25:57.436" style="s2">any name you want um I&#39;m going to do</p>
<p begin="12:25:55.116" end="12:25:59.756" style="s2">sanie in this case but you can name it</p>
<p begin="12:25:57.436" end="12:26:01.680" style="s2">like Fast API or whatever you</p>
<p begin="12:25:59.756" end="12:26:05.320" style="s2">want and then it&#39;s going to ask you for</p>
<p begin="12:26:01.680" end="12:26:07.560" style="s2">a password so put whatever password you</p>
<p begin="12:26:05.320" end="12:26:09.720" style="s2">want and then you can provide your name</p>
<p begin="12:26:07.560" end="12:26:12.680" style="s2">but none of that really matters and just</p>
<p begin="12:26:09.720" end="12:26:14.916" style="s2">hit Y here here and so we&#39;ve now created</p>
<p begin="12:26:12.680" end="12:26:16.956" style="s2">a user and what we can do is uh if you</p>
<p begin="12:26:14.916" end="12:26:18.840" style="s2">want to you can do ae- and then</p>
<p begin="12:26:16.956" end="12:26:21.480" style="s2">sanie and then it&#39;s going to move you to</p>
<p begin="12:26:18.840" end="12:26:24.080" style="s2">the sanjie user um or what you can do is</p>
<p begin="12:26:21.480" end="12:26:25.680" style="s2">you can exit out of this connection and</p>
<p begin="12:26:24.080" end="12:26:27.596" style="s2">then exit out of here altogether so now</p>
<p begin="12:26:25.680" end="12:26:29.756" style="s2">we&#39;re back on our local machine and</p>
<p begin="12:26:27.596" end="12:26:31.160" style="s2">instead of when you do an SSH route at</p>
<p begin="12:26:29.756" end="12:26:33.276" style="s2">whatever you can change this to the new</p>
<p begin="12:26:31.160" end="12:26:36.720" style="s2">user that you just created and so that&#39;s</p>
<p begin="12:26:33.276" end="12:26:36.720" style="s2">going to log you in directly as that</p>
<p begin="12:26:38.956" end="12:26:45.400" style="s2">user now this user by default doesn&#39;t</p>
<p begin="12:26:42.080" end="12:26:46.240" style="s2">have root access so if I try to do um</p>
<p begin="12:26:45.400" end="12:26:50.000" style="s2">you know</p>
<p begin="12:26:46.240" end="12:26:50.000" style="s2">pseudo apt</p>
<p begin="12:26:53.560" end="12:26:57.000" style="s2">upgrade right it&#39;s going to ask for</p>
<p begin="12:26:55.276" end="12:26:58.840" style="s2">pseudo password for sanie and I&#39;ll put</p>
<p begin="12:26:57.000" end="12:27:00.800" style="s2">my password in and take a look at the</p>
<p begin="12:26:58.840" end="12:27:02.756" style="s2">error that we get it says sanie is not</p>
<p begin="12:27:00.800" end="12:27:05.160" style="s2">in the pseudor file this incident will</p>
<p begin="12:27:02.756" end="12:27:07.360" style="s2">be reported so anytime you create a user</p>
<p begin="12:27:05.160" end="12:27:08.720" style="s2">you have to give him pseudo access or</p>
<p begin="12:27:07.360" end="12:27:11.200" style="s2">root access so that he can actually</p>
<p begin="12:27:08.720" end="12:27:13.480" style="s2">perform operation that require root</p>
<p begin="12:27:11.200" end="12:27:15.756" style="s2">privilege so we&#39;re going to have to exit</p>
<p begin="12:27:13.480" end="12:27:18.480" style="s2">out of here once again I&#39;m going to log</p>
<p begin="12:27:15.756" end="12:27:18.480" style="s2">back in as the root</p>
<p begin="12:27:19.800" end="12:27:25.680" style="s2">user and to give a user root access we</p>
<p begin="12:27:22.840" end="12:27:28.520" style="s2">you run the command user mod and then we</p>
<p begin="12:27:25.680" end="12:27:31.116" style="s2">pass in the flag d a and then capital G</p>
<p begin="12:27:28.520" end="12:27:32.320" style="s2">make sure it&#39;s capital and we say pseudo</p>
<p begin="12:27:31.116" end="12:27:34.080" style="s2">and then the name of the user so I</p>
<p begin="12:27:32.320" end="12:27:36.320" style="s2">created a user Nam sanie so I&#39;ll just</p>
<p begin="12:27:34.080" end="12:27:38.520" style="s2">put that in and so at this point the</p>
<p begin="12:27:36.320" end="12:27:39.560" style="s2">user saniv has root access so let me</p>
<p begin="12:27:38.520" end="12:27:43.640" style="s2">exit out of here again and we&#39;re going</p>
<p begin="12:27:39.560" end="12:27:43.640" style="s2">to connect back as the user San</p>
<p begin="12:27:44.240" end="12:27:49.756" style="s2">Chief and so now I&#39;m going to run</p>
<p begin="12:27:47.436" end="12:27:53.116" style="s2">pseudo apt</p>
<p begin="12:27:49.756" end="12:27:54.880" style="s2">upgrade and so if I try that put my</p>
<p begin="12:27:53.116" end="12:27:58.160" style="s2">password in you can see the command run</p>
<p begin="12:27:54.880" end="12:27:59.560" style="s2">so we now successfully have root access</p>
<p begin="12:27:58.160" end="12:28:02.400" style="s2">if you type in</p>
<p begin="12:27:59.560" end="12:28:03.720" style="s2">PWD this is going to tell you the exact</p>
<p begin="12:28:02.400" end="12:28:06.916" style="s2">directory that you&#39;re in so I&#39;m in a</p>
<p begin="12:28:03.720" end="12:28:09.276" style="s2">folder called slome sanie so whatever</p>
<p begin="12:28:06.916" end="12:28:11.360" style="s2">your username was created as right it&#39;s</p>
<p begin="12:28:09.276" end="12:28:13.720" style="s2">going to your default home directory is</p>
<p begin="12:28:11.360" end="12:28:15.400" style="s2">going to be slome and then your username</p>
<p begin="12:28:13.720" end="12:28:17.116" style="s2">and so while you&#39;re in your home</p>
<p begin="12:28:15.400" end="12:28:18.320" style="s2">directory and if you don&#39;t know how to</p>
<p begin="12:28:17.116" end="12:28:21.720" style="s2">get to your home directory you could</p>
<p begin="12:28:18.320" end="12:28:23.200" style="s2">just say CD and then Tilda so that&#39;s</p>
<p begin="12:28:21.720" end="12:28:25.480" style="s2">going to take you to your home directory</p>
<p begin="12:28:23.200" end="12:28:28.160" style="s2">or you can do CD slome and then your</p>
<p begin="12:28:25.480" end="12:28:30.200" style="s2">username that&#39;s going to take you here</p>
<p begin="12:28:28.160" end="12:28:31.160" style="s2">whoops all right so once you&#39;re in your</p>
<p begin="12:28:30.200" end="12:28:33.320" style="s2">home directory what we&#39;re going to do is</p>
<p begin="12:28:31.160" end="12:28:34.756" style="s2">we&#39;re going to create a folder for our</p>
<p begin="12:28:33.320" end="12:28:35.956" style="s2">application technically you can put this</p>
<p begin="12:28:34.756" end="12:28:37.640" style="s2">anywhere on your machine I&#39;m just going</p>
<p begin="12:28:35.956" end="12:28:41.116" style="s2">to put it in my home directory so I&#39;m</p>
<p begin="12:28:37.640" end="12:28:42.400" style="s2">going to call this um this folder app or</p>
<p begin="12:28:41.116" end="12:28:44.360" style="s2">we could call it fast API it doesn&#39;t</p>
<p begin="12:28:42.400" end="12:28:46.276" style="s2">really matter I&#39;ll say MK dur this is</p>
<p begin="12:28:44.360" end="12:28:48.116" style="s2">the command to create an app sorry</p>
<p begin="12:28:46.276" end="12:28:49.276" style="s2">create a directory I&#39;m going to call</p>
<p begin="12:28:48.116" end="12:28:52.080" style="s2">this</p>
<p begin="12:28:49.276" end="12:28:55.640" style="s2">app and then to move into that app we do</p>
<p begin="12:28:52.080" end="12:28:57.040" style="s2">CD app and within this folder what we&#39;re</p>
<p begin="12:28:55.640" end="12:28:58.276" style="s2">going to do is just like we did on our</p>
<p begin="12:28:57.040" end="12:29:01.880" style="s2">local machine we&#39;re going to create a</p>
<p begin="12:28:58.276" end="12:29:03.596" style="s2">virtual environment so I&#39;m going to say</p>
<p begin="12:29:01.880" end="12:29:05.640" style="s2">virtual</p>
<p begin="12:29:03.596" end="12:29:09.040" style="s2">envy and then we&#39;ll call our virtual</p>
<p begin="12:29:05.640" end="12:29:09.040" style="s2">environment venv</p>
<p begin="12:29:10.200" end="12:29:14.596" style="s2">all right and then if I do an LS minus</p>
<p begin="12:29:12.276" end="12:29:17.160" style="s2">La let&#39;s just make sure I created the</p>
<p begin="12:29:14.596" end="12:29:18.436" style="s2">virtual Envy folder then to activate our</p>
<p begin="12:29:17.160" end="12:29:20.880" style="s2">virtual environment we&#39;ll type in the</p>
<p begin="12:29:18.436" end="12:29:23.480" style="s2">command Source then we go into the that</p>
<p begin="12:29:20.880" end="12:29:25.800" style="s2">folder the bin folder and then the</p>
<p begin="12:29:23.480" end="12:29:27.596" style="s2">activate file all right and then we</p>
<p begin="12:29:25.800" end="12:29:28.756" style="s2">should see this little nugget right here</p>
<p begin="12:29:27.596" end="12:29:31.200" style="s2">so this is going to let us know that we</p>
<p begin="12:29:28.756" end="12:29:32.956" style="s2">are currently in a virtual environment</p>
<p begin="12:29:31.200" end="12:29:36.240" style="s2">and if you ever want to get out of the</p>
<p begin="12:29:32.956" end="12:29:36.240" style="s2">virtual environment you can just say</p>
<p begin="12:29:36.596" end="12:29:39.756" style="s2">deactivate within our app directory</p>
<p begin="12:29:38.596" end="12:29:40.956" style="s2">we&#39;re going to create another folder</p>
<p begin="12:29:39.756" end="12:29:43.000" style="s2">called source so this is going to</p>
<p begin="12:29:40.956" end="12:29:45.840" style="s2">contain all of our source</p>
<p begin="12:29:43.000" end="12:29:47.956" style="s2">code so we&#39;ll CD into the</p>
<p begin="12:29:45.840" end="12:29:50.596" style="s2">source and now what we&#39;re going to do is</p>
<p begin="12:29:47.956" end="12:29:52.756" style="s2">we&#39;re going to copy all of our code onto</p>
<p begin="12:29:50.596" end="12:29:55.116" style="s2">this</p>
<p begin="12:29:52.756" end="12:29:56.840" style="s2">machine and so how do we do that well</p>
<p begin="12:29:55.116" end="12:29:58.916" style="s2">since we already have it stored on</p>
<p begin="12:29:56.840" end="12:30:03.240" style="s2">GitHub all we have to do is just go to</p>
<p begin="12:29:58.916" end="12:30:05.000" style="s2">the URL for our repository so this is my</p>
<p begin="12:30:03.240" end="12:30:07.400" style="s2">repository that I created this is the</p>
<p begin="12:30:05.000" end="12:30:08.880" style="s2">main one uh called Fast API - course</p>
<p begin="12:30:07.400" end="12:30:10.840" style="s2">this is public so any of you guys can</p>
<p begin="12:30:08.880" end="12:30:13.720" style="s2">access this but you&#39;re going to go to</p>
<p begin="12:30:10.840" end="12:30:15.080" style="s2">your specific repository and once you</p>
<p begin="12:30:13.720" end="12:30:17.436" style="s2">get to the repository this is going to</p>
<p begin="12:30:15.080" end="12:30:18.596" style="s2">be the URL or you can just select code</p>
<p begin="12:30:17.436" end="12:30:20.720" style="s2">right here and then this is going to</p>
<p begin="12:30:18.596" end="12:30:23.160" style="s2">give you a little link to copy so we can</p>
<p begin="12:30:20.720" end="12:30:26.240" style="s2">just copy that and then we can go back</p>
<p begin="12:30:23.160" end="12:30:29.200" style="s2">here and we can say get</p>
<p begin="12:30:26.240" end="12:30:32.080" style="s2">clone paste that in here and then before</p>
<p begin="12:30:29.200" end="12:30:33.480" style="s2">you hit enter hit space and then dot so</p>
<p begin="12:30:32.080" end="12:30:36.000" style="s2">that&#39;s going to install in this current</p>
<p begin="12:30:33.480" end="12:30:37.840" style="s2">directory and it&#39;s not going to uh</p>
<p begin="12:30:36.000" end="12:30:40.640" style="s2">create another directory that&#39;s the name</p>
<p begin="12:30:37.840" end="12:30:41.756" style="s2">of my uh Repository which is kind of</p>
<p begin="12:30:40.640" end="12:30:44.560" style="s2">annoying I don&#39;t actually want a</p>
<p begin="12:30:41.756" end="12:30:46.596" style="s2">directory called Fast api. course so</p>
<p begin="12:30:44.560" end="12:30:48.596" style="s2">we&#39;ll hit that we&#39;ll run it it&#39;s going</p>
<p begin="12:30:46.596" end="12:30:52.800" style="s2">to clone it and at this point if I do an</p>
<p begin="12:30:48.596" end="12:30:55.680" style="s2">LS we should see all of our specific</p>
<p begin="12:30:52.800" end="12:30:59.320" style="s2">code great now before we do anything</p>
<p begin="12:30:55.680" end="12:31:01.160" style="s2">else let&#39;s reactivate our virtual</p>
<p begin="12:30:59.320" end="12:31:03.116" style="s2">environment so we&#39;ll say</p>
<p begin="12:31:01.160" end="12:31:07.880" style="s2">Source</p>
<p begin="12:31:03.116" end="12:31:09.116" style="s2">VNV lib sorry not lib bin activate all</p>
<p begin="12:31:07.880" end="12:31:10.560" style="s2">right we&#39;ve got our virtual environment</p>
<p begin="12:31:09.116" end="12:31:12.840" style="s2">set up again</p>
<p begin="12:31:10.560" end="12:31:15.436" style="s2">and we&#39;re going to move into our source</p>
<p begin="12:31:12.840" end="12:31:17.436" style="s2">directory and if you recall remember we</p>
<p begin="12:31:15.436" end="12:31:19.436" style="s2">don&#39;t have any packages installed so we</p>
<p begin="12:31:17.436" end="12:31:22.360" style="s2">don&#39;t even have fast API installed but</p>
<p begin="12:31:19.436" end="12:31:23.640" style="s2">we do have our requirements.txt file so</p>
<p begin="12:31:22.360" end="12:31:25.160" style="s2">if I just cat that real quick if you</p>
<p begin="12:31:23.640" end="12:31:27.640" style="s2">forgot what that was that&#39;s going to</p>
<p begin="12:31:25.160" end="12:31:31.880" style="s2">tell this machine exactly what version</p>
<p begin="12:31:27.640" end="12:31:34.276" style="s2">of every single uh dependency we need to</p>
<p begin="12:31:31.880" end="12:31:36.160" style="s2">install for our application to work and</p>
<p begin="12:31:34.276" end="12:31:40.080" style="s2">so we can just install all of those with</p>
<p begin="12:31:36.160" end="12:31:43.000" style="s2">one command by doing pip install d r</p>
<p begin="12:31:40.080" end="12:31:43.000" style="s2">requirements.txt</p>
<p begin="12:31:50.400" end="12:31:55.436" style="s2">all right so I got an error and this was</p>
<p begin="12:31:53.880" end="12:31:56.560" style="s2">expected on my end because when I was</p>
<p begin="12:31:55.436" end="12:31:58.480" style="s2">running through this I ran into this</p>
<p begin="12:31:56.560" end="12:32:00.240" style="s2">eror and so if you see this eror right</p>
<p begin="12:31:58.480" end="12:32:02.000" style="s2">here you know anytime you see red it&#39;s</p>
<p begin="12:32:00.240" end="12:32:03.520" style="s2">never good but what you want to do is</p>
<p begin="12:32:02.000" end="12:32:07.800" style="s2">you want to go right about here where it</p>
<p begin="12:32:03.520" end="12:32:09.360" style="s2">says include and then libpq f.h this is</p>
<p begin="12:32:07.800" end="12:32:11.276" style="s2">implying that we&#39;re missing a package</p>
<p begin="12:32:09.360" end="12:32:12.640" style="s2">that&#39;s probably called libpq if you</p>
<p begin="12:32:11.276" end="12:32:14.596" style="s2">actually search this error you&#39;re going</p>
<p begin="12:32:12.640" end="12:32:16.520" style="s2">to get the same result so if you run</p>
<p begin="12:32:14.596" end="12:32:18.276" style="s2">into this exact issue or even another</p>
<p begin="12:32:16.520" end="12:32:20.200" style="s2">issue just look for the library</p>
<p begin="12:32:18.276" end="12:32:22.200" style="s2">mentioned right here where it says that</p>
<p begin="12:32:20.200" end="12:32:23.800" style="s2">include line right and just search for</p>
<p begin="12:32:22.200" end="12:32:25.800" style="s2">that library and just see how to install</p>
<p begin="12:32:23.800" end="12:32:28.040" style="s2">it okay so it&#39;s since it said we&#39;re</p>
<p begin="12:32:25.800" end="12:32:29.480" style="s2">missing this Library I&#39;m going to do a</p>
<p begin="12:32:28.040" end="12:32:30.756" style="s2">sorry it&#39;s not actually a pip install we</p>
<p begin="12:32:29.480" end="12:32:33.000" style="s2">actually have to do an apt install so we</p>
<p begin="12:32:30.756" end="12:32:35.160" style="s2">do pseudo apt</p>
<p begin="12:32:33.000" end="12:32:37.560" style="s2">install and actually before I even do</p>
<p begin="12:32:35.160" end="12:32:39.436" style="s2">that I&#39;m going to</p>
<p begin="12:32:37.560" end="12:32:43.756" style="s2">deactivate my virtual environment and</p>
<p begin="12:32:39.436" end="12:32:45.720" style="s2">we&#39;re going to do a Pudo app</p>
<p begin="12:32:43.756" end="12:32:48.720" style="s2">install</p>
<p begin="12:32:45.720" end="12:32:48.720" style="s2">libpq-dev</p>
<p begin="12:32:53.956" end="12:32:58.080" style="s2">all right so now that we&#39;ve got that</p>
<p begin="12:32:56.080" end="12:33:00.360" style="s2">library that missing Library installed</p>
<p begin="12:32:58.080" end="12:33:02.756" style="s2">we&#39;re going to then go back into our</p>
<p begin="12:33:00.360" end="12:33:02.756" style="s2">virtual</p>
<p begin="12:33:07.436" end="12:33:13.276" style="s2">environment and we&#39;re going to run that</p>
<p begin="12:33:09.436" end="12:33:13.276" style="s2">same command to install all of our</p>
<p begin="12:33:13.720" end="12:33:17.956" style="s2">requirements and I have to move into my</p>
<p begin="12:33:15.640" end="12:33:17.956" style="s2">source</p>
<p begin="12:33:19.840" end="12:33:24.720" style="s2">folder all right and it looks like we</p>
<p begin="12:33:22.160" end="12:33:26.720" style="s2">have successfully installed all of our</p>
<p begin="12:33:24.720" end="12:33:28.880" style="s2">packages the next thing that I actually</p>
<p begin="12:33:26.720" end="12:33:31.560" style="s2">want to do is let&#39;s go ahead and try to</p>
<p begin="12:33:28.880" end="12:33:34.560" style="s2">start our application so we have access</p>
<p begin="12:33:31.560" end="12:33:37.040" style="s2">to UV corn so we can just do UV corn</p>
<p begin="12:33:34.560" end="12:33:39.040" style="s2">app. main so this is the same exact</p>
<p begin="12:33:37.040" end="12:33:41.596" style="s2">command that we ran on our local machine</p>
<p begin="12:33:39.040" end="12:33:42.840" style="s2">and then app we don&#39;t need to pass in</p>
<p begin="12:33:41.596" end="12:33:44.640" style="s2">the reload flag because this is our</p>
<p begin="12:33:42.840" end="12:33:46.160" style="s2">production server so we would never want</p>
<p begin="12:33:44.640" end="12:33:47.400" style="s2">it to automatically reload on changes</p>
<p begin="12:33:46.160" end="12:33:49.276" style="s2">because no one should be making changes</p>
<p begin="12:33:47.400" end="12:33:50.956" style="s2">on our production server so we&#39;ll run</p>
<p begin="12:33:49.276" end="12:33:52.240" style="s2">this and let&#39;s see what happens right</p>
<p begin="12:33:50.956" end="12:33:54.560" style="s2">and it looks like we get eight</p>
<p begin="12:33:52.240" end="12:33:56.520" style="s2">validation errors which is to be</p>
<p begin="12:33:54.560" end="12:33:58.116" style="s2">expected because it looks like we are</p>
<p begin="12:33:56.520" end="12:33:59.800" style="s2">missing all of our environment variables</p>
<p begin="12:33:58.116" end="12:34:01.520" style="s2">and that&#39;s correct we never set our</p>
<p begin="12:33:59.800" end="12:34:02.596" style="s2">environment variables so in the next</p>
<p begin="12:34:01.520" end="12:34:04.276" style="s2">section we&#39;re going to take a look at</p>
<p begin="12:34:02.596" end="12:34:06.240" style="s2">how we can set up our environment</p>
<p begin="12:34:04.276" end="12:34:08.680" style="s2">variables on our Linux</p>
<p begin="12:34:06.240" end="12:34:11.436" style="s2">machine okay so let&#39;s get started on</p>
<p begin="12:34:08.680" end="12:34:13.520" style="s2">creating our envir variables so what we</p>
<p begin="12:34:11.436" end="12:34:15.720" style="s2">want to do is to create an environment</p>
<p begin="12:34:13.520" end="12:34:18.436" style="s2">variable on a Linux machine we say</p>
<p begin="12:34:15.720" end="12:34:20.560" style="s2">export and then we give the name of the</p>
<p begin="12:34:18.436" end="12:34:24.116" style="s2">uh variable uh here this is just a</p>
<p begin="12:34:20.560" end="12:34:26.560" style="s2">demonstration so I&#39;m going to say mycore</p>
<p begin="12:34:24.116" end="12:34:28.040" style="s2">name and then we set equals and then</p>
<p begin="12:34:26.560" end="12:34:29.040" style="s2">whatever value we want to give it so you</p>
<p begin="12:34:28.040" end="12:34:30.720" style="s2">can give it anything I&#39;m just going to</p>
<p begin="12:34:29.040" end="12:34:34.200" style="s2">say this</p>
<p begin="12:34:30.720" end="12:34:36.320" style="s2">is Tangie all right so we&#39;ll hit that</p>
<p begin="12:34:34.200" end="12:34:37.720" style="s2">we&#39;ll run that and then to actually see</p>
<p begin="12:34:36.320" end="12:34:40.800" style="s2">if this worked to see all of your</p>
<p begin="12:34:37.720" end="12:34:43.400" style="s2">environment variables we just say print</p>
<p begin="12:34:40.800" end="12:34:45.560" style="s2">NV and so this is going to spit out a</p>
<p begin="12:34:43.400" end="12:34:47.840" style="s2">whole bunch of uh default environment</p>
<p begin="12:34:45.560" end="12:34:49.640" style="s2">variables and then to see uh the one we</p>
<p begin="12:34:47.840" end="12:34:50.800" style="s2">sent just kind of look down look for my</p>
<p begin="12:34:49.640" end="12:34:53.000" style="s2">name and we could see that it was</p>
<p begin="12:34:50.800" end="12:34:55.080" style="s2">successfully set so at this point we</p>
<p begin="12:34:53.000" end="12:34:57.756" style="s2">could just go one by one and manually</p>
<p begin="12:34:55.080" end="12:34:59.880" style="s2">set all of these however that is a very</p>
<p begin="12:34:57.756" end="12:35:02.240" style="s2">inconvenient process and I wouldn&#39;t</p>
<p begin="12:34:59.880" end="12:35:04.160" style="s2">expect you guys to do that um because</p>
<p begin="12:35:02.240" end="12:35:06.956" style="s2">you know we&#39;ve got seven or eight and</p>
<p begin="12:35:04.160" end="12:35:10.756" style="s2">any other project could have 10 20 30 so</p>
<p begin="12:35:06.956" end="12:35:12.640" style="s2">it&#39;s not really realistic to do that you</p>
<p begin="12:35:10.756" end="12:35:14.160" style="s2">know one environment variable at a time</p>
<p begin="12:35:12.640" end="12:35:15.400" style="s2">so let me quickly remove this</p>
<p begin="12:35:14.160" end="12:35:17.436" style="s2">environment variable which you can do</p>
<p begin="12:35:15.400" end="12:35:21.040" style="s2">with the unset command and so I can just</p>
<p begin="12:35:17.436" end="12:35:22.800" style="s2">say unset myor name and if I do a print</p>
<p begin="12:35:21.040" end="12:35:24.756" style="s2">Envy we should see that it&#39;s no longer</p>
<p begin="12:35:22.800" end="12:35:26.680" style="s2">there and what we&#39;re going to do is I&#39;m</p>
<p begin="12:35:24.756" end="12:35:27.916" style="s2">going to go back to my home directory</p>
<p begin="12:35:26.680" end="12:35:29.200" style="s2">because I don&#39;t want to mess around in</p>
<p begin="12:35:27.916" end="12:35:32.400" style="s2">my application directory I&#39;m going to go</p>
<p begin="12:35:29.200" end="12:35:35.360" style="s2">to CD and then the Tilda or you can do</p>
<p begin="12:35:32.400" end="12:35:37.640" style="s2">slome SL and then whatever your username</p>
<p begin="12:35:35.360" end="12:35:38.680" style="s2">is I&#39;m just going to do that all right</p>
<p begin="12:35:37.640" end="12:35:40.840" style="s2">so this is going to take me back to my</p>
<p begin="12:35:38.680" end="12:35:41.880" style="s2">home directory and I&#39;m going to create a</p>
<p begin="12:35:40.840" end="12:35:43.840" style="s2">brand new</p>
<p begin="12:35:41.880" end="12:35:45.320" style="s2">file and if you want to create an empty</p>
<p begin="12:35:43.840" end="12:35:47.800" style="s2">file you can just say touch and then I&#39;m</p>
<p begin="12:35:45.320" end="12:35:50.160" style="s2">going to just call this EnV all right so</p>
<p begin="12:35:47.800" end="12:35:53.276" style="s2">we should by doing LS minus La we should</p>
<p begin="12:35:50.160" end="12:35:55.956" style="s2">have the EnV file right here and I&#39;m</p>
<p begin="12:35:53.276" end="12:35:55.956" style="s2">going to open that</p>
<p begin="12:35:57.560" end="12:36:01.956" style="s2">up and here I can provide a list of all</p>
<p begin="12:36:00.480" end="12:36:04.200" style="s2">of the environment variables so I can</p>
<p begin="12:36:01.956" end="12:36:06.880" style="s2">say um and keep in mind this has to be</p>
<p begin="12:36:04.200" end="12:36:08.596" style="s2">in the same exact syntax so we have to</p>
<p begin="12:36:06.880" end="12:36:10.200" style="s2">say just like we would put on the CLI we</p>
<p begin="12:36:08.596" end="12:36:11.560" style="s2">would say export</p>
<p begin="12:36:10.200" end="12:36:13.436" style="s2">then the name of the variable so I&#39;ll</p>
<p begin="12:36:11.560" end="12:36:16.560" style="s2">say you know my name</p>
<p begin="12:36:13.436" end="12:36:19.756" style="s2">again equals sanie and then let&#39;s maybe</p>
<p begin="12:36:16.560" end="12:36:19.756" style="s2">let&#39;s do mycore</p>
<p begin="12:36:19.800" end="12:36:23.916" style="s2">password which is going to be password 1</p>
<p begin="12:36:21.840" end="12:36:30.360" style="s2">2</p>
<p begin="12:36:23.916" end="12:36:33.720" style="s2">3 so I can save this file and I can say</p>
<p begin="12:36:30.360" end="12:36:34.956" style="s2">source. EnV so this is going to set all</p>
<p begin="12:36:33.720" end="12:36:36.880" style="s2">of those environment variables so if I</p>
<p begin="12:36:34.956" end="12:36:40.240" style="s2">do a print NV</p>
<p begin="12:36:36.880" end="12:36:42.160" style="s2">now we do have my name</p>
<p begin="12:36:40.240" end="12:36:44.160" style="s2">and somewhere along here yep we&#39;ve got</p>
<p begin="12:36:42.160" end="12:36:45.560" style="s2">my password so that&#39;s another way of</p>
<p begin="12:36:44.160" end="12:36:47.720" style="s2">setting things it&#39;s a it&#39;s a little bit</p>
<p begin="12:36:45.560" end="12:36:50.200" style="s2">easier to kind of keep everything in a</p>
<p begin="12:36:47.720" end="12:36:51.880" style="s2">file um but what I don&#39;t like is that I</p>
<p begin="12:36:50.200" end="12:36:54.360" style="s2">have to put it in this format where I</p>
<p begin="12:36:51.880" end="12:36:57.276" style="s2">put export and then the environment</p>
<p begin="12:36:54.360" end="12:36:59.560" style="s2">variable what would be awesome is if I</p>
<p begin="12:36:57.276" end="12:37:02.276" style="s2">could just somehow get it so that the</p>
<p begin="12:36:59.560" end="12:37:03.596" style="s2">environment variable file in my abunto</p>
<p begin="12:37:02.276" end="12:37:06.040" style="s2">machine matches with the environment</p>
<p begin="12:37:03.596" end="12:37:08.240" style="s2">variable file on my local machine I want</p>
<p begin="12:37:06.040" end="12:37:10.400" style="s2">to just be able to put the uh the key</p>
<p begin="12:37:08.240" end="12:37:12.596" style="s2">and the value pair like here and so that</p>
<p begin="12:37:10.400" end="12:37:14.240" style="s2">way I could just copy this paste it into</p>
<p begin="12:37:12.596" end="12:37:17.276" style="s2">my production server and just change the</p>
<p begin="12:37:14.240" end="12:37:18.956" style="s2">values there uh and so we can actually</p>
<p begin="12:37:17.276" end="12:37:20.680" style="s2">do that it just requires a little bit of</p>
<p begin="12:37:18.956" end="12:37:23.756" style="s2">a</p>
<p begin="12:37:20.680" end="12:37:25.116" style="s2">modification so let&#39;s go back here and</p>
<p begin="12:37:23.756" end="12:37:27.276" style="s2">I&#39;m just going to unset both of these</p>
<p begin="12:37:25.116" end="12:37:27.276" style="s2">real</p>
<p begin="12:37:33.276" end="12:37:38.160" style="s2">quick and we&#39;ll just double check it got</p>
<p begin="12:37:35.436" end="12:37:41.160" style="s2">removed so they&#39;re removed and we&#39;re</p>
<p begin="12:37:38.160" end="12:37:43.400" style="s2">going to open up</p>
<p begin="12:37:41.160" end="12:37:45.756" style="s2">the EnV file and I&#39;m going to just</p>
<p begin="12:37:43.400" end="12:37:45.756" style="s2">delete</p>
<p begin="12:37:47.800" end="12:37:51.480" style="s2">everything and what I&#39;m going to do is</p>
<p begin="12:37:49.720" end="12:37:53.800" style="s2">I&#39;m actually just going to copy this for</p>
<p begin="12:37:51.480" end="12:37:56.000" style="s2">now and just paste it in there let&#39;s</p>
<p begin="12:37:53.800" end="12:37:57.560" style="s2">just see if I can get all of this set</p>
<p begin="12:37:56.000" end="12:37:59.000" style="s2">from a file and then we&#39;ll change the</p>
<p begin="12:37:57.560" end="12:38:02.200" style="s2">values</p>
<p begin="12:37:59.000" end="12:38:04.320" style="s2">later and so when you have a regular</p>
<p begin="12:38:02.200" end="12:38:05.596" style="s2">file like the one we have right here</p>
<p begin="12:38:04.320" end="12:38:07.360" style="s2">where we don&#39;t have the word export in</p>
<p begin="12:38:05.596" end="12:38:09.640" style="s2">front of it it does require a little bit</p>
<p begin="12:38:07.360" end="12:38:11.040" style="s2">more of a complex command but all you</p>
<p begin="12:38:09.640" end="12:38:12.640" style="s2">have to do is you run this command so</p>
<p begin="12:38:11.040" end="12:38:14.520" style="s2">you do</p>
<p begin="12:38:12.640" end="12:38:17.916" style="s2">set-</p>
<p begin="12:38:14.520" end="12:38:17.916" style="s2">o all</p>
<p begin="12:38:19.596" end="12:38:24.276" style="s2">export then</p>
<p begin="12:38:22.116" end="12:38:26.000" style="s2">source and then you provide the path to</p>
<p begin="12:38:24.276" end="12:38:28.840" style="s2">the file so this is going to be in my</p>
<p begin="12:38:26.000" end="12:38:30.080" style="s2">home directory so it&#39;s slome San it just</p>
<p begin="12:38:28.840" end="12:38:34.040" style="s2">make sure you swap it out with your</p>
<p begin="12:38:30.080" end="12:38:34.040" style="s2">specific username and then we</p>
<p begin="12:38:34.916" end="12:38:40.000" style="s2">provide and then we say</p>
<p begin="12:38:37.640" end="12:38:41.400" style="s2">set Plus</p>
<p begin="12:38:40.000" end="12:38:44.800" style="s2">o</p>
<p begin="12:38:41.400" end="12:38:46.840" style="s2">all export all right and so now if I do</p>
<p begin="12:38:44.800" end="12:38:49.080" style="s2">a print</p>
<p begin="12:38:46.840" end="12:38:50.596" style="s2">NV we can see I&#39;ve got my database</p>
<p begin="12:38:49.080" end="12:38:52.720" style="s2">password my database username I&#39;ve got</p>
<p begin="12:38:50.596" end="12:38:56.240" style="s2">my database Port host name and all of</p>
<p begin="12:38:52.720" end="12:38:58.520" style="s2">the variables that I set have now been</p>
<p begin="12:38:56.240" end="12:38:59.916" style="s2">set as uh environment variables so</p>
<p begin="12:38:58.520" end="12:39:03.840" style="s2">that&#39;s what we&#39;re going to do however</p>
<p begin="12:38:59.916" end="12:39:06.040" style="s2">there&#39;s still one minor issue if I exit</p>
<p begin="12:39:03.840" end="12:39:09.640" style="s2">out of here or actually sorry not if I</p>
<p begin="12:39:06.040" end="12:39:09.640" style="s2">exit if I reboot</p>
<p begin="12:39:11.160" end="12:39:14.360" style="s2">and I actually have to do a pseudo to</p>
<p begin="12:39:12.560" end="12:39:16.116" style="s2">actually reboot but I&#39;m going to reboot</p>
<p begin="12:39:14.360" end="12:39:17.800" style="s2">and I&#39;m going to show you guys that uh</p>
<p begin="12:39:16.116" end="12:39:20.160" style="s2">when you reload your machine you lose</p>
<p begin="12:39:17.800" end="12:39:21.756" style="s2">your environment variables so we&#39;ll give</p>
<p begin="12:39:20.160" end="12:39:23.560" style="s2">this about a minute or two to kind of</p>
<p begin="12:39:21.756" end="12:39:25.720" style="s2">boot back</p>
<p begin="12:39:23.560" end="12:39:27.320" style="s2">up although I find a bunch of machines</p>
<p begin="12:39:25.720" end="12:39:29.560" style="s2">boot up fairly quickly so let&#39;s just</p>
<p begin="12:39:27.320" end="12:39:32.160" style="s2">give this a shot see if we can connect</p>
<p begin="12:39:29.560" end="12:39:32.160" style="s2">NOP not</p>
<p begin="12:39:32.436" end="12:39:37.916" style="s2">yet all right so I&#39;ve logged back in</p>
<p begin="12:39:35.116" end="12:39:39.320" style="s2">after it rebooted if I do a print EnV</p>
<p begin="12:39:37.916" end="12:39:41.276" style="s2">you&#39;re going to see that all of the enir</p>
<p begin="12:39:39.320" end="12:39:45.400" style="s2">environment variables that I set are all</p>
<p begin="12:39:41.276" end="12:39:46.880" style="s2">now gone so how can we get all of these</p>
<p begin="12:39:45.400" end="12:39:48.720" style="s2">environment variables to persist through</p>
<p begin="12:39:46.880" end="12:39:50.320" style="s2">a reboot because if our machine goes</p>
<p begin="12:39:48.720" end="12:39:51.320" style="s2">down comes back up then we lose those</p>
<p begin="12:39:50.320" end="12:39:53.436" style="s2">environment variables then our</p>
<p begin="12:39:51.320" end="12:39:54.680" style="s2">application&#39;s broken well there&#39;s a</p>
<p begin="12:39:53.436" end="12:39:56.800" style="s2">couple of different ways that we can</p>
<p begin="12:39:54.680" end="12:39:59.560" style="s2">have environment variables persist</p>
<p begin="12:39:56.800" end="12:40:01.200" style="s2">through a reboot U one of the ways is</p>
<p begin="12:39:59.560" end="12:40:04.040" style="s2">let&#39;s go to our home</p>
<p begin="12:40:01.200" end="12:40:06.160" style="s2">directory we&#39;re going to do an LS minus</p>
<p begin="12:40:04.040" end="12:40:09.320" style="s2">L and what I&#39;m going to do is we&#39;re</p>
<p begin="12:40:06.160" end="12:40:11.956" style="s2">going to go into this profile file and</p>
<p begin="12:40:09.320" end="12:40:13.560" style="s2">we&#39;re going to set that exact command</p>
<p begin="12:40:11.956" end="12:40:16.116" style="s2">that we had run to set my environment</p>
<p begin="12:40:13.560" end="12:40:20.240" style="s2">variables uh where is that command this</p>
<p begin="12:40:16.116" end="12:40:20.240" style="s2">one right here in that file so copy</p>
<p begin="12:40:20.956" end="12:40:26.756" style="s2">this and then just do a vi.</p>
<p begin="12:40:24.560" end="12:40:29.640" style="s2">profile and then go to the bottom of the</p>
<p begin="12:40:26.756" end="12:40:32.160" style="s2">file and below the last line just paste</p>
<p begin="12:40:29.640" end="12:40:32.160" style="s2">that command</p>
<p begin="12:40:32.756" end="12:40:37.160" style="s2">in and then we can just</p>
<p begin="12:40:37.840" end="12:40:42.480" style="s2">WQ all right and and so this is going to</p>
<p begin="12:40:39.916" end="12:40:44.880" style="s2">cause anytime we open up a session or a</p>
<p begin="12:40:42.480" end="12:40:46.756" style="s2">terminal uh even through a reboot it&#39;s</p>
<p begin="12:40:44.880" end="12:40:48.080" style="s2">going to run that specific command so</p>
<p begin="12:40:46.756" end="12:40:51.596" style="s2">that those environment variables are all</p>
<p begin="12:40:48.080" end="12:40:53.320" style="s2">set right now if you do a print EnV you</p>
<p begin="12:40:51.596" end="12:40:55.560" style="s2">will see that it&#39;s not set and that&#39;s to</p>
<p begin="12:40:53.320" end="12:40:58.880" style="s2">be expected because uh we were already</p>
<p begin="12:40:55.560" end="12:41:01.880" style="s2">connected to it but if I exit out of</p>
<p begin="12:40:58.880" end="12:41:01.880" style="s2">here</p>
<p begin="12:41:03.080" end="12:41:07.880" style="s2">reconnect do a print EnV we can now see</p>
<p begin="12:41:06.596" end="12:41:10.480" style="s2">that the</p>
<p begin="12:41:07.880" end="12:41:11.680" style="s2">our Environ variables are set and then</p>
<p begin="12:41:10.480" end="12:41:13.320" style="s2">just to prove to you that this actually</p>
<p begin="12:41:11.680" end="12:41:15.840" style="s2">persists through reboot we&#39;re going to</p>
<p begin="12:41:13.320" end="12:41:15.840" style="s2">reboot this</p>
<p begin="12:41:21.040" end="12:41:27.436" style="s2">machine all right so it&#39;s rebooted let&#39;s</p>
<p begin="12:41:23.880" end="12:41:29.320" style="s2">do a print EnV and we can see all of our</p>
<p begin="12:41:27.436" end="12:41:31.200" style="s2">environment variables are still set so</p>
<p begin="12:41:29.320" end="12:41:33.000" style="s2">this is the method that I&#39;m going to go</p>
<p begin="12:41:31.200" end="12:41:34.480" style="s2">with keep in mind when it comes to</p>
<p begin="12:41:33.000" end="12:41:36.596" style="s2">environment variables there are a</p>
<p begin="12:41:34.480" end="12:41:37.880" style="s2">thousand different ways to tackle this</p>
<p begin="12:41:36.596" end="12:41:39.360" style="s2">uh and so people like to set their</p>
<p begin="12:41:37.880" end="12:41:40.720" style="s2">environment variables in different ways</p>
<p begin="12:41:39.360" end="12:41:42.720" style="s2">this is just the way that I&#39;ve done it</p>
<p begin="12:41:40.720" end="12:41:44.840" style="s2">this is the simplest way um but there</p>
<p begin="12:41:42.720" end="12:41:46.400" style="s2">are you know a number of different other</p>
<p begin="12:41:44.840" end="12:41:49.040" style="s2">methods some of them will probably be</p>
<p begin="12:41:46.400" end="12:41:50.840" style="s2">more recommended um better um but I want</p>
<p begin="12:41:49.040" end="12:41:53.320" style="s2">to keep things as simple as possible the</p>
<p begin="12:41:50.840" end="12:41:55.840" style="s2">one thing I do want to uh kind of</p>
<p begin="12:41:53.320" end="12:41:59.240" style="s2">highlight is that our environment</p>
<p begin="12:41:55.840" end="12:42:01.000" style="s2">variable is stored in my home directory</p>
<p begin="12:41:59.240" end="12:42:02.480" style="s2">it is not in the app directory where all</p>
<p begin="12:42:01.000" end="12:42:04.320" style="s2">my application code is and that&#39;s</p>
<p begin="12:42:02.480" end="12:42:07.560" style="s2">important to me because I don&#39;t want to</p>
<p begin="12:42:04.320" end="12:42:09.276" style="s2">put it in my application code because I</p>
<p begin="12:42:07.560" end="12:42:10.756" style="s2">don&#39;t want it to accidentally get</p>
<p begin="12:42:09.276" end="12:42:13.000" style="s2">checked into get I don&#39;t want anyone to</p>
<p begin="12:42:10.756" end="12:42:16.000" style="s2">accidentally see my production passwords</p>
<p begin="12:42:13.000" end="12:42:17.640" style="s2">or anything like that because then my</p>
<p begin="12:42:16.000" end="12:42:18.916" style="s2">entire application is compromise so I</p>
<p begin="12:42:17.640" end="12:42:20.800" style="s2">like to keep it separate by moving it</p>
<p begin="12:42:18.916" end="12:42:22.596" style="s2">into a completely separate folder so</p>
<p begin="12:42:20.800" end="12:42:25.480" style="s2">that there&#39;s no chance that it gets</p>
<p begin="12:42:22.596" end="12:42:27.040" style="s2">mixed up in my application code all</p>
<p begin="12:42:25.480" end="12:42:28.480" style="s2">right so since we can connect to our</p>
<p begin="12:42:27.040" end="12:42:30.720" style="s2">postrest database let&#39;s go ahead and</p>
<p begin="12:42:28.480" end="12:42:33.320" style="s2">actually create the database within this</p>
<p begin="12:42:30.720" end="12:42:35.080" style="s2">machine uh so I&#39;m going to select right</p>
<p begin="12:42:33.320" end="12:42:37.116" style="s2">click here and I&#39;m going to say create</p>
<p begin="12:42:35.080" end="12:42:38.200" style="s2">database I&#39;ll call your database</p>
<p begin="12:42:37.116" end="12:42:40.680" style="s2">whatever you want I&#39;m just going to call</p>
<p begin="12:42:38.200" end="12:42:43.116" style="s2">it fast API to keep things</p>
<p begin="12:42:40.680" end="12:42:44.520" style="s2">simple and so now we have our database</p>
<p begin="12:42:43.116" end="12:42:46.480" style="s2">once we click on it and so now it&#39;s up</p>
<p begin="12:42:44.520" end="12:42:47.956" style="s2">and running and so since we have that</p>
<p begin="12:42:46.480" end="12:42:50.400" style="s2">information and we have the information</p>
<p begin="12:42:47.956" end="12:42:52.360" style="s2">for connecting to our actual postgress</p>
<p begin="12:42:50.400" end="12:42:54.840" style="s2">instance on this machine Let&#39;s update</p>
<p begin="12:42:52.360" end="12:42:57.360" style="s2">these environment variable files so that</p>
<p begin="12:42:54.840" end="12:42:59.200" style="s2">um they are accurate at this point</p>
<p begin="12:42:57.360" end="12:43:02.116" style="s2">because I believe they&#39;re still pointing</p>
<p begin="12:42:59.200" end="12:43:05.800" style="s2">to whatever our production was set</p>
<p begin="12:43:02.116" end="12:43:07.560" style="s2">as sorry our development environment so</p>
<p begin="12:43:05.800" end="12:43:09.840" style="s2">uh here the host name is still going to</p>
<p begin="12:43:07.560" end="12:43:11.756" style="s2">be Local Host uh the port since I</p>
<p begin="12:43:09.840" end="12:43:14.000" style="s2">installed uh postgress on the default</p>
<p begin="12:43:11.756" end="12:43:15.400" style="s2">Port we can keep that the same uh you</p>
<p begin="12:43:14.000" end="12:43:17.200" style="s2">want to make sure you update your</p>
<p begin="12:43:15.400" end="12:43:18.840" style="s2">production password I chose the same</p>
<p begin="12:43:17.200" end="12:43:21.080" style="s2">exact password just to keep things</p>
<p begin="12:43:18.840" end="12:43:23.640" style="s2">simple the database name we just created</p>
<p begin="12:43:21.080" end="12:43:25.400" style="s2">one called Fast API uh here this is</p>
<p begin="12:43:23.640" end="12:43:28.520" style="s2">going to be the database username if you</p>
<p begin="12:43:25.400" end="12:43:31.880" style="s2">want to uh it is recommended to create</p>
<p begin="12:43:28.520" end="12:43:33.596" style="s2">another postgress user uh however I&#39;m</p>
<p begin="12:43:31.880" end="12:43:35.680" style="s2">just going to keep this as the default</p>
<p begin="12:43:33.596" end="12:43:37.680" style="s2">postgress user to keep things as simple</p>
<p begin="12:43:35.680" end="12:43:41.080" style="s2">you definitely want to upgra update the</p>
<p begin="12:43:37.680" end="12:43:43.040" style="s2">secret key uh the algorithm uh you can</p>
<p begin="12:43:41.080" end="12:43:44.640" style="s2">leave that as default uh and then the</p>
<p begin="12:43:43.040" end="12:43:45.720" style="s2">axess token I&#39;m going to make this a</p>
<p begin="12:43:44.640" end="12:43:50.160" style="s2">little bit</p>
<p begin="12:43:45.720" end="12:43:50.160" style="s2">longer let&#39;s do 300</p>
<p begin="12:43:54.956" end="12:44:01.400" style="s2">minutes all right and now let&#39;s</p>
<p begin="12:43:58.840" end="12:44:03.240" style="s2">reactivate our environment so I&#39;m going</p>
<p begin="12:44:01.400" end="12:44:06.680" style="s2">to go into</p>
<p begin="12:44:03.240" end="12:44:06.680" style="s2">Apps and then we&#39;ll</p>
<p begin="12:44:07.240" end="12:44:12.596" style="s2">do source</p>
<p begin="12:44:10.040" end="12:44:14.480" style="s2">VNV bin activate so it&#39;s going to</p>
<p begin="12:44:12.596" end="12:44:16.596" style="s2">activate our virtual</p>
<p begin="12:44:14.480" end="12:44:20.116" style="s2">environment and right now you&#39;re</p>
<p begin="12:44:16.596" end="12:44:21.840" style="s2">probably notice a little bit of an issue</p>
<p begin="12:44:20.116" end="12:44:24.200" style="s2">and that is that we don&#39;t have any</p>
<p begin="12:44:21.840" end="12:44:27.240" style="s2">tables right now you go to our</p>
<p begin="12:44:24.200" end="12:44:28.596" style="s2">schemas and then our we got no tables in</p>
<p begin="12:44:27.240" end="12:44:31.720" style="s2">here oh sorry we&#39;re in the wrong</p>
<p begin="12:44:28.596" end="12:44:35.436" style="s2">database in the fast API we&#39;ve got no</p>
<p begin="12:44:31.720" end="12:44:38.560" style="s2">tables right nothing here uh and so we</p>
<p begin="12:44:35.436" end="12:44:40.000" style="s2">have to set up all of our models now</p>
<p begin="12:44:38.560" end="12:44:41.200" style="s2">however since we are in our production</p>
<p begin="12:44:40.000" end="12:44:43.200" style="s2">environment and since we&#39;ve set up</p>
<p begin="12:44:41.200" end="12:44:45.680" style="s2">olymic you&#39;ll see that this is dead</p>
<p begin="12:44:43.200" end="12:44:46.880" style="s2">simple and when it comes to olymic it&#39;s</p>
<p begin="12:44:45.680" end="12:44:48.720" style="s2">important that in your production</p>
<p begin="12:44:46.880" end="12:44:50.800" style="s2">environment you never create revisions</p>
<p begin="12:44:48.720" end="12:44:52.560" style="s2">in your production environment you only</p>
<p begin="12:44:50.800" end="12:44:54.596" style="s2">create it in your development</p>
<p begin="12:44:52.560" end="12:44:57.116" style="s2">environment and you check it into G and</p>
<p begin="12:44:54.596" end="12:45:00.000" style="s2">since we checked it into git if we go to</p>
<p begin="12:44:57.116" end="12:45:03.436" style="s2">source and then go into our lmic file</p>
<p begin="12:45:00.000" end="12:45:05.880" style="s2">folder and do an LS and then go into</p>
<p begin="12:45:03.436" end="12:45:08.276" style="s2">versions We have all of our revision</p>
<p begin="12:45:05.880" end="12:45:10.276" style="s2">files and so what we can do is we can</p>
<p begin="12:45:08.276" end="12:45:12.560" style="s2">just sorry I didn&#39;t mean to hit exit got</p>
<p begin="12:45:10.276" end="12:45:14.200" style="s2">to log back in now all right make sure</p>
<p begin="12:45:12.560" end="12:45:16.956" style="s2">that virtual environment&#39;s enabled every</p>
<p begin="12:45:14.200" end="12:45:19.880" style="s2">time uh I&#39;m going to go into source and</p>
<p begin="12:45:16.956" end="12:45:19.880" style="s2">what I&#39;m going to do is I&#39;m going to do</p>
<p begin="12:45:22.800" end="12:45:27.916" style="s2">Olympic</p>
<p begin="12:45:25.276" end="12:45:30.640" style="s2">upgrade and then head so this is going</p>
<p begin="12:45:27.916" end="12:45:33.320" style="s2">to uh set up our database and it&#39;s going</p>
<p begin="12:45:30.640" end="12:45:36.520" style="s2">to uh upgrade it to the latest</p>
<p begin="12:45:33.320" end="12:45:38.956" style="s2">revision all right and take a look at</p>
<p begin="12:45:36.520" end="12:45:41.000" style="s2">that it created all of the individual</p>
<p begin="12:45:38.956" end="12:45:42.680" style="s2">revisions one at a time so we can we</p>
<p begin="12:45:41.000" end="12:45:45.160" style="s2">could still roll back just the same</p>
<p begin="12:45:42.680" end="12:45:46.916" style="s2">exact way that we did in development and</p>
<p begin="12:45:45.160" end="12:45:49.720" style="s2">with just a click of a button we&#39;ve got</p>
<p begin="12:45:46.916" end="12:45:51.840" style="s2">our entire database schema all set up</p>
<p begin="12:45:49.720" end="12:45:53.720" style="s2">and we can just refresh this real quick</p>
<p begin="12:45:51.840" end="12:45:55.436" style="s2">and then go into our tables and you can</p>
<p begin="12:45:53.720" end="12:45:58.080" style="s2">see that we&#39;ve got our three tables plus</p>
<p begin="12:45:55.436" end="12:45:59.756" style="s2">the Olympic table as well so now that we</p>
<p begin="12:45:58.080" end="12:46:01.640" style="s2">have our database all set I think it&#39;s</p>
<p begin="12:45:59.756" end="12:46:04.480" style="s2">time we try to start our application</p>
<p begin="12:46:01.640" end="12:46:06.436" style="s2">again so moving to your apps directory</p>
<p begin="12:46:04.480" end="12:46:07.880" style="s2">uh and if you&#39;ve already and if you</p>
<p begin="12:46:06.436" end="12:46:10.840" style="s2">haven&#39;t activated your virtual</p>
<p begin="12:46:07.880" end="12:46:10.840" style="s2">environment do that again</p>
<p begin="12:46:11.916" end="12:46:15.756" style="s2">move into the source directory and now</p>
<p begin="12:46:13.640" end="12:46:20.436" style="s2">we&#39;re going to run the same UV corn</p>
<p begin="12:46:15.756" end="12:46:20.436" style="s2">command that we ran in our development</p>
<p begin="12:46:23.956" end="12:46:28.720" style="s2">environment all right so it says it&#39;s</p>
<p begin="12:46:25.800" end="12:46:31.000" style="s2">running on the Local Host IP address of</p>
<p begin="12:46:28.720" end="12:46:33.000" style="s2">this machine on Port 8000 which is the</p>
<p begin="12:46:31.000" end="12:46:36.520" style="s2">default Port so let&#39;s try to connect to</p>
<p begin="12:46:33.000" end="12:46:38.436" style="s2">it so what we have to do is grab this</p>
<p begin="12:46:36.520" end="12:46:39.956" style="s2">and we&#39;re just going to paste the IP</p>
<p begin="12:46:38.436" end="12:46:43.680" style="s2">address into our browser and we&#39;re going</p>
<p begin="12:46:39.956" end="12:46:46.400" style="s2">to do colon Port</p>
<p begin="12:46:43.680" end="12:46:49.436" style="s2">8000 and let&#39;s see if this</p>
<p begin="12:46:46.400" end="12:46:51.956" style="s2">works and it looks like it didn&#39;t work</p>
<p begin="12:46:49.436" end="12:46:54.000" style="s2">so what happened well the problem here</p>
<p begin="12:46:51.956" end="12:46:55.756" style="s2">is that we needed to make sure that it</p>
<p begin="12:46:54.000" end="12:46:59.756" style="s2">can listen on any IP address so when you</p>
<p begin="12:46:55.756" end="12:47:02.116" style="s2">just set uh this to 127.0.0.1 that means</p>
<p begin="12:46:59.756" end="12:47:03.720" style="s2">only this machine can access it so I&#39;m</p>
<p begin="12:47:02.116" end="12:47:06.400" style="s2">going to controlc out of this so we&#39;re</p>
<p begin="12:47:03.720" end="12:47:09.680" style="s2">going to stop it and we&#39;re going to pass</p>
<p begin="12:47:06.400" end="12:47:13.916" style="s2">in one more flag we&#39;re going to say d D-</p>
<p begin="12:47:09.680" end="12:47:16.160" style="s2">host and then provide the I IP of 000000</p>
<p begin="12:47:13.916" end="12:47:18.160" style="s2">so we&#39;re going to listen on any IP uh</p>
<p begin="12:47:16.160" end="12:47:20.360" style="s2">that this machine is potentially running</p>
<p begin="12:47:18.160" end="12:47:23.200" style="s2">and if you wanted to if I did a d-el</p>
<p begin="12:47:20.360" end="12:47:25.520" style="s2">real quick uh we can also specify what</p>
<p begin="12:47:23.200" end="12:47:27.800" style="s2">port we want to listen on so if I do--</p>
<p begin="12:47:25.520" end="12:47:29.840" style="s2">Port I can provide a different port so</p>
<p begin="12:47:27.800" end="12:47:31.436" style="s2">it doesn&#39;t go to the default Port 8000</p>
<p begin="12:47:29.840" end="12:47:32.560" style="s2">but I&#39;m going to keep it as Port 8,000</p>
<p begin="12:47:31.436" end="12:47:34.640" style="s2">you&#39;re going to see that It ultimately</p>
<p begin="12:47:32.560" end="12:47:35.720" style="s2">doesn&#39;t matter when we actually deploy</p>
<p begin="12:47:34.640" end="12:47:37.680" style="s2">because we&#39;re going to deploy it in a</p>
<p begin="12:47:35.720" end="12:47:39.956" style="s2">way that it&#39;s always going to use either</p>
<p begin="12:47:37.680" end="12:47:43.916" style="s2">Port 80 or port 443 which is the default</p>
<p begin="12:47:39.956" end="12:47:46.240" style="s2">port for HTTP and https so this is good</p>
<p begin="12:47:43.916" end="12:47:48.640" style="s2">enough we&#39;re going to start it again now</p>
<p begin="12:47:46.240" end="12:47:51.040" style="s2">you can see it&#39;s listening on any IP and</p>
<p begin="12:47:48.640" end="12:47:53.160" style="s2">we&#39;re going to refresh and if you guys</p>
<p begin="12:47:51.040" end="12:47:54.916" style="s2">can&#39;t see that cuz it&#39;s tiny we can see</p>
<p begin="12:47:53.160" end="12:47:57.680" style="s2">that I got message hello world which is</p>
<p begin="12:47:54.916" end="12:48:00.276" style="s2">accessing that root path that we have so</p>
<p begin="12:47:57.680" end="12:48:04.040" style="s2">it looks like things are working at this</p>
<p begin="12:48:00.276" end="12:48:07.320" style="s2">point however right now you know if we</p>
<p begin="12:48:04.040" end="12:48:09.400" style="s2">if this program crashes um or if we</p>
<p begin="12:48:07.320" end="12:48:12.276" style="s2">reboot our machine you&#39;re going to see</p>
<p begin="12:48:09.400" end="12:48:14.000" style="s2">that it doesn&#39;t actually restart</p>
<p begin="12:48:12.276" end="12:48:15.520" style="s2">automatically uh and so what we&#39;re going</p>
<p begin="12:48:14.000" end="12:48:16.956" style="s2">to do is we&#39;re actually going to use a</p>
<p begin="12:48:15.520" end="12:48:19.756" style="s2">process manager so we&#39;re going to use</p>
<p begin="12:48:16.956" end="12:48:19.756" style="s2">something called</p>
<p begin="12:48:20.436" end="12:48:24.320" style="s2">gunicorn so control C out of that</p>
<p begin="12:48:23.116" end="12:48:25.956" style="s2">instead of just starting our application</p>
<p begin="12:48:24.320" end="12:48:28.040" style="s2">with uorn we&#39;re going to use</p>
<p begin="12:48:25.956" end="12:48:29.596" style="s2">gunicorn and if you don&#39;t if you haven&#39;t</p>
<p begin="12:48:28.040" end="12:48:31.956" style="s2">already installed it which you probably</p>
<p begin="12:48:29.596" end="12:48:35.320" style="s2">haven&#39;t do pip</p>
<p begin="12:48:31.956" end="12:48:35.320" style="s2">install G</p>
<p begin="12:48:35.756" end="12:48:39.520" style="s2">unicorn and make sure you&#39;re in the</p>
<p begin="12:48:37.800" end="12:48:40.756" style="s2">virtual environment</p>
<p begin="12:48:39.520" end="12:48:43.116" style="s2">and so gunicorn is going to be</p>
<p begin="12:48:40.756" end="12:48:44.880" style="s2">responsible for starting our application</p>
<p begin="12:48:43.116" end="12:48:45.956" style="s2">now I&#39;ve already got this installed</p>
<p begin="12:48:44.880" end="12:48:47.840" style="s2">because I added it to my</p>
<p begin="12:48:45.956" end="12:48:49.916" style="s2">requirements.txt file a little bit</p>
<p begin="12:48:47.840" end="12:48:51.116" style="s2">earlier um but if you haven&#39;t done that</p>
<p begin="12:48:49.916" end="12:48:52.680" style="s2">that&#39;s fine because I haven&#39;t told you</p>
<p begin="12:48:51.116" end="12:48:56.360" style="s2">guys to do that so just do a pip install</p>
<p begin="12:48:52.680" end="12:48:57.956" style="s2">G unicorn and if you get any errors most</p>
<p begin="12:48:56.360" end="12:49:02.080" style="s2">likely you&#39;ll need two other packages</p>
<p begin="12:48:57.956" end="12:49:05.320" style="s2">you&#39;ll need pip uh just you&#39;ll need HTTP</p>
<p begin="12:49:02.080" end="12:49:09.320" style="s2">tools and so you can just do a pip</p>
<p begin="12:49:05.320" end="12:49:11.880" style="s2">install of HTTP tools</p>
<p begin="12:49:09.320" end="12:49:16.800" style="s2">and you&#39;ll also need one extra Library</p>
<p begin="12:49:11.880" end="12:49:19.276" style="s2">which is uh UV tools so if you so if you</p>
<p begin="12:49:16.800" end="12:49:20.640" style="s2">hit any other errors moving forward</p>
<p begin="12:49:19.276" end="12:49:23.596" style="s2">right go ahead and install those two</p>
<p begin="12:49:20.640" end="12:49:25.360" style="s2">libraries HTTP tools and UV tools and</p>
<p begin="12:49:23.596" end="12:49:26.880" style="s2">that should fix any errors that you have</p>
<p begin="12:49:25.360" end="12:49:28.916" style="s2">so those were some potential errors that</p>
<p begin="12:49:26.880" end="12:49:31.520" style="s2">I ran into uh when I was kind of doing a</p>
<p begin="12:49:28.916" end="12:49:35.240" style="s2">quick test run um but at this point we</p>
<p begin="12:49:31.520" end="12:49:37.480" style="s2">should have access to our to a g unicorn</p>
<p begin="12:49:35.240" end="12:49:39.720" style="s2">command so I can say G unicorn and let&#39;s</p>
<p begin="12:49:37.480" end="12:49:43.000" style="s2">just do a quick qu uh</p>
<p begin="12:49:39.720" end="12:49:44.360" style="s2">d-el just to see what options we have</p>
<p begin="12:49:43.000" end="12:49:46.756" style="s2">and here what&#39;s nice is that you can</p>
<p begin="12:49:44.360" end="12:49:48.040" style="s2">actually set the number of workers so</p>
<p begin="12:49:46.756" end="12:49:50.360" style="s2">you know if you have if you&#39;re on a</p>
<p begin="12:49:48.040" end="12:49:52.200" style="s2">multi-threaded machine or or you have a</p>
<p begin="12:49:50.360" end="12:49:54.116" style="s2">virtual machine with multiple CPUs you</p>
<p begin="12:49:52.200" end="12:49:55.720" style="s2">could set up more than one worker so</p>
<p begin="12:49:54.116" end="12:49:57.040" style="s2">that they&#39;re all listening all at once</p>
<p begin="12:49:55.720" end="12:49:59.360" style="s2">and then it&#39;s going to get load balanced</p>
<p begin="12:49:57.040" end="12:50:00.956" style="s2">across all of them so we&#39;re going to set</p>
<p begin="12:49:59.360" end="12:50:02.116" style="s2">up four by default just to show you you</p>
<p begin="12:50:00.956" end="12:50:04.276" style="s2">could set up one it doesn&#39;t really</p>
<p begin="12:50:02.116" end="12:50:06.480" style="s2">change anything so the command is going</p>
<p begin="12:50:04.276" end="12:50:09.360" style="s2">to be G</p>
<p begin="12:50:06.480" end="12:50:12.880" style="s2">unicorn DW so this is for the number of</p>
<p begin="12:50:09.360" end="12:50:15.956" style="s2">workers we&#39;re going to say I want four</p>
<p begin="12:50:12.880" end="12:50:18.480" style="s2">workers and then we&#39;re going to say-</p>
<p begin="12:50:15.956" end="12:50:21.480" style="s2">K we&#39;re going to say UV</p>
<p begin="12:50:18.480" end="12:50:21.480" style="s2">corn.</p>
<p begin="12:50:22.520" end="12:50:28.560" style="s2">workers do capital</p>
<p begin="12:50:26.040" end="12:50:30.800" style="s2">uvn capital</p>
<p begin="12:50:28.560" end="12:50:32.520" style="s2">worker all right and then now we just</p>
<p begin="12:50:30.800" end="12:50:34.520" style="s2">specify how to start our application</p>
<p begin="12:50:32.520" end="12:50:36.840" style="s2">like we normally do so we go into our</p>
<p begin="12:50:34.520" end="12:50:39.640" style="s2">app folder we grab the main file and</p>
<p begin="12:50:36.840" end="12:50:41.200" style="s2">then we start app</p>
<p begin="12:50:39.640" end="12:50:44.000" style="s2">and then you know just like we did with</p>
<p begin="12:50:41.200" end="12:50:46.680" style="s2">UV coin a little bit while ago we had to</p>
<p begin="12:50:44.000" end="12:50:50.520" style="s2">start it with the-- host uh and then do</p>
<p begin="12:50:46.680" end="12:50:53.560" style="s2">all zeros here with guu vorn sorry G</p>
<p begin="12:50:50.520" end="12:50:56.680" style="s2">unicorn we have to use a D- bind and</p>
<p begin="12:50:53.560" end="12:50:56.680" style="s2">then we do0 do0 do</p>
<p begin="12:50:57.400" end="12:51:02.480" style="s2">zero and then we specify the port we</p>
<p begin="12:50:59.640" end="12:51:05.000" style="s2">want to listen on let me drag this so it</p>
<p begin="12:51:02.480" end="12:51:06.640" style="s2">looks a little easier to read so we do</p>
<p begin="12:51:05.000" end="12:51:09.720" style="s2">that and then the port that you want to</p>
<p begin="12:51:06.640" end="12:51:13.160" style="s2">listen on</p>
<p begin="12:51:09.720" end="12:51:15.000" style="s2">let&#39;s start that and it looks like I got</p>
<p begin="12:51:13.160" end="12:51:17.040" style="s2">a couple of Errors so let&#39;s see what</p>
<p begin="12:51:15.000" end="12:51:20.276" style="s2">happened all right and so if you get</p>
<p begin="12:51:17.040" end="12:51:22.756" style="s2">this error UV Loop uh it means we&#39;re</p>
<p begin="12:51:20.276" end="12:51:24.116" style="s2">missing a library and so like I said if</p>
<p begin="12:51:22.756" end="12:51:26.840" style="s2">you get any errors make sure you do the</p>
<p begin="12:51:24.116" end="12:51:28.956" style="s2">PIP install HTTP tools I should have</p>
<p begin="12:51:26.840" end="12:51:32.680" style="s2">this one already installed and then you</p>
<p begin="12:51:28.956" end="12:51:32.680" style="s2">want to do a pip install UV</p>
<p begin="12:51:34.116" end="12:51:38.276" style="s2">tools and I realized I&#39;ve been making a</p>
<p begin="12:51:36.320" end="12:51:41.116" style="s2">mistake it&#39;s not called UV tools it&#39;s</p>
<p begin="12:51:38.276" end="12:51:41.116" style="s2">going to going to be UV</p>
<p begin="12:51:43.360" end="12:51:48.720" style="s2">Loop all right and so now it&#39;s</p>
<p begin="12:51:45.276" end="12:51:51.040" style="s2">successful so uh not not UV tools UV</p>
<p begin="12:51:48.720" end="12:51:53.640" style="s2">loop I guess I got it mixed up with HTTP</p>
<p begin="12:51:51.040" end="12:51:58.116" style="s2">tools and so you can go ahead and if you</p>
<p begin="12:51:53.640" end="12:51:58.116" style="s2">actually wanted to uh if you did a pip</p>
<p begin="12:51:58.240" end="12:52:02.800" style="s2">freeze you could go ahead and copy this</p>
<p begin="12:52:01.000" end="12:52:04.880" style="s2">and make this your new requirements.txt</p>
<p begin="12:52:02.800" end="12:52:07.320" style="s2">file that you check in to get this is</p>
<p begin="12:52:04.880" end="12:52:09.080" style="s2">going to have uh gunicorn automatically</p>
<p begin="12:52:07.320" end="12:52:11.116" style="s2">in there because we already installed it</p>
<p begin="12:52:09.080" end="12:52:12.480" style="s2">it&#39;s going to have UV Loop and it&#39;s</p>
<p begin="12:52:11.116" end="12:52:15.080" style="s2">going to have the what is the last one</p>
<p begin="12:52:12.480" end="12:52:17.160" style="s2">that we needed HTTP tools which is right</p>
<p begin="12:52:15.080" end="12:52:19.240" style="s2">here uh and so you can check this</p>
<p begin="12:52:17.160" end="12:52:21.240" style="s2">version into git uh and so that way it&#39;s</p>
<p begin="12:52:19.240" end="12:52:23.956" style="s2">all up to date and so when you deploy to</p>
<p begin="12:52:21.240" end="12:52:25.400" style="s2">other auntu machines or other computers</p>
<p begin="12:52:23.956" end="12:52:27.720" style="s2">uh it&#39;s going to have all of these extra</p>
<p begin="12:52:25.400" end="12:52:29.800" style="s2">packages so you can deploy right away</p>
<p begin="12:52:27.720" end="12:52:31.360" style="s2">all right and now let&#39;s run the same</p>
<p begin="12:52:29.800" end="12:52:33.800" style="s2">gunicorn</p>
<p begin="12:52:31.360" end="12:52:36.000" style="s2">command and now it looks like it started</p>
<p begin="12:52:33.800" end="12:52:37.320" style="s2">it says it&#39;s listening on this port and</p>
<p begin="12:52:36.000" end="12:52:38.956" style="s2">notice something interesting look at</p>
<p begin="12:52:37.320" end="12:52:40.840" style="s2">this it actually started up four worker</p>
<p begin="12:52:38.956" end="12:52:43.480" style="s2">nodes and you can even see the process</p>
<p begin="12:52:40.840" end="12:52:45.520" style="s2">IDs so this is probably the parent ID</p>
<p begin="12:52:43.480" end="12:52:46.916" style="s2">and then these are the little worker IDs</p>
<p begin="12:52:45.520" end="12:52:49.160" style="s2">so if you wanted to we can open up</p>
<p begin="12:52:46.916" end="12:52:53.756" style="s2">another</p>
<p begin="12:52:49.160" end="12:52:56.360" style="s2">connection and I can do a ps- a pipe</p>
<p begin="12:52:53.756" end="12:52:58.596" style="s2">grap we could probably just grip for uh</p>
<p begin="12:52:56.360" end="12:53:00.840" style="s2">g g</p>
<p begin="12:52:58.596" end="12:53:02.240" style="s2">unicorn yep and so you could see all of</p>
<p begin="12:53:00.840" end="12:53:04.200" style="s2">the different processes that were</p>
<p begin="12:53:02.240" end="12:53:06.916" style="s2">started and so there should be five of</p>
<p begin="12:53:04.200" end="12:53:09.360" style="s2">them 1 2 3 4 five one of them is the</p>
<p begin="12:53:06.916" end="12:53:12.240" style="s2">parent uh process and then the four are</p>
<p begin="12:53:09.360" end="12:53:12.240" style="s2">the other child</p>
<p begin="12:53:12.520" end="12:53:16.756" style="s2">processes all right now that&#39;s working</p>
<p begin="12:53:15.160" end="12:53:18.080" style="s2">let&#39;s just do a refresh just to make</p>
<p begin="12:53:16.756" end="12:53:20.160" style="s2">sure we didn&#39;t break anything and it&#39;s</p>
<p begin="12:53:18.080" end="12:53:22.276" style="s2">still working and so if we do a refresh</p>
<p begin="12:53:20.160" end="12:53:25.480" style="s2">you can see that we can still access our</p>
<p begin="12:53:22.276" end="12:53:27.596" style="s2">application and if I go to SL dos the</p>
<p begin="12:53:25.480" end="12:53:29.080" style="s2">documentation should still be there</p>
<p begin="12:53:27.596" end="12:53:31.756" style="s2">perfect so it looks like our app is</p>
<p begin="12:53:29.080" end="12:53:33.240" style="s2">working we can test it now um by testing</p>
<p begin="12:53:31.756" end="12:53:34.840" style="s2">the individual endpoints but we&#39;re going</p>
<p begin="12:53:33.240" end="12:53:36.400" style="s2">to hold off on doing that because we&#39;re</p>
<p begin="12:53:34.840" end="12:53:39.000" style="s2">going to make a few more</p>
<p begin="12:53:36.400" end="12:53:42.840" style="s2">changes so the first thing is</p>
<p begin="12:53:39.000" end="12:53:44.560" style="s2">right now this is this is running on our</p>
<p begin="12:53:42.840" end="12:53:46.840" style="s2">specific terminal and so it kind of</p>
<p begin="12:53:44.560" end="12:53:48.756" style="s2">locks up our terminal I want this to be</p>
<p begin="12:53:46.840" end="12:53:51.400" style="s2">running in the background and more</p>
<p begin="12:53:48.756" end="12:53:53.640" style="s2">importantly I want this to automatically</p>
<p begin="12:53:51.400" end="12:53:55.800" style="s2">start up on boot because right now if we</p>
<p begin="12:53:53.640" end="12:53:58.436" style="s2">reboot our box right we&#39;d have to</p>
<p begin="12:53:55.800" end="12:54:00.520" style="s2">manually log into this device and run</p>
<p begin="12:53:58.436" end="12:54:02.360" style="s2">this same command so we have to find a</p>
<p begin="12:54:00.520" end="12:54:04.640" style="s2">way to kind of automate it so that upon</p>
<p begin="12:54:02.360" end="12:54:06.116" style="s2">reboot it&#39;s going to run the application</p>
<p begin="12:54:04.640" end="12:54:09.480" style="s2">and we want it to run in the background</p>
<p begin="12:54:06.116" end="12:54:12.800" style="s2">so that we don&#39;t see any logs by default</p>
<p begin="12:54:09.480" end="12:54:12.800" style="s2">and we&#39;ll tackle that in the next</p>
<p begin="12:54:13.596" end="12:54:17.360" style="s2">video all right guys so in this video</p>
<p begin="12:54:15.800" end="12:54:20.000" style="s2">we&#39;re going to figure out how we can</p>
<p begin="12:54:17.360" end="12:54:22.320" style="s2">have this uh command automatically run</p>
<p begin="12:54:20.000" end="12:54:24.520" style="s2">upon reboot as well as how can we run</p>
<p begin="12:54:22.320" end="12:54:26.116" style="s2">this as a background process so that we</p>
<p begin="12:54:24.520" end="12:54:27.360" style="s2">don&#39;t hang our terminal so what we&#39;re</p>
<p begin="12:54:26.116" end="12:54:28.956" style="s2">going to do is just do a contrl c to</p>
<p begin="12:54:27.360" end="12:54:31.080" style="s2">stop it for</p>
<p begin="12:54:28.956" end="12:54:32.480" style="s2">now and we&#39;re going to what we&#39;re going</p>
<p begin="12:54:31.080" end="12:54:35.720" style="s2">to do is we&#39;re going to create our own</p>
<p begin="12:54:32.480" end="12:54:39.116" style="s2">service and if you ever run system CTL</p>
<p begin="12:54:35.720" end="12:54:42.320" style="s2">and then you know either status or start</p>
<p begin="12:54:39.116" end="12:54:44.800" style="s2">uh or or restart and then the name of</p>
<p begin="12:54:42.320" end="12:54:48.640" style="s2">some of some application that you wanted</p>
<p begin="12:54:44.800" end="12:54:50.560" style="s2">to run you know um that is an example of</p>
<p begin="12:54:48.640" end="12:54:51.240" style="s2">making use of a service and so what</p>
<p begin="12:54:50.560" end="12:54:52.436" style="s2">we&#39;re going to do is we&#39;re going to</p>
<p begin="12:54:51.240" end="12:54:54.956" style="s2">create we&#39;re going to make our own</p>
<p begin="12:54:52.436" end="12:54:57.160" style="s2">service which starts this application</p>
<p begin="12:54:54.956" end="12:55:00.080" style="s2">here for us and you&#39;ll see that it&#39;s</p>
<p begin="12:54:57.160" end="12:55:03.116" style="s2">actually pretty simple uh if we go to/</p>
<p begin="12:55:00.080" end="12:55:06.360" style="s2">Etsy SL</p>
<p begin="12:55:03.116" end="12:55:09.916" style="s2">systemd and then system and I forgot to</p>
<p begin="12:55:06.360" end="12:55:11.596" style="s2">do a CD to move into that directory</p>
<p begin="12:55:09.916" end="12:55:13.560" style="s2">if you do an LS these are all of the</p>
<p begin="12:55:11.596" end="12:55:15.720" style="s2">services that have been installed on our</p>
<p begin="12:55:13.560" end="12:55:17.640" style="s2">machine and we&#39;re just going to create a</p>
<p begin="12:55:15.720" end="12:55:19.956" style="s2">brand new one so how do we create that</p>
<p begin="12:55:17.640" end="12:55:21.916" style="s2">we have to create a couple of files and</p>
<p begin="12:55:19.956" end="12:55:24.360" style="s2">I have actually created them for you</p>
<p begin="12:55:21.916" end="12:55:27.360" style="s2">guys ahead of time so if you check my</p>
<p begin="12:55:24.360" end="12:55:30.436" style="s2">GitHub repo you will see a file called</p>
<p begin="12:55:27.360" end="12:55:32.436" style="s2">gunicorn dos</p>
<p begin="12:55:30.436" end="12:55:33.916" style="s2">service and there&#39;s going to be a couple</p>
<p begin="12:55:32.436" end="12:55:35.240" style="s2">things that we have to change so let me</p>
<p begin="12:55:33.916" end="12:55:37.400" style="s2">just walk you through what each one of</p>
<p begin="12:55:35.240" end="12:55:38.680" style="s2">these lines mean so under unit here</p>
<p begin="12:55:37.400" end="12:55:39.756" style="s2">we&#39;re just going to give a description</p>
<p begin="12:55:38.680" end="12:55:42.360" style="s2">of what this is going to do so this is</p>
<p begin="12:55:39.756" end="12:55:44.360" style="s2">going to be a gunicorn instance uh for</p>
<p begin="12:55:42.360" end="12:55:46.880" style="s2">to server API you can put whatever</p>
<p begin="12:55:44.360" end="12:55:49.080" style="s2">description you want you can say uh demo</p>
<p begin="12:55:46.880" end="12:55:51.756" style="s2">fast API application doesn&#39;t really</p>
<p begin="12:55:49.080" end="12:55:54.000" style="s2">matter after now the next line right</p>
<p begin="12:55:51.756" end="12:55:55.160" style="s2">here where it says after network. Target</p>
<p begin="12:55:54.000" end="12:55:57.596" style="s2">what this is going to do is this is</p>
<p begin="12:55:55.160" end="12:55:59.880" style="s2">going to tell systemd or our abunto</p>
<p begin="12:55:57.596" end="12:56:01.520" style="s2">machine when to actually start this</p>
<p begin="12:55:59.880" end="12:56:03.436" style="s2">service and so it&#39;s saying that hey we</p>
<p begin="12:56:01.520" end="12:56:06.520" style="s2">need our network service running before</p>
<p begin="12:56:03.436" end="12:56:08.000" style="s2">we can start our uh API because if the</p>
<p begin="12:56:06.520" end="12:56:09.160" style="s2">Network&#39;s not up then nothing else</p>
<p begin="12:56:08.000" end="12:56:11.160" style="s2">really matter so we&#39;re going to wait for</p>
<p begin="12:56:09.160" end="12:56:13.116" style="s2">Network to come up before we start the</p>
<p begin="12:56:11.160" end="12:56:14.956" style="s2">service then on the service we&#39;re going</p>
<p begin="12:56:13.116" end="12:56:18.480" style="s2">to figure out uh we have to specify what</p>
<p begin="12:56:14.956" end="12:56:20.320" style="s2">user is going to uh you know run this</p>
<p begin="12:56:18.480" end="12:56:22.080" style="s2">service so we need this to be associated</p>
<p begin="12:56:20.320" end="12:56:24.080" style="s2">with the user I created a user called</p>
<p begin="12:56:22.080" end="12:56:25.436" style="s2">sanie so I&#39;m going to update this and</p>
<p begin="12:56:24.080" end="12:56:28.320" style="s2">then for group you want to just put the</p>
<p begin="12:56:25.436" end="12:56:30.436" style="s2">same exact name as the user then we have</p>
<p begin="12:56:28.320" end="12:56:32.276" style="s2">to specify the working</p>
<p begin="12:56:30.436" end="12:56:33.596" style="s2">directory and so this is going to be the</p>
<p begin="12:56:32.276" end="12:56:35.880" style="s2">directory our service is going to be</p>
<p begin="12:56:33.596" end="12:56:38.200" style="s2">launched in so um go ahead and update</p>
<p begin="12:56:35.880" end="12:56:40.160" style="s2">this to point to the directory your app</p>
<p begin="12:56:38.200" end="12:56:41.800" style="s2">is running in and if you don&#39;t know what</p>
<p begin="12:56:40.160" end="12:56:45.320" style="s2">that is remember just go</p>
<p begin="12:56:41.800" end="12:56:46.640" style="s2">home uh then move into Apps and then you</p>
<p begin="12:56:45.320" end="12:56:49.080" style="s2">can go into the source folder if you</p>
<p begin="12:56:46.640" end="12:56:51.080" style="s2">want and just type in PWD so that&#39;s</p>
<p begin="12:56:49.080" end="12:56:53.520" style="s2">going to get you the exact path that you</p>
<p begin="12:56:51.080" end="12:56:55.040" style="s2">want and so I have to update this with</p>
<p begin="12:56:53.520" end="12:56:57.560" style="s2">my</p>
<p begin="12:56:55.040" end="12:56:59.436" style="s2">username and then the environment so</p>
<p begin="12:56:57.560" end="12:57:03.240" style="s2">because we want this service to run the</p>
<p begin="12:56:59.436" end="12:57:04.880" style="s2">G unicorn command uh which is right here</p>
<p begin="12:57:03.240" end="12:57:06.320" style="s2">we needed to run in a virtual</p>
<p begin="12:57:04.880" end="12:57:08.240" style="s2">environment so to actually set the</p>
<p begin="12:57:06.320" end="12:57:10.680" style="s2">virtual environment through this script</p>
<p begin="12:57:08.240" end="12:57:13.276" style="s2">we have to say environment equals and</p>
<p begin="12:57:10.680" end="12:57:15.640" style="s2">then we set this path variable and we</p>
<p begin="12:57:13.276" end="12:57:18.040" style="s2">just point it to the exact path to our</p>
<p begin="12:57:15.640" end="12:57:20.200" style="s2">uh Bin folder so once again you don&#39;t</p>
<p begin="12:57:18.040" end="12:57:22.756" style="s2">know how to get there just go to your</p>
<p begin="12:57:20.200" end="12:57:24.756" style="s2">app folder go into your virtual</p>
<p begin="12:57:22.756" end="12:57:26.360" style="s2">environment go into your bin folder and</p>
<p begin="12:57:24.756" end="12:57:27.800" style="s2">then just type in PWD and that&#39;s going</p>
<p begin="12:57:26.360" end="12:57:30.240" style="s2">to get you the</p>
<p begin="12:57:27.800" end="12:57:32.360" style="s2">path and so I just have to update this</p>
<p begin="12:57:30.240" end="12:57:33.560" style="s2">with my username and you&#39;ll just do the</p>
<p begin="12:57:32.360" end="12:57:35.880" style="s2">same thing you just have to update the</p>
<p begin="12:57:33.560" end="12:57:38.436" style="s2">username uh then we have to specify the</p>
<p begin="12:57:35.880" end="12:57:40.840" style="s2">exact command to run so we we have to</p>
<p begin="12:57:38.436" end="12:57:43.080" style="s2">provide the path to where the gunicorn</p>
<p begin="12:57:40.840" end="12:57:45.116" style="s2">command resides on so it actually sits</p>
<p begin="12:57:43.080" end="12:57:47.360" style="s2">in the bin folder uh so if you actually</p>
<p begin="12:57:45.116" end="12:57:48.520" style="s2">do an LS here right you can see the G</p>
<p begin="12:57:47.360" end="12:57:50.320" style="s2">unicorn</p>
<p begin="12:57:48.520" end="12:57:53.320" style="s2">command and so that&#39;s going to give it</p>
<p begin="12:57:50.320" end="12:57:55.560" style="s2">the path to the command and then after</p>
<p begin="12:57:53.320" end="12:57:57.480" style="s2">that well actually I have to update my</p>
<p begin="12:57:55.560" end="12:57:59.800" style="s2">username once</p>
<p begin="12:57:57.480" end="12:58:01.640" style="s2">again right and after that it&#39;s the same</p>
<p begin="12:57:59.800" end="12:58:04.276" style="s2">exact command that we ran before so four</p>
<p begin="12:58:01.640" end="12:58:07.320" style="s2">workers - k then we have this long</p>
<p begin="12:58:04.276" end="12:58:08.916" style="s2">Command right here and then we specify</p>
<p begin="12:58:07.320" end="12:58:09.956" style="s2">how to start our application which is</p>
<p begin="12:58:08.916" end="12:58:12.276" style="s2">this command and then we&#39;re going to</p>
<p begin="12:58:09.956" end="12:58:14.560" style="s2">bind it to 0.0.0 and then you can pick</p>
<p begin="12:58:12.276" end="12:58:16.276" style="s2">whatever Port that you want and this is</p>
<p begin="12:58:14.560" end="12:58:17.880" style="s2">just a default config don&#39;t worry too</p>
<p begin="12:58:16.276" end="12:58:20.040" style="s2">much about it you you need it but I</p>
<p begin="12:58:17.880" end="12:58:22.000" style="s2">don&#39;t want to go too far into how Linux</p>
<p begin="12:58:20.040" end="12:58:23.640" style="s2">Works to actually explain this just know</p>
<p begin="12:58:22.000" end="12:58:26.320" style="s2">that this is just a standard uh</p>
<p begin="12:58:23.640" end="12:58:27.916" style="s2">procedure for creating a service so to</p>
<p begin="12:58:26.320" end="12:58:31.596" style="s2">actually create the service now what we</p>
<p begin="12:58:27.916" end="12:58:34.916" style="s2">do is let&#39;s go to/ Etsy</p>
<p begin="12:58:31.596" end="12:58:34.916" style="s2">systemd then</p>
<p begin="12:58:35.680" end="12:58:40.916" style="s2">system and let me deactivate my</p>
<p begin="12:58:38.956" end="12:58:42.276" style="s2">H we don&#39;t need to deactivate it&#39;s fine</p>
<p begin="12:58:40.916" end="12:58:46.320" style="s2">we&#39;re going to create our service file</p>
<p begin="12:58:42.276" end="12:58:47.880" style="s2">here and so I&#39;m going to do a pseudo VI</p>
<p begin="12:58:46.320" end="12:58:49.560" style="s2">and then the name of the the service so</p>
<p begin="12:58:47.880" end="12:58:53.040" style="s2">what do you want to call your service so</p>
<p begin="12:58:49.560" end="12:58:54.436" style="s2">when you type in uh system CTL and then</p>
<p begin="12:58:53.040" end="12:58:56.276" style="s2">start what&#39;s the name of the service you</p>
<p begin="12:58:54.436" end="12:58:57.200" style="s2">want to type in you get to specify I&#39;m</p>
<p begin="12:58:56.276" end="12:58:59.080" style="s2">going to make it so that it&#39;s just</p>
<p begin="12:58:57.200" end="12:59:02.560" style="s2">called API very simple you can call it</p>
<p begin="12:58:59.080" end="12:59:03.916" style="s2">fast API you can call it uh social media</p>
<p begin="12:59:02.560" end="12:59:05.436" style="s2">app it doesn&#39;t really matter it&#39;s up to</p>
<p begin="12:59:03.916" end="12:59:07.640" style="s2">you but I&#39;m going to call it</p>
<p begin="12:59:05.436" end="12:59:13.240" style="s2">API and since I want to call it API I&#39;m</p>
<p begin="12:59:07.640" end="12:59:15.276" style="s2">going to create a a file called API do</p>
<p begin="12:59:13.240" end="12:59:17.916" style="s2">service and then what we can do is just</p>
<p begin="12:59:15.276" end="12:59:20.116" style="s2">take this copy it and we will paste it</p>
<p begin="12:59:17.916" end="12:59:20.116" style="s2">in</p>
<p begin="12:59:20.520" end="12:59:25.756" style="s2">here all right and to test out our</p>
<p begin="12:59:22.800" end="12:59:29.276" style="s2">service let&#39;s do a system</p>
<p begin="12:59:25.756" end="12:59:29.276" style="s2">CTL start</p>
<p begin="12:59:33.596" end="12:59:39.080" style="s2">API and we&#39;re going to have to put in</p>
<p begin="12:59:35.640" end="12:59:41.916" style="s2">our password and so this started our</p>
<p begin="12:59:39.080" end="12:59:45.000" style="s2">API and if we do a</p>
<p begin="12:59:41.916" end="12:59:47.596" style="s2">system CTL status API whoops there</p>
<p begin="12:59:45.000" end="12:59:49.160" style="s2">shouldn&#39;t be a space CTL status API this</p>
<p begin="12:59:47.596" end="12:59:51.480" style="s2">should just give us the status of our</p>
<p begin="12:59:49.160" end="12:59:53.800" style="s2">service uh we can see that looks like it</p>
<p begin="12:59:51.480" end="12:59:55.520" style="s2">failed that&#39;s not good uh and it&#39;s going</p>
<p begin="12:59:53.800" end="12:59:57.596" style="s2">to provide us some</p>
<p begin="12:59:55.520" end="12:59:59.916" style="s2">logs and if we take a look at the logs</p>
<p begin="12:59:57.596" end="13:00:02.720" style="s2">you can see algorithm field required</p>
<p begin="12:59:59.916" end="13:00:05.436" style="s2">access token expires um field required</p>
<p begin="13:00:02.720" end="13:00:06.916" style="s2">so it looks like uh something is wrong</p>
<p begin="13:00:05.436" end="13:00:08.436" style="s2">with our environment variables cuz we</p>
<p begin="13:00:06.916" end="13:00:09.880" style="s2">saw the same exact are</p>
<p begin="13:00:08.436" end="13:00:11.200" style="s2">when we were originally setting this up</p>
<p begin="13:00:09.880" end="13:00:13.756" style="s2">before we got the environment variable</p>
<p begin="13:00:11.200" end="13:00:16.400" style="s2">so for some reason it&#39;s not actually</p>
<p begin="13:00:13.756" end="13:00:19.160" style="s2">accepting these environment variables</p>
<p begin="13:00:16.400" end="13:00:20.956" style="s2">and the reason for this is that the</p>
<p begin="13:00:19.160" end="13:00:23.276" style="s2">service file the service that you create</p>
<p begin="13:00:20.956" end="13:00:25.360" style="s2">doesn&#39;t have access to users environment</p>
<p begin="13:00:23.276" end="13:00:26.880" style="s2">variables and if you actually go back to</p>
<p begin="13:00:25.360" end="13:00:30.276" style="s2">our home</p>
<p begin="13:00:26.880" end="13:00:31.240" style="s2">directory and then we go to LS uh LS</p>
<p begin="13:00:30.276" end="13:00:34.956" style="s2">minus</p>
<p begin="13:00:31.240" end="13:00:37.520" style="s2">La remember we created this EnV file uh</p>
<p begin="13:00:34.956" end="13:00:38.800" style="s2">and then we loaded it in the profile so</p>
<p begin="13:00:37.520" end="13:00:41.520" style="s2">uh the environment variables that get</p>
<p begin="13:00:38.800" end="13:00:44.200" style="s2">loaded from profile um aren&#39;t accessible</p>
<p begin="13:00:41.520" end="13:00:46.040" style="s2">within a service and that&#39;s just the way</p>
<p begin="13:00:44.200" end="13:00:48.080" style="s2">Services work so what we have to do is</p>
<p begin="13:00:46.040" end="13:00:51.436" style="s2">we have to pass in another</p>
<p begin="13:00:48.080" end="13:00:53.400" style="s2">field in our service config so that it</p>
<p begin="13:00:51.436" end="13:00:55.880" style="s2">knows to pull the environment variables</p>
<p begin="13:00:53.400" end="13:00:58.956" style="s2">from that specific file so what we can</p>
<p begin="13:00:55.880" end="13:01:00.720" style="s2">do here is uh in this file we&#39;re going</p>
<p begin="13:00:58.956" end="13:01:02.276" style="s2">to go and just add another line it</p>
<p begin="13:01:00.720" end="13:01:07.116" style="s2">doesn&#39;t matter where you add the</p>
<p begin="13:01:02.276" end="13:01:07.116" style="s2">line but we want to say environment</p>
<p begin="13:01:08.080" end="13:01:11.360" style="s2">file make sure to capitalize the E and</p>
<p begin="13:01:09.956" end="13:01:14.200" style="s2">the</p>
<p begin="13:01:11.360" end="13:01:16.640" style="s2">f equals and then you provide the path</p>
<p begin="13:01:14.200" end="13:01:19.916" style="s2">to your specific uh EnV file so mine&#39;s</p>
<p begin="13:01:16.640" end="13:01:19.916" style="s2">going to be home/</p>
<p begin="13:01:22.480" end="13:01:26.720" style="s2">s.v and I&#39;ll just copy all of this</p>
<p begin="13:01:26.840" end="13:01:32.320" style="s2">again and we&#39;ll go back into Etsy</p>
<p begin="13:01:29.360" end="13:01:35.480" style="s2">systemd</p>
<p begin="13:01:32.320" end="13:01:39.480" style="s2">system and then I&#39;ll just do a pseudo</p>
<p begin="13:01:35.480" end="13:01:42.840" style="s2">VII api. service</p>
<p begin="13:01:39.480" end="13:01:42.840" style="s2">and we&#39;re going to replace this file</p>
<p begin="13:01:44.640" end="13:01:49.080" style="s2">now all right so now we should be able</p>
<p begin="13:01:47.400" end="13:01:51.276" style="s2">to import all of those environment</p>
<p begin="13:01:49.080" end="13:01:53.436" style="s2">variables and you there&#39;s other way to</p>
<p begin="13:01:51.276" end="13:01:56.640" style="s2">to do this you can also set up a config</p>
<p begin="13:01:53.436" end="13:01:57.796" style="s2">file for your uh your new service</p>
<p begin="13:01:56.640" end="13:01:59.596" style="s2">however I figured it&#39;s just easier</p>
<p begin="13:01:57.796" end="13:02:02.520" style="s2">because we already have our environment</p>
<p begin="13:01:59.596" end="13:02:05.956" style="s2">uh our ourv file so we can just continue</p>
<p begin="13:02:02.520" end="13:02:05.956" style="s2">to use that</p>
<p begin="13:02:08.160" end="13:02:13.796" style="s2">and now if I do a system CTL restart</p>
<p begin="13:02:11.520" end="13:02:16.956" style="s2">API and notice you don&#39;t have to type in</p>
<p begin="13:02:13.796" end="13:02:20.080" style="s2">api. service uh it&#39;s optional you can</p>
<p begin="13:02:16.956" end="13:02:20.080" style="s2">you can technically do it like</p>
<p begin="13:02:24.000" end="13:02:27.680" style="s2">this and it looks like since we actually</p>
<p begin="13:02:26.200" end="13:02:30.080" style="s2">changed the file we have to run this</p>
<p begin="13:02:27.680" end="13:02:30.080" style="s2">command</p>
<p begin="13:02:34.160" end="13:02:38.756" style="s2">now all right and so now let&#39;s do a</p>
<p begin="13:02:36.480" end="13:02:43.360" style="s2">system CTL</p>
<p begin="13:02:38.756" end="13:02:46.200" style="s2">restart sorry not restart status</p>
<p begin="13:02:43.360" end="13:02:49.560" style="s2">API and</p>
<p begin="13:02:46.200" end="13:02:51.796" style="s2">uh looks like we got the same exact</p>
<p begin="13:02:49.560" end="13:02:54.000" style="s2">error uh let&#39;s just do a restart one</p>
<p begin="13:02:51.796" end="13:02:54.000" style="s2">more</p>
<p begin="13:02:58.680" end="13:03:03.916" style="s2">time and we&#39;ll do a status and now it&#39;s</p>
<p begin="13:03:02.160" end="13:03:06.200" style="s2">up and running perfect look at that so</p>
<p begin="13:03:03.916" end="13:03:08.436" style="s2">we&#39;ve got our four workers uh these are</p>
<p begin="13:03:06.200" end="13:03:11.276" style="s2">the process IDs and and let&#39;s just</p>
<p begin="13:03:08.436" end="13:03:13.480" style="s2">double check and make sure that we can</p>
<p begin="13:03:11.276" end="13:03:16.360" style="s2">access our specific website so I&#39;m going</p>
<p begin="13:03:13.480" end="13:03:18.480" style="s2">to just Refresh on the SL docs and it</p>
<p begin="13:03:16.360" end="13:03:20.880" style="s2">looks like it works let&#39;s go to the root</p>
<p begin="13:03:18.480" end="13:03:23.560" style="s2">and let&#39;s go to the root</p>
<p begin="13:03:20.880" end="13:03:26.840" style="s2">URL I&#39;ll just change this to the root</p>
<p begin="13:03:23.560" end="13:03:29.320" style="s2">URL and see if we get the API response</p>
<p begin="13:03:26.840" end="13:03:31.480" style="s2">perfect so it looks like we&#39;ve got our</p>
<p begin="13:03:29.320" end="13:03:34.116" style="s2">application uh up and running there&#39;s</p>
<p begin="13:03:31.480" end="13:03:36.596" style="s2">just one last thing we need to</p>
<p begin="13:03:34.116" end="13:03:37.880" style="s2">do and I wasn&#39;t sure if I had already</p>
<p begin="13:03:36.596" end="13:03:39.320" style="s2">covered this but there&#39;s one last last</p>
<p begin="13:03:37.880" end="13:03:41.080" style="s2">thing I want to do and that is I want to</p>
<p begin="13:03:39.320" end="13:03:43.520" style="s2">make sure that our service automatically</p>
<p begin="13:03:41.080" end="13:03:45.956" style="s2">starts upon a reboot so that way you</p>
<p begin="13:03:43.520" end="13:03:47.756" style="s2">know in case our uh machine goes down</p>
<p begin="13:03:45.956" end="13:03:49.240" style="s2">whether it&#39;s because of a power failure</p>
<p begin="13:03:47.756" end="13:03:50.840" style="s2">or something like that or maybe we</p>
<p begin="13:03:49.240" end="13:03:52.840" style="s2">perform some sort of upgrade I wanted to</p>
<p begin="13:03:50.840" end="13:03:55.360" style="s2">automatically start this service so that</p>
<p begin="13:03:52.840" end="13:03:59.000" style="s2">our application is always up and running</p>
<p begin="13:03:55.360" end="13:04:01.080" style="s2">if you do a system CTL status API you</p>
<p begin="13:03:59.000" end="13:04:02.680" style="s2">could find out pretty easily whether</p>
<p begin="13:04:01.080" end="13:04:04.640" style="s2">this service is going to get started</p>
<p begin="13:04:02.680" end="13:04:06.560" style="s2">upon a reboot so if you take right take</p>
<p begin="13:04:04.640" end="13:04:07.756" style="s2">a look right here under loaded uh and</p>
<p begin="13:04:06.560" end="13:04:09.240" style="s2">then right here is the keyword that</p>
<p begin="13:04:07.756" end="13:04:11.000" style="s2">you&#39;re looking for if you see disabled</p>
<p begin="13:04:09.240" end="13:04:12.560" style="s2">right here that means that it&#39;s not</p>
<p begin="13:04:11.000" end="13:04:14.640" style="s2">going to automatically get started upon</p>
<p begin="13:04:12.560" end="13:04:16.276" style="s2">a reboot if you see it&#39;s enabled that</p>
<p begin="13:04:14.640" end="13:04:18.360" style="s2">means it will automatically get started</p>
<p begin="13:04:16.276" end="13:04:20.200" style="s2">upon a reboot so to actually make sure</p>
<p begin="13:04:18.360" end="13:04:22.916" style="s2">that it actually does get started upon a</p>
<p begin="13:04:20.200" end="13:04:25.720" style="s2">reboot just do a pseudo system</p>
<p begin="13:04:22.916" end="13:04:28.756" style="s2">CTL enable and then the name then the</p>
<p begin="13:04:25.720" end="13:04:28.756" style="s2">name of the service which is</p>
<p begin="13:04:31.840" end="13:04:36.360" style="s2">API and after that if we do a status</p>
<p begin="13:04:34.560" end="13:04:38.520" style="s2">again we should see that it moved to</p>
<p begin="13:04:36.360" end="13:04:39.880" style="s2">enabled and so now if we reboot our</p>
<p begin="13:04:38.520" end="13:04:41.200" style="s2">machine and you guys can go ahead and</p>
<p begin="13:04:39.880" end="13:04:44.240" style="s2">test this you&#39;ll see that it</p>
<p begin="13:04:41.200" end="13:04:44.240" style="s2">automatically starts up the</p>
<p begin="13:04:44.520" end="13:04:48.240" style="s2">service right now the way that we have</p>
<p begin="13:04:46.640" end="13:04:50.640" style="s2">our deployment set up is that when we</p>
<p begin="13:04:48.240" end="13:04:52.320" style="s2">send a request to our server um you know</p>
<p begin="13:04:50.640" end="13:04:54.160" style="s2">to the specific IP address of our server</p>
<p begin="13:04:52.320" end="13:04:56.116" style="s2">and whatever Port we decided uh to</p>
<p begin="13:04:54.160" end="13:04:58.720" style="s2">configure our app to listen on we send</p>
<p begin="13:04:56.116" end="13:05:01.200" style="s2">that request directly to the app or</p>
<p begin="13:04:58.720" end="13:05:03.200" style="s2">gunicorn in general and this is</p>
<p begin="13:05:01.200" end="13:05:04.916" style="s2">technically perfectly fine however</p>
<p begin="13:05:03.200" end="13:05:07.240" style="s2">you&#39;ll see that in more professional</p>
<p begin="13:05:04.916" end="13:05:09.480" style="s2">type deployments what we&#39;ll have is a</p>
<p begin="13:05:07.240" end="13:05:12.080" style="s2">inter intermediary web server so we&#39;ll</p>
<p begin="13:05:09.480" end="13:05:13.320" style="s2">have a web server running on our uh</p>
<p begin="13:05:12.080" end="13:05:15.720" style="s2">auntu</p>
<p begin="13:05:13.320" end="13:05:18.360" style="s2">machine and that web server will receive</p>
<p begin="13:05:15.720" end="13:05:20.520" style="s2">the original request and then act as a</p>
<p begin="13:05:18.360" end="13:05:22.796" style="s2">proxy and proxy that request to our</p>
<p begin="13:05:20.520" end="13:05:25.400" style="s2">specific application or gunicorn in this</p>
<p begin="13:05:22.796" end="13:05:26.756" style="s2">case uh and so one of the common web</p>
<p begin="13:05:25.400" end="13:05:28.320" style="s2">servers that can be used for that is</p>
<p begin="13:05:26.756" end="13:05:31.240" style="s2">enginex there&#39;s a couple others like</p>
<p begin="13:05:28.320" end="13:05:33.560" style="s2">traffic and ha proxy uh you&#39;ll see that</p>
<p begin="13:05:31.240" end="13:05:36.640" style="s2">engine X is fairly popular though and</p>
<p begin="13:05:33.560" end="13:05:38.000" style="s2">some of the benefits of doing uh this</p>
<p begin="13:05:36.640" end="13:05:39.596" style="s2">and configuring our app application</p>
<p begin="13:05:38.000" end="13:05:42.840" style="s2">ultimately to be deployed like this is</p>
<p begin="13:05:39.596" end="13:05:45.080" style="s2">that engine X is optimized for SSL</p>
<p begin="13:05:42.840" end="13:05:47.240" style="s2">termination uh so engine X is a high</p>
<p begin="13:05:45.080" end="13:05:49.880" style="s2">performance server and it can perform</p>
<p begin="13:05:47.240" end="13:05:53.040" style="s2">all of the SSL termination so when we</p>
<p begin="13:05:49.880" end="13:05:54.436" style="s2">when we send an https request uh we can</p>
<p begin="13:05:53.040" end="13:05:56.160" style="s2">send it to our engine X server the</p>
<p begin="13:05:54.436" end="13:05:59.040" style="s2">engine X server can process it and then</p>
<p begin="13:05:56.160" end="13:06:01.200" style="s2">forward it as a plain HTTP packet to our</p>
<p begin="13:05:59.040" end="13:06:02.916" style="s2">application because technically we could</p>
<p begin="13:06:01.200" end="13:06:06.400" style="s2">configure our application to handle</p>
<p begin="13:06:02.916" end="13:06:08.436" style="s2">https it&#39;s not optimized for that right</p>
<p begin="13:06:06.400" end="13:06:10.240" style="s2">our our app is design to just act as a</p>
<p begin="13:06:08.436" end="13:06:13.040" style="s2">plain API when we start adding</p>
<p begin="13:06:10.240" end="13:06:15.956" style="s2">responsibilities like performing uh SSL</p>
<p begin="13:06:13.040" end="13:06:18.000" style="s2">offload well then you&#39;ll see that we</p>
<p begin="13:06:15.956" end="13:06:20.320" style="s2">start to see a degradation in</p>
<p begin="13:06:18.000" end="13:06:22.040" style="s2">performance and enginex like I said is a</p>
<p begin="13:06:20.320" end="13:06:23.840" style="s2">high performance web server it&#39;s</p>
<p begin="13:06:22.040" end="13:06:26.360" style="s2">optimized for this so it makes sense to</p>
<p begin="13:06:23.840" end="13:06:28.400" style="s2">kind of handle that responsibility uh on</p>
<p begin="13:06:26.360" end="13:06:29.640" style="s2">engine X instead of our application so</p>
<p begin="13:06:28.400" end="13:06:31.116" style="s2">that&#39;s what we&#39;re going to do we&#39;re</p>
<p begin="13:06:29.640" end="13:06:33.040" style="s2">going to configure engine X and this is</p>
<p begin="13:06:31.116" end="13:06:35.040" style="s2">going to act as the Gateway into our</p>
<p begin="13:06:33.040" end="13:06:38.080" style="s2">system so any request we send to our</p>
<p begin="13:06:35.040" end="13:06:39.240" style="s2">system uh whether it&#39;s https or HTTP</p>
<p begin="13:06:38.080" end="13:06:41.360" style="s2">doesn&#39;t really matter we&#39;re going to</p>
<p begin="13:06:39.240" end="13:06:43.796" style="s2">send it to engine X and if we send it as</p>
<p begin="13:06:41.360" end="13:06:45.880" style="s2">https what engine X will do is it&#39;ll</p>
<p begin="13:06:43.796" end="13:06:49.320" style="s2">then take it and send it and forward it</p>
<p begin="13:06:45.880" end="13:06:50.680" style="s2">as an HTTP packet to our application and</p>
<p begin="13:06:49.320" end="13:06:53.040" style="s2">so I&#39;m going to walk you through how to</p>
<p begin="13:06:50.680" end="13:06:54.956" style="s2">set up engine X it&#39;s not difficult we do</p>
<p begin="13:06:53.040" end="13:06:56.880" style="s2">have one config file that we have to add</p>
<p begin="13:06:54.956" end="13:06:58.040" style="s2">but outside of that it&#39;s fairly easy to</p>
<p begin="13:06:56.880" end="13:07:00.916" style="s2">get this up and</p>
<p begin="13:06:58.040" end="13:07:02.840" style="s2">running let&#39;s install engine X now to</p>
<p begin="13:07:00.916" end="13:07:07.640" style="s2">install a package we can do pseudo app</p>
<p begin="13:07:02.840" end="13:07:09.400" style="s2">install and then engine X and then Dy</p>
<p begin="13:07:07.640" end="13:07:10.320" style="s2">so that installed engine X if we do a</p>
<p begin="13:07:09.400" end="13:07:13.080" style="s2">system</p>
<p begin="13:07:10.320" end="13:07:15.320" style="s2">CTL start engine X that&#39;s going to start</p>
<p begin="13:07:13.080" end="13:07:18.116" style="s2">up the engine X service and so now if</p>
<p begin="13:07:15.320" end="13:07:19.720" style="s2">you go to your server IP address you&#39;re</p>
<p begin="13:07:18.116" end="13:07:21.916" style="s2">going to see that you get this welcome</p>
<p begin="13:07:19.720" end="13:07:24.240" style="s2">message so this is just the default page</p>
<p begin="13:07:21.916" end="13:07:26.720" style="s2">that engine X loads up for you and we&#39;re</p>
<p begin="13:07:24.240" end="13:07:28.560" style="s2">going to change this so in engine x what</p>
<p begin="13:07:26.720" end="13:07:31.916" style="s2">we want to do is we want to go to/ Etsy</p>
<p begin="13:07:28.560" end="13:07:33.200" style="s2">engine X sites and then available it&#39;s</p>
<p begin="13:07:31.916" end="13:07:34.840" style="s2">important that you do available because</p>
<p begin="13:07:33.200" end="13:07:37.916" style="s2">there&#39;s also a sites enabled which is</p>
<p begin="13:07:34.840" end="13:07:39.640" style="s2">not what you want you want available and</p>
<p begin="13:07:37.916" end="13:07:41.720" style="s2">this&#39;s this default config file or</p>
<p begin="13:07:39.640" end="13:07:44.560" style="s2">technically this is a server block and</p>
<p begin="13:07:41.720" end="13:07:44.560" style="s2">if we take a look at</p>
<p begin="13:07:45.320" end="13:07:49.956" style="s2">this you can see the default</p>
<p begin="13:07:47.596" end="13:07:51.116" style="s2">configuration in this case uh just to</p>
<p begin="13:07:49.956" end="13:07:53.116" style="s2">show you what that looks like you can</p>
<p begin="13:07:51.116" end="13:07:54.276" style="s2">see that this is handling HTTP traffic</p>
<p begin="13:07:53.116" end="13:07:55.880" style="s2">that&#39;s why it&#39;s Port 80 it&#39;s going to</p>
<p begin="13:07:54.276" end="13:07:57.276" style="s2">listen on Port 80 and this is going to</p>
<p begin="13:07:55.880" end="13:07:58.916" style="s2">act as the default server so all</p>
<p begin="13:07:57.276" end="13:08:00.680" style="s2">requests that come here are going to</p>
<p begin="13:07:58.916" end="13:08:03.796" style="s2">land on this server block and we&#39;ve got</p>
<p begin="13:08:00.680" end="13:08:05.240" style="s2">the same thing for IPv6 as well uh and</p>
<p begin="13:08:03.796" end="13:08:07.160" style="s2">then this is the file that you actually</p>
<p begin="13:08:05.240" end="13:08:09.080" style="s2">see so when you navigate to this page</p>
<p begin="13:08:07.160" end="13:08:13.560" style="s2">it&#39;s actually loading up a file that&#39;s</p>
<p begin="13:08:09.080" end="13:08:15.880" style="s2">inbar www</p>
<p begin="13:08:13.560" end="13:08:17.360" style="s2">HTML and then the server name so this is</p>
<p begin="13:08:15.880" end="13:08:18.916" style="s2">going to be the actual domain names</p>
<p begin="13:08:17.360" end="13:08:20.240" style="s2">that&#39;s going to handle requests for this</p>
<p begin="13:08:18.916" end="13:08:22.200" style="s2">is basically saying</p>
<p begin="13:08:20.240" end="13:08:24.040" style="s2">everything um everything else don&#39;t</p>
<p begin="13:08:22.200" end="13:08:24.916" style="s2">worry too much about that but what we&#39;re</p>
<p begin="13:08:24.040" end="13:08:26.880" style="s2">going to do is we&#39;re going to change</p>
<p begin="13:08:24.916" end="13:08:29.080" style="s2">that file a little bit and I&#39;ve provided</p>
<p begin="13:08:26.880" end="13:08:31.720" style="s2">an example file</p>
<p begin="13:08:29.080" end="13:08:33.756" style="s2">here and so this is what an the example</p>
<p begin="13:08:31.720" end="13:08:35.160" style="s2">file looks like we can leave pretty much</p>
<p begin="13:08:33.756" end="13:08:38.200" style="s2">everything in place the only thing I</p>
<p begin="13:08:35.160" end="13:08:39.720" style="s2">want to change is this location block</p>
<p begin="13:08:38.200" end="13:08:42.520" style="s2">and so this is what is going to allow</p>
<p begin="13:08:39.720" end="13:08:44.000" style="s2">engine X to act as a proxy uh</p>
<p begin="13:08:42.520" end="13:08:45.200" style="s2">specifically this line This is the main</p>
<p begin="13:08:44.000" end="13:08:47.756" style="s2">line you don&#39;t technically need the</p>
<p begin="13:08:45.200" end="13:08:49.596" style="s2">other ones uh those are more of</p>
<p begin="13:08:47.756" end="13:08:50.640" style="s2">optimizations but all this is saying is</p>
<p begin="13:08:49.596" end="13:08:53.480" style="s2">that any</p>
<p begin="13:08:50.640" end="13:08:56.116" style="s2">requests um that match this the the root</p>
<p begin="13:08:53.480" end="13:09:00.276" style="s2">path or Beyond essentially is going to</p>
<p begin="13:08:56.116" end="13:09:01.796" style="s2">get proxied to Local Host Port 8000</p>
<p begin="13:09:00.276" end="13:09:03.880" style="s2">which is what G unicorns running on so</p>
<p begin="13:09:01.796" end="13:09:07.480" style="s2">you just specify the IP address and the</p>
<p begin="13:09:03.880" end="13:09:09.160" style="s2">port that you want to proxy traffic for</p>
<p begin="13:09:07.480" end="13:09:10.480" style="s2">uh and so since gunicorn was configured</p>
<p begin="13:09:09.160" end="13:09:13.436" style="s2">to run on Port 8,000 we&#39;re just going to</p>
<p begin="13:09:10.480" end="13:09:15.640" style="s2">forward it to gunicorn in this case so I</p>
<p begin="13:09:13.436" end="13:09:17.560" style="s2">want you to just copy these lines here</p>
<p begin="13:09:15.640" end="13:09:21.276" style="s2">and we&#39;re going to go in and I&#39;m going</p>
<p begin="13:09:17.560" end="13:09:25.796" style="s2">to just open up that default file</p>
<p begin="13:09:21.276" end="13:09:25.796" style="s2">now and we can delete these three</p>
<p begin="13:09:28.756" end="13:09:34.520" style="s2">lines I&#39;m just going to paste that</p>
<p begin="13:09:31.116" end="13:09:37.320" style="s2">in and at that point I can save</p>
<p begin="13:09:34.520" end="13:09:40.160" style="s2">this and then we want to do a system CTL</p>
<p begin="13:09:37.320" end="13:09:40.160" style="s2">restart engine</p>
<p begin="13:09:40.840" end="13:09:49.080" style="s2">X so it&#39;s restarted and if I refresh</p>
<p begin="13:09:45.480" end="13:09:51.880" style="s2">this right we can now see our API and if</p>
<p begin="13:09:49.080" end="13:09:51.880" style="s2">I go to SL</p>
<p begin="13:09:52.560" end="13:09:59.400" style="s2">dos it should also work as</p>
<p begin="13:09:55.276" end="13:10:00.956" style="s2">well so we got engine X set up and</p>
<p begin="13:09:59.400" end="13:10:04.240" style="s2">running the last thing that we have to</p>
<p begin="13:10:00.956" end="13:10:05.720" style="s2">do uh regarding engine X specifically</p>
<p begin="13:10:04.240" end="13:10:07.720" style="s2">well it&#39;s not really enginex specific</p>
<p begin="13:10:05.720" end="13:10:08.956" style="s2">but in general is that right now if you</p>
<p begin="13:10:07.720" end="13:10:10.520" style="s2">take a look at it you can see our web</p>
<p begin="13:10:08.956" end="13:10:14.360" style="s2">browser says not secure and that&#39;s</p>
<p begin="13:10:10.520" end="13:10:18.160" style="s2">because I can actually copy</p>
<p begin="13:10:14.360" end="13:10:21.320" style="s2">this I paste it right we&#39;re using HTTP</p>
<p begin="13:10:18.160" end="13:10:24.480" style="s2">and not https so we need to set this up</p>
<p begin="13:10:21.320" end="13:10:25.720" style="s2">for https so how do we do that well</p>
<p begin="13:10:24.480" end="13:10:27.796" style="s2">we&#39;re going to tackle that in the next</p>
<p begin="13:10:25.720" end="13:10:29.720" style="s2">video um but you&#39;re going to need a</p>
<p begin="13:10:27.796" end="13:10:32.520" style="s2">domain name uh if you want this to work</p>
<p begin="13:10:29.720" end="13:10:36.000" style="s2">with https so uh I&#39;ll show you guys how</p>
<p begin="13:10:32.520" end="13:10:37.880" style="s2">to kind of grab a cheap domain name</p>
<p begin="13:10:36.000" end="13:10:40.160" style="s2">however if you don&#39;t have one uh don&#39;t</p>
<p begin="13:10:37.880" end="13:10:42.400" style="s2">worry uh you can just leave it as https</p>
<p begin="13:10:40.160" end="13:10:44.720" style="s2">for now or you can create a self-sign</p>
<p begin="13:10:42.400" end="13:10:47.956" style="s2">certificate whichever one works for</p>
<p begin="13:10:44.720" end="13:10:50.436" style="s2">you for my application I purchased a</p>
<p begin="13:10:47.956" end="13:10:52.240" style="s2">domain name called san. XYZ so if you&#39;ve</p>
<p begin="13:10:50.436" end="13:10:54.080" style="s2">ever watched any of my other videos this</p>
<p begin="13:10:52.240" end="13:10:56.596" style="s2">is always the the default domain name</p>
<p begin="13:10:54.080" end="13:10:58.400" style="s2">that I use for demonstration purposes uh</p>
<p begin="13:10:56.596" end="13:10:59.916" style="s2">you can see that I actually bought axyz</p>
<p begin="13:10:58.400" end="13:11:01.640" style="s2">because they&#39;re the cheapest so if you</p>
<p begin="13:10:59.916" end="13:11:04.360" style="s2">just want to play around just for</p>
<p begin="13:11:01.640" end="13:11:06.240" style="s2">learning purposes uh get axyz they&#39;re</p>
<p begin="13:11:04.360" end="13:11:08.596" style="s2">usually like a dollar for for like an</p>
<p begin="13:11:06.240" end="13:11:10.320" style="s2">entire year um but if you get a com it&#39;s</p>
<p begin="13:11:08.596" end="13:11:12.160" style="s2">going to be a little bit more expensive</p>
<p begin="13:11:10.320" end="13:11:14.400" style="s2">however depending on you know what your</p>
<p begin="13:11:12.160" end="13:11:16.000" style="s2">domain name is it at most is still well</p>
<p begin="13:11:14.400" end="13:11:18.360" style="s2">not at most but it&#39;ll you can still find</p>
<p begin="13:11:16.000" end="13:11:20.560" style="s2">plenty at $12 per year so it&#39;s not too</p>
<p begin="13:11:18.360" end="13:11:22.640" style="s2">bad and I happen to purchase my domain</p>
<p begin="13:11:20.560" end="13:11:24.720" style="s2">name from names cheap so this is my</p>
<p begin="13:11:22.640" end="13:11:26.360" style="s2">domain regar however there&#39;s plenty of</p>
<p begin="13:11:24.720" end="13:11:28.756" style="s2">other options if you want to use GoDaddy</p>
<p begin="13:11:26.360" end="13:11:29.956" style="s2">if you want to use any of the other um</p>
<p begin="13:11:28.756" end="13:11:32.360" style="s2">any of the other websites you can even</p>
<p begin="13:11:29.956" end="13:11:33.680" style="s2">use Amazon if you wanted to um feel free</p>
<p begin="13:11:32.360" end="13:11:35.360" style="s2">to use whichever one you want you just</p>
<p begin="13:11:33.680" end="13:11:37.040" style="s2">need to get a domain name I&#39;m going to</p>
<p begin="13:11:35.360" end="13:11:38.756" style="s2">be using this one moving forward but</p>
<p begin="13:11:37.040" end="13:11:40.916" style="s2">just keep that in</p>
<p begin="13:11:38.756" end="13:11:43.560" style="s2">mind and what we want to do is we want</p>
<p begin="13:11:40.916" end="13:11:44.916" style="s2">to set up a couple of rules and we</p>
<p begin="13:11:43.560" end="13:11:46.840" style="s2">actually have to point our domain name</p>
<p begin="13:11:44.916" end="13:11:49.240" style="s2">to digital ocean and digital ocean has</p>
<p begin="13:11:46.840" end="13:11:50.916" style="s2">this excellent writeup uh how to point</p>
<p begin="13:11:49.240" end="13:11:52.720" style="s2">your digital ocean name servers from</p>
<p begin="13:11:50.916" end="13:11:54.160" style="s2">common domain regars and they actually</p>
<p begin="13:11:52.720" end="13:11:56.200" style="s2">show you how to do this for a lot of the</p>
<p begin="13:11:54.160" end="13:11:58.000" style="s2">main domain registers and they have</p>
<p begin="13:11:56.200" end="13:12:00.400" style="s2">names cheap here as well so if you get</p>
<p begin="13:11:58.000" end="13:12:01.956" style="s2">one of these you can just follow along</p>
<p begin="13:12:00.400" end="13:12:04.160" style="s2">but you&#39;ll see that you know any domain</p>
<p begin="13:12:01.956" end="13:12:06.160" style="s2">provider um you&#39;ll be able to kind of</p>
<p begin="13:12:04.160" end="13:12:07.520" style="s2">relatively click around and just kind of</p>
<p begin="13:12:06.160" end="13:12:09.160" style="s2">navigate yourself and figure figure out</p>
<p begin="13:12:07.520" end="13:12:11.956" style="s2">what&#39;s the equivalent because for the</p>
<p begin="13:12:09.160" end="13:12:14.480" style="s2">most part the uis are all fairly similar</p>
<p begin="13:12:11.956" end="13:12:15.720" style="s2">um but if we go to down to names cheapap</p>
<p begin="13:12:14.480" end="13:12:17.000" style="s2">uh you can see that what we have to do</p>
<p begin="13:12:15.720" end="13:12:19.276" style="s2">is under the name server section we have</p>
<p begin="13:12:17.000" end="13:12:21.756" style="s2">to do custom DNS and then we point it to</p>
<p begin="13:12:19.276" end="13:12:25.756" style="s2">the DNS servers of digital oce so ns1</p>
<p begin="13:12:21.756" end="13:12:26.956" style="s2">digital o.com ns2 ns3 so let&#39;s do that</p>
<p begin="13:12:25.756" end="13:12:28.796" style="s2">and I&#39;ve actually already set that up</p>
<p begin="13:12:26.956" end="13:12:31.520" style="s2">for us so you just go under name servers</p>
<p begin="13:12:28.796" end="13:12:33.720" style="s2">select custom do uh custom DNS and then</p>
<p begin="13:12:31.520" end="13:12:35.520" style="s2">you have ns1 digital ocean.com ns2</p>
<p begin="13:12:33.720" end="13:12:37.200" style="s2">digital ocean.com and ns3 digital</p>
<p begin="13:12:35.520" end="13:12:38.916" style="s2">ocean.com and there&#39;ll be a little check</p>
<p begin="13:12:37.200" end="13:12:40.040" style="s2">Mark so just check that there and at</p>
<p begin="13:12:38.916" end="13:12:42.276" style="s2">that point it&#39;s going to point</p>
<p begin="13:12:40.040" end="13:12:45.200" style="s2">everything to our digital ocean</p>
<p begin="13:12:42.276" end="13:12:46.400" style="s2">servers then in digital ocean um if you</p>
<p begin="13:12:45.200" end="13:12:47.720" style="s2">just select your name here in your</p>
<p begin="13:12:46.400" end="13:12:53.560" style="s2">dashboard what you want to do is you</p>
<p begin="13:12:47.720" end="13:12:53.560" style="s2">want to go to um manage DNS on digital</p>
<p begin="13:12:54.320" end="13:12:57.680" style="s2">ocean and then here you want to enter</p>
<p begin="13:12:56.276" end="13:13:02.436" style="s2">your domain so this is going to be</p>
<p begin="13:12:57.680" end="13:13:02.436" style="s2">sanjie doxyz We&#39;ll add this</p>
<p begin="13:13:02.480" end="13:13:06.680" style="s2">domain and the first thing that we have</p>
<p begin="13:13:04.276" end="13:13:08.720" style="s2">to do is we have to create a a record so</p>
<p begin="13:13:06.680" end="13:13:11.000" style="s2">this is root of your domain so I&#39;m just</p>
<p begin="13:13:08.720" end="13:13:13.560" style="s2">going to say at symbol this is going to</p>
<p begin="13:13:11.000" end="13:13:16.200" style="s2">create an a record and we want to select</p>
<p begin="13:13:13.560" end="13:13:17.916" style="s2">the specific droplet that we created so</p>
<p begin="13:13:16.200" end="13:13:20.000" style="s2">this one is ABN to a fast API you should</p>
<p begin="13:13:17.916" end="13:13:21.320" style="s2">only have one um but if you have other</p>
<p begin="13:13:20.000" end="13:13:23.320" style="s2">droplets make sure you select the right</p>
<p begin="13:13:21.320" end="13:13:26.080" style="s2">one and then select create</p>
<p begin="13:13:23.320" end="13:13:28.400" style="s2">record and at this point if we do sanjie</p>
<p begin="13:13:26.080" end="13:13:30.080" style="s2">doxyz um in our web browser it&#39;s going</p>
<p begin="13:13:28.400" end="13:13:34.360" style="s2">to take</p>
<p begin="13:13:30.080" end="13:13:36.756" style="s2">us to our digital ocean server um</p>
<p begin="13:13:34.360" end="13:13:38.840" style="s2">however keep in mind uh the the changes</p>
<p begin="13:13:36.756" end="13:13:40.560" style="s2">to DNS usually take a little while to</p>
<p begin="13:13:38.840" end="13:13:42.436" style="s2">propagate so you could potentially have</p>
<p begin="13:13:40.560" end="13:13:43.916" style="s2">to wait up to an hour or 2 hours names</p>
<p begin="13:13:42.436" end="13:13:45.880" style="s2">cheep says it could take up to a day but</p>
<p begin="13:13:43.916" end="13:13:47.560" style="s2">it never takes a day so if you don&#39;t see</p>
<p begin="13:13:45.880" end="13:13:49.320" style="s2">these changes immediately just give it</p>
<p begin="13:13:47.560" end="13:13:51.520" style="s2">you know 10 15 minutes and then you&#39;ll</p>
<p begin="13:13:49.320" end="13:13:53.276" style="s2">see that they work um but I&#39;m going to</p>
<p begin="13:13:51.520" end="13:13:54.520" style="s2">add one more and that&#39;s going to be for</p>
<p begin="13:13:53.276" end="13:13:57.360" style="s2">my subdomain because I don&#39;t want to</p>
<p begin="13:13:54.520" end="13:14:00.840" style="s2">just do san. XYZ I also want to redirect</p>
<p begin="13:13:57.360" end="13:14:03.640" style="s2">www. san. XYZ to my server so I can</p>
<p begin="13:14:00.840" end="13:14:03.640" style="s2">create a cname</p>
<p begin="13:14:04.000" end="13:14:08.520" style="s2">record and I can say www</p>
<p begin="13:14:07.436" end="13:14:11.276" style="s2">and so you can see what this is going to</p>
<p begin="13:14:08.520" end="13:14:12.720" style="s2">look like and I&#39;m just going to say at</p>
<p begin="13:14:11.276" end="13:14:15.000" style="s2">simpol right here so that&#39;s going to</p>
<p begin="13:14:12.720" end="13:14:17.000" style="s2">point it to this record</p>
<p begin="13:14:15.000" end="13:14:18.400" style="s2">essentially all right and so what this</p>
<p begin="13:14:17.000" end="13:14:20.276" style="s2">is what this is saying is that if you</p>
<p begin="13:14:18.400" end="13:14:22.240" style="s2">send a request to san. XYZ it&#39;s going to</p>
<p begin="13:14:20.276" end="13:14:23.320" style="s2">send it to the IP address of server and</p>
<p begin="13:14:22.240" end="13:14:26.400" style="s2">then if you send a request to the</p>
<p begin="13:14:23.320" end="13:14:28.436" style="s2">subdomain of www. san. XYZ it&#39;s going to</p>
<p begin="13:14:26.400" end="13:14:30.520" style="s2">be an alas for san. XYZ so it&#39;s</p>
<p begin="13:14:28.436" end="13:14:32.756" style="s2">essentially just going to follow</p>
<p begin="13:14:30.520" end="13:14:36.596" style="s2">this all right and so now if I go to</p>
<p begin="13:14:32.756" end="13:14:36.596" style="s2">sanjie doxyz</p>
<p begin="13:14:39.436" end="13:14:45.160" style="s2">you can see that we are successfully</p>
<p begin="13:14:41.276" end="13:14:48.360" style="s2">able to access our API and if I go to SL</p>
<p begin="13:14:45.160" end="13:14:51.000" style="s2">docs once again this should still work</p>
<p begin="13:14:48.360" end="13:14:53.080" style="s2">as well and that&#39;s pretty big let me</p>
<p begin="13:14:51.000" end="13:14:54.480" style="s2">minimize that and if I do the same thing</p>
<p begin="13:14:53.080" end="13:14:59.320" style="s2">for my</p>
<p begin="13:14:54.480" end="13:15:02.840" style="s2">subdomain of www. Sanji</p>
<p begin="13:14:59.320" end="13:15:04.680" style="s2">doxyz this should also work all right so</p>
<p begin="13:15:02.840" end="13:15:06.720" style="s2">we&#39;ve got our domain set up and once we</p>
<p begin="13:15:04.680" end="13:15:10.116" style="s2">have our domain we can now finally set</p>
<p begin="13:15:06.720" end="13:15:11.160" style="s2">up uh SSL so we can handle secure https</p>
<p begin="13:15:10.116" end="13:15:13.796" style="s2">traffic because we don&#39;t want to send</p>
<p begin="13:15:11.160" end="13:15:15.360" style="s2">our application traffic over HTTP and we</p>
<p begin="13:15:13.796" end="13:15:17.200" style="s2">want that nice little lock symbol that</p>
<p begin="13:15:15.360" end="13:15:20.000" style="s2">green lock symbol so we&#39;ll tackle that</p>
<p begin="13:15:17.200" end="13:15:23.436" style="s2">in the next video okay so it&#39;s now time</p>
<p begin="13:15:20.000" end="13:15:25.840" style="s2">to set up SSL for our application so I</p>
<p begin="13:15:23.436" end="13:15:27.680" style="s2">want you to search for certbot so this</p>
<p begin="13:15:25.840" end="13:15:29.320" style="s2">is the website for let&#39;s encrypt which</p>
<p begin="13:15:27.680" end="13:15:31.640" style="s2">is a free SSL</p>
<p begin="13:15:29.320" end="13:15:33.480" style="s2">service and here they&#39;ve got excellent</p>
<p begin="13:15:31.640" end="13:15:35.756" style="s2">documentation uh what we want to do is</p>
<p begin="13:15:33.480" end="13:15:37.276" style="s2">Select get certified instructions and</p>
<p begin="13:15:35.756" end="13:15:39.360" style="s2">then we can just specify what&#39;s software</p>
<p begin="13:15:37.276" end="13:15:41.000" style="s2">we&#39;re running so this is for engine X</p>
<p begin="13:15:39.360" end="13:15:43.040" style="s2">and the system is going to be a bun of</p>
<p begin="13:15:41.000" end="13:15:45.240" style="s2">20.04 the reason it asked for this</p>
<p begin="13:15:43.040" end="13:15:47.360" style="s2">information is that it actually will</p>
<p begin="13:15:45.240" end="13:15:50.320" style="s2">automatically reconfigure engine X for</p>
<p begin="13:15:47.360" end="13:15:51.880" style="s2">you to handle https because um normally</p>
<p begin="13:15:50.320" end="13:15:53.480" style="s2">when you want to set up https you have</p>
<p begin="13:15:51.880" end="13:15:54.720" style="s2">to change some configs in engine X and</p>
<p begin="13:15:53.480" end="13:15:56.840" style="s2">it gets a little</p>
<p begin="13:15:54.720" end="13:15:57.720" style="s2">complicated and so the it&#39;s saying the</p>
<p begin="13:15:56.840" end="13:16:00.360" style="s2">first thing that we have to do is we</p>
<p begin="13:15:57.720" end="13:16:02.720" style="s2">have to install snapd uh if you</p>
<p begin="13:16:00.360" end="13:16:03.756" style="s2">installed a buntu um you know from</p>
<p begin="13:16:02.720" end="13:16:06.000" style="s2">digital</p>
<p begin="13:16:03.756" end="13:16:08.720" style="s2">ocean snapd should automatically be</p>
<p begin="13:16:06.000" end="13:16:10.200" style="s2">installed for you so you can do snap d--</p>
<p begin="13:16:08.720" end="13:16:13.000" style="s2">version I</p>
<p begin="13:16:10.200" end="13:16:15.240" style="s2">think or is it snap D- version I think</p>
<p begin="13:16:13.000" end="13:16:18.640" style="s2">it&#39;s snap version yeah okay so it&#39;s snap</p>
<p begin="13:16:15.240" end="13:16:20.596" style="s2">Okay so we&#39;ve got snap installed that&#39;s</p>
<p begin="13:16:18.640" end="13:16:21.640" style="s2">perfect and then what we want to do is</p>
<p begin="13:16:20.596" end="13:16:23.880" style="s2">we want to</p>
<p begin="13:16:21.640" end="13:16:26.040" style="s2">install with this Command right here so</p>
<p begin="13:16:23.880" end="13:16:27.276" style="s2">just copy this and we&#39;re pretty much</p>
<p begin="13:16:26.040" end="13:16:28.560" style="s2">just going to follow this website</p>
<p begin="13:16:27.276" end="13:16:30.796" style="s2">because I to like I said the</p>
<p begin="13:16:28.560" end="13:16:33.116" style="s2">instructions are fantastic so we&#39;ll</p>
<p begin="13:16:30.796" end="13:16:33.116" style="s2">install</p>
<p begin="13:16:33.640" end="13:16:39.040" style="s2">cbot all right cbots installed then we</p>
<p begin="13:16:36.276" end="13:16:41.200" style="s2">want to do this</p>
<p begin="13:16:39.040" end="13:16:44.116" style="s2">command so you have two options you can</p>
<p begin="13:16:41.200" end="13:16:44.116" style="s2">either just generate a</p>
<p begin="13:16:44.720" end="13:16:49.200" style="s2">certificate or you can have cbot</p>
<p begin="13:16:47.520" end="13:16:50.956" style="s2">automatically configure engine X for you</p>
<p begin="13:16:49.200" end="13:16:55.116" style="s2">we&#39;re going to have cbot do the work for</p>
<p begin="13:16:50.956" end="13:16:55.116" style="s2">us and so we can just paste this</p>
<p begin="13:16:57.916" end="13:17:02.080" style="s2">in all right and then we have to provide</p>
<p begin="13:17:00.160" end="13:17:06.040" style="s2">an email address so this is going to be</p>
<p begin="13:17:02.080" end="13:17:06.040" style="s2">whatever email you want to use</p>
<p begin="13:17:10.796" end="13:17:14.240" style="s2">and then we got to agree to the terms of</p>
<p begin="13:17:14.720" end="13:17:20.160" style="s2">service uh you can do no for this</p>
<p begin="13:17:17.720" end="13:17:21.796" style="s2">one right then we have to specify what</p>
<p begin="13:17:20.160" end="13:17:24.200" style="s2">domain names we want to generate a</p>
<p begin="13:17:21.796" end="13:17:26.640" style="s2">certificate for so we want to generate a</p>
<p begin="13:17:24.200" end="13:17:28.916" style="s2">certificate for sanjie doxyz in my case</p>
<p begin="13:17:26.640" end="13:17:28.916" style="s2">and then</p>
<p begin="13:17:29.596" end="13:17:33.240" style="s2">www. sanie</p>
<p begin="13:17:33.640" end="13:17:38.240" style="s2">doxyz all right and it looks like it did</p>
<p begin="13:17:35.840" end="13:17:39.916" style="s2">some magic to our default config file</p>
<p begin="13:17:38.240" end="13:17:41.680" style="s2">that we were the we were originally</p>
<p begin="13:17:39.916" end="13:17:42.916" style="s2">changing so if we actually go to the</p>
<p begin="13:17:41.680" end="13:17:45.520" style="s2">sites available folder which we&#39;re</p>
<p begin="13:17:42.916" end="13:17:47.320" style="s2">already at and just do a cat</p>
<p begin="13:17:45.520" end="13:17:49.480" style="s2">default you&#39;re going to notice some</p>
<p begin="13:17:47.320" end="13:17:52.436" style="s2">changes to this file and that&#39;s because</p>
<p begin="13:17:49.480" end="13:17:55.596" style="s2">surf bot actually made a whole bunch of</p>
<p begin="13:17:52.436" end="13:17:57.680" style="s2">changes and the main change is uh where</p>
<p begin="13:17:55.596" end="13:18:00.480" style="s2">where are these</p>
<p begin="13:17:57.680" end="13:18:04.320" style="s2">changes uh not here not here here we go</p>
<p begin="13:18:00.480" end="13:18:04.320" style="s2">so This Server block is for SSL</p>
<p begin="13:18:05.560" end="13:18:08.720" style="s2">configuration and so these are the</p>
<p begin="13:18:07.400" end="13:18:11.520" style="s2">changes they made so we&#39;re going to</p>
<p begin="13:18:08.720" end="13:18:14.596" style="s2">listen on Port 443 so that&#39;s the default</p>
<p begin="13:18:11.520" end="13:18:16.720" style="s2">SSL or https Port that&#39;s good and I</p>
<p begin="13:18:14.596" end="13:18:17.720" style="s2">guess that&#39;s for IPv6 this is for ipv4</p>
<p begin="13:18:16.720" end="13:18:19.040" style="s2">these are going to be the two</p>
<p begin="13:18:17.720" end="13:18:21.160" style="s2">certificates that were</p>
<p begin="13:18:19.040" end="13:18:23.720" style="s2">generated and then there&#39;s a few other</p>
<p begin="13:18:21.160" end="13:18:25.080" style="s2">configs that it added and we also have</p>
<p begin="13:18:23.720" end="13:18:28.000" style="s2">this server block right here which is</p>
<p begin="13:18:25.080" end="13:18:31.116" style="s2">going to actually redirect HTTP requests</p>
<p begin="13:18:28.000" end="13:18:32.520" style="s2">to https so we can never even use HTTP</p>
<p begin="13:18:31.116" end="13:18:35.436" style="s2">anymore it&#39;s going to ensure that our</p>
<p begin="13:18:32.520" end="13:18:38.276" style="s2">clients always use https and it&#39;ll</p>
<p begin="13:18:35.436" end="13:18:40.520" style="s2">redirect them to https and you can see</p>
<p begin="13:18:38.276" end="13:18:44.360" style="s2">that right here you know if host equals</p>
<p begin="13:18:40.520" end="13:18:47.560" style="s2">www. san. XYZ we want to send a 301</p>
<p begin="13:18:44.360" end="13:18:48.720" style="s2">redirect to https and then host request</p>
<p begin="13:18:47.560" end="13:18:51.880" style="s2">right here and we&#39;re doing the same</p>
<p begin="13:18:48.720" end="13:18:54.400" style="s2">thing for just the sanjie doxyz and so</p>
<p begin="13:18:51.880" end="13:18:55.840" style="s2">that&#39;s all done by sbot and so now if I</p>
<p begin="13:18:54.400" end="13:18:57.756" style="s2">go</p>
<p begin="13:18:55.840" end="13:19:02.680" style="s2">here and I</p>
<p begin="13:18:57.756" end="13:19:04.596" style="s2">do sanjev do oops</p>
<p begin="13:19:02.680" end="13:19:06.320" style="s2">doxyz take a look at this we got the</p>
<p begin="13:19:04.596" end="13:19:08.436" style="s2">little green lock that means connection</p>
<p begin="13:19:06.320" end="13:19:10.560" style="s2">security that means we&#39;re using https</p>
<p begin="13:19:08.436" end="13:19:13.360" style="s2">and you can see the https here and if I</p>
<p begin="13:19:10.560" end="13:19:16.200" style="s2">hardcode it to be</p>
<p begin="13:19:13.360" end="13:19:19.640" style="s2">HTTP look at that it still has the lock</p>
<p begin="13:19:16.200" end="13:19:21.720" style="s2">because it redirected to</p>
<p begin="13:19:19.640" end="13:19:23.520" style="s2">https and let&#39;s just make sure that the</p>
<p begin="13:19:21.720" end="13:19:25.520" style="s2">docs work</p>
<p begin="13:19:23.520" end="13:19:28.680" style="s2">now and it looks like the doc still</p>
<p begin="13:19:25.520" end="13:19:31.956" style="s2">works so we now have https setup on our</p>
<p begin="13:19:28.680" end="13:19:33.596" style="s2">engine X server and just like we did</p>
<p begin="13:19:31.956" end="13:19:35.520" style="s2">with our service we want to make sure</p>
<p begin="13:19:33.596" end="13:19:37.880" style="s2">that engine X has been set up to</p>
<p begin="13:19:35.520" end="13:19:40.916" style="s2">automatically start upon reboot so we</p>
<p begin="13:19:37.880" end="13:19:43.000" style="s2">could do a system CTL status engine X</p>
<p begin="13:19:40.916" end="13:19:44.796" style="s2">and let&#39;s just quickly verify if it&#39;s if</p>
<p begin="13:19:43.000" end="13:19:46.240" style="s2">it has been set up to do so and I can</p>
<p begin="13:19:44.796" end="13:19:48.000" style="s2">see that on mine it&#39;s set up to be</p>
<p begin="13:19:46.240" end="13:19:50.320" style="s2">enabled so it will automatically start</p>
<p begin="13:19:48.000" end="13:19:51.360" style="s2">upon reboot which is what we want um and</p>
<p begin="13:19:50.320" end="13:19:53.400" style="s2">I think this is the default</p>
<p begin="13:19:51.360" end="13:19:55.200" style="s2">configuration when you uh install and</p>
<p begin="13:19:53.400" end="13:19:57.436" style="s2">set up engine X however if you see</p>
<p begin="13:19:55.200" end="13:20:00.520" style="s2">disabled here just go ahead and do a</p>
<p begin="13:19:57.436" end="13:20:02.240" style="s2">system CTL uh enable engine X and that&#39;s</p>
<p begin="13:20:00.520" end="13:20:03.880" style="s2">going to make sure that it will be moved</p>
<p begin="13:20:02.240" end="13:20:05.360" style="s2">to an enabled state so it&#39;ll get started</p>
<p begin="13:20:03.880" end="13:20:07.840" style="s2">upon a</p>
<p begin="13:20:05.360" end="13:20:10.276" style="s2">reboot the last thing that we need to do</p>
<p begin="13:20:07.840" end="13:20:12.840" style="s2">to complete our deployment process is</p>
<p begin="13:20:10.276" end="13:20:14.436" style="s2">set up a firewall on our machine and the</p>
<p begin="13:20:12.840" end="13:20:16.360" style="s2">reason we want to set up a firewall is</p>
<p begin="13:20:14.436" end="13:20:18.480" style="s2">just for basic security purposes we want</p>
<p begin="13:20:16.360" end="13:20:20.436" style="s2">to make sure that we only open up ports</p>
<p begin="13:20:18.480" end="13:20:22.276" style="s2">that we&#39;re going to be using uh cuz</p>
<p begin="13:20:20.436" end="13:20:24.240" style="s2">right now you can access this box on any</p>
<p begin="13:20:22.276" end="13:20:27.116" style="s2">port and we want to make sure that we</p>
<p begin="13:20:24.240" end="13:20:29.116" style="s2">really Harden our system so that only</p>
<p begin="13:20:27.116" end="13:20:30.720" style="s2">the traffic that should be sent to this</p>
<p begin="13:20:29.116" end="13:20:32.480" style="s2">box is allowed to this box we don&#39;t want</p>
<p begin="13:20:30.720" end="13:20:34.640" style="s2">people trying to connect to different</p>
<p begin="13:20:32.480" end="13:20:37.320" style="s2">services on our on our machine that they</p>
<p begin="13:20:34.640" end="13:20:40.956" style="s2">shouldn&#39;t be so we&#39;re going to be using</p>
<p begin="13:20:37.320" end="13:20:44.640" style="s2">a the built-in firewall uh called ufw</p>
<p begin="13:20:40.956" end="13:20:46.956" style="s2">and if we do a pseudo ufw status right</p>
<p begin="13:20:44.640" end="13:20:48.200" style="s2">the ufw is the firewall uh and so you</p>
<p begin="13:20:46.956" end="13:20:50.040" style="s2">can see right now it&#39;s inactive and</p>
<p begin="13:20:48.200" end="13:20:52.320" style="s2">that&#39;s perfect and what we have to do is</p>
<p begin="13:20:50.040" end="13:20:53.560" style="s2">we have to set up a whole bunch of rules</p>
<p begin="13:20:52.320" end="13:20:55.916" style="s2">and we have to tell the firewall what</p>
<p begin="13:20:53.560" end="13:20:59.560" style="s2">kind of traffic should we allow to our</p>
<p begin="13:20:55.916" end="13:21:00.756" style="s2">machine and we can run pseudo ufw allow</p>
<p begin="13:20:59.560" end="13:21:03.116" style="s2">and then we can</p>
<p begin="13:21:00.756" end="13:21:04.756" style="s2">specify you know what specific Port we</p>
<p begin="13:21:03.116" end="13:21:06.880" style="s2">want to allow traffic on what specific</p>
<p begin="13:21:04.756" end="13:21:08.916" style="s2">IP addresses should we should be able to</p>
<p begin="13:21:06.880" end="13:21:10.160" style="s2">talk to so since this is a public API we</p>
<p begin="13:21:08.916" end="13:21:12.796" style="s2">want to make sure that technically</p>
<p begin="13:21:10.160" end="13:21:14.756" style="s2">anyone can access our server uh from</p>
<p begin="13:21:12.796" end="13:21:17.840" style="s2">HTTP and https so we&#39;re going to do</p>
<p begin="13:21:14.756" end="13:21:19.480" style="s2">allow HTTP so this going to allow HTTP</p>
<p begin="13:21:17.840" end="13:21:22.596" style="s2">traffic and you can see it created an</p>
<p begin="13:21:19.480" end="13:21:25.880" style="s2">ipv4 and an IPv6 rule we want to allow</p>
<p begin="13:21:22.596" end="13:21:27.680" style="s2">https traffic and keep in mind we have</p>
<p begin="13:21:25.880" end="13:21:32.116" style="s2">to SSH to our machine so we can access</p>
<p begin="13:21:27.680" end="13:21:32.116" style="s2">it so we have to allow SSH as</p>
<p begin="13:21:33.596" end="13:21:42.596" style="s2">well and if you wanted to you could also</p>
<p begin="13:21:38.436" end="13:21:46.160" style="s2">allow 5432 so that&#39;s going to be uh to</p>
<p begin="13:21:42.596" end="13:21:47.840" style="s2">allow postgress graic now uh the way</p>
<p begin="13:21:46.160" end="13:21:50.436" style="s2">we&#39;ve set things up you don&#39;t need to</p>
<p begin="13:21:47.840" end="13:21:53.360" style="s2">actually allow this port because</p>
<p begin="13:21:50.436" end="13:21:55.200" style="s2">technically our app right our fast API</p>
<p begin="13:21:53.360" end="13:21:56.840" style="s2">is running on the local machine so it&#39;s</p>
<p begin="13:21:55.200" end="13:21:58.680" style="s2">not going to be hindered by this</p>
<p begin="13:21:56.840" end="13:21:59.720" style="s2">firewall so it can access the database</p>
<p begin="13:21:58.680" end="13:22:01.640" style="s2">because it&#39;s running on the local</p>
<p begin="13:21:59.720" end="13:22:03.360" style="s2">machine so if you wanted to make it so</p>
<p begin="13:22:01.640" end="13:22:05.200" style="s2">that no one from the outside world can</p>
<p begin="13:22:03.360" end="13:22:06.796" style="s2">directly access your database you would</p>
<p begin="13:22:05.200" end="13:22:08.520" style="s2">not want to allow this and that&#39;s what a</p>
<p begin="13:22:06.796" end="13:22:10.560" style="s2">lot of people do because it can be a</p>
<p begin="13:22:08.520" end="13:22:12.520" style="s2">little risky opening up your database</p>
<p begin="13:22:10.560" end="13:22:15.756" style="s2">Port because then people can potentially</p>
<p begin="13:22:12.520" end="13:22:17.040" style="s2">access your database so it&#39;s up to you</p>
<p begin="13:22:15.756" end="13:22:19.596" style="s2">however if you want to be able to you</p>
<p begin="13:22:17.040" end="13:22:23.160" style="s2">know go to PG admin and if you want to</p>
<p begin="13:22:19.596" end="13:22:25.276" style="s2">be able to connect to your box remotely</p>
<p begin="13:22:23.160" end="13:22:26.916" style="s2">then you&#39;re going to have to allow 5432</p>
<p begin="13:22:25.276" end="13:22:28.400" style="s2">so it&#39;s just up to you it&#39;s your</p>
<p begin="13:22:26.916" end="13:22:30.116" style="s2">preference do whatever you want to do</p>
<p begin="13:22:28.400" end="13:22:31.840" style="s2">I&#39;m going to allow this just for</p>
<p begin="13:22:30.116" end="13:22:33.640" style="s2">demonstration purposes so I can show you</p>
<p begin="13:22:31.840" end="13:22:37.200" style="s2">that hey when you allow 5432 we can</p>
<p begin="13:22:33.640" end="13:22:41.360" style="s2">connect remotely so I&#39;ll add that rule</p>
<p begin="13:22:37.200" end="13:22:45.956" style="s2">and then finally we have to start our</p>
<p begin="13:22:41.360" end="13:22:45.956" style="s2">firewall so we do pseudo ufw</p>
<p begin="13:22:47.436" end="13:22:50.436" style="s2">enable and it&#39;s just going to tell us</p>
<p begin="13:22:49.360" end="13:22:51.680" style="s2">that we could potentially lose</p>
<p begin="13:22:50.436" end="13:22:53.680" style="s2">connection because we&#39;re starting up a</p>
<p begin="13:22:51.680" end="13:22:57.276" style="s2">firewall that&#39;s fine and we&#39;ve started</p>
<p begin="13:22:53.680" end="13:22:59.480" style="s2">up a firewall so if I do a pseudo ufw</p>
<p begin="13:22:57.276" end="13:23:00.916" style="s2">status you can see that it&#39;s active and</p>
<p begin="13:22:59.480" end="13:23:03.360" style="s2">you can see all the rules that it&#39;s put</p>
<p begin="13:23:00.916" end="13:23:06.160" style="s2">in place so it&#39;s saying we allow Port 80</p>
<p begin="13:23:03.360" end="13:23:08.400" style="s2">traffic from uh anywhere we&#39;re going to</p>
<p begin="13:23:06.160" end="13:23:10.640" style="s2">allow that that Port 443 we&#39;re going to</p>
<p begin="13:23:08.400" end="13:23:13.480" style="s2">allow from anywhere and same thing with</p>
<p begin="13:23:10.640" end="13:23:15.040" style="s2">SSH and 5432 and all of the IPv6 rules</p>
<p begin="13:23:13.480" end="13:23:16.720" style="s2">as well and then everything else is</p>
<p begin="13:23:15.040" end="13:23:18.200" style="s2">dropped and blocked and let&#39;s just</p>
<p begin="13:23:16.720" end="13:23:20.360" style="s2">double check that we can access the</p>
<p begin="13:23:18.200" end="13:23:21.596" style="s2">docks and it looks like we can and just</p>
<p begin="13:23:20.360" end="13:23:25.360" style="s2">to make sure it&#39;s not cached or</p>
<p begin="13:23:21.596" end="13:23:26.640" style="s2">something like that still works and now</p>
<p begin="13:23:25.360" end="13:23:29.480" style="s2">we&#39;ve got our</p>
<p begin="13:23:26.640" end="13:23:30.796" style="s2">firewall and the firewall will start up</p>
<p begin="13:23:29.480" end="13:23:33.000" style="s2">automatically so you don&#39;t actually have</p>
<p begin="13:23:30.796" end="13:23:35.640" style="s2">to configure anything else uh if you do</p>
<p begin="13:23:33.000" end="13:23:37.720" style="s2">want to delete a rule you can do pseudo</p>
<p begin="13:23:35.640" end="13:23:40.360" style="s2">ufw</p>
<p begin="13:23:37.720" end="13:23:43.916" style="s2">delete allow and then whatever rules so</p>
<p begin="13:23:40.360" end="13:23:46.680" style="s2">you can do HTTP or you can do</p>
<p begin="13:23:43.916" end="13:23:48.596" style="s2">5432 whichever one you want to</p>
<p begin="13:23:46.680" end="13:23:50.520" style="s2">delete so now that we have our</p>
<p begin="13:23:48.596" end="13:23:52.040" style="s2">application deployed one of the common</p>
<p begin="13:23:50.520" end="13:23:54.720" style="s2">things that you&#39;re going to have to do</p>
<p begin="13:23:52.040" end="13:23:56.880" style="s2">is um make changes to your application</p>
<p begin="13:23:54.720" end="13:23:58.000" style="s2">and then push out those changes so I&#39;m</p>
<p begin="13:23:56.880" end="13:24:00.400" style="s2">going to show you guys how we can do</p>
<p begin="13:23:58.000" end="13:24:01.796" style="s2">this in a manual process ultimately if</p>
<p begin="13:24:00.400" end="13:24:04.840" style="s2">you&#39;re developing an application it&#39;s</p>
<p begin="13:24:01.796" end="13:24:06.680" style="s2">best to set up a very efficient cicd</p>
<p begin="13:24:04.840" end="13:24:07.756" style="s2">pipeline but that&#39;s a little outside of</p>
<p begin="13:24:06.680" end="13:24:09.560" style="s2">the scope of this course so I&#39;m going to</p>
<p begin="13:24:07.756" end="13:24:10.840" style="s2">just show you how to do this manually</p>
<p begin="13:24:09.560" end="13:24:12.000" style="s2">and you&#39;ll see that it only requires a</p>
<p begin="13:24:10.840" end="13:24:14.160" style="s2">couple of</p>
<p begin="13:24:12.000" end="13:24:15.720" style="s2">commands uh so go ahead and make your</p>
<p begin="13:24:14.160" end="13:24:18.560" style="s2">changes uh you know whatever code</p>
<p begin="13:24:15.720" end="13:24:21.756" style="s2">changes so I&#39;m going to say uh hello</p>
<p begin="13:24:18.560" end="13:24:23.400" style="s2">world couple exclamation points all</p>
<p begin="13:24:21.756" end="13:24:24.400" style="s2">right we&#39;ll save that and what we&#39;re</p>
<p begin="13:24:23.400" end="13:24:27.000" style="s2">going to do is we&#39;re going to do a get</p>
<p begin="13:24:24.400" end="13:24:29.480" style="s2">add-- all again and we&#39;re going to do a</p>
<p begin="13:24:27.000" end="13:24:31.240" style="s2">get commit DM give it some meaningful</p>
<p begin="13:24:29.480" end="13:24:33.320" style="s2">message</p>
<p begin="13:24:31.240" end="13:24:35.160" style="s2">changed the</p>
<p begin="13:24:33.320" end="13:24:38.160" style="s2">world all right and then we&#39;re going to</p>
<p begin="13:24:35.160" end="13:24:40.200" style="s2">do a get push</p>
<p begin="13:24:38.160" end="13:24:42.560" style="s2">and before we do that if you type in uh</p>
<p begin="13:24:40.200" end="13:24:44.160" style="s2">yeah just do a get push uh then we</p>
<p begin="13:24:42.560" end="13:24:46.640" style="s2">provide origin which is the name of our</p>
<p begin="13:24:44.160" end="13:24:49.240" style="s2">remote and then the branch that we&#39;re on</p>
<p begin="13:24:46.640" end="13:24:49.240" style="s2">so we can say</p>
<p begin="13:24:50.880" end="13:24:55.520" style="s2">Main and that&#39;s going to push it up to</p>
<p begin="13:24:53.116" end="13:24:57.680" style="s2">our GitHub</p>
<p begin="13:24:55.520" end="13:24:59.400" style="s2">repository and at that point once it&#39;s</p>
<p begin="13:24:57.680" end="13:25:01.360" style="s2">there you can just quickly verify if you</p>
<p begin="13:24:59.400" end="13:25:03.240" style="s2">want but I&#39;m going to assume that it&#39;s</p>
<p begin="13:25:01.360" end="13:25:05.880" style="s2">there and then what we&#39;re going to do is</p>
<p begin="13:25:03.240" end="13:25:07.480" style="s2">we&#39;re going to go into our application</p>
<p begin="13:25:05.880" end="13:25:08.756" style="s2">folder</p>
<p begin="13:25:07.480" end="13:25:10.596" style="s2">which is in our home directory then we</p>
<p begin="13:25:08.756" end="13:25:12.400" style="s2">go into Apps and then</p>
<p begin="13:25:10.596" end="13:25:13.956" style="s2">source and then here we&#39;re just going to</p>
<p begin="13:25:12.400" end="13:25:15.520" style="s2">do a get pull so it&#39;s going to pull all</p>
<p begin="13:25:13.956" end="13:25:17.436" style="s2">the changes that were made so it&#39;s going</p>
<p begin="13:25:15.520" end="13:25:19.956" style="s2">to grab the</p>
<p begin="13:25:17.436" end="13:25:22.276" style="s2">latest changes and</p>
<p begin="13:25:19.956" end="13:25:23.916" style="s2">we&#39;ll all right so we&#39;ve pulled all of</p>
<p begin="13:25:22.276" end="13:25:26.680" style="s2">our code</p>
<p begin="13:25:23.916" end="13:25:29.200" style="s2">now and keep in mind you know if you had</p>
<p begin="13:25:26.680" end="13:25:31.640" style="s2">changed the requirements.txt file then</p>
<p begin="13:25:29.200" end="13:25:34.480" style="s2">you definitely want to do a pip install</p>
<p begin="13:25:31.640" end="13:25:36.560" style="s2">uh you know pip install dasr</p>
<p begin="13:25:34.480" end="13:25:37.880" style="s2">requirements.txt</p>
<p begin="13:25:36.560" end="13:25:40.240" style="s2">if you did but we didn&#39;t change any of</p>
<p begin="13:25:37.880" end="13:25:42.480" style="s2">that so we don&#39;t need to do that uh and</p>
<p begin="13:25:40.240" end="13:25:44.560" style="s2">what we can do now is we can we have to</p>
<p begin="13:25:42.480" end="13:25:46.160" style="s2">restart our application because if I</p>
<p begin="13:25:44.560" end="13:25:48.796" style="s2">just refresh this you can see nothing&#39;s</p>
<p begin="13:25:46.160" end="13:25:52.756" style="s2">changed there&#39;s no exclamation points so</p>
<p begin="13:25:48.796" end="13:25:55.756" style="s2">we&#39;ll do a system tudo system CTL</p>
<p begin="13:25:52.756" end="13:25:55.756" style="s2">restart</p>
<p begin="13:25:55.840" end="13:26:01.880" style="s2">API and let&#39;s try this out</p>
<p begin="13:25:59.360" end="13:26:03.720" style="s2">now and we&#39;ve got all of the exclamation</p>
<p begin="13:26:01.880" end="13:26:05.400" style="s2">points now so that&#39;s how you push out</p>
<p begin="13:26:03.720" end="13:26:08.956" style="s2">changes through a manual process but</p>
<p begin="13:26:05.400" end="13:26:10.916" style="s2">like I said it&#39;s best to set up a cicd</p>
<p begin="13:26:08.956" end="13:26:13.596" style="s2">pipeline in this section we&#39;re going to</p>
<p begin="13:26:10.916" end="13:26:15.000" style="s2">focus on dockerizing our application I</p>
<p begin="13:26:13.596" end="13:26:16.436" style="s2">originally wasn&#39;t going to do anything</p>
<p begin="13:26:15.000" end="13:26:18.640" style="s2">on Docker but I figured I would just</p>
<p begin="13:26:16.436" end="13:26:20.796" style="s2">make a quick video uh just to show you</p>
<p begin="13:26:18.640" end="13:26:23.000" style="s2">guys how we can quickly set up our fast</p>
<p begin="13:26:20.796" end="13:26:24.796" style="s2">API environment within a Docker based</p>
<p begin="13:26:23.000" end="13:26:26.360" style="s2">environment and I&#39;ll also show you guys</p>
<p begin="13:26:24.796" end="13:26:28.560" style="s2">how to set up a postgress database</p>
<p begin="13:26:26.360" end="13:26:30.480" style="s2">within Docker uh this is going to be a</p>
<p begin="13:26:28.560" end="13:26:31.756" style="s2">fairly quick run through of Docker I&#39;m</p>
<p begin="13:26:30.480" end="13:26:33.640" style="s2">going to assume that you guys have a</p>
<p begin="13:26:31.756" end="13:26:34.916" style="s2">basic understanding of Docker I&#39;m going</p>
<p begin="13:26:33.640" end="13:26:36.480" style="s2">to assume that you already have Docker</p>
<p begin="13:26:34.916" end="13:26:38.596" style="s2">installed on your machine so we&#39;re going</p>
<p begin="13:26:36.480" end="13:26:40.956" style="s2">to get right to it and get started on</p>
<p begin="13:26:38.596" end="13:26:43.956" style="s2">setting up our fast API within</p>
<p begin="13:26:40.956" end="13:26:46.080" style="s2">Docker so I have Docker Hub open which</p>
<p begin="13:26:43.956" end="13:26:47.840" style="s2">is just you know a public repository of</p>
<p begin="13:26:46.080" end="13:26:50.000" style="s2">different uh images that we have access</p>
<p begin="13:26:47.840" end="13:26:51.880" style="s2">to you can create an account if you want</p>
<p begin="13:26:50.000" end="13:26:53.596" style="s2">to you don&#39;t have to create one at this</p>
<p begin="13:26:51.880" end="13:26:55.436" style="s2">stage uh the only time we&#39;ll need to</p>
<p begin="13:26:53.596" end="13:26:58.320" style="s2">create an account for this course is if</p>
<p begin="13:26:55.436" end="13:27:00.880" style="s2">you want to push an image up to a you</p>
<p begin="13:26:58.320" end="13:27:02.240" style="s2">know a repository hosted on Docker Hub</p>
<p begin="13:27:00.880" end="13:27:03.840" style="s2">if you don&#39;t want to do that then you</p>
<p begin="13:27:02.240" end="13:27:05.880" style="s2">don&#39;t need to go ahead and create an</p>
<p begin="13:27:03.840" end="13:27:08.320" style="s2">account um but what we want to do is we</p>
<p begin="13:27:05.880" end="13:27:11.480" style="s2">want to figure out a image that we&#39;re</p>
<p begin="13:27:08.320" end="13:27:13.320" style="s2">going to use for our fast API Docker</p>
<p begin="13:27:11.480" end="13:27:15.240" style="s2">container uh and so just go ahead and</p>
<p begin="13:27:13.320" end="13:27:16.796" style="s2">search for Python and what we&#39;re going</p>
<p begin="13:27:15.240" end="13:27:18.400" style="s2">to do is we&#39;re going to use the official</p>
<p begin="13:27:16.796" end="13:27:20.560" style="s2">python image so select the official</p>
<p begin="13:27:18.400" end="13:27:21.956" style="s2">python image and you&#39;ll see that um</p>
<p begin="13:27:20.560" end="13:27:24.200" style="s2">there&#39;s a couple of different options so</p>
<p begin="13:27:21.956" end="13:27:26.520" style="s2">you can uh scroll down you can see the</p>
<p begin="13:27:24.200" end="13:27:28.916" style="s2">different versions of python and we&#39;re</p>
<p begin="13:27:26.520" end="13:27:31.040" style="s2">actually going to use version 3.97 in</p>
<p begin="13:27:28.916" end="13:27:33.916" style="s2">this case but you can see that with the</p>
<p begin="13:27:31.040" end="13:27:35.596" style="s2">um default python image we have uh all</p>
<p begin="13:27:33.916" end="13:27:37.240" style="s2">of the different versions that we could</p>
<p begin="13:27:35.596" end="13:27:39.320" style="s2">pretty much ever want and then they got</p>
<p begin="13:27:37.240" end="13:27:40.956" style="s2">slim images they got the Alpine images</p>
<p begin="13:27:39.320" end="13:27:43.796" style="s2">as well but we&#39;re going to use just the</p>
<p begin="13:27:40.956" end="13:27:46.400" style="s2">standard image now if we use this</p>
<p begin="13:27:43.796" end="13:27:48.360" style="s2">specific image the problem with this is</p>
<p begin="13:27:46.400" end="13:27:51.320" style="s2">that this is just a basic image with</p>
<p begin="13:27:48.360" end="13:27:53.116" style="s2">python there&#39;s nothing else on it uh and</p>
<p begin="13:27:51.320" end="13:27:55.320" style="s2">um at that point if we just have a basic</p>
<p begin="13:27:53.116" end="13:27:57.680" style="s2">python container then we have to do all</p>
<p begin="13:27:55.320" end="13:27:59.880" style="s2">of the work of copying our source code</p>
<p begin="13:27:57.680" end="13:28:01.560" style="s2">onto the uh Docker container and then we</p>
<p begin="13:27:59.880" end="13:28:03.520" style="s2">have to install all of our dependencies</p>
<p begin="13:28:01.560" end="13:28:05.756" style="s2">and set up our application and that kind</p>
<p begin="13:28:03.520" end="13:28:08.200" style="s2">of defeats the purpose of Docker because</p>
<p begin="13:28:05.756" end="13:28:10.200" style="s2">the main idea behind Docker is that we</p>
<p begin="13:28:08.200" end="13:28:11.880" style="s2">actually create an image that has</p>
<p begin="13:28:10.200" end="13:28:13.480" style="s2">everything that we need to run our</p>
<p begin="13:28:11.880" end="13:28:15.480" style="s2">application so we just start up the</p>
<p begin="13:28:13.480" end="13:28:17.240" style="s2">image or I guess we technically start up</p>
<p begin="13:28:15.480" end="13:28:18.520" style="s2">the container which is made from the</p>
<p begin="13:28:17.240" end="13:28:19.916" style="s2">image and that should just have</p>
<p begin="13:28:18.520" end="13:28:22.596" style="s2">everything it needs and it should just</p>
<p begin="13:28:19.916" end="13:28:24.000" style="s2">start working right away so that&#39;s</p>
<p begin="13:28:22.596" end="13:28:25.840" style="s2">exactly what I want to do and to</p>
<p begin="13:28:24.000" end="13:28:27.480" style="s2">actually get that to accomplished we&#39;re</p>
<p begin="13:28:25.840" end="13:28:30.756" style="s2">going to have to create our own custom</p>
<p begin="13:28:27.480" end="13:28:32.116" style="s2">image and all custom images need to</p>
<p begin="13:28:30.756" end="13:28:33.916" style="s2">start off with the base image so we&#39;re</p>
<p begin="13:28:32.116" end="13:28:36.200" style="s2">going to start off with this base python</p>
<p begin="13:28:33.916" end="13:28:37.956" style="s2">image and we&#39;re going to customize it by</p>
<p begin="13:28:36.200" end="13:28:39.796" style="s2">doing a few things uh including copying</p>
<p begin="13:28:37.956" end="13:28:41.720" style="s2">our source code into it uh and</p>
<p begin="13:28:39.796" end="13:28:44.160" style="s2">installing all the dependencies and</p>
<p begin="13:28:41.720" end="13:28:47.000" style="s2">setting up a few other details so to</p>
<p begin="13:28:44.160" end="13:28:49.240" style="s2">actually create a custom Docker image uh</p>
<p begin="13:28:47.000" end="13:28:51.000" style="s2">we&#39;re going to go to our project</p>
<p begin="13:28:49.240" end="13:28:55.080" style="s2">directory and we&#39;re going to create a</p>
<p begin="13:28:51.000" end="13:28:55.080" style="s2">file uh that&#39;s referred to as a Docker</p>
<p begin="13:28:55.596" end="13:28:59.680" style="s2">file now this Docker file is going to</p>
<p begin="13:28:57.956" end="13:29:01.840" style="s2">have all of the steps necessary to</p>
<p begin="13:28:59.680" end="13:29:02.916" style="s2">create our own custom image and the</p>
<p begin="13:29:01.840" end="13:29:05.360" style="s2">first thing that we have to do is we</p>
<p begin="13:29:02.916" end="13:29:07.756" style="s2">have to set up uh or specify our base</p>
<p begin="13:29:05.360" end="13:29:09.560" style="s2">image so we&#39;re going to use this uh</p>
<p begin="13:29:07.756" end="13:29:12.400" style="s2">python</p>
<p begin="13:29:09.560" end="13:29:14.880" style="s2">3.97 uh image as the base image so what</p>
<p begin="13:29:12.400" end="13:29:17.116" style="s2">we do is we say from and then the name</p>
<p begin="13:29:14.880" end="13:29:19.796" style="s2">of the image so this is the python image</p>
<p begin="13:29:17.116" end="13:29:21.880" style="s2">and then if we want to we can also uh do</p>
<p begin="13:29:19.796" end="13:29:23.640" style="s2">a version so I&#39;m going to do</p>
<p begin="13:29:21.880" end="13:29:24.840" style="s2">3.97 and if you&#39;re wondering where I&#39;m</p>
<p begin="13:29:23.640" end="13:29:27.200" style="s2">getting this from this is all from the</p>
<p begin="13:29:24.840" end="13:29:28.436" style="s2">documentation you just say from the name</p>
<p begin="13:29:27.200" end="13:29:29.880" style="s2">of the image which in this case is</p>
<p begin="13:29:28.436" end="13:29:32.400" style="s2">Python and then you could see the</p>
<p begin="13:29:29.880" end="13:29:34.560" style="s2">different tags so if you want 3.97 slim</p>
<p begin="13:29:32.400" end="13:29:37.360" style="s2">Bullseye you got that and if you want to</p>
<p begin="13:29:34.560" end="13:29:38.720" style="s2">see them going over that in an example</p>
<p begin="13:29:37.360" end="13:29:40.916" style="s2">we&#39;re kind of basically just following</p>
<p begin="13:29:38.720" end="13:29:40.916" style="s2">this</p>
<p begin="13:29:41.796" end="13:29:46.276" style="s2">essentially the next step is going to be</p>
<p begin="13:29:44.596" end="13:29:48.520" style="s2">an optional step but I always like to do</p>
<p begin="13:29:46.276" end="13:29:51.240" style="s2">this we&#39;re going to use the</p>
<p begin="13:29:48.520" end="13:29:53.040" style="s2">worker FL and this is going to set the</p>
<p begin="13:29:51.240" end="13:29:56.240" style="s2">working directory so I&#39;m going to say</p>
<p begin="13:29:53.040" end="13:29:57.956" style="s2">this is going to be user Source slapp</p>
<p begin="13:29:56.240" end="13:30:00.240" style="s2">now how do I know that there&#39;s a uh</p>
<p begin="13:29:57.956" end="13:30:01.756" style="s2">folder called user Source I&#39;ve actually</p>
<p begin="13:30:00.240" end="13:30:03.040" style="s2">run the python image myself and I</p>
<p begin="13:30:01.756" end="13:30:05.080" style="s2">checked to see where I could actually</p>
<p begin="13:30:03.040" end="13:30:07.640" style="s2">set up my application so I found that</p>
<p begin="13:30:05.080" end="13:30:10.040" style="s2">there is a path here and then I want to</p>
<p begin="13:30:07.640" end="13:30:11.200" style="s2">create a folder called app and this is</p>
<p begin="13:30:10.040" end="13:30:13.400" style="s2">where I&#39;m going to store all of my</p>
<p begin="13:30:11.200" end="13:30:15.040" style="s2">application code and once again you can</p>
<p begin="13:30:13.400" end="13:30:17.080" style="s2">take a look at the documentation and it</p>
<p begin="13:30:15.040" end="13:30:18.436" style="s2">does the same thing so um if you ever</p>
<p begin="13:30:17.080" end="13:30:20.400" style="s2">lost just take a look at the doc and</p>
<p begin="13:30:18.436" end="13:30:22.240" style="s2">it&#39;s going to help explain things but</p>
<p begin="13:30:20.400" end="13:30:24.240" style="s2">like I said this is the optional command</p>
<p begin="13:30:22.240" end="13:30:26.840" style="s2">in this case because what it really does</p>
<p begin="13:30:24.240" end="13:30:28.560" style="s2">is it&#39;s going to tell Docker this is</p>
<p begin="13:30:26.840" end="13:30:30.756" style="s2">where all of the commands are going to</p>
<p begin="13:30:28.560" end="13:30:34.040" style="s2">essentially run from so it&#39;s like doing</p>
<p begin="13:30:30.756" end="13:30:35.480" style="s2">a a CD into SL user sourcea and then</p>
<p begin="13:30:34.040" end="13:30:36.796" style="s2">anytime we give it any instructions it&#39;s</p>
<p begin="13:30:35.480" end="13:30:38.520" style="s2">always going to do do everything in that</p>
<p begin="13:30:36.796" end="13:30:40.560" style="s2">directory so it&#39;s just going to help</p>
<p begin="13:30:38.520" end="13:30:42.240" style="s2">simplify some of the later steps but it</p>
<p begin="13:30:40.560" end="13:30:43.360" style="s2">is technically optional uh the next</p>
<p begin="13:30:42.240" end="13:30:45.796" style="s2">thing that I want to do is I want to</p>
<p begin="13:30:43.360" end="13:30:49.840" style="s2">copy our requirements.txt file from our</p>
<p begin="13:30:45.796" end="13:30:52.560" style="s2">local machine onto our Docker container</p>
<p begin="13:30:49.840" end="13:30:54.880" style="s2">so we use the copy</p>
<p begin="13:30:52.560" end="13:30:56.640" style="s2">command and we say we want to copy</p>
<p begin="13:30:54.880" end="13:30:59.276" style="s2">requirements.txt</p>
<p begin="13:30:56.640" end="13:31:02.520" style="s2">and then we have to specify the</p>
<p begin="13:30:59.276" end="13:31:04.596" style="s2">directory within our container or image</p>
<p begin="13:31:02.520" end="13:31:06.640" style="s2">that we want to copy it to so I&#39;m going</p>
<p begin="13:31:04.596" end="13:31:08.680" style="s2">to say do slash so where does this</p>
<p begin="13:31:06.640" end="13:31:10.240" style="s2">exactly point to well remember we set</p>
<p begin="13:31:08.680" end="13:31:12.000" style="s2">our working directory so everything is</p>
<p begin="13:31:10.240" end="13:31:13.520" style="s2">going to be with regards to that</p>
<p begin="13:31:12.000" end="13:31:15.880" style="s2">directory so when I say the current</p>
<p begin="13:31:13.520" end="13:31:18.200" style="s2">directory that means this</p>
<p begin="13:31:15.880" end="13:31:20.276" style="s2">directory now if we didn&#39;t have this</p>
<p begin="13:31:18.200" end="13:31:23.320" style="s2">line right here then we would have to</p>
<p begin="13:31:20.276" end="13:31:24.436" style="s2">specify the full path to that directory</p>
<p begin="13:31:23.320" end="13:31:26.520" style="s2">so you can see that it&#39;s kind of</p>
<p begin="13:31:24.436" end="13:31:27.680" style="s2">simplifying things for us because then</p>
<p begin="13:31:26.520" end="13:31:28.916" style="s2">we can just kind of Say Hey I want to</p>
<p begin="13:31:27.680" end="13:31:31.116" style="s2">use the current directory because that&#39;s</p>
<p begin="13:31:28.916" end="13:31:33.680" style="s2">what the working directory is and the</p>
<p begin="13:31:31.116" end="13:31:36.116" style="s2">next thing that I want to do is run a</p>
<p begin="13:31:33.680" end="13:31:38.000" style="s2">command which is going to be uh</p>
<p begin="13:31:36.116" end="13:31:39.400" style="s2">responsible for installing all of our</p>
<p begin="13:31:38.000" end="13:31:41.796" style="s2">dependencies because we have our</p>
<p begin="13:31:39.400" end="13:31:43.640" style="s2">requirements.txt file copied into our</p>
<p begin="13:31:41.796" end="13:31:45.436" style="s2">Docker container so we&#39;re going to do</p>
<p begin="13:31:43.640" end="13:31:49.756" style="s2">pip</p>
<p begin="13:31:45.436" end="13:31:53.436" style="s2">install - R and then requirements.txt</p>
<p begin="13:31:49.756" end="13:31:56.160" style="s2">and if you want to we can also specify</p>
<p begin="13:31:53.436" end="13:31:59.240" style="s2">the--</p>
<p begin="13:31:56.160" end="13:32:01.400" style="s2">no-- dur if you wanted to as</p>
<p begin="13:31:59.240" end="13:32:02.720" style="s2">well and so that&#39;s going to install all</p>
<p begin="13:32:01.400" end="13:32:04.436" style="s2">of our</p>
<p begin="13:32:02.720" end="13:32:08.320" style="s2">dependencies then the next thing that</p>
<p begin="13:32:04.436" end="13:32:11.116" style="s2">I&#39;m going to do is I&#39;m going to to do</p>
<p begin="13:32:08.320" end="13:32:12.560" style="s2">copy dot dot so what does this mean this</p>
<p begin="13:32:11.116" end="13:32:14.840" style="s2">is going to copy everything in our</p>
<p begin="13:32:12.560" end="13:32:16.680" style="s2">current directory uh so all of our</p>
<p begin="13:32:14.840" end="13:32:18.880" style="s2">source code and then it&#39;s going to copy</p>
<p begin="13:32:16.680" end="13:32:19.956" style="s2">it into the current directory in our</p>
<p begin="13:32:18.880" end="13:32:21.400" style="s2">container so what is the current</p>
<p begin="13:32:19.956" end="13:32:23.520" style="s2">directory well that&#39;s the one that&#39;s set</p>
<p begin="13:32:21.400" end="13:32:24.720" style="s2">by worker and once again if we don&#39;t</p>
<p begin="13:32:23.520" end="13:32:29.840" style="s2">have this defined then we would have to</p>
<p begin="13:32:24.720" end="13:32:29.840" style="s2">specify the full path of SL user Source</p>
<p begin="13:32:30.596" end="13:32:35.040" style="s2">slapp now one thing that you might</p>
<p begin="13:32:32.596" end="13:32:37.560" style="s2">notice that&#39;s a little unusual is the</p>
<p begin="13:32:35.040" end="13:32:39.116" style="s2">fact that um we copy all of our source</p>
<p begin="13:32:37.560" end="13:32:41.200" style="s2">code at the end right</p>
<p begin="13:32:39.116" end="13:32:43.040" style="s2">here which is going to include</p>
<p begin="13:32:41.200" end="13:32:44.680" style="s2">everything in our directory including</p>
<p begin="13:32:43.040" end="13:32:46.480" style="s2">the requirements. txt file so you might</p>
<p begin="13:32:44.680" end="13:32:49.480" style="s2">be wondering well why exactly do we copy</p>
<p begin="13:32:46.480" end="13:32:51.040" style="s2">just the requirements.txt file up here</p>
<p begin="13:32:49.480" end="13:32:53.480" style="s2">well this is a little bit of an</p>
<p begin="13:32:51.040" end="13:32:55.756" style="s2">optimization uh that doctor that Docker</p>
<p begin="13:32:53.480" end="13:32:58.080" style="s2">provides us so when Docker runs when we</p>
<p begin="13:32:55.756" end="13:32:59.840" style="s2">build images from a Docker file it</p>
<p begin="13:32:58.080" end="13:33:02.560" style="s2">actually treats each one of these lines</p>
<p begin="13:32:59.840" end="13:33:04.916" style="s2">or steps as a layer of the image so kind</p>
<p begin="13:33:02.560" end="13:33:07.116" style="s2">of Builds an image by running the first</p>
<p begin="13:33:04.916" end="13:33:09.880" style="s2">layer then creat in the second layer the</p>
<p begin="13:33:07.116" end="13:33:12.436" style="s2">third fourth and fifth layer and it</p>
<p begin="13:33:09.880" end="13:33:14.320" style="s2">actually caches the result of each step</p>
<p begin="13:33:12.436" end="13:33:17.000" style="s2">so this is important because when you</p>
<p begin="13:33:14.320" end="13:33:18.400" style="s2">cach the result if nothing changes then</p>
<p begin="13:33:17.000" end="13:33:20.880" style="s2">we can just use the cache result so</p>
<p begin="13:33:18.400" end="13:33:22.880" style="s2">let&#39;s say I you know run this image or I</p>
<p begin="13:33:20.880" end="13:33:24.880" style="s2">create an image from this</p>
<p begin="13:33:22.880" end="13:33:27.000" style="s2">file it&#39;s going to take a certain amount</p>
<p begin="13:33:24.880" end="13:33:29.480" style="s2">of time because it has to it has to um</p>
<p begin="13:33:27.000" end="13:33:30.956" style="s2">do a pip install requirements.txt where</p>
<p begin="13:33:29.480" end="13:33:33.560" style="s2">it&#39;s installing all the dependencies</p>
<p begin="13:33:30.956" end="13:33:35.756" style="s2">which does take a decent amount of time</p>
<p begin="13:33:33.560" end="13:33:37.720" style="s2">but if I run this again right and</p>
<p begin="13:33:35.756" end="13:33:39.160" style="s2">nothing changes well then it can just</p>
<p begin="13:33:37.720" end="13:33:40.116" style="s2">use the cash result because it knows</p>
<p begin="13:33:39.160" end="13:33:43.680" style="s2">nothing&#39;s</p>
<p begin="13:33:40.116" end="13:33:47.080" style="s2">changed and this is important because um</p>
<p begin="13:33:43.680" end="13:33:49.480" style="s2">when I change my source code here maybe</p>
<p begin="13:33:47.080" end="13:33:51.916" style="s2">like my database. py file it&#39;s going to</p>
<p begin="13:33:49.480" end="13:33:53.756" style="s2">see what steps changed right and so if I</p>
<p begin="13:33:51.916" end="13:33:55.956" style="s2">change my source code uh does that</p>
<p begin="13:33:53.756" end="13:33:58.116" style="s2">change the base image no we&#39;re still</p>
<p begin="13:33:55.956" end="13:33:59.720" style="s2">using the same uh base image does it</p>
<p begin="13:33:58.116" end="13:34:01.720" style="s2">change the working directory that we</p>
<p begin="13:33:59.720" end="13:34:04.200" style="s2">used nope still the same did it change</p>
<p begin="13:34:01.720" end="13:34:06.880" style="s2">the requirements at txt file nope still</p>
<p begin="13:34:04.200" end="13:34:08.360" style="s2">the same uh did it change any um of the</p>
<p begin="13:34:06.880" end="13:34:10.360" style="s2">dependencies that we installed</p>
<p begin="13:34:08.360" end="13:34:12.596" style="s2">absolutely not it only changed the final</p>
<p begin="13:34:10.360" end="13:34:15.436" style="s2">step so this causes Docker to be able to</p>
<p begin="13:34:12.596" end="13:34:17.880" style="s2">use the cast result of Step uh one two 3</p>
<p begin="13:34:15.436" end="13:34:19.680" style="s2">four of step four and it only has to</p>
<p begin="13:34:17.880" end="13:34:24.080" style="s2">rerun step</p>
<p begin="13:34:19.680" end="13:34:27.560" style="s2">five but if we change requirements.txt</p>
<p begin="13:34:24.080" end="13:34:28.956" style="s2">this file right here then it knows that</p>
<p begin="13:34:27.560" end="13:34:31.880" style="s2">this step changed here so it&#39;s going to</p>
<p begin="13:34:28.956" end="13:34:34.520" style="s2">have to rerun this step then this step</p>
<p begin="13:34:31.880" end="13:34:36.080" style="s2">then this step right and so this gives</p>
<p begin="13:34:34.520" end="13:34:38.116" style="s2">us an advantage because anytime we</p>
<p begin="13:34:36.080" end="13:34:41.160" style="s2">change our source code we only have to</p>
<p begin="13:34:38.116" end="13:34:42.880" style="s2">run this last step and if we change our</p>
<p begin="13:34:41.160" end="13:34:44.840" style="s2">requirements. txt then we have to run</p>
<p begin="13:34:42.880" end="13:34:47.720" style="s2">all of these steps and keep in mind that</p>
<p begin="13:34:44.840" end="13:34:49.640" style="s2">this step is the longest step and so if</p>
<p begin="13:34:47.720" end="13:34:51.596" style="s2">I had actually like uh if I can comment</p>
<p begin="13:34:49.640" end="13:34:54.160" style="s2">this out so if I didn&#39;t have this line</p>
<p begin="13:34:51.596" end="13:34:57.080" style="s2">and instead I copied all of my source</p>
<p begin="13:34:54.160" end="13:35:00.116" style="s2">code right here what would happen is</p>
<p begin="13:34:57.080" end="13:35:02.680" style="s2">every time I changed any code in any of</p>
<p begin="13:35:00.116" end="13:35:06.276" style="s2">my files I would have to rerun a pip</p>
<p begin="13:35:02.680" end="13:35:08.320" style="s2">install every single time</p>
<p begin="13:35:06.276" end="13:35:11.160" style="s2">and that would cause us to have to rerun</p>
<p begin="13:35:08.320" end="13:35:12.200" style="s2">the longest step in our build process</p>
<p begin="13:35:11.160" end="13:35:13.680" style="s2">and so that&#39;s why we have this</p>
<p begin="13:35:12.200" end="13:35:15.116" style="s2">optimization that&#39;s why we copy the</p>
<p begin="13:35:13.680" end="13:35:17.320" style="s2">requirements that txt file so that we</p>
<p begin="13:35:15.116" end="13:35:19.560" style="s2">can cash that result and so anytime we</p>
<p begin="13:35:17.320" end="13:35:20.756" style="s2">make any changes to that file uh sorry</p>
<p begin="13:35:19.560" end="13:35:22.796" style="s2">anytime we make any changes to our</p>
<p begin="13:35:20.756" end="13:35:26.160" style="s2">source code that&#39;s not in that file we</p>
<p begin="13:35:22.796" end="13:35:26.160" style="s2">don&#39;t have to rerun a pip</p>
<p begin="13:35:29.916" end="13:35:33.640" style="s2">install all right and then finally we</p>
<p begin="13:35:32.080" end="13:35:35.160" style="s2">have to give it the command that we want</p>
<p begin="13:35:33.640" end="13:35:36.080" style="s2">to run when we start the comp uh the</p>
<p begin="13:35:35.160" end="13:35:37.400" style="s2">container</p>
<p begin="13:35:36.080" end="13:35:40.160" style="s2">so we&#39;ll say</p>
<p begin="13:35:37.400" end="13:35:43.880" style="s2">CMD brackets and so the command that we</p>
<p begin="13:35:40.160" end="13:35:45.200" style="s2">want to run is UV corn app. main app and</p>
<p begin="13:35:43.880" end="13:35:48.200" style="s2">so the way we actually specify the</p>
<p begin="13:35:45.200" end="13:35:50.640" style="s2">command is we we um break out each word</p>
<p begin="13:35:48.200" end="13:35:56.756" style="s2">of the command so here we do UV</p>
<p begin="13:35:50.640" end="13:35:56.756" style="s2">corn and then we say app. main</p>
<p begin="13:35:57.040" end="13:36:01.520" style="s2">app and then here we&#39;re going to pass in</p>
<p begin="13:35:59.560" end="13:36:04.640" style="s2">the the host flag and the port flag like</p>
<p begin="13:36:01.520" end="13:36:07.520" style="s2">we did on our buntu machine so we do D-</p>
<p begin="13:36:04.640" end="13:36:07.520" style="s2">host</p>
<p begin="13:36:09.276" end="13:36:14.720" style="s2">0000</p>
<p begin="13:36:11.240" end="13:36:14.720" style="s2">Z and we do</p>
<p begin="13:36:15.520" end="13:36:20.840" style="s2">d-port that&#39;s going to be</p>
<p begin="13:36:18.436" end="13:36:22.400" style="s2">8,000 okay so it&#39;s basically anytime you</p>
<p begin="13:36:20.840" end="13:36:24.560" style="s2">have a space between the commands you</p>
<p begin="13:36:22.400" end="13:36:26.520" style="s2">just split it up into a different string</p>
<p begin="13:36:24.560" end="13:36:27.956" style="s2">uh within this list that&#39;s just kind of</p>
<p begin="13:36:26.520" end="13:36:30.160" style="s2">the syntax that you have to use with</p>
<p begin="13:36:27.956" end="13:36:33.520" style="s2">these uh Docker files but it&#39;s it&#39;s the</p>
<p begin="13:36:30.160" end="13:36:36.796" style="s2">same thing as running UV corn app.</p>
<p begin="13:36:33.520" end="13:36:41.276" style="s2">main app and then D-</p>
<p begin="13:36:36.796" end="13:36:43.480" style="s2">host d-port 8,000 oops</p>
<p begin="13:36:41.276" end="13:36:45.040" style="s2">8,000 so it&#39;s just going to essentially</p>
<p begin="13:36:43.480" end="13:36:47.436" style="s2">run this in our container we just have</p>
<p begin="13:36:45.040" end="13:36:49.200" style="s2">to provide it in this format all right</p>
<p begin="13:36:47.436" end="13:36:51.560" style="s2">and so now our Docker file is complete</p>
<p begin="13:36:49.200" end="13:36:52.880" style="s2">and we can actually build our image so</p>
<p begin="13:36:51.560" end="13:36:55.680" style="s2">what we&#39;re going to do is uh I&#39;m going</p>
<p begin="13:36:52.880" end="13:36:57.956" style="s2">to do a Docker and then the command to</p>
<p begin="13:36:55.680" end="13:36:59.796" style="s2">build our image is build and then we&#39;ll</p>
<p begin="13:36:57.956" end="13:37:02.040" style="s2">do a d-el so we can see all of the</p>
<p begin="13:36:59.796" end="13:37:02.040" style="s2">different</p>
<p begin="13:37:02.560" end="13:37:07.000" style="s2">flags and most of these don&#39;t really</p>
<p begin="13:37:05.116" end="13:37:09.240" style="s2">match the only one I really care about</p>
<p begin="13:37:07.000" end="13:37:11.116" style="s2">is a tag so I want to give this a name</p>
<p begin="13:37:09.240" end="13:37:13.276" style="s2">so I&#39;m going to say Docker</p>
<p begin="13:37:11.116" end="13:37:15.116" style="s2">build- T and I&#39;m going to give this</p>
<p begin="13:37:13.276" end="13:37:16.240" style="s2">image what a name that I think is uh</p>
<p begin="13:37:15.116" end="13:37:17.840" style="s2">reasonable I&#39;m just going to call this</p>
<p begin="13:37:16.240" end="13:37:21.320" style="s2">fast</p>
<p begin="13:37:17.840" end="13:37:23.436" style="s2">API and we have to pass in one last</p>
<p begin="13:37:21.320" end="13:37:27.240" style="s2">argument uh which I forgot which is</p>
<p begin="13:37:23.436" end="13:37:28.520" style="s2">going to be the um the context uh you</p>
<p begin="13:37:27.240" end="13:37:30.160" style="s2">could think of the context as just kind</p>
<p begin="13:37:28.520" end="13:37:31.756" style="s2">of the directory where the docker file</p>
<p begin="13:37:30.160" end="13:37:33.080" style="s2">is so it&#39;s going to be in the current</p>
<p begin="13:37:31.756" end="13:37:35.520" style="s2">directory because we can see the docker</p>
<p begin="13:37:33.080" end="13:37:38.596" style="s2">file is in the root uh of our folder</p>
<p begin="13:37:35.520" end="13:37:38.596" style="s2">structure so I could just say</p>
<p begin="13:37:41.040" end="13:37:44.916" style="s2">dot and so now it&#39;s actually going to</p>
<p begin="13:37:43.640" end="13:37:50.040" style="s2">build</p>
<p begin="13:37:44.916" end="13:37:53.040" style="s2">our our image and if I do a Docker image</p>
<p begin="13:37:50.040" end="13:37:54.520" style="s2">LS we can see all of our Docker images</p>
<p begin="13:37:53.040" end="13:37:57.000" style="s2">and um you&#39;ll see that I&#39;ve got a whole</p>
<p begin="13:37:54.520" end="13:37:59.000" style="s2">bunch um but we&#39;ve got my fast API right</p>
<p begin="13:37:57.000" end="13:38:02.560" style="s2">up here and so now we can go ahead and</p>
<p begin="13:37:59.000" end="13:38:05.116" style="s2">use this image for um actually building</p>
<p begin="13:38:02.560" end="13:38:07.080" style="s2">out a container and we can run a whole</p>
<p begin="13:38:05.116" end="13:38:09.796" style="s2">bunch of of Docker commands like Docker</p>
<p begin="13:38:07.080" end="13:38:11.200" style="s2">run and then specify the IM image that</p>
<p begin="13:38:09.796" end="13:38:13.200" style="s2">you want to use and then pass in all the</p>
<p begin="13:38:11.200" end="13:38:14.480" style="s2">flags but I don&#39;t like doing that I</p>
<p begin="13:38:13.200" end="13:38:16.720" style="s2">don&#39;t like working with Docker run</p>
<p begin="13:38:14.480" end="13:38:18.080" style="s2">instead I want to use Docker compose and</p>
<p begin="13:38:16.720" end="13:38:20.200" style="s2">if you have never worked with Docker</p>
<p begin="13:38:18.080" end="13:38:21.756" style="s2">compose Docker compose does the same</p>
<p begin="13:38:20.200" end="13:38:24.080" style="s2">thing as running Docker commands on the</p>
<p begin="13:38:21.756" end="13:38:25.400" style="s2">CLI we just provide all the instructions</p>
<p begin="13:38:24.080" end="13:38:27.520" style="s2">on a file so that we don&#39;t have to</p>
<p begin="13:38:25.400" end="13:38:29.000" style="s2">remember all of these long commands with</p>
<p begin="13:38:27.520" end="13:38:31.040" style="s2">all of these extra Flags we literally</p>
<p begin="13:38:29.000" end="13:38:32.640" style="s2">write out the flags in a file and then</p>
<p begin="13:38:31.040" end="13:38:33.680" style="s2">we can just say Docker compose up and</p>
<p begin="13:38:32.640" end="13:38:35.640" style="s2">it&#39;s going to bring up all of our</p>
<p begin="13:38:33.680" end="13:38:37.680" style="s2">containers so we&#39;re going to take a look</p>
<p begin="13:38:35.640" end="13:38:39.680" style="s2">at Docker compose in the next video and</p>
<p begin="13:38:37.680" end="13:38:41.756" style="s2">see how we can get that set up all right</p>
<p begin="13:38:39.680" end="13:38:43.916" style="s2">so we&#39;re going to learn about how we can</p>
<p begin="13:38:41.756" end="13:38:45.880" style="s2">use Docker compose to automatically spin</p>
<p begin="13:38:43.916" end="13:38:47.560" style="s2">up our containers with the desired</p>
<p begin="13:38:45.880" end="13:38:48.840" style="s2">configuration and it&#39;s you&#39;re going to</p>
<p begin="13:38:47.560" end="13:38:50.436" style="s2">see that it&#39;s so much easier to use</p>
<p begin="13:38:48.840" end="13:38:52.436" style="s2">Docker compos than just running Docker</p>
<p begin="13:38:50.436" end="13:38:54.276" style="s2">run whenever you need to because we can</p>
<p begin="13:38:52.436" end="13:38:56.360" style="s2">spin up multiple containers all with one</p>
<p begin="13:38:54.276" end="13:38:59.240" style="s2">command and we can also tear them down</p>
<p begin="13:38:56.360" end="13:39:01.040" style="s2">all with one command and to use Docker</p>
<p begin="13:38:59.240" end="13:39:03.480" style="s2">compose we have to provide the set of</p>
<p begin="13:39:01.040" end="13:39:05.956" style="s2">instructions uh using a file called</p>
<p begin="13:39:03.480" end="13:39:08.520" style="s2">docker-compose</p>
<p begin="13:39:05.956" end="13:39:10.400" style="s2">yml and so this is a yaml file and if</p>
<p begin="13:39:08.520" end="13:39:12.400" style="s2">you don&#39;t know too much about yaml um</p>
<p begin="13:39:10.400" end="13:39:14.680" style="s2">it&#39;s just a I guess it&#39;s technically</p>
<p begin="13:39:12.400" end="13:39:16.040" style="s2">like a markup language I guess um but</p>
<p begin="13:39:14.680" end="13:39:18.116" style="s2">the most important thing to understand</p>
<p begin="13:39:16.040" end="13:39:20.000" style="s2">is that spacing matters so this is kind</p>
<p begin="13:39:18.116" end="13:39:21.520" style="s2">of like python where you need to make</p>
<p begin="13:39:20.000" end="13:39:23.116" style="s2">sure that the tabs and the spaces are</p>
<p begin="13:39:21.520" end="13:39:24.880" style="s2">just right and everything lines up or</p>
<p begin="13:39:23.116" end="13:39:26.880" style="s2">then it&#39;s going to start to throw</p>
<p begin="13:39:24.880" end="13:39:28.520" style="s2">errors and the first thing that we need</p>
<p begin="13:39:26.880" end="13:39:31.480" style="s2">to do is specify what version of Docker</p>
<p begin="13:39:28.520" end="13:39:33.000" style="s2">compost we want to use so we say version</p>
<p begin="13:39:31.480" end="13:39:34.596" style="s2">and I&#39;m going to say just version three</p>
<p begin="13:39:33.000" end="13:39:35.840" style="s2">it&#39;s not the latest it&#39;s just kind of</p>
<p begin="13:39:34.596" end="13:39:37.000" style="s2">most common one</p>
<p begin="13:39:35.840" end="13:39:39.000" style="s2">if you actually go to the docker</p>
<p begin="13:39:37.000" end="13:39:40.200" style="s2">documentation for compos file you&#39;ll see</p>
<p begin="13:39:39.000" end="13:39:41.840" style="s2">the different versions that you can</p>
<p begin="13:39:40.200" end="13:39:43.596" style="s2">specify and you can actually take a look</p>
<p begin="13:39:41.840" end="13:39:45.200" style="s2">at the documentation and see what</p>
<p begin="13:39:43.596" end="13:39:46.916" style="s2">feature was introduced in what version</p>
<p begin="13:39:45.200" end="13:39:49.200" style="s2">so you can figure out what version you</p>
<p begin="13:39:46.916" end="13:39:51.436" style="s2">need to perform all of your operations</p>
<p begin="13:39:49.200" end="13:39:54.000" style="s2">we&#39;re not doing anything special so uh</p>
<p begin="13:39:51.436" end="13:39:56.880" style="s2">version three is just fine for</p>
<p begin="13:39:54.000" end="13:40:00.720" style="s2">us then within Docker composed we have a</p>
<p begin="13:39:56.880" end="13:40:02.680" style="s2">concept of services and so a service</p>
<p begin="13:40:00.720" end="13:40:04.640" style="s2">really at the heart of it is nothing</p>
<p begin="13:40:02.680" end="13:40:06.200" style="s2">more than just a container so if you</p>
<p begin="13:40:04.640" end="13:40:07.916" style="s2">want docker osed to spin you up a</p>
<p begin="13:40:06.200" end="13:40:09.400" style="s2">container you have to define a service</p>
<p begin="13:40:07.916" end="13:40:11.560" style="s2">if you want Docker compos to spin up</p>
<p begin="13:40:09.400" end="13:40:13.916" style="s2">four containers we&#39;re going to have four</p>
<p begin="13:40:11.560" end="13:40:15.596" style="s2">different Services pretty simple so we</p>
<p begin="13:40:13.916" end="13:40:17.436" style="s2">have to give each service or each</p>
<p begin="13:40:15.596" end="13:40:20.756" style="s2">container a name so we&#39;re going to have</p>
<p begin="13:40:17.436" end="13:40:22.640" style="s2">one container for our fast API and I&#39;m</p>
<p begin="13:40:20.756" end="13:40:24.796" style="s2">just going to call this container uh API</p>
<p begin="13:40:22.640" end="13:40:27.200" style="s2">or this service</p>
<p begin="13:40:24.796" end="13:40:28.840" style="s2">API and the first thing that we need to</p>
<p begin="13:40:27.200" end="13:40:30.360" style="s2">do is we have to specify either the</p>
<p begin="13:40:28.840" end="13:40:32.320" style="s2">image that we use so I could technically</p>
<p begin="13:40:30.360" end="13:40:34.916" style="s2">say like image and then we can point to</p>
<p begin="13:40:32.320" end="13:40:36.720" style="s2">like the python image or I can specify</p>
<p begin="13:40:34.916" end="13:40:38.200" style="s2">build</p>
<p begin="13:40:36.720" end="13:40:39.840" style="s2">where we can essentially do the same</p>
<p begin="13:40:38.200" end="13:40:42.680" style="s2">thing that we did before in the previous</p>
<p begin="13:40:39.840" end="13:40:44.596" style="s2">video uh where we ran Docker build and</p>
<p begin="13:40:42.680" end="13:40:47.116" style="s2">then provided the location of the docker</p>
<p begin="13:40:44.596" end="13:40:48.796" style="s2">file but we can just specify that uh</p>
<p begin="13:40:47.116" end="13:40:50.200" style="s2">here within Docker compost so that</p>
<p begin="13:40:48.796" end="13:40:52.320" style="s2">Docker compost will automatically build</p>
<p begin="13:40:50.200" end="13:40:55.560" style="s2">the image for us if it doesn&#39;t exist so</p>
<p begin="13:40:52.320" end="13:40:57.560" style="s2">we&#39;ll say Docker uh build and then uh we</p>
<p begin="13:40:55.560" end="13:40:59.200" style="s2">specify the the context or the path to</p>
<p begin="13:40:57.560" end="13:41:01.200" style="s2">the docker file which is the current</p>
<p begin="13:40:59.200" end="13:41:02.240" style="s2">directory based off of where the docker</p>
<p begin="13:41:01.200" end="13:41:03.720" style="s2">composes so they&#39;re in the same</p>
<p begin="13:41:02.240" end="13:41:06.720" style="s2">directory so I just say current</p>
<p begin="13:41:03.720" end="13:41:09.276" style="s2">directory and then we have to specify um</p>
<p begin="13:41:06.720" end="13:41:10.880" style="s2">a port that we want to open up because</p>
<p begin="13:41:09.276" end="13:41:12.680" style="s2">this is an API so the outside world</p>
<p begin="13:41:10.880" end="13:41:15.640" style="s2">needs to be able to to reach our</p>
<p begin="13:41:12.680" end="13:41:17.520" style="s2">container but by default all containers</p>
<p begin="13:41:15.640" end="13:41:18.880" style="s2">can&#39;t talk to the or Sorry by default</p>
<p begin="13:41:17.520" end="13:41:20.436" style="s2">the outside world can&#39;t actually talk to</p>
<p begin="13:41:18.880" end="13:41:23.480" style="s2">your container so we have to open up or</p>
<p begin="13:41:20.436" end="13:41:26.560" style="s2">poke holes on our local machine uh to</p>
<p begin="13:41:23.480" end="13:41:30.520" style="s2">open up some ports so we say ports and</p>
<p begin="13:41:26.560" end="13:41:31.756" style="s2">this expects an a an array uh of ports</p>
<p begin="13:41:30.520" end="13:41:34.596" style="s2">and so there&#39;s two different ways to do</p>
<p begin="13:41:31.756" end="13:41:36.640" style="s2">an array uh with a yaml or with a docka</p>
<p begin="13:41:34.596" end="13:41:38.596" style="s2">compost file can do you know just an</p>
<p begin="13:41:36.640" end="13:41:41.436" style="s2">array like this where we just provide a</p>
<p begin="13:41:38.596" end="13:41:43.840" style="s2">list of things or we can also do it like</p>
<p begin="13:41:41.436" end="13:41:46.240" style="s2">this where we do a dash and then provide</p>
<p begin="13:41:43.840" end="13:41:47.916" style="s2">you know something and then a dash for</p>
<p begin="13:41:46.240" end="13:41:49.160" style="s2">the next entry in the list so I&#39;m going</p>
<p begin="13:41:47.916" end="13:41:50.080" style="s2">to use this syntax because I kind of</p>
<p begin="13:41:49.160" end="13:41:53.116" style="s2">like it</p>
<p begin="13:41:50.080" end="13:41:55.080" style="s2">better uh but to open a port there&#39;s a a</p>
<p begin="13:41:53.116" end="13:41:56.480" style="s2">specific format that we&#39;re going to use</p>
<p begin="13:41:55.080" end="13:41:58.560" style="s2">so what we say is there&#39;s going to be</p>
<p begin="13:41:56.480" end="13:42:01.520" style="s2">two numbers there&#39;s going to be the uh</p>
<p begin="13:41:58.560" end="13:42:04.436" style="s2">port on Local</p>
<p begin="13:42:01.520" end="13:42:06.796" style="s2">Host and then we do that and then we do</p>
<p begin="13:42:04.436" end="13:42:08.480" style="s2">the port on</p>
<p begin="13:42:06.796" end="13:42:09.640" style="s2">container all right so what&#39;s</p>
<p begin="13:42:08.480" end="13:42:12.680" style="s2">essentially happening is we&#39;re telling</p>
<p begin="13:42:09.640" end="13:42:14.560" style="s2">Docker um if we receive traffic on our</p>
<p begin="13:42:12.680" end="13:42:16.480" style="s2">local host on this port this port</p>
<p begin="13:42:14.560" end="13:42:18.916" style="s2">specified here we&#39;re going to forward it</p>
<p begin="13:42:16.480" end="13:42:20.880" style="s2">to this specific port on the</p>
<p begin="13:42:18.916" end="13:42:22.276" style="s2">container so the second number is a</p>
<p begin="13:42:20.880" end="13:42:24.276" style="s2">little bit easier to set up because it&#39;s</p>
<p begin="13:42:22.276" end="13:42:25.720" style="s2">going to be whatever Port our</p>
<p begin="13:42:24.276" end="13:42:27.916" style="s2">application&#39;s running on so if we take a</p>
<p begin="13:42:25.720" end="13:42:29.596" style="s2">look at our Docker file we can see that</p>
<p begin="13:42:27.916" end="13:42:32.116" style="s2">our container is going to be listening</p>
<p begin="13:42:29.596" end="13:42:36.520" style="s2">on Port 8000 so we want to set this</p>
<p begin="13:42:32.116" end="13:42:38.640" style="s2">second number to be Port 8000</p>
<p begin="13:42:36.520" end="13:42:40.640" style="s2">and keep in mind you could choose to use</p>
<p begin="13:42:38.640" end="13:42:43.240" style="s2">any other value so if you decided to use</p>
<p begin="13:42:40.640" end="13:42:45.436" style="s2">port 80 here then you would just change</p>
<p begin="13:42:43.240" end="13:42:49.040" style="s2">it to Port 80 here but I&#39;m going to</p>
<p begin="13:42:45.436" end="13:42:50.956" style="s2">leave it as 8,000 just for Simplicity</p>
<p begin="13:42:49.040" end="13:42:52.916" style="s2">sake then the second number that we&#39;re</p>
<p begin="13:42:50.956" end="13:42:55.116" style="s2">going to use is going to be the port on</p>
<p begin="13:42:52.916" end="13:42:56.916" style="s2">the local machine or on the Local Host</p>
<p begin="13:42:55.116" end="13:42:58.640" style="s2">which in this case is my Windows machine</p>
<p begin="13:42:56.916" end="13:43:01.160" style="s2">but if it&#39;s on like a production server</p>
<p begin="13:42:58.640" end="13:43:04.320" style="s2">it&#39;s going to be whatever um machine or</p>
<p begin="13:43:01.160" end="13:43:05.956" style="s2">or IP of that specific server is and so</p>
<p begin="13:43:04.320" end="13:43:07.200" style="s2">here we could specify any port so if I</p>
<p begin="13:43:05.956" end="13:43:09.840" style="s2">you can literally pick any port that&#39;s</p>
<p begin="13:43:07.200" end="13:43:12.596" style="s2">open so if I said Port 4,000 what that</p>
<p begin="13:43:09.840" end="13:43:15.320" style="s2">means is that you know if I go to</p>
<p begin="13:43:12.596" end="13:43:17.756" style="s2">my um my Postman this would be the</p>
<p begin="13:43:15.320" end="13:43:20.040" style="s2">equivalent of doing Local Host calling</p>
<p begin="13:43:17.756" end="13:43:21.560" style="s2">4,000 right which is that first number</p>
<p begin="13:43:20.040" end="13:43:23.400" style="s2">and so anytime we send traffic to that</p>
<p begin="13:43:21.560" end="13:43:26.000" style="s2">specific port on a local machine it&#39;s</p>
<p begin="13:43:23.400" end="13:43:28.276" style="s2">going to Route it to Port 8,000 uh in</p>
<p begin="13:43:26.000" end="13:43:30.756" style="s2">our container which is what port our</p>
<p begin="13:43:28.276" end="13:43:34.680" style="s2">applications listening on um but if I</p>
<p begin="13:43:30.756" end="13:43:38.680" style="s2">change this to Port 8,000 as well then</p>
<p begin="13:43:34.680" end="13:43:40.756" style="s2">our request would be Local Host Port</p>
<p begin="13:43:38.680" end="13:43:41.880" style="s2">8,000 so I always like to have the two</p>
<p begin="13:43:40.756" end="13:43:43.560" style="s2">numbers match up because it&#39;s just</p>
<p begin="13:43:41.880" end="13:43:46.320" style="s2">simpler but sometimes that&#39;s not an</p>
<p begin="13:43:43.560" end="13:43:47.520" style="s2">option so uh just pick a open port on</p>
<p begin="13:43:46.320" end="13:43:48.796" style="s2">your Local Host machine it doesn&#39;t</p>
<p begin="13:43:47.520" end="13:43:51.200" style="s2">really matter what it is just make sure</p>
<p begin="13:43:48.796" end="13:43:52.040" style="s2">that you remember what it is and I&#39;m</p>
<p begin="13:43:51.200" end="13:43:53.880" style="s2">going to leave it like that and I&#39;ll</p>
<p begin="13:43:52.040" end="13:43:57.520" style="s2">delete this line right</p>
<p begin="13:43:53.880" end="13:43:59.200" style="s2">here and for now I think this is good</p>
<p begin="13:43:57.520" end="13:44:00.320" style="s2">enough and what we&#39;re going to do is</p>
<p begin="13:43:59.200" end="13:44:02.796" style="s2">we&#39;re going to try to run this and see</p>
<p begin="13:44:00.320" end="13:44:05.596" style="s2">what happens so I&#39;ll say</p>
<p begin="13:44:02.796" end="13:44:07.520" style="s2">docker-compose up and then if I do a</p>
<p begin="13:44:05.596" end="13:44:10.400" style="s2">d-el we can see some other flags that we</p>
<p begin="13:44:07.520" end="13:44:11.840" style="s2">may need and the only flag that I really</p>
<p begin="13:44:10.400" end="13:44:13.796" style="s2">need right now is the Dash D so this is</p>
<p begin="13:44:11.840" end="13:44:14.640" style="s2">going to run the containers in in the</p>
<p begin="13:44:13.796" end="13:44:17.560" style="s2">background so that we&#39;re not</p>
<p begin="13:44:14.640" end="13:44:21.840" style="s2">automatically connected to it so I&#39;ll do</p>
<p begin="13:44:17.560" end="13:44:21.840" style="s2">dash dash oh sorry just-</p>
<p begin="13:44:23.040" end="13:44:27.276" style="s2">D all right and so you&#39;ll see uh if you</p>
<p begin="13:44:25.560" end="13:44:29.160" style="s2">take a look what&#39;s happening is we&#39;re</p>
<p begin="13:44:27.276" end="13:44:30.916" style="s2">rebuilding our image so because we</p>
<p begin="13:44:29.160" end="13:44:32.956" style="s2">specified the build right here it&#39;s</p>
<p begin="13:44:30.916" end="13:44:35.040" style="s2">going to build our</p>
<p begin="13:44:32.956" end="13:44:36.640" style="s2">image and then it&#39;s going to start our</p>
<p begin="13:44:35.040" end="13:44:40.480" style="s2">containers so you can see that it&#39;s</p>
<p begin="13:44:36.640" end="13:44:43.400" style="s2">creating fast API _</p>
<p begin="13:44:40.480" end="13:44:45.596" style="s2">api1 uh and so the the naming syntax</p>
<p begin="13:44:43.400" end="13:44:48.160" style="s2">comes from the project directory so it&#39;s</p>
<p begin="13:44:45.596" end="13:44:50.240" style="s2">called Fast API right so that&#39;s why the</p>
<p begin="13:44:48.160" end="13:44:51.956" style="s2">first word then we do underscore then</p>
<p begin="13:44:50.240" end="13:44:54.276" style="s2">the name of the service so I called this</p>
<p begin="13:44:51.956" end="13:44:55.596" style="s2">service API so then it&#39;s API and then it</p>
<p begin="13:44:54.276" end="13:44:57.040" style="s2">has the number one because there&#39;s one</p>
<p begin="13:44:55.596" end="13:45:00.520" style="s2">instance but if I told it to spin up</p>
<p begin="13:44:57.040" end="13:45:02.680" style="s2">four then I&#39;d have 1 2 3 and four so</p>
<p begin="13:45:00.520" end="13:45:06.360" style="s2">we&#39;ve got our container if I do a Docker</p>
<p begin="13:45:02.680" end="13:45:07.840" style="s2">PS we should be able to see</p>
<p begin="13:45:06.360" end="13:45:10.436" style="s2">nope oh we can see it&#39;s down and that&#39;s</p>
<p begin="13:45:07.840" end="13:45:14.200" style="s2">because if I do a Dr ps-</p>
<p begin="13:45:10.436" end="13:45:16.916" style="s2">a and we can see that this one right</p>
<p begin="13:45:14.200" end="13:45:19.116" style="s2">here looks like it stopped 43 seconds</p>
<p begin="13:45:16.916" end="13:45:23.840" style="s2">ago and so it crashed for whatever</p>
<p begin="13:45:19.116" end="13:45:23.840" style="s2">reason and that&#39;s okay um what we can do</p>
<p begin="13:45:24.116" end="13:45:27.916" style="s2">is I think we can actually see the logs</p>
<p begin="13:45:26.360" end="13:45:31.596" style="s2">after it goes down so if I do Docker</p>
<p begin="13:45:27.916" end="13:45:33.640" style="s2">logs fast API</p>
<p begin="13:45:31.596" end="13:45:35.640" style="s2">1 we can actually take a look at the</p>
<p begin="13:45:33.640" end="13:45:37.436" style="s2">logs at what caused it to go down down</p>
<p begin="13:45:35.640" end="13:45:39.840" style="s2">and we can see a couple things um but we</p>
<p begin="13:45:37.436" end="13:45:42.956" style="s2">can see that we get the penic error uh</p>
<p begin="13:45:39.840" end="13:45:44.756" style="s2">for um our settings object which is all</p>
<p begin="13:45:42.956" end="13:45:46.436" style="s2">of our environment variables so</p>
<p begin="13:45:44.756" end="13:45:48.200" style="s2">obviously a container is like its own</p>
<p begin="13:45:46.436" end="13:45:50.680" style="s2">separate machine so it needs all of the</p>
<p begin="13:45:48.200" end="13:45:52.720" style="s2">environment variables passed to it or</p>
<p begin="13:45:50.680" end="13:45:54.956" style="s2">then our application&#39;s going to</p>
<p begin="13:45:52.720" end="13:45:58.640" style="s2">crash so how do we pass an environment</p>
<p begin="13:45:54.956" end="13:46:01.116" style="s2">variable in uh Docker pretty simple we</p>
<p begin="13:45:58.640" end="13:46:03.400" style="s2">just pass a environment</p>
<p begin="13:46:01.116" end="13:46:05.320" style="s2">field and then here it&#39;s going to</p>
<p begin="13:46:03.400" end="13:46:08.240" style="s2">provide you need to provide an array of</p>
<p begin="13:46:05.320" end="13:46:09.796" style="s2">an environment variable so I do Dash and</p>
<p begin="13:46:08.240" end="13:46:10.956" style="s2">then here we just specify our</p>
<p begin="13:46:09.796" end="13:46:12.520" style="s2">environment variable so I&#39;m actually</p>
<p begin="13:46:10.956" end="13:46:14.520" style="s2">going to copy and paste this section</p>
<p begin="13:46:12.520" end="13:46:16.840" style="s2">right</p>
<p begin="13:46:14.520" end="13:46:19.400" style="s2">here and so these are all of our</p>
<p begin="13:46:16.840" end="13:46:20.560" style="s2">environment variables um keep in mind uh</p>
<p begin="13:46:19.400" end="13:46:21.956" style="s2">if you don&#39;t want to actually write out</p>
<p begin="13:46:20.560" end="13:46:25.040" style="s2">all of your environment variables we can</p>
<p begin="13:46:21.956" end="13:46:27.840" style="s2">actually use Docker to point to aemv</p>
<p begin="13:46:25.040" end="13:46:29.796" style="s2">file or a environment file on your local</p>
<p begin="13:46:27.840" end="13:46:32.320" style="s2">machine and if you want to do that it&#39;s</p>
<p begin="13:46:29.796" end="13:46:35.040" style="s2">pretty simple here we would just specify</p>
<p begin="13:46:32.320" end="13:46:38.080" style="s2">the um</p>
<p begin="13:46:35.040" end="13:46:40.080" style="s2">n Vore</p>
<p begin="13:46:38.080" end="13:46:41.796" style="s2">file and then you can actually provide</p>
<p begin="13:46:40.080" end="13:46:43.080" style="s2">multiple files but in this case you just</p>
<p begin="13:46:41.796" end="13:46:44.720" style="s2">provide the path to the file so it&#39;s</p>
<p begin="13:46:43.080" end="13:46:46.916" style="s2">going to be in the current directory and</p>
<p begin="13:46:44.720" end="13:46:49.040" style="s2">it&#39;s going to be EnV so you can do</p>
<p begin="13:46:46.916" end="13:46:51.116" style="s2">either one or a combination of both um</p>
<p begin="13:46:49.040" end="13:46:52.400" style="s2">I&#39;m just going to use this format so</p>
<p begin="13:46:51.116" end="13:46:53.596" style="s2">that we can see all of the environment</p>
<p begin="13:46:52.400" end="13:46:57.080" style="s2">variables and I&#39;m going to just comment</p>
<p begin="13:46:53.596" end="13:46:59.360" style="s2">this out for now just for documentation</p>
<p begin="13:46:57.080" end="13:47:03.480" style="s2">purposes and now what we&#39;re going to do</p>
<p begin="13:46:59.360" end="13:47:06.720" style="s2">is we&#39;re going to do a Docker compose</p>
<p begin="13:47:03.480" end="13:47:10.520" style="s2">down just to to tear everything</p>
<p begin="13:47:06.720" end="13:47:12.480" style="s2">down and I&#39;m going to bring it back up</p>
<p begin="13:47:10.520" end="13:47:14.956" style="s2">and</p>
<p begin="13:47:12.480" end="13:47:17.200" style="s2">detached and notice this time it didn&#39;t</p>
<p begin="13:47:14.956" end="13:47:19.880" style="s2">build the image so why exactly didn&#39;t it</p>
<p begin="13:47:17.200" end="13:47:22.880" style="s2">build the image well Docker composer is</p>
<p begin="13:47:19.880" end="13:47:25.116" style="s2">very simple all it does is it goes to</p>
<p begin="13:47:22.880" end="13:47:27.756" style="s2">Docker image basically just runs a</p>
<p begin="13:47:25.116" end="13:47:29.276" style="s2">Docker image LS and it looks for the</p>
<p begin="13:47:27.756" end="13:47:31.116" style="s2">image that it would have created and</p>
<p begin="13:47:29.276" end="13:47:32.796" style="s2">there there&#39;s a very specific format</p>
<p begin="13:47:31.116" end="13:47:35.400" style="s2">that he uses which is going to be the</p>
<p begin="13:47:32.796" end="13:47:36.916" style="s2">name of the the folder or the directory</p>
<p begin="13:47:35.400" end="13:47:38.400" style="s2">and then underscore and then the service</p>
<p begin="13:47:36.916" end="13:47:41.560" style="s2">so since it the image was already</p>
<p begin="13:47:38.400" end="13:47:43.956" style="s2">created previously it doesn&#39;t recreate</p>
<p begin="13:47:41.560" end="13:47:45.680" style="s2">it however if you obviously make changes</p>
<p begin="13:47:43.956" end="13:47:47.560" style="s2">to your um to your Docker file and you</p>
<p begin="13:47:45.680" end="13:47:50.320" style="s2">want to make changes then you would have</p>
<p begin="13:47:47.560" end="13:47:53.880" style="s2">to do Docker um up and if you look for</p>
<p begin="13:47:50.320" end="13:47:57.436" style="s2">the flags there should be a dash</p>
<p begin="13:47:53.880" end="13:47:59.680" style="s2">dash uh let&#39;s see build this is going to</p>
<p begin="13:47:57.436" end="13:48:02.160" style="s2">force it to build a new image so keep in</p>
<p begin="13:47:59.680" end="13:48:03.680" style="s2">mind anytime the the image has to change</p>
<p begin="13:48:02.160" end="13:48:05.520" style="s2">um and you&#39;ve already but the image</p>
<p begin="13:48:03.680" end="13:48:07.916" style="s2">already exists then you have to to pass</p>
<p begin="13:48:05.520" end="13:48:09.436" style="s2">in that flag to force Docker compost to</p>
<p begin="13:48:07.916" end="13:48:10.880" style="s2">let it know that hey I made some changes</p>
<p begin="13:48:09.436" end="13:48:13.720" style="s2">I need you to rebuild it for me because</p>
<p begin="13:48:10.880" end="13:48:16.160" style="s2">Docker compost can&#39;t detect</p>
<p begin="13:48:13.720" end="13:48:18.560" style="s2">that all right so now if we do a Docker</p>
<p begin="13:48:16.160" end="13:48:21.480" style="s2">PS we can see that it&#39;s running now and</p>
<p begin="13:48:18.560" end="13:48:23.916" style="s2">it didn&#39;t crash and</p>
<p begin="13:48:21.480" end="13:48:27.080" style="s2">um we should be able to access it on</p>
<p begin="13:48:23.916" end="13:48:30.116" style="s2">Port 88000 so if I actually go here and</p>
<p begin="13:48:27.080" end="13:48:34.756" style="s2">just do local host 8,000 with the get</p>
<p begin="13:48:30.116" end="13:48:34.756" style="s2">request looks like it&#39;s working</p>
<p begin="13:48:35.040" end="13:48:38.796" style="s2">okay so now that we can actually access</p>
<p begin="13:48:36.756" end="13:48:40.276" style="s2">our API which is running in a container</p>
<p begin="13:48:38.796" end="13:48:42.756" style="s2">the next thing that I want to do is I</p>
<p begin="13:48:40.276" end="13:48:43.756" style="s2">want to set up our postgress database</p>
<p begin="13:48:42.756" end="13:48:45.276" style="s2">and you might be thinking well we</p>
<p begin="13:48:43.756" end="13:48:47.240" style="s2">already have one installed on our local</p>
<p begin="13:48:45.276" end="13:48:49.756" style="s2">machine why are we setting up another</p>
<p begin="13:48:47.240" end="13:48:51.080" style="s2">one well couple things first of all if</p>
<p begin="13:48:49.756" end="13:48:52.956" style="s2">we&#39;re already dockerizing our</p>
<p begin="13:48:51.080" end="13:48:55.000" style="s2">environment it makes sense to set up our</p>
<p begin="13:48:52.956" end="13:48:56.680" style="s2">postest database especially from a</p>
<p begin="13:48:55.000" end="13:48:58.756" style="s2">development perspective within a Docker</p>
<p begin="13:48:56.680" end="13:49:01.360" style="s2">container because it&#39;s so much easier to</p>
<p begin="13:48:58.756" end="13:49:03.200" style="s2">set up a database in a container than it</p>
<p begin="13:49:01.360" end="13:49:05.040" style="s2">is to install it on our local machine</p>
<p begin="13:49:03.200" end="13:49:07.040" style="s2">because we just spin up a pre-built IM</p>
<p begin="13:49:05.040" end="13:49:08.160" style="s2">and that&#39;s it so even if you don&#39;t</p>
<p begin="13:49:07.040" end="13:49:09.956" style="s2">actually want to dockerize your</p>
<p begin="13:49:08.160" end="13:49:11.320" style="s2">application from a development</p>
<p begin="13:49:09.956" end="13:49:13.276" style="s2">perspective I strongly recommend you</p>
<p begin="13:49:11.320" end="13:49:15.000" style="s2">make use of Docker containers so that</p>
<p begin="13:49:13.276" end="13:49:17.200" style="s2">you can spin up a quick database just</p>
<p begin="13:49:15.000" end="13:49:18.880" style="s2">for testing purposes but since we</p>
<p begin="13:49:17.200" end="13:49:20.956" style="s2">already have a Docker based application</p>
<p begin="13:49:18.880" end="13:49:22.240" style="s2">now we&#39;re going to just use a post</p>
<p begin="13:49:20.956" end="13:49:24.116" style="s2">database that&#39;s running in a Docker</p>
<p begin="13:49:22.240" end="13:49:26.160" style="s2">container instead of on our local</p>
<p begin="13:49:24.116" end="13:49:28.200" style="s2">machine because if we take a look at the</p>
<p begin="13:49:26.160" end="13:49:30.480" style="s2">environment variables that we pass to</p>
<p begin="13:49:28.200" end="13:49:33.596" style="s2">our container we provide a value of</p>
<p begin="13:49:30.480" end="13:49:36.040" style="s2">Local Host and so Local Host means that</p>
<p begin="13:49:33.596" end="13:49:37.680" style="s2">the container is going to or or the API</p>
<p begin="13:49:36.040" end="13:49:40.160" style="s2">running in the container is going to try</p>
<p begin="13:49:37.680" end="13:49:42.320" style="s2">to access a database running locally on</p>
<p begin="13:49:40.160" end="13:49:44.080" style="s2">that container which it&#39;s not so let&#39;s</p>
<p begin="13:49:42.320" end="13:49:45.276" style="s2">create a brand new service which once</p>
<p begin="13:49:44.080" end="13:49:49.116" style="s2">again is nothing more than another</p>
<p begin="13:49:45.276" end="13:49:51.040" style="s2">container for running our postgress</p>
<p begin="13:49:49.116" end="13:49:52.796" style="s2">database and so I&#39;m going to go down</p>
<p begin="13:49:51.040" end="13:49:54.956" style="s2">here and we&#39;re going to create another</p>
<p begin="13:49:52.796" end="13:49:56.720" style="s2">service called</p>
<p begin="13:49:54.956" end="13:49:59.116" style="s2">postgress and here we&#39;re going to</p>
<p begin="13:49:56.720" end="13:50:00.480" style="s2">provide a image flag right because here</p>
<p begin="13:49:59.116" end="13:50:02.160" style="s2">we did build cuz we&#39;re building our</p>
<p begin="13:50:00.480" end="13:50:04.480" style="s2">Custom Image here we&#39;re going to use the</p>
<p begin="13:50:02.160" end="13:50:06.480" style="s2">pre-built default postgress image so if</p>
<p begin="13:50:04.480" end="13:50:08.756" style="s2">we we go back to dockerhub and search</p>
<p begin="13:50:06.480" end="13:50:11.320" style="s2">for postgress you&#39;ll see this is the</p>
<p begin="13:50:08.756" end="13:50:13.360" style="s2">official postgress</p>
<p begin="13:50:11.320" end="13:50:15.276" style="s2">image and this is going to contain all</p>
<p begin="13:50:13.360" end="13:50:17.080" style="s2">of the documentation for setting up</p>
<p begin="13:50:15.276" end="13:50:18.040" style="s2">postgress um but the main thing is</p>
<p begin="13:50:17.080" end="13:50:19.276" style="s2">there&#39;s a couple of environment</p>
<p begin="13:50:18.040" end="13:50:20.480" style="s2">variables that we have to pass so first</p>
<p begin="13:50:19.276" end="13:50:23.040" style="s2">of all the password that&#39;s going to be</p>
<p begin="13:50:20.480" end="13:50:24.400" style="s2">used for our database uh we can give an</p>
<p begin="13:50:23.040" end="13:50:25.756" style="s2">optional postgress user but it&#39;s going</p>
<p begin="13:50:24.400" end="13:50:27.436" style="s2">to default to postgress if we don&#39;t</p>
<p begin="13:50:25.756" end="13:50:29.756" style="s2">provide it and then we also want to give</p>
<p begin="13:50:27.436" end="13:50:31.240" style="s2">it a postgress database name so we&#39;ll</p>
<p begin="13:50:29.756" end="13:50:33.080" style="s2">call it fast API like we&#39;ve been using</p>
<p begin="13:50:31.240" end="13:50:34.680" style="s2">in our development environment and that</p>
<p begin="13:50:33.080" end="13:50:36.116" style="s2">should be all that we have to do for the</p>
<p begin="13:50:34.680" end="13:50:40.240" style="s2">most</p>
<p begin="13:50:36.116" end="13:50:40.240" style="s2">part so here I&#39;ll say</p>
<p begin="13:50:41.360" end="13:50:46.276" style="s2">environment and we&#39;ll do uh</p>
<p begin="13:50:44.240" end="13:50:48.680" style="s2">postore</p>
<p begin="13:50:46.276" end="13:50:51.596" style="s2">password equals and then um we can give</p>
<p begin="13:50:48.680" end="13:50:54.916" style="s2">this anything we want so password 1 2</p>
<p begin="13:50:51.596" end="13:50:57.080" style="s2">three and then we want postgress DB so</p>
<p begin="13:50:54.916" end="13:50:58.956" style="s2">this is going to be fast</p>
<p begin="13:50:57.080" end="13:51:01.080" style="s2">API all right the next thing that we</p>
<p begin="13:50:58.956" end="13:51:03.200" style="s2">want to do is um when it comes to data</p>
<p begin="13:51:01.080" end="13:51:04.796" style="s2">within a container that data doesn&#39;t</p>
<p begin="13:51:03.200" end="13:51:06.276" style="s2">persist as soon as the container go goes</p>
<p begin="13:51:04.796" end="13:51:08.436" style="s2">down right so when you delete the</p>
<p begin="13:51:06.276" end="13:51:10.160" style="s2">container you lose all of your data</p>
<p begin="13:51:08.436" end="13:51:11.560" style="s2">right and so from a database perspective</p>
<p begin="13:51:10.160" end="13:51:13.596" style="s2">we don&#39;t actually want to lose our data</p>
<p begin="13:51:11.560" end="13:51:15.720" style="s2">we want that to persist even if we kill</p>
<p begin="13:51:13.596" end="13:51:17.080" style="s2">off the container so how do we actually</p>
<p begin="13:51:15.720" end="13:51:20.200" style="s2">save that data we have to create</p>
<p begin="13:51:17.080" end="13:51:21.880" style="s2">something that&#39;s called a volume and um</p>
<p begin="13:51:20.200" end="13:51:23.756" style="s2">that&#39;s what allows us to save data from</p>
<p begin="13:51:21.880" end="13:51:24.956" style="s2">a container onto our local machine so</p>
<p begin="13:51:23.756" end="13:51:27.000" style="s2">that if we kill the container we can</p>
<p begin="13:51:24.956" end="13:51:28.880" style="s2">always spin up a new container and just</p>
<p begin="13:51:27.000" end="13:51:30.880" style="s2">point it to those</p>
<p begin="13:51:28.880" end="13:51:32.320" style="s2">files and there&#39;s a couple of different</p>
<p begin="13:51:30.880" end="13:51:34.160" style="s2">volumes that we can use or types of</p>
<p begin="13:51:32.320" end="13:51:36.596" style="s2">volumes in Docker there&#39;s Anonymous</p>
<p begin="13:51:34.160" end="13:51:38.040" style="s2">volumes named volumes and I think bind</p>
<p begin="13:51:36.596" end="13:51:40.560" style="s2">mounts is the other one we&#39;re going to</p>
<p begin="13:51:38.040" end="13:51:42.916" style="s2">make use of named volumes uh and so to</p>
<p begin="13:51:40.560" end="13:51:46.400" style="s2">create a named volume here under the</p>
<p begin="13:51:42.916" end="13:51:48.480" style="s2">postgress database section or service</p>
<p begin="13:51:46.400" end="13:51:51.436" style="s2">we&#39;re going to say</p>
<p begin="13:51:48.480" end="13:51:53.320" style="s2">volumes and then we say Dash and then</p>
<p begin="13:51:51.436" end="13:51:54.240" style="s2">provide a a name for the volume so you</p>
<p begin="13:51:53.320" end="13:51:56.116" style="s2">call it whatever you want I&#39;m going to</p>
<p begin="13:51:54.240" end="13:51:58.240" style="s2">call this postgress</p>
<p begin="13:51:56.116" end="13:52:00.916" style="s2">ddb right and then we have to specify</p>
<p begin="13:51:58.240" end="13:52:02.756" style="s2">the path in the container that we want</p>
<p begin="13:52:00.916" end="13:52:05.200" style="s2">to actually save so what directory do we</p>
<p begin="13:52:02.756" end="13:52:06.916" style="s2">want to persist on our local machine</p>
<p begin="13:52:05.200" end="13:52:09.560" style="s2">and the path that the postgress</p>
<p begin="13:52:06.916" end="13:52:10.680" style="s2">container or image actually stores all</p>
<p begin="13:52:09.560" end="13:52:12.560" style="s2">of its data we can actually take a look</p>
<p begin="13:52:10.680" end="13:52:15.240" style="s2">at the documentation to figure this out</p>
<p begin="13:52:12.560" end="13:52:16.916" style="s2">so if you search for volume and so right</p>
<p begin="13:52:15.240" end="13:52:18.240" style="s2">here this gives us an example and this</p>
<p begin="13:52:16.916" end="13:52:22.160" style="s2">is going to tell us what we need to know</p>
<p begin="13:52:18.240" end="13:52:23.840" style="s2">so we want to save SLV bar/ lib post SQL</p>
<p begin="13:52:22.160" end="13:52:26.560" style="s2">slata so that&#39;s where it&#39;s going to save</p>
<p begin="13:52:23.840" end="13:52:28.200" style="s2">all that data so we&#39;ll copy that and</p>
<p begin="13:52:26.560" end="13:52:30.240" style="s2">once again this is the path in the</p>
<p begin="13:52:28.200" end="13:52:31.560" style="s2">container that postgress is going to</p>
<p begin="13:52:30.240" end="13:52:33.240" style="s2">write to so that&#39;s where all of our</p>
<p begin="13:52:31.560" end="13:52:34.596" style="s2">tables all of the entries are going to</p>
<p begin="13:52:33.240" end="13:52:36.956" style="s2">get stored so we want to copy that</p>
<p begin="13:52:34.596" end="13:52:38.756" style="s2">essentially and save it on our local</p>
<p begin="13:52:36.956" end="13:52:41.200" style="s2">machine and the last thing that we want</p>
<p begin="13:52:38.756" end="13:52:43.640" style="s2">to do is anytime you use named volumes</p>
<p begin="13:52:41.200" end="13:52:46.040" style="s2">we have to create another volume section</p>
<p begin="13:52:43.640" end="13:52:48.596" style="s2">globally and then just pass the</p>
<p begin="13:52:46.040" end="13:52:51.240" style="s2">name uh that we created so whatever is</p>
<p begin="13:52:48.596" end="13:52:52.436" style="s2">here you just put it down here and the</p>
<p begin="13:52:51.240" end="13:52:53.880" style="s2">reason we have to do this is because</p>
<p begin="13:52:52.436" end="13:52:55.436" style="s2">named volumes are designed so that</p>
<p begin="13:52:53.880" end="13:52:57.796" style="s2">technically multiple containers can</p>
<p begin="13:52:55.436" end="13:52:59.436" style="s2">access them so you define it down here</p>
<p begin="13:52:57.796" end="13:53:00.840" style="s2">first technically and then multiple</p>
<p begin="13:52:59.436" end="13:53:04.880" style="s2">containers can reference them by just</p>
<p begin="13:53:00.840" end="13:53:07.560" style="s2">calling that all right so we&#39;ve got this</p>
<p begin="13:53:04.880" end="13:53:09.320" style="s2">set up and actually I realized I left my</p>
<p begin="13:53:07.560" end="13:53:10.916" style="s2">containers running so what I&#39;m going to</p>
<p begin="13:53:09.320" end="13:53:13.596" style="s2">do is I&#39;m going to comment this out for</p>
<p begin="13:53:10.916" end="13:53:15.000" style="s2">a second save this and I&#39;m going to do a</p>
<p begin="13:53:13.596" end="13:53:18.276" style="s2">Docker</p>
<p begin="13:53:15.000" end="13:53:20.240" style="s2">compose down so that&#39;s going to delete</p>
<p begin="13:53:18.276" end="13:53:21.680" style="s2">everything then we&#39;ll uncomment our</p>
<p begin="13:53:20.240" end="13:53:23.756" style="s2">postr</p>
<p begin="13:53:21.680" end="13:53:26.916" style="s2">service then the next thing that we want</p>
<p begin="13:53:23.756" end="13:53:29.276" style="s2">to do is we have to figure out you know</p>
<p begin="13:53:26.916" end="13:53:32.796" style="s2">what is the host name or what&#39;s the IP</p>
<p begin="13:53:29.276" end="13:53:33.956" style="s2">address of our postgress database and um</p>
<p begin="13:53:32.796" end="13:53:36.720" style="s2">you know there&#39;s a couple different ways</p>
<p begin="13:53:33.956" end="13:53:38.276" style="s2">to do that um but what&#39;s awesome about</p>
<p begin="13:53:36.720" end="13:53:40.680" style="s2">Docker is when you use Docker compos it</p>
<p begin="13:53:38.276" end="13:53:43.200" style="s2">creates a custom Network and a Docker</p>
<p begin="13:53:40.680" end="13:53:45.000" style="s2">network uh uses DNS so we can actually</p>
<p begin="13:53:43.200" end="13:53:46.360" style="s2">say to reach the postgress database</p>
<p begin="13:53:45.000" end="13:53:48.680" style="s2">instead of like looking for the IP</p>
<p begin="13:53:46.360" end="13:53:51.756" style="s2">address of that container we can use DNS</p>
<p begin="13:53:48.680" end="13:53:52.720" style="s2">and I can just say if I try to reach the</p>
<p begin="13:53:51.756" end="13:53:54.596" style="s2">name</p>
<p begin="13:53:52.720" end="13:53:57.040" style="s2">postgress right it&#39;s automatically going</p>
<p begin="13:53:54.596" end="13:53:58.640" style="s2">to resolve to our postgress service so</p>
<p begin="13:53:57.040" end="13:54:00.436" style="s2">whatever our service is called we can</p>
<p begin="13:53:58.640" end="13:54:01.796" style="s2">just reference that and this is going to</p>
<p begin="13:54:00.436" end="13:54:03.916" style="s2">allow this container to know that when</p>
<p begin="13:54:01.796" end="13:54:05.560" style="s2">you want to talk to the postc database</p>
<p begin="13:54:03.916" end="13:54:07.116" style="s2">this name here is going to resolve to</p>
<p begin="13:54:05.560" end="13:54:09.436" style="s2">the IP address of this</p>
<p begin="13:54:07.116" end="13:54:11.480" style="s2">container and so networking with Docker</p>
<p begin="13:54:09.436" end="13:54:13.200" style="s2">within Docker is so simple because</p>
<p begin="13:54:11.480" end="13:54:14.680" style="s2">that&#39;s all we have to do and then the</p>
<p begin="13:54:13.200" end="13:54:16.680" style="s2">rest of the things the default Port the</p>
<p begin="13:54:14.680" end="13:54:18.276" style="s2">password the database name the database</p>
<p begin="13:54:16.680" end="13:54:19.560" style="s2">username those should all be okay and we</p>
<p begin="13:54:18.276" end="13:54:24.796" style="s2">can just leave as</p>
<p begin="13:54:19.560" end="13:54:24.796" style="s2">default and now I can then start this</p>
<p begin="13:54:26.320" end="13:54:29.796" style="s2">up and it looks like image something&#39;s</p>
<p begin="13:54:28.560" end="13:54:32.640" style="s2">wrong with the image I forgot to give</p>
<p begin="13:54:29.796" end="13:54:35.840" style="s2">the image so what&#39;s the image</p>
<p begin="13:54:32.640" end="13:54:39.116" style="s2">name it&#39;s just post gu so that&#39;s just</p>
<p begin="13:54:35.840" end="13:54:39.116" style="s2">whatever this name is that&#39;s all you</p>
<p begin="13:54:46.080" end="13:54:51.436" style="s2">need all right and so now we can see</p>
<p begin="13:54:48.680" end="13:54:53.796" style="s2">that it started up</p>
<p begin="13:54:51.436" end="13:54:56.200" style="s2">both uh let&#39;s just quickly test our API</p>
<p begin="13:54:53.796" end="13:54:57.796" style="s2">so we didn&#39;t break anything so that</p>
<p begin="13:54:56.200" end="13:54:59.916" style="s2">works and then let&#39;s go to create user</p>
<p begin="13:54:57.796" end="13:55:03.000" style="s2">make sure it&#39;s point to Port 8,000 in</p>
<p begin="13:54:59.916" end="13:55:05.040" style="s2">this case and if we create</p>
<p begin="13:55:03.000" end="13:55:06.956" style="s2">user right you can see that we have</p>
<p begin="13:55:05.040" end="13:55:09.320" style="s2">successfully created the user so it</p>
<p begin="13:55:06.956" end="13:55:12.240" style="s2">looks like we can now access the um the</p>
<p begin="13:55:09.320" end="13:55:14.596" style="s2">database from our fast API</p>
<p begin="13:55:12.240" end="13:55:17.320" style="s2">container now what I&#39;m going to do now</p>
<p begin="13:55:14.596" end="13:55:18.916" style="s2">is delete everything again so docka</p>
<p begin="13:55:17.320" end="13:55:20.916" style="s2">compos down deletes everything and you</p>
<p begin="13:55:18.916" end="13:55:22.200" style="s2">can see I&#39;m essentially able to destroy</p>
<p begin="13:55:20.916" end="13:55:23.400" style="s2">both of my containers with a single</p>
<p begin="13:55:22.200" end="13:55:26.000" style="s2">command and that&#39;s kind of the power</p>
<p begin="13:55:23.400" end="13:55:27.840" style="s2">behind docka compose and ideally we want</p>
<p begin="13:55:26.000" end="13:55:30.596" style="s2">our postgress container to start up</p>
<p begin="13:55:27.840" end="13:55:33.240" style="s2">first because our API is dependent on</p>
<p begin="13:55:30.596" end="13:55:35.200" style="s2">the container so uh for our API we can</p>
<p begin="13:55:33.240" end="13:55:37.956" style="s2">pass in another opt</p>
<p begin="13:55:35.200" end="13:55:40.956" style="s2">and I can say depends</p>
<p begin="13:55:37.956" end="13:55:43.480" style="s2">on and here we can specify a list of</p>
<p begin="13:55:40.956" end="13:55:44.956" style="s2">services in this case just postgress and</p>
<p begin="13:55:43.480" end="13:55:46.596" style="s2">so this is going to tell Docker I want</p>
<p begin="13:55:44.956" end="13:55:49.400" style="s2">you to start the postgress container</p>
<p begin="13:55:46.596" end="13:55:51.756" style="s2">before the API container</p>
<p begin="13:55:49.400" end="13:55:53.400" style="s2">Starts Now technically it&#39;s not going to</p>
<p begin="13:55:51.756" end="13:55:54.520" style="s2">wait for postgress to actually fully</p>
<p begin="13:55:53.400" end="13:55:56.240" style="s2">initialize it&#39;ll just start the</p>
<p begin="13:55:54.520" end="13:55:58.116" style="s2">container so you still want to put in</p>
<p begin="13:55:56.240" end="13:55:59.720" style="s2">checks in your code to make sure that um</p>
<p begin="13:55:58.116" end="13:56:01.400" style="s2">you know if you can&#39;t access the</p>
<p begin="13:55:59.720" end="13:56:02.680" style="s2">database because it&#39;s not initialized</p>
<p begin="13:56:01.400" end="13:56:05.200" style="s2">you want to keep</p>
<p begin="13:56:02.680" end="13:56:07.916" style="s2">retrying and so once once again we can</p>
<p begin="13:56:05.200" end="13:56:09.680" style="s2">bring this back up with a single</p>
<p begin="13:56:07.916" end="13:56:11.080" style="s2">command and if you take a look at the</p>
<p begin="13:56:09.680" end="13:56:13.200" style="s2">order you can see that we started up the</p>
<p begin="13:56:11.080" end="13:56:14.796" style="s2">database first so now you&#39;ll always</p>
<p begin="13:56:13.200" end="13:56:17.360" style="s2">start up your database first and then</p>
<p begin="13:56:14.796" end="13:56:19.160" style="s2">start up fast API and then you&#39;ll stop</p>
<p begin="13:56:17.360" end="13:56:21.596" style="s2">fast API first before stopping the</p>
<p begin="13:56:19.160" end="13:56:23.520" style="s2">database because we set up the</p>
<p begin="13:56:21.596" end="13:56:25.560" style="s2">dependon when it comes to working with</p>
<p begin="13:56:23.520" end="13:56:27.680" style="s2">doer containers we do experience a few</p>
<p begin="13:56:25.560" end="13:56:29.756" style="s2">extra challenges uh especially from a</p>
<p begin="13:56:27.680" end="13:56:31.400" style="s2">development perspective and I&#39;m going to</p>
<p begin="13:56:29.756" end="13:56:33.200" style="s2">show you how those challenges actually</p>
<p begin="13:56:31.400" end="13:56:35.276" style="s2">work uh or what those challenges</p>
<p begin="13:56:33.200" end="13:56:38.840" style="s2">actually are and uh if I actually go</p>
<p begin="13:56:35.276" end="13:56:42.436" style="s2">back to my my test request wherever that</p>
<p begin="13:56:38.840" end="13:56:45.436" style="s2">is where I&#39;m just going to reach the</p>
<p begin="13:56:42.436" end="13:56:47.720" style="s2">default URL so if I hit send you can see</p>
<p begin="13:56:45.436" end="13:56:49.880" style="s2">it says hello world pushing out to auntu</p>
<p begin="13:56:47.720" end="13:56:51.276" style="s2">right and that&#39;s because in my main.py</p>
<p begin="13:56:49.880" end="13:56:54.840" style="s2">file it just says hello world pushing</p>
<p begin="13:56:51.276" end="13:56:58.240" style="s2">out to auntu now if I save</p>
<p begin="13:56:54.840" end="13:56:59.720" style="s2">this or change this and then save this</p>
<p begin="13:56:58.240" end="13:57:01.796" style="s2">and then I send a</p>
<p begin="13:56:59.720" end="13:57:03.480" style="s2">request right we still get the same</p>
<p begin="13:57:01.796" end="13:57:06.720" style="s2">response I don&#39;t get the the new text</p>
<p begin="13:57:03.480" end="13:57:08.116" style="s2">that I added so why is that well there&#39;s</p>
<p begin="13:57:06.720" end="13:57:09.596" style="s2">a couple things that are happening but</p>
<p begin="13:57:08.116" end="13:57:11.320" style="s2">the the easiest way to figure this out</p>
<p begin="13:57:09.596" end="13:57:12.480" style="s2">is to actually poke around in your</p>
<p begin="13:57:11.320" end="13:57:14.000" style="s2">container and figure out what&#39;s</p>
<p begin="13:57:12.480" end="13:57:16.116" style="s2">happening so I&#39;m going to do Docker</p>
<p begin="13:57:14.000" end="13:57:18.200" style="s2">PS and I want to see what the file</p>
<p begin="13:57:16.116" end="13:57:20.640" style="s2">system of fast API container actually</p>
<p begin="13:57:18.200" end="13:57:23.560" style="s2">looks like so to do that we do Docker</p>
<p begin="13:57:20.640" end="13:57:26.796" style="s2">exac dasit so that&#39;s going to um enter</p>
<p begin="13:57:23.560" end="13:57:30.000" style="s2">into interactive mode we specify the</p>
<p begin="13:57:26.796" end="13:57:31.916" style="s2">container name and then we type in the</p>
<p begin="13:57:30.000" end="13:57:33.560" style="s2">word bash so what we&#39;re doing is we&#39;re</p>
<p begin="13:57:31.916" end="13:57:35.436" style="s2">entering interactive mode and we&#39;re</p>
<p begin="13:57:33.560" end="13:57:38.080" style="s2">going to over ride the default command</p>
<p begin="13:57:35.436" end="13:57:39.956" style="s2">of the container so the default command</p>
<p begin="13:57:38.080" end="13:57:41.320" style="s2">is specified right here from the docker</p>
<p begin="13:57:39.956" end="13:57:42.520" style="s2">file so we don&#39;t want to run that we</p>
<p begin="13:57:41.320" end="13:57:45.840" style="s2">just want to run bash which is going to</p>
<p begin="13:57:42.520" end="13:57:45.840" style="s2">allow us to access the file</p>
<p begin="13:57:47.436" end="13:57:53.436" style="s2">system that&#39;s the image name so the name</p>
<p begin="13:57:49.720" end="13:57:55.240" style="s2">of the container is fast api1 so let me</p>
<p begin="13:57:53.436" end="13:57:57.680" style="s2">add the</p>
<p begin="13:57:55.240" end="13:57:59.480" style="s2">one so now you can see that we&#39;re we get</p>
<p begin="13:57:57.680" end="13:58:00.596" style="s2">a Linux prompt so we&#39;re in the Linux</p>
<p begin="13:57:59.480" end="13:58:04.880" style="s2">file</p>
<p begin="13:58:00.596" end="13:58:07.916" style="s2">system and if I go into app</p>
<p begin="13:58:04.880" end="13:58:09.116" style="s2">and then go into um if I do cat which is</p>
<p begin="13:58:07.916" end="13:58:10.680" style="s2">going to print out the contents of a</p>
<p begin="13:58:09.116" end="13:58:12.840" style="s2">file we&#39;ll take a look at the main.py</p>
<p begin="13:58:10.680" end="13:58:15.240" style="s2">file and you can see that it just says</p>
<p begin="13:58:12.840" end="13:58:16.436" style="s2">hello world pushing out to a buntu so</p>
<p begin="13:58:15.240" end="13:58:18.520" style="s2">when I made these</p>
<p begin="13:58:16.436" end="13:58:20.116" style="s2">changes uh and added these extra</p>
<p begin="13:58:18.520" end="13:58:22.000" style="s2">characters it didn&#39;t get pushed out to</p>
<p begin="13:58:20.116" end="13:58:24.040" style="s2">our container and if you&#39;re trying to</p>
<p begin="13:58:22.000" end="13:58:27.560" style="s2">figure out why that is it&#39;s pretty</p>
<p begin="13:58:24.040" end="13:58:30.436" style="s2">obvious right because what we did was we</p>
<p begin="13:58:27.560" end="13:58:32.756" style="s2">created a image which copied all of our</p>
<p begin="13:58:30.436" end="13:58:34.680" style="s2">code here at that point in time and then</p>
<p begin="13:58:32.756" end="13:58:38.160" style="s2">when we did a Docker compose up</p>
<p begin="13:58:34.680" end="13:58:40.916" style="s2">it created the image and then that was</p>
<p begin="13:58:38.160" end="13:58:42.520" style="s2">it right nothing else changes right</p>
<p begin="13:58:40.916" end="13:58:44.480" style="s2">afterwards we went in and change the</p>
<p begin="13:58:42.520" end="13:58:46.040" style="s2">code but the image was already created</p>
<p begin="13:58:44.480" end="13:58:48.240" style="s2">so whatever is in the image nothing</p>
<p begin="13:58:46.040" end="13:58:50.080" style="s2">changes after that point so any changes</p>
<p begin="13:58:48.240" end="13:58:52.320" style="s2">we make will not get copied over to our</p>
<p begin="13:58:50.080" end="13:58:54.400" style="s2">container so what do we do in this case</p>
<p begin="13:58:52.320" end="13:58:56.320" style="s2">how do we get around this</p>
<p begin="13:58:54.400" end="13:58:58.480" style="s2">limitation well what we can do is we can</p>
<p begin="13:58:56.320" end="13:59:00.320" style="s2">make use of a special volume called bind</p>
<p begin="13:58:58.480" end="13:59:02.360" style="s2">Mount and a bind Mount is a special</p>
<p begin="13:59:00.320" end="13:59:04.320" style="s2">volume because it allows us to sync a</p>
<p begin="13:59:02.360" end="13:59:08.160" style="s2">folder on our local machine which with a</p>
<p begin="13:59:04.320" end="13:59:10.520" style="s2">folder in our container so this app</p>
<p begin="13:59:08.160" end="13:59:12.000" style="s2">folder which has all of our application</p>
<p begin="13:59:10.520" end="13:59:14.116" style="s2">code what we want to do is we want to</p>
<p begin="13:59:12.000" end="13:59:15.720" style="s2">sync this folder in our container with</p>
<p begin="13:59:14.116" end="13:59:17.720" style="s2">this folder here so that if any changes</p>
<p begin="13:59:15.720" end="13:59:20.320" style="s2">get made here it&#39;s going to get copied</p>
<p begin="13:59:17.720" end="13:59:22.116" style="s2">over to our container and so under</p>
<p begin="13:59:20.320" end="13:59:26.360" style="s2">volumes in our API we&#39;re going to define</p>
<p begin="13:59:22.116" end="13:59:28.276" style="s2">a volume here and I&#39;ll say uh</p>
<p begin="13:59:26.360" end="13:59:30.276" style="s2">volumes right just like we did with</p>
<p begin="13:59:28.276" end="13:59:31.796" style="s2">postgress very similar except we&#39;re</p>
<p begin="13:59:30.276" end="13:59:34.200" style="s2">going to use a different syntax CU this</p>
<p begin="13:59:31.796" end="13:59:36.240" style="s2">is a bind Mount so a bind mount we have</p>
<p begin="13:59:34.200" end="13:59:37.880" style="s2">to first provide the path uh of the</p>
<p begin="13:59:36.240" end="13:59:40.320" style="s2">folder that we want to sync on our local</p>
<p begin="13:59:37.880" end="13:59:42.880" style="s2">machine so this is our current directory</p>
<p begin="13:59:40.320" end="13:59:45.560" style="s2">so we can just do</p>
<p begin="13:59:42.880" end="13:59:47.080" style="s2">slash for current directory but if you</p>
<p begin="13:59:45.560" end="13:59:48.436" style="s2">wanted to sync just one individual</p>
<p begin="13:59:47.080" end="13:59:50.720" style="s2">folder maybe like the app folder then</p>
<p begin="13:59:48.436" end="13:59:52.400" style="s2">you can do slapp up to you but I&#39;m going</p>
<p begin="13:59:50.720" end="13:59:54.680" style="s2">to sync everything and then we have to</p>
<p begin="13:59:52.400" end="13:59:58.200" style="s2">specify the path in our Docker container</p>
<p begin="13:59:54.680" end="13:59:58.200" style="s2">which is going to be this folder right</p>
<p begin="13:59:59.680" end="14:00:04.680" style="s2">here and that&#39;s going to automatically</p>
<p begin="14:00:01.956" end="14:00:06.200" style="s2">sync the the two folders and if you</p>
<p begin="14:00:04.680" end="14:00:09.640" style="s2">wanted to add some extra security you</p>
<p begin="14:00:06.200" end="14:00:11.720" style="s2">can do ro this means read only so what</p>
<p begin="14:00:09.640" end="14:00:13.916" style="s2">this does is this makes it so your</p>
<p begin="14:00:11.720" end="14:00:16.116" style="s2">container can&#39;t change uh any of these</p>
<p begin="14:00:13.916" end="14:00:18.080" style="s2">files because only we should be changing</p>
<p begin="14:00:16.116" end="14:00:19.276" style="s2">the files not the container itself so</p>
<p begin="14:00:18.080" end="14:00:21.000" style="s2">this just adds a little bit of extra</p>
<p begin="14:00:19.276" end="14:00:23.160" style="s2">security if you wanted to but it&#39;s still</p>
<p begin="14:00:21.000" end="14:00:25.796" style="s2">technically</p>
<p begin="14:00:23.160" end="14:00:29.360" style="s2">optional and let me exit out of here and</p>
<p begin="14:00:25.796" end="14:00:29.360" style="s2">now we&#39;ll do a docker-compose</p>
<p begin="14:00:31.640" end="14:00:35.916" style="s2">down and we&#39;ll do a Docker compose up</p>
<p begin="14:00:36.596" end="14:00:41.520" style="s2">again and now</p>
<p begin="14:00:39.200" end="14:00:44.880" style="s2">let&#39;s just change this together all</p>
<p begin="14:00:41.520" end="14:00:45.720" style="s2">together so um bind Mount works so if we</p>
<p begin="14:00:44.880" end="14:00:47.796" style="s2">see</p>
<p begin="14:00:45.720" end="14:00:51.320" style="s2">that that means everything&#39;s working so</p>
<p begin="14:00:47.796" end="14:00:55.560" style="s2">let&#39;s save it and if I send we can see</p>
<p begin="14:00:51.320" end="14:00:57.720" style="s2">that I get the old one now right uh so</p>
<p begin="14:00:55.560" end="14:01:00.116" style="s2">whatever I changed here doesn&#39;t get</p>
<p begin="14:00:57.720" end="14:01:00.116" style="s2">copied</p>
<p begin="14:01:01.160" end="14:01:05.640" style="s2">over so it looks like we didn&#39;t fix the</p>
<p begin="14:01:03.916" end="14:01:07.796" style="s2">issue so let&#39;s actually take a look and</p>
<p begin="14:01:05.640" end="14:01:09.640" style="s2">see what&#39;s happening and so how do we do</p>
<p begin="14:01:07.796" end="14:01:12.560" style="s2">that we&#39;ll do the docker exec command</p>
<p begin="14:01:09.640" end="14:01:13.720" style="s2">again to go into the file system let&#39;s</p>
<p begin="14:01:12.560" end="14:01:17.360" style="s2">go into the app</p>
<p begin="14:01:13.720" end="14:01:19.520" style="s2">folder and let&#39;s cat that main.py file</p>
<p begin="14:01:17.360" end="14:01:21.720" style="s2">and this is interesting because it looks</p>
<p begin="14:01:19.520" end="14:01:24.520" style="s2">like the bind Mount did work because we</p>
<p begin="14:01:21.720" end="14:01:28.080" style="s2">can see that the code got updated and if</p>
<p begin="14:01:24.520" end="14:01:30.160" style="s2">I make another change again uh this time</p>
<p begin="14:01:28.080" end="14:01:34.080" style="s2">let&#39;s just add</p>
<p begin="14:01:30.160" end="14:01:36.000" style="s2">um sort of</p>
<p begin="14:01:34.080" end="14:01:38.360" style="s2">and if I cat this again we can see that</p>
<p begin="14:01:36.000" end="14:01:39.880" style="s2">it&#39;s in there so the bind Mount is</p>
<p begin="14:01:38.360" end="14:01:42.560" style="s2">working and it&#39;s syncing the code with</p>
<p begin="14:01:39.880" end="14:01:44.880" style="s2">our local directory and our container</p>
<p begin="14:01:42.560" end="14:01:48.756" style="s2">but there&#39;s one issue and if I go back</p>
<p begin="14:01:44.880" end="14:01:50.916" style="s2">to my Docker file you can see that I</p>
<p begin="14:01:48.756" end="14:01:52.916" style="s2">have my command right here but this</p>
<p begin="14:01:50.916" end="14:01:54.916" style="s2">doesn&#39;t have the-- reload flag which is</p>
<p begin="14:01:52.916" end="14:01:56.276" style="s2">what we need to restart the application</p>
<p begin="14:01:54.916" end="14:01:58.560" style="s2">so anytime we make changes to our code</p>
<p begin="14:01:56.276" end="14:02:00.160" style="s2">we need to automatically reload uh when</p>
<p begin="14:01:58.560" end="14:02:02.080" style="s2">it detects any changes so that we can</p>
<p begin="14:02:00.160" end="14:02:03.560" style="s2">actually see the new application and we</p>
<p begin="14:02:02.080" end="14:02:05.956" style="s2">didn&#39;t provide that in the docker file</p>
<p begin="14:02:03.560" end="14:02:07.320" style="s2">and so so that&#39;s why it&#39;s not working so</p>
<p begin="14:02:05.956" end="14:02:09.276" style="s2">this is actually a pretty simple fix we</p>
<p begin="14:02:07.320" end="14:02:11.640" style="s2">just add the D- reload flag so let&#39;s</p>
<p begin="14:02:09.276" end="14:02:14.360" style="s2">tear everything</p>
<p begin="14:02:11.640" end="14:02:18.596" style="s2">down and we have a couple options so I</p>
<p begin="14:02:14.360" end="14:02:20.640" style="s2">can go here and say-- reload and that&#39;s</p>
<p begin="14:02:18.596" end="14:02:22.480" style="s2">would work just fine but instead of</p>
<p begin="14:02:20.640" end="14:02:23.956" style="s2">doing that what I would rather do is I</p>
<p begin="14:02:22.480" end="14:02:25.160" style="s2">like this default one because this is</p>
<p begin="14:02:23.956" end="14:02:26.720" style="s2">the one you technically use in</p>
<p begin="14:02:25.160" end="14:02:28.520" style="s2">production because you don&#39;t want you</p>
<p begin="14:02:26.720" end="14:02:30.796" style="s2">don&#39;t want Dash uh Dash reload and</p>
<p begin="14:02:28.520" end="14:02:34.080" style="s2">production um but in our Docker compose</p>
<p begin="14:02:30.796" end="14:02:39.320" style="s2">file we can actually overwrite it so we</p>
<p begin="14:02:34.080" end="14:02:39.320" style="s2">can provide another um flag called</p>
<p begin="14:02:41.116" end="14:02:45.520" style="s2">command and here we can provide a</p>
<p begin="14:02:43.480" end="14:02:47.880" style="s2">command to overwrite that uh from the</p>
<p begin="14:02:45.520" end="14:02:50.200" style="s2">docker file so I&#39;ll say uh</p>
<p begin="14:02:47.880" end="14:02:53.720" style="s2">Docker sorry UV</p>
<p begin="14:02:50.200" end="14:02:53.720" style="s2">corn app.</p>
<p begin="14:02:53.756" end="14:02:59.560" style="s2">main app-- host</p>
<p begin="14:02:57.720" end="14:03:05.436" style="s2">0000</p>
<p begin="14:02:59.560" end="14:03:05.436" style="s2">d-port 8,000 -- reload</p>
<p begin="14:03:05.560" end="14:03:11.200" style="s2">all right and let&#39;s bring this back</p>
<p begin="14:03:08.720" end="14:03:13.720" style="s2">up let&#39;s just see what it is currently</p>
<p begin="14:03:11.200" end="14:03:15.276" style="s2">right now so we got whatever it is now</p>
<p begin="14:03:13.720" end="14:03:18.276" style="s2">and let&#39;s make a quick</p>
<p begin="14:03:15.276" end="14:03:21.596" style="s2">change and I&#39;ll just delete all of this</p>
<p begin="14:03:18.276" end="14:03:21.596" style="s2">and change this back to hello</p>
<p begin="14:03:22.080" end="14:03:27.360" style="s2">world and let&#39;s test this out and we can</p>
<p begin="14:03:25.276" end="14:03:29.240" style="s2">see that it does successfully update and</p>
<p begin="14:03:27.360" end="14:03:31.796" style="s2">so now our bind Mount works and we</p>
<p begin="14:03:29.240" end="14:03:33.720" style="s2">automatically restart a code so our</p>
<p begin="14:03:31.796" end="14:03:36.116" style="s2">development environment more close</p>
<p begin="14:03:33.720" end="14:03:39.560" style="s2">closely matches up with what was uh what</p>
<p begin="14:03:36.116" end="14:03:41.756" style="s2">we had before before we move to Docker</p>
<p begin="14:03:39.560" end="14:03:43.560" style="s2">okay so if you haven&#39;t already done so</p>
<p begin="14:03:41.756" end="14:03:45.916" style="s2">go ahead and create an account on</p>
<p begin="14:03:43.560" end="14:03:47.400" style="s2">dockerhub it&#39;s a free account but I want</p>
<p begin="14:03:45.916" end="14:03:49.640" style="s2">to show you guys how we can set up a</p>
<p begin="14:03:47.400" end="14:03:52.360" style="s2">repository on dockerhub so that we can</p>
<p begin="14:03:49.640" end="14:03:55.520" style="s2">actually store our images here and so</p>
<p begin="14:03:52.360" end="14:03:59.320" style="s2">Docker Hub is kind of like the uh the</p>
<p begin="14:03:55.520" end="14:04:02.276" style="s2">docker equivalent of GitHub where it&#39;s</p>
<p begin="14:03:59.320" end="14:04:04.080" style="s2">kind of acting as a repository um but</p>
<p begin="14:04:02.276" end="14:04:06.320" style="s2">instead of a repository for our code</p>
<p begin="14:04:04.080" end="14:04:08.040" style="s2">it&#39;s a repository for our images so we</p>
<p begin="14:04:06.320" end="14:04:09.520" style="s2">can upload our images anytime we make a</p>
<p begin="14:04:08.040" end="14:04:11.720" style="s2">new image we can actually upload it so</p>
<p begin="14:04:09.520" end="14:04:14.320" style="s2">that we can track changes to our images</p>
<p begin="14:04:11.720" end="14:04:15.756" style="s2">over time so make an account and then we</p>
<p begin="14:04:14.320" end="14:04:17.640" style="s2">want to go into</p>
<p begin="14:04:15.756" end="14:04:18.680" style="s2">repositories and we want to select</p>
<p begin="14:04:17.640" end="14:04:20.880" style="s2">create</p>
<p begin="14:04:18.680" end="14:04:21.796" style="s2">repository and then give this uh a name</p>
<p begin="14:04:20.880" end="14:04:22.756" style="s2">it doesn&#39;t really matter what you want</p>
<p begin="14:04:21.796" end="14:04:24.880" style="s2">to call it I&#39;m just going to call it</p>
<p begin="14:04:22.756" end="14:04:27.080" style="s2">fast API and then we&#39;re going to do</p>
<p begin="14:04:24.880" end="14:04:30.596" style="s2">public because you only get one private</p>
<p begin="14:04:27.080" end="14:04:32.880" style="s2">repository and so now we have a private</p>
<p begin="14:04:30.596" end="14:04:34.596" style="s2">repos well it&#39;s a public repository and</p>
<p begin="14:04:32.880" end="14:04:36.080" style="s2">so this is the UR to the repository</p>
<p begin="14:04:34.596" end="14:04:38.000" style="s2">which is going to be your username this</p>
<p begin="14:04:36.080" end="14:04:39.720" style="s2">is my username and then this is the name</p>
<p begin="14:04:38.000" end="14:04:42.956" style="s2">that I gave it so fast</p>
<p begin="14:04:39.720" end="14:04:43.880" style="s2">API uh and so now what I want to do is I</p>
<p begin="14:04:42.956" end="14:04:48.200" style="s2">have an</p>
<p begin="14:04:43.880" end="14:04:52.160" style="s2">image right if I do Docker image</p>
<p begin="14:04:48.200" end="14:04:54.360" style="s2">LS we can see that I have my fast API</p>
<p begin="14:04:52.160" end="14:04:56.116" style="s2">API uh this is going to be the image</p>
<p begin="14:04:54.360" end="14:05:00.320" style="s2">that I want and so how do I actually</p>
<p begin="14:04:56.116" end="14:05:02.116" style="s2">upload this image to um uh to Docker Hub</p>
<p begin="14:05:00.320" end="14:05:06.320" style="s2">well there&#39;s a command called Docker</p>
<p begin="14:05:02.116" end="14:05:06.320" style="s2">push right so if I do a Docker push</p>
<p begin="14:05:06.436" end="14:05:11.436" style="s2">d-el you just pass in Docker push and</p>
<p begin="14:05:09.040" end="14:05:14.520" style="s2">then the name of the image so let&#39;s try</p>
<p begin="14:05:11.436" end="14:05:14.520" style="s2">doing that we&#39;ll do Docker</p>
<p begin="14:05:15.360" end="14:05:18.956" style="s2">push and then the name of the image</p>
<p begin="14:05:17.916" end="14:05:19.880" style="s2">which remember yours is going to be a</p>
<p begin="14:05:18.956" end="14:05:22.436" style="s2">little bit different because it&#39;s going</p>
<p begin="14:05:19.880" end="14:05:25.916" style="s2">to be based off of your uh your</p>
<p begin="14:05:22.436" end="14:05:25.916" style="s2">folder let&#39;s try</p>
<p begin="14:05:26.116" end="14:05:30.880" style="s2">this and it says requested access to</p>
<p begin="14:05:28.560" end="14:05:32.116" style="s2">Resource is denied so the first thing</p>
<p begin="14:05:30.880" end="14:05:34.320" style="s2">that we have to do is we actually have</p>
<p begin="14:05:32.116" end="14:05:36.240" style="s2">to do a uh docker login so we have to</p>
<p begin="14:05:34.320" end="14:05:38.400" style="s2">log into our account so you do Docker</p>
<p begin="14:05:36.240" end="14:05:40.560" style="s2">login here it&#39;s going to ask for your</p>
<p begin="14:05:38.400" end="14:05:41.840" style="s2">credentials so we&#39;ll do sloppy networks</p>
<p begin="14:05:40.560" end="14:05:44.116" style="s2">in this case for me and then it&#39;s going</p>
<p begin="14:05:41.840" end="14:05:48.160" style="s2">to be whatever it is for you</p>
<p begin="14:05:44.116" end="14:05:51.240" style="s2">guys and then now let&#39;s try to push it</p>
<p begin="14:05:48.160" end="14:05:53.720" style="s2">again and once again we get a access to</p>
<p begin="14:05:51.240" end="14:05:55.796" style="s2">Resource is denied so what exactly is</p>
<p begin="14:05:53.720" end="14:05:58.116" style="s2">happening here well when we want to push</p>
<p begin="14:05:55.796" end="14:06:01.160" style="s2">up a image right there&#39;s a very specific</p>
<p begin="14:05:58.116" end="14:06:03.640" style="s2">naming convention that we have to use</p>
<p begin="14:06:01.160" end="14:06:06.640" style="s2">right we have to name it uh exactly like</p>
<p begin="14:06:03.640" end="14:06:08.040" style="s2">like this sloppy networks fast API and</p>
<p begin="14:06:06.640" end="14:06:11.000" style="s2">we even see an example right here so you</p>
<p begin="14:06:08.040" end="14:06:13.200" style="s2">do Docker push uh the name of your email</p>
<p begin="14:06:11.000" end="14:06:15.360" style="s2">or your account name then the name of</p>
<p begin="14:06:13.200" end="14:06:18.160" style="s2">the specific repository and then you can</p>
<p begin="14:06:15.360" end="14:06:20.956" style="s2">give it an optional tag name so what we</p>
<p begin="14:06:18.160" end="14:06:24.320" style="s2">got to do is we got to rename our image</p>
<p begin="14:06:20.956" end="14:06:27.160" style="s2">so how do we do that I think it&#39;s Docker</p>
<p begin="14:06:24.320" end="14:06:28.640" style="s2">image I think uh well let&#39;s do d-el just</p>
<p begin="14:06:27.160" end="14:06:31.160" style="s2">to see if we can figure it</p>
<p begin="14:06:28.640" end="14:06:34.640" style="s2">out uh we</p>
<p begin="14:06:31.160" end="14:06:37.520" style="s2">want tag so this essentially copies an</p>
<p begin="14:06:34.640" end="14:06:43.640" style="s2">image and renames it for</p>
<p begin="14:06:37.520" end="14:06:43.640" style="s2">you so let&#39;s do Docker image tag-</p>
<p begin="14:06:44.040" end="14:06:49.276" style="s2">dhel and here we just provide the The</p>
<p begin="14:06:46.680" end="14:06:51.560" style="s2">Source image and then the target image</p>
<p begin="14:06:49.276" end="14:06:54.880" style="s2">so what is my image called again it&#39;s</p>
<p begin="14:06:51.560" end="14:06:58.840" style="s2">going to be this one right here and we</p>
<p begin="14:06:54.880" end="14:07:00.680" style="s2">just do Docker image tag then the image</p>
<p begin="14:06:58.840" end="14:07:02.200" style="s2">that we want to rename and then we give</p>
<p begin="14:07:00.680" end="14:07:05.720" style="s2">it the new name which has to be your</p>
<p begin="14:07:02.200" end="14:07:08.596" style="s2">account slash then the repository and</p>
<p begin="14:07:05.720" end="14:07:09.720" style="s2">then you have an optional you know tag</p>
<p begin="14:07:08.596" end="14:07:10.956" style="s2">uh the default is just going to be</p>
<p begin="14:07:09.720" end="14:07:12.160" style="s2">latest so I&#39;m just going to leave it</p>
<p begin="14:07:10.956" end="14:07:14.436" style="s2">without a</p>
<p begin="14:07:12.160" end="14:07:15.756" style="s2">tag so I do that and if I do a Docker</p>
<p begin="14:07:14.436" end="14:07:19.640" style="s2">image</p>
<p begin="14:07:15.756" end="14:07:24.796" style="s2">LS we should see the new one right</p>
<p begin="14:07:19.640" end="14:07:24.796" style="s2">here and so now I can do a Docker</p>
<p begin="14:07:25.240" end="14:07:31.880" style="s2">push it looks like I didn&#39;t copy that so</p>
<p begin="14:07:27.640" end="14:07:31.880" style="s2">let&#39;s try this one more time</p>
<p begin="14:07:34.880" end="14:07:38.080" style="s2">and now it looks like it&#39;s pushing</p>
<p begin="14:07:36.320" end="14:07:40.116" style="s2">something so let&#39;s give this a minute or</p>
<p begin="14:07:38.080" end="14:07:41.880" style="s2">two and then once it&#39;s done let&#39;s take a</p>
<p begin="14:07:40.116" end="14:07:45.200" style="s2">look to see if we have successfully</p>
<p begin="14:07:41.880" end="14:07:47.240" style="s2">pushed it to our</p>
<p begin="14:07:45.200" end="14:07:49.756" style="s2">repository all right so it looks like it</p>
<p begin="14:07:47.240" end="14:07:52.796" style="s2">successfully pushed so now if I go back</p>
<p begin="14:07:49.756" end="14:07:54.596" style="s2">to my Docker Hub page and do a refresh</p>
<p begin="14:07:52.796" end="14:07:56.160" style="s2">we can see that last push was a few</p>
<p begin="14:07:54.596" end="14:07:59.276" style="s2">seconds ago so now we&#39;ve successfully</p>
<p begin="14:07:56.160" end="14:08:01.276" style="s2">pushed it to our Docker Hub and so you</p>
<p begin="14:07:59.276" end="14:08:03.040" style="s2">know if we set up an actual production</p>
<p begin="14:08:01.276" end="14:08:05.756" style="s2">Docker environment we could just pull</p>
<p begin="14:08:03.040" end="14:08:08.320" style="s2">the image from this specific URL or this</p>
<p begin="14:08:05.756" end="14:08:10.520" style="s2">specific uh repository now before we</p>
<p begin="14:08:08.320" end="14:08:12.916" style="s2">wrap up the docker section of this</p>
<p begin="14:08:10.520" end="14:08:14.240" style="s2">course uh there&#39;s one last thing that I</p>
<p begin="14:08:12.916" end="14:08:15.480" style="s2">want to show you guys and that is that</p>
<p begin="14:08:14.240" end="14:08:18.116" style="s2">if you take a look at what we have right</p>
<p begin="14:08:15.480" end="14:08:19.520" style="s2">now we have a identical clone of our</p>
<p begin="14:08:18.116" end="14:08:21.520" style="s2">previous development environment but</p>
<p begin="14:08:19.520" end="14:08:23.360" style="s2">we&#39;re now developing within a Docker</p>
<p begin="14:08:21.520" end="14:08:25.320" style="s2">container so our Docker container</p>
<p begin="14:08:23.360" end="14:08:27.480" style="s2">environment is a exact clone of our</p>
<p begin="14:08:25.320" end="14:08:29.240" style="s2">previous development environment the</p>
<p begin="14:08:27.480" end="14:08:31.080" style="s2">issue is is that you know when we move</p>
<p begin="14:08:29.240" end="14:08:32.360" style="s2">to production assuming that you&#39;re using</p>
<p begin="14:08:31.080" end="14:08:34.720" style="s2">uh Docker and production which is kind</p>
<p begin="14:08:32.360" end="14:08:35.880" style="s2">of the main idea behind is that uh your</p>
<p begin="14:08:34.720" end="14:08:37.040" style="s2">development environment and your</p>
<p begin="14:08:35.880" end="14:08:38.160" style="s2">production environment are almost</p>
<p begin="14:08:37.040" end="14:08:39.916" style="s2">exactly the same because you&#39;re using</p>
<p begin="14:08:38.160" end="14:08:42.200" style="s2">the same exact Docker images and</p>
<p begin="14:08:39.916" end="14:08:43.560" style="s2">containers but if we try to use this</p>
<p begin="14:08:42.200" end="14:08:44.916" style="s2">Docker compost file in production</p>
<p begin="14:08:43.560" end="14:08:47.596" style="s2">there&#39;s going to be a whole bunch of</p>
<p begin="14:08:44.916" end="14:08:48.720" style="s2">issues first of all um obviously these</p>
<p begin="14:08:47.596" end="14:08:50.796" style="s2">environment variables would need to</p>
<p begin="14:08:48.720" end="14:08:53.276" style="s2">change and we can&#39;t hardcode them uh we</p>
<p begin="14:08:50.796" end="14:08:54.680" style="s2">wouldn&#39;t want the Das Das reload flag</p>
<p begin="14:08:53.276" end="14:08:55.916" style="s2">and you certainly don&#39;t want a bind</p>
<p begin="14:08:54.680" end="14:08:57.880" style="s2">Mount because the code shouldn&#39;t be</p>
<p begin="14:08:55.916" end="14:09:00.160" style="s2">changing and then uh the ports that we</p>
<p begin="14:08:57.880" end="14:09:04.480" style="s2">use could also potentially be different</p>
<p begin="14:09:00.160" end="14:09:06.116" style="s2">so even though Docker or so even though</p>
<p begin="14:09:04.480" end="14:09:07.596" style="s2">the docker environments uh from our</p>
<p begin="14:09:06.116" end="14:09:09.000" style="s2">production and development environment</p>
<p begin="14:09:07.596" end="14:09:10.840" style="s2">should be roughly similar there are</p>
<p begin="14:09:09.000" end="14:09:13.080" style="s2">going to be some differences and so we</p>
<p begin="14:09:10.840" end="14:09:14.436" style="s2">need to account for that uh and so what</p>
<p begin="14:09:13.080" end="14:09:15.756" style="s2">I like to do is I actually like to</p>
<p begin="14:09:14.436" end="14:09:17.640" style="s2">create two different Docker compost</p>
<p begin="14:09:15.756" end="14:09:19.000" style="s2">files one for development and one for</p>
<p begin="14:09:17.640" end="14:09:20.596" style="s2">production so that&#39;s what we&#39;re going to</p>
<p begin="14:09:19.000" end="14:09:22.436" style="s2">do but first of all let&#39;s do a Docker</p>
<p begin="14:09:20.596" end="14:09:24.436" style="s2">compos Dash</p>
<p begin="14:09:22.436" end="14:09:27.880" style="s2">down that we can just tear everything</p>
<p begin="14:09:24.436" end="14:09:27.880" style="s2">down for a second</p>
<p begin="14:09:37.796" end="14:09:41.796" style="s2">and once that&#39;s down I&#39;m going to copy</p>
<p begin="14:09:45.276" end="14:09:50.040" style="s2">this and paste</p>
<p begin="14:09:47.640" end="14:09:52.840" style="s2">it and we&#39;re going to rename these files</p>
<p begin="14:09:50.040" end="14:09:54.916" style="s2">so this one is going to be called docka</p>
<p begin="14:09:52.840" end="14:09:57.116" style="s2">compose ddev so this is going to</p>
<p begin="14:09:54.916" end="14:09:59.000" style="s2">represent our development environment</p>
<p begin="14:09:57.116" end="14:10:02.360" style="s2">and this one is going to represent our</p>
<p begin="14:09:59.000" end="14:10:02.360" style="s2">prod environment</p>
<p begin="14:10:06.200" end="14:10:09.956" style="s2">all right so we&#39;ve got our Dev and our</p>
<p begin="14:10:08.116" end="14:10:11.200" style="s2">pad environment the dev doesn&#39;t need to</p>
<p begin="14:10:09.956" end="14:10:12.956" style="s2">change because we had already set that</p>
<p begin="14:10:11.200" end="14:10:14.560" style="s2">up for development environment the</p>
<p begin="14:10:12.956" end="14:10:17.596" style="s2">production one is going to change a</p>
<p begin="14:10:14.560" end="14:10:18.956" style="s2">little bit so first of all the command</p>
<p begin="14:10:17.596" end="14:10:20.640" style="s2">right we don&#39;t want the Das Das reload</p>
<p begin="14:10:18.956" end="14:10:23.200" style="s2">so we can specify the exact command we</p>
<p begin="14:10:20.640" end="14:10:25.560" style="s2">want which is the one without the D-</p>
<p begin="14:10:23.200" end="14:10:27.276" style="s2">reload uh and that should be all that we</p>
<p begin="14:10:25.560" end="14:10:29.956" style="s2">need however keep in mind this is the</p>
<p begin="14:10:27.276" end="14:10:32.080" style="s2">default command from the docker file</p>
<p begin="14:10:29.956" end="14:10:35.400" style="s2">right so we could technically just</p>
<p begin="14:10:32.080" end="14:10:36.640" style="s2">remove this or or just comment it out</p>
<p begin="14:10:35.400" end="14:10:38.240" style="s2">and so I&#39;m just going to comment it out</p>
<p begin="14:10:36.640" end="14:10:40.116" style="s2">in this case but if you wanted a</p>
<p begin="14:10:38.240" end="14:10:41.840" style="s2">specific custom command for um for</p>
<p begin="14:10:40.116" end="14:10:44.000" style="s2">production you can just provide that</p>
<p begin="14:10:41.840" end="14:10:45.240" style="s2">here the whole idea is that this file is</p>
<p begin="14:10:44.000" end="14:10:47.520" style="s2">going to represent all the changes for</p>
<p begin="14:10:45.240" end="14:10:49.796" style="s2">our production</p>
<p begin="14:10:47.520" end="14:10:51.720" style="s2">environment uh then maybe we want</p>
<p begin="14:10:49.796" end="14:10:56.480" style="s2">instead of listening on Port 8,000 we</p>
<p begin="14:10:51.720" end="14:10:56.480" style="s2">want Port 80 so that we can use our web</p>
<p begin="14:10:56.916" end="14:11:00.640" style="s2">browser uh most of the things can stay</p>
<p begin="14:10:59.480" end="14:11:04.276" style="s2">the same the environment variables</p>
<p begin="14:11:00.640" end="14:11:04.276" style="s2">definitely need to change</p>
<p begin="14:11:04.320" end="14:11:09.116" style="s2">uh and so uh with a production</p>
<p begin="14:11:07.436" end="14:11:11.116" style="s2">environment uh we first of all we&#39;re not</p>
<p begin="14:11:09.116" end="14:11:13.320" style="s2">going to hardcode the values we usually</p>
<p begin="14:11:11.116" end="14:11:15.000" style="s2">want to grab these uh these values from</p>
<p begin="14:11:13.320" end="14:11:17.400" style="s2">the environment variable set on the host</p>
<p begin="14:11:15.000" end="14:11:18.880" style="s2">machine so instead of actually</p>
<p begin="14:11:17.400" end="14:11:20.796" style="s2">hardcoding these in instead we can</p>
<p begin="14:11:18.880" end="14:11:22.360" style="s2">reference environment variable so to</p>
<p begin="14:11:20.796" end="14:11:23.796" style="s2">reference an environment variable what</p>
<p begin="14:11:22.360" end="14:11:26.796" style="s2">we do is we do</p>
<p begin="14:11:23.796" end="14:11:28.956" style="s2">dollar curly braces and then the name of</p>
<p begin="14:11:26.796" end="14:11:30.640" style="s2">the environment variable so um it&#39;s</p>
<p begin="14:11:28.956" end="14:11:32.160" style="s2">going to look on the you know Linux</p>
<p begin="14:11:30.640" end="14:11:33.436" style="s2">machine that it&#39;s running on for a</p>
<p begin="14:11:32.160" end="14:11:34.596" style="s2">environment variable called dat base</p>
<p begin="14:11:33.436" end="14:11:36.240" style="s2">host name so I figured we would just</p>
<p begin="14:11:34.596" end="14:11:37.436" style="s2">have the match just to show you what</p>
<p begin="14:11:36.240" end="14:11:39.436" style="s2">that would look like and then we&#39;re</p>
<p begin="14:11:37.436" end="14:11:40.880" style="s2">going to do the same for all of these</p>
<p begin="14:11:39.436" end="14:11:43.160" style="s2">and I&#39;m just going to copy and paste</p>
<p begin="14:11:40.880" end="14:11:45.756" style="s2">this once</p>
<p begin="14:11:43.160" end="14:11:47.680" style="s2">again so it&#39;s going to look like this so</p>
<p begin="14:11:45.756" end="14:11:49.240" style="s2">it&#39;s just grabbing the data um the</p>
<p begin="14:11:47.680" end="14:11:50.320" style="s2">environment variable from the local</p>
<p begin="14:11:49.240" end="14:11:52.880" style="s2">machine keep in mind they don&#39;t</p>
<p begin="14:11:50.320" end="14:11:55.596" style="s2">technically need to match um but it just</p>
<p begin="14:11:52.880" end="14:11:57.756" style="s2">makes it easier for troubleshooting</p>
<p begin="14:11:55.596" end="14:11:59.240" style="s2">purposes and then uh for the Post Crush</p>
<p begin="14:11:57.756" end="14:12:01.200" style="s2">database right we would want the</p>
<p begin="14:11:59.240" end="14:12:04.160" style="s2">password to be the same environment</p>
<p begin="14:12:01.200" end="14:12:05.840" style="s2">variable</p>
<p begin="14:12:04.160" end="14:12:09.360" style="s2">and then we would on the database name</p>
<p begin="14:12:05.840" end="14:12:09.360" style="s2">so that we&#39;re not hardcoding that one as</p>
<p begin="14:12:11.560" end="14:12:17.080" style="s2">well and we don&#39;t want the bind Mount so</p>
<p begin="14:12:14.276" end="14:12:17.080" style="s2">we will remove</p>
<p begin="14:12:17.916" end="14:12:22.000" style="s2">that and that&#39;s about it so that&#39;s all</p>
<p begin="14:12:20.240" end="14:12:23.916" style="s2">you have to do so this just gives us</p>
<p begin="14:12:22.000" end="14:12:26.116" style="s2">both a development environment and a</p>
<p begin="14:12:23.916" end="14:12:29.080" style="s2">production environment uh we&#39;ll save all</p>
<p begin="14:12:26.116" end="14:12:30.040" style="s2">of that now starting up Docker uh compos</p>
<p begin="14:12:29.080" end="14:12:32.116" style="s2">is going to be a little bit different</p>
<p begin="14:12:30.040" end="14:12:34.640" style="s2">now because uh we don&#39;t use the default</p>
<p begin="14:12:32.116" end="14:12:37.116" style="s2">Docker Das composed yaml file name so if</p>
<p begin="14:12:34.640" end="14:12:40.840" style="s2">I do a Docker compose if I can find the</p>
<p begin="14:12:37.116" end="14:12:42.360" style="s2">up Docker Das compose up all right</p>
<p begin="14:12:40.840" end="14:12:43.596" style="s2">you&#39;re going to see that it throws an</p>
<p begin="14:12:42.360" end="14:12:46.320" style="s2">error right because it says it can&#39;t</p>
<p begin="14:12:43.596" end="14:12:48.916" style="s2">find a Docker composed. yaml or yaml</p>
<p begin="14:12:46.320" end="14:12:50.680" style="s2">with an A or compose yaml or compose</p>
<p begin="14:12:48.916" end="14:12:52.276" style="s2">yaml with an A so it looks for only</p>
<p begin="14:12:50.680" end="14:12:55.276" style="s2">these file names so when we have a</p>
<p begin="14:12:52.276" end="14:12:57.000" style="s2">custom file name we have to do</p>
<p begin="14:12:55.276" end="14:12:59.320" style="s2">docker-compose and then we pass in the</p>
<p begin="14:12:57.000" end="14:13:00.880" style="s2">Das F flag for the file name and so we</p>
<p begin="14:12:59.320" end="14:13:01.956" style="s2">provide the path to the file so it&#39;s</p>
<p begin="14:13:00.880" end="14:13:07.560" style="s2">just in the current directory so I can</p>
<p begin="14:13:01.956" end="14:13:10.480" style="s2">just do docker Das uh compose ddev yaml</p>
<p begin="14:13:07.560" end="14:13:13.596" style="s2">and then we just do an up and then-</p>
<p begin="14:13:10.480" end="14:13:16.000" style="s2">d and then we can start it back</p>
<p begin="14:13:13.596" end="14:13:17.160" style="s2">up and if you want to bring up a</p>
<p begin="14:13:16.000" end="14:13:19.916" style="s2">production environment then you would do</p>
<p begin="14:13:17.160" end="14:13:20.956" style="s2">das dashr that&#39;s the only difference so</p>
<p begin="14:13:19.916" end="14:13:22.916" style="s2">you don&#39;t really have to do anything</p>
<p begin="14:13:20.956" end="14:13:25.796" style="s2">else other than running the different</p>
<p begin="14:13:22.916" end="14:13:28.040" style="s2">specific uh Docker compose</p>
<p begin="14:13:25.796" end="14:13:30.160" style="s2">file and uh the last thing that I want</p>
<p begin="14:13:28.040" end="14:13:31.200" style="s2">to change is actually um in your</p>
<p begin="14:13:30.160" end="14:13:32.840" style="s2">production environment you don&#39;t</p>
<p begin="14:13:31.200" end="14:13:34.956" style="s2">actually ever want to build the image in</p>
<p begin="14:13:32.840" end="14:13:36.360" style="s2">a production environment instead what&#39;s</p>
<p begin="14:13:34.956" end="14:13:39.116" style="s2">recommended is that when you&#39;re done</p>
<p begin="14:13:36.360" end="14:13:41.720" style="s2">developing you push the brand new image</p>
<p begin="14:13:39.116" end="14:13:43.320" style="s2">to Docker Hub right and then in the</p>
<p begin="14:13:41.720" end="14:13:44.796" style="s2">production environment we just pull this</p>
<p begin="14:13:43.320" end="14:13:46.840" style="s2">image from Docker Hub so how do we pull</p>
<p begin="14:13:44.796" end="14:13:48.880" style="s2">this image from Docker Hub easy we</p>
<p begin="14:13:46.840" end="14:13:51.360" style="s2">change we remove this build option</p>
<p begin="14:13:48.880" end="14:13:54.880" style="s2">remember this is going to be in the prod</p>
<p begin="14:13:51.360" end="14:13:57.240" style="s2">file and we set this to be a</p>
<p begin="14:13:54.880" end="14:13:59.680" style="s2">image and here we just set this to the</p>
<p begin="14:13:57.240" end="14:14:03.080" style="s2">name of the repository so we just do you</p>
<p begin="14:13:59.680" end="14:14:05.916" style="s2">know your username SL fast API Das oops</p>
<p begin="14:14:03.080" end="14:14:07.956" style="s2">not Dash app just fast API so whatever</p>
<p begin="14:14:05.916" end="14:14:09.720" style="s2">is essentially right here and then if</p>
<p begin="14:14:07.956" end="14:14:11.400" style="s2">you want a specific image with a</p>
<p begin="14:14:09.720" end="14:14:13.560" style="s2">specific tag then you would add the tag</p>
<p begin="14:14:11.400" end="14:14:13.560" style="s2">as</p>
<p begin="14:14:13.916" end="14:14:17.880" style="s2">well and so that&#39;s all we have to do</p>
<p begin="14:14:16.160" end="14:14:20.040" style="s2">feel free to stop your containers now if</p>
<p begin="14:14:17.880" end="14:14:20.040" style="s2">you</p>
<p begin="14:14:22.956" end="14:14:28.240" style="s2">want and even when you do a a down you</p>
<p begin="14:14:25.596" end="14:14:28.240" style="s2">want to make sure you do</p>
<p begin="14:14:28.276" end="14:14:33.840" style="s2">a-f so it knows which file to actually</p>
<p begin="14:14:30.640" end="14:14:33.840" style="s2">look for</p>
<p begin="14:14:35.436" end="14:14:38.480" style="s2">and I misspelled</p>
<p begin="14:14:40.880" end="14:14:45.796" style="s2">that and that&#39;s going to conclude the</p>
<p begin="14:14:44.040" end="14:14:47.520" style="s2">docker section of this course and so I</p>
<p begin="14:14:45.796" end="14:14:49.880" style="s2">think this is going to give you a solid</p>
<p begin="14:14:47.520" end="14:14:52.240" style="s2">foundation on how to dockerize your fast</p>
<p begin="14:14:49.880" end="14:14:53.680" style="s2">API now currently whenever we make</p>
<p begin="14:14:52.240" end="14:14:56.320" style="s2">changes to our code whether it&#39;s</p>
<p begin="14:14:53.680" end="14:14:57.956" style="s2">implementing a new feature or modifying</p>
<p begin="14:14:56.320" end="14:15:00.956" style="s2">the behavior of a previous feature or</p>
<p begin="14:14:57.956" end="14:15:03.520" style="s2">even fixing some bugs that we happen to</p>
<p begin="14:15:00.956" end="14:15:05.640" style="s2">catch right we have no idea</p>
<p begin="14:15:03.520" end="14:15:07.560" style="s2">uh if the changes we make break other</p>
<p begin="14:15:05.640" end="14:15:09.276" style="s2">functionality in our code and so</p>
<p begin="14:15:07.560" end="14:15:11.360" style="s2">normally anytime we make any changes we</p>
<p begin="14:15:09.276" end="14:15:13.480" style="s2">then have to you know go into Postman</p>
<p begin="14:15:11.360" end="14:15:15.000" style="s2">and essentially manually test out every</p>
<p begin="14:15:13.480" end="14:15:17.040" style="s2">single scenario to ensure that things</p>
<p begin="14:15:15.000" end="14:15:19.040" style="s2">are working and this isn&#39;t a very</p>
<p begin="14:15:17.040" end="14:15:20.756" style="s2">scalable solution uh it&#39;s going to</p>
<p begin="14:15:19.040" end="14:15:22.160" style="s2">result in a lot of wasted hours for</p>
<p begin="14:15:20.756" end="14:15:23.200" style="s2">every single time you have make any</p>
<p begin="14:15:22.160" end="14:15:24.200" style="s2">changes to your code you&#39;re going to</p>
<p begin="14:15:23.200" end="14:15:26.080" style="s2">have to test everything because you</p>
<p begin="14:15:24.200" end="14:15:27.680" style="s2">don&#39;t know what uh what code you&#39;ve</p>
<p begin="14:15:26.080" end="14:15:30.276" style="s2">broken by making those</p>
<p begin="14:15:27.680" end="14:15:32.400" style="s2">changes and so this is where uh you know</p>
<p begin="14:15:30.276" end="14:15:34.360" style="s2">an automated testing Library comes into</p>
<p begin="14:15:32.400" end="14:15:36.116" style="s2">play where we can define a whole bunch</p>
<p begin="14:15:34.360" end="14:15:38.080" style="s2">of tests to test a majority of the</p>
<p begin="14:15:36.116" end="14:15:40.436" style="s2">functionality of our code and so that</p>
<p begin="14:15:38.080" end="14:15:41.956" style="s2">way anytime we make changes to our code</p>
<p begin="14:15:40.436" end="14:15:44.320" style="s2">we can run our test to see if we&#39;ve</p>
<p begin="14:15:41.956" end="14:15:45.560" style="s2">broken anything and keep in mind you</p>
<p begin="14:15:44.320" end="14:15:47.756" style="s2">know obviously we can&#39;t test for</p>
<p begin="14:15:45.560" end="14:15:49.116" style="s2">everything but we can at least test for</p>
<p begin="14:15:47.756" end="14:15:50.640" style="s2">enough things that we can catch some of</p>
<p begin="14:15:49.116" end="14:15:52.756" style="s2">the more obvious</p>
<p begin="14:15:50.640" end="14:15:54.680" style="s2">bugs and so this section of the course</p>
<p begin="14:15:52.756" end="14:15:56.240" style="s2">is going to be dedicated to getting</p>
<p begin="14:15:54.680" end="14:15:57.880" style="s2">started with testing and really</p>
<p begin="14:15:56.240" end="14:15:59.320" style="s2">understanding the concepts of testing</p>
<p begin="14:15:57.880" end="14:16:00.840" style="s2">and seeing how we can get started with a</p>
<p begin="14:15:59.320" end="14:16:03.276" style="s2">library like py</p>
<p begin="14:16:00.840" end="14:16:06.000" style="s2">test um but I do want to provide one</p>
<p begin="14:16:03.276" end="14:16:09.276" style="s2">little disclaimer before moving forward</p>
<p begin="14:16:06.000" end="14:16:11.240" style="s2">I wasn&#39;t originally going to post uh a</p>
<p begin="14:16:09.276" end="14:16:12.560" style="s2">section on testing for this course and</p>
<p begin="14:16:11.240" end="14:16:13.880" style="s2">the reason for that is that I don&#39;t have</p>
<p begin="14:16:12.560" end="14:16:16.160" style="s2">much experience with testing it&#39;s not</p>
<p begin="14:16:13.880" end="14:16:18.040" style="s2">something I do a lot of or and or at all</p>
<p begin="14:16:16.160" end="14:16:20.116" style="s2">really uh and so I want to make sure</p>
<p begin="14:16:18.040" end="14:16:22.040" style="s2">that you guys understand where I&#39;m</p>
<p begin="14:16:20.116" end="14:16:24.956" style="s2">coming from when it comes to testing and</p>
<p begin="14:16:22.040" end="14:16:26.720" style="s2">that is that um you know since I am not</p>
<p begin="14:16:24.956" end="14:16:28.916" style="s2">super proficient at testing you know I</p>
<p begin="14:16:26.720" end="14:16:31.160" style="s2">don&#39;t really feel too qualified to</p>
<p begin="14:16:28.916" end="14:16:32.680" style="s2">actually teach it uh and so what I want</p>
<p begin="14:16:31.160" end="14:16:34.080" style="s2">you guys to do to take it what I want</p>
<p begin="14:16:32.680" end="14:16:36.240" style="s2">you guys to take out of this section of</p>
<p begin="14:16:34.080" end="14:16:38.116" style="s2">the course is just to how to get started</p>
<p begin="14:16:36.240" end="14:16:40.276" style="s2">with testing how do you set things up</p>
<p begin="14:16:38.116" end="14:16:42.240" style="s2">and what&#39;s the main ideas behind a test</p>
<p begin="14:16:40.276" end="14:16:44.200" style="s2">I may not necessarily be teaching the</p>
<p begin="14:16:42.240" end="14:16:47.040" style="s2">best most efficient way to test I may</p>
<p begin="14:16:44.200" end="14:16:48.560" style="s2">not be test uh using the most efficient</p>
<p begin="14:16:47.040" end="14:16:49.956" style="s2">way of testing and there may be</p>
<p begin="14:16:48.560" end="14:16:51.880" style="s2">scenarios where I may not even be</p>
<p begin="14:16:49.956" end="14:16:54.160" style="s2">following best practices but I want to</p>
<p begin="14:16:51.880" end="14:16:56.240" style="s2">show you guys how we can at least get</p>
<p begin="14:16:54.160" end="14:16:58.000" style="s2">some integration tests set up and then</p>
<p begin="14:16:56.240" end="14:16:59.240" style="s2">at that point what you guys can do is</p>
<p begin="14:16:58.000" end="14:17:00.796" style="s2">you can just forget everything else that</p>
<p begin="14:16:59.240" end="14:17:02.116" style="s2">I&#39;ve taught you when it comes to testing</p>
<p begin="14:17:00.796" end="14:17:03.640" style="s2">once you at least have the groundwork</p>
<p begin="14:17:02.116" end="14:17:05.680" style="s2">then you guys can you know do your own</p>
<p begin="14:17:03.640" end="14:17:07.560" style="s2">research figure out how you ultimately</p>
<p begin="14:17:05.680" end="14:17:09.560" style="s2">want to implement testing with any of</p>
<p begin="14:17:07.560" end="14:17:13.040" style="s2">your projects and then go ahead and just</p>
<p begin="14:17:09.560" end="14:17:15.000" style="s2">run with that so with that in mind uh in</p>
<p begin="14:17:13.040" end="14:17:17.040" style="s2">the next video we&#39;ll get started with</p>
<p begin="14:17:15.000" end="14:17:19.956" style="s2">get getting P test installed and writing</p>
<p begin="14:17:17.040" end="14:17:21.596" style="s2">our first test for testing the library</p>
<p begin="14:17:19.956" end="14:17:23.000" style="s2">that we&#39;re going to be using is py test</p>
<p begin="14:17:21.596" end="14:17:24.640" style="s2">so if you do a quick Google search you</p>
<p begin="14:17:23.000" end="14:17:26.240" style="s2">can just search for py test and the</p>
<p begin="14:17:24.640" end="14:17:29.116" style="s2">first result is going to take you to the</p>
<p begin="14:17:26.240" end="14:17:30.596" style="s2">documentation page for the pest library</p>
<p begin="14:17:29.116" end="14:17:32.240" style="s2">and so I recommend you guys take a quick</p>
<p begin="14:17:30.596" end="14:17:33.880" style="s2">look at this just to see how it gets set</p>
<p begin="14:17:32.240" end="14:17:35.080" style="s2">up uh and if you want to do a little bit</p>
<p begin="14:17:33.880" end="14:17:36.680" style="s2">of reading before we actually get</p>
<p begin="14:17:35.080" end="14:17:39.000" style="s2">started writing our first test</p>
<p begin="14:17:36.680" end="14:17:41.040" style="s2">definitely go ahead and do that um but</p>
<p begin="14:17:39.000" end="14:17:43.080" style="s2">once we&#39;ve got that opened up what we</p>
<p begin="14:17:41.040" end="14:17:45.160" style="s2">can do is we can install pie test so we</p>
<p begin="14:17:43.080" end="14:17:47.840" style="s2">can just do pip install pie test just</p>
<p begin="14:17:45.160" end="14:17:49.796" style="s2">like we would with any other package</p>
<p begin="14:17:47.840" end="14:17:51.640" style="s2">then once that&#39;s done uh we have access</p>
<p begin="14:17:49.796" end="14:17:54.276" style="s2">to the P test command so just go ahead</p>
<p begin="14:17:51.640" end="14:17:55.756" style="s2">and run P test and see what happens so</p>
<p begin="14:17:54.276" end="14:17:57.640" style="s2">prints out a few things you notice that</p>
<p begin="14:17:55.756" end="14:17:59.720" style="s2">we can see that the test session starts</p>
<p begin="14:17:57.640" end="14:18:01.116" style="s2">so this is when we start testing I</p>
<p begin="14:17:59.720" end="14:18:02.320" style="s2">prints out some information about the</p>
<p begin="14:18:01.116" end="14:18:04.360" style="s2">platform that we&#39;re running on and</p>
<p begin="14:18:02.320" end="14:18:05.880" style="s2">that&#39;s okay we can ignore all of that</p>
<p begin="14:18:04.360" end="14:18:07.520" style="s2">and you&#39;ll notice that it says collected</p>
<p begin="14:18:05.880" end="14:18:09.240" style="s2">zero items we&#39;ll talk about this in a</p>
<p begin="14:18:07.520" end="14:18:13.200" style="s2">bit but the more important thing to look</p>
<p begin="14:18:09.240" end="14:18:15.840" style="s2">at is it says no test ran in 04 seconds</p>
<p begin="14:18:13.200" end="14:18:17.640" style="s2">and this is expected you know we haven&#39;t</p>
<p begin="14:18:15.840" end="14:18:19.560" style="s2">created any tests so obviously it&#39;s not</p>
<p begin="14:18:17.640" end="14:18:21.560" style="s2">going to be able to run any tests but to</p>
<p begin="14:18:19.560" end="14:18:22.720" style="s2">run our testing all we have to do is</p>
<p begin="14:18:21.560" end="14:18:24.756" style="s2">just run this command and then you&#39;ll</p>
<p begin="14:18:22.720" end="14:18:26.756" style="s2">see that P test will um go through all</p>
<p begin="14:18:24.756" end="14:18:28.040" style="s2">of your tests run it to verify uh you</p>
<p begin="14:18:26.756" end="14:18:29.200" style="s2">know that they all pass and if there&#39;s</p>
<p begin="14:18:28.040" end="14:18:31.520" style="s2">any errors or anything like that it&#39;s</p>
<p begin="14:18:29.200" end="14:18:33.520" style="s2">going to report that so it really is as</p>
<p begin="14:18:31.520" end="14:18:37.160" style="s2">simple as that but let&#39;s go go ahead and</p>
<p begin="14:18:33.520" end="14:18:39.116" style="s2">create our test and I want to store our</p>
<p begin="14:18:37.160" end="14:18:41.840" style="s2">all of our tests inside a directory</p>
<p begin="14:18:39.116" end="14:18:43.320" style="s2">called tests so inside the root</p>
<p begin="14:18:41.840" end="14:18:45.040" style="s2">directory of your project just create a</p>
<p begin="14:18:43.320" end="14:18:47.160" style="s2">new folder we&#39;ll call it</p>
<p begin="14:18:45.040" end="14:18:48.956" style="s2">tests and technically you can put this</p>
<p begin="14:18:47.160" end="14:18:50.480" style="s2">folder anywhere if you wanted to put</p>
<p begin="14:18:48.956" end="14:18:52.480" style="s2">this test directory within your app</p>
<p begin="14:18:50.480" end="14:18:54.000" style="s2">directory you absolutely could it&#39;s a</p>
<p begin="14:18:52.480" end="14:18:55.276" style="s2">matter of personal preference I&#39;m just</p>
<p begin="14:18:54.000" end="14:18:57.916" style="s2">going to keep it outside of the app</p>
<p begin="14:18:55.276" end="14:19:01.276" style="s2">directory for now and within here I&#39;m</p>
<p begin="14:18:57.916" end="14:19:04.200" style="s2">going to actually create a</p>
<p begin="14:19:01.276" end="14:19:05.640" style="s2">file and this is going to store our</p>
<p begin="14:19:04.200" end="14:19:10.116" style="s2">first test I&#39;m just going to call this</p>
<p begin="14:19:05.640" end="14:19:11.720" style="s2">my test.py for now all right and we</p>
<p begin="14:19:10.116" end="14:19:14.560" style="s2">obviously need to test a part of our</p>
<p begin="14:19:11.720" end="14:19:17.796" style="s2">code whether that&#39;s uh a route or a path</p>
<p begin="14:19:14.560" end="14:19:19.916" style="s2">operation or a function or a class we</p>
<p begin="14:19:17.796" end="14:19:21.720" style="s2">need to test something and right now our</p>
<p begin="14:19:19.916" end="14:19:23.520" style="s2">code is a little Advanced and when I say</p>
<p begin="14:19:21.720" end="14:19:25.080" style="s2">Advanced I don&#39;t mean Advanced because</p>
<p begin="14:19:23.520" end="14:19:26.480" style="s2">anything we&#39;ve done is super Advanced so</p>
<p begin="14:19:25.080" end="14:19:29.080" style="s2">far it&#39;s Advanced from the perspective</p>
<p begin="14:19:26.480" end="14:19:31.000" style="s2">of testing where we&#39;re coming in from a</p>
<p begin="14:19:29.080" end="14:19:32.276" style="s2">background of no knowledge of testing so</p>
<p begin="14:19:31.000" end="14:19:34.436" style="s2">we want to start out with testing the</p>
<p begin="14:19:32.276" end="14:19:36.116" style="s2">simplest functions so I&#39;m going to</p>
<p begin="14:19:34.436" end="14:19:38.640" style="s2">actually create a brand new module and</p>
<p begin="14:19:36.116" end="14:19:40.680" style="s2">essentially create the simplest uh</p>
<p begin="14:19:38.640" end="14:19:41.796" style="s2">module or function that I can possibly</p>
<p begin="14:19:40.680" end="14:19:44.160" style="s2">think of so I&#39;m going to create a new</p>
<p begin="14:19:41.796" end="14:19:45.916" style="s2">file call it whatever you want I&#39;m going</p>
<p begin="14:19:44.160" end="14:19:47.080" style="s2">to call this calculations because it&#39;s</p>
<p begin="14:19:45.916" end="14:19:49.680" style="s2">essentially going to be a bunch of</p>
<p begin="14:19:47.080" end="14:19:52.000" style="s2">functions that we use to perform certain</p>
<p begin="14:19:49.680" end="14:19:53.640" style="s2">calculations and I&#39;m going to define the</p>
<p begin="14:19:52.000" end="14:19:55.436" style="s2">world&#39;s simplest function which is</p>
<p begin="14:19:53.640" end="14:19:56.596" style="s2">called add and I think you can guess</p>
<p begin="14:19:55.436" end="14:19:57.756" style="s2">what this function is going to do it&#39;s</p>
<p begin="14:19:56.596" end="14:20:01.320" style="s2">going to take two</p>
<p begin="14:19:57.756" end="14:20:03.596" style="s2">numbers which is going to be of type</p>
<p begin="14:20:01.320" end="14:20:05.720" style="s2">int and it&#39;s is just going to return the</p>
<p begin="14:20:03.596" end="14:20:07.916" style="s2">sum of them so we just say return num</p>
<p begin="14:20:05.720" end="14:20:10.200" style="s2">one plus num</p>
<p begin="14:20:07.916" end="14:20:12.400" style="s2">2 right and the reason once again is</p>
<p begin="14:20:10.200" end="14:20:14.520" style="s2">because this is going to be very simple</p>
<p begin="14:20:12.400" end="14:20:15.756" style="s2">uh when it comes to testing so you guys</p>
<p begin="14:20:14.520" end="14:20:18.360" style="s2">can at least have an understanding of</p>
<p begin="14:20:15.756" end="14:20:21.320" style="s2">how to actually perform these</p>
<p begin="14:20:18.360" end="14:20:23.360" style="s2">tests so we&#39;ve got this module defined</p>
<p begin="14:20:21.320" end="14:20:26.000" style="s2">inside our app directory and then in our</p>
<p begin="14:20:23.360" end="14:20:28.436" style="s2">test folder we&#39;ve got our my</p>
<p begin="14:20:26.000" end="14:20:30.680" style="s2">test.py and we&#39;re going to Define our</p>
<p begin="14:20:28.436" end="14:20:32.596" style="s2">first test so what is a test well it&#39;s</p>
<p begin="14:20:30.680" end="14:20:34.880" style="s2">really just a function it&#39;s either</p>
<p begin="14:20:32.596" end="14:20:36.116" style="s2">function or a method within a class uh</p>
<p begin="14:20:34.880" end="14:20:38.880" style="s2">we&#39;re going to start off with just doing</p>
<p begin="14:20:36.116" end="14:20:40.080" style="s2">functions because it&#39;s just a lot easier</p>
<p begin="14:20:38.880" end="14:20:44.160" style="s2">and we&#39;re going to call this function</p>
<p begin="14:20:40.080" end="14:20:46.240" style="s2">testore add why did I give it that name</p>
<p begin="14:20:44.160" end="14:20:48.040" style="s2">uh well it&#39;s testing the ad function so</p>
<p begin="14:20:46.240" end="14:20:50.000" style="s2">I think that makes sense and technically</p>
<p begin="14:20:48.040" end="14:20:52.400" style="s2">the name the naming does matter but</p>
<p begin="14:20:50.000" end="14:20:54.436" style="s2">we&#39;ll come back to that in a bit now how</p>
<p begin="14:20:52.400" end="14:20:57.000" style="s2">does this function actually work from a</p>
<p begin="14:20:54.436" end="14:20:59.276" style="s2">testing perspective well it&#39;s very</p>
<p begin="14:20:57.000" end="14:21:01.916" style="s2">simple you know P test will run through</p>
<p begin="14:20:59.276" end="14:21:03.160" style="s2">all of our tests and when it runs</p>
<p begin="14:21:01.916" end="14:21:04.720" style="s2">through this specific ific test what</p>
<p begin="14:21:03.160" end="14:21:07.320" style="s2">it&#39;s going to do is if it runs through</p>
<p begin="14:21:04.720" end="14:21:09.680" style="s2">it and there&#39;s no errors get thrown that</p>
<p begin="14:21:07.320" end="14:21:11.560" style="s2">means the test has passed it&#39;s succeeded</p>
<p begin="14:21:09.680" end="14:21:14.000" style="s2">that means our code is good if our</p>
<p begin="14:21:11.560" end="14:21:16.160" style="s2">function throws an error of any kind</p>
<p begin="14:21:14.000" end="14:21:18.640" style="s2">it&#39;s going to consider our function uh</p>
<p begin="14:21:16.160" end="14:21:21.596" style="s2">or our test as failing then the test has</p>
<p begin="14:21:18.640" end="14:21:23.200" style="s2">failed so how exactly does that work</p>
<p begin="14:21:21.596" end="14:21:24.360" style="s2">it&#39;s a simp it&#39;s simple we use something</p>
<p begin="14:21:23.200" end="14:21:26.400" style="s2">called</p>
<p begin="14:21:24.360" end="14:21:29.160" style="s2">assert and if you aren&#39;t familiar with</p>
<p begin="14:21:26.400" end="14:21:32.796" style="s2">what the assert command does in Python</p>
<p begin="14:21:29.160" end="14:21:34.520" style="s2">uh anytime you assert a true value</p>
<p begin="14:21:32.796" end="14:21:37.916" style="s2">nothing&#39;s going to happen the code just</p>
<p begin="14:21:34.520" end="14:21:40.116" style="s2">runs however if you assert a false value</p>
<p begin="14:21:37.916" end="14:21:42.796" style="s2">that means it&#39;s going to throw an error</p>
<p begin="14:21:40.116" end="14:21:45.320" style="s2">so it&#39;s it&#39;s no different than raising</p>
<p begin="14:21:42.796" end="14:21:46.916" style="s2">an error or throwing an error in Python</p>
<p begin="14:21:45.320" end="14:21:49.000" style="s2">it&#39;s just a simple way of doing that for</p>
<p begin="14:21:46.916" end="14:21:51.360" style="s2">testing purposes if it if we return</p>
<p begin="14:21:49.000" end="14:21:52.840" style="s2">something that&#39;s true uh then the assert</p>
<p begin="14:21:51.360" end="14:21:55.480" style="s2">won&#39;t do anything if we return something</p>
<p begin="14:21:52.840" end="14:21:57.400" style="s2">that&#39;s false then it will raise a python</p>
<p begin="14:21:55.480" end="14:22:01.160" style="s2">error and I&#39;m going to show you exactly</p>
<p begin="14:21:57.400" end="14:22:03.596" style="s2">how that works so if I just say assert</p>
<p begin="14:22:01.160" end="14:22:05.160" style="s2">true and before this I&#39;m just going to</p>
<p begin="14:22:03.596" end="14:22:09.080" style="s2">do a</p>
<p begin="14:22:05.160" end="14:22:09.080" style="s2">print testing ad</p>
<p begin="14:22:09.116" end="14:22:14.720" style="s2">function and then down here I&#39;m going to</p>
<p begin="14:22:11.436" end="14:22:17.436" style="s2">just call the testore</p>
<p begin="14:22:14.720" end="14:22:20.160" style="s2">add function right here and I&#39;m going to</p>
<p begin="14:22:17.436" end="14:22:21.520" style="s2">just run this uh as a normal python</p>
<p begin="14:22:20.160" end="14:22:23.080" style="s2">module so we&#39;re not going to even treat</p>
<p begin="14:22:21.520" end="14:22:24.756" style="s2">it as an actual test or anything like</p>
<p begin="14:22:23.080" end="14:22:27.360" style="s2">that we&#39;re not even going to use py test</p>
<p begin="14:22:24.756" end="14:22:29.720" style="s2">so I&#39;m just going to call</p>
<p begin="14:22:27.360" end="14:22:33.436" style="s2">Python and keep in mind the commands</p>
<p begin="14:22:29.720" end="14:22:35.916" style="s2">python on on Mac but it&#39;s p-3 on Windows</p>
<p begin="14:22:33.436" end="14:22:38.596" style="s2">and then we&#39;re going to go into the test</p>
<p begin="14:22:35.916" end="14:22:40.240" style="s2">directory and we&#39;re going to call my my</p>
<p begin="14:22:38.596" end="14:22:42.160" style="s2">test.py and I&#39;m going to show you what</p>
<p begin="14:22:40.240" end="14:22:44.400" style="s2">happens all right we can see it says</p>
<p begin="14:22:42.160" end="14:22:46.080" style="s2">testing add function which is from this</p>
<p begin="14:22:44.400" end="14:22:48.436" style="s2">print statement and then you can see the</p>
<p begin="14:22:46.080" end="14:22:49.796" style="s2">assert did nothing so it just ran and</p>
<p begin="14:22:48.436" end="14:22:51.840" style="s2">and everything&#39;s fine and that&#39;s</p>
<p begin="14:22:49.796" end="14:22:53.320" style="s2">expected because like I said assert only</p>
<p begin="14:22:51.840" end="14:22:57.240" style="s2">does something when we return a false</p>
<p begin="14:22:53.320" end="14:22:59.680" style="s2">value so if I say false now and I run</p>
<p begin="14:22:57.240" end="14:23:02.756" style="s2">this code take a look at what happens</p>
<p begin="14:22:59.680" end="14:23:05.116" style="s2">hey look python throws an error so Asser</p>
<p begin="14:23:02.756" end="14:23:07.000" style="s2">is simple as that true means nothing&#39;s</p>
<p begin="14:23:05.116" end="14:23:08.560" style="s2">going to happen false means it&#39;s going</p>
<p begin="14:23:07.000" end="14:23:09.916" style="s2">to throw an error and we don&#39;t have to</p>
<p begin="14:23:08.560" end="14:23:12.640" style="s2">just say true or false we can actually</p>
<p begin="14:23:09.916" end="14:23:15.000" style="s2">pass it a condition so if I say 1 equals</p>
<p begin="14:23:12.640" end="14:23:18.240" style="s2">equals 1 that&#39;s going to return true</p>
<p begin="14:23:15.000" end="14:23:20.276" style="s2">right so technically an assert of true</p>
<p begin="14:23:18.240" end="14:23:22.160" style="s2">won&#39;t do anything however if I say 1</p>
<p begin="14:23:20.276" end="14:23:25.116" style="s2">equals equals 2 that&#39;s going to be a</p>
<p begin="14:23:22.160" end="14:23:26.916" style="s2">false statement and if I run that we can</p>
<p begin="14:23:25.116" end="14:23:29.116" style="s2">see that it asserts and it throws an</p>
<p begin="14:23:26.916" end="14:23:32.040" style="s2">error so that&#39;s how we make use of</p>
<p begin="14:23:29.116" end="14:23:33.756" style="s2">assert within our testing functions so</p>
<p begin="14:23:32.040" end="14:23:36.240" style="s2">I&#39;m going to remove</p>
<p begin="14:23:33.756" end="14:23:39.520" style="s2">this and we&#39;re actually going to test</p>
<p begin="14:23:36.240" end="14:23:40.756" style="s2">out our code now so to test out our ad</p>
<p begin="14:23:39.520" end="14:23:42.320" style="s2">function the first thing that we have to</p>
<p begin="14:23:40.756" end="14:23:44.400" style="s2">do is we actually have to import it into</p>
<p begin="14:23:42.320" end="14:23:46.956" style="s2">this file so we&#39;re going to import it so</p>
<p begin="14:23:44.400" end="14:23:49.116" style="s2">we&#39;ll say from and we have to go into</p>
<p begin="14:23:46.956" end="14:23:51.276" style="s2">the app directory and the calculations</p>
<p begin="14:23:49.116" end="14:23:54.116" style="s2">model module so we&#39;ll say app.</p>
<p begin="14:23:51.276" end="14:23:56.040" style="s2">calculations import</p>
<p begin="14:23:54.116" end="14:23:57.160" style="s2">add and now what we&#39;re going to do is</p>
<p begin="14:23:56.040" end="14:23:58.756" style="s2">we&#39;re just going to call the ad function</p>
<p begin="14:23:57.160" end="14:24:01.320" style="s2">like we normally do and we need to give</p>
<p begin="14:23:58.756" end="14:24:04.520" style="s2">it some test data so I want you to think</p>
<p begin="14:24:01.320" end="14:24:06.796" style="s2">of two numbers uh that you want to use</p>
<p begin="14:24:04.520" end="14:24:09.320" style="s2">for testing add them up and what is the</p>
<p begin="14:24:06.796" end="14:24:12.596" style="s2">result should it be so I&#39;m going to say</p>
<p begin="14:24:09.320" end="14:24:14.520" style="s2">I&#39;m going to do five and three and I</p>
<p begin="14:24:12.596" end="14:24:16.840" style="s2">know that this function if it works</p>
<p begin="14:24:14.520" end="14:24:20.880" style="s2">properly should return a value of eight</p>
<p begin="14:24:16.840" end="14:24:23.520" style="s2">cuz 5 + 3 equal 8 and so I can just take</p>
<p begin="14:24:20.880" end="14:24:25.276" style="s2">the sum store that in a variable called</p>
<p begin="14:24:23.520" end="14:24:28.840" style="s2">sum and what we can do is since I know</p>
<p begin="14:24:25.276" end="14:24:31.480" style="s2">sum should ultimately be equal equal to</p>
<p begin="14:24:28.840" end="14:24:34.756" style="s2">8 I can assert that and that should</p>
<p begin="14:24:31.480" end="14:24:38.240" style="s2">there should be no e there so I can say</p>
<p begin="14:24:34.756" end="14:24:40.720" style="s2">sum equals equals 8 so that means if if</p>
<p begin="14:24:38.240" end="14:24:43.840" style="s2">our code runs fine sum should ultimately</p>
<p begin="14:24:40.720" end="14:24:45.680" style="s2">equal 8 and if we assert 8 equals 8 that</p>
<p begin="14:24:43.840" end="14:24:47.956" style="s2">means it&#39;s going to return true and</p>
<p begin="14:24:45.680" end="14:24:51.436" style="s2">nothing should happen uh or Pi test</p>
<p begin="14:24:47.956" end="14:24:53.720" style="s2">should consider it as uh passing however</p>
<p begin="14:24:51.436" end="14:24:56.000" style="s2">if I mess up my code and for some reason</p>
<p begin="14:24:53.720" end="14:24:59.160" style="s2">the ad function returns a value of 20</p>
<p begin="14:24:56.000" end="14:25:00.880" style="s2">then when we do assert 20 equals 8 well</p>
<p begin="14:24:59.160" end="14:25:02.320" style="s2">that&#39;s going to be false and it&#39;s going</p>
<p begin="14:25:00.880" end="14:25:03.720" style="s2">to throw an error and it&#39;s going to</p>
<p begin="14:25:02.320" end="14:25:06.240" style="s2">consider that as a failing test because</p>
<p begin="14:25:03.720" end="14:25:08.680" style="s2">an error means a fail test so that is</p>
<p begin="14:25:06.240" end="14:25:11.436" style="s2">the main idea behind a simple automated</p>
<p begin="14:25:08.680" end="14:25:14.520" style="s2">test within P test right you just</p>
<p begin="14:25:11.436" end="14:25:16.680" style="s2">provide you run the code with some test</p>
<p begin="14:25:14.520" end="14:25:18.360" style="s2">data and you know what the result should</p>
<p begin="14:25:16.680" end="14:25:19.720" style="s2">be because you created this test data</p>
<p begin="14:25:18.360" end="14:25:23.796" style="s2">and you just make sure that the result</p>
<p begin="14:25:19.720" end="14:25:26.480" style="s2">of the code matches with your expected</p>
<p begin="14:25:23.796" end="14:25:28.796" style="s2">result so let&#39;s actually run our test</p>
<p begin="14:25:26.480" end="14:25:31.200" style="s2">now so I&#39;m going to do p test and let&#39;s</p>
<p begin="14:25:28.796" end="14:25:32.680" style="s2">see what happens right and you see the</p>
<p begin="14:25:31.200" end="14:25:35.200" style="s2">same exact thing we saw before once</p>
<p begin="14:25:32.680" end="14:25:36.200" style="s2">again it says it collected zero items no</p>
<p begin="14:25:35.200" end="14:25:38.756" style="s2">tests</p>
<p begin="14:25:36.200" end="14:25:40.400" style="s2">ran and so why exactly is this happening</p>
<p begin="14:25:38.756" end="14:25:42.080" style="s2">well if we go to our</p>
<p begin="14:25:40.400" end="14:25:44.040" style="s2">documentation and you scroll down to</p>
<p begin="14:25:42.080" end="14:25:45.596" style="s2">this feature section you go to the</p>
<p begin="14:25:44.040" end="14:25:47.756" style="s2">autodiscovery</p>
<p begin="14:25:45.596" end="14:25:50.520" style="s2">section and so this autodiscovery</p>
<p begin="14:25:47.756" end="14:25:53.240" style="s2">section is going to explain how pest</p>
<p begin="14:25:50.520" end="14:25:55.080" style="s2">finds all of the tests in your code</p>
<p begin="14:25:53.240" end="14:25:56.320" style="s2">because it does have a autodiscovery</p>
<p begin="14:25:55.080" end="14:25:57.796" style="s2">functionality where it can actually go</p>
<p begin="14:25:56.320" end="14:25:59.840" style="s2">through all of your code all of the</p>
<p begin="14:25:57.796" end="14:26:01.680" style="s2">directories and packages and recursively</p>
<p begin="14:25:59.840" end="14:26:03.596" style="s2">look through them and find the tests but</p>
<p begin="14:26:01.680" end="14:26:05.400" style="s2">it looks for specific</p>
<p begin="14:26:03.596" end="14:26:07.276" style="s2">keywords and you can see in these</p>
<p begin="14:26:05.400" end="14:26:08.320" style="s2">directories it looks for any files that</p>
<p begin="14:26:07.276" end="14:26:11.400" style="s2">start with</p>
<p begin="14:26:08.320" end="14:26:15.160" style="s2">test so you have to do testore and then</p>
<p begin="14:26:11.400" end="14:26:17.436" style="s2">some name or some namore</p>
<p begin="14:26:15.160" end="14:26:19.796" style="s2">test.py and if we go to our code right</p>
<p begin="14:26:17.436" end="14:26:21.480" style="s2">we name this my test this does not match</p>
<p begin="14:26:19.796" end="14:26:23.360" style="s2">what it&#39;s going to look for and that&#39;s</p>
<p begin="14:26:21.480" end="14:26:25.276" style="s2">why it doesn&#39;t actually find any test</p>
<p begin="14:26:23.360" end="14:26:27.956" style="s2">from that so let&#39;s change this I&#39;m going</p>
<p begin="14:26:25.276" end="14:26:31.400" style="s2">to call this let me rename this and I&#39;m</p>
<p begin="14:26:27.956" end="14:26:34.160" style="s2">going to call this how about testore</p>
<p begin="14:26:31.400" end="14:26:34.160" style="s2">calculations</p>
<p begin="14:26:37.756" end="14:26:41.596" style="s2">all right and so now if I run</p>
<p begin="14:26:42.680" end="14:26:47.480" style="s2">this you can see that it throws an error</p>
<p begin="14:26:44.956" end="14:26:51.720" style="s2">but I realized that you know within my</p>
<p begin="14:26:47.480" end="14:26:54.720" style="s2">test package I do need to have the usual</p>
<p begin="14:26:51.720" end="14:26:56.360" style="s2">uh uncore init.py to actually make it a</p>
<p begin="14:26:54.720" end="14:26:59.480" style="s2">package so I&#39;m going to do the same</p>
<p begin="14:26:56.360" end="14:27:01.840" style="s2">thing I&#39;ll doore uncore</p>
<p begin="14:26:59.480" end="14:27:04.916" style="s2">init.py because of that it wasn&#39;t able</p>
<p begin="14:27:01.840" end="14:27:07.360" style="s2">to actually import the file properly so</p>
<p begin="14:27:04.916" end="14:27:10.080" style="s2">let&#39;s let&#39;s save that and let&#39;s try this</p>
<p begin="14:27:07.360" end="14:27:12.520" style="s2">again so now if I run this you can see</p>
<p begin="14:27:10.080" end="14:27:13.680" style="s2">that hey look we collected one item so I</p>
<p begin="14:27:12.520" end="14:27:15.400" style="s2">think it&#39;s safe to say that this</p>
<p begin="14:27:13.680" end="14:27:17.756" style="s2">collected one item probably means we</p>
<p begin="14:27:15.400" end="14:27:19.916" style="s2">have one test so the number of tests</p>
<p begin="14:27:17.756" end="14:27:22.796" style="s2">equals items and then we can see that</p>
<p begin="14:27:19.916" end="14:27:26.560" style="s2">inside the test package we have a module</p>
<p begin="14:27:22.796" end="14:27:28.560" style="s2">called test _ calculations. py and then</p>
<p begin="14:27:26.560" end="14:27:30.596" style="s2">there&#39;s a little dot so the dot</p>
<p begin="14:27:28.560" end="14:27:33.116" style="s2">reference um represents one individual</p>
<p begin="14:27:30.596" end="14:27:35.956" style="s2">test and a Green Dot means means good a</p>
<p begin="14:27:33.116" end="14:27:37.956" style="s2">red dot means it failed right green is</p>
<p begin="14:27:35.956" end="14:27:39.956" style="s2">passed red is fail and so if you have</p>
<p begin="14:27:37.956" end="14:27:41.720" style="s2">two tests then you would see two dots</p>
<p begin="14:27:39.956" end="14:27:43.080" style="s2">and then if if the second test passed it</p>
<p begin="14:27:41.720" end="14:27:45.240" style="s2">would be green if it failed it would be</p>
<p begin="14:27:43.080" end="14:27:48.400" style="s2">red simple as that and so now we have</p>
<p begin="14:27:45.240" end="14:27:50.560" style="s2">successfully ran our first test and just</p>
<p begin="14:27:48.400" end="14:27:53.160" style="s2">to make our code a little bit</p>
<p begin="14:27:50.560" end="14:27:55.520" style="s2">simpler right I could just instead of</p>
<p begin="14:27:53.160" end="14:27:57.756" style="s2">having the sum variable I can just cut</p>
<p begin="14:27:55.520" end="14:27:59.000" style="s2">this out just paste it into here just to</p>
<p begin="14:27:57.756" end="14:28:02.436" style="s2">make it a little bit cleaner and then we</p>
<p begin="14:27:59.000" end="14:28:03.480" style="s2">can remove all of this</p>
<p begin="14:28:02.436" end="14:28:05.480" style="s2">and just to make sure I didn&#39;t break</p>
<p begin="14:28:03.480" end="14:28:07.796" style="s2">anything let&#39;s run our test again and we</p>
<p begin="14:28:05.480" end="14:28:10.200" style="s2">can see that once again it worked just</p>
<p begin="14:28:07.796" end="14:28:12.480" style="s2">fine now when it comes to the auto</p>
<p begin="14:28:10.200" end="14:28:14.320" style="s2">discovery of files uh a few things to</p>
<p begin="14:28:12.480" end="14:28:15.916" style="s2">note you don&#39;t necessarily have to</p>
<p begin="14:28:14.320" end="14:28:18.956" style="s2">follow this convention of testore</p>
<p begin="14:28:15.916" end="14:28:21.000" style="s2">calculations if I actually rename this</p>
<p begin="14:28:18.956" end="14:28:24.000" style="s2">and I call this you know mycore what</p>
<p begin="14:28:21.000" end="14:28:24.000" style="s2">what did I call this my</p>
<p begin="14:28:24.400" end="14:28:28.320" style="s2">test.py right now if I obviously run</p>
<p begin="14:28:26.680" end="14:28:31.400" style="s2">this it&#39;s not going to find any tests</p>
<p begin="14:28:28.320" end="14:28:33.040" style="s2">but I can pass in the specific path or</p>
<p begin="14:28:31.400" end="14:28:34.640" style="s2">the specific module that I want to test</p>
<p begin="14:28:33.040" end="14:28:37.116" style="s2">so if I do my</p>
<p begin="14:28:34.640" end="14:28:40.160" style="s2">test.py then it is able to find the test</p>
<p begin="14:28:37.116" end="14:28:41.520" style="s2">but I like to have um Pi test be able to</p>
<p begin="14:28:40.160" end="14:28:43.796" style="s2">automatically find all my tests so that</p>
<p begin="14:28:41.520" end="14:28:47.680" style="s2">I don&#39;t have to specify this so we&#39;ll</p>
<p begin="14:28:43.796" end="14:28:49.320" style="s2">rename this and go back to</p>
<p begin="14:28:47.680" end="14:28:51.436" style="s2">testore</p>
<p begin="14:28:49.320" end="14:28:52.640" style="s2">calculations because it ultimately is a</p>
<p begin="14:28:51.436" end="14:28:54.480" style="s2">module that&#39;s going to be testing my</p>
<p begin="14:28:52.640" end="14:28:56.680" style="s2">calculations</p>
<p begin="14:28:54.480" end="14:28:59.160" style="s2">module and another thing to note the</p>
<p begin="14:28:56.680" end="14:29:02.040" style="s2">name of the test within the module also</p>
<p begin="14:28:59.160" end="14:29:05.400" style="s2">matters if I call this um you know maybe</p>
<p begin="14:29:02.040" end="14:29:07.040" style="s2">something like testing add take a look</p>
<p begin="14:29:05.400" end="14:29:10.596" style="s2">at what</p>
<p begin="14:29:07.040" end="14:29:14.840" style="s2">happens whoops I wanted to Auto find it</p>
<p begin="14:29:10.596" end="14:29:17.320" style="s2">now and I forgot to save it now if I run</p>
<p begin="14:29:14.840" end="14:29:18.796" style="s2">this looks like it still works but let</p>
<p begin="14:29:17.320" end="14:29:22.360" style="s2">me change this</p>
<p begin="14:29:18.796" end="14:29:22.360" style="s2">to just something</p>
<p begin="14:29:22.956" end="14:29:28.796" style="s2">random right and so now we can see that</p>
<p begin="14:29:26.000" end="14:29:30.640" style="s2">no tests Ran So the naming of the</p>
<p begin="14:29:28.796" end="14:29:33.400" style="s2">function absolutely matters when it</p>
<p begin="14:29:30.640" end="14:29:36.160" style="s2">comes to autodiscover tests and you want</p>
<p begin="14:29:33.400" end="14:29:38.320" style="s2">to stick to the standard of testore</p>
<p begin="14:29:36.160" end="14:29:40.596" style="s2">something and I think somewhere in this</p>
<p begin="14:29:38.320" end="14:29:43.240" style="s2">documentation it&#39;s going to go over here</p>
<p begin="14:29:40.596" end="14:29:46.080" style="s2">we go test from those files collect test</p>
<p begin="14:29:43.240" end="14:29:48.320" style="s2">items so a test prefixed test function</p>
<p begin="14:29:46.080" end="14:29:50.436" style="s2">or method outside of a class or a test</p>
<p begin="14:29:48.320" end="14:29:52.756" style="s2">prefix test function or method inside a</p>
<p begin="14:29:50.436" end="14:29:54.400" style="s2">test prefix test Clause so it&#39;s got to</p>
<p begin="14:29:52.756" end="14:29:55.796" style="s2">start with test essentially it doesn&#39;t</p>
<p begin="14:29:54.400" end="14:29:58.116" style="s2">necessarily have to be test underscore</p>
<p begin="14:29:55.796" end="14:29:59.956" style="s2">that&#39;s why testing underscore add worked</p>
<p begin="14:29:58.116" end="14:30:02.480" style="s2">just fine it does have to start with the</p>
<p begin="14:29:59.956" end="14:30:04.756" style="s2">word test that&#39;s why if I said add test</p>
<p begin="14:30:02.480" end="14:30:06.480" style="s2">I don&#39;t think this will work actually</p>
<p begin="14:30:04.756" end="14:30:08.956" style="s2">shouldn&#39;t based off of their description</p>
<p begin="14:30:06.480" end="14:30:10.956" style="s2">and it doesn&#39;t so uh keep in mind that</p>
<p begin="14:30:08.956" end="14:30:12.320" style="s2">the naming does matter and I recommend</p>
<p begin="14:30:10.956" end="14:30:13.680" style="s2">you stick to the Convention of naming</p>
<p begin="14:30:12.320" end="14:30:15.680" style="s2">all of your testing modules test</p>
<p begin="14:30:13.680" end="14:30:17.116" style="s2">underscore then the name of the module</p>
<p begin="14:30:15.680" end="14:30:18.756" style="s2">that you want to test and then your</p>
<p begin="14:30:17.116" end="14:30:20.040" style="s2">functions test uncore and then the name</p>
<p begin="14:30:18.756" end="14:30:22.200" style="s2">of the function that you want to test or</p>
<p begin="14:30:20.040" end="14:30:24.596" style="s2">the functionality that you want to test</p>
<p begin="14:30:22.200" end="14:30:26.520" style="s2">now a couple of things to note I&#39;m going</p>
<p begin="14:30:24.596" end="14:30:28.040" style="s2">to run this test again and you&#39;ll see</p>
<p begin="14:30:26.520" end="14:30:30.880" style="s2">that it doesn&#39;t really give us much</p>
<p begin="14:30:28.040" end="14:30:32.956" style="s2">detail as to what&#39;s happening but we can</p>
<p begin="14:30:30.880" end="14:30:34.240" style="s2">pass in other flags to get a little bit</p>
<p begin="14:30:32.956" end="14:30:37.080" style="s2">more detail or to change the</p>
<p begin="14:30:34.240" end="14:30:39.276" style="s2">functionality so if I do p test d-el</p>
<p begin="14:30:37.080" end="14:30:41.116" style="s2">you&#39;ll see that there&#39;s a lot of options</p>
<p begin="14:30:39.276" end="14:30:43.160" style="s2">but I think something that would</p>
<p begin="14:30:41.116" end="14:30:45.320" style="s2">probably be helpful is like a-h V for</p>
<p begin="14:30:43.160" end="14:30:47.276" style="s2">verbose and I think we should have that</p>
<p begin="14:30:45.320" end="14:30:49.640" style="s2">in here so let&#39;s see if I can find that</p>
<p begin="14:30:47.276" end="14:30:53.640" style="s2">here we go Dash V is increased verbosity</p>
<p begin="14:30:49.640" end="14:30:56.040" style="s2">so uh we&#39;ll just do p test- v and let&#39;s</p>
<p begin="14:30:53.640" end="14:30:57.520" style="s2">see what happens uh and so now instead</p>
<p begin="14:30:56.040" end="14:30:59.916" style="s2">of just having a DOT it&#39;s actually going</p>
<p begin="14:30:57.520" end="14:31:01.200" style="s2">to list out the specific test that&#39;s</p>
<p begin="14:30:59.916" end="14:31:02.916" style="s2">running so I think that&#39;s a little bit</p>
<p begin="14:31:01.200" end="14:31:04.240" style="s2">more helpful and I usually like to run</p>
<p begin="14:31:02.916" end="14:31:06.360" style="s2">these tests with a little bit of extra</p>
<p begin="14:31:04.240" end="14:31:08.360" style="s2">verbosity uh just so that I know what&#39;s</p>
<p begin="14:31:06.360" end="14:31:09.720" style="s2">happening however maybe in an automated</p>
<p begin="14:31:08.360" end="14:31:12.160" style="s2">environment you don&#39;t really care about</p>
<p begin="14:31:09.720" end="14:31:14.360" style="s2">that and the other thing to note is that</p>
<p begin="14:31:12.160" end="14:31:18.360" style="s2">we have this print statement here but</p>
<p begin="14:31:14.360" end="14:31:19.796" style="s2">nowhere in the output do we actually see</p>
<p begin="14:31:18.360" end="14:31:22.436" style="s2">anything get printed out I don&#39;t see</p>
<p begin="14:31:19.796" end="14:31:24.080" style="s2">testing ad function anywhere in here and</p>
<p begin="14:31:22.436" end="14:31:26.276" style="s2">the reason for that is that by default P</p>
<p begin="14:31:24.080" end="14:31:28.080" style="s2">test will not actually print out any of</p>
<p begin="14:31:26.276" end="14:31:29.796" style="s2">your print statements we have to pass in</p>
<p begin="14:31:28.080" end="14:31:32.756" style="s2">an extra flag to do that so to see the</p>
<p begin="14:31:29.796" end="14:31:35.000" style="s2">print statements you have to pass in - s</p>
<p begin="14:31:32.756" end="14:31:37.000" style="s2">so now if I run this we can see that we</p>
<p begin="14:31:35.000" end="14:31:39.680" style="s2">ran this specific test and it ran</p>
<p begin="14:31:37.000" end="14:31:40.880" style="s2">testing ad function and so keep in mind</p>
<p begin="14:31:39.680" end="14:31:43.116" style="s2">any time you want to print something you</p>
<p begin="14:31:40.880" end="14:31:45.796" style="s2">got to pass in the dash s</p>
<p begin="14:31:43.116" end="14:31:48.360" style="s2">flag okay guys so testing really is as</p>
<p begin="14:31:45.796" end="14:31:50.320" style="s2">simple as that um but before we go on to</p>
<p begin="14:31:48.360" end="14:31:52.080" style="s2">more complicated tests I want to just</p>
<p begin="14:31:50.320" end="14:31:54.436" style="s2">make sure that we fully understand how</p>
<p begin="14:31:52.080" end="14:31:56.276" style="s2">this works so we&#39;re going to create a</p>
<p begin="14:31:54.436" end="14:31:58.160" style="s2">few more dummy functions that we can use</p>
<p begin="14:31:56.276" end="14:32:00.000" style="s2">for testings and if I go back to my</p>
<p begin="14:31:58.160" end="14:32:01.080" style="s2">calculations. py I&#39;ve already written</p>
<p begin="14:32:00.000" end="14:32:02.956" style="s2">this out so I&#39;m just going to paste it</p>
<p begin="14:32:01.080" end="14:32:04.360" style="s2">in here not to waste your time but</p>
<p begin="14:32:02.956" end="14:32:06.040" style="s2">you&#39;ll see that they all essentially do</p>
<p begin="14:32:04.360" end="14:32:07.596" style="s2">the same exact thing they just perform</p>
<p begin="14:32:06.040" end="14:32:09.480" style="s2">some sort of mathematical operation so</p>
<p begin="14:32:07.596" end="14:32:11.000" style="s2">I&#39;ve got the subtract function which</p>
<p begin="14:32:09.480" end="14:32:13.240" style="s2">just subtracts two numbers I&#39;ve got the</p>
<p begin="14:32:11.000" end="14:32:15.000" style="s2">multiply which adds two numbers and I&#39;ve</p>
<p begin="14:32:13.240" end="14:32:17.400" style="s2">got the Divide which just divides two</p>
<p begin="14:32:15.000" end="14:32:18.796" style="s2">numbers so let&#39;s test this out now uh</p>
<p begin="14:32:17.400" end="14:32:20.640" style="s2">the first thing that we got to do is</p>
<p begin="14:32:18.796" end="14:32:23.840" style="s2">well let&#39;s import all of those so there</p>
<p begin="14:32:20.640" end="14:32:27.000" style="s2">subtract multiply and</p>
<p begin="14:32:23.840" end="14:32:30.240" style="s2">divide and let&#39;s define our function</p>
<p begin="14:32:27.000" end="14:32:30.240" style="s2">for uh</p>
<p begin="14:32:30.756" end="14:32:35.320" style="s2">subtracting all right and so just like</p>
<p begin="14:32:33.116" end="14:32:36.720" style="s2">before um I&#39;m just I&#39;m going to do a</p>
<p begin="14:32:35.320" end="14:32:39.116" style="s2">oneliner so I&#39;m just going to say assert</p>
<p begin="14:32:36.720" end="14:32:40.596" style="s2">and we&#39;ll say subtract two numbers what</p>
<p begin="14:32:39.116" end="14:32:44.360" style="s2">numbers do I want to subtract how about</p>
<p begin="14:32:40.596" end="14:32:46.596" style="s2">9 and four oops 9 comma 4 and we know</p>
<p begin="14:32:44.360" end="14:32:51.116" style="s2">that 9 minus 4 should equal 5 so I can</p>
<p begin="14:32:46.596" end="14:32:51.116" style="s2">do aert equals equals</p>
<p begin="14:32:53.840" end="14:33:00.436" style="s2">five all right and if I run this</p>
<p begin="14:32:57.596" end="14:33:02.796" style="s2">again right we can see that both tests</p>
<p begin="14:33:00.436" end="14:33:04.480" style="s2">pass and just just to make sure that you</p>
<p begin="14:33:02.796" end="14:33:06.916" style="s2">know our testing actually works let&#39;s</p>
<p begin="14:33:04.480" end="14:33:09.240" style="s2">actually go into our code and let&#39;s</p>
<p begin="14:33:06.916" end="14:33:10.436" style="s2">essentially create a bug so if I want to</p>
<p begin="14:33:09.240" end="14:33:11.796" style="s2">add two numbers right we know that it&#39;s</p>
<p begin="14:33:10.436" end="14:33:14.000" style="s2">going to be num one plus num two but</p>
<p begin="14:33:11.796" end="14:33:16.680" style="s2">let&#39;s say you know one of our</p>
<p begin="14:33:14.000" end="14:33:18.000" style="s2">colleagues went in and added one which</p>
<p begin="14:33:16.680" end="14:33:21.160" style="s2">is ultimately going to cause our</p>
<p begin="14:33:18.000" end="14:33:22.680" style="s2">function to break and so ideally if</p>
<p begin="14:33:21.160" end="14:33:24.680" style="s2">everything works fine in our testing it</p>
<p begin="14:33:22.680" end="14:33:27.080" style="s2">should be able to catch this because if</p>
<p begin="14:33:24.680" end="14:33:28.480" style="s2">we add 5+ 3 it&#39;s going to do 5 + 3 and</p>
<p begin="14:33:27.080" end="14:33:30.796" style="s2">then it&#39;s going to add that extra one</p>
<p begin="14:33:28.480" end="14:33:32.596" style="s2">it&#39;s going to return 9 9al equal 8 is</p>
<p begin="14:33:30.796" end="14:33:34.596" style="s2">going to assert to a false which is</p>
<p begin="14:33:32.596" end="14:33:37.000" style="s2">going to throw an error so if we try</p>
<p begin="14:33:34.596" end="14:33:37.000" style="s2">this out</p>
<p begin="14:33:38.720" end="14:33:45.360" style="s2">now right we can see that it did in fact</p>
<p begin="14:33:42.000" end="14:33:47.596" style="s2">fail and because we set this to be a</p>
<p begin="14:33:45.360" end="14:33:49.640" style="s2">verbose we can see exactly what happened</p>
<p begin="14:33:47.596" end="14:33:52.640" style="s2">so he ran the test ad and what happened</p>
<p begin="14:33:49.640" end="14:33:56.040" style="s2">was it asserted add 5 comma 3al equal 8</p>
<p begin="14:33:52.640" end="14:33:59.040" style="s2">so it&#39;s asserting 9al 8 and that&#39;s going</p>
<p begin="14:33:56.040" end="14:34:00.880" style="s2">to throw an error and so that way we see</p>
<p begin="14:33:59.040" end="14:34:02.240" style="s2">one failed one pass so the subtract</p>
<p begin="14:34:00.880" end="14:34:03.756" style="s2">function still pass</p>
<p begin="14:34:02.240" end="14:34:06.116" style="s2">because we didn&#39;t touch the code for</p>
<p begin="14:34:03.756" end="14:34:08.720" style="s2">that so I&#39;m going to go back and fix our</p>
<p begin="14:34:06.116" end="14:34:08.720" style="s2">bug in this</p>
<p begin="14:34:08.796" end="14:34:12.840" style="s2">case and we&#39;re going to just set up a</p>
<p begin="14:34:10.796" end="14:34:13.956" style="s2">couple more test functions um for</p>
<p begin="14:34:12.840" end="14:34:16.880" style="s2">multiply and</p>
<p begin="14:34:13.956" end="14:34:18.040" style="s2">divide and I can just really just copy</p>
<p begin="14:34:16.880" end="14:34:22.160" style="s2">these</p>
<p begin="14:34:18.040" end="14:34:22.160" style="s2">actually and I&#39;ll just change this to</p>
<p begin="14:34:24.200" end="14:34:29.080" style="s2">multiply</p>
<p begin="14:34:25.756" end="14:34:33.360" style="s2">divide and we&#39;ll just select a couple of</p>
<p begin="14:34:29.080" end="14:34:33.360" style="s2">numbers so let&#39;s say uh</p>
<p begin="14:34:36.436" end="14:34:43.200" style="s2">and I realized looks like that&#39;s a typo</p>
<p begin="14:34:38.916" end="14:34:43.200" style="s2">this should be multiply with an</p>
<p begin="14:34:45.796" end="14:34:52.080" style="s2">L all right and we&#39;ll say uh four and</p>
<p begin="14:34:49.240" end="14:34:54.596" style="s2">three so when we multiply 4 * 3 that</p>
<p begin="14:34:52.080" end="14:34:58.680" style="s2">should equal</p>
<p begin="14:34:54.596" end="14:35:00.680" style="s2">12 and for divide we&#39;ll change the</p>
<p begin="14:34:58.680" end="14:35:02.880" style="s2">function that we&#39;re calling to be divide</p>
<p begin="14:35:00.680" end="14:35:06.916" style="s2">and we&#39;ll do</p>
<p begin="14:35:02.880" end="14:35:08.596" style="s2">20 5 so 20 divided 5 should equal four</p>
<p begin="14:35:06.916" end="14:35:11.680" style="s2">and so now if I save everything we</p>
<p begin="14:35:08.596" end="14:35:14.160" style="s2">should ideally see all four of our tests</p>
<p begin="14:35:11.680" end="14:35:16.080" style="s2">pass let&#39;s try this out again and you</p>
<p begin="14:35:14.160" end="14:35:17.000" style="s2">don&#39;t have to use the- V or the- S flag</p>
<p begin="14:35:16.080" end="14:35:18.160" style="s2">if you&#39;re not printing anything or you</p>
<p begin="14:35:17.000" end="14:35:20.080" style="s2">don&#39;t want to see it you don&#39;t need the-</p>
<p begin="14:35:18.160" end="14:35:21.840" style="s2">s and maybe you don&#39;t want the verbosity</p>
<p begin="14:35:20.080" end="14:35:23.596" style="s2">so you could technically remove those as</p>
<p begin="14:35:21.840" end="14:35:25.520" style="s2">well and we can see that we get four</p>
<p begin="14:35:23.596" end="14:35:28.360" style="s2">dots which means all four of our test</p>
<p begin="14:35:25.520" end="14:35:30.596" style="s2">functions have</p>
<p begin="14:35:28.360" end="14:35:31.840" style="s2">succeeded if you&#39;re like me the first</p>
<p begin="14:35:30.596" end="14:35:33.680" style="s2">thing that you may have noticed is that</p>
<p begin="14:35:31.840" end="14:35:36.400" style="s2">you know testing with one set of numbers</p>
<p begin="14:35:33.680" end="14:35:38.756" style="s2">doesn&#39;t seem Ultra reliable right that</p>
<p begin="14:35:36.400" end="14:35:40.720" style="s2">doesn&#39;t necessarily assure us that the</p>
<p begin="14:35:38.756" end="14:35:42.200" style="s2">function that we wrote actually does</p>
<p begin="14:35:40.720" end="14:35:43.956" style="s2">what it&#39;s supposed to do I would ideally</p>
<p begin="14:35:42.200" end="14:35:46.400" style="s2">like to test with a couple of different</p>
<p begin="14:35:43.956" end="14:35:47.956" style="s2">sets of numbers and the way to do that</p>
<p begin="14:35:46.400" end="14:35:49.756" style="s2">is well you know I&#39;m sure if you just</p>
<p begin="14:35:47.956" end="14:35:53.200" style="s2">took a guess right you&#39;re probably</p>
<p begin="14:35:49.756" end="14:35:56.040" style="s2">thinking well maybe we just copy this</p>
<p begin="14:35:53.200" end="14:35:58.680" style="s2">function paste it well that should be</p>
<p begin="14:35:56.040" end="14:36:01.080" style="s2">back here and then maybe just call this</p>
<p begin="14:35:58.680" end="14:36:03.160" style="s2">test ad to maybe we don&#39;t need this</p>
<p begin="14:36:01.080" end="14:36:05.240" style="s2">print state anymore and then you provide</p>
<p begin="14:36:03.160" end="14:36:08.840" style="s2">the other sets of numbers so maybe like</p>
<p begin="14:36:05.240" end="14:36:12.956" style="s2">four and two should equal six and then</p>
<p begin="14:36:08.840" end="14:36:14.840" style="s2">you try this out and you run this and we</p>
<p begin="14:36:12.956" end="14:36:17.796" style="s2">can see that that worked and technically</p>
<p begin="14:36:14.840" end="14:36:19.596" style="s2">you can do that but P test provides us a</p>
<p begin="14:36:17.796" end="14:36:21.080" style="s2">simpler way of doing this so I&#39;m going</p>
<p begin="14:36:19.596" end="14:36:22.880" style="s2">to delete this because we don&#39;t need</p>
<p begin="14:36:21.080" end="14:36:26.160" style="s2">that I&#39;m going to show you how we can do</p>
<p begin="14:36:22.880" end="14:36:28.436" style="s2">this using something called</p>
<p begin="14:36:26.160" end="14:36:31.720" style="s2">parametrize so I&#39;m going to import P</p>
<p begin="14:36:28.436" end="14:36:35.040" style="s2">test so I&#39;ll say from</p>
<p begin="14:36:31.720" end="14:36:35.040" style="s2">actually I&#39;ll just say import py</p>
<p begin="14:36:36.400" end="14:36:40.796" style="s2">test and we&#39;re going to add a special</p>
<p begin="14:36:38.520" end="14:36:43.956" style="s2">decorator from the pest Library so we</p>
<p begin="14:36:40.796" end="14:36:46.360" style="s2">say at py test.</p>
<p begin="14:36:43.956" end="14:36:48.240" style="s2">mark.</p>
<p begin="14:36:46.360" end="14:36:50.040" style="s2">parameterize and so here we can</p>
<p begin="14:36:48.240" end="14:36:51.880" style="s2">essentially provide a list of numbers</p>
<p begin="14:36:50.040" end="14:36:54.796" style="s2">that we want to use for testing and then</p>
<p begin="14:36:51.880" end="14:36:56.276" style="s2">provide what is the expected result uh</p>
<p begin="14:36:54.796" end="14:36:58.796" style="s2">and so you know our function takes two</p>
<p begin="14:36:56.276" end="14:37:00.720" style="s2">inputs five and three and we also need</p>
<p begin="14:36:58.796" end="14:37:02.116" style="s2">to provide what is the result so these</p>
<p begin="14:37:00.720" end="14:37:03.840" style="s2">are all the values that we&#39;re providing</p>
<p begin="14:37:02.116" end="14:37:06.756" style="s2">we have three values for this specific</p>
<p begin="14:37:03.840" end="14:37:09.200" style="s2">function so we&#39;re going to tell this</p>
<p begin="14:37:06.756" end="14:37:10.720" style="s2">specific decorator what are the three</p>
<p begin="14:37:09.200" end="14:37:16.276" style="s2">things that we want to provide for each</p>
<p begin="14:37:10.720" end="14:37:18.276" style="s2">test case so in quotations we&#39;ll do num</p>
<p begin="14:37:16.276" end="14:37:22.640" style="s2">one num</p>
<p begin="14:37:18.276" end="14:37:24.276" style="s2">two and then um the expected value now</p>
<p begin="14:37:22.640" end="14:37:26.240" style="s2">what you call these doesn&#39;t matter it&#39;s</p>
<p begin="14:37:24.276" end="14:37:28.200" style="s2">up to you right but these are going to</p>
<p begin="14:37:26.240" end="14:37:29.480" style="s2">be treated like variables essentially so</p>
<p begin="14:37:28.200" end="14:37:31.640" style="s2">you can call them what you whatever you</p>
<p begin="14:37:29.480" end="14:37:34.116" style="s2">want you can call this x you can call</p>
<p begin="14:37:31.640" end="14:37:36.596" style="s2">this why you could call this</p>
<p begin="14:37:34.116" end="14:37:38.160" style="s2">result it doesn&#39;t really matter um but</p>
<p begin="14:37:36.596" end="14:37:40.400" style="s2">I&#39;m going to stick with num one num two</p>
<p begin="14:37:38.160" end="14:37:40.400" style="s2">and</p>
<p begin="14:37:42.276" end="14:37:46.000" style="s2">expected and more importantly take a</p>
<p begin="14:37:44.436" end="14:37:49.160" style="s2">look at how this is set up right your</p>
<p begin="14:37:46.000" end="14:37:52.520" style="s2">instinct is probably to do the end quote</p>
<p begin="14:37:49.160" end="14:37:54.436" style="s2">here and then quote here quote here and</p>
<p begin="14:37:52.520" end="14:37:55.916" style="s2">then quote here like that that&#39;s not</p>
<p begin="14:37:54.436" end="14:37:57.160" style="s2">what we want that is not how it actually</p>
<p begin="14:37:55.916" end="14:37:58.520" style="s2">works which I don&#39;t know why they</p>
<p begin="14:37:57.160" end="14:38:00.720" style="s2">decided to do it like this but that&#39;s</p>
<p begin="14:37:58.520" end="14:38:03.436" style="s2">just what they&#39;ve chosen so instead you</p>
<p begin="14:38:00.720" end="14:38:03.436" style="s2">remove these</p>
<p begin="14:38:03.596" end="14:38:08.116" style="s2">and everything should just be one big</p>
<p begin="14:38:05.720" end="14:38:09.200" style="s2">string so that&#39;s the first argument into</p>
<p begin="14:38:08.116" end="14:38:11.116" style="s2">this</p>
<p begin="14:38:09.200" end="14:38:13.240" style="s2">decorator the second thing is going to</p>
<p begin="14:38:11.116" end="14:38:16.200" style="s2">be a list and it&#39;s going to be a list of</p>
<p begin="14:38:13.240" end="14:38:18.560" style="s2">tupal and each tupal should represent</p>
<p begin="14:38:16.200" end="14:38:20.796" style="s2">one specific test case so the first</p>
<p begin="14:38:18.560" end="14:38:22.880" style="s2">Tuple we&#39;re going to provide our test</p>
<p begin="14:38:20.796" end="14:38:25.160" style="s2">case values so we want what is the value</p>
<p begin="14:38:22.880" end="14:38:28.000" style="s2">of num one so in the first test let&#39;s</p>
<p begin="14:38:25.160" end="14:38:29.956" style="s2">say we want three for Num one what&#39;s the</p>
<p begin="14:38:28.000" end="14:38:31.080" style="s2">second one that&#39;s going to be num two so</p>
<p begin="14:38:29.956" end="14:38:34.240" style="s2">it&#39;s going to line up with what we&#39;ve</p>
<p begin="14:38:31.080" end="14:38:36.116" style="s2">put here here so we&#39;ll say 3</p>
<p begin="14:38:34.240" end="14:38:38.276" style="s2">2 and then what is going to be the</p>
<p begin="14:38:36.116" end="14:38:40.160" style="s2">expected value well 3 + 2 should equal 5</p>
<p begin="14:38:38.276" end="14:38:43.080" style="s2">so we just say</p>
<p begin="14:38:40.160" end="14:38:44.680" style="s2">five and so that&#39;s our first test if we</p>
<p begin="14:38:43.080" end="14:38:46.880" style="s2">want to add a second test just do comma</p>
<p begin="14:38:44.680" end="14:38:48.640" style="s2">add another tupal and let&#39;s just add</p>
<p begin="14:38:46.880" end="14:38:53.040" style="s2">another set of number so let&#39;s say num</p>
<p begin="14:38:48.640" end="14:38:55.520" style="s2">one is 7even num two is 1 we know that</p>
<p begin="14:38:53.040" end="14:38:55.520" style="s2">should equal</p>
<p begin="14:38:55.640" end="14:39:02.276" style="s2">eight and just one more</p>
<p begin="14:38:58.596" end="14:39:06.160" style="s2">test and here I&#39;ll say 12</p>
<p begin="14:39:02.276" end="14:39:06.160" style="s2">and four should give us</p>
<p begin="14:39:06.360" end="14:39:11.320" style="s2">16 all right and so now what we can do</p>
<p begin="14:39:08.916" end="14:39:13.320" style="s2">is we can pass these variable names into</p>
<p begin="14:39:11.320" end="14:39:17.756" style="s2">our testore add</p>
<p begin="14:39:13.320" end="14:39:19.520" style="s2">function so I&#39;ll say num one num two and</p>
<p begin="14:39:17.756" end="14:39:20.840" style="s2">expected right so you want to make sure</p>
<p begin="14:39:19.520" end="14:39:22.796" style="s2">these match up with what you&#39;ve placed</p>
<p begin="14:39:20.840" end="14:39:23.796" style="s2">here uh because if this was called X</p>
<p begin="14:39:22.796" end="14:39:25.240" style="s2">then you want to make sure that this is</p>
<p begin="14:39:23.796" end="14:39:29.080" style="s2">called</p>
<p begin="14:39:25.240" end="14:39:29.080" style="s2">X but we&#39;ll change that</p>
<p begin="14:39:30.040" end="14:39:34.160" style="s2">back and now in our codee we want to</p>
<p begin="14:39:32.640" end="14:39:36.040" style="s2">replace all of our test values with</p>
<p begin="14:39:34.160" end="14:39:39.916" style="s2">these variables so this is going to be</p>
<p begin="14:39:36.040" end="14:39:43.360" style="s2">num one this is going to be num two and</p>
<p begin="14:39:39.916" end="14:39:43.360" style="s2">this is going to be</p>
<p begin="14:39:44.080" end="14:39:48.796" style="s2">expected and so now if I run this and</p>
<p begin="14:39:46.480" end="14:39:51.000" style="s2">we&#39;ll just do A- V just to see more in</p>
<p begin="14:39:48.796" end="14:39:52.756" style="s2">detail what&#39;s happening take a look at</p>
<p begin="14:39:51.000" end="14:39:55.720" style="s2">what&#39;s happening now we can see that</p>
<p begin="14:39:52.756" end="14:39:58.116" style="s2">test ad ran and it ran with 325 which is</p>
<p begin="14:39:55.720" end="14:40:00.040" style="s2">the first test case it passed then it</p>
<p begin="14:39:58.116" end="14:40:03.160" style="s2">ran the same exact test with these</p>
<p begin="14:40:00.040" end="14:40:06.916" style="s2">values 718 that passed and then it ran</p>
<p begin="14:40:03.160" end="14:40:08.840" style="s2">with these values and that ran and it</p>
<p begin="14:40:06.916" end="14:40:11.116" style="s2">passed just fine and then finally all of</p>
<p begin="14:40:08.840" end="14:40:12.916" style="s2">the other functions also passed as well</p>
<p begin="14:40:11.116" end="14:40:15.276" style="s2">so this is one way of running the same</p>
<p begin="14:40:12.916" end="14:40:17.200" style="s2">test over with multiple values without</p>
<p begin="14:40:15.276" end="14:40:18.880" style="s2">having to just Define three four five</p>
<p begin="14:40:17.200" end="14:40:20.680" style="s2">functions than just copying and pasting</p>
<p begin="14:40:18.880" end="14:40:23.360" style="s2">it&#39;s a little bit cleaner doing it like</p>
<p begin="14:40:20.680" end="14:40:24.640" style="s2">this so till now we&#39;ve just tested some</p>
<p begin="14:40:23.360" end="14:40:25.956" style="s2">simple functions and you&#39;ll see that</p>
<p begin="14:40:24.640" end="14:40:27.360" style="s2">when it comes to testing anytime you</p>
<p begin="14:40:25.956" end="14:40:29.400" style="s2">want to test a function it&#39;s actually</p>
<p begin="14:40:27.360" end="14:40:31.276" style="s2">pretty easy however when you&#39;re working</p>
<p begin="14:40:29.400" end="14:40:32.916" style="s2">with classes it gets a little bit</p>
<p begin="14:40:31.276" end="14:40:34.956" style="s2">trickier and it usually involves having</p>
<p begin="14:40:32.916" end="14:40:36.956" style="s2">to write a little bit more code so I&#39;ve</p>
<p begin="14:40:34.956" end="14:40:38.840" style="s2">created a simple dummy class in this</p>
<p begin="14:40:36.956" end="14:40:40.916" style="s2">case called bank account and this</p>
<p begin="14:40:38.840" end="14:40:42.000" style="s2">represents a person&#39;s bank account and</p>
<p begin="14:40:40.916" end="14:40:43.200" style="s2">I&#39;ve already written this out because I</p>
<p begin="14:40:42.000" end="14:40:44.640" style="s2">didn&#39;t want to waste your time writing</p>
<p begin="14:40:43.200" end="14:40:46.116" style="s2">this out so if you want to pause this</p>
<p begin="14:40:44.640" end="14:40:48.160" style="s2">video and just copy down the code so you</p>
<p begin="14:40:46.116" end="14:40:49.756" style="s2">can follow along go ahead and do that</p>
<p begin="14:40:48.160" end="14:40:51.640" style="s2">but let me just quickly walk you through</p>
<p begin="14:40:49.756" end="14:40:54.240" style="s2">what this specific class is</p>
<p begin="14:40:51.640" end="14:40:56.240" style="s2">doing um but like I said this represents</p>
<p begin="14:40:54.240" end="14:40:58.200" style="s2">a bank account so first of all we&#39;ve got</p>
<p begin="14:40:56.240" end="14:41:00.840" style="s2">the Constructor so when we create a bank</p>
<p begin="14:40:58.200" end="14:41:02.640" style="s2">account we uh can create a bank account</p>
<p begin="14:41:00.840" end="14:41:03.880" style="s2">with a spefic specific amount of money</p>
<p begin="14:41:02.640" end="14:41:05.360" style="s2">which is going to be referenced by the</p>
<p begin="14:41:03.880" end="14:41:07.480" style="s2">starting balance value and then it&#39;s</p>
<p begin="14:41:05.360" end="14:41:09.276" style="s2">just going to set the balance property</p>
<p begin="14:41:07.480" end="14:41:10.840" style="s2">of the bank account class to be whatever</p>
<p begin="14:41:09.276" end="14:41:12.560" style="s2">you provide if you don&#39;t provide a</p>
<p begin="14:41:10.840" end="14:41:15.320" style="s2">starting value it&#39;s going to default to</p>
<p begin="14:41:12.560" end="14:41:17.596" style="s2">a value of zero then we&#39;ve got three</p>
<p begin="14:41:15.320" end="14:41:19.000" style="s2">different methods we&#39;ve got deposit</p>
<p begin="14:41:17.596" end="14:41:20.360" style="s2">which means we&#39;re going to deposit money</p>
<p begin="14:41:19.000" end="14:41:22.200" style="s2">into our bank account so all we&#39;re doing</p>
<p begin="14:41:20.360" end="14:41:23.276" style="s2">is we&#39;re going to pass in a value and</p>
<p begin="14:41:22.200" end="14:41:25.956" style="s2">then we&#39;re just going to add it to our</p>
<p begin="14:41:23.276" end="14:41:27.640" style="s2">total balance withdraw is the opposite</p>
<p begin="14:41:25.956" end="14:41:30.240" style="s2">we&#39;re going to subtract a certain amount</p>
<p begin="14:41:27.640" end="14:41:32.160" style="s2">from our balance and then uh collect</p>
<p begin="14:41:30.240" end="14:41:34.080" style="s2">interest is uh simple we&#39;re just</p>
<p begin="14:41:32.160" end="14:41:36.040" style="s2">collecting interest so here we just take</p>
<p begin="14:41:34.080" end="14:41:38.320" style="s2">our balance and then multiply it by 1.1</p>
<p begin="14:41:36.040" end="14:41:40.880" style="s2">which I guess would represent a 1%</p>
<p begin="14:41:38.320" end="14:41:43.640" style="s2">interest rate uh and so those are the</p>
<p begin="14:41:40.880" end="14:41:45.320" style="s2">three or four functions U methods if you</p>
<p begin="14:41:43.640" end="14:41:47.560" style="s2">want to count the Constructor method as</p>
<p begin="14:41:45.320" end="14:41:50.520" style="s2">well that our bank account class has so</p>
<p begin="14:41:47.560" end="14:41:52.276" style="s2">I want to go ahead and test this out now</p>
<p begin="14:41:50.520" end="14:41:54.200" style="s2">so we&#39;ll go to our test</p>
<p begin="14:41:52.276" end="14:41:56.400" style="s2">calculations and first of all we want to</p>
<p begin="14:41:54.200" end="14:41:59.116" style="s2">import our bank account</p>
<p begin="14:41:56.400" end="14:42:01.956" style="s2">class so let&#39;s create a test for our</p>
<p begin="14:41:59.116" end="14:42:04.160" style="s2">bank account</p>
<p begin="14:42:01.956" end="14:42:07.276" style="s2">and the first thing I want to test is uh</p>
<p begin="14:42:04.160" end="14:42:10.040" style="s2">let&#39;s create a brand new bank</p>
<p begin="14:42:07.276" end="14:42:13.116" style="s2">account um where we set the default</p>
<p begin="14:42:10.040" end="14:42:16.160" style="s2">value uh the initial amount to be 50 so</p>
<p begin="14:42:13.116" end="14:42:18.360" style="s2">here I&#39;ll say um</p>
<p begin="14:42:16.160" end="14:42:20.360" style="s2">test and I&#39;m just going to call this</p>
<p begin="14:42:18.360" end="14:42:24.520" style="s2">maybe test</p>
<p begin="14:42:20.360" end="14:42:26.480" style="s2">Bank set initial amount I want this to</p>
<p begin="14:42:24.520" end="14:42:28.360" style="s2">be as descriptive as</p>
<p begin="14:42:26.480" end="14:42:29.520" style="s2">possible and so here what we&#39;re going to</p>
<p begin="14:42:28.360" end="14:42:33.116" style="s2">do is first of all we&#39;re going to create</p>
<p begin="14:42:29.520" end="14:42:33.116" style="s2">a brand new bank account instance</p>
<p begin="14:42:33.916" end="14:42:37.640" style="s2">and since this test is going to test to</p>
<p begin="14:42:35.756" end="14:42:39.840" style="s2">ensure that we have actually created a</p>
<p begin="14:42:37.640" end="14:42:41.680" style="s2">brand new bank account with a certain</p>
<p begin="14:42:39.840" end="14:42:43.276" style="s2">amount of money I&#39;m going to provide a</p>
<p begin="14:42:41.680" end="14:42:45.320" style="s2">value doesn&#39;t matter what value you</p>
<p begin="14:42:43.276" end="14:42:48.116" style="s2">decide to use but I&#39;m going to use 50</p>
<p begin="14:42:45.320" end="14:42:51.436" style="s2">and we&#39;ll just store this in a variable</p>
<p begin="14:42:48.116" end="14:42:51.436" style="s2">called bank</p>
<p begin="14:42:52.916" end="14:42:57.796" style="s2">account all right and so to test if our</p>
<p begin="14:42:56.116" end="14:43:00.160" style="s2">function actually worked or the</p>
<p begin="14:42:57.796" end="14:43:02.040" style="s2">functionality of our Constructor method</p>
<p begin="14:43:00.160" end="14:43:03.240" style="s2">actually worked what we&#39;re going to do</p>
<p begin="14:43:02.040" end="14:43:07.756" style="s2">is we just say</p>
<p begin="14:43:03.240" end="14:43:09.360" style="s2">assert and we want to check the bank</p>
<p begin="14:43:07.756" end="14:43:12.480" style="s2">accountbalance</p>
<p begin="14:43:09.360" end="14:43:14.320" style="s2">property equals equals 50 cuz we set the</p>
<p begin="14:43:12.480" end="14:43:15.756" style="s2">default value to be 50 and if we just</p>
<p begin="14:43:14.320" end="14:43:18.360" style="s2">quickly go back to our code you can see</p>
<p begin="14:43:15.756" end="14:43:19.880" style="s2">that we set the starting balance um or</p>
<p begin="14:43:18.360" end="14:43:21.956" style="s2">we set our balance property to be</p>
<p begin="14:43:19.880" end="14:43:23.560" style="s2">whatever the starting balance is it just</p>
<p begin="14:43:21.956" end="14:43:25.160" style="s2">happens to be a default of zero if we</p>
<p begin="14:43:23.560" end="14:43:27.040" style="s2">don&#39;t provide one but we are providing</p>
<p begin="14:43:25.160" end="14:43:29.116" style="s2">one and that&#39;s what we&#39;re testing so we</p>
<p begin="14:43:27.040" end="14:43:32.680" style="s2">can test this let&#39;s run our code now and</p>
<p begin="14:43:29.116" end="14:43:32.680" style="s2">let&#39;s see if this worked</p>
<p begin="14:43:32.916" end="14:43:36.596" style="s2">we can see that it did in fact</p>
<p begin="14:43:37.000" end="14:43:42.436" style="s2">work and just to introduce a bug maybe</p>
<p begin="14:43:39.680" end="14:43:45.840" style="s2">we set starting balance to</p>
<p begin="14:43:42.436" end="14:43:48.400" style="s2">be uh you know minus one right so we</p>
<p begin="14:43:45.840" end="14:43:50.720" style="s2">broken our code now if we run this one</p>
<p begin="14:43:48.400" end="14:43:52.240" style="s2">more time all right you can see it</p>
<p begin="14:43:50.720" end="14:43:54.116" style="s2">failed because we subtracted one so</p>
<p begin="14:43:52.240" end="14:43:55.756" style="s2">we&#39;re asserting 49 equals equals 50</p>
<p begin="14:43:54.116" end="14:43:57.756" style="s2">which throws an error which means we</p>
<p begin="14:43:55.756" end="14:44:00.040" style="s2">ultimately fail the</p>
<p begin="14:43:57.756" end="14:44:01.916" style="s2">test let me remove that</p>
<p begin="14:44:00.040" end="14:44:03.276" style="s2">bug all right the next thing that we</p>
<p begin="14:44:01.916" end="14:44:04.480" style="s2">want to do is Let&#39;s test to make sure</p>
<p begin="14:44:03.276" end="14:44:07.276" style="s2">that the</p>
<p begin="14:44:04.480" end="14:44:09.560" style="s2">default starting balance works as well</p>
<p begin="14:44:07.276" end="14:44:14.400" style="s2">so I&#39;m going to create another function</p>
<p begin="14:44:09.560" end="14:44:17.796" style="s2">and I&#39;ll call this uh how about test</p>
<p begin="14:44:14.400" end="14:44:19.640" style="s2">bankor default</p>
<p begin="14:44:17.796" end="14:44:21.276" style="s2">amount so in this case we&#39;re just going</p>
<p begin="14:44:19.640" end="14:44:23.276" style="s2">to create a brand new bank</p>
<p begin="14:44:21.276" end="14:44:25.160" style="s2">account and we&#39;re not going to pass in a</p>
<p begin="14:44:23.276" end="14:44:27.756" style="s2">value so it should default to zero if</p>
<p begin="14:44:25.160" end="14:44:29.276" style="s2">our code works and we&#39;ll store this in a</p>
<p begin="14:44:27.756" end="14:44:32.560" style="s2">variable just like we did before and</p>
<p begin="14:44:29.276" end="14:44:34.796" style="s2">then we&#39;ll assert</p>
<p begin="14:44:32.560" end="14:44:38.956" style="s2">I can copy</p>
<p begin="14:44:34.796" end="14:44:42.880" style="s2">this but now it should equal</p>
<p begin="14:44:38.956" end="14:44:45.596" style="s2">zero okay and let&#39;s test this out</p>
<p begin="14:44:42.880" end="14:44:47.596" style="s2">now right and it looks like it worked so</p>
<p begin="14:44:45.596" end="14:44:50.360" style="s2">great and let&#39;s just quickly go ahead</p>
<p begin="14:44:47.596" end="14:44:52.956" style="s2">and test our last two functions out</p>
<p begin="14:44:50.360" end="14:44:54.796" style="s2">sorry we got three more actually so um</p>
<p begin="14:44:52.956" end="14:44:59.116" style="s2">let&#39;s test the withdrawing functionality</p>
<p begin="14:44:54.796" end="14:44:59.116" style="s2">so we&#39;ll do testore withdraw</p>
<p begin="14:45:04.756" end="14:45:08.160" style="s2">and here we&#39;re going to initialize</p>
<p begin="14:45:06.596" end="14:45:09.360" style="s2">another bank account instance because we</p>
<p begin="14:45:08.160" end="14:45:11.520" style="s2">have to do that every time we want to</p>
<p begin="14:45:09.360" end="14:45:13.276" style="s2">test it I&#39;m going to give it a default</p>
<p begin="14:45:11.520" end="14:45:14.480" style="s2">value of 50 it doesn&#39;t have to be 50</p>
<p begin="14:45:13.276" end="14:45:16.320" style="s2">once again you can choose whatever</p>
<p begin="14:45:14.480" end="14:45:18.560" style="s2">number you</p>
<p begin="14:45:16.320" end="14:45:21.320" style="s2">want and we&#39;ll store that in a variable</p>
<p begin="14:45:18.560" end="14:45:21.320" style="s2">called bank</p>
<p begin="14:45:24.040" end="14:45:29.276" style="s2">account and we&#39;ll call the bank account</p>
<p begin="14:45:27.200" end="14:45:31.956" style="s2">withdraw method and we&#39;re going to</p>
<p begin="14:45:29.276" end="14:45:34.240" style="s2">withdraw you know let&#39;s say $20</p>
<p begin="14:45:31.956" end="14:45:36.436" style="s2">so we start out with 50 we withdraw 20</p>
<p begin="14:45:34.240" end="14:45:38.040" style="s2">we know that the result should be 30 so</p>
<p begin="14:45:36.436" end="14:45:39.680" style="s2">if I just copy this assert statement</p>
<p begin="14:45:38.040" end="14:45:42.956" style="s2">once</p>
<p begin="14:45:39.680" end="14:45:45.756" style="s2">again I can just change this to 30 and</p>
<p begin="14:45:42.956" end="14:45:45.756" style="s2">it should be no</p>
<p begin="14:45:47.116" end="14:45:52.360" style="s2">problem run this once again all of our</p>
<p begin="14:45:49.796" end="14:45:54.520" style="s2">tests have passed uh let&#39;s try the</p>
<p begin="14:45:52.360" end="14:45:57.400" style="s2">deposit functionality now so I&#39;ll create</p>
<p begin="14:45:54.520" end="14:45:57.400" style="s2">a test to test</p>
<p begin="14:45:57.916" end="14:46:01.680" style="s2">that and I&#39;m actually just going to copy</p>
<p begin="14:46:00.240" end="14:46:03.880" style="s2">all of this code because it&#39;s pretty</p>
<p begin="14:46:01.680" end="14:46:06.520" style="s2">much identical you&#39;ll see that testing</p>
<p begin="14:46:03.880" end="14:46:07.956" style="s2">can become a little rep uh repetitive</p>
<p begin="14:46:06.520" end="14:46:09.956" style="s2">we&#39;ll start out with an initial value of</p>
<p begin="14:46:07.956" end="14:46:11.596" style="s2">50 doesn&#39;t really matter we&#39;ll change</p>
<p begin="14:46:09.956" end="14:46:14.840" style="s2">the method to be</p>
<p begin="14:46:11.596" end="14:46:20.116" style="s2">deposit maybe we want to deposit</p>
<p begin="14:46:14.840" end="14:46:20.116" style="s2">$30 so 50 plus 30 should equal</p>
<p begin="14:46:20.360" end="14:46:25.916" style="s2">80 we test this</p>
<p begin="14:46:23.400" end="14:46:27.756" style="s2">out looks like everything&#39;s</p>
<p begin="14:46:25.916" end="14:46:31.840" style="s2">working and the last thing that we want</p>
<p begin="14:46:27.756" end="14:46:33.596" style="s2">to test is the collect interest method</p>
<p begin="14:46:31.840" end="14:46:39.880" style="s2">so let&#39;s create a function for that</p>
<p begin="14:46:33.596" end="14:46:39.880" style="s2">we&#39;ll do testore collector</p>
<p begin="14:46:44.520" end="14:46:48.720" style="s2">interest and once again I&#39;m going to</p>
<p begin="14:46:46.320" end="14:46:48.720" style="s2">copy this</p>
<p begin="14:46:48.840" end="14:46:52.756" style="s2">code and we&#39;ll just use it here we&#39;re</p>
<p begin="14:46:51.000" end="14:46:55.796" style="s2">just going to change the method to</p>
<p begin="14:46:52.756" end="14:46:57.796" style="s2">interest or collect</p>
<p begin="14:46:55.796" end="14:47:00.520" style="s2">interest okay so we start out with the</p>
<p begin="14:46:57.796" end="14:47:02.160" style="s2">value of 50 uh and so what should the</p>
<p begin="14:47:00.520" end="14:47:03.956" style="s2">interest be well if I take a look at</p>
<p begin="14:47:02.160" end="14:47:07.080" style="s2">what my method actually does it just</p>
<p begin="14:47:03.956" end="14:47:10.320" style="s2">takes the number multiplies by 1.1 so</p>
<p begin="14:47:07.080" end="14:47:15.000" style="s2">that should give us 55 right</p>
<p begin="14:47:10.320" end="14:47:19.560" style="s2">1.1 * 50 should be 55 so I will</p>
<p begin="14:47:15.000" end="14:47:23.040" style="s2">say this should be 55 and let&#39;s see what</p>
<p begin="14:47:19.560" end="14:47:24.680" style="s2">happens so if I run this and we can see</p>
<p begin="14:47:23.040" end="14:47:26.040" style="s2">that we did have one test failed and I&#39;m</p>
<p begin="14:47:24.680" end="14:47:27.796" style="s2">assuming it&#39;s going to be the last test</p>
<p begin="14:47:26.040" end="14:47:31.240" style="s2">the one we just created and we can see</p>
<p begin="14:47:27.796" end="14:47:33.200" style="s2">the uh the test collect uncore interest</p>
<p begin="14:47:31.240" end="14:47:35.880" style="s2">failed and the reason for that is that</p>
<p begin="14:47:33.200" end="14:47:38.480" style="s2">it looks like bank account. balance</p>
<p begin="14:47:35.880" end="14:47:41.880" style="s2">returns a value of</p>
<p begin="14:47:38.480" end="14:47:44.680" style="s2">55.1 which in Python is not the same</p>
<p begin="14:47:41.880" end="14:47:46.116" style="s2">thing as 55 so this isn&#39;t necessarily an</p>
<p begin="14:47:44.680" end="14:47:48.276" style="s2">issue with our code it&#39;s just the way</p>
<p begin="14:47:46.116" end="14:47:50.596" style="s2">that um you know we&#39;re comparing numbers</p>
<p begin="14:47:48.276" end="14:47:52.116" style="s2">in our test so this is an issue with our</p>
<p begin="14:47:50.596" end="14:47:54.320" style="s2">test in this case because it&#39;s not</p>
<p begin="14:47:52.116" end="14:47:55.756" style="s2">accounting for some of the the different</p>
<p begin="14:47:54.320" end="14:47:57.560" style="s2">rounding and the way that calculations</p>
<p begin="14:47:55.756" end="14:48:01.320" style="s2">occur within python so what we&#39;re going</p>
<p begin="14:47:57.560" end="14:48:03.840" style="s2">to do is what we can just call the round</p>
<p begin="14:48:01.320" end="14:48:07.000" style="s2">method right here and we can round it to</p>
<p begin="14:48:03.840" end="14:48:08.756" style="s2">uh you know five or six decimal places</p>
<p begin="14:48:07.000" end="14:48:11.796" style="s2">depending on how accurate you want it to</p>
<p begin="14:48:08.756" end="14:48:13.756" style="s2">be so it should now round it to you know</p>
<p begin="14:48:11.796" end="14:48:16.200" style="s2">this value however many decimals is five</p>
<p begin="14:48:13.756" end="14:48:17.796" style="s2">or six and then convert it to an integer</p>
<p begin="14:48:16.200" end="14:48:19.596" style="s2">so then we can compare these two because</p>
<p begin="14:48:17.796" end="14:48:22.240" style="s2">this is an integer this is technically a</p>
<p begin="14:48:19.596" end="14:48:24.000" style="s2">float so uh not exactly they&#39;re not</p>
<p begin="14:48:22.240" end="14:48:26.480" style="s2">going to be equal in that case so now if</p>
<p begin="14:48:24.000" end="14:48:28.200" style="s2">I run this we can see that it did</p>
<p begin="14:48:26.480" end="14:48:29.720" style="s2">successfully pass so that&#39;s just</p>
<p begin="14:48:28.200" end="14:48:31.480" style="s2">something to keep in mind that&#39;s why I</p>
<p begin="14:48:29.720" end="14:48:32.480" style="s2">added that little extra t test case just</p>
<p begin="14:48:31.480" end="14:48:33.840" style="s2">to make sure that especially when it</p>
<p begin="14:48:32.480" end="14:48:35.000" style="s2">comes to those calculations you got to</p>
<p begin="14:48:33.840" end="14:48:36.436" style="s2">make sure that you&#39;re comparing the</p>
<p begin="14:48:35.000" end="14:48:38.636" style="s2">right two</p>
<p begin="14:48:36.436" end="14:48:40.400" style="s2">numbers if you look through all of the</p>
<p begin="14:48:38.636" end="14:48:42.596" style="s2">test cases for the bank account you&#39;ll</p>
<p begin="14:48:40.400" end="14:48:44.240" style="s2">notice that there&#39;s some repetitive code</p>
<p begin="14:48:42.596" end="14:48:45.480" style="s2">all right for every single test case</p>
<p begin="14:48:44.240" end="14:48:47.116" style="s2">that we have for testing our bank</p>
<p begin="14:48:45.480" end="14:48:50.480" style="s2">account you&#39;ll notice that we always</p>
<p begin="14:48:47.116" end="14:48:52.320" style="s2">have to initialize a bank account</p>
<p begin="14:48:50.480" end="14:48:53.916" style="s2">instance right and you can see that</p>
<p begin="14:48:52.320" end="14:48:56.720" style="s2">right now look at that we are repeating</p>
<p begin="14:48:53.916" end="14:48:58.956" style="s2">our code across all of our tests and</p>
<p begin="14:48:56.720" end="14:49:01.276" style="s2">when you get to more complex classes</p>
<p begin="14:48:58.956" end="14:49:03.840" style="s2">more complex test case scenarios right</p>
<p begin="14:49:01.276" end="14:49:05.400" style="s2">you might have 50 tests for a single</p>
<p begin="14:49:03.840" end="14:49:07.680" style="s2">class and we&#39;re in this case just</p>
<p begin="14:49:05.400" end="14:49:10.080" style="s2">repeating the same exact code for each</p>
<p begin="14:49:07.680" end="14:49:11.720" style="s2">one of them and so when it comes to</p>
<p begin="14:49:10.080" end="14:49:13.636" style="s2">writing these tests you know Pi test</p>
<p begin="14:49:11.720" end="14:49:15.480" style="s2">does provide us with some tools that we</p>
<p begin="14:49:13.636" end="14:49:17.240" style="s2">can use to minimize the amount of</p>
<p begin="14:49:15.480" end="14:49:18.276" style="s2">repetitive code and one of those is</p>
<p begin="14:49:17.240" end="14:49:20.840" style="s2">called</p>
<p begin="14:49:18.276" end="14:49:22.200" style="s2">fixtures and a fixture is a very simple</p>
<p begin="14:49:20.840" end="14:49:25.200" style="s2">concept it&#39;s nothing more than a</p>
<p begin="14:49:22.200" end="14:49:27.276" style="s2">function that gets run before each one</p>
<p begin="14:49:25.200" end="14:49:29.436" style="s2">of your tests or at least the specific</p>
<p begin="14:49:27.276" end="14:49:31.956" style="s2">test that you want so we can create a</p>
<p begin="14:49:29.436" end="14:49:34.320" style="s2">function which does nothing more than</p>
<p begin="14:49:31.956" end="14:49:36.796" style="s2">initialize a bike account and then</p>
<p begin="14:49:34.320" end="14:49:39.000" style="s2">return it to our function that&#39;s about</p>
<p begin="14:49:36.796" end="14:49:40.956" style="s2">to run so I&#39;ll show you how we can do</p>
<p begin="14:49:39.000" end="14:49:42.360" style="s2">that right the first thing we have to do</p>
<p begin="14:49:40.956" end="14:49:43.880" style="s2">is let&#39;s create our fixture and I&#39;m</p>
<p begin="14:49:42.360" end="14:49:45.956" style="s2">going to we can put it anywhere I&#39;m just</p>
<p begin="14:49:43.880" end="14:49:47.276" style="s2">going to put it here for now but</p>
<p begin="14:49:45.956" end="14:49:48.636" style="s2">generally you want to put at the top of</p>
<p begin="14:49:47.276" end="14:49:53.560" style="s2">the file actually I&#39;ll stick to the best</p>
<p begin="14:49:48.636" end="14:49:53.560" style="s2">practice I&#39;ll say at py test.</p>
<p begin="14:49:55.436" end="14:50:00.880" style="s2">fixture and then here we create a name</p>
<p begin="14:49:57.756" end="14:50:04.436" style="s2">for our fixture so I&#39;ll say um this is</p>
<p begin="14:50:00.880" end="14:50:07.040" style="s2">going to you know give us or initialize</p>
<p begin="14:50:04.436" end="14:50:11.956" style="s2">us a bank account with a zero initial</p>
<p begin="14:50:07.040" end="14:50:11.956" style="s2">value so I&#39;ll call this zore bank</p>
<p begin="14:50:13.840" end="14:50:17.756" style="s2">account and so all we&#39;re going to do is</p>
<p begin="14:50:15.796" end="14:50:20.680" style="s2">we&#39;re just going to return an instance</p>
<p begin="14:50:17.756" end="14:50:23.240" style="s2">of bank account with an initial default</p>
<p begin="14:50:20.680" end="14:50:23.240" style="s2">value of</p>
<p begin="14:50:24.756" end="14:50:29.000" style="s2">zero and then we&#39;ll create one more</p>
<p begin="14:50:29.240" end="14:50:34.880" style="s2">fixture and this one is going to return</p>
<p begin="14:50:32.320" end="14:50:36.636" style="s2">a regular bank account with an initial</p>
<p begin="14:50:34.880" end="14:50:38.720" style="s2">value and what value we want to give it</p>
<p begin="14:50:36.636" end="14:50:42.320" style="s2">we get to decide so I&#39;ll just say return</p>
<p begin="14:50:38.720" end="14:50:45.596" style="s2">bank account and in this case</p>
<p begin="14:50:42.320" end="14:50:47.956" style="s2">50 all right and so now what we can do</p>
<p begin="14:50:45.596" end="14:50:50.040" style="s2">is uh for all of these tests I don&#39;t</p>
<p begin="14:50:47.956" end="14:50:51.840" style="s2">need to initialize them here because I</p>
<p begin="14:50:50.040" end="14:50:54.796" style="s2">can have these guys reference the</p>
<p begin="14:50:51.840" end="14:50:56.320" style="s2">fixture so to assign a fixture or have a</p>
<p begin="14:50:54.796" end="14:50:58.276" style="s2">fixture get called for a function we</p>
<p begin="14:50:56.320" end="14:50:59.840" style="s2">just pass it in as an argument so for</p>
<p begin="14:50:58.276" end="14:51:02.596" style="s2">test bank account sent initial amount</p>
<p begin="14:50:59.840" end="14:51:03.520" style="s2">we&#39;re going to reference the uh zore</p>
<p begin="14:51:02.596" end="14:51:06.680" style="s2">bank</p>
<p begin="14:51:03.520" end="14:51:09.520" style="s2">account fixture so what exactly happens</p>
<p begin="14:51:06.680" end="14:51:11.520" style="s2">is when pest goes to run this test case</p>
<p begin="14:51:09.520" end="14:51:13.400" style="s2">because it sees this as an argument into</p>
<p begin="14:51:11.520" end="14:51:15.796" style="s2">the function it&#39;s going to oops that</p>
<p begin="14:51:13.400" end="14:51:18.000" style="s2">should be a zero okay but what it&#39;s</p>
<p begin="14:51:15.796" end="14:51:20.040" style="s2">going to do is it&#39;s going to call this</p>
<p begin="14:51:18.000" end="14:51:23.000" style="s2">function before it actually runs the</p>
<p begin="14:51:20.040" end="14:51:24.796" style="s2">test case so it calls this function and</p>
<p begin="14:51:23.000" end="14:51:27.040" style="s2">then whatever we return here which is</p>
<p begin="14:51:24.796" end="14:51:29.720" style="s2">the bank account gets passed into a</p>
<p begin="14:51:27.040" end="14:51:31.880" style="s2">variable called zero bank account and so</p>
<p begin="14:51:29.720" end="14:51:34.796" style="s2">now in instead of creating a bank</p>
<p begin="14:51:31.880" end="14:51:36.480" style="s2">account instance I can remove this and I</p>
<p begin="14:51:34.796" end="14:51:39.040" style="s2">can reference this variable which is</p>
<p begin="14:51:36.480" end="14:51:41.240" style="s2">zore bank</p>
<p begin="14:51:39.040" end="14:51:44.116" style="s2">account but let&#39;s test this out let&#39;s</p>
<p begin="14:51:41.240" end="14:51:47.720" style="s2">see if that broke</p>
<p begin="14:51:44.116" end="14:51:47.720" style="s2">anything if we run</p>
<p begin="14:51:50.040" end="14:51:55.680" style="s2">this oh sorry guys let me undo this I</p>
<p begin="14:51:53.560" end="14:51:57.240" style="s2">didn&#39;t mean to use this function this is</p>
<p begin="14:51:55.680" end="14:51:59.320" style="s2">going to be for the the test bank</p>
<p begin="14:51:57.240" end="14:52:00.956" style="s2">account default amount so we want to</p>
<p begin="14:51:59.320" end="14:52:02.796" style="s2">remove this one</p>
<p begin="14:52:00.956" end="14:52:04.956" style="s2">my apologies and we don&#39;t need that in</p>
<p begin="14:52:02.796" end="14:52:04.956" style="s2">this</p>
<p begin="14:52:05.636" end="14:52:12.956" style="s2">one and then this will be zore bank</p>
<p begin="14:52:09.480" end="14:52:15.276" style="s2">account but now all test should</p>
<p begin="14:52:12.956" end="14:52:17.276" style="s2">pass all right so everything passes but</p>
<p begin="14:52:15.276" end="14:52:18.680" style="s2">if you&#39;re still a little confused as to</p>
<p begin="14:52:17.276" end="14:52:19.956" style="s2">the you know what exactly is happening</p>
<p begin="14:52:18.680" end="14:52:22.116" style="s2">behind the scenes or what is the order</p>
<p begin="14:52:19.956" end="14:52:23.880" style="s2">of operations I&#39;m going to add a few</p>
<p begin="14:52:22.116" end="14:52:27.596" style="s2">print statements so I&#39;m going to</p>
<p begin="14:52:23.880" end="14:52:29.680" style="s2">say uh testing my bank</p>
<p begin="14:52:27.596" end="14:52:31.480" style="s2">account and then I&#39;m going to put in a</p>
<p begin="14:52:29.680" end="14:52:37.636" style="s2">print statement in inside my fixture as</p>
<p begin="14:52:31.480" end="14:52:40.916" style="s2">well which is um say creating</p>
<p begin="14:52:37.636" end="14:52:40.916" style="s2">empty bank</p>
<p begin="14:52:42.040" end="14:52:48.840" style="s2">account and so now if we run</p>
<p begin="14:52:44.796" end="14:52:48.840" style="s2">this I want you to take a look at the</p>
<p begin="14:52:49.916" end="14:52:54.720" style="s2">code and I realize I have to pass in the</p>
<p begin="14:52:52.200" end="14:52:56.840" style="s2">- s flag to see the print</p>
<p begin="14:52:54.720" end="14:53:01.240" style="s2">statements all right so here we go we&#39;re</p>
<p begin="14:52:56.840" end="14:53:03.720" style="s2">going to test Bank set initial amount</p>
<p begin="14:53:01.240" end="14:53:05.956" style="s2">sorry no test Bank default amount and so</p>
<p begin="14:53:03.720" end="14:53:08.040" style="s2">you&#39;ll see that um when we start this</p>
<p begin="14:53:05.956" end="14:53:09.880" style="s2">test first things first is we create an</p>
<p begin="14:53:08.040" end="14:53:11.436" style="s2">empty bank account that&#39;s that print</p>
<p begin="14:53:09.880" end="14:53:13.796" style="s2">statement for the fixture so before the</p>
<p begin="14:53:11.436" end="14:53:15.840" style="s2">test even runs we call the fixture</p>
<p begin="14:53:13.796" end="14:53:18.520" style="s2">because we&#39;ve defined that here by</p>
<p begin="14:53:15.840" end="14:53:21.160" style="s2">saying uh where is it that it&#39;s going to</p>
<p begin="14:53:18.520" end="14:53:24.000" style="s2">be a argument into the default amount uh</p>
<p begin="14:53:21.160" end="14:53:26.480" style="s2">test case then after the fixtures run</p>
<p begin="14:53:24.000" end="14:53:27.840" style="s2">which is just a function we then run our</p>
<p begin="14:53:26.480" end="14:53:29.840" style="s2">actual test case and then we get the</p>
<p begin="14:53:27.840" end="14:53:32.116" style="s2">print testing my bank account right</p>
<p begin="14:53:29.840" end="14:53:34.436" style="s2">after that so once again just to really</p>
<p begin="14:53:32.116" end="14:53:36.400" style="s2">drive home this point a fixture is just</p>
<p begin="14:53:34.436" end="14:53:38.636" style="s2">a function that runs before a specific</p>
<p begin="14:53:36.400" end="14:53:40.840" style="s2">test case that&#39;s all but the great part</p>
<p begin="14:53:38.636" end="14:53:42.796" style="s2">is we can use the same fixture for all</p>
<p begin="14:53:40.840" end="14:53:45.880" style="s2">of our other</p>
<p begin="14:53:42.796" end="14:53:48.680" style="s2">tests so let&#39;s go to the next test which</p>
<p begin="14:53:45.880" end="14:53:50.596" style="s2">is setting an initial amount and in this</p>
<p begin="14:53:48.680" end="14:53:52.916" style="s2">case we have this fixture right here</p>
<p begin="14:53:50.596" end="14:53:56.080" style="s2">which is the bank account one and so I&#39;m</p>
<p begin="14:53:52.916" end="14:53:58.080" style="s2">going to say this is going to go to bank</p>
<p begin="14:53:56.080" end="14:53:59.840" style="s2">account so this will call the bank</p>
<p begin="14:53:58.080" end="14:54:02.320" style="s2">account fixture and then we can remove</p>
<p begin="14:53:59.840" end="14:54:02.320" style="s2">this line</p>
<p begin="14:54:04.560" end="14:54:09.116" style="s2">and we can just keep this here because</p>
<p begin="14:54:06.240" end="14:54:11.956" style="s2">it&#39;s referencing this variable now and</p>
<p begin="14:54:09.116" end="14:54:14.276" style="s2">this should work now so we run this once</p>
<p begin="14:54:11.956" end="14:54:15.680" style="s2">again all test pass and I can just do</p>
<p begin="14:54:14.276" end="14:54:17.916" style="s2">this for all of them so I can just call</p>
<p begin="14:54:15.680" end="14:54:20.916" style="s2">the bank account</p>
<p begin="14:54:17.916" end="14:54:22.956" style="s2">fixture and I can just remove that line</p>
<p begin="14:54:20.916" end="14:54:26.880" style="s2">everything else can stay the same and</p>
<p begin="14:54:22.956" end="14:54:26.880" style="s2">the same thing here as well</p>
<p begin="14:54:32.320" end="14:54:37.636" style="s2">and finally for the last one we can do</p>
<p begin="14:54:34.796" end="14:54:40.680" style="s2">that and so now you can see that we have</p>
<p begin="14:54:37.636" end="14:54:44.240" style="s2">saved us ourselves a couple of lines of</p>
<p begin="14:54:40.680" end="14:54:47.000" style="s2">code for each function and if I run this</p>
<p begin="14:54:44.240" end="14:54:49.240" style="s2">you can see that all the tests</p>
<p begin="14:54:47.000" end="14:54:51.276" style="s2">pass so at this point you&#39;re probably</p>
<p begin="14:54:49.240" end="14:54:53.040" style="s2">thinking you know this do this didn&#39;t</p>
<p begin="14:54:51.276" end="14:54:55.796" style="s2">really look like it saved us a lot of</p>
<p begin="14:54:53.040" end="14:54:58.436" style="s2">code or a lot of you know coding out</p>
<p begin="14:54:55.796" end="14:55:00.400" style="s2">however there&#39;s going to be certain</p>
<p begin="14:54:58.436" end="14:55:02.520" style="s2">things that you want to do that you want</p>
<p begin="14:55:00.400" end="14:55:05.276" style="s2">initialize before every single test of</p>
<p begin="14:55:02.520" end="14:55:06.880" style="s2">your uh of your entire application so</p>
<p begin="14:55:05.276" end="14:55:08.840" style="s2">maybe something like setting up a test</p>
<p begin="14:55:06.880" end="14:55:11.436" style="s2">database right you&#39;d want that to be set</p>
<p begin="14:55:08.840" end="14:55:13.040" style="s2">up for each single test um having to</p>
<p begin="14:55:11.436" end="14:55:15.040" style="s2">manually do that for each test case</p>
<p begin="14:55:13.040" end="14:55:16.916" style="s2">would become very cumbersome and then</p>
<p begin="14:55:15.040" end="14:55:18.956" style="s2">the lines of codes that you repeating</p>
<p begin="14:55:16.916" end="14:55:22.400" style="s2">start to become a serious problem and</p>
<p begin="14:55:18.956" end="14:55:24.796" style="s2">that&#39;s really one of the best use cases</p>
<p begin="14:55:22.400" end="14:55:26.680" style="s2">for uh for using fixtures is something</p>
<p begin="14:55:24.796" end="14:55:28.160" style="s2">like setting up a database or setting up</p>
<p begin="14:55:26.680" end="14:55:29.796" style="s2">you know some sort of email service or</p>
<p begin="14:55:28.160" end="14:55:31.360" style="s2">something that you&#39;re going to use uh</p>
<p begin="14:55:29.796" end="14:55:33.480" style="s2">across a lot of your tests and then</p>
<p begin="14:55:31.360" end="14:55:35.720" style="s2">having to initialize that manually for</p>
<p begin="14:55:33.480" end="14:55:37.080" style="s2">each test is going to be uh is going to</p>
<p begin="14:55:35.720" end="14:55:39.360" style="s2">require a lot of work and so that&#39;s</p>
<p begin="14:55:37.080" end="14:55:41.360" style="s2">where fixtures really help save us some</p>
<p begin="14:55:39.360" end="14:55:43.956" style="s2">time okay what I want to do is I want to</p>
<p begin="14:55:41.360" end="14:55:44.956" style="s2">create one more test and this test is</p>
<p begin="14:55:43.956" end="14:55:47.160" style="s2">going to be a little bit different I&#39;m</p>
<p begin="14:55:44.956" end="14:55:52.636" style="s2">going to call this uh test</p>
<p begin="14:55:47.160" end="14:55:52.636" style="s2">about Bank transaction Maybe</p>
<p begin="14:56:01.160" end="14:56:04.916" style="s2">and so this is going to test us both</p>
<p begin="14:56:03.160" end="14:56:06.240" style="s2">depositing money and withdrawing money</p>
<p begin="14:56:04.916" end="14:56:08.436" style="s2">in one test case so that we can have a</p>
<p begin="14:56:06.240" end="14:56:10.880" style="s2">couple of different actions on a bank</p>
<p begin="14:56:08.436" end="14:56:13.240" style="s2">account uh and so just like we&#39;ve done</p>
<p begin="14:56:10.880" end="14:56:15.116" style="s2">before uh when it comes to setting up a</p>
<p begin="14:56:13.240" end="14:56:16.840" style="s2">fixture so that we can retrieve an</p>
<p begin="14:56:15.116" end="14:56:17.796" style="s2">instance of our bank account class I&#39;m</p>
<p begin="14:56:16.840" end="14:56:19.560" style="s2">going to do the same thing but we&#39;re</p>
<p begin="14:56:17.796" end="14:56:22.276" style="s2">going to use the zero bank account so it</p>
<p begin="14:56:19.560" end="14:56:22.276" style="s2">starts out with no</p>
<p begin="14:56:25.080" end="14:56:27.880" style="s2">money and then what we&#39;re going to do</p>
<p begin="14:56:26.916" end="14:56:29.480" style="s2">here is we&#39;re going to reference the</p>
<p begin="14:56:27.880" end="14:56:32.160" style="s2">zero and we&#39;re going to start off by</p>
<p begin="14:56:29.480" end="14:56:32.160" style="s2">depositing money</p>
<p begin="14:56:33.480" end="14:56:37.000" style="s2">and let&#39;s say I&#39;ll deposit</p>
<p begin="14:56:39.160" end="14:56:43.916" style="s2">$200 and then we can also then withdraw</p>
<p begin="14:56:42.436" end="14:56:46.480" style="s2">certain amount of</p>
<p begin="14:56:43.916" end="14:56:48.240" style="s2">money so now we&#39;re testing both in one</p>
<p begin="14:56:46.480" end="14:56:52.160" style="s2">specific test case and I&#39;ll say I&#39;ll</p>
<p begin="14:56:48.240" end="14:56:54.200" style="s2">withdraw 100 and we know that we should</p>
<p begin="14:56:52.160" end="14:56:58.636" style="s2">ultimately be left with $100 so we&#39;ll do</p>
<p begin="14:56:54.200" end="14:57:00.840" style="s2">assert zero bank account</p>
<p begin="14:56:58.636" end="14:57:04.320" style="s2">dot balance</p>
<p begin="14:57:00.840" end="14:57:04.320" style="s2">equals equals</p>
<p begin="14:57:04.796" end="14:57:11.840" style="s2">100 so let&#39;s test this</p>
<p begin="14:57:08.480" end="14:57:15.400" style="s2">out and let&#39;s see how this</p>
<p begin="14:57:11.840" end="14:57:17.320" style="s2">works and that works as well but what I</p>
<p begin="14:57:15.400" end="14:57:19.000" style="s2">wanted to do is uh for this specific</p>
<p begin="14:57:17.320" end="14:57:22.840" style="s2">test case I wanted to show you that we</p>
<p begin="14:57:19.000" end="14:57:24.636" style="s2">can we can use fixtures and parameterize</p>
<p begin="14:57:22.840" end="14:57:26.720" style="s2">so we can test multiple values like we</p>
<p begin="14:57:24.636" end="14:57:27.720" style="s2">did for this specific test case so what</p>
<p begin="14:57:26.720" end="14:57:28.796" style="s2">I&#39;m going to do is I&#39;m going to copy</p>
<p begin="14:57:27.720" end="14:57:30.480" style="s2">this so that we don&#39;t have to type this</p>
<p begin="14:57:28.796" end="14:57:31.916" style="s2">all from scratch and we&#39;re going to</p>
<p begin="14:57:30.480" end="14:57:35.400" style="s2">create a couple of different test</p>
<p begin="14:57:31.916" end="14:57:35.400" style="s2">scenarios for this specific</p>
<p begin="14:57:36.720" end="14:57:40.916" style="s2">function and in this case we&#39;re going to</p>
<p begin="14:57:39.040" end="14:57:44.636" style="s2">have a</p>
<p begin="14:57:40.916" end="14:57:44.636" style="s2">deposited we&#39;re going to have a</p>
<p begin="14:57:46.400" end="14:57:50.000" style="s2">with and we can have the expected amount</p>
<p begin="14:57:48.680" end="14:57:52.360" style="s2">and keep in mind you&#39;re not limited to</p>
<p begin="14:57:50.000" end="14:57:54.240" style="s2">having three variables you can put as</p>
<p begin="14:57:52.360" end="14:57:56.276" style="s2">many as you want it just happens to work</p>
<p begin="14:57:54.240" end="14:57:58.636" style="s2">out that I only need three in this</p>
<p begin="14:57:56.276" end="14:58:00.956" style="s2">case and then we can provide some test</p>
<p begin="14:57:58.636" end="14:58:02.116" style="s2">data uh so how about</p>
<p begin="14:58:00.956" end="14:58:04.636" style="s2">the same one we have right now we&#39;re</p>
<p begin="14:58:02.116" end="14:58:07.520" style="s2">going to deposit 100 200 sorry withdraw</p>
<p begin="14:58:04.636" end="14:58:09.796" style="s2">100 and we expect 100 in the</p>
<p begin="14:58:07.520" end="14:58:14.436" style="s2">end uh we can do the same thing how</p>
<p begin="14:58:09.796" end="14:58:17.000" style="s2">about deposit 50 withdraw 10 and we</p>
<p begin="14:58:14.436" end="14:58:19.400" style="s2">should end up with</p>
<p begin="14:58:17.000" end="14:58:22.000" style="s2">40 and then we&#39;ve got our high roller</p>
<p begin="14:58:19.400" end="14:58:26.160" style="s2">which is sitting there with a whopping</p>
<p begin="14:58:22.000" end="14:58:28.360" style="s2">$1,200 and he wi through about</p>
<p begin="14:58:26.160" end="14:58:32.756" style="s2">200 and he&#39;s going to end up with 1,000</p>
<p begin="14:58:28.360" end="14:58:34.636" style="s2">bucks at the end so now we can pass</p>
<p begin="14:58:32.756" end="14:58:37.520" style="s2">deposited</p>
<p begin="14:58:34.636" end="14:58:42.680" style="s2">withdrew and</p>
<p begin="14:58:37.520" end="14:58:46.480" style="s2">expected and now we can use deposited</p>
<p begin="14:58:42.680" end="14:58:49.160" style="s2">here withdrew here and then we know what</p>
<p begin="14:58:46.480" end="14:58:51.320" style="s2">the expected is going to be so let&#39;s try</p>
<p begin="14:58:49.160" end="14:58:51.320" style="s2">this</p>
<p begin="14:58:56.240" end="14:59:00.200" style="s2">out all right and we can see all three</p>
<p begin="14:58:58.520" end="14:59:02.200" style="s2">test cases run and in this case all</p>
<p begin="14:59:00.200" end="14:59:04.680" style="s2">three test cases passed so I just wanted</p>
<p begin="14:59:02.200" end="14:59:06.756" style="s2">to show you guys that you can use this</p>
<p begin="14:59:04.680" end="14:59:08.276" style="s2">um with our fixture so it&#39;s okay if</p>
<p begin="14:59:06.756" end="14:59:09.116" style="s2">you&#39;re using a fixture you can still use</p>
<p begin="14:59:08.276" end="14:59:11.200" style="s2">the</p>
<p begin="14:59:09.116" end="14:59:13.956" style="s2">parameterized uh decorator in this case</p>
<p begin="14:59:11.200" end="14:59:15.680" style="s2">to test multiple scenarios if we go back</p>
<p begin="14:59:13.956" end="14:59:18.276" style="s2">to our bank account class and you take a</p>
<p begin="14:59:15.680" end="14:59:19.720" style="s2">look at the withdraw method you&#39;ll</p>
<p begin="14:59:18.276" end="14:59:21.160" style="s2">notice that right now we&#39;re not</p>
<p begin="14:59:19.720" end="14:59:23.436" style="s2">performing any check to make sure that</p>
<p begin="14:59:21.160" end="14:59:24.840" style="s2">the user has enough money and that&#39;s not</p>
<p begin="14:59:23.436" end="14:59:26.916" style="s2">really how A bank account works because</p>
<p begin="14:59:24.840" end="14:59:28.560" style="s2">if you have 100 bucks and you withdraw</p>
<p begin="14:59:26.916" end="14:59:30.636" style="s2">500 the bank&#39;s going to be like we can&#39;t</p>
<p begin="14:59:28.560" end="14:59:32.040" style="s2">do that so it just makes sense in our</p>
<p begin="14:59:30.636" end="14:59:34.320" style="s2">code to actually perform some sort of</p>
<p begin="14:59:32.040" end="14:59:36.276" style="s2">check and so usually um you know</p>
<p begin="14:59:34.320" end="14:59:38.480" style="s2">something simple is we&#39;ll say hey if</p>
<p begin="14:59:36.276" end="14:59:41.400" style="s2">amount that you&#39;re trying to withdraw is</p>
<p begin="14:59:38.480" end="14:59:43.436" style="s2">greater than your</p>
<p begin="14:59:41.400" end="14:59:44.956" style="s2">balance well what are we going to do</p>
<p begin="14:59:43.436" end="14:59:47.436" style="s2">well we&#39;re probably going to raise an</p>
<p begin="14:59:44.956" end="14:59:50.240" style="s2">exception so I&#39;ll say</p>
<p begin="14:59:47.436" end="14:59:52.520" style="s2">raise and we&#39;re just going to raise a</p>
<p begin="14:59:50.240" end="14:59:57.200" style="s2">standard python exception and we&#39;ll just</p>
<p begin="14:59:52.520" end="15:00:01.916" style="s2">say something hey in sufficient insu</p>
<p begin="14:59:57.200" end="15:00:01.916" style="s2">insufficient funds in account</p>
<p begin="15:00:02.680" end="15:00:05.796" style="s2">right however if we do have enough money</p>
<p begin="15:00:04.480" end="15:00:08.916" style="s2">then we will actually perform that</p>
<p begin="15:00:05.796" end="15:00:10.436" style="s2">operation so this is all good if we go</p>
<p begin="15:00:08.916" end="15:00:12.596" style="s2">to our test</p>
<p begin="15:00:10.436" end="15:00:15.400" style="s2">calculations um and we just add one more</p>
<p begin="15:00:12.596" end="15:00:15.400" style="s2">scenario in this</p>
<p begin="15:00:16.000" end="15:00:22.116" style="s2">case but this time we deposit let&#39;s say</p>
<p begin="15:00:18.956" end="15:00:25.560" style="s2">only $10 and we try to</p>
<p begin="15:00:22.116" end="15:00:28.000" style="s2">withdraw um I don&#39;t know 50 uh well what</p>
<p begin="15:00:25.560" end="15:00:29.480" style="s2">is the expected scenario uh the expected</p>
<p begin="15:00:28.000" end="15:00:30.880" style="s2">value and it doesn&#39;t really matter what</p>
<p begin="15:00:29.480" end="15:00:33.040" style="s2">we put in because this is ultimately</p>
<p begin="15:00:30.880" end="15:00:35.116" style="s2">going to uh you know</p>
<p begin="15:00:33.040" end="15:00:38.080" style="s2">break uh break our code because we&#39;re</p>
<p begin="15:00:35.116" end="15:00:40.560" style="s2">raising an exception so if I try to run</p>
<p begin="15:00:38.080" end="15:00:42.756" style="s2">this right it&#39;s going to</p>
<p begin="15:00:40.560" end="15:00:44.160" style="s2">fail because we&#39;re raising an exception</p>
<p begin="15:00:42.756" end="15:00:46.520" style="s2">right and remember anytime you throw an</p>
<p begin="15:00:44.160" end="15:00:49.320" style="s2">error that&#39;s going to automatically make</p>
<p begin="15:00:46.520" end="15:00:50.916" style="s2">the test fail so what do we do well</p>
<p begin="15:00:49.320" end="15:00:52.520" style="s2">first of all let&#39;s remove this test case</p>
<p begin="15:00:50.916" end="15:00:54.680" style="s2">because for scenarios like this where</p>
<p begin="15:00:52.520" end="15:00:56.756" style="s2">you expect to receive an error we need</p>
<p begin="15:00:54.680" end="15:01:00.080" style="s2">to create a different test case so I&#39;ll</p>
<p begin="15:00:56.756" end="15:01:02.680" style="s2">call this uh uh how about test</p>
<p begin="15:01:00.080" end="15:01:02.680" style="s2">insufficient</p>
<p begin="15:01:07.276" end="15:01:13.720" style="s2">funds and let&#39;s say we start out with uh</p>
<p begin="15:01:11.240" end="15:01:16.400" style="s2">instead of using the zero bank account</p>
<p begin="15:01:13.720" end="15:01:17.840" style="s2">where is the uh instead instead of using</p>
<p begin="15:01:16.400" end="15:01:19.200" style="s2">this bank account we&#39;re going to use uh</p>
<p begin="15:01:17.840" end="15:01:20.560" style="s2">the zero bank account and then we&#39;ll</p>
<p begin="15:01:19.200" end="15:01:23.880" style="s2">just try to withdraw money so that&#39;s an</p>
<p begin="15:01:20.560" end="15:01:27.436" style="s2">easy way of testing it so we&#39;ll say</p>
<p begin="15:01:23.880" end="15:01:30.956" style="s2">zero unor bank account so we&#39;ll have no</p>
<p begin="15:01:27.436" end="15:01:30.956" style="s2">money in our account</p>
<p begin="15:01:32.880" end="15:01:38.040" style="s2">and we&#39;re going to withdraw some money</p>
<p begin="15:01:35.520" end="15:01:39.276" style="s2">so we would do you know actually I&#39;ll</p>
<p begin="15:01:38.040" end="15:01:40.880" style="s2">just do a regular bank account I don&#39;t</p>
<p begin="15:01:39.276" end="15:01:44.116" style="s2">know why I want zero so we&#39;ll start out</p>
<p begin="15:01:40.880" end="15:01:45.956" style="s2">with 50 bucks and we&#39;ll try to do a bank</p>
<p begin="15:01:44.116" end="15:01:48.360" style="s2">account.</p>
<p begin="15:01:45.956" end="15:01:50.400" style="s2">withdraw and we&#39;ll try to withdraw $200</p>
<p begin="15:01:48.360" end="15:01:52.680" style="s2">so that should raise the exception but</p>
<p begin="15:01:50.400" end="15:01:55.040" style="s2">how exactly in our test do we tell</p>
<p begin="15:01:52.680" end="15:01:57.000" style="s2">python it&#39;s expected to receive an</p>
<p begin="15:01:55.040" end="15:01:58.080" style="s2">exception because right now if we run</p>
<p begin="15:01:57.000" end="15:02:00.276" style="s2">this once again we&#39;re going to get the</p>
<p begin="15:01:58.080" end="15:02:01.436" style="s2">same exact error</p>
<p begin="15:02:00.276" end="15:02:05.000" style="s2">right</p>
<p begin="15:02:01.436" end="15:02:07.040" style="s2">failed so what do we do this is how you</p>
<p begin="15:02:05.000" end="15:02:10.040" style="s2">tell python that you accept uh that you</p>
<p begin="15:02:07.040" end="15:02:12.276" style="s2">expect an exception you do with and then</p>
<p begin="15:02:10.040" end="15:02:14.116" style="s2">you call P test remember we imported P</p>
<p begin="15:02:12.276" end="15:02:15.560" style="s2">test all the way at the top right here</p>
<p begin="15:02:14.116" end="15:02:19.436" style="s2">so we&#39;ll do p</p>
<p begin="15:02:15.560" end="15:02:20.956" style="s2">test do raises and then you provide the</p>
<p begin="15:02:19.436" end="15:02:22.360" style="s2">exception that you expect so in this</p>
<p begin="15:02:20.956" end="15:02:24.276" style="s2">case this is just a regular python</p>
<p begin="15:02:22.360" end="15:02:25.956" style="s2">exception so you can just say that and</p>
<p begin="15:02:24.276" end="15:02:28.276" style="s2">then you provide the command that you&#39;re</p>
<p begin="15:02:25.956" end="15:02:28.276" style="s2">going to</p>
<p begin="15:02:28.436" end="15:02:33.480" style="s2">run okay and so that way if this command</p>
<p begin="15:02:30.880" end="15:02:36.596" style="s2">throws an error or raises an exception U</p>
<p begin="15:02:33.480" end="15:02:38.880" style="s2">pest will be told to expect this so then</p>
<p begin="15:02:36.596" end="15:02:41.160" style="s2">it would consider the test as passing so</p>
<p begin="15:02:38.880" end="15:02:43.636" style="s2">now if I run</p>
<p begin="15:02:41.160" end="15:02:46.320" style="s2">this we can see that the insufficient</p>
<p begin="15:02:43.636" end="15:02:49.796" style="s2">funds test passed and if we go back to</p>
<p begin="15:02:46.320" end="15:02:49.796" style="s2">our code and actually remove this</p>
<p begin="15:02:50.000" end="15:02:55.916" style="s2">exception we&#39;ll comment out that entire</p>
<p begin="15:02:54.200" end="15:02:57.636" style="s2">statement what do you think is going to</p>
<p begin="15:02:55.916" end="15:03:00.276" style="s2">happen</p>
<p begin="15:02:57.636" end="15:03:02.480" style="s2">here right now it&#39;s failed because</p>
<p begin="15:03:00.276" end="15:03:03.880" style="s2">it did not raise an exception pest is</p>
<p begin="15:03:02.480" end="15:03:06.116" style="s2">expecting an exception and we didn&#39;t</p>
<p begin="15:03:03.880" end="15:03:08.200" style="s2">raise one so then it considers that a</p>
<p begin="15:03:06.116" end="15:03:10.320" style="s2">error in our code because when we expect</p>
<p begin="15:03:08.200" end="15:03:14.200" style="s2">an exception we should expect an</p>
<p begin="15:03:10.320" end="15:03:17.276" style="s2">exception so I&#39;ll uncomment</p>
<p begin="15:03:14.200" end="15:03:19.636" style="s2">this and now you know in a in real code</p>
<p begin="15:03:17.276" end="15:03:21.560" style="s2">right you wouldn&#39;t just throw uh just a</p>
<p begin="15:03:19.636" end="15:03:23.000" style="s2">generic python exception you&#39;re going to</p>
<p begin="15:03:21.560" end="15:03:25.320" style="s2">usually create your own exception</p>
<p begin="15:03:23.000" end="15:03:28.480" style="s2">classes so let&#39;s say we Define our own</p>
<p begin="15:03:25.320" end="15:03:31.000" style="s2">exception and I&#39;ll call this</p>
<p begin="15:03:28.480" end="15:03:33.276" style="s2">insufficient f fs and this is going to</p>
<p begin="15:03:31.000" end="15:03:36.040" style="s2">extend the exception</p>
<p begin="15:03:33.276" end="15:03:38.160" style="s2">class and we&#39;ll just say there&#39;s no</p>
<p begin="15:03:36.040" end="15:03:39.916" style="s2">property so I&#39;ll just say pass and in</p>
<p begin="15:03:38.160" end="15:03:43.000" style="s2">this case I&#39;ll say We&#39;ll raise an</p>
<p begin="15:03:39.916" end="15:03:46.436" style="s2">insufficient fund insufficient</p>
<p begin="15:03:43.000" end="15:03:48.360" style="s2">funds all right so if I make this</p>
<p begin="15:03:46.436" end="15:03:49.840" style="s2">change uh what do you think is going to</p>
<p begin="15:03:48.360" end="15:03:52.436" style="s2">happen you think it&#39;s going to break our</p>
<p begin="15:03:49.840" end="15:03:54.956" style="s2">code well let&#39;s run this we can see that</p>
<p begin="15:03:52.436" end="15:03:58.720" style="s2">it passed and that reason why it passed</p>
<p begin="15:03:54.956" end="15:04:00.636" style="s2">is because insufficient funds is a child</p>
<p begin="15:03:58.720" end="15:04:03.276" style="s2">class to the exception class so when we</p>
<p begin="15:04:00.636" end="15:04:04.916" style="s2">say we accept uh we expect an exception</p>
<p begin="15:04:03.276" end="15:04:07.080" style="s2">technically we are getting an exception</p>
<p begin="15:04:04.916" end="15:04:11.200" style="s2">it&#39;s just we haven&#39;t specified we</p>
<p begin="15:04:07.080" end="15:04:13.596" style="s2">specifically want a insufficient funds</p>
<p begin="15:04:11.200" end="15:04:15.880" style="s2">exception and because this is uh</p>
<p begin="15:04:13.596" end="15:04:17.560" style="s2">inheriting from this class python says</p>
<p begin="15:04:15.880" end="15:04:19.040" style="s2">hey look everything looks good but if</p>
<p begin="15:04:17.560" end="15:04:21.200" style="s2">you did want to be as specific as</p>
<p begin="15:04:19.040" end="15:04:23.756" style="s2">possible which is generally recommended</p>
<p begin="15:04:21.200" end="15:04:26.320" style="s2">what we can do is I can import that</p>
<p begin="15:04:23.756" end="15:04:28.636" style="s2">exception so we&#39;ll say from app.</p>
<p begin="15:04:26.320" end="15:04:31.636" style="s2">calculations we can import insufficient</p>
<p begin="15:04:28.636" end="15:04:31.636" style="s2">funds</p>
<p begin="15:04:31.796" end="15:04:38.560" style="s2">and now here we can say we we expect a</p>
<p begin="15:04:35.916" end="15:04:38.560" style="s2">insufficient</p>
<p begin="15:04:41.000" end="15:04:49.720" style="s2">funds and so now if I run</p>
<p begin="15:04:45.956" end="15:04:49.720" style="s2">this we can see that it</p>
<p begin="15:04:49.756" end="15:04:54.276" style="s2">passes and the benefit of this is that</p>
<p begin="15:04:52.160" end="15:04:56.560" style="s2">if for some reason our code raised</p>
<p begin="15:04:54.276" end="15:04:58.956" style="s2">another type of exception it would</p>
<p begin="15:04:56.560" end="15:05:00.436" style="s2">consider this test as failing so if I go</p>
<p begin="15:04:58.956" end="15:05:02.240" style="s2">back to my code and let&#39;s say that you</p>
<p begin="15:05:00.436" end="15:05:04.080" style="s2">know for some reason something broke in</p>
<p begin="15:05:02.240" end="15:05:06.436" style="s2">our code and all of a sudden instead of</p>
<p begin="15:05:04.080" end="15:05:08.880" style="s2">raising an insufficient funds error we</p>
<p begin="15:05:06.436" end="15:05:11.636" style="s2">get some other kind of exception and I</p>
<p begin="15:05:08.880" end="15:05:13.080" style="s2">can just simulate this by doing raise uh</p>
<p begin="15:05:11.636" end="15:05:15.756" style="s2">zero division error so if you ever try</p>
<p begin="15:05:13.080" end="15:05:19.400" style="s2">to divide a number by zero this is the</p>
<p begin="15:05:15.756" end="15:05:19.400" style="s2">um the exception that&#39;s</p>
<p begin="15:05:20.840" end="15:05:24.956" style="s2">expected and so now if I run</p>
<p begin="15:05:26.560" end="15:05:32.720" style="s2">this right we can see that</p>
<p begin="15:05:30.720" end="15:05:34.956" style="s2">uh the test failed because we expected a</p>
<p begin="15:05:32.720" end="15:05:36.840" style="s2">insufficient funds exception but we got</p>
<p begin="15:05:34.956" end="15:05:39.240" style="s2">a zero division</p>
<p begin="15:05:36.840" end="15:05:40.636" style="s2">error and so that considers the test as</p>
<p begin="15:05:39.240" end="15:05:41.796" style="s2">failing because we&#39;ve told it we&#39;ve</p>
<p begin="15:05:40.636" end="15:05:43.720" style="s2">expected something but we got something</p>
<p begin="15:05:41.796" end="15:05:45.480" style="s2">else so it&#39;s generally best to</p>
<p begin="15:05:43.720" end="15:05:46.720" style="s2">explicitly Define the exact exception</p>
<p begin="15:05:45.480" end="15:05:48.916" style="s2">that you expect so that you can make</p>
<p begin="15:05:46.720" end="15:05:50.320" style="s2">sure that you know that nothing else is</p>
<p begin="15:05:48.916" end="15:05:52.400" style="s2">broken because technically any part of</p>
<p begin="15:05:50.320" end="15:05:53.720" style="s2">your Cod can break and throw an error</p>
<p begin="15:05:52.400" end="15:05:56.276" style="s2">and if it throws an error and we just</p>
<p begin="15:05:53.720" end="15:05:58.796" style="s2">try to uh if we just tell you know our</p>
<p begin="15:05:56.276" end="15:06:00.360" style="s2">test to expect any exception then it may</p>
<p begin="15:05:58.796" end="15:06:01.320" style="s2">not be doing what we actually expect it</p>
<p begin="15:06:00.360" end="15:06:04.400" style="s2">to</p>
<p begin="15:06:01.320" end="15:06:06.756" style="s2">do but we&#39;ll change this back we don&#39;t</p>
<p begin="15:06:04.400" end="15:06:06.756" style="s2">need that</p>
<p begin="15:06:06.956" end="15:06:11.160" style="s2">anymore okay so I think we have a good</p>
<p begin="15:06:09.360" end="15:06:12.480" style="s2">enough understanding on how to create a</p>
<p begin="15:06:11.160" end="15:06:14.756" style="s2">test and I think it&#39;s time we actually</p>
<p begin="15:06:12.480" end="15:06:17.240" style="s2">started testing our application when it</p>
<p begin="15:06:14.756" end="15:06:19.560" style="s2">comes to fast API fast API automatically</p>
<p begin="15:06:17.240" end="15:06:22.116" style="s2">provides us a test client so all we have</p>
<p begin="15:06:19.560" end="15:06:25.680" style="s2">to do is we just say from fast api. test</p>
<p begin="15:06:22.116" end="15:06:25.680" style="s2">client import test</p>
<p begin="15:06:25.720" end="15:06:29.520" style="s2">client and then all we have to do is</p>
<p begin="15:06:27.680" end="15:06:30.880" style="s2">then just pass in our fast API in</p>
<p begin="15:06:29.520" end="15:06:32.680" style="s2">instance which is stored under the</p>
<p begin="15:06:30.880" end="15:06:34.720" style="s2">variable app and then we can just</p>
<p begin="15:06:32.680" end="15:06:37.160" style="s2">perform any requests to our application</p>
<p begin="15:06:34.720" end="15:06:38.596" style="s2">by doing client um which is what we</p>
<p begin="15:06:37.160" end="15:06:41.276" style="s2">named the test client and then just</p>
<p begin="15:06:38.596" end="15:06:42.596" style="s2">doing a doget or a post or whatever and</p>
<p begin="15:06:41.276" end="15:06:44.080" style="s2">then we can get the response and then we</p>
<p begin="15:06:42.596" end="15:06:45.480" style="s2">can assert anything that we want just to</p>
<p begin="15:06:44.080" end="15:06:46.680" style="s2">make sure that we get the responses that</p>
<p begin="15:06:45.480" end="15:06:49.320" style="s2">we ultimately</p>
<p begin="15:06:46.680" end="15:06:50.880" style="s2">expect and keep in mind when you make</p>
<p begin="15:06:49.320" end="15:06:52.240" style="s2">use of this test client right if you</p>
<p begin="15:06:50.880" end="15:06:55.040" style="s2">take a look at the documentation it says</p>
<p begin="15:06:52.240" end="15:06:57.080" style="s2">that um you you use this the same way</p>
<p begin="15:06:55.040" end="15:07:00.320" style="s2">you would any requests object so if you</p>
<p begin="15:06:57.080" end="15:07:02.320" style="s2">ever Ed the uh request library from on</p>
<p begin="15:07:00.320" end="15:07:04.520" style="s2">right this is the same exact</p>
<p begin="15:07:02.320" end="15:07:06.276" style="s2">object so anything you could do with</p>
<p begin="15:07:04.520" end="15:07:08.360" style="s2">requests you can do with the test client</p>
<p begin="15:07:06.276" end="15:07:09.956" style="s2">so you can customize the request you can</p>
<p begin="15:07:08.360" end="15:07:12.200" style="s2">you know change the HTTP method you can</p>
<p begin="15:07:09.956" end="15:07:14.636" style="s2">add a body a payload you can add a</p>
<p begin="15:07:12.200" end="15:07:16.480" style="s2">authorization header uh it&#39;s really just</p>
<p begin="15:07:14.636" end="15:07:18.000" style="s2">doing what postman&#39;s doing for us but</p>
<p begin="15:07:16.480" end="15:07:20.240" style="s2">we&#39;re going to do it through code</p>
<p begin="15:07:18.000" end="15:07:21.720" style="s2">instead of manually opening up Postman</p>
<p begin="15:07:20.240" end="15:07:22.956" style="s2">and then you know you know figuring out</p>
<p begin="15:07:21.720" end="15:07:24.360" style="s2">which request we want to send we&#39;re just</p>
<p begin="15:07:22.956" end="15:07:26.916" style="s2">going to do it out in Python so we can</p>
<p begin="15:07:24.360" end="15:07:28.596" style="s2">do it all in an automated automated</p>
<p begin="15:07:26.916" end="15:07:30.040" style="s2">fashion but if you haven&#39;t worked with</p>
<p begin="15:07:28.596" end="15:07:31.720" style="s2">the request Library</p>
<p begin="15:07:30.040" end="15:07:33.560" style="s2">definitely take a look at this just take</p>
<p begin="15:07:31.720" end="15:07:34.956" style="s2">a look at how we generate requests it&#39;s</p>
<p begin="15:07:33.560" end="15:07:37.200" style="s2">not too difficult right it&#39;s just</p>
<p begin="15:07:34.956" end="15:07:38.360" style="s2">request.get or in our case we&#39;re going</p>
<p begin="15:07:37.200" end="15:07:39.720" style="s2">to call it client but it doesn&#39;t really</p>
<p begin="15:07:38.360" end="15:07:41.916" style="s2">matter and then you provide the URL that</p>
<p begin="15:07:39.720" end="15:07:43.796" style="s2">you want to run this against uh and then</p>
<p begin="15:07:41.916" end="15:07:45.320" style="s2">you know you can add in other properties</p>
<p begin="15:07:43.796" end="15:07:47.840" style="s2">like an offhe header or anything like</p>
<p begin="15:07:45.320" end="15:07:49.520" style="s2">that so it&#39;s just about customizing your</p>
<p begin="15:07:47.840" end="15:07:51.916" style="s2">specific HTTP</p>
<p begin="15:07:49.520" end="15:07:53.480" style="s2">request and so I&#39;m going to create a new</p>
<p begin="15:07:51.916" end="15:07:57.956" style="s2">file and I&#39;m going to call this how</p>
<p begin="15:07:53.480" end="15:08:00.360" style="s2">about uh testore users this F this</p>
<p begin="15:07:57.956" end="15:08:04.000" style="s2">module represent test for you know</p>
<p begin="15:08:00.360" end="15:08:07.436" style="s2">creating users and and uh getting user</p>
<p begin="15:08:04.000" end="15:08:10.320" style="s2">profiles information and things like</p>
<p begin="15:08:07.436" end="15:08:12.116" style="s2">that and just like it shows in the fast</p>
<p begin="15:08:10.320" end="15:08:14.596" style="s2">API documentation let&#39;s just copy this</p>
<p begin="15:08:12.116" end="15:08:14.596" style="s2">line right</p>
<p begin="15:08:19.276" end="15:08:24.720" style="s2">here and then what we want to do is we</p>
<p begin="15:08:21.276" end="15:08:26.636" style="s2">want to import from our app uh package</p>
<p begin="15:08:24.720" end="15:08:29.596" style="s2">go to our main file we want to import</p>
<p begin="15:08:26.636" end="15:08:31.200" style="s2">our our fast API instance so we want to</p>
<p begin="15:08:29.596" end="15:08:33.720" style="s2">this app right here so that we can</p>
<p begin="15:08:31.200" end="15:08:33.720" style="s2">actually test</p>
<p begin="15:08:34.916" end="15:08:42.160" style="s2">it I&#39;ll say</p>
<p begin="15:08:38.080" end="15:08:42.160" style="s2">from app.</p>
<p begin="15:08:42.916" end="15:08:46.720" style="s2">Main</p>
<p begin="15:08:45.116" end="15:08:49.360" style="s2">import</p>
<p begin="15:08:46.720" end="15:08:52.040" style="s2">app all right so we have our app</p>
<p begin="15:08:49.360" end="15:08:55.916" style="s2">instance and we&#39;ll just copy this line</p>
<p begin="15:08:52.040" end="15:08:58.480" style="s2">right here which is just setting our</p>
<p begin="15:08:55.916" end="15:09:00.240" style="s2">test client uh to a variable called</p>
<p begin="15:08:58.480" end="15:09:02.956" style="s2">client and so now we can run whatever</p>
<p begin="15:09:00.240" end="15:09:04.320" style="s2">test that we want and uh I think you</p>
<p begin="15:09:02.956" end="15:09:07.636" style="s2">know just to keep things simple let&#39;s</p>
<p begin="15:09:04.320" end="15:09:09.520" style="s2">start off with the simple root path that</p>
<p begin="15:09:07.636" end="15:09:11.116" style="s2">we have right here just to test that</p>
<p begin="15:09:09.520" end="15:09:12.720" style="s2">this works um because that way we don&#39;t</p>
<p begin="15:09:11.116" end="15:09:14.200" style="s2">have to worry about authentication or or</p>
<p begin="15:09:12.720" end="15:09:16.916" style="s2">passing any other data let&#39;s start off</p>
<p begin="15:09:14.200" end="15:09:19.680" style="s2">with the simplest scenarios so this is</p>
<p begin="15:09:16.916" end="15:09:21.956" style="s2">at the root URL so we will go to our</p>
<p begin="15:09:19.680" end="15:09:21.956" style="s2">test</p>
<p begin="15:09:23.596" end="15:09:29.436" style="s2">users and I&#39;m just going to call this um</p>
<p begin="15:09:27.000" end="15:09:30.796" style="s2">test rout</p>
<p begin="15:09:29.436" end="15:09:32.756" style="s2">because it&#39;s not really a real function</p>
<p begin="15:09:30.796" end="15:09:35.240" style="s2">or anything like</p>
<p begin="15:09:32.756" end="15:09:39.000" style="s2">that and then here we&#39;ll say</p>
<p begin="15:09:35.240" end="15:09:42.000" style="s2">client Dot and since we are testing a</p>
<p begin="15:09:39.000" end="15:09:44.840" style="s2">specific path operation this is a get</p>
<p begin="15:09:42.000" end="15:09:46.400" style="s2">method so we want to send a get so we&#39;ll</p>
<p begin="15:09:44.840" end="15:09:49.160" style="s2">do client.</p>
<p begin="15:09:46.400" end="15:09:50.756" style="s2">getet then the URL so we can just say</p>
<p begin="15:09:49.160" end="15:09:52.200" style="s2">slash we don&#39;t have to do you know Local</p>
<p begin="15:09:50.756" end="15:09:54.400" style="s2">Host because it&#39;s not technically a</p>
<p begin="15:09:52.200" end="15:09:56.520" style="s2">running server we actually just pass the</p>
<p begin="15:09:54.400" end="15:09:57.636" style="s2">actual app instance so we just say the</p>
<p begin="15:09:56.520" end="15:09:59.956" style="s2">root</p>
<p begin="15:09:57.636" end="15:10:02.000" style="s2">path and then you can pass and other</p>
<p begin="15:09:59.956" end="15:10:03.720" style="s2">things like you know what payload and</p>
<p begin="15:10:02.000" end="15:10:07.520" style="s2">things like that but we&#39;ll leave that</p>
<p begin="15:10:03.720" end="15:10:10.240" style="s2">for now uh leave it empty and we&#39;ll</p>
<p begin="15:10:07.520" end="15:10:12.916" style="s2">we&#39;ll store the response under a</p>
<p begin="15:10:10.240" end="15:10:15.000" style="s2">variable called res and instead of doing</p>
<p begin="15:10:12.916" end="15:10:18.520" style="s2">an assert or anything like that for now</p>
<p begin="15:10:15.000" end="15:10:21.840" style="s2">I just want to print</p>
<p begin="15:10:18.520" end="15:10:21.840" style="s2">out the</p>
<p begin="15:10:21.956" end="15:10:29.360" style="s2">response all right and if I run</p>
<p begin="15:10:26.080" end="15:10:30.756" style="s2">this okay so a little bit annoying thing</p>
<p begin="15:10:29.360" end="15:10:32.680" style="s2">right now it&#39;s going to run all of our</p>
<p begin="15:10:30.756" end="15:10:35.000" style="s2">tests and if you just want to test one</p>
<p begin="15:10:32.680" end="15:10:37.080" style="s2">test or one module then I recommend you</p>
<p begin="15:10:35.000" end="15:10:40.000" style="s2">just do uh the same thing except pass in</p>
<p begin="15:10:37.080" end="15:10:42.240" style="s2">the path to just your</p>
<p begin="15:10:40.000" end="15:10:44.000" style="s2">specific uh your specific module so that</p>
<p begin="15:10:42.240" end="15:10:46.436" style="s2">we don&#39;t run all of our tests all over</p>
<p begin="15:10:44.000" end="15:10:50.000" style="s2">again so we can just run one in this</p>
<p begin="15:10:46.436" end="15:10:51.436" style="s2">case and if we take a look at this uh we</p>
<p begin="15:10:50.000" end="15:10:54.520" style="s2">can see that it just prints out a</p>
<p begin="15:10:51.436" end="15:10:56.080" style="s2">response object not very helpful but if</p>
<p begin="15:10:54.520" end="15:11:00.320" style="s2">you want to see what&#39;s the actual</p>
<p begin="15:10:56.080" end="15:11:00.320" style="s2">payload we can say Json</p>
<p begin="15:11:00.480" end="15:11:06.276" style="s2">to see what the data looks like and so</p>
<p begin="15:11:03.276" end="15:11:09.756" style="s2">then I can run this and we can see that</p>
<p begin="15:11:06.276" end="15:11:11.116" style="s2">hey look we get message hello world and</p>
<p begin="15:11:09.756" end="15:11:14.796" style="s2">if I wanted to</p>
<p begin="15:11:11.116" end="15:11:17.436" style="s2">grab the message property I could say</p>
<p begin="15:11:14.796" end="15:11:19.160" style="s2">doget and then message and it should</p>
<p begin="15:11:17.436" end="15:11:23.276" style="s2">return hello</p>
<p begin="15:11:19.160" end="15:11:23.276" style="s2">world let&#39;s try this out one more</p>
<p begin="15:11:23.720" end="15:11:28.160" style="s2">time and we can see that it prints out</p>
<p begin="15:11:25.880" end="15:11:29.520" style="s2">hello world so to test that this route</p>
<p begin="15:11:28.160" end="15:11:31.596" style="s2">actually works what we can do is we can</p>
<p begin="15:11:29.520" end="15:11:34.320" style="s2">just do an</p>
<p begin="15:11:31.596" end="15:11:37.956" style="s2">assert and I could say assert and then</p>
<p begin="15:11:34.320" end="15:11:40.360" style="s2">um literally just copy this exact</p>
<p begin="15:11:37.956" end="15:11:42.636" style="s2">message and I can say hey the message</p>
<p begin="15:11:40.360" end="15:11:45.000" style="s2">should return a value</p>
<p begin="15:11:42.636" end="15:11:47.796" style="s2">of hello</p>
<p begin="15:11:45.000" end="15:11:49.200" style="s2">world it&#39;s as simple as that right it&#39;s</p>
<p begin="15:11:47.796" end="15:11:51.080" style="s2">no different than what we did before</p>
<p begin="15:11:49.200" end="15:11:53.400" style="s2">with our you know our addition function</p>
<p begin="15:11:51.080" end="15:11:55.000" style="s2">right we&#39;re just performing some action</p>
<p begin="15:11:53.400" end="15:11:56.680" style="s2">you know running our Cod and then making</p>
<p begin="15:11:55.000" end="15:11:57.596" style="s2">sure that the results are what we expect</p>
<p begin="15:11:56.680" end="15:12:00.276" style="s2">them to</p>
<p begin="15:11:57.596" end="15:12:03.200" style="s2">be right and so now if I run this</p>
<p begin="15:12:00.276" end="15:12:05.636" style="s2">again right once again still passes</p>
<p begin="15:12:03.200" end="15:12:07.680" style="s2">because it does return a value of hello</p>
<p begin="15:12:05.636" end="15:12:09.160" style="s2">world for the message property and we</p>
<p begin="15:12:07.680" end="15:12:10.636" style="s2">can assert multiple things right it&#39;s</p>
<p begin="15:12:09.160" end="15:12:13.000" style="s2">not just one we can do a second test</p>
<p begin="15:12:10.636" end="15:12:15.636" style="s2">case and I can say uh</p>
<p begin="15:12:13.000" end="15:12:16.680" style="s2">res Dot and we can access a property</p>
<p begin="15:12:15.636" end="15:12:18.596" style="s2">called status code it&#39;s even</p>
<p begin="15:12:16.680" end="15:12:20.916" style="s2">recommending that so we can say get me</p>
<p begin="15:12:18.596" end="15:12:23.956" style="s2">the status code and I could say well I</p>
<p begin="15:12:20.916" end="15:12:25.320" style="s2">expect this to be a uh you know if we</p>
<p begin="15:12:23.956" end="15:12:27.000" style="s2">don&#39;t change what the default status</p>
<p begin="15:12:25.320" end="15:12:29.680" style="s2">code is it&#39;s going to default to a value</p>
<p begin="15:12:27.000" end="15:12:31.520" style="s2">of 200 as per the fast API documentation</p>
<p begin="15:12:29.680" end="15:12:35.480" style="s2">so this should be a 200 we shouldn&#39;t get</p>
<p begin="15:12:31.520" end="15:12:38.880" style="s2">any other values so if I run</p>
<p begin="15:12:35.480" end="15:12:40.320" style="s2">this once again everything works but if</p>
<p begin="15:12:38.880" end="15:12:42.200" style="s2">I go into my code and create a little</p>
<p begin="15:12:40.320" end="15:12:45.080" style="s2">bug let&#39;s say</p>
<p begin="15:12:42.200" end="15:12:46.360" style="s2">um uh I just add you know an exclamation</p>
<p begin="15:12:45.080" end="15:12:49.880" style="s2">point or</p>
<p begin="15:12:46.360" end="15:12:53.080" style="s2">something then if I run</p>
<p begin="15:12:49.880" end="15:12:56.636" style="s2">this we can see that it fails and that&#39;s</p>
<p begin="15:12:53.080" end="15:12:59.360" style="s2">because we expected hello world but we</p>
<p begin="15:12:56.636" end="15:13:01.040" style="s2">got hello world exclamation</p>
<p begin="15:12:59.360" end="15:13:03.560" style="s2">let&#39;s change that</p>
<p begin="15:13:01.040" end="15:13:05.560" style="s2">back and this time let&#39;s create a</p>
<p begin="15:13:03.560" end="15:13:09.400" style="s2">different bug let&#39;s actually change what</p>
<p begin="15:13:05.560" end="15:13:10.956" style="s2">is the status code uh and so I can&#39;t</p>
<p begin="15:13:09.400" end="15:13:13.000" style="s2">exactly remember how to do that so let&#39;s</p>
<p begin="15:13:10.956" end="15:13:15.400" style="s2">go to our post</p>
<p begin="15:13:13.000" end="15:13:19.320" style="s2">router and we just set the status code</p>
<p begin="15:13:15.400" end="15:13:20.796" style="s2">right here like this so if I copy this</p>
<p begin="15:13:19.320" end="15:13:23.116" style="s2">and go back to</p>
<p begin="15:13:20.796" end="15:13:24.680" style="s2">here and actually was it in The</p>
<p begin="15:13:23.116" end="15:13:27.040" style="s2">Decorator yeah it&#39;s in The Decorator you</p>
<p begin="15:13:24.680" end="15:13:31.040" style="s2">put that in</p>
<p begin="15:13:27.040" end="15:13:31.040" style="s2">there and we have to import stat</p>
<p begin="15:13:35.276" end="15:13:42.320" style="s2">St and so now if I try this</p>
<p begin="15:13:39.276" end="15:13:43.360" style="s2">out and run this once again it&#39;s going</p>
<p begin="15:13:42.320" end="15:13:46.276" style="s2">to fail and that&#39;s because we&#39;re</p>
<p begin="15:13:43.360" end="15:13:49.400" style="s2">asserting and the response was a 2011</p>
<p begin="15:13:46.276" end="15:13:51.276" style="s2">but we expected a 200 as per hour test</p>
<p begin="15:13:49.400" end="15:13:52.596" style="s2">which over here says it should be 200</p>
<p begin="15:13:51.276" end="15:13:54.320" style="s2">and it throws an error so you can see we</p>
<p begin="15:13:52.596" end="15:13:55.956" style="s2">could test a lot of different things you</p>
<p begin="15:13:54.320" end="15:13:57.240" style="s2">can choose to test each and every</p>
<p begin="15:13:55.956" end="15:13:59.040" style="s2">property that you&#39;re interested in to</p>
<p begin="15:13:57.240" end="15:14:02.400" style="s2">make sure that the response is exact</p>
<p begin="15:13:59.040" end="15:14:02.400" style="s2">exactly what you expect it to</p>
<p begin="15:14:03.116" end="15:14:09.680" style="s2">be um but at this point I think we</p>
<p begin="15:14:06.360" end="15:14:11.840" style="s2">understand how to send requests so let</p>
<p begin="15:14:09.680" end="15:14:12.956" style="s2">me just first of all undo those changes</p>
<p begin="15:14:11.840" end="15:14:14.756" style="s2">that I just made just to make sure I</p>
<p begin="15:14:12.956" end="15:14:17.880" style="s2">don&#39;t break anything else in my</p>
<p begin="15:14:14.756" end="15:14:20.276" style="s2">app and we no longer need to import that</p>
<p begin="15:14:17.880" end="15:14:22.160" style="s2">so remove that we&#39;ll save everything and</p>
<p begin="15:14:20.276" end="15:14:23.520" style="s2">let&#39;s just run our test one more time</p>
<p begin="15:14:22.160" end="15:14:25.636" style="s2">just to make sure that everything&#39;s good</p>
<p begin="15:14:23.520" end="15:14:27.200" style="s2">and it looks like everything passes</p>
<p begin="15:14:25.636" end="15:14:28.756" style="s2">before moving any further I want to show</p>
<p begin="15:14:27.200" end="15:14:29.680" style="s2">you a couple of other flags that we can</p>
<p begin="15:14:28.756" end="15:14:31.596" style="s2">pass</p>
<p begin="15:14:29.680" end="15:14:34.000" style="s2">uh to the P test command so that we can</p>
<p begin="15:14:31.596" end="15:14:35.596" style="s2">kind of tweak the behavior of our</p>
<p begin="15:14:34.000" end="15:14:37.116" style="s2">testing and the first thing I want to do</p>
<p begin="15:14:35.596" end="15:14:38.636" style="s2">is if you take a look at the output you</p>
<p begin="15:14:37.116" end="15:14:40.796" style="s2">could see that we get a whole bunch of</p>
<p begin="15:14:38.636" end="15:14:42.436" style="s2">warnings and uh you know depending on</p>
<p begin="15:14:40.796" end="15:14:43.880" style="s2">how many packages and libraries that you</p>
<p begin="15:14:42.436" end="15:14:46.276" style="s2">have installed you could potentially see</p>
<p begin="15:14:43.880" end="15:14:47.880" style="s2">a lot more warnings uh and I actually</p>
<p begin="15:14:46.276" end="15:14:49.480" style="s2">hate looking at these things so what I</p>
<p begin="15:14:47.880" end="15:14:51.956" style="s2">normally like to do is I usually like to</p>
<p begin="15:14:49.480" end="15:14:55.000" style="s2">pass in the dash dash I think it&#39;s a</p>
<p begin="15:14:51.956" end="15:14:56.916" style="s2">disable warnings I think and so now if I</p>
<p begin="15:14:55.000" end="15:14:58.200" style="s2">run this you can see that there&#39;s no</p>
<p begin="15:14:56.916" end="15:14:59.480" style="s2">more warnings and we just see the</p>
<p begin="15:14:58.200" end="15:15:01.880" style="s2">testing information so I think that</p>
<p begin="15:14:59.480" end="15:15:03.240" style="s2">looks a lot cleaner uh and then the</p>
<p begin="15:15:01.880" end="15:15:06.400" style="s2">other thing that I want to show you guys</p>
<p begin="15:15:03.240" end="15:15:09.116" style="s2">is until now all of our you know testing</p>
<p begin="15:15:06.400" end="15:15:12.400" style="s2">when we&#39;ve broken a specific function or</p>
<p begin="15:15:09.116" end="15:15:13.560" style="s2">class um we&#39;ve only had one test fail</p>
<p begin="15:15:12.400" end="15:15:15.916" style="s2">and I want to show you what happens when</p>
<p begin="15:15:13.560" end="15:15:18.276" style="s2">you have multiple test fail so we go all</p>
<p begin="15:15:15.916" end="15:15:19.880" style="s2">the way to the top uh in the test</p>
<p begin="15:15:18.276" end="15:15:22.636" style="s2">calculations folder and then maybe I</p>
<p begin="15:15:19.880" end="15:15:25.240" style="s2">just change you know uh the subtract</p>
<p begin="15:15:22.636" end="15:15:27.400" style="s2">function so I&#39;ll change this to be six</p>
<p begin="15:15:25.240" end="15:15:28.956" style="s2">so we know that it&#39;s going to error out</p>
<p begin="15:15:27.400" end="15:15:31.636" style="s2">and then also at the bottom I&#39;m going</p>
<p begin="15:15:28.956" end="15:15:36.756" style="s2">going to test uh change this test right</p>
<p begin="15:15:31.636" end="15:15:38.636" style="s2">here so that it returns 56 instead of 55</p>
<p begin="15:15:36.756" end="15:15:41.720" style="s2">and so if we run</p>
<p begin="15:15:38.636" end="15:15:43.880" style="s2">this and I&#39;m going to do uh- V so we can</p>
<p begin="15:15:41.720" end="15:15:45.480" style="s2">see verbos um but you don&#39;t have to do</p>
<p begin="15:15:43.880" end="15:15:46.880" style="s2">that but if you take a look at what</p>
<p begin="15:15:45.480" end="15:15:48.756" style="s2">happens you can see that you know it</p>
<p begin="15:15:46.880" end="15:15:51.276" style="s2">runs the first three tests and then the</p>
<p begin="15:15:48.756" end="15:15:53.116" style="s2">fourth test uh fails and then it just</p>
<p begin="15:15:51.276" end="15:15:54.480" style="s2">continues running through all of the</p>
<p begin="15:15:53.116" end="15:15:56.116" style="s2">other tests and then it fails on the</p>
<p begin="15:15:54.480" end="15:15:58.320" style="s2">next one and then it finishes running</p>
<p begin="15:15:56.116" end="15:16:00.000" style="s2">all of the other tests so the default</p>
<p begin="15:15:58.320" end="15:16:01.240" style="s2">behavior is when a test fails we&#39;re</p>
<p begin="15:16:00.000" end="15:16:03.320" style="s2">going to continue running all of the</p>
<p begin="15:16:01.240" end="15:16:04.880" style="s2">other tests and this may not be the</p>
<p begin="15:16:03.320" end="15:16:06.040" style="s2">behavior you want so maybe you&#39;ve</p>
<p begin="15:16:04.880" end="15:16:08.560" style="s2">changed your code and you just want to</p>
<p begin="15:16:06.040" end="15:16:10.116" style="s2">see if we&#39;ve broken anything uh and so</p>
<p begin="15:16:08.560" end="15:16:11.160" style="s2">you want your code to ideally you know</p>
<p begin="15:16:10.116" end="15:16:12.956" style="s2">run through the test and the first time</p>
<p begin="15:16:11.160" end="15:16:14.520" style="s2">it fails you want it to stop so that you</p>
<p begin="15:16:12.956" end="15:16:17.160" style="s2">can you know then fix that issue and</p>
<p begin="15:16:14.520" end="15:16:19.680" style="s2">then run through the rest of the tests</p>
<p begin="15:16:17.160" end="15:16:21.636" style="s2">uh afterwards or or you know you can</p>
<p begin="15:16:19.680" end="15:16:23.916" style="s2">manually run it again because you know</p>
<p begin="15:16:21.636" end="15:16:26.756" style="s2">right now we only have like 167 tests so</p>
<p begin="15:16:23.916" end="15:16:28.160" style="s2">it doesn&#39;t take that long but when you</p>
<p begin="15:16:26.756" end="15:16:30.400" style="s2">uh start to write a lot more tests and</p>
<p begin="15:16:28.160" end="15:16:32.436" style="s2">your code starts to grow these tests can</p>
<p begin="15:16:30.400" end="15:16:34.240" style="s2">take you know minutes sometimes more</p>
<p begin="15:16:32.436" end="15:16:35.916" style="s2">than that depending on you know are you</p>
<p begin="15:16:34.240" end="15:16:37.680" style="s2">using an external API are you using a</p>
<p begin="15:16:35.916" end="15:16:39.276" style="s2">database these all add a significant</p>
<p begin="15:16:37.680" end="15:16:40.436" style="s2">amount of time to your test and so if</p>
<p begin="15:16:39.276" end="15:16:42.636" style="s2">you just want to see if you&#39;ve broken</p>
<p begin="15:16:40.436" end="15:16:44.840" style="s2">anything you may want P test to stop on</p>
<p begin="15:16:42.636" end="15:16:46.240" style="s2">the first failure so if you ever want P</p>
<p begin="15:16:44.840" end="15:16:48.796" style="s2">test to do that all you have to do is</p>
<p begin="15:16:46.240" end="15:16:51.276" style="s2">you have to pass in the dash X flag so</p>
<p begin="15:16:48.796" end="15:16:54.596" style="s2">this will tell p test to stop uh after</p>
<p begin="15:16:51.276" end="15:16:56.240" style="s2">the first test fails so if I run this</p>
<p begin="15:16:54.596" end="15:16:57.520" style="s2">you can see that we get pass pass pass</p>
<p begin="15:16:56.240" end="15:17:00.200" style="s2">and then the first test failed and then</p>
<p begin="15:16:57.520" end="15:17:01.596" style="s2">we stop and we don&#39;t do anything else uh</p>
<p begin="15:17:00.200" end="15:17:02.916" style="s2">and so those are just the two flags that</p>
<p begin="15:17:01.596" end="15:17:05.796" style="s2">I wanted to go over I don&#39;t think we&#39;ll</p>
<p begin="15:17:02.916" end="15:17:07.000" style="s2">really cover any other specific Flags um</p>
<p begin="15:17:05.796" end="15:17:08.636" style="s2">I just wanted to go over these two</p>
<p begin="15:17:07.000" end="15:17:11.596" style="s2">because they just happen to be two of</p>
<p begin="15:17:08.636" end="15:17:13.520" style="s2">the ones that I do like to use</p>
<p begin="15:17:11.596" end="15:17:16.000" style="s2">occasionally but let&#39;s make sure we go</p>
<p begin="15:17:13.520" end="15:17:18.596" style="s2">ahead and change all of our code back so</p>
<p begin="15:17:16.000" end="15:17:20.436" style="s2">I think we changed this one this should</p>
<p begin="15:17:18.596" end="15:17:24.480" style="s2">be back to</p>
<p begin="15:17:20.436" end="15:17:26.636" style="s2">five and this should be changed back to</p>
<p begin="15:17:24.480" end="15:17:28.040" style="s2">55 and just to make sure let&#39;s just run</p>
<p begin="15:17:26.636" end="15:17:29.400" style="s2">our code once more just to make sure we</p>
<p begin="15:17:28.040" end="15:17:30.840" style="s2">didn&#39;t break anything in we can see all</p>
<p begin="15:17:29.400" end="15:17:33.320" style="s2">16 test</p>
<p begin="15:17:30.840" end="15:17:36.276" style="s2">pass so now that we know how to simulate</p>
<p begin="15:17:33.320" end="15:17:39.560" style="s2">a request to our API let&#39;s create a test</p>
<p begin="15:17:36.276" end="15:17:41.240" style="s2">for testing the uh user create</p>
<p begin="15:17:39.560" end="15:17:43.520" style="s2">functionality so what we&#39;re doing is</p>
<p begin="15:17:41.240" end="15:17:46.000" style="s2">we&#39;re going to create a user and we&#39;re</p>
<p begin="15:17:43.520" end="15:17:48.360" style="s2">going to test this specific route right</p>
<p begin="15:17:46.000" end="15:17:50.200" style="s2">here where we create a user so let&#39;s try</p>
<p begin="15:17:48.360" end="15:17:53.400" style="s2">this out uh we&#39;re going to do the same</p>
<p begin="15:17:50.200" end="15:17:56.916" style="s2">thing I&#39;ll call this def testore create</p>
<p begin="15:17:53.400" end="15:17:56.916" style="s2">_ user</p>
<p begin="15:18:00.200" end="15:18:03.720" style="s2">and here I can say res equals client</p>
<p begin="15:18:02.400" end="15:18:05.756" style="s2">like we did before but this time it&#39;s</p>
<p begin="15:18:03.720" end="15:18:07.880" style="s2">going to be a post</p>
<p begin="15:18:05.756" end="15:18:10.276" style="s2">request and the URL that&#39;s going to be</p>
<p begin="15:18:07.880" end="15:18:10.276" style="s2">SL</p>
<p begin="15:18:12.040" end="15:18:16.480" style="s2">users all right and then since we&#39;re now</p>
<p begin="15:18:14.240" end="15:18:19.436" style="s2">sending a request uh you know to create</p>
<p begin="15:18:16.480" end="15:18:22.200" style="s2">a user we have to send data in the body</p>
<p begin="15:18:19.436" end="15:18:25.040" style="s2">so to send data in the body you say Json</p>
<p begin="15:18:22.200" end="15:18:26.436" style="s2">equals and then you pass in a python</p>
<p begin="15:18:25.040" end="15:18:28.360" style="s2">dictionary so this is going to get sent</p>
<p begin="15:18:26.436" end="15:18:30.200" style="s2">as the body and if you go back to our</p>
<p begin="15:18:28.360" end="15:18:33.080" style="s2">specific</p>
<p begin="15:18:30.200" end="15:18:35.596" style="s2">route uh which is right here uh you can</p>
<p begin="15:18:33.080" end="15:18:37.400" style="s2">see that we expect the users create</p>
<p begin="15:18:35.596" end="15:18:39.916" style="s2">schema so if we take a look at the</p>
<p begin="15:18:37.400" end="15:18:42.360" style="s2">schemas uh you can see that somewhere in</p>
<p begin="15:18:39.916" end="15:18:45.276" style="s2">here where is user</p>
<p begin="15:18:42.360" end="15:18:49.360" style="s2">create here we go we expect an email and</p>
<p begin="15:18:45.276" end="15:18:49.360" style="s2">a password so let&#39;s send an email and a</p>
<p begin="15:18:54.436" end="15:19:00.560" style="s2">password and so for email we&#39;ll say this</p>
<p begin="15:18:57.040" end="15:19:00.560" style="s2">is going to be</p>
<p begin="15:19:02.720" end="15:19:08.436" style="s2">L1 123@gmail.com</p>
<p begin="15:19:05.200" end="15:19:08.436" style="s2">and the</p>
<p begin="15:19:08.756" end="15:19:14.040" style="s2">password is going to be password 1 2</p>
<p begin="15:19:15.916" end="15:19:22.276" style="s2">3 and just to see that it worked let&#39;s</p>
<p begin="15:19:18.160" end="15:19:24.840" style="s2">do a print and I&#39;ll say res.</p>
<p begin="15:19:22.276" end="15:19:26.360" style="s2">Json and then the test requirements you</p>
<p begin="15:19:24.840" end="15:19:27.480" style="s2">know how do we verify that it works well</p>
<p begin="15:19:26.360" end="15:19:29.756" style="s2">let&#39;s start off with something very</p>
<p begin="15:19:27.480" end="15:19:33.636" style="s2">simple so we&#39;ll say</p>
<p begin="15:19:29.756" end="15:19:34.956" style="s2">assert and I&#39;ll say res. status code we</p>
<p begin="15:19:33.636" end="15:19:37.080" style="s2">know that when we create a user we</p>
<p begin="15:19:34.956" end="15:19:38.560" style="s2">expect a 2011 and we can just verify</p>
<p begin="15:19:37.080" end="15:19:40.596" style="s2">that by taking a look at the path</p>
<p begin="15:19:38.560" end="15:19:44.756" style="s2">operation um but I think this should be</p>
<p begin="15:19:40.596" end="15:19:44.756" style="s2">good and then now if I run</p>
<p begin="15:19:45.040" end="15:19:51.000" style="s2">this and I&#39;m going to run just this file</p>
<p begin="15:19:47.520" end="15:19:51.000" style="s2">so I&#39;ll say test test</p>
<p begin="15:19:52.000" end="15:19:57.916" style="s2">user and let&#39;s see what</p>
<p begin="15:19:54.840" end="15:19:59.880" style="s2">happens so we see both of them passed</p>
<p begin="15:19:57.916" end="15:20:02.636" style="s2">and how do we verif ify that</p>
<p begin="15:19:59.880" end="15:20:05.400" style="s2">well I mean it we should see this user</p>
<p begin="15:20:02.636" end="15:20:08.720" style="s2">in our database right so if I go to my</p>
<p begin="15:20:05.400" end="15:20:10.436" style="s2">um PG admin go to my database and we&#39;ll</p>
<p begin="15:20:08.720" end="15:20:12.200" style="s2">go to our</p>
<p begin="15:20:10.436" end="15:20:15.880" style="s2">schemas</p>
<p begin="15:20:12.200" end="15:20:17.680" style="s2">tables and go to users and we&#39;ll do a</p>
<p begin="15:20:15.880" end="15:20:20.240" style="s2">view edit</p>
<p begin="15:20:17.680" end="15:20:22.596" style="s2">all right we can see the hello one 123</p>
<p begin="15:20:20.240" end="15:20:24.720" style="s2">so it was successfully created um I&#39;m</p>
<p begin="15:20:22.596" end="15:20:26.000" style="s2">just going to quickly delete this again</p>
<p begin="15:20:24.720" end="15:20:28.160" style="s2">well actually let me show you what</p>
<p begin="15:20:26.000" end="15:20:30.796" style="s2">happens if we don&#39;t uh I&#39;m actually</p>
<p begin="15:20:28.160" end="15:20:33.040" style="s2">going to do something unique here I&#39;m</p>
<p begin="15:20:30.796" end="15:20:36.480" style="s2">going to say well actually let&#39;s just do</p>
<p begin="15:20:33.040" end="15:20:38.276" style="s2">an assert and I&#39;ll say res</p>
<p begin="15:20:36.480" end="15:20:40.880" style="s2">do</p>
<p begin="15:20:38.276" end="15:20:43.360" style="s2">Json</p>
<p begin="15:20:40.880" end="15:20:46.276" style="s2">doget and we want to get one field just</p>
<p begin="15:20:43.360" end="15:20:47.560" style="s2">to verify that it&#39;s correct so um what&#39;s</p>
<p begin="15:20:46.276" end="15:20:50.116" style="s2">the data going to look like when it</p>
<p begin="15:20:47.560" end="15:20:52.116" style="s2">comes back well we should see a print</p>
<p begin="15:20:50.116" end="15:20:55.116" style="s2">but I didn&#39;t that&#39;s because I forgot to</p>
<p begin="15:20:52.116" end="15:20:57.596" style="s2">do the dash s flag but going back to the</p>
<p begin="15:20:55.116" end="15:21:00.436" style="s2">route we&#39;re going to send the response</p>
<p begin="15:20:57.596" end="15:21:01.400" style="s2">as a user route so we expect it to match</p>
<p begin="15:21:00.436" end="15:21:05.240" style="s2">this</p>
<p begin="15:21:01.400" end="15:21:07.360" style="s2">specific um this</p>
<p begin="15:21:05.240" end="15:21:09.916" style="s2">specific model right here so it should</p>
<p begin="15:21:07.360" end="15:21:14.000" style="s2">have an ID an email and a created</p>
<p begin="15:21:09.916" end="15:21:16.080" style="s2">ad so let&#39;s add that in there I expect</p>
<p begin="15:21:14.000" end="15:21:19.636" style="s2">the</p>
<p begin="15:21:16.080" end="15:21:21.840" style="s2">email to equal equal the email that I</p>
<p begin="15:21:19.636" end="15:21:21.840" style="s2">gave</p>
<p begin="15:21:24.720" end="15:21:28.956" style="s2">it and you can really do as many you</p>
<p begin="15:21:27.636" end="15:21:31.636" style="s2">know asserts as you want want you can</p>
<p begin="15:21:28.956" end="15:21:33.276" style="s2">verify each single property has been set</p>
<p begin="15:21:31.636" end="15:21:34.480" style="s2">uh you can verify that an ID has been</p>
<p begin="15:21:33.276" end="15:21:36.720" style="s2">set I&#39;m just going to keep it simple</p>
<p begin="15:21:34.480" end="15:21:39.636" style="s2">we&#39;ll just say just the email um we&#39;ll</p>
<p begin="15:21:36.720" end="15:21:44.956" style="s2">just run that check and so we&#39;ll run it</p>
<p begin="15:21:39.636" end="15:21:44.956" style="s2">again and I&#39;m going to do the- s flag as</p>
<p begin="15:21:45.560" end="15:21:49.796" style="s2">well all right and we see that it</p>
<p begin="15:21:50.596" end="15:21:54.400" style="s2">failed and we can see that it failed</p>
<p begin="15:21:52.560" end="15:21:56.436" style="s2">because there&#39;s a duplicate key violates</p>
<p begin="15:21:54.400" end="15:21:59.436" style="s2">unique constraint of email and that&#39;s</p>
<p begin="15:21:56.436" end="15:22:03.720" style="s2">because this user was already created so</p>
<p begin="15:21:59.436" end="15:22:03.720" style="s2">I can&#39;t recreate him so let me delete</p>
<p begin="15:22:04.040" end="15:22:08.636" style="s2">this and I don&#39;t think I yeah if I</p>
<p begin="15:22:06.480" end="15:22:10.796" style="s2">select the number and then go to oh no</p>
<p begin="15:22:08.636" end="15:22:13.680" style="s2">it doesn&#39;t look like I</p>
<p begin="15:22:10.796" end="15:22:15.956" style="s2">can there we go now I once I select that</p>
<p begin="15:22:13.680" end="15:22:19.880" style="s2">number I can delete this</p>
<p begin="15:22:15.956" end="15:22:19.880" style="s2">user and then we can save that to</p>
<p begin="15:22:23.916" end="15:22:30.436" style="s2">database and so now if I run this again</p>
<p begin="15:22:26.880" end="15:22:30.436" style="s2">we should see it</p>
<p begin="15:22:30.480" end="15:22:36.596" style="s2">work and we can see that both tests</p>
<p begin="15:22:33.956" end="15:22:38.880" style="s2">pass and we can see that both of our</p>
<p begin="15:22:36.596" end="15:22:41.080" style="s2">statements were checked and validated</p>
<p begin="15:22:38.880" end="15:22:42.636" style="s2">and they both looked good but instead of</p>
<p begin="15:22:41.080" end="15:22:45.000" style="s2">doing it like this we can even take it</p>
<p begin="15:22:42.636" end="15:22:48.560" style="s2">one step further um instead what we can</p>
<p begin="15:22:45.000" end="15:22:52.756" style="s2">do is I can actually import this user</p>
<p begin="15:22:48.560" end="15:22:58.756" style="s2">out schema into my test so I can say uh</p>
<p begin="15:22:52.756" end="15:22:58.756" style="s2">from app. schemas import</p>
<p begin="15:22:58.796" end="15:23:03.916" style="s2">user out and then I can remove this</p>
<p begin="15:23:01.596" end="15:23:03.916" style="s2">print</p>
<p begin="15:23:05.200" end="15:23:12.000" style="s2">statement and what I can do is here I</p>
<p begin="15:23:08.680" end="15:23:14.636" style="s2">can actually use the</p>
<p begin="15:23:12.000" end="15:23:16.116" style="s2">schemas actually sorry um I&#39;m actually</p>
<p begin="15:23:14.636" end="15:23:19.956" style="s2">going to change this import I&#39;m going to</p>
<p begin="15:23:16.116" end="15:23:22.400" style="s2">just import all schemas so say from App</p>
<p begin="15:23:19.956" end="15:23:22.400" style="s2">import</p>
<p begin="15:23:23.240" end="15:23:29.200" style="s2">schemas and now I can actually create a</p>
<p begin="15:23:25.916" end="15:23:32.436" style="s2">new pantic model and I&#39;ll say SCH</p>
<p begin="15:23:29.200" end="15:23:32.436" style="s2">do user</p>
<p begin="15:23:32.796" end="15:23:36.276" style="s2">out so we&#39;re going to create a new</p>
<p begin="15:23:34.720" end="15:23:39.000" style="s2">schema save this as a variable I&#39;ll call</p>
<p begin="15:23:36.276" end="15:23:42.360" style="s2">this um new</p>
<p begin="15:23:39.000" end="15:23:44.360" style="s2">user and we can pass in the data that we</p>
<p begin="15:23:42.360" end="15:23:45.840" style="s2">get back from the response so I can say</p>
<p begin="15:23:44.360" end="15:23:48.720" style="s2">res.</p>
<p begin="15:23:45.840" end="15:23:51.080" style="s2">Json and remember we have to actually</p>
<p begin="15:23:48.720" end="15:23:53.880" style="s2">unpack the dictionary so it&#39;s in the</p>
<p begin="15:23:51.080" end="15:23:56.200" style="s2">right format to create a new user out</p>
<p begin="15:23:53.880" end="15:23:57.840" style="s2">model and now this is going to perform a</p>
<p begin="15:23:56.200" end="15:24:00.240" style="s2">certain level of validation so it&#39;s</p>
<p begin="15:23:57.840" end="15:24:02.916" style="s2">going to confirm hey do we have an ID do</p>
<p begin="15:24:00.240" end="15:24:05.200" style="s2">we have an email do we have a what was</p>
<p begin="15:24:02.916" end="15:24:06.840" style="s2">the other thing that we needed uh and do</p>
<p begin="15:24:05.200" end="15:24:08.480" style="s2">we have a created at so it&#39;s going to</p>
<p begin="15:24:06.840" end="15:24:09.560" style="s2">make sure it&#39;s got these three things</p>
<p begin="15:24:08.480" end="15:24:11.000" style="s2">it&#39;s not going to check to make sure</p>
<p begin="15:24:09.560" end="15:24:13.080" style="s2">that it&#39;s the right email it&#39;s not going</p>
<p begin="15:24:11.000" end="15:24:14.080" style="s2">to check to see if it&#39;s the right ID but</p>
<p begin="15:24:13.080" end="15:24:15.520" style="s2">it&#39;s going to check to make sure that at</p>
<p begin="15:24:14.080" end="15:24:16.840" style="s2">least it has these three properties so</p>
<p begin="15:24:15.520" end="15:24:19.956" style="s2">it automatically does some of the</p>
<p begin="15:24:16.840" end="15:24:21.240" style="s2">validation for us and it&#39;ll throw a an</p>
<p begin="15:24:19.956" end="15:24:23.400" style="s2">error if one of those are missing and if</p>
<p begin="15:24:21.240" end="15:24:25.200" style="s2">it throws an error then obviously P test</p>
<p begin="15:24:23.400" end="15:24:27.160" style="s2">will consider this test a failure so by</p>
<p begin="15:24:25.200" end="15:24:29.360" style="s2">doing this we&#39;ve kind of uh we&#39;ve kind</p>
<p begin="15:24:27.160" end="15:24:30.680" style="s2">of uh saved us a little time and now I</p>
<p begin="15:24:29.360" end="15:24:35.916" style="s2">can actually change this instead of</p>
<p begin="15:24:30.680" end="15:24:38.840" style="s2">doing this I could say newor user. email</p>
<p begin="15:24:35.916" end="15:24:41.436" style="s2">equals this value so now if I run this</p>
<p begin="15:24:38.840" end="15:24:41.436" style="s2">hopefully this</p>
<p begin="15:24:43.400" end="15:24:49.320" style="s2">works and it looks like it failed and</p>
<p begin="15:24:46.000" end="15:24:49.320" style="s2">let&#39;s quickly see what happened</p>
<p begin="15:24:49.840" end="15:24:57.400" style="s2">here oh once again I forgot</p>
<p begin="15:24:53.680" end="15:24:59.200" style="s2">to delete the user beforehand so we&#39;ll</p>
<p begin="15:24:57.400" end="15:25:01.436" style="s2">delete him and then try this test one</p>
<p begin="15:24:59.200" end="15:25:01.436" style="s2">more</p>
<p begin="15:25:01.596" end="15:25:05.840" style="s2">time and they passed so I think this is</p>
<p begin="15:25:04.560" end="15:25:08.520" style="s2">what we&#39;re going to do moving forward</p>
<p begin="15:25:05.840" end="15:25:10.436" style="s2">we&#39;re going to make use of our uh pantic</p>
<p begin="15:25:08.520" end="15:25:11.840" style="s2">models to do some of the validation for</p>
<p begin="15:25:10.436" end="15:25:13.916" style="s2">us automatically so that we don&#39;t have</p>
<p begin="15:25:11.840" end="15:25:15.636" style="s2">like you know 60 or SE well probably not</p>
<p begin="15:25:13.916" end="15:25:16.880" style="s2">60 but we won&#39;t have 5 10 different</p>
<p begin="15:25:15.636" end="15:25:18.436" style="s2">assert statements which you can</p>
<p begin="15:25:16.880" end="15:25:20.360" style="s2">absolutely do and you probably do want</p>
<p begin="15:25:18.436" end="15:25:21.796" style="s2">to but this will remove some of them</p>
<p begin="15:25:20.360" end="15:25:24.116" style="s2">because it&#39;s at least checking to see if</p>
<p begin="15:25:21.796" end="15:25:26.116" style="s2">some of them are there so before moving</p>
<p begin="15:25:24.116" end="15:25:27.520" style="s2">any further you know we need to address</p>
<p begin="15:25:26.116" end="15:25:30.636" style="s2">something important and that is that</p>
<p begin="15:25:27.520" end="15:25:33.436" style="s2">right now we are are using our</p>
<p begin="15:25:30.636" end="15:25:34.880" style="s2">development database uh for our tests</p>
<p begin="15:25:33.436" end="15:25:36.880" style="s2">and that&#39;s not good I don&#39;t want to use</p>
<p begin="15:25:34.880" end="15:25:39.200" style="s2">my development database I want to create</p>
<p begin="15:25:36.880" end="15:25:40.840" style="s2">my own separate database to perform</p>
<p begin="15:25:39.200" end="15:25:43.320" style="s2">testing on so that I don&#39;t get in the</p>
<p begin="15:25:40.840" end="15:25:45.116" style="s2">way of development or staging or any of</p>
<p begin="15:25:43.320" end="15:25:46.916" style="s2">our production databases I want to</p>
<p begin="15:25:45.116" end="15:25:49.360" style="s2">create a completely separate database</p>
<p begin="15:25:46.916" end="15:25:52.080" style="s2">for testing right now when we you know</p>
<p begin="15:25:49.360" end="15:25:54.116" style="s2">import our client right we&#39;re going to</p>
<p begin="15:25:52.080" end="15:25:56.400" style="s2">be using whatever the database is that</p>
<p begin="15:25:54.116" end="15:25:58.320" style="s2">we&#39;ve defined in the rest of our app</p>
<p begin="15:25:56.400" end="15:26:00.320" style="s2">which is going to be our fast API datab</p>
<p begin="15:25:58.320" end="15:26:02.000" style="s2">base within PG admin and we could see</p>
<p begin="15:26:00.320" end="15:26:04.080" style="s2">that right here and so that&#39;s why I&#39;m</p>
<p begin="15:26:02.000" end="15:26:05.320" style="s2">having to go in and you know make sure</p>
<p begin="15:26:04.080" end="15:26:06.916" style="s2">that it&#39;s created and we&#39;ve already got</p>
<p begin="15:26:05.320" end="15:26:10.240" style="s2">some other data which could potentially</p>
<p begin="15:26:06.916" end="15:26:11.916" style="s2">break our tests uh and so I want to make</p>
<p begin="15:26:10.240" end="15:26:13.480" style="s2">sure that we have a completely separate</p>
<p begin="15:26:11.916" end="15:26:15.596" style="s2">database for testing so that it does not</p>
<p begin="15:26:13.480" end="15:26:17.636" style="s2">get in the way of anything else so how</p>
<p begin="15:26:15.596" end="15:26:20.116" style="s2">exactly do we do that well one of the</p>
<p begin="15:26:17.636" end="15:26:21.720" style="s2">great Parts about uh the way we&#39;ve set</p>
<p begin="15:26:20.116" end="15:26:24.040" style="s2">up our database is if we actually go to</p>
<p begin="15:26:21.720" end="15:26:26.160" style="s2">our database. py file right you could</p>
<p begin="15:26:24.040" end="15:26:28.240" style="s2">see that we&#39;ve actually set up a DAT um</p>
<p begin="15:26:26.160" end="15:26:29.560" style="s2">a dependency so when we set up our</p>
<p begin="15:26:28.240" end="15:26:32.200" style="s2">dependency you can see we created this</p>
<p begin="15:26:29.560" end="15:26:34.840" style="s2">function called get DB and this get DB</p>
<p begin="15:26:32.200" end="15:26:36.520" style="s2">actually Returns the session local so um</p>
<p begin="15:26:34.840" end="15:26:39.320" style="s2">this is what allows us to actually you</p>
<p begin="15:26:36.520" end="15:26:41.680" style="s2">know make queries using SQL Alchemy and</p>
<p begin="15:26:39.320" end="15:26:43.480" style="s2">that comes from this right here from the</p>
<p begin="15:26:41.680" end="15:26:46.360" style="s2">session maker where we passed in all of</p>
<p begin="15:26:43.480" end="15:26:47.916" style="s2">our uh database connection details and</p>
<p begin="15:26:46.360" end="15:26:49.596" style="s2">if we go into any one of our routes it</p>
<p begin="15:26:47.916" end="15:26:51.796" style="s2">doesn&#39;t really matter which one you can</p>
<p begin="15:26:49.596" end="15:26:53.636" style="s2">see that we passing the dependency into</p>
<p begin="15:26:51.796" end="15:26:55.240" style="s2">the route and the great part about</p>
<p begin="15:26:53.636" end="15:26:58.160" style="s2">having dependencies is that it&#39;s very</p>
<p begin="15:26:55.240" end="15:26:59.200" style="s2">easy to override a dependency uh in any</p>
<p begin="15:26:58.160" end="15:27:01.320" style="s2">environment especially a testing</p>
<p begin="15:26:59.200" end="15:27:03.916" style="s2">environment we can say hey instead of</p>
<p begin="15:27:01.320" end="15:27:05.916" style="s2">passing in you know get DB we can say</p>
<p begin="15:27:03.916" end="15:27:08.560" style="s2">you know something like uh get I don&#39;t</p>
<p begin="15:27:05.916" end="15:27:10.116" style="s2">know undor testore DB which is going to</p>
<p begin="15:27:08.560" end="15:27:12.040" style="s2">be a function that returns a test</p>
<p begin="15:27:10.116" end="15:27:14.436" style="s2">instance of our database instead of our</p>
<p begin="15:27:12.040" end="15:27:15.400" style="s2">development instance of our database so</p>
<p begin="15:27:14.436" end="15:27:17.400" style="s2">I&#39;m going to show you guys how we can</p>
<p begin="15:27:15.400" end="15:27:21.000" style="s2">set that up and how easy that</p>
<p begin="15:27:17.400" end="15:27:23.080" style="s2">is uh so we&#39;ll go back to our test</p>
<p begin="15:27:21.000" end="15:27:25.240" style="s2">users and we&#39;re essentially just going</p>
<p begin="15:27:23.080" end="15:27:27.520" style="s2">to copy all of this right here so I want</p>
<p begin="15:27:25.240" end="15:27:29.880" style="s2">you to copy this all the way up to the</p>
<p begin="15:27:27.520" end="15:27:31.436" style="s2">URL and we&#39;ll have to set up some</p>
<p begin="15:27:29.880" end="15:27:35.756" style="s2">imports and we&#39;ll come back to that in a</p>
<p begin="15:27:31.436" end="15:27:35.756" style="s2">second so let&#39;s just create some</p>
<p begin="15:27:37.560" end="15:27:43.480" style="s2">space all right so we&#39;ve got all of this</p>
<p begin="15:27:40.320" end="15:27:45.276" style="s2">and we need to import a few things uh so</p>
<p begin="15:27:43.480" end="15:27:48.636" style="s2">we&#39;ll start off by uh we&#39;ll have to</p>
<p begin="15:27:45.276" end="15:27:48.636" style="s2">import settings so we&#39;ll say</p>
<p begin="15:27:48.796" end="15:27:55.880" style="s2">from App</p>
<p begin="15:27:51.916" end="15:27:59.320" style="s2">import actually we&#39;ll say from app.</p>
<p begin="15:27:55.880" end="15:28:01.480" style="s2">config import I think it&#39;s settings yep</p>
<p begin="15:27:59.320" end="15:28:04.796" style="s2">all right so we&#39;ve got that cleared uh</p>
<p begin="15:28:01.480" end="15:28:04.796" style="s2">we then have to import create</p>
<p begin="15:28:05.040" end="15:28:09.680" style="s2">engine uh and so we&#39;ll go up here and</p>
<p begin="15:28:07.320" end="15:28:13.756" style="s2">I&#39;ll say from SQL</p>
<p begin="15:28:09.680" end="15:28:15.720" style="s2">Alchemy import create _</p>
<p begin="15:28:13.756" end="15:28:17.720" style="s2">engine and then we need our session</p>
<p begin="15:28:15.720" end="15:28:19.916" style="s2">maker as well and I think if I hover</p>
<p begin="15:28:17.720" end="15:28:21.796" style="s2">over this can I nope it doesn&#39;t look</p>
<p begin="15:28:19.916" end="15:28:23.040" style="s2">like it&#39;ll Auto Import that for me so</p>
<p begin="15:28:21.796" end="15:28:24.636" style="s2">I&#39;ll say from</p>
<p begin="15:28:23.040" end="15:28:29.000" style="s2">sqlalchemy.orm</p>
<p begin="15:28:24.636" end="15:28:29.000" style="s2">import session maker</p>
<p begin="15:28:29.480" end="15:28:33.720" style="s2">all right looks like we got most of the</p>
<p begin="15:28:30.840" end="15:28:35.796" style="s2">issues we still need declarative base</p>
<p begin="15:28:33.720" end="15:28:38.916" style="s2">and we&#39;ll import</p>
<p begin="15:28:35.796" end="15:28:43.520" style="s2">that I&#39;ll say from SQL</p>
<p begin="15:28:38.916" end="15:28:46.040" style="s2">Alchemy do ext. declarative</p>
<p begin="15:28:43.520" end="15:28:46.916" style="s2">import declarative base and if you guys</p>
<p begin="15:28:46.040" end="15:28:48.756" style="s2">don&#39;t know where I&#39;m getting this I&#39;m</p>
<p begin="15:28:46.916" end="15:28:50.360" style="s2">literally just copying this straight</p>
<p begin="15:28:48.756" end="15:28:53.680" style="s2">from this file so everything that&#39;s here</p>
<p begin="15:28:50.360" end="15:28:56.320" style="s2">I&#39;m just you can just copy it as</p>
<p begin="15:28:53.680" end="15:28:57.756" style="s2">well and if we go down I think we have</p>
<p begin="15:28:56.320" end="15:28:59.596" style="s2">everything right we no longer have any</p>
<p begin="15:28:57.756" end="15:29:01.956" style="s2">errors so we&#39;ve got all of our</p>
<p begin="15:28:59.596" end="15:29:04.916" style="s2">Imports and so this is the function that</p>
<p begin="15:29:01.956" end="15:29:06.360" style="s2">returns our session local so this is</p>
<p begin="15:29:04.916" end="15:29:08.276" style="s2">what allows us to query the database</p>
<p begin="15:29:06.360" end="15:29:10.480" style="s2">this is our session object right and</p>
<p begin="15:29:08.276" end="15:29:13.000" style="s2">this is how it&#39;s set up uh exactly in</p>
<p begin="15:29:10.480" end="15:29:13.840" style="s2">the database. py file so what I&#39;m going</p>
<p begin="15:29:13.000" end="15:29:15.000" style="s2">to do is I&#39;m going to create another</p>
<p begin="15:29:13.840" end="15:29:17.400" style="s2">function but this time I&#39;m going to call</p>
<p begin="15:29:15.000" end="15:29:20.756" style="s2">it override</p>
<p begin="15:29:17.400" end="15:29:24.916" style="s2">underscore get uncore DB and this is</p>
<p begin="15:29:20.756" end="15:29:27.116" style="s2">going to return this session local</p>
<p begin="15:29:24.916" end="15:29:28.596" style="s2">instance but I&#39;m going to rename this</p>
<p begin="15:29:27.116" end="15:29:31.796" style="s2">just so I don&#39;t get a confused and I&#39;ll</p>
<p begin="15:29:28.596" end="15:29:33.080" style="s2">call this uh testing session local and</p>
<p begin="15:29:31.796" end="15:29:35.400" style="s2">then I&#39;ll reference</p>
<p begin="15:29:33.080" end="15:29:37.956" style="s2">this all right and so that means right</p>
<p begin="15:29:35.400" end="15:29:39.360" style="s2">now in our current application we&#39;re</p>
<p begin="15:29:37.956" end="15:29:41.956" style="s2">referencing the one that we created in</p>
<p begin="15:29:39.360" end="15:29:43.560" style="s2">our database. py file but the one in our</p>
<p begin="15:29:41.956" end="15:29:46.080" style="s2">test we&#39;re going to actually make use of</p>
<p begin="15:29:43.560" end="15:29:48.116" style="s2">this new one right here if we call this</p>
<p begin="15:29:46.080" end="15:29:52.080" style="s2">override get</p>
<p begin="15:29:48.116" end="15:29:54.756" style="s2">DB so how exactly do we override the</p>
<p begin="15:29:52.080" end="15:29:57.436" style="s2">database or any dependency really um</p>
<p begin="15:29:54.756" end="15:30:01.360" style="s2">well fast API has a section on here and</p>
<p begin="15:29:57.436" end="15:30:01.360" style="s2">I think if I search for</p>
<p begin="15:30:04.636" end="15:30:08.720" style="s2">dependency testing dependencies with</p>
<p begin="15:30:10.040" end="15:30:14.040" style="s2">overrides right to actually set up the</p>
<p begin="15:30:12.240" end="15:30:16.400" style="s2">override you just do app. dependency</p>
<p begin="15:30:14.040" end="15:30:18.480" style="s2">override and then you provide what you</p>
<p begin="15:30:16.400" end="15:30:20.040" style="s2">want to override it with and there&#39;s</p>
<p begin="15:30:18.480" end="15:30:22.480" style="s2">actually a better example if I go to</p>
<p begin="15:30:20.040" end="15:30:22.480" style="s2">testing</p>
<p begin="15:30:22.840" end="15:30:26.560" style="s2">database this will actually show you how</p>
<p begin="15:30:24.720" end="15:30:28.916" style="s2">to do that so we&#39;ve got the</p>
<p begin="15:30:26.560" end="15:30:29.880" style="s2">overb where we&#39;ve created a different</p>
<p begin="15:30:28.916" end="15:30:31.916" style="s2">session</p>
<p begin="15:30:29.880" end="15:30:34.680" style="s2">object and to override it we just do</p>
<p begin="15:30:31.916" end="15:30:36.360" style="s2">app. dependency overrides we pass in uh</p>
<p begin="15:30:34.680" end="15:30:38.400" style="s2">well we specify the dependency we want</p>
<p begin="15:30:36.360" end="15:30:40.200" style="s2">to override which is anything with get</p>
<p begin="15:30:38.400" end="15:30:42.756" style="s2">DB and then we want to override it with</p>
<p begin="15:30:40.200" end="15:30:45.240" style="s2">override undor getdb so essentially all</p>
<p begin="15:30:42.756" end="15:30:47.320" style="s2">that&#39;s really doing is uh in the</p>
<p begin="15:30:45.240" end="15:30:50.400" style="s2">functions any of our routes right you</p>
<p begin="15:30:47.320" end="15:30:52.720" style="s2">can see we&#39;ve got this depends get DB so</p>
<p begin="15:30:50.400" end="15:30:54.276" style="s2">when we run that Command right here this</p>
<p begin="15:30:52.720" end="15:30:56.596" style="s2">override all it&#39;s going to do is it&#39;s</p>
<p begin="15:30:54.276" end="15:30:59.276" style="s2">going to swap this out with the function</p>
<p begin="15:30:56.596" end="15:31:01.080" style="s2">that we have right here under test users</p>
<p begin="15:30:59.276" end="15:31:03.200" style="s2">called override get DB which is just</p>
<p begin="15:31:01.080" end="15:31:05.240" style="s2">going to give a different session object</p>
<p begin="15:31:03.200" end="15:31:07.240" style="s2">and this session object uh can point to</p>
<p begin="15:31:05.240" end="15:31:08.680" style="s2">another postest database that&#39;s all</p>
<p begin="15:31:07.240" end="15:31:10.560" style="s2">we&#39;re doing it&#39;s really that simple</p>
<p begin="15:31:08.680" end="15:31:12.080" style="s2">that&#39;s why we set up that uh that</p>
<p begin="15:31:10.560" end="15:31:13.880" style="s2">dependency when we first started</p>
<p begin="15:31:12.080" end="15:31:16.636" style="s2">configuring our database so that we can</p>
<p begin="15:31:13.880" end="15:31:17.880" style="s2">easily test this during testing because</p>
<p begin="15:31:16.636" end="15:31:19.636" style="s2">we can just use the override</p>
<p begin="15:31:17.880" end="15:31:23.240" style="s2">functionality that&#39;s used within a fast</p>
<p begin="15:31:19.636" end="15:31:23.240" style="s2">API so I&#39;m going to copy</p>
<p begin="15:31:24.480" end="15:31:31.116" style="s2">this and right here I&#39;m going to paste</p>
<p begin="15:31:27.956" end="15:31:33.796" style="s2">it down here and I realized I misspelled</p>
<p begin="15:31:31.116" end="15:31:35.680" style="s2">override but we do have to import get DB</p>
<p begin="15:31:33.796" end="15:31:39.240" style="s2">now so let&#39;s import</p>
<p begin="15:31:35.680" end="15:31:42.680" style="s2">that so I&#39;ll say from app. database</p>
<p begin="15:31:39.240" end="15:31:45.276" style="s2">import getor DB and so it&#39;s going to</p>
<p begin="15:31:42.680" end="15:31:47.400" style="s2">swap the dependencies</p>
<p begin="15:31:45.276" end="15:31:48.680" style="s2">out and since we&#39;re still referencing</p>
<p begin="15:31:47.400" end="15:31:51.040" style="s2">the app object we&#39;re going to pass it</p>
<p begin="15:31:48.680" end="15:31:53.080" style="s2">into test client and so now uh anytime</p>
<p begin="15:31:51.040" end="15:31:55.880" style="s2">we use this client it&#39;s going to use the</p>
<p begin="15:31:53.080" end="15:31:58.840" style="s2">new database uh now currently our</p>
<p begin="15:31:55.880" end="15:32:00.276" style="s2">database is using the environment</p>
<p begin="15:31:58.840" end="15:32:02.636" style="s2">variables which once again is going to</p>
<p begin="15:32:00.276" end="15:32:04.756" style="s2">point to our development database so</p>
<p begin="15:32:02.636" end="15:32:10.720" style="s2">there&#39;s a couple things we can do since</p>
<p begin="15:32:04.756" end="15:32:13.360" style="s2">this is testing we 100% could just um</p>
<p begin="15:32:10.720" end="15:32:14.756" style="s2">hardcode um our URL because I mean it&#39;s</p>
<p begin="15:32:13.360" end="15:32:16.840" style="s2">our testing database who cares if our</p>
<p begin="15:32:14.756" end="15:32:19.116" style="s2">password and our information is already</p>
<p begin="15:32:16.840" end="15:32:21.480" style="s2">out there so we could technically uh do</p>
<p begin="15:32:19.116" end="15:32:23.160" style="s2">an FST string actually we don&#39;t even</p>
<p begin="15:32:21.480" end="15:32:25.436" style="s2">need an F string I could just say</p>
<p begin="15:32:23.160" end="15:32:28.636" style="s2">postgress Q whoops this should be a</p>
<p begin="15:32:25.436" end="15:32:31.400" style="s2">string postgress Q</p>
<p begin="15:32:28.636" end="15:32:34.116" style="s2">col SL SL the then we have the username</p>
<p begin="15:32:31.400" end="15:32:35.080" style="s2">right now for my for my database it&#39;s</p>
<p begin="15:32:34.116" end="15:32:38.080" style="s2">just</p>
<p begin="15:32:35.080" end="15:32:39.880" style="s2">postgress and then we have the password</p>
<p begin="15:32:38.080" end="15:32:41.840" style="s2">which is password 1 2 3 remember this</p>
<p begin="15:32:39.880" end="15:32:44.240" style="s2">would technically be for your testing</p>
<p begin="15:32:41.840" end="15:32:45.880" style="s2">database so it&#39;s not technically a</p>
<p begin="15:32:44.240" end="15:32:48.400" style="s2">problem if you put this in there and</p>
<p begin="15:32:45.880" end="15:32:51.160" style="s2">hardcode it however uh you&#39;ll see that</p>
<p begin="15:32:48.400" end="15:32:52.636" style="s2">we could um just use the environment</p>
<p begin="15:32:51.160" end="15:32:53.840" style="s2">variables and make a small tweak but I&#39;m</p>
<p begin="15:32:52.636" end="15:32:56.200" style="s2">just going to quickly write this out for</p>
<p begin="15:32:53.840" end="15:32:58.276" style="s2">you guys if you wanted to see</p>
<p begin="15:32:56.200" end="15:33:01.320" style="s2">it and then the host name is going to be</p>
<p begin="15:32:58.276" end="15:33:02.796" style="s2">Local Host Port it&#39;s going to be 5432</p>
<p begin="15:33:01.320" end="15:33:04.560" style="s2">and then our database name so we could</p>
<p begin="15:33:02.796" end="15:33:06.720" style="s2">call this you know my my development</p>
<p begin="15:33:04.560" end="15:33:08.320" style="s2">database is called Fast API could call</p>
<p begin="15:33:06.720" end="15:33:10.080" style="s2">my testing database maybe fast API</p>
<p begin="15:33:08.320" end="15:33:11.320" style="s2">uncore test so whatever my project name</p>
<p begin="15:33:10.080" end="15:33:12.320" style="s2">is and then underscore test you can call</p>
<p begin="15:33:11.320" end="15:33:14.796" style="s2">it whatever you</p>
<p begin="15:33:12.320" end="15:33:16.000" style="s2">want and so I can just hardcode that and</p>
<p begin="15:33:14.796" end="15:33:19.560" style="s2">then comment this</p>
<p begin="15:33:16.000" end="15:33:22.880" style="s2">out something like that or I could use</p>
<p begin="15:33:19.560" end="15:33:25.796" style="s2">this same thing but just do a underscore</p>
<p begin="15:33:22.880" end="15:33:27.000" style="s2">test here and so that way I don&#39;t have</p>
<p begin="15:33:25.796" end="15:33:29.160" style="s2">to hardcode anything it&#39;s going to</p>
<p begin="15:33:27.000" end="15:33:31.400" style="s2">actually pull it from the environment</p>
<p begin="15:33:29.160" end="15:33:34.040" style="s2">variables so whichever method works for</p>
<p begin="15:33:31.400" end="15:33:35.956" style="s2">you ultimately that&#39;s all that matters</p>
<p begin="15:33:34.040" end="15:33:37.880" style="s2">now I technically already have a fast</p>
<p begin="15:33:35.956" end="15:33:40.436" style="s2">API test</p>
<p begin="15:33:37.880" end="15:33:43.956" style="s2">database so I&#39;m going to actually delete</p>
<p begin="15:33:40.436" end="15:33:43.956" style="s2">this for now so we&#39;ll say delete</p>
<p begin="15:33:44.560" end="15:33:49.840" style="s2">drop all right so I&#39;m now in however</p>
<p begin="15:33:48.080" end="15:33:51.436" style="s2">your post Christ instance setup but</p>
<p begin="15:33:49.840" end="15:33:53.480" style="s2">since we&#39;re going to be using a database</p>
<p begin="15:33:51.436" end="15:33:55.200" style="s2">called Fast API unor test we actually</p>
<p begin="15:33:53.480" end="15:33:59.116" style="s2">have to create one so I&#39;ll say create</p>
<p begin="15:33:55.200" end="15:34:03.636" style="s2">database and I&#39;ll say fast API uncore</p>
<p begin="15:33:59.116" end="15:34:03.636" style="s2">test Okay so we&#39;ve got our test database</p>
<p begin="15:34:04.956" end="15:34:10.520" style="s2">created and we&#39;ve set up the override</p>
<p begin="15:34:08.116" end="15:34:12.840" style="s2">let&#39;s now actually test this out so</p>
<p begin="15:34:10.520" end="15:34:17.200" style="s2">we&#39;re going</p>
<p begin="15:34:12.840" end="15:34:18.840" style="s2">to do one last thing and I I realize um</p>
<p begin="15:34:17.200" end="15:34:22.040" style="s2">since we have a brand new</p>
<p begin="15:34:18.840" end="15:34:25.080" style="s2">database there&#39;s no tables right if I go</p>
<p begin="15:34:22.040" end="15:34:25.080" style="s2">down to</p>
<p begin="15:34:25.276" end="15:34:28.796" style="s2">schemas tables right there&#39;s nothing</p>
<p begin="15:34:27.400" end="15:34:31.480" style="s2">there so we actually have to build out</p>
<p begin="15:34:28.796" end="15:34:34.720" style="s2">our our tables before we actually do</p>
<p begin="15:34:31.480" end="15:34:37.200" style="s2">anything so uh easiest way to do that is</p>
<p begin="15:34:34.720" end="15:34:39.520" style="s2">just copy uh where&#39;s my main file here</p>
<p begin="15:34:37.200" end="15:34:41.080" style="s2">we go this Command right here so this</p>
<p begin="15:34:39.520" end="15:34:42.916" style="s2">will tell SQL Alchemy to build all the</p>
<p begin="15:34:41.080" end="15:34:45.116" style="s2">tables based off of the models we could</p>
<p begin="15:34:42.916" end="15:34:47.436" style="s2">use almic as well so I&#39;ll show you guys</p>
<p begin="15:34:45.116" end="15:34:49.276" style="s2">how we can kind of get a lmic uh set up</p>
<p begin="15:34:47.436" end="15:34:51.040" style="s2">in our testing database so that it</p>
<p begin="15:34:49.276" end="15:34:52.480" style="s2">actually performs the migrations before</p>
<p begin="15:34:51.040" end="15:34:55.916" style="s2">test but for now we&#39;re going to keep</p>
<p begin="15:34:52.480" end="15:34:55.916" style="s2">things simple and we&#39;re going to use</p>
<p begin="15:34:56.400" end="15:35:01.956" style="s2">this and so I&#39;ll just paste it right</p>
<p begin="15:34:58.680" end="15:35:04.116" style="s2">there and we can remove this models I</p>
<p begin="15:35:01.956" end="15:35:06.160" style="s2">don&#39;t know why that&#39;s there and you can</p>
<p begin="15:35:04.116" end="15:35:07.560" style="s2">see that we get uh a warning right here</p>
<p begin="15:35:06.160" end="15:35:09.636" style="s2">so we don&#39;t have anything based so we</p>
<p begin="15:35:07.560" end="15:35:13.116" style="s2">actually have to import that from our</p>
<p begin="15:35:09.636" end="15:35:17.436" style="s2">database file so I&#39;ll say from app.</p>
<p begin="15:35:13.116" end="15:35:17.436" style="s2">database import</p>
<p begin="15:35:17.916" end="15:35:21.240" style="s2">base and I realize we actually don&#39;t</p>
<p begin="15:35:19.956" end="15:35:22.480" style="s2">need this line right here so we&#39;ll</p>
<p begin="15:35:21.240" end="15:35:25.040" style="s2">remove</p>
<p begin="15:35:22.480" end="15:35:28.040" style="s2">that all right so now our test database</p>
<p begin="15:35:25.040" end="15:35:29.756" style="s2">is completely set up</p>
<p begin="15:35:28.040" end="15:35:32.040" style="s2">and when we when we actually run our</p>
<p begin="15:35:29.756" end="15:35:33.520" style="s2">first test it&#39;s going to run this right</p>
<p begin="15:35:32.040" end="15:35:34.840" style="s2">here which should create all of our</p>
<p begin="15:35:33.520" end="15:35:37.080" style="s2">tables for</p>
<p begin="15:35:34.840" end="15:35:39.360" style="s2">us so let&#39;s take a look at our test</p>
<p begin="15:35:37.080" end="15:35:41.436" style="s2">create user um everything should be good</p>
<p begin="15:35:39.360" end="15:35:44.560" style="s2">we shouldn&#39;t have to touch anything and</p>
<p begin="15:35:41.436" end="15:35:47.720" style="s2">um our URL should point to fast API unor</p>
<p begin="15:35:44.560" end="15:35:51.560" style="s2">test so let&#39;s try this out and I&#39;m just</p>
<p begin="15:35:47.720" end="15:35:53.880" style="s2">going to refresh this and uh yep we</p>
<p begin="15:35:51.560" end="15:35:56.360" style="s2">shouldn&#39;t have any tables good perfect</p>
<p begin="15:35:53.880" end="15:35:59.520" style="s2">and let&#39;s run this now so let&#39;s run just</p>
<p begin="15:35:56.360" end="15:35:59.520" style="s2">the test users</p>
<p begin="15:36:00.956" end="15:36:05.436" style="s2">all right and both of them passed so how</p>
<p begin="15:36:03.400" end="15:36:08.116" style="s2">can we verify both of them passed uh</p>
<p begin="15:36:05.436" end="15:36:10.276" style="s2">well let&#39;s go to our tables I&#39;m going to</p>
<p begin="15:36:08.116" end="15:36:11.636" style="s2">refresh this we can now see we&#39;ve got</p>
<p begin="15:36:10.276" end="15:36:14.000" style="s2">all three tables right and that&#39;s</p>
<p begin="15:36:11.636" end="15:36:16.840" style="s2">because we ran this specif well not that</p>
<p begin="15:36:14.000" end="15:36:20.276" style="s2">command this Command right here and if I</p>
<p begin="15:36:16.840" end="15:36:22.560" style="s2">do a users and then uh where is it VI</p>
<p begin="15:36:20.276" end="15:36:25.080" style="s2">edit a all data all</p>
<p begin="15:36:22.560" end="15:36:27.200" style="s2">rows right we can see that our user was</p>
<p begin="15:36:25.080" end="15:36:30.080" style="s2">successfully created so we have now</p>
<p begin="15:36:27.200" end="15:36:31.680" style="s2">gotten our test database set up so that</p>
<p begin="15:36:30.080" end="15:36:34.000" style="s2">we no longer interfere with our</p>
<p begin="15:36:31.680" end="15:36:35.680" style="s2">development database and keep in mind</p>
<p begin="15:36:34.000" end="15:36:37.040" style="s2">right it do your test database doesn&#39;t</p>
<p begin="15:36:35.680" end="15:36:38.480" style="s2">even have to run on your local machine</p>
<p begin="15:36:37.040" end="15:36:39.916" style="s2">you can run it anywhere you can run it</p>
<p begin="15:36:38.480" end="15:36:42.400" style="s2">in a Docker container you can run it on</p>
<p begin="15:36:39.916" end="15:36:44.680" style="s2">a remote machine you pass in the details</p>
<p begin="15:36:42.400" end="15:36:46.916" style="s2">of your test database uh and then your</p>
<p begin="15:36:44.680" end="15:36:48.436" style="s2">testing environment will handle the rest</p>
<p begin="15:36:46.916" end="15:36:50.636" style="s2">so now that we&#39;ve got our test database</p>
<p begin="15:36:48.436" end="15:36:53.080" style="s2">and we&#39;ve successfully ran our tests um</p>
<p begin="15:36:50.636" end="15:36:55.916" style="s2">if we run our test one more time take a</p>
<p begin="15:36:53.080" end="15:36:57.880" style="s2">look at what happens we get an error</p>
<p begin="15:36:55.916" end="15:36:59.840" style="s2">right and we get an error because we saw</p>
<p begin="15:36:57.880" end="15:37:01.520" style="s2">this before in our development database</p>
<p begin="15:36:59.840" end="15:37:04.116" style="s2">we already have a user so we get this</p>
<p begin="15:37:01.520" end="15:37:05.720" style="s2">duplicate key violates unique constraint</p>
<p begin="15:37:04.116" end="15:37:07.200" style="s2">because this user already exists so when</p>
<p begin="15:37:05.720" end="15:37:09.916" style="s2">we run this again we try to create a new</p>
<p begin="15:37:07.200" end="15:37:12.276" style="s2">user with the same exact email and this</p>
<p begin="15:37:09.916" end="15:37:14.116" style="s2">obviously causes things to break uh and</p>
<p begin="15:37:12.276" end="15:37:15.560" style="s2">so how do we get around this limitation</p>
<p begin="15:37:14.116" end="15:37:16.916" style="s2">right I want to be able to run my test</p>
<p begin="15:37:15.560" end="15:37:18.116" style="s2">as many times as possible and I wanted</p>
<p begin="15:37:16.916" end="15:37:21.880" style="s2">to kind of start out with the Clean</p>
<p begin="15:37:18.116" end="15:37:23.720" style="s2">Slate well we can make use of fixtures</p>
<p begin="15:37:21.880" end="15:37:25.080" style="s2">so let&#39;s take a look uh at our fixture</p>
<p begin="15:37:23.720" end="15:37:27.080" style="s2">and if you already forgot what a fixture</p>
<p begin="15:37:25.080" end="15:37:29.436" style="s2">was it&#39;s just a function that runs</p>
<p begin="15:37:27.080" end="15:37:31.480" style="s2">before your test runs so I&#39;m going to</p>
<p begin="15:37:29.436" end="15:37:34.160" style="s2">create a fixture and I&#39;m going to have</p>
<p begin="15:37:31.480" end="15:37:36.000" style="s2">to do we already import uh pest we did</p>
<p begin="15:37:34.160" end="15:37:40.200" style="s2">not import P test so let me import that</p>
<p begin="15:37:36.000" end="15:37:40.200" style="s2">in here we say import P</p>
<p begin="15:37:41.956" end="15:37:47.756" style="s2">test and I&#39;m going to say I&#39;m going to</p>
<p begin="15:37:45.400" end="15:37:47.756" style="s2">create my</p>
<p begin="15:37:50.240" end="15:37:54.680" style="s2">fixture call this whatever you want um</p>
<p begin="15:37:52.796" end="15:37:56.916" style="s2">I&#39;m going to call this client so this is</p>
<p begin="15:37:54.680" end="15:37:58.720" style="s2">actually going to return uh this is</p>
<p begin="15:37:56.916" end="15:38:00.200" style="s2">actually going to to return our client</p>
<p begin="15:37:58.720" end="15:38:01.520" style="s2">right this is our client object right</p>
<p begin="15:38:00.200" end="15:38:02.956" style="s2">here which is the test client which is</p>
<p begin="15:38:01.520" end="15:38:05.956" style="s2">what we use to actually generate the</p>
<p begin="15:38:02.956" end="15:38:08.200" style="s2">request uh so I&#39;m going to call this def</p>
<p begin="15:38:05.956" end="15:38:11.240" style="s2">client and what this is going to do is</p>
<p begin="15:38:08.200" end="15:38:13.480" style="s2">I&#39;m going to remove this line right here</p>
<p begin="15:38:11.240" end="15:38:18.160" style="s2">and just copy</p>
<p begin="15:38:13.480" end="15:38:19.796" style="s2">this and I&#39;m going to say return this</p>
<p begin="15:38:18.160" end="15:38:21.956" style="s2">and we can just remove this line at that</p>
<p begin="15:38:19.796" end="15:38:25.080" style="s2">point so this is going to return our</p>
<p begin="15:38:21.956" end="15:38:26.436" style="s2">test client instance and so now to get</p>
<p begin="15:38:25.080" end="15:38:29.360" style="s2">this to actually work I&#39;m going to pass</p>
<p begin="15:38:26.436" end="15:38:29.360" style="s2">in our client</p>
<p begin="15:38:29.680" end="15:38:34.160" style="s2">and so now this client</p>
<p begin="15:38:31.560" end="15:38:36.916" style="s2">object references the client that we get</p>
<p begin="15:38:34.160" end="15:38:38.840" style="s2">from this fixture and we&#39;ll do the same</p>
<p begin="15:38:36.916" end="15:38:40.520" style="s2">thing here so what exactly has this</p>
<p begin="15:38:38.840" end="15:38:42.200" style="s2">solved um right now it hasn&#39;t really</p>
<p begin="15:38:40.520" end="15:38:44.276" style="s2">done anything for us right our code is</p>
<p begin="15:38:42.200" end="15:38:47.320" style="s2">going to work exactly the same uh you</p>
<p begin="15:38:44.276" end="15:38:49.956" style="s2">know if I save things and run it</p>
<p begin="15:38:47.320" end="15:38:54.756" style="s2">again right same exact issue uh and</p>
<p begin="15:38:49.956" end="15:38:54.756" style="s2">obviously I can go in and I can delete</p>
<p begin="15:38:55.160" end="15:39:00.880" style="s2">this and then run this</p>
<p begin="15:38:58.360" end="15:39:02.956" style="s2">right it&#39;s going to work just fine but</p>
<p begin="15:39:00.880" end="15:39:05.756" style="s2">it is nice because we now have this</p>
<p begin="15:39:02.956" end="15:39:08.320" style="s2">function that runs before each one of</p>
<p begin="15:39:05.756" end="15:39:11.116" style="s2">these tests that gives us our testing</p>
<p begin="15:39:08.320" end="15:39:13.080" style="s2">client and what&#39;s even better is I can</p>
<p begin="15:39:11.116" end="15:39:16.116" style="s2">actually change this a little bit</p>
<p begin="15:39:13.080" end="15:39:18.240" style="s2">because I can change this to be a</p>
<p begin="15:39:16.116" end="15:39:19.520" style="s2">yield right when you change it to yield</p>
<p begin="15:39:18.240" end="15:39:22.880" style="s2">what it does is it gives us a little bit</p>
<p begin="15:39:19.520" end="15:39:28.080" style="s2">more flexibility because now we can you</p>
<p begin="15:39:22.880" end="15:39:29.116" style="s2">know run our code before we</p>
<p begin="15:39:28.080" end="15:39:34.480" style="s2">return</p>
<p begin="15:39:29.116" end="15:39:37.480" style="s2">our test client and after the yield we</p>
<p begin="15:39:34.480" end="15:39:39.560" style="s2">can then run our</p>
<p begin="15:39:37.480" end="15:39:42.276" style="s2">code actually this should be run our</p>
<p begin="15:39:39.560" end="15:39:44.680" style="s2">code before we run</p>
<p begin="15:39:42.276" end="15:39:48.756" style="s2">our test and then this is going to run</p>
<p begin="15:39:44.680" end="15:39:50.720" style="s2">our code after our test finishes so now</p>
<p begin="15:39:48.756" end="15:39:52.956" style="s2">we can put in Logic for you know what</p>
<p begin="15:39:50.720" end="15:39:56.000" style="s2">should we run before our code runs or</p>
<p begin="15:39:52.956" end="15:39:57.116" style="s2">before our test runs we then yield which</p>
<p begin="15:39:56.000" end="15:39:59.436" style="s2">is the same thing as return it&#39;s going</p>
<p begin="15:39:57.116" end="15:40:03.360" style="s2">to return our test client and then we</p>
<p begin="15:39:59.436" end="15:40:03.360" style="s2">can run some code after the test</p>
<p begin="15:40:03.840" end="15:40:09.680" style="s2">finishes so what we can do is before our</p>
<p begin="15:40:07.596" end="15:40:13.276" style="s2">code runs I</p>
<p begin="15:40:09.680" end="15:40:14.880" style="s2">can copy this line right here so before</p>
<p begin="15:40:13.276" end="15:40:19.520" style="s2">our code</p>
<p begin="15:40:14.880" end="15:40:23.436" style="s2">runs I can create my tables and then</p>
<p begin="15:40:19.520" end="15:40:25.200" style="s2">after my code runs I can drop my tables</p>
<p begin="15:40:23.436" end="15:40:27.360" style="s2">if you want to drop a table you just run</p>
<p begin="15:40:25.200" end="15:40:30.680" style="s2">base. metadata. drop all instead of</p>
<p begin="15:40:27.360" end="15:40:33.840" style="s2">create all and it&#39;s going to drop these</p>
<p begin="15:40:30.680" end="15:40:35.360" style="s2">tables and so now every single time my</p>
<p begin="15:40:33.840" end="15:40:36.560" style="s2">test run I&#39;m essentially going to be</p>
<p begin="15:40:35.360" end="15:40:37.880" style="s2">starting out with the Clean Slate it&#39;s</p>
<p begin="15:40:36.560" end="15:40:39.756" style="s2">going to drop all of our tables all the</p>
<p begin="15:40:37.880" end="15:40:40.916" style="s2">data in each table it&#39;s going to return</p>
<p begin="15:40:39.756" end="15:40:43.756" style="s2">the test client we&#39;re going to run the</p>
<p begin="15:40:40.916" end="15:40:47.000" style="s2">test and then sorry it&#39;s I mess that up</p>
<p begin="15:40:43.756" end="15:40:48.720" style="s2">so when we when we finish a test we&#39;re</p>
<p begin="15:40:47.000" end="15:40:50.636" style="s2">going to drop all of our tables delete</p>
<p begin="15:40:48.720" end="15:40:51.796" style="s2">our data then the next time the test</p>
<p begin="15:40:50.636" end="15:40:53.040" style="s2">runs what it&#39;s going to happen is we&#39;re</p>
<p begin="15:40:51.796" end="15:40:54.636" style="s2">going to create all the tables again</p>
<p begin="15:40:53.040" end="15:40:56.240" style="s2">because there&#39;s no tables we&#39;re then</p>
<p begin="15:40:54.636" end="15:40:57.840" style="s2">going to run the test and then just like</p>
<p begin="15:40:56.240" end="15:41:00.400" style="s2">we did before we&#39;re going to then drop</p>
<p begin="15:40:57.840" end="15:41:02.240" style="s2">all of our tables again so what I&#39;m</p>
<p begin="15:41:00.400" end="15:41:05.000" style="s2">going to do is first of all I&#39;m going to</p>
<p begin="15:41:02.240" end="15:41:05.000" style="s2">manually drop</p>
<p begin="15:41:05.240" end="15:41:09.840" style="s2">these and I&#39;m going to have to drop</p>
<p begin="15:41:07.840" end="15:41:12.080" style="s2">votes first or then it&#39;s going to throw</p>
<p begin="15:41:09.840" end="15:41:14.000" style="s2">some foreign key errors and then we&#39;ll</p>
<p begin="15:41:12.080" end="15:41:16.200" style="s2">drop</p>
<p begin="15:41:14.000" end="15:41:20.000" style="s2">posts and then</p>
<p begin="15:41:16.200" end="15:41:21.320" style="s2">users okay so now everything should work</p>
<p begin="15:41:20.000" end="15:41:22.360" style="s2">uh and I&#39;m actually going to test this</p>
<p begin="15:41:21.320" end="15:41:24.520" style="s2">out</p>
<p begin="15:41:22.360" end="15:41:25.796" style="s2">so once again just to reiterate we&#39;re</p>
<p begin="15:41:24.520" end="15:41:27.240" style="s2">going to create our tables cuz we don&#39;t</p>
<p begin="15:41:25.796" end="15:41:29.400" style="s2">have any we&#39;re going to then run our</p>
<p begin="15:41:27.240" end="15:41:31.276" style="s2">test right yield just returns our test</p>
<p begin="15:41:29.400" end="15:41:33.240" style="s2">client to our create user and then we</p>
<p begin="15:41:31.276" end="15:41:34.796" style="s2">can you know perform all this logic</p>
<p begin="15:41:33.240" end="15:41:36.240" style="s2">after that&#39;s done we&#39;ll then drop the</p>
<p begin="15:41:34.796" end="15:41:40.000" style="s2">tables again so we start from scratch</p>
<p begin="15:41:36.240" end="15:41:45.360" style="s2">the next time around so let&#39;s try this</p>
<p begin="15:41:40.000" end="15:41:46.796" style="s2">out all right everything&#39;s worked and um</p>
<p begin="15:41:45.360" end="15:41:49.240" style="s2">if I actually go back to here and hit</p>
<p begin="15:41:46.796" end="15:41:50.636" style="s2">refresh tables you can see there&#39;s no</p>
<p begin="15:41:49.240" end="15:41:53.520" style="s2">tables because we dropped the tables</p>
<p begin="15:41:50.636" end="15:41:55.956" style="s2">after we&#39;re done and if I run this</p>
<p begin="15:41:53.520" end="15:41:57.400" style="s2">again it works we can run this as many</p>
<p begin="15:41:55.956" end="15:41:58.916" style="s2">times as we want we don&#39;t have to worry</p>
<p begin="15:41:57.400" end="15:42:01.040" style="s2">about duplicate users because we&#39;re</p>
<p begin="15:41:58.916" end="15:42:03.240" style="s2">clearing out our database and there&#39;s</p>
<p begin="15:42:01.040" end="15:42:05.596" style="s2">one more thing that you can do as well</p>
<p begin="15:42:03.240" end="15:42:08.000" style="s2">uh if you wanted to we could actually</p>
<p begin="15:42:05.596" end="15:42:11.116" style="s2">take this drop</p>
<p begin="15:42:08.000" end="15:42:13.596" style="s2">all and move it up</p>
<p begin="15:42:11.116" end="15:42:14.796" style="s2">here so what&#39;s the what&#39;s the benefit of</p>
<p begin="15:42:13.596" end="15:42:16.680" style="s2">doing like this or why would you want to</p>
<p begin="15:42:14.796" end="15:42:17.916" style="s2">do it like this well the nice part about</p>
<p begin="15:42:16.680" end="15:42:19.680" style="s2">this is right it&#39;s going to clear out</p>
<p begin="15:42:17.916" end="15:42:20.796" style="s2">anything we had previously it&#39;s going to</p>
<p begin="15:42:19.680" end="15:42:21.796" style="s2">create our tables and then it&#39;s going to</p>
<p begin="15:42:20.796" end="15:42:24.040" style="s2">run our</p>
<p begin="15:42:21.796" end="15:42:25.956" style="s2">test and then the next test that we run</p>
<p begin="15:42:24.040" end="15:42:27.916" style="s2">we&#39;re once again going to clear out our</p>
<p begin="15:42:25.956" end="15:42:28.956" style="s2">table uh yeah we&#39;re going to clear it</p>
<p begin="15:42:27.916" end="15:42:32.596" style="s2">out and then we&#39;re going to build our</p>
<p begin="15:42:28.956" end="15:42:34.680" style="s2">new tables again so this way if you if</p>
<p begin="15:42:32.596" end="15:42:37.400" style="s2">your test fails you can you know pass in</p>
<p begin="15:42:34.680" end="15:42:38.756" style="s2">the dash you know X flag to stop after</p>
<p begin="15:42:37.400" end="15:42:40.200" style="s2">it fails and what&#39;s going to happen is</p>
<p begin="15:42:38.756" end="15:42:41.636" style="s2">it&#39;s going to keep all your tables and</p>
<p begin="15:42:40.200" end="15:42:43.520" style="s2">all the data so you can see what was the</p>
<p begin="15:42:41.636" end="15:42:45.720" style="s2">current state of your database when the</p>
<p begin="15:42:43.520" end="15:42:47.436" style="s2">test failed so that you can you know</p>
<p begin="15:42:45.720" end="15:42:48.596" style="s2">ideally have a little bit of better idea</p>
<p begin="15:42:47.436" end="15:42:49.756" style="s2">of what&#39;s Happening troubleshoot a</p>
<p begin="15:42:48.596" end="15:42:52.000" style="s2">little bit more because you have access</p>
<p begin="15:42:49.756" end="15:42:54.200" style="s2">to your to your tables whereas if it&#39;s</p>
<p begin="15:42:52.000" end="15:42:55.276" style="s2">if this is down here right it&#39;s just</p>
<p begin="15:42:54.200" end="15:42:57.320" style="s2">going to delete the tables after you&#39;re</p>
<p begin="15:42:55.276" end="15:42:58.916" style="s2">done you can&#39;t even see it so it&#39;s a a</p>
<p begin="15:42:57.320" end="15:43:01.116" style="s2">personal preference but I like to keep</p>
<p begin="15:42:58.916" end="15:43:02.520" style="s2">the tables after it&#39;s done so that you</p>
<p begin="15:43:01.116" end="15:43:04.160" style="s2">know if I do want to stop it and just</p>
<p begin="15:43:02.520" end="15:43:06.680" style="s2">kind of poke around and take a look then</p>
<p begin="15:43:04.160" end="15:43:07.720" style="s2">I can and if you guys don&#39;t want to use</p>
<p begin="15:43:06.680" end="15:43:10.080" style="s2">SQL</p>
<p begin="15:43:07.720" end="15:43:15.720" style="s2">Alchemy you can do the same thing with</p>
<p begin="15:43:10.080" end="15:43:17.596" style="s2">olymic right I can I can import you know</p>
<p begin="15:43:15.720" end="15:43:19.636" style="s2">almic doc</p>
<p begin="15:43:17.596" end="15:43:22.560" style="s2">config actually it would I think the</p>
<p begin="15:43:19.636" end="15:43:26.040" style="s2">technically the import is from almic Doc</p>
<p begin="15:43:22.560" end="15:43:29.360" style="s2">config import config sorry not that nope</p>
<p begin="15:43:26.040" end="15:43:32.956" style="s2">no it&#39;s a from MC import command so what</p>
<p begin="15:43:29.360" end="15:43:34.680" style="s2">we could theoretically do is uh in here</p>
<p begin="15:43:32.956" end="15:43:38.840" style="s2">instead of using these we could say</p>
<p begin="15:43:34.680" end="15:43:40.880" style="s2">something like uh I think it&#39;s command.</p>
<p begin="15:43:38.840" end="15:43:43.436" style="s2">upgrade so you can</p>
<p begin="15:43:40.880" end="15:43:46.160" style="s2">upgrade and then you can go up upgrade</p>
<p begin="15:43:43.436" end="15:43:47.596" style="s2">to I think head right so this will build</p>
<p begin="15:43:46.160" end="15:43:50.596" style="s2">out all the tables for you and then</p>
<p begin="15:43:47.596" end="15:43:54.880" style="s2">after you&#39;re done you could then go in</p>
<p begin="15:43:50.596" end="15:43:56.320" style="s2">and say command. downgrade to base or</p>
<p begin="15:43:54.880" end="15:43:58.080" style="s2">something right you&#39;d have to make sure</p>
<p begin="15:43:56.320" end="15:44:00.200" style="s2">you set up a Olympic with all of the</p>
<p begin="15:43:58.080" end="15:44:01.360" style="s2">right environment variables and things</p>
<p begin="15:44:00.200" end="15:44:03.360" style="s2">like that but that&#39;s all you would have</p>
<p begin="15:44:01.360" end="15:44:06.200" style="s2">to do if you didn&#39;t want to use SQL</p>
<p begin="15:44:03.360" end="15:44:07.560" style="s2">alchemy&#39;s built-in functionality so I&#39;m</p>
<p begin="15:44:06.200" end="15:44:08.796" style="s2">going to just delete that just to keep</p>
<p begin="15:44:07.560" end="15:44:10.880" style="s2">things</p>
<p begin="15:44:08.796" end="15:44:12.360" style="s2">simple uh we&#39;re going to let SQL Alchemy</p>
<p begin="15:44:10.880" end="15:44:14.400" style="s2">build the tables for us moving forward</p>
<p begin="15:44:12.360" end="15:44:15.956" style="s2">just because it&#39;s a little bit quicker</p>
<p begin="15:44:14.400" end="15:44:18.240" style="s2">um than having to you know build all of</p>
<p begin="15:44:15.956" end="15:44:20.240" style="s2">your revisions and things like that so</p>
<p begin="15:44:18.240" end="15:44:22.080" style="s2">one of the cool things uh with fixtures</p>
<p begin="15:44:20.240" end="15:44:24.080" style="s2">is that we can actually configure a</p>
<p begin="15:44:22.080" end="15:44:26.240" style="s2">fixture to be dependent on another</p>
<p begin="15:44:24.080" end="15:44:28.520" style="s2">fixture so we can essentially pass one</p>
<p begin="15:44:26.240" end="15:44:29.796" style="s2">fixture into argument of another fixture</p>
<p begin="15:44:28.520" end="15:44:31.956" style="s2">and the reason why I want to do this is</p>
<p begin="15:44:29.796" end="15:44:34.240" style="s2">I want to have one fixture that returns</p>
<p begin="15:44:31.956" end="15:44:36.480" style="s2">my database object so if I want to ever</p>
<p begin="15:44:34.240" end="15:44:38.200" style="s2">manipulate data directly and I want</p>
<p begin="15:44:36.480" end="15:44:40.240" style="s2">another fixture that returns my client</p>
<p begin="15:44:38.200" end="15:44:42.320" style="s2">so this this one is returning our client</p>
<p begin="15:44:40.240" end="15:44:44.400" style="s2">so I want that but I also want another</p>
<p begin="15:44:42.320" end="15:44:46.116" style="s2">one that returns just our database</p>
<p begin="15:44:44.400" end="15:44:47.720" style="s2">object so what I&#39;m going to do is I&#39;m</p>
<p begin="15:44:46.116" end="15:44:51.160" style="s2">actually going to create a new</p>
<p begin="15:44:47.720" end="15:44:52.160" style="s2">fixture I&#39;ll say pest. fixture and we</p>
<p begin="15:44:51.160" end="15:44:54.436" style="s2">can call this whatever you want you can</p>
<p begin="15:44:52.160" end="15:44:55.560" style="s2">call it you know like DB or session I&#39;m</p>
<p begin="15:44:54.436" end="15:44:57.796" style="s2">just going to call it</p>
<p begin="15:44:55.560" end="15:45:00.520" style="s2">session and I&#39;m actually going to move</p>
<p begin="15:44:57.796" end="15:45:02.880" style="s2">the logic of deleting and creating our</p>
<p begin="15:45:00.520" end="15:45:04.840" style="s2">tables up to here because this is kind</p>
<p begin="15:45:02.880" end="15:45:07.080" style="s2">of handling all the logic for the</p>
<p begin="15:45:04.840" end="15:45:08.596" style="s2">database and you see all of this uh</p>
<p begin="15:45:07.080" end="15:45:10.160" style="s2">override functionality what I&#39;m actually</p>
<p begin="15:45:08.596" end="15:45:12.956" style="s2">going to do is I&#39;m going to just copy</p>
<p begin="15:45:10.160" end="15:45:12.956" style="s2">this section right</p>
<p begin="15:45:16.360" end="15:45:22.276" style="s2">here and paste it into here all right so</p>
<p begin="15:45:20.040" end="15:45:24.160" style="s2">this session fixture is going to yield</p>
<p begin="15:45:22.276" end="15:45:26.956" style="s2">the database object so the database</p>
<p begin="15:45:24.160" end="15:45:29.956" style="s2">object that we used to query things and</p>
<p begin="15:45:26.956" end="15:45:32.116" style="s2">what I can do now is I can pass in</p>
<p begin="15:45:29.956" end="15:45:34.796" style="s2">session this session fixture into my</p>
<p begin="15:45:32.116" end="15:45:37.040" style="s2">client fixture and so by doing it like</p>
<p begin="15:45:34.796" end="15:45:39.200" style="s2">this what&#39;s going to happen is any time</p>
<p begin="15:45:37.040" end="15:45:41.436" style="s2">I go to one of my tests and I pass in</p>
<p begin="15:45:39.200" end="15:45:43.880" style="s2">the client fixture as a essentially as a</p>
<p begin="15:45:41.436" end="15:45:45.636" style="s2">dependency it&#39;s going to call this one</p>
<p begin="15:45:43.880" end="15:45:48.360" style="s2">and the client fixture will actually</p>
<p begin="15:45:45.636" end="15:45:50.436" style="s2">call the session fixture before it runs</p>
<p begin="15:45:48.360" end="15:45:51.956" style="s2">so it&#39;s intelligent to understand that a</p>
<p begin="15:45:50.436" end="15:45:53.040" style="s2">requirement for the client fixture is</p>
<p begin="15:45:51.956" end="15:45:54.916" style="s2">the session fixture so we&#39;re going to</p>
<p begin="15:45:53.040" end="15:45:56.480" style="s2">run all this code it&#39;s going to return</p>
<p begin="15:45:54.916" end="15:45:58.880" style="s2">the DB object which is going to be</p>
<p begin="15:45:56.480" end="15:46:00.956" style="s2">passed into client as the session and</p>
<p begin="15:45:58.880" end="15:46:02.840" style="s2">then here we can perform all the logic</p>
<p begin="15:46:00.956" end="15:46:05.400" style="s2">that we normally</p>
<p begin="15:46:02.840" end="15:46:09.720" style="s2">would and I&#39;m going to once again copy</p>
<p begin="15:46:05.400" end="15:46:09.720" style="s2">this override DB right</p>
<p begin="15:46:10.560" end="15:46:17.956" style="s2">here and we can remove</p>
<p begin="15:46:14.276" end="15:46:21.240" style="s2">this and we can remove that NOP actually</p>
<p begin="15:46:17.956" end="15:46:21.240" style="s2">sorry I didn&#39;t mean to remove</p>
<p begin="15:46:22.400" end="15:46:27.520" style="s2">that just space these out a little bit</p>
<p begin="15:46:25.596" end="15:46:29.796" style="s2">so it&#39;s part of the override get DB</p>
<p begin="15:46:27.520" end="15:46:31.116" style="s2">function and here instead of yielding DB</p>
<p begin="15:46:29.796" end="15:46:35.560" style="s2">since there&#39;s no DB we&#39;re going to yield</p>
<p begin="15:46:31.116" end="15:46:35.560" style="s2">session which is the DB so we&#39;ll say</p>
<p begin="15:46:36.000" end="15:46:40.756" style="s2">session and</p>
<p begin="15:46:37.880" end="15:46:42.916" style="s2">then session.</p>
<p begin="15:46:40.756" end="15:46:45.160" style="s2">close and I&#39;m going to copy this line</p>
<p begin="15:46:42.916" end="15:46:45.160" style="s2">right</p>
<p begin="15:46:45.480" end="15:46:51.756" style="s2">here do the override right here and then</p>
<p begin="15:46:48.160" end="15:46:51.756" style="s2">we return a brand new test</p>
<p begin="15:46:51.956" end="15:46:58.040" style="s2">client okay and the benefit of this is</p>
<p begin="15:46:54.956" end="15:47:00.796" style="s2">that uh not only do we get access to the</p>
<p begin="15:46:58.040" end="15:47:02.916" style="s2">client if we wanted to we can also get</p>
<p begin="15:47:00.796" end="15:47:05.116" style="s2">access to the database as well so I</p>
<p begin="15:47:02.916" end="15:47:06.880" style="s2">could say session and then I can go in</p>
<p begin="15:47:05.116" end="15:47:09.880" style="s2">here and I can make queries like</p>
<p begin="15:47:06.880" end="15:47:11.596" style="s2">session. query you know models. poost</p>
<p begin="15:47:09.880" end="15:47:14.116" style="s2">blah right so now I have access to the</p>
<p begin="15:47:11.596" end="15:47:15.796" style="s2">database object as well and so I can</p>
<p begin="15:47:14.116" end="15:47:19.116" style="s2">make queries and I have access to the</p>
<p begin="15:47:15.796" end="15:47:21.436" style="s2">client but if I call just the client</p>
<p begin="15:47:19.116" end="15:47:23.680" style="s2">remember the session</p>
<p begin="15:47:21.436" end="15:47:25.080" style="s2">database is a input argument into the</p>
<p begin="15:47:23.680" end="15:47:27.240" style="s2">client fixture so the session will</p>
<p begin="15:47:25.080" end="15:47:29.240" style="s2">always run first and then client would</p>
<p begin="15:47:27.240" end="15:47:30.720" style="s2">run because we&#39;re calling it right here</p>
<p begin="15:47:29.240" end="15:47:32.360" style="s2">and then we just move the override get</p>
<p begin="15:47:30.720" end="15:47:34.520" style="s2">DB function into here as well as the</p>
<p begin="15:47:32.360" end="15:47:35.956" style="s2">override right here and then as usual we</p>
<p begin="15:47:34.520" end="15:47:37.360" style="s2">return the test client so let&#39;s make</p>
<p begin="15:47:35.956" end="15:47:39.480" style="s2">sure we didn&#39;t break anything Let&#39;s test</p>
<p begin="15:47:37.360" end="15:47:41.360" style="s2">out our code and something&#39;s happening</p>
<p begin="15:47:39.480" end="15:47:43.436" style="s2">with my terminal so let me open a new</p>
<p begin="15:47:41.360" end="15:47:46.840" style="s2">one so let&#39;s try this again I&#39;m just</p>
<p begin="15:47:43.436" end="15:47:51.636" style="s2">going to do p test test slash and then</p>
<p begin="15:47:46.840" end="15:47:51.636" style="s2">testore users nope not test calculations</p>
<p begin="15:47:52.320" end="15:47:56.276" style="s2">users all right and two passed so</p>
<p begin="15:47:54.680" end="15:47:58.756" style="s2">perfect looks like we didn&#39;t break</p>
<p begin="15:47:56.276" end="15:48:00.756" style="s2">anything and we&#39;ve got a much nicer way</p>
<p begin="15:47:58.756" end="15:48:02.880" style="s2">of setting up our code we can actually</p>
<p begin="15:48:00.756" end="15:48:05.200" style="s2">remove this override that&#39;s not within a</p>
<p begin="15:48:02.880" end="15:48:07.160" style="s2">fixture we no longer need that and we no</p>
<p begin="15:48:05.200" end="15:48:08.636" style="s2">longer need the create all right here</p>
<p begin="15:48:07.160" end="15:48:10.916" style="s2">outside of any of the fixtures cuz we&#39;re</p>
<p begin="15:48:08.636" end="15:48:13.756" style="s2">doing it all within the fixtures</p>
<p begin="15:48:10.916" end="15:48:15.360" style="s2">now and once again I just want to make</p>
<p begin="15:48:13.756" end="15:48:18.320" style="s2">sure I didn&#39;t break anything so let&#39;s</p>
<p begin="15:48:15.360" end="15:48:20.840" style="s2">test that out and we can see two have</p>
<p begin="15:48:18.320" end="15:48:23.000" style="s2">passed Perfect all right so right now</p>
<p begin="15:48:20.840" end="15:48:24.880" style="s2">our test users file is a little bit</p>
<p begin="15:48:23.000" end="15:48:26.720" style="s2">cluttered with all of this database</p>
<p begin="15:48:24.880" end="15:48:28.720" style="s2">information and I would like to move all</p>
<p begin="15:48:26.720" end="15:48:31.116" style="s2">all of our database specific code to</p>
<p begin="15:48:28.720" end="15:48:32.636" style="s2">another file so under our test folder</p>
<p begin="15:48:31.116" end="15:48:35.400" style="s2">I&#39;m going to create a new file and we</p>
<p begin="15:48:32.636" end="15:48:37.956" style="s2">can just call this database.</p>
<p begin="15:48:35.400" end="15:48:40.840" style="s2">py and I&#39;m going to essentially move all</p>
<p begin="15:48:37.956" end="15:48:42.480" style="s2">of my database code to that file and</p>
<p begin="15:48:40.840" end="15:48:46.596" style="s2">that includes the fixtures as well so</p>
<p begin="15:48:42.480" end="15:48:49.276" style="s2">these two fixtures all of this actually</p>
<p begin="15:48:46.596" end="15:48:52.116" style="s2">everything we don&#39;t need any of this uh</p>
<p begin="15:48:49.276" end="15:48:53.636" style="s2">in our test users file and we can just</p>
<p begin="15:48:52.116" end="15:48:55.796" style="s2">paste it into</p>
<p begin="15:48:53.636" end="15:48:58.560" style="s2">here now this is going to break things</p>
<p begin="15:48:55.796" end="15:49:00.276" style="s2">because um obviously it has no idea what</p>
<p begin="15:48:58.560" end="15:49:02.116" style="s2">SCH okay well actually before we do that</p>
<p begin="15:49:00.276" end="15:49:04.956" style="s2">we we do need to have schemas in here so</p>
<p begin="15:49:02.116" end="15:49:07.520" style="s2">let me find where schemas is and we&#39;ll</p>
<p begin="15:49:04.956" end="15:49:07.520" style="s2">just cut that</p>
<p begin="15:49:07.680" end="15:49:13.276" style="s2">out but the other issue is is that we no</p>
<p begin="15:49:10.400" end="15:49:17.276" style="s2">longer have access to the client fixture</p>
<p begin="15:49:13.276" end="15:49:21.880" style="s2">so we have to import that so I&#39;ll do</p>
<p begin="15:49:17.276" end="15:49:23.956" style="s2">from uh current directory database</p>
<p begin="15:49:21.880" end="15:49:27.436" style="s2">import uh what is it client I think it&#39;s</p>
<p begin="15:49:23.956" end="15:49:30.080" style="s2">client yep so now we have client</p>
<p begin="15:49:27.436" end="15:49:31.840" style="s2">and remember we don&#39;t need to import</p>
<p begin="15:49:30.080" end="15:49:33.240" style="s2">actually we may need to import session</p>
<p begin="15:49:31.840" end="15:49:35.796" style="s2">let&#39;s just double check to see if this</p>
<p begin="15:49:33.240" end="15:49:35.796" style="s2">causes any</p>
<p begin="15:49:36.000" end="15:49:40.840" style="s2">issues so let me save</p>
<p begin="15:49:41.200" end="15:49:45.956" style="s2">everything and let&#39;s test this out let&#39;s</p>
<p begin="15:49:43.520" end="15:49:45.956" style="s2">see if this</p>
<p begin="15:49:48.080" end="15:49:52.756" style="s2">works looks like we got two</p>
<p begin="15:49:50.756" end="15:49:54.956" style="s2">errors yep and if you take a look at the</p>
<p begin="15:49:52.756" end="15:49:58.756" style="s2">errors it says the session fixture is</p>
<p begin="15:49:54.956" end="15:50:00.000" style="s2">not found so we actually have to import</p>
<p begin="15:49:58.756" end="15:50:03.040" style="s2">the session</p>
<p begin="15:50:00.000" end="15:50:05.720" style="s2">fixture uh from this file even though we</p>
<p begin="15:50:03.040" end="15:50:07.840" style="s2">don&#39;t actually call session in here</p>
<p begin="15:50:05.720" end="15:50:09.400" style="s2">because client is dependent on session</p>
<p begin="15:50:07.840" end="15:50:11.880" style="s2">because client is ultimately calling</p>
<p begin="15:50:09.400" end="15:50:14.480" style="s2">session we need to make sure that</p>
<p begin="15:50:11.880" end="15:50:16.840" style="s2">session is also imported so we have to</p>
<p begin="15:50:14.480" end="15:50:19.560" style="s2">do session here as</p>
<p begin="15:50:16.840" end="15:50:21.756" style="s2">well and so now I think this should fix</p>
<p begin="15:50:19.560" end="15:50:21.756" style="s2">our</p>
<p begin="15:50:23.160" end="15:50:28.040" style="s2">issue so now if we run this yep both</p>
<p begin="15:50:26.080" end="15:50:29.956" style="s2">tests have successfully passed and if</p>
<p begin="15:50:28.040" end="15:50:31.560" style="s2">you actually take a look at our test</p>
<p begin="15:50:29.956" end="15:50:32.880" style="s2">file you can see our test file is a lot</p>
<p begin="15:50:31.560" end="15:50:35.436" style="s2">cleaner it&#39;s really just got our two</p>
<p begin="15:50:32.880" end="15:50:37.560" style="s2">tests and a couple of imports and before</p>
<p begin="15:50:35.436" end="15:50:39.560" style="s2">we move on any further there&#39;s one thing</p>
<p begin="15:50:37.560" end="15:50:41.360" style="s2">I want to point out and I ran into this</p>
<p begin="15:50:39.560" end="15:50:43.400" style="s2">issue when I was you know run doing a</p>
<p begin="15:50:41.360" end="15:50:46.116" style="s2">dry run through my code uh if you</p>
<p begin="15:50:43.400" end="15:50:47.520" style="s2">actually take a look at your routers um</p>
<p begin="15:50:46.116" end="15:50:48.840" style="s2">and we&#39;ll go to since we&#39;re taking a</p>
<p begin="15:50:47.520" end="15:50:51.276" style="s2">look at test create user this is going</p>
<p begin="15:50:48.840" end="15:50:53.320" style="s2">to be the SL users so we go to users and</p>
<p begin="15:50:51.276" end="15:50:55.956" style="s2">then create user right you can see that</p>
<p begin="15:50:53.320" end="15:50:59.400" style="s2">the prefix is/ users so the route you</p>
<p begin="15:50:55.956" end="15:51:00.880" style="s2">want to go to is slash users and then</p>
<p begin="15:50:59.400" end="15:51:02.720" style="s2">you could see that we have to append</p>
<p begin="15:51:00.880" end="15:51:05.560" style="s2">whatever is here so here it&#39;s appending</p>
<p begin="15:51:02.720" end="15:51:08.240" style="s2">slash now the way that P test works is</p>
<p begin="15:51:05.560" end="15:51:09.560" style="s2">that um or actually the way that</p>
<p begin="15:51:08.240" end="15:51:11.520" style="s2">anything works is that if if you</p>
<p begin="15:51:09.560" end="15:51:13.200" style="s2">actually send a request to SL users it&#39;s</p>
<p begin="15:51:11.520" end="15:51:15.560" style="s2">a little bit different than SL user</p>
<p begin="15:51:13.200" end="15:51:17.000" style="s2">slash and I&#39;m actually going to show you</p>
<p begin="15:51:15.560" end="15:51:21.560" style="s2">what happens when we do that so I&#39;m</p>
<p begin="15:51:17.000" end="15:51:24.000" style="s2">going to um first of all open up UV coin</p>
<p begin="15:51:21.560" end="15:51:28.520" style="s2">set uh so I&#39;ve start I&#39;ve started out my</p>
<p begin="15:51:24.000" end="15:51:31.400" style="s2">API and if we go to create user</p>
<p begin="15:51:28.520" end="15:51:33.520" style="s2">here I&#39;m going to users and not users</p>
<p begin="15:51:31.400" end="15:51:35.756" style="s2">slash right I&#39;m not doing slash I&#39;m</p>
<p begin="15:51:33.520" end="15:51:37.956" style="s2">doing SL user I&#39;m just doing users which</p>
<p begin="15:51:35.756" end="15:51:41.200" style="s2">is uh wait where did it</p>
<p begin="15:51:37.956" end="15:51:43.916" style="s2">go is it</p>
<p begin="15:51:41.200" end="15:51:45.756" style="s2">here where did I put my the things I</p>
<p begin="15:51:43.916" end="15:51:48.400" style="s2">just typed</p>
<p begin="15:51:45.756" end="15:51:50.400" style="s2">let&#39;s yeah here so what we&#39;re doing is</p>
<p begin="15:51:48.400" end="15:51:52.080" style="s2">we&#39;re sending a request to this one not</p>
<p begin="15:51:50.400" end="15:51:53.680" style="s2">the one above it because the other one</p>
<p begin="15:51:52.080" end="15:51:55.840" style="s2">above it has a slash at the end we don&#39;t</p>
<p begin="15:51:53.680" end="15:51:57.360" style="s2">have that trailing slash so if I create</p>
<p begin="15:51:55.840" end="15:52:00.400" style="s2">a test user</p>
<p begin="15:51:57.360" end="15:52:03.000" style="s2">without that trailing slash hit</p>
<p begin="15:52:00.400" end="15:52:05.240" style="s2">send take a look at what happens in the</p>
<p begin="15:52:03.000" end="15:52:07.840" style="s2">logs it says that when we get a request</p>
<p begin="15:52:05.240" end="15:52:10.320" style="s2">to SL users we&#39;re going to send a 307</p>
<p begin="15:52:07.840" end="15:52:12.596" style="s2">redirect to SL users SL because</p>
<p begin="15:52:10.320" end="15:52:14.360" style="s2">technically the routes on SL users slash</p>
<p begin="15:52:12.596" end="15:52:17.360" style="s2">and fast API is intelligent enough to</p>
<p begin="15:52:14.360" end="15:52:19.200" style="s2">actually send the redirect to here</p>
<p begin="15:52:17.360" end="15:52:22.636" style="s2">however this creates an issue with our</p>
<p begin="15:52:19.200" end="15:52:24.080" style="s2">testing because if I just do slash</p>
<p begin="15:52:22.636" end="15:52:27.080" style="s2">what&#39;s going to happen is when I do this</p>
<p begin="15:52:24.080" end="15:52:30.320" style="s2">res. status code check it&#39;s going to</p>
<p begin="15:52:27.080" end="15:52:32.560" style="s2">check for 307 and not the final 207 the</p>
<p begin="15:52:30.320" end="15:52:35.520" style="s2">the final 2011 and I can show that to</p>
<p begin="15:52:32.560" end="15:52:37.636" style="s2">you guys so let me go down here we&#39;ll</p>
<p begin="15:52:35.520" end="15:52:39.880" style="s2">run our test real</p>
<p begin="15:52:37.636" end="15:52:42.560" style="s2">quick and you&#39;ll see that it fails and</p>
<p begin="15:52:39.880" end="15:52:42.560" style="s2">it fails</p>
<p begin="15:52:44.040" end="15:52:49.040" style="s2">because well there&#39;s a couple of issues</p>
<p begin="15:52:47.116" end="15:52:51.796" style="s2">um it fails it&#39;s it says it fails</p>
<p begin="15:52:49.040" end="15:52:53.596" style="s2">because um our validation for a schema</p>
<p begin="15:52:51.796" end="15:52:55.560" style="s2">failed but I&#39;m going to skip that and</p>
<p begin="15:52:53.596" end="15:52:56.720" style="s2">comment that out and I&#39;ll comment this</p>
<p begin="15:52:55.560" end="15:52:58.320" style="s2">line out I just want to take take a look</p>
<p begin="15:52:56.720" end="15:53:00.116" style="s2">at the status</p>
<p begin="15:52:58.320" end="15:53:02.796" style="s2">code because obviously if there&#39;s a</p>
<p begin="15:53:00.116" end="15:53:04.400" style="s2">redirect there&#39;s no information in there</p>
<p begin="15:53:02.796" end="15:53:06.840" style="s2">right and you can see that this fails</p>
<p begin="15:53:04.400" end="15:53:08.040" style="s2">because the response code is 307 so</p>
<p begin="15:53:06.840" end="15:53:09.520" style="s2">that&#39;s why you want to make sure you add</p>
<p begin="15:53:08.040" end="15:53:11.040" style="s2">that trailing slasher then you&#39;ll run</p>
<p begin="15:53:09.520" end="15:53:14.360" style="s2">into some</p>
<p begin="15:53:11.040" end="15:53:16.596" style="s2">issues so we&#39;ve got our create user test</p>
<p begin="15:53:14.360" end="15:53:17.796" style="s2">pretty much done uh you can feel free to</p>
<p begin="15:53:16.596" end="15:53:19.200" style="s2">customize it however you want if you</p>
<p begin="15:53:17.796" end="15:53:20.596" style="s2">want to add a few extra search</p>
<p begin="15:53:19.200" end="15:53:23.240" style="s2">statements feel free to do that but</p>
<p begin="15:53:20.596" end="15:53:25.160" style="s2">we&#39;re going to move on to login so let&#39;s</p>
<p begin="15:53:23.240" end="15:53:28.680" style="s2">actually handle setting up the login so</p>
<p begin="15:53:25.160" end="15:53:30.680" style="s2">I&#39;m going to do def testore</p>
<p begin="15:53:28.680" end="15:53:33.720" style="s2">loginor</p>
<p begin="15:53:30.680" end="15:53:35.080" style="s2">user all right and this test is going to</p>
<p begin="15:53:33.720" end="15:53:36.116" style="s2">be dependent on the client fixture</p>
<p begin="15:53:35.080" end="15:53:38.436" style="s2">because we need to be able to send a</p>
<p begin="15:53:36.116" end="15:53:40.276" style="s2">request so I&#39;m going to pass in client</p>
<p begin="15:53:38.436" end="15:53:44.160" style="s2">and I&#39;m actually going to copy this line</p>
<p begin="15:53:40.276" end="15:53:46.116" style="s2">right here we&#39;ll change it of course but</p>
<p begin="15:53:44.160" end="15:53:48.956" style="s2">all right and so we&#39;re going to this is</p>
<p begin="15:53:46.116" end="15:53:51.320" style="s2">going to go to slash</p>
<p begin="15:53:48.956" end="15:53:52.560" style="s2">login and there&#39;s no trailing slash on</p>
<p begin="15:53:51.320" end="15:53:55.360" style="s2">this one just because if you actually</p>
<p begin="15:53:52.560" end="15:53:57.756" style="s2">look at our specific route uh for login</p>
<p begin="15:53:55.360" end="15:53:59.436" style="s2">I think it&#39;s under o py um you can see</p>
<p begin="15:53:57.756" end="15:54:00.720" style="s2">there&#39;s no prefix here it&#39;s just SL</p>
<p begin="15:53:59.436" end="15:54:01.756" style="s2">login so we don&#39;t need the trailing</p>
<p begin="15:54:00.720" end="15:54:03.596" style="s2">slash on this one you just have to</p>
<p begin="15:54:01.756" end="15:54:06.240" style="s2">figure out how you set Yours up and make</p>
<p begin="15:54:03.596" end="15:54:06.240" style="s2">sure it matches</p>
<p begin="15:54:06.400" end="15:54:12.360" style="s2">accordingly we do SL login um but in</p>
<p begin="15:54:10.116" end="15:54:15.400" style="s2">this case we don&#39;t want to send this</p>
<p begin="15:54:12.360" end="15:54:17.520" style="s2">data in the body instead remember if you</p>
<p begin="15:54:15.400" end="15:54:19.796" style="s2">go to postman and you go to login user</p>
<p begin="15:54:17.520" end="15:54:21.680" style="s2">we don&#39;t send it in the uh well we do</p>
<p begin="15:54:19.796" end="15:54:22.636" style="s2">send it in the body but instead of using</p>
<p begin="15:54:21.680" end="15:54:26.080" style="s2">the</p>
<p begin="15:54:22.636" end="15:54:29.116" style="s2">normal um normal Json format we have to</p>
<p begin="15:54:26.080" end="15:54:31.400" style="s2">send it as form data remember uh and so</p>
<p begin="15:54:29.116" end="15:54:34.880" style="s2">to change this to be form</p>
<p begin="15:54:31.400" end="15:54:37.840" style="s2">data you just change Json to be</p>
<p begin="15:54:34.880" end="15:54:40.636" style="s2">data and we&#39;ve got the same credentials</p>
<p begin="15:54:37.840" end="15:54:42.680" style="s2">so this should work H let&#39;s just quickly</p>
<p begin="15:54:40.636" end="15:54:44.596" style="s2">just do</p>
<p begin="15:54:42.680" end="15:54:48.000" style="s2">a um</p>
<p begin="15:54:44.596" end="15:54:51.116" style="s2">assert and what does a login return a</p>
<p begin="15:54:48.000" end="15:54:51.116" style="s2">login returns</p>
<p begin="15:54:52.520" end="15:54:58.240" style="s2">a it should just be a 200 so we&#39;ll do a</p>
<p begin="15:54:56.040" end="15:54:58.240" style="s2">200</p>
<p begin="15:54:58.480" end="15:55:09.040" style="s2">assert res. status code equals equals</p>
<p begin="15:55:04.520" end="15:55:09.040" style="s2">200 all right and let&#39;s test this out</p>
<p begin="15:55:12.360" end="15:55:16.880" style="s2">now and it looks like we got an error so</p>
<p begin="15:55:14.956" end="15:55:19.520" style="s2">what happened here let&#39;s take a look it</p>
<p begin="15:55:16.880" end="15:55:22.000" style="s2">looks like we got a 422 as our status</p>
<p begin="15:55:19.520" end="15:55:24.520" style="s2">code why would we get a</p>
<p begin="15:55:22.000" end="15:55:26.880" style="s2">422 and if we take a look at our logs we</p>
<p begin="15:55:24.520" end="15:55:29.040" style="s2">don&#39;t really get much information</p>
<p begin="15:55:26.880" end="15:55:30.880" style="s2">here so what I&#39;m going to do is we&#39;re</p>
<p begin="15:55:29.040" end="15:55:34.040" style="s2">just going to</p>
<p begin="15:55:30.880" end="15:55:35.040" style="s2">print uh res. Json so we can see what&#39;s</p>
<p begin="15:55:34.040" end="15:55:37.596" style="s2">going</p>
<p begin="15:55:35.040" end="15:55:38.596" style="s2">on right why did we get a 422 is there</p>
<p begin="15:55:37.596" end="15:55:40.360" style="s2">any other details that&#39;s going to</p>
<p begin="15:55:38.596" end="15:55:42.480" style="s2">provide us so I&#39;ll do a-s so it prints</p>
<p begin="15:55:40.360" end="15:55:42.480" style="s2">it</p>
<p begin="15:55:44.880" end="15:55:49.240" style="s2">out and we can see in the print</p>
<p begin="15:55:47.360" end="15:55:50.880" style="s2">statement it says oh look at this</p>
<p begin="15:55:49.240" end="15:55:55.240" style="s2">there&#39;s some sort of validation issue</p>
<p begin="15:55:50.880" end="15:55:58.116" style="s2">detail lock body username message field</p>
<p begin="15:55:55.240" end="15:56:02.200" style="s2">required type value error missing so</p>
<p begin="15:55:58.116" end="15:56:03.680" style="s2">remember the um the field for the email</p>
<p begin="15:56:02.200" end="15:56:05.880" style="s2">when you log in is not actually called</p>
<p begin="15:56:03.680" end="15:56:09.400" style="s2">email it&#39;s called username so we have to</p>
<p begin="15:56:05.880" end="15:56:09.400" style="s2">fix that so it&#39;s going to be</p>
<p begin="15:56:09.956" end="15:56:14.840" style="s2">username all right now let&#39;s test this</p>
<p begin="15:56:12.360" end="15:56:14.840" style="s2">out once</p>
<p begin="15:56:16.000" end="15:56:21.240" style="s2">more all right we get another failure so</p>
<p begin="15:56:18.796" end="15:56:23.160" style="s2">let&#39;s see this time we get a 403 okay</p>
<p begin="15:56:21.240" end="15:56:26.436" style="s2">interesting uh so what&#39;s happening why</p>
<p begin="15:56:23.160" end="15:56:29.720" style="s2">do we get a 403 let&#39;s see detail say say</p>
<p begin="15:56:26.436" end="15:56:32.160" style="s2">invalid credentials interesting so if I</p>
<p begin="15:56:29.720" end="15:56:35.720" style="s2">go back to my login</p>
<p begin="15:56:32.160" end="15:56:39.520" style="s2">route right you could see that we get</p>
<p begin="15:56:35.720" end="15:56:40.840" style="s2">a um a 403 if uh the user doesn&#39;t exist</p>
<p begin="15:56:39.520" end="15:56:44.276" style="s2">which means we couldn&#39;t find a user with</p>
<p begin="15:56:40.840" end="15:56:45.756" style="s2">that specific email or if the password</p>
<p begin="15:56:44.276" end="15:56:48.160" style="s2">um that was provided doesn&#39;t match</p>
<p begin="15:56:45.756" end="15:56:50.240" style="s2">what&#39;s in the database so this is one of</p>
<p begin="15:56:48.160" end="15:56:51.956" style="s2">the issues it&#39;s either the user doesn&#39;t</p>
<p begin="15:56:50.240" end="15:56:54.000" style="s2">exist or the email doesn&#39;t exist or the</p>
<p begin="15:56:51.956" end="15:56:56.840" style="s2">password is incorrect so let&#39;s go into</p>
<p begin="15:56:54.000" end="15:57:00.880" style="s2">PG admin and if you left</p>
<p begin="15:56:56.840" end="15:57:02.756" style="s2">your um your database config so that you</p>
<p begin="15:57:00.880" end="15:57:04.636" style="s2">don&#39;t drop it at the end instead you</p>
<p begin="15:57:02.756" end="15:57:06.160" style="s2">drop it before a test case starts you</p>
<p begin="15:57:04.636" end="15:57:08.400" style="s2">should be able to see all of your test</p>
<p begin="15:57:06.160" end="15:57:13.200" style="s2">data so I&#39;m going to refresh</p>
<p begin="15:57:08.400" end="15:57:14.080" style="s2">this and if I go to users view edit data</p>
<p begin="15:57:13.200" end="15:57:16.916" style="s2">all</p>
<p begin="15:57:14.080" end="15:57:19.596" style="s2">rows right there&#39;s no users well that&#39;s</p>
<p begin="15:57:16.916" end="15:57:22.040" style="s2">interesting right because if I go to my</p>
<p begin="15:57:19.596" end="15:57:25.596" style="s2">code during our test create user we</p>
<p begin="15:57:22.040" end="15:57:27.840" style="s2">should have created a brand new user so</p>
<p begin="15:57:25.596" end="15:57:30.400" style="s2">why can&#39;t we log in as this</p>
<p begin="15:57:27.840" end="15:57:31.796" style="s2">user well that&#39;s easy to explain so if I</p>
<p begin="15:57:30.400" end="15:57:35.596" style="s2">actually go to</p>
<p begin="15:57:31.796" end="15:57:37.880" style="s2">my um my database. py we have these</p>
<p begin="15:57:35.596" end="15:57:40.480" style="s2">fixtures and the fixtures have a</p>
<p begin="15:57:37.880" end="15:57:43.160" style="s2">specific scope which means when do they</p>
<p begin="15:57:40.480" end="15:57:45.360" style="s2">run and right now they&#39;re using the</p>
<p begin="15:57:43.160" end="15:57:47.720" style="s2">default function scope what that means</p>
<p begin="15:57:45.360" end="15:57:49.720" style="s2">is they&#39;re going to run for every</p>
<p begin="15:57:47.720" end="15:57:52.080" style="s2">they&#39;re going to run before every single</p>
<p begin="15:57:49.720" end="15:57:55.040" style="s2">function that&#39;s dependent on</p>
<p begin="15:57:52.080" end="15:57:58.720" style="s2">them so that means when we run test</p>
<p begin="15:57:55.040" end="15:58:01.756" style="s2">users right we can see that test root</p>
<p begin="15:57:58.720" end="15:58:03.480" style="s2">client right since we&#39;re passing client</p>
<p begin="15:58:01.756" end="15:58:05.436" style="s2">into test root we&#39;re going to run our</p>
<p begin="15:58:03.480" end="15:58:08.116" style="s2">fixtures before we run this</p>
<p begin="15:58:05.436" end="15:58:10.080" style="s2">function then before the next test we&#39;re</p>
<p begin="15:58:08.116" end="15:58:11.400" style="s2">going to run our fixture again and then</p>
<p begin="15:58:10.080" end="15:58:13.596" style="s2">before this test we&#39;re going to run our</p>
<p begin="15:58:11.400" end="15:58:16.040" style="s2">fixture again as</p>
<p begin="15:58:13.596" end="15:58:18.240" style="s2">well so why does that actually cause the</p>
<p begin="15:58:16.040" end="15:58:20.320" style="s2">user to get deleted pretty simple um</p>
<p begin="15:58:18.240" end="15:58:23.596" style="s2">because we run this test right the test</p>
<p begin="15:58:20.320" end="15:58:26.160" style="s2">create user the user in the database</p>
<p begin="15:58:23.596" end="15:58:27.400" style="s2">then we start to run the test login user</p>
<p begin="15:58:26.160" end="15:58:29.916" style="s2">and so since we&#39;re dependent on the</p>
<p begin="15:58:27.400" end="15:58:31.680" style="s2">client fixture we go to the database. py</p>
<p begin="15:58:29.916" end="15:58:34.080" style="s2">file we can see that the client calls</p>
<p begin="15:58:31.680" end="15:58:36.916" style="s2">session session what does session do</p>
<p begin="15:58:34.080" end="15:58:38.520" style="s2">well it drops the database or it drops</p>
<p begin="15:58:36.916" end="15:58:40.680" style="s2">all the tables at least and then it</p>
<p begin="15:58:38.520" end="15:58:43.160" style="s2">creates a all of the new tables so we</p>
<p begin="15:58:40.680" end="15:58:44.480" style="s2">get a brand new database every single</p>
<p begin="15:58:43.160" end="15:58:48.400" style="s2">test that we</p>
<p begin="15:58:44.480" end="15:58:50.320" style="s2">run that&#39;s why the user isn&#39;t</p>
<p begin="15:58:48.400" end="15:58:52.596" style="s2">there and if you want to learn more</p>
<p begin="15:58:50.320" end="15:58:55.956" style="s2">about Scopes I recommend you go here and</p>
<p begin="15:58:52.596" end="15:58:55.956" style="s2">then I think</p>
<p begin="15:58:56.400" end="15:59:01.160" style="s2">if I go to API reference I</p>
<p begin="15:58:58.520" end="15:59:05.400" style="s2">think and then</p>
<p begin="15:59:01.160" end="15:59:05.400" style="s2">fixtures not no let&#39;s go to</p>
<p begin="15:59:14.360" end="15:59:21.796" style="s2">examples and go to fixtures right here</p>
<p begin="15:59:17.596" end="15:59:21.796" style="s2">and then here I can search for scope</p>
<p begin="15:59:29.400" end="15:59:34.636" style="s2">here we can see the different Scopes so</p>
<p begin="15:59:31.756" end="15:59:36.596" style="s2">the default right now is that our scope</p>
<p begin="15:59:34.636" end="15:59:38.240" style="s2">is functions which means that the</p>
<p begin="15:59:36.596" end="15:59:39.796" style="s2">fixture is destroyed at the end of each</p>
<p begin="15:59:38.240" end="15:59:42.116" style="s2">test and it&#39;s run for every single</p>
<p begin="15:59:39.796" end="15:59:44.116" style="s2">function we then have a fixture that&#39;s</p>
<p begin="15:59:42.116" end="15:59:47.000" style="s2">sets to a scope of class which means</p>
<p begin="15:59:44.116" end="15:59:49.636" style="s2">that it&#39;ll run once per class and it&#39;ll</p>
<p begin="15:59:47.000" end="15:59:52.240" style="s2">run all the tests in the class then we</p>
<p begin="15:59:49.636" end="15:59:54.080" style="s2">have a fixture module so when a fixture</p>
<p begin="15:59:52.240" end="15:59:56.276" style="s2">is set to a module that means for all of</p>
<p begin="15:59:54.080" end="15:59:57.956" style="s2">the tests in a specific module right</p>
<p begin="15:59:56.276" end="15:59:59.636" style="s2">like in this case all of the tests here</p>
<p begin="15:59:57.956" end="16:00:01.400" style="s2">we&#39;re going to run the fixture just once</p>
<p begin="15:59:59.636" end="16:00:04.240" style="s2">at the beginning and then we&#39;re not</p>
<p begin="16:00:01.400" end="16:00:06.000" style="s2">going to run it again for that module so</p>
<p begin="16:00:04.240" end="16:00:09.880" style="s2">all of the tests will have access to</p>
<p begin="16:00:06.000" end="16:00:11.720" style="s2">just that first uh instance run</p>
<p begin="16:00:09.880" end="16:00:13.040" style="s2">essentially uh and then we also have it</p>
<p begin="16:00:11.720" end="16:00:14.680" style="s2">for package where it&#39;s going to run once</p>
<p begin="16:00:13.040" end="16:00:16.596" style="s2">per package and then we also have</p>
<p begin="16:00:14.680" end="16:00:18.796" style="s2">session where it&#39;s going to run</p>
<p begin="16:00:16.596" end="16:00:21.360" style="s2">once at the start of the testing session</p>
<p begin="16:00:18.796" end="16:00:21.360" style="s2">and it&#39;s going to get</p>
<p begin="16:00:22.636" end="16:00:25.916" style="s2">destroyed and you can see how we can set</p>
<p begin="16:00:24.720" end="16:00:28.596" style="s2">the scope right here you just do scope</p>
<p begin="16:00:25.916" end="16:00:32.200" style="s2">scope equals and then whichever one you</p>
<p begin="16:00:28.596" end="16:00:33.796" style="s2">want so if we go back to here and we see</p>
<p begin="16:00:32.200" end="16:00:36.956" style="s2">this this</p>
<p begin="16:00:33.796" end="16:00:38.200" style="s2">fixture right we could say um since the</p>
<p begin="16:00:36.956" end="16:00:41.360" style="s2">default is function it&#39;s the equivalent</p>
<p begin="16:00:38.200" end="16:00:41.360" style="s2">of doing scope equals</p>
<p begin="16:00:41.560" end="16:00:48.596" style="s2">function and the same thing goes for</p>
<p begin="16:00:44.796" end="16:00:50.000" style="s2">the the session the database one as well</p>
<p begin="16:00:48.596" end="16:00:52.360" style="s2">so these are going to run and get</p>
<p begin="16:00:50.000" end="16:00:53.400" style="s2">destroyed every single function so at</p>
<p begin="16:00:52.360" end="16:00:54.480" style="s2">the end of the function we&#39;re going to</p>
<p begin="16:00:53.400" end="16:00:55.596" style="s2">delete this test client and then we&#39;re</p>
<p begin="16:00:54.480" end="16:00:57.520" style="s2">going to create a brand new one for the</p>
<p begin="16:00:55.596" end="16:01:00.320" style="s2">next one which causes our database to</p>
<p begin="16:00:57.520" end="16:01:03.200" style="s2">get wiped and destroyed so if we want</p>
<p begin="16:01:00.320" end="16:01:06.320" style="s2">our login user to be able to access what</p>
<p begin="16:01:03.200" end="16:01:09.360" style="s2">was created here we could theoretically</p>
<p begin="16:01:06.320" end="16:01:13.360" style="s2">change the scope to be module</p>
<p begin="16:01:09.360" end="16:01:13.360" style="s2">instead and I could change this for</p>
<p begin="16:01:14.560" end="16:01:21.400" style="s2">both and so now what happens is um at</p>
<p begin="16:01:19.160" end="16:01:22.956" style="s2">the start of this module when we start</p>
<p begin="16:01:21.400" end="16:01:25.560" style="s2">running the test here we&#39;re going to run</p>
<p begin="16:01:22.956" end="16:01:26.636" style="s2">the fixture right because the test route</p>
<p begin="16:01:25.560" end="16:01:28.240" style="s2">is called calling it so we&#39;ll run the</p>
<p begin="16:01:26.636" end="16:01:30.320" style="s2">fixture at the</p>
<p begin="16:01:28.240" end="16:01:32.276" style="s2">beginning and we&#39;re going to just do it</p>
<p begin="16:01:30.320" end="16:01:33.596" style="s2">once right so then we&#39;ll you know we&#39;ll</p>
<p begin="16:01:32.276" end="16:01:36.560" style="s2">call this one which doesn&#39;t really do</p>
<p begin="16:01:33.596" end="16:01:38.436" style="s2">anything uh we&#39;ll then create the user</p>
<p begin="16:01:36.560" end="16:01:41.880" style="s2">but since we don&#39;t ever run the fixture</p>
<p begin="16:01:38.436" end="16:01:43.636" style="s2">again we never end up running this</p>
<p begin="16:01:41.880" end="16:01:46.720" style="s2">session either so we don&#39;t end up</p>
<p begin="16:01:43.636" end="16:01:48.916" style="s2">dropping our database or our tables so</p>
<p begin="16:01:46.720" end="16:01:50.116" style="s2">we&#39;ll actually keep that same fixture</p>
<p begin="16:01:48.916" end="16:01:51.360" style="s2">and then we&#39;ll run through all of our</p>
<p begin="16:01:50.116" end="16:01:53.276" style="s2">tests and only at the end will we</p>
<p begin="16:01:51.360" end="16:01:55.596" style="s2">destroy that fixture so we have</p>
<p begin="16:01:53.276" end="16:01:58.480" style="s2">essentially access to all of the the to</p>
<p begin="16:01:55.596" end="16:01:59.880" style="s2">our database the for the entire module</p>
<p begin="16:01:58.480" end="16:02:04.520" style="s2">in this</p>
<p begin="16:01:59.880" end="16:02:04.520" style="s2">case and so now if I actually run</p>
<p begin="16:02:07.480" end="16:02:11.240" style="s2">this right you can see all of our test</p>
<p begin="16:02:09.560" end="16:02:14.320" style="s2">pass because the</p>
<p begin="16:02:11.240" end="16:02:16.240" style="s2">fixture will last the entirety of the</p>
<p begin="16:02:14.320" end="16:02:18.560" style="s2">module I could even use package or</p>
<p begin="16:02:16.240" end="16:02:19.796" style="s2">session both of them would have worked</p>
<p begin="16:02:18.560" end="16:02:23.276" style="s2">but this creates a little bit of an</p>
<p begin="16:02:19.796" end="16:02:25.956" style="s2">issue because this means that this test</p>
<p begin="16:02:23.276" end="16:02:27.720" style="s2">is dependent on this test completing so</p>
<p begin="16:02:25.956" end="16:02:29.756" style="s2">if this test fails then obviously this</p>
<p begin="16:02:27.720" end="16:02:32.480" style="s2">test is going to fail and it actually</p>
<p begin="16:02:29.756" end="16:02:33.276" style="s2">creates issues because if I move this to</p>
<p begin="16:02:32.480" end="16:02:35.436" style="s2">the</p>
<p begin="16:02:33.276" end="16:02:38.436" style="s2">top right and I accidentally move my</p>
<p begin="16:02:35.436" end="16:02:39.840" style="s2">login user to before test create user</p>
<p begin="16:02:38.436" end="16:02:41.680" style="s2">then this is going to break our tests</p>
<p begin="16:02:39.840" end="16:02:44.080" style="s2">once again because we need to create the</p>
<p begin="16:02:41.680" end="16:02:46.636" style="s2">user before we log in the</p>
<p begin="16:02:44.080" end="16:02:49.436" style="s2">user and so in general what we&#39;ve done</p>
<p begin="16:02:46.636" end="16:02:52.400" style="s2">is bad practice you don&#39;t want to make</p>
<p begin="16:02:49.436" end="16:02:55.480" style="s2">tests be dependent on other tests each</p>
<p begin="16:02:52.400" end="16:02:57.596" style="s2">and every single test needs to operate</p>
<p begin="16:02:55.480" end="16:02:59.560" style="s2">and run independently they should not be</p>
<p begin="16:02:57.596" end="16:03:01.720" style="s2">reliant on other tests if they are it is</p>
<p begin="16:02:59.560" end="16:03:03.796" style="s2">not a valid test and you&#39;re doing it</p>
<p begin="16:03:01.720" end="16:03:05.840" style="s2">wrong you want to make sure that all</p>
<p begin="16:03:03.796" end="16:03:08.276" style="s2">tests can run independently of one</p>
<p begin="16:03:05.840" end="16:03:09.840" style="s2">another so what we&#39;ve done so far with</p>
<p begin="16:03:08.276" end="16:03:12.956" style="s2">this little hack of changing the scope</p>
<p begin="16:03:09.840" end="16:03:15.200" style="s2">to be module is not a good solution so</p>
<p begin="16:03:12.956" end="16:03:17.360" style="s2">in the next video we&#39;ll take a look at</p>
<p begin="16:03:15.200" end="16:03:19.240" style="s2">what we can do to kind of overcome this</p>
<p begin="16:03:17.360" end="16:03:22.200" style="s2">limitation this issue so that we can</p>
<p begin="16:03:19.240" end="16:03:24.436" style="s2">make our login test case independent of</p>
<p begin="16:03:22.200" end="16:03:26.956" style="s2">our create user test</p>
<p begin="16:03:24.436" end="16:03:29.320" style="s2">case okay guys I wanted to make sure</p>
<p begin="16:03:26.956" end="16:03:31.360" style="s2">that you know we really did understand</p>
<p begin="16:03:29.320" end="16:03:32.756" style="s2">what uh Scopes are when it comes to</p>
<p begin="16:03:31.360" end="16:03:34.720" style="s2">fixtures cuz I feel like I didn&#39;t do</p>
<p begin="16:03:32.756" end="16:03:37.000" style="s2">that good of a job explaining it so</p>
<p begin="16:03:34.720" end="16:03:39.040" style="s2">hopefully this video will help explain</p>
<p begin="16:03:37.000" end="16:03:41.560" style="s2">it a little bit more uh and all I&#39;m</p>
<p begin="16:03:39.040" end="16:03:42.596" style="s2">going to do is under our session fixture</p>
<p begin="16:03:41.560" end="16:03:43.756" style="s2">I&#39;m going to just do a little print</p>
<p begin="16:03:42.596" end="16:03:47.720" style="s2">statement right here that says my</p>
<p begin="16:03:43.756" end="16:03:49.680" style="s2">session fixture ran and uh this is you</p>
<p begin="16:03:47.720" end="16:03:51.000" style="s2">know I&#39;m recording this video in the</p>
<p begin="16:03:49.680" end="16:03:52.276" style="s2">future so I&#39;ve got all of the other</p>
<p begin="16:03:51.000" end="16:03:53.480" style="s2">tests that we&#39;re going to cover done</p>
<p begin="16:03:52.276" end="16:03:55.400" style="s2">already and I&#39;ve kind of broken it out</p>
<p begin="16:03:53.480" end="16:03:57.000" style="s2">into test posts this is testing all of</p>
<p begin="16:03:55.400" end="16:03:58.636" style="s2">our post path operations we&#39;ve got one</p>
<p begin="16:03:57.000" end="16:04:00.680" style="s2">for users and one for votes and I&#39;m</p>
<p begin="16:03:58.636" end="16:04:03.080" style="s2">going to show you guys um what happens</p>
<p begin="16:04:00.680" end="16:04:05.240" style="s2">when we use the default scope which is</p>
<p begin="16:04:03.080" end="16:04:08.240" style="s2">uh it&#39;s scoped per function right this</p>
<p begin="16:04:05.240" end="16:04:10.000" style="s2">is the equivalent of doing scope equals</p>
<p begin="16:04:08.240" end="16:04:12.880" style="s2">function which means that we&#39;re going to</p>
<p begin="16:04:10.000" end="16:04:17.276" style="s2">run this fixture for every single</p>
<p begin="16:04:12.880" end="16:04:18.596" style="s2">function that requests it uh and so if I</p>
<p begin="16:04:17.276" end="16:04:21.040" style="s2">remove this because once again it&#39;s the</p>
<p begin="16:04:18.596" end="16:04:24.956" style="s2">default and I run my test I want you to</p>
<p begin="16:04:21.040" end="16:04:24.956" style="s2">take a look at what happens</p>
<p begin="16:04:26.200" end="16:04:30.400" style="s2">for every single test that we run one</p>
<p begin="16:04:28.400" end="16:04:32.040" style="s2">dot represents the test we can see it</p>
<p begin="16:04:30.400" end="16:04:34.000" style="s2">prints</p>
<p begin="16:04:32.040" end="16:04:35.796" style="s2">out and so it&#39;s running through all the</p>
<p begin="16:04:34.000" end="16:04:38.160" style="s2">tests in testore poost and then it&#39;s</p>
<p begin="16:04:35.796" end="16:04:40.240" style="s2">going to run all the tests in testore</p>
<p begin="16:04:38.160" end="16:04:42.520" style="s2">users and then votes so you could see</p>
<p begin="16:04:40.240" end="16:04:45.200" style="s2">that because this is set to function</p>
<p begin="16:04:42.520" end="16:04:48.400" style="s2">we&#39;re going to run this entire session</p>
<p begin="16:04:45.200" end="16:04:50.560" style="s2">uh fixture this function every single</p>
<p begin="16:04:48.400" end="16:04:52.520" style="s2">test that we have or at least every</p>
<p begin="16:04:50.560" end="16:04:55.000" style="s2">single test that&#39;s requesting this</p>
<p begin="16:04:52.520" end="16:04:56.756" style="s2">specific fixture uh that&#39;s why we see it</p>
<p begin="16:04:55.000" end="16:04:59.596" style="s2">run every single time now if we change</p>
<p begin="16:04:56.756" end="16:05:01.680" style="s2">the scope to module the behavior is</p>
<p begin="16:04:59.596" end="16:05:04.116" style="s2">going to be a little bit different now</p>
<p begin="16:05:01.680" end="16:05:07.116" style="s2">if I change the scope to module what&#39;s</p>
<p begin="16:05:04.116" end="16:05:10.480" style="s2">going to happen is that for every module</p>
<p begin="16:05:07.116" end="16:05:13.276" style="s2">that has um a test that&#39;s requesting</p>
<p begin="16:05:10.480" end="16:05:17.200" style="s2">this specific session fixture we&#39;re only</p>
<p begin="16:05:13.276" end="16:05:19.756" style="s2">going to run this fixture one time per</p>
<p begin="16:05:17.200" end="16:05:22.720" style="s2">module and so now if I save</p>
<p begin="16:05:19.756" end="16:05:25.276" style="s2">this and I&#39;m going to no longer do- V</p>
<p begin="16:05:22.720" end="16:05:26.840" style="s2">I&#39;m just going to do just- s so we can</p>
<p begin="16:05:25.276" end="16:05:28.320" style="s2">see this get printed out without too</p>
<p begin="16:05:26.840" end="16:05:30.596" style="s2">much extra data cuz we&#39;re going to see a</p>
<p begin="16:05:28.320" end="16:05:34.756" style="s2">lot of test fail and that&#39;s perfectly</p>
<p begin="16:05:30.596" end="16:05:34.756" style="s2">okay I want you to notice what&#39;s</p>
<p begin="16:05:34.956" end="16:05:39.560" style="s2">happening so notice how the print</p>
<p begin="16:05:37.436" end="16:05:43.160" style="s2">statement ran</p>
<p begin="16:05:39.560" end="16:05:45.520" style="s2">here and then the print statement ran</p>
<p begin="16:05:43.160" end="16:05:47.080" style="s2">here and I I had to cancel out of that</p>
<p begin="16:05:45.520" end="16:05:50.320" style="s2">because usually I end up with a ton of</p>
<p begin="16:05:47.080" end="16:05:50.320" style="s2">errors and then I lose my</p>
<p begin="16:05:51.000" end="16:05:56.956" style="s2">data but you could see that um the first</p>
<p begin="16:05:53.840" end="16:05:59.520" style="s2">module which is testore py we could see</p>
<p begin="16:05:56.956" end="16:06:01.240" style="s2">that my fixture ran because it&#39;s uh um</p>
<p begin="16:05:59.520" end="16:06:03.880" style="s2">because I told it to run because one of</p>
<p begin="16:06:01.240" end="16:06:05.560" style="s2">the tests is requesting it right it runs</p>
<p begin="16:06:03.880" end="16:06:07.916" style="s2">then one of the tests</p>
<p begin="16:06:05.560" end="16:06:09.320" style="s2">runs and then the next test runs and</p>
<p begin="16:06:07.916" end="16:06:11.796" style="s2">then the next test runs so you can see</p>
<p begin="16:06:09.320" end="16:06:14.116" style="s2">that this is not printing out per test</p>
<p begin="16:06:11.796" end="16:06:17.916" style="s2">it&#39;s only printing out one time per</p>
<p begin="16:06:14.116" end="16:06:20.400" style="s2">module so when testpost py ran for the</p>
<p begin="16:06:17.916" end="16:06:22.880" style="s2">first time and the first test required</p>
<p begin="16:06:20.400" end="16:06:24.200" style="s2">this specific fixture it ran once then</p>
<p begin="16:06:22.880" end="16:06:26.160" style="s2">it didn&#39;t run for any of the other ones</p>
<p begin="16:06:24.200" end="16:06:27.956" style="s2">that&#39;s why we see them all fail and then</p>
<p begin="16:06:26.160" end="16:06:30.040" style="s2">the next module loads up and we start</p>
<p begin="16:06:27.956" end="16:06:33.320" style="s2">running test from there so we run the</p>
<p begin="16:06:30.040" end="16:06:35.276" style="s2">fixture just one time and then we don&#39;t</p>
<p begin="16:06:33.320" end="16:06:37.080" style="s2">run it ever again so you can see seven</p>
<p begin="16:06:35.276" end="16:06:41.040" style="s2">other I think it&#39;s six or seven other</p>
<p begin="16:06:37.080" end="16:06:43.276" style="s2">tests ran with no other modules uh with</p>
<p begin="16:06:41.040" end="16:06:45.040" style="s2">with the fixture not running uh any</p>
<p begin="16:06:43.276" end="16:06:47.436" style="s2">other time and then we can see the same</p>
<p begin="16:06:45.040" end="16:06:49.840" style="s2">thing for votes we can see that uh my</p>
<p begin="16:06:47.436" end="16:06:52.480" style="s2">fixture ran just one time so this means</p>
<p begin="16:06:49.840" end="16:06:55.796" style="s2">that it&#39;s going to run only once per</p>
<p begin="16:06:52.480" end="16:06:57.436" style="s2">module we also have session so if I do</p>
<p begin="16:06:55.796" end="16:06:58.480" style="s2">session it&#39;s going to be even more</p>
<p begin="16:06:57.436" end="16:07:01.360" style="s2">different you&#39;re going to see it run</p>
<p begin="16:06:58.480" end="16:07:04.680" style="s2">only one time for my entire testing</p>
<p begin="16:07:01.360" end="16:07:05.756" style="s2">session so you can see my fixture ran uh</p>
<p begin="16:07:04.680" end="16:07:07.840" style="s2">it&#39;s going to keep going through which</p>
<p begin="16:07:05.756" end="16:07:09.636" style="s2">is perfectly fine uh and then when we</p>
<p begin="16:07:07.840" end="16:07:12.956" style="s2">get to the next</p>
<p begin="16:07:09.636" end="16:07:14.520" style="s2">module we should see it not run at all</p>
<p begin="16:07:12.956" end="16:07:16.480" style="s2">right and so you can see it didn&#39;t print</p>
<p begin="16:07:14.520" end="16:07:18.680" style="s2">again so it&#39;s going to go through all of</p>
<p begin="16:07:16.480" end="16:07:20.160" style="s2">the different modules and I&#39;m going to</p>
<p begin="16:07:18.680" end="16:07:22.880" style="s2">cancel out of that before I get too many</p>
<p begin="16:07:20.160" end="16:07:25.560" style="s2">errors right but now it only runs once</p>
<p begin="16:07:22.880" end="16:07:27.116" style="s2">per entire testing session so that&#39;s</p>
<p begin="16:07:25.560" end="16:07:28.436" style="s2">when the scope comes into play so keep</p>
<p begin="16:07:27.116" end="16:07:30.240" style="s2">in mind you know depending on what</p>
<p begin="16:07:28.436" end="16:07:33.040" style="s2">you&#39;re trying to accomplish you may need</p>
<p begin="16:07:30.240" end="16:07:34.400" style="s2">to tweak the Scopes of your fixtures uh</p>
<p begin="16:07:33.040" end="16:07:36.916" style="s2">depending on what they&#39;re supposed to be</p>
<p begin="16:07:34.400" end="16:07:39.200" style="s2">doing um but for our database we want to</p>
<p begin="16:07:36.916" end="16:07:40.956" style="s2">keep it set to a function which is the</p>
<p begin="16:07:39.200" end="16:07:43.360" style="s2">default value because we want to load up</p>
<p begin="16:07:40.956" end="16:07:45.480" style="s2">a brand new uh database by dropping our</p>
<p begin="16:07:43.360" end="16:07:47.560" style="s2">tables and then creating new ones every</p>
<p begin="16:07:45.480" end="16:07:50.040" style="s2">single time we run our test so the</p>
<p begin="16:07:47.560" end="16:07:52.436" style="s2">default works perfectly fine for us now</p>
<p begin="16:07:50.040" end="16:07:54.560" style="s2">to make our login user test independent</p>
<p begin="16:07:52.436" end="16:07:57.320" style="s2">of any other test so it&#39;s not reliant on</p>
<p begin="16:07:54.560" end="16:07:59.636" style="s2">a specific order or setting the fixtures</p>
<p begin="16:07:57.320" end="16:08:01.720" style="s2">to be of a specific scope uh what we</p>
<p begin="16:07:59.636" end="16:08:04.040" style="s2">want to do is before our login user test</p>
<p begin="16:08:01.720" end="16:08:05.880" style="s2">runs I want to actually go in Define a</p>
<p begin="16:08:04.040" end="16:08:07.956" style="s2">function that&#39;ll get called that&#39;ll</p>
<p begin="16:08:05.880" end="16:08:11.520" style="s2">actually create a brand new user so that</p>
<p begin="16:08:07.956" end="16:08:13.080" style="s2">we can actually test the login user out</p>
<p begin="16:08:11.520" end="16:08:15.240" style="s2">uh and so you know as soon as I said the</p>
<p begin="16:08:13.080" end="16:08:16.796" style="s2">words I want to run a function before</p>
<p begin="16:08:15.240" end="16:08:18.756" style="s2">test runs the first thing that should</p>
<p begin="16:08:16.796" end="16:08:20.840" style="s2">click in your head is you want to run a</p>
<p begin="16:08:18.756" end="16:08:22.756" style="s2">fixture or you want to create a new</p>
<p begin="16:08:20.840" end="16:08:24.400" style="s2">fixture so we can actually create a</p>
<p begin="16:08:22.756" end="16:08:26.000" style="s2">fixture that&#39;ll create a test user for</p>
<p begin="16:08:24.400" end="16:08:27.596" style="s2">us</p>
<p begin="16:08:26.000" end="16:08:29.240" style="s2">so up here at the top of this file let&#39;s</p>
<p begin="16:08:27.596" end="16:08:30.400" style="s2">create a new fixture and I&#39;m actually</p>
<p begin="16:08:29.240" end="16:08:32.276" style="s2">going to delete this test we don&#39;t</p>
<p begin="16:08:30.400" end="16:08:34.040" style="s2">actually need it anymore it&#39;s just</p>
<p begin="16:08:32.276" end="16:08:36.956" style="s2">taking up space or I can at least</p>
<p begin="16:08:34.040" end="16:08:36.956" style="s2">comment it out I</p>
<p begin="16:08:38.796" end="16:08:43.116" style="s2">guess and I&#39;m going to define a fixture</p>
<p begin="16:08:43.436" end="16:08:50.756" style="s2">here and we have to</p>
<p begin="16:08:45.680" end="16:08:52.796" style="s2">import py test so we&#39;ll say from whoops</p>
<p begin="16:08:50.756" end="16:08:59.160" style="s2">import py</p>
<p begin="16:08:52.796" end="16:08:59.160" style="s2">test and we&#39;ll say add py test.</p>
<p begin="16:09:02.880" end="16:09:06.320" style="s2">fixture and I&#39;m going to call this test</p>
<p begin="16:09:04.916" end="16:09:09.160" style="s2">user so it&#39;s going to be responsible for</p>
<p begin="16:09:06.320" end="16:09:09.160" style="s2">creating a test</p>
<p begin="16:09:10.116" end="16:09:17.200" style="s2">user and this is actually going to make</p>
<p begin="16:09:12.720" end="16:09:19.480" style="s2">a call to our create user route so we</p>
<p begin="16:09:17.200" end="16:09:20.956" style="s2">actually need access to client so that</p>
<p begin="16:09:19.480" end="16:09:22.160" style="s2">we can actually make that request and</p>
<p begin="16:09:20.956" end="16:09:23.520" style="s2">there&#39;s two different ways of doing this</p>
<p begin="16:09:22.160" end="16:09:25.880" style="s2">right we could just have access to the</p>
<p begin="16:09:23.520" end="16:09:27.400" style="s2">session object</p>
<p begin="16:09:25.880" end="16:09:30.560" style="s2">we can have access to session object and</p>
<p begin="16:09:27.400" end="16:09:32.200" style="s2">we can just you know session do you know</p>
<p begin="16:09:30.560" end="16:09:33.360" style="s2">I think what is it actually no it would</p>
<p begin="16:09:32.200" end="16:09:35.880" style="s2">be like</p>
<p begin="16:09:33.360" end="16:09:37.480" style="s2">models. user and then pass in the data</p>
<p begin="16:09:35.880" end="16:09:39.436" style="s2">for a test user and then create it</p>
<p begin="16:09:37.480" end="16:09:41.480" style="s2">directly with the database or we could</p>
<p begin="16:09:39.436" end="16:09:42.916" style="s2">just make a call to our API and actually</p>
<p begin="16:09:41.480" end="16:09:43.796" style="s2">have it run through that so I&#39;m going to</p>
<p begin="16:09:42.916" end="16:09:47.560" style="s2">do that because it&#39;s a little bit</p>
<p begin="16:09:43.796" end="16:09:51.756" style="s2">simpler for now but I&#39;m going to define</p>
<p begin="16:09:47.560" end="16:09:52.956" style="s2">a um a uh dictionary with the data that</p>
<p begin="16:09:51.756" end="16:09:56.436" style="s2">I&#39;m going to use for my user so I&#39;m</p>
<p begin="16:09:52.956" end="16:09:56.436" style="s2">going to have the email</p>
<p begin="16:09:59.880" end="16:10:04.160" style="s2">and actually it&#39;s going to be a little</p>
<p begin="16:10:00.840" end="16:10:04.160" style="s2">bit easier if I just paste this</p>
<p begin="16:10:05.560" end="16:10:11.240" style="s2">in so we have the email set to something</p>
<p begin="16:10:08.200" end="16:10:11.240" style="s2">and then the password set to</p>
<p begin="16:10:12.160" end="16:10:16.756" style="s2">something and I&#39;m going to change this</p>
<p begin="16:10:14.200" end="16:10:16.756" style="s2">back to</p>
<p begin="16:10:17.276" end="16:10:27.040" style="s2">client and now I can say res equals</p>
<p begin="16:10:21.080" end="16:10:29.400" style="s2">client. poost and we&#39;ll send it to users</p>
<p begin="16:10:27.040" end="16:10:32.360" style="s2">and then the data for the new user can</p>
<p begin="16:10:29.400" end="16:10:33.840" style="s2">just be user unor data and just kind of</p>
<p begin="16:10:32.360" end="16:10:35.276" style="s2">like what we&#39;ve done here we can you</p>
<p begin="16:10:33.840" end="16:10:39.200" style="s2">know just to make sure that this didn&#39;t</p>
<p begin="16:10:35.276" end="16:10:39.200" style="s2">error out we can uh do an</p>
<p begin="16:10:39.320" end="16:10:46.276" style="s2">assert and just say you know res. status</p>
<p begin="16:10:43.360" end="16:10:48.320" style="s2">code equals equals</p>
<p begin="16:10:46.276" end="16:10:50.240" style="s2">2011 if that&#39;s good I think it&#39;s safe to</p>
<p begin="16:10:48.320" end="16:10:51.560" style="s2">assume we didn&#39;t run into any errors on</p>
<p begin="16:10:50.240" end="16:10:54.720" style="s2">on the back</p>
<p begin="16:10:51.560" end="16:10:56.040" style="s2">end um but then what I want to do is not</p>
<p begin="16:10:54.720" end="16:10:58.320" style="s2">only do I want want to create the test</p>
<p begin="16:10:56.040" end="16:11:00.560" style="s2">user I want to actually return the</p>
<p begin="16:10:58.320" end="16:11:03.240" style="s2">information about the user so that this</p>
<p begin="16:11:00.560" end="16:11:05.880" style="s2">login user will have the correct data uh</p>
<p begin="16:11:03.240" end="16:11:07.680" style="s2">to send when he tries to log in that way</p>
<p begin="16:11:05.880" end="16:11:09.720" style="s2">if we ever change this data we should</p>
<p begin="16:11:07.680" end="16:11:12.596" style="s2">automatically update this</p>
<p begin="16:11:09.720" end="16:11:15.916" style="s2">data so what are we going to return uh</p>
<p begin="16:11:12.596" end="16:11:19.040" style="s2">well we have access to uh what is it</p>
<p begin="16:11:15.916" end="16:11:21.240" style="s2">called uh to res. Json and if I print</p>
<p begin="16:11:19.040" end="16:11:21.240" style="s2">that</p>
<p begin="16:11:22.000" end="16:11:25.560" style="s2">out we can just quickly take a look at</p>
<p begin="16:11:24.200" end="16:11:27.200" style="s2">what that looks like in for now I&#39;m just</p>
<p begin="16:11:25.560" end="16:11:29.596" style="s2">going to</p>
<p begin="16:11:27.200" end="16:11:32.000" style="s2">return nothing I guess that&#39;s fine I&#39;ll</p>
<p begin="16:11:29.596" end="16:11:34.840" style="s2">just return nothing and here I&#39;m going</p>
<p begin="16:11:32.000" end="16:11:39.360" style="s2">to change this to be uh I&#39;m going to</p>
<p begin="16:11:34.840" end="16:11:39.360" style="s2">pass in the test user so that also</p>
<p begin="16:11:40.756" end="16:11:45.320" style="s2">runs and so now this login user is</p>
<p begin="16:11:43.756" end="16:11:47.880" style="s2">dependent on two different fixtures</p>
<p begin="16:11:45.320" end="16:11:49.276" style="s2">client and test user and before we do</p>
<p begin="16:11:47.880" end="16:11:51.436" style="s2">anything else let&#39;s make sure we clean</p>
<p begin="16:11:49.276" end="16:11:53.116" style="s2">up the scope we don&#39;t need these to be</p>
<p begin="16:11:51.436" end="16:11:57.116" style="s2">set to that</p>
<p begin="16:11:53.116" end="16:11:57.116" style="s2">anymore and if we run our test</p>
<p begin="16:12:01.520" end="16:12:03.880" style="s2">all right the data we get back we get</p>
<p begin="16:12:02.840" end="16:12:06.080" style="s2">the user</p>
<p begin="16:12:03.880" end="16:12:09.160" style="s2">name oh sorry that&#39;s not what I want</p>
<p begin="16:12:06.080" end="16:12:11.720" style="s2">this print we get the ID the email and</p>
<p begin="16:12:09.160" end="16:12:14.796" style="s2">the created</p>
<p begin="16:12:11.720" end="16:12:16.636" style="s2">at so what we&#39;ll do is I&#39;m going to</p>
<p begin="16:12:14.796" end="16:12:18.916" style="s2">actually take this dictionary and I&#39;m</p>
<p begin="16:12:16.636" end="16:12:21.040" style="s2">going to pass in the password as well</p>
<p begin="16:12:18.916" end="16:12:22.240" style="s2">because when I actually go to log in the</p>
<p begin="16:12:21.040" end="16:12:24.400" style="s2">user I need to make sure that he has</p>
<p begin="16:12:22.240" end="16:12:25.840" style="s2">access to what my password is um but</p>
<p begin="16:12:24.400" end="16:12:28.080" style="s2">that doesn&#39;t get returned returned in</p>
<p begin="16:12:25.840" end="16:12:30.200" style="s2">the response so what we have to do is uh</p>
<p begin="16:12:28.080" end="16:12:35.680" style="s2">we&#39;ll have to add a new field so I&#39;ll</p>
<p begin="16:12:30.200" end="16:12:37.400" style="s2">say newor user equals you know res. Json</p>
<p begin="16:12:35.680" end="16:12:41.200" style="s2">so we get that dictionary and then we&#39;ll</p>
<p begin="16:12:37.400" end="16:12:43.000" style="s2">say newor user We&#39;ll add in a new key</p>
<p begin="16:12:41.200" end="16:12:46.400" style="s2">called</p>
<p begin="16:12:43.000" end="16:12:48.520" style="s2">password and I&#39;ll pass in user data</p>
<p begin="16:12:46.400" end="16:12:51.756" style="s2">which is this dictionary up here and</p>
<p begin="16:12:48.520" end="16:12:53.080" style="s2">we&#39;ll grab the password from here and</p>
<p begin="16:12:51.756" end="16:12:55.916" style="s2">what I&#39;m going to do is then return</p>
<p begin="16:12:53.080" end="16:12:58.916" style="s2">newor user</p>
<p begin="16:12:55.916" end="16:13:00.636" style="s2">and so anytime someone calls test user</p>
<p begin="16:12:58.916" end="16:13:02.636" style="s2">or anytime we have a test that&#39;s</p>
<p begin="16:13:00.636" end="16:13:04.200" style="s2">dependent on that uh it&#39;s going to run</p>
<p begin="16:13:02.636" end="16:13:06.596" style="s2">this function it&#39;s going to return the</p>
<p begin="16:13:04.200" end="16:13:08.720" style="s2">new user and so now that we have the new</p>
<p begin="16:13:06.596" end="16:13:11.436" style="s2">user what we can do is I can say the</p>
<p begin="16:13:08.720" end="16:13:11.436" style="s2">username</p>
<p begin="16:13:11.520" end="16:13:18.560" style="s2">is testore user and we&#39;ll grab the email</p>
<p begin="16:13:15.796" end="16:13:21.080" style="s2">key and then the password will be</p>
<p begin="16:13:18.560" end="16:13:23.520" style="s2">testore</p>
<p begin="16:13:21.080" end="16:13:25.596" style="s2">user and this will be</p>
<p begin="16:13:23.520" end="16:13:27.080" style="s2">password okay and so that way if I ever</p>
<p begin="16:13:25.596" end="16:13:28.720" style="s2">change the password up here it&#39;s going</p>
<p begin="16:13:27.080" end="16:13:31.916" style="s2">to automatically get updated down here</p>
<p begin="16:13:28.720" end="16:13:35.080" style="s2">so we don&#39;t ever have to worry about</p>
<p begin="16:13:31.916" end="16:13:38.160" style="s2">that and one thing to note is that</p>
<p begin="16:13:35.080" end="16:13:41.520" style="s2">technically if I deleted this and just</p>
<p begin="16:13:38.160" end="16:13:43.880" style="s2">called test user right test user would</p>
<p begin="16:13:41.520" end="16:13:45.720" style="s2">technically call client right and that</p>
<p begin="16:13:43.880" end="16:13:47.560" style="s2">would go all the way back here and then</p>
<p begin="16:13:45.720" end="16:13:49.880" style="s2">client would technically call session so</p>
<p begin="16:13:47.560" end="16:13:52.560" style="s2">it would call all of these functions</p>
<p begin="16:13:49.880" end="16:13:55.116" style="s2">automatically for us however the one</p>
<p begin="16:13:52.560" end="16:13:57.320" style="s2">issue is that in this test we still need</p>
<p begin="16:13:55.116" end="16:14:00.360" style="s2">to make a call with clients so we still</p>
<p begin="16:13:57.320" end="16:14:02.320" style="s2">have to pass in the client object so</p>
<p begin="16:14:00.360" end="16:14:04.916" style="s2">that we can make use of it but I did</p>
<p begin="16:14:02.320" end="16:14:06.756" style="s2">want to highlight that because this</p>
<p begin="16:14:04.916" end="16:14:08.520" style="s2">fixture is dependent on client it will</p>
<p begin="16:14:06.756" end="16:14:10.480" style="s2">run whatever code is in the client</p>
<p begin="16:14:08.520" end="16:14:12.680" style="s2">fixture and because client is dependent</p>
<p begin="16:14:10.480" end="16:14:14.436" style="s2">on session it will run whatever code is</p>
<p begin="16:14:12.680" end="16:14:17.596" style="s2">there within the session so it&#39;s all</p>
<p begin="16:14:14.436" end="16:14:19.480" style="s2">done automatically for us right so the</p>
<p begin="16:14:17.596" end="16:14:23.480" style="s2">order once again is going to be we&#39;ll</p>
<p begin="16:14:19.480" end="16:14:25.880" style="s2">run session first we&#39;ll then run client</p>
<p begin="16:14:23.480" end="16:14:28.596" style="s2">and then we&#39;ll run this test user</p>
<p begin="16:14:25.880" end="16:14:30.796" style="s2">so let&#39;s test this out now hopefully</p>
<p begin="16:14:28.596" end="16:14:30.796" style="s2">this</p>
<p begin="16:14:33.400" end="16:14:38.560" style="s2">works and it passed Perfect Look at that</p>
<p begin="16:14:36.116" end="16:14:41.200" style="s2">guys we were now successfully able to</p>
<p begin="16:14:38.560" end="16:14:42.680" style="s2">log in a user so that&#39;s cool and all but</p>
<p begin="16:14:41.200" end="16:14:45.596" style="s2">I want to do a little bit more</p>
<p begin="16:14:42.680" end="16:14:47.160" style="s2">validation for the login user route uh</p>
<p begin="16:14:45.596" end="16:14:50.116" style="s2">just to make sure that you know we got a</p>
<p begin="16:14:47.160" end="16:14:52.276" style="s2">token the token is valid uh and just do</p>
<p begin="16:14:50.116" end="16:14:54.200" style="s2">a few extra checks so just like we did</p>
<p begin="16:14:52.276" end="16:14:55.916" style="s2">with the test create user we have we can</p>
<p begin="16:14:54.200" end="16:14:57.796" style="s2">take use of we can make use of the</p>
<p begin="16:14:55.916" end="16:15:00.796" style="s2">pantic model that we use for the</p>
<p begin="16:14:57.796" end="16:15:03.320" style="s2">response so if I go into my o. py under</p>
<p begin="16:15:00.796" end="16:15:05.916" style="s2">routers and we can see for the login the</p>
<p begin="16:15:03.320" end="16:15:07.880" style="s2">response model is set to a schema token</p>
<p begin="16:15:05.916" end="16:15:12.276" style="s2">so let&#39;s import</p>
<p begin="16:15:07.880" end="16:15:13.756" style="s2">token inside our test users. py so here</p>
<p begin="16:15:12.276" end="16:15:16.560" style="s2">schemas we already have access to</p>
<p begin="16:15:13.756" end="16:15:21.116" style="s2">schemas and so I can</p>
<p begin="16:15:16.560" end="16:15:23.080" style="s2">say uh token or what should I call this</p>
<p begin="16:15:21.116" end="16:15:26.480" style="s2">I&#39;ll just call this</p>
<p begin="16:15:23.080" end="16:15:30.520" style="s2">login res which</p>
<p begin="16:15:26.480" end="16:15:33.756" style="s2">equals and then we&#39;ll call in schemas</p>
<p begin="16:15:30.520" end="16:15:36.116" style="s2">dot uh I think it was is it token was it</p>
<p begin="16:15:33.756" end="16:15:39.560" style="s2">token or token data I think it was</p>
<p begin="16:15:36.116" end="16:15:42.320" style="s2">token well let&#39;s just double</p>
<p begin="16:15:39.560" end="16:15:43.240" style="s2">check it&#39;s token perfect okay so token</p>
<p begin="16:15:42.320" end="16:15:43.880" style="s2">and then what we&#39;re going to do is we&#39;re</p>
<p begin="16:15:43.240" end="16:15:47.796" style="s2">going</p>
<p begin="16:15:43.880" end="16:15:49.436" style="s2">to spread res.</p>
<p begin="16:15:47.796" end="16:15:51.480" style="s2">Json all right so that&#39;s going to</p>
<p begin="16:15:49.436" end="16:15:53.276" style="s2">perform a little bit of</p>
<p begin="16:15:51.480" end="16:15:56.276" style="s2">validation right and then when we get a</p>
<p begin="16:15:53.276" end="16:15:59.360" style="s2">token I want to actually valid Val</p>
<p begin="16:15:56.276" end="16:16:01.320" style="s2">it so how exactly do we validate it well</p>
<p begin="16:15:59.360" end="16:16:02.756" style="s2">we want to decode the token and so all</p>
<p begin="16:16:01.320" end="16:16:04.200" style="s2">of the logic that I&#39;m going to implement</p>
<p begin="16:16:02.756" end="16:16:07.080" style="s2">here is essentially the logic that we</p>
<p begin="16:16:04.200" end="16:16:09.320" style="s2">use within our oo2 py file so when we</p>
<p begin="16:16:07.080" end="16:16:11.520" style="s2">want to get the user we want to verify</p>
<p begin="16:16:09.320" end="16:16:13.320" style="s2">the access token is valid so how do we</p>
<p begin="16:16:11.520" end="16:16:15.756" style="s2">do that the all of the logic is right</p>
<p begin="16:16:13.320" end="16:16:16.916" style="s2">here so we&#39;re going to decode the token</p>
<p begin="16:16:15.756" end="16:16:19.360" style="s2">and we&#39;re going to make sure that the</p>
<p begin="16:16:16.916" end="16:16:21.916" style="s2">user ID is within that token and that&#39;s</p>
<p begin="16:16:19.360" end="16:16:26.840" style="s2">all I&#39;m really going to do at that</p>
<p begin="16:16:21.916" end="16:16:26.840" style="s2">point so I will copy this</p>
<p begin="16:16:30.956" end="16:16:37.116" style="s2">and we have to import</p>
<p begin="16:16:34.116" end="16:16:37.116" style="s2">JWT</p>
<p begin="16:16:37.360" end="16:16:45.160" style="s2">from so from I don&#39;t know if it&#39;s Jose</p>
<p begin="16:16:41.000" end="16:16:48.160" style="s2">or Josie who knows uh so we&#39;ll import</p>
<p begin="16:16:45.160" end="16:16:52.596" style="s2">JWT and what we&#39;ll decode is going to be</p>
<p begin="16:16:48.160" end="16:16:56.320" style="s2">in the loginor res under the access</p>
<p begin="16:16:52.596" end="16:16:56.320" style="s2">token property</p>
<p begin="16:16:58.040" end="16:17:02.000" style="s2">uh and then we have to pass in the</p>
<p begin="16:16:59.276" end="16:17:03.720" style="s2">secret key as well as the algorithm so</p>
<p begin="16:17:02.000" end="16:17:06.080" style="s2">the secret key can be accessed with</p>
<p begin="16:17:03.720" end="16:17:08.916" style="s2">settings</p>
<p begin="16:17:06.080" end="16:17:10.436" style="s2">dot well I have to import my config so</p>
<p begin="16:17:08.916" end="16:17:12.796" style="s2">I&#39;ll say</p>
<p begin="16:17:10.436" end="16:17:16.596" style="s2">from</p>
<p begin="16:17:12.796" end="16:17:18.680" style="s2">app.config import</p>
<p begin="16:17:16.596" end="16:17:22.160" style="s2">settings so now we have access to our</p>
<p begin="16:17:18.680" end="16:17:22.160" style="s2">environment variable so I&#39;ll do settings</p>
<p begin="16:17:22.320" end="16:17:26.560" style="s2">dot secret key</p>
<p begin="16:17:25.436" end="16:17:30.840" style="s2">and then the same thing goes for the</p>
<p begin="16:17:26.560" end="16:17:30.840" style="s2">algorithm so I&#39;ll set this to settings</p>
<p begin="16:17:30.880" end="16:17:35.916" style="s2">dot</p>
<p begin="16:17:33.040" end="16:17:37.636" style="s2">algorithm so we&#39;re able to deload it uh</p>
<p begin="16:17:35.916" end="16:17:39.956" style="s2">decode</p>
<p begin="16:17:37.636" end="16:17:44.240" style="s2">it and then I&#39;ll remove this check I&#39;ll</p>
<p begin="16:17:39.956" end="16:17:44.240" style="s2">just say ID equals</p>
<p begin="16:17:54.796" end="16:18:00.680" style="s2">does ID equal equal and then is it going</p>
<p begin="16:17:58.480" end="16:18:02.116" style="s2">to match the ID of test user so if we</p>
<p begin="16:18:00.680" end="16:18:04.000" style="s2">take a look at what test user was that&#39;s</p>
<p begin="16:18:02.116" end="16:18:07.276" style="s2">coming from this picture and so it&#39;s</p>
<p begin="16:18:04.000" end="16:18:09.000" style="s2">going to return oh it looks like I did</p>
<p begin="16:18:07.276" end="16:18:11.320" style="s2">not no no it should be in there so since</p>
<p begin="16:18:09.000" end="16:18:14.000" style="s2">we grabbed the response the ID should be</p>
<p begin="16:18:11.320" end="16:18:17.080" style="s2">there so we can just call this uh</p>
<p begin="16:18:14.000" end="16:18:19.400" style="s2">testore user and then we can just call</p>
<p begin="16:18:17.080" end="16:18:21.796" style="s2">ID so I think that&#39;s a little bit more</p>
<p begin="16:18:19.400" end="16:18:23.240" style="s2">of a valid check cuz it&#39;s actually</p>
<p begin="16:18:21.796" end="16:18:25.320" style="s2">decoding the token just to make sure we</p>
<p begin="16:18:23.240" end="16:18:26.916" style="s2">didn&#39;t break anything there and and one</p>
<p begin="16:18:25.320" end="16:18:30.320" style="s2">more</p>
<p begin="16:18:26.916" end="16:18:30.320" style="s2">thing uh we can</p>
<p begin="16:18:30.756" end="16:18:34.480" style="s2">assert</p>
<p begin="16:18:32.680" end="16:18:41.436" style="s2">loginor</p>
<p begin="16:18:34.480" end="16:18:41.436" style="s2">res. token type so this should be set to</p>
<p begin="16:18:42.560" end="16:18:46.796" style="s2">bearer all right so let&#39;s test that out</p>
<p begin="16:18:48.160" end="16:18:52.436" style="s2">now and everything worked I think I&#39;ve</p>
<p begin="16:18:50.916" end="16:18:54.720" style="s2">got one random print statement that I</p>
<p begin="16:18:52.436" end="16:18:56.756" style="s2">don&#39;t want so I&#39;ll just remove that and</p>
<p begin="16:18:54.720" end="16:18:59.636" style="s2">we have now successfully completed our</p>
<p begin="16:18:56.756" end="16:19:01.756" style="s2">login user test okay guys so before we</p>
<p begin="16:18:59.636" end="16:19:03.080" style="s2">actually create any more new tests what</p>
<p begin="16:19:01.756" end="16:19:05.360" style="s2">I want to do is I want to create a</p>
<p begin="16:19:03.080" end="16:19:08.756" style="s2">special file under our test directory</p>
<p begin="16:19:05.360" end="16:19:12.000" style="s2">called conf test.py so this is a special</p>
<p begin="16:19:08.756" end="16:19:14.160" style="s2">file that pest uses and it allows us to</p>
<p begin="16:19:12.000" end="16:19:16.240" style="s2">Define fixtures in here and any fixtures</p>
<p begin="16:19:14.160" end="16:19:18.240" style="s2">you define in this file will</p>
<p begin="16:19:16.240" end="16:19:20.680" style="s2">automatically be accessible to any of</p>
<p begin="16:19:18.240" end="16:19:22.596" style="s2">our tests within this package so it&#39;s</p>
<p begin="16:19:20.680" end="16:19:25.000" style="s2">package specific so anything within the</p>
<p begin="16:19:22.596" end="16:19:27.480" style="s2">test package even sub packages will will</p>
<p begin="16:19:25.000" end="16:19:29.360" style="s2">automatically have access to any of</p>
<p begin="16:19:27.480" end="16:19:30.520" style="s2">these fixtures and the reason I want to</p>
<p begin="16:19:29.360" end="16:19:32.680" style="s2">do this is I want to take all of our</p>
<p begin="16:19:30.520" end="16:19:34.756" style="s2">database code essentially or well our</p>
<p begin="16:19:32.680" end="16:19:36.160" style="s2">database fixtures and I want to copy all</p>
<p begin="16:19:34.756" end="16:19:39.436" style="s2">of</p>
<p begin="16:19:36.160" end="16:19:41.796" style="s2">it and I want to move it to</p>
<p begin="16:19:39.436" end="16:19:44.080" style="s2">contest uh and so by moving it to conf</p>
<p begin="16:19:41.796" end="16:19:46.520" style="s2">test this fixture the session fixture as</p>
<p begin="16:19:44.080" end="16:19:48.520" style="s2">well as the client fixture will all be</p>
<p begin="16:19:46.520" end="16:19:51.160" style="s2">accessible to you know test calculations</p>
<p begin="16:19:48.520" end="16:19:52.276" style="s2">test users any other test files uh</p>
<p begin="16:19:51.160" end="16:19:56.436" style="s2">within the test</p>
<p begin="16:19:52.276" end="16:19:59.320" style="s2">folder automatically and so now I don&#39;t</p>
<p begin="16:19:56.436" end="16:20:01.796" style="s2">actually have to import anything so I</p>
<p begin="16:19:59.320" end="16:20:03.240" style="s2">don&#39;t need to import from contest it&#39;ll</p>
<p begin="16:20:01.796" end="16:20:05.200" style="s2">automatically do that it&#39;ll</p>
<p begin="16:20:03.240" end="16:20:07.200" style="s2">automatically have access to</p>
<p begin="16:20:05.200" end="16:20:09.116" style="s2">client and it&#39;ll automatically have</p>
<p begin="16:20:07.200" end="16:20:10.596" style="s2">access to session and what I&#39;m actually</p>
<p begin="16:20:09.116" end="16:20:12.400" style="s2">going to do is I&#39;m going to move this</p>
<p begin="16:20:10.596" end="16:20:16.520" style="s2">test</p>
<p begin="16:20:12.400" end="16:20:16.520" style="s2">user to contest as</p>
<p begin="16:20:19.240" end="16:20:24.916" style="s2">well right and so that way um because</p>
<p begin="16:20:22.596" end="16:20:27.040" style="s2">I&#39;m I imagine that even for other</p>
<p begin="16:20:24.916" end="16:20:29.596" style="s2">modules that I create uh you know</p>
<p begin="16:20:27.040" end="16:20:31.000" style="s2">especially like uh for voting uh and a</p>
<p begin="16:20:29.596" end="16:20:32.880" style="s2">few and creating posts they&#39;re going to</p>
<p begin="16:20:31.000" end="16:20:34.436" style="s2">need test users as well so it makes</p>
<p begin="16:20:32.880" end="16:20:36.160" style="s2">sense to put this in this compest so</p>
<p begin="16:20:34.436" end="16:20:38.000" style="s2">everyone has access to it and I don&#39;t</p>
<p begin="16:20:36.160" end="16:20:41.000" style="s2">have to go around constantly importing</p>
<p begin="16:20:38.000" end="16:20:43.360" style="s2">things around like that and uh now</p>
<p begin="16:20:41.000" end="16:20:46.840" style="s2">within our uh test users I should be</p>
<p begin="16:20:43.360" end="16:20:48.080" style="s2">able to uh leave everything else uh and</p>
<p begin="16:20:46.840" end="16:20:50.720" style="s2">you&#39;ll see that we&#39;re not importing</p>
<p begin="16:20:48.080" end="16:20:54.560" style="s2">client or test user anywhere here but</p>
<p begin="16:20:50.720" end="16:20:57.276" style="s2">when I run this we should see no issues</p>
<p begin="16:20:54.560" end="16:20:57.276" style="s2">so let&#39;s give this a</p>
<p begin="16:20:58.520" end="16:21:03.116" style="s2">try and you can see all of our tests</p>
<p begin="16:21:00.720" end="16:21:05.320" style="s2">passed with absolutely no issues um</p>
<p begin="16:21:03.116" end="16:21:08.320" style="s2">because we are importing those from the</p>
<p begin="16:21:05.320" end="16:21:11.796" style="s2">contest file and keep in mind you know</p>
<p begin="16:21:08.320" end="16:21:15.320" style="s2">let&#39;s say I created a new package um</p>
<p begin="16:21:11.796" end="16:21:15.320" style="s2">I&#39;ll call this whatever how</p>
<p begin="16:21:16.080" end="16:21:20.116" style="s2">about API or something it doesn&#39;t really</p>
<p begin="16:21:18.560" end="16:21:22.880" style="s2">matter what I call it and I&#39;ve got a</p>
<p begin="16:21:20.116" end="16:21:25.400" style="s2">whole bunch of tests in here you know</p>
<p begin="16:21:22.880" end="16:21:28.360" style="s2">testore something</p>
<p begin="16:21:25.400" end="16:21:29.840" style="s2">py um because this package is still</p>
<p begin="16:21:28.360" end="16:21:32.596" style="s2">within the test package it&#39;ll have</p>
<p begin="16:21:29.840" end="16:21:35.080" style="s2">access to all of the mod um all of the</p>
<p begin="16:21:32.596" end="16:21:37.116" style="s2">fixtures in the conf test py but within</p>
<p begin="16:21:35.080" end="16:21:40.040" style="s2">a package I can also create a new conf</p>
<p begin="16:21:37.116" end="16:21:41.916" style="s2">test so I can make a new conf test.py</p>
<p begin="16:21:40.040" end="16:21:43.080" style="s2">down here as well and when I do it</p>
<p begin="16:21:41.916" end="16:21:45.436" style="s2">within this</p>
<p begin="16:21:43.080" end="16:21:47.840" style="s2">package then test users doesn&#39;t have</p>
<p begin="16:21:45.436" end="16:21:49.720" style="s2">access to that one but anything within</p>
<p begin="16:21:47.840" end="16:21:52.796" style="s2">the API package will have access to the</p>
<p begin="16:21:49.720" end="16:21:54.680" style="s2">fixtures in in the API folder as well so</p>
<p begin="16:21:52.796" end="16:21:56.116" style="s2">com test is package specific so every</p>
<p begin="16:21:54.680" end="16:21:57.880" style="s2">directory you create you can create a</p>
<p begin="16:21:56.116" end="16:22:00.520" style="s2">separate comp test file so that you can</p>
<p begin="16:21:57.880" end="16:22:01.636" style="s2">essentially scope fixtures uh or you can</p>
<p begin="16:22:00.520" end="16:22:03.720" style="s2">make it so that fixtures are</p>
<p begin="16:22:01.636" end="16:22:05.956" style="s2">automatically imported into certain</p>
<p begin="16:22:03.720" end="16:22:07.956" style="s2">parts of your tests and not</p>
<p begin="16:22:05.956" end="16:22:10.480" style="s2">others but we&#39;ll delete that because I</p>
<p begin="16:22:07.956" end="16:22:13.520" style="s2">don&#39;t actually need that all right so we</p>
<p begin="16:22:10.480" end="16:22:15.160" style="s2">finished our successful login user test</p>
<p begin="16:22:13.520" end="16:22:17.360" style="s2">the next thing we want to test is for a</p>
<p begin="16:22:15.160" end="16:22:22.436" style="s2">failed login so I&#39;ll do the same thing</p>
<p begin="16:22:17.360" end="16:22:25.400" style="s2">I&#39;ll call this um about test incorrect</p>
<p begin="16:22:22.436" end="16:22:27.480" style="s2">login</p>
<p begin="16:22:25.400" end="16:22:30.720" style="s2">and once again uh a few things need to</p>
<p begin="16:22:27.480" end="16:22:32.116" style="s2">happen Let&#39;s uh we want the test user so</p>
<p begin="16:22:30.720" end="16:22:34.560" style="s2">that a test user gets created so we can</p>
<p begin="16:22:32.116" end="16:22:36.040" style="s2">try to log in uh with his credentials or</p>
<p begin="16:22:34.560" end="16:22:38.320" style="s2">at least with the wrong credentials this</p>
<p begin="16:22:36.040" end="16:22:41.116" style="s2">time and we do need access to client</p>
<p begin="16:22:38.320" end="16:22:44.116" style="s2">just because we&#39;re going to be making a</p>
<p begin="16:22:41.116" end="16:22:46.276" style="s2">request and here I&#39;ll say res equals</p>
<p begin="16:22:44.116" end="16:22:49.436" style="s2">client.</p>
<p begin="16:22:46.276" end="16:22:52.916" style="s2">poost and we&#39;ll say</p>
<p begin="16:22:49.436" end="16:22:56.160" style="s2">login and for the login</p>
<p begin="16:22:52.916" end="16:22:59.040" style="s2">data uh we&#39;ll say data equals and then</p>
<p begin="16:22:56.160" end="16:23:02.956" style="s2">we&#39;ll do a dictionary here the</p>
<p begin="16:22:59.040" end="16:23:04.796" style="s2">username uh we can use uh in this case</p>
<p begin="16:23:02.956" end="16:23:07.596" style="s2">uh testore</p>
<p begin="16:23:04.796" end="16:23:10.756" style="s2">user</p>
<p begin="16:23:07.596" end="16:23:12.880" style="s2">email and then for the</p>
<p begin="16:23:10.756" end="16:23:14.436" style="s2">password uh we can just I mean we can</p>
<p begin="16:23:12.880" end="16:23:15.956" style="s2">just give it any arbitrary password it</p>
<p begin="16:23:14.436" end="16:23:17.080" style="s2">just say wrong password because we know</p>
<p begin="16:23:15.956" end="16:23:19.400" style="s2">that&#39;s the wrong</p>
<p begin="16:23:17.080" end="16:23:21.116" style="s2">password uh and so when a user enters in</p>
<p begin="16:23:19.400" end="16:23:25.796" style="s2">the wrong credentials we should get a</p>
<p begin="16:23:21.116" end="16:23:30.276" style="s2">403 so we&#39;ll say assert uh res. status</p>
<p begin="16:23:25.796" end="16:23:30.276" style="s2">code equals equals</p>
<p begin="16:23:30.720" end="16:23:35.680" style="s2">403 and in the</p>
<p begin="16:23:33.560" end="16:23:37.276" style="s2">response uh it should tell us that we</p>
<p begin="16:23:35.680" end="16:23:40.480" style="s2">have invalid credentials so I&#39;ll say</p>
<p begin="16:23:37.276" end="16:23:44.080" style="s2">assert response. Json it will convert it</p>
<p begin="16:23:40.480" end="16:23:45.756" style="s2">to Json we will get the</p>
<p begin="16:23:44.080" end="16:23:48.240" style="s2">detail</p>
<p begin="16:23:45.756" end="16:23:50.956" style="s2">property and that should</p>
<p begin="16:23:48.240" end="16:23:52.680" style="s2">equal invalid credentials make sure you</p>
<p begin="16:23:50.956" end="16:23:55.116" style="s2">get the capitalization correct cuz it&#39;s</p>
<p begin="16:23:52.680" end="16:23:57.360" style="s2">going to do an exact comparison</p>
<p begin="16:23:55.116" end="16:23:58.636" style="s2">and just to confirm if that&#39;s how what</p>
<p begin="16:23:57.360" end="16:24:00.360" style="s2">the capitalization looks like it should</p>
<p begin="16:23:58.636" end="16:24:02.596" style="s2">be invalid credential so just copy it</p>
<p begin="16:24:00.360" end="16:24:06.756" style="s2">directly from</p>
<p begin="16:24:02.596" end="16:24:06.756" style="s2">here and this should be res not</p>
<p begin="16:24:08.080" end="16:24:11.636" style="s2">response let&#39;s try this</p>
<p begin="16:24:17.000" end="16:24:22.756" style="s2">out all right and the incorrect login</p>
<p begin="16:24:20.596" end="16:24:24.840" style="s2">worked perfect so that means we did get</p>
<p begin="16:24:22.756" end="16:24:27.040" style="s2">a receive we did receive a 43 and we did</p>
<p begin="16:24:24.840" end="16:24:29.240" style="s2">receive the the message invalid</p>
<p begin="16:24:27.040" end="16:24:30.596" style="s2">credentials uh but not only do I want to</p>
<p begin="16:24:29.240" end="16:24:33.720" style="s2">test the wrong password I also want to</p>
<p begin="16:24:30.596" end="16:24:35.520" style="s2">test a wrong email as well and I also</p>
<p begin="16:24:33.720" end="16:24:37.680" style="s2">want to test wrong email and wrong</p>
<p begin="16:24:35.520" end="16:24:40.720" style="s2">password and a few different things so</p>
<p begin="16:24:37.680" end="16:24:43.756" style="s2">how do we do that well we can use</p>
<p begin="16:24:40.720" end="16:24:45.116" style="s2">parameterize right so let&#39;s import pest</p>
<p begin="16:24:43.756" end="16:24:48.276" style="s2">which we already</p>
<p begin="16:24:45.116" end="16:24:52.520" style="s2">have and we&#39;ll Define our decorator so</p>
<p begin="16:24:48.276" end="16:24:52.520" style="s2">pest. mark.</p>
<p begin="16:24:53.000" end="16:24:55.880" style="s2">parameterize uh so what are the</p>
<p begin="16:24:54.796" end="16:24:58.360" style="s2">properties that we want to pass we&#39;re</p>
<p begin="16:24:55.880" end="16:25:00.200" style="s2">going to give it the attempted email the</p>
<p begin="16:24:58.360" end="16:25:02.840" style="s2">attempted</p>
<p begin="16:25:00.200" end="16:25:05.240" style="s2">password uh and then we can also get the</p>
<p begin="16:25:02.840" end="16:25:05.240" style="s2">status</p>
<p begin="16:25:05.680" end="16:25:11.000" style="s2">code and we could also you know match on</p>
<p begin="16:25:09.240" end="16:25:12.240" style="s2">a specific detail message if you have a</p>
<p begin="16:25:11.000" end="16:25:14.160" style="s2">different detail message for wrong</p>
<p begin="16:25:12.240" end="16:25:16.360" style="s2">password wrong email but we don&#39;t so I&#39;m</p>
<p begin="16:25:14.160" end="16:25:18.436" style="s2">not going to include</p>
<p begin="16:25:16.360" end="16:25:21.596" style="s2">that and then now we&#39;ll just give an</p>
<p begin="16:25:18.436" end="16:25:23.680" style="s2">array uh with all of our why does it do</p>
<p begin="16:25:21.596" end="16:25:25.680" style="s2">that uh so we here we&#39;ll Define our</p>
<p begin="16:25:23.680" end="16:25:28.160" style="s2">tupal and I&#39;m going to copy and paste</p>
<p begin="16:25:25.680" end="16:25:30.000" style="s2">this part just because I don&#39;t want to</p>
<p begin="16:25:28.160" end="16:25:31.560" style="s2">have to make you guys sit through this</p>
<p begin="16:25:30.000" end="16:25:34.276" style="s2">but I&#39;ve got a couple of different test</p>
<p begin="16:25:31.560" end="16:25:37.000" style="s2">scenarios so here I&#39;ve got the email</p>
<p begin="16:25:34.276" end="16:25:40.116" style="s2">being wrong email at gmail.com with the</p>
<p begin="16:25:37.000" end="16:25:42.636" style="s2">correct password we expect a 403 I&#39;ve</p>
<p begin="16:25:40.116" end="16:25:45.680" style="s2">got the right email wrong password I&#39;ve</p>
<p begin="16:25:42.636" end="16:25:47.916" style="s2">got the wrong email wrong password um</p>
<p begin="16:25:45.680" end="16:25:49.360" style="s2">I&#39;ve also got uh no password sorry no</p>
<p begin="16:25:47.916" end="16:25:51.360" style="s2">email so if you put none this is</p>
<p begin="16:25:49.360" end="16:25:53.880" style="s2">essentially leaving it blank so with</p>
<p begin="16:25:51.360" end="16:25:56.116" style="s2">this set To None you&#39;ll see that our uh</p>
<p begin="16:25:53.880" end="16:25:57.680" style="s2">API actually will send a 422 because the</p>
<p begin="16:25:56.116" end="16:26:00.276" style="s2">scheme of validation fails because it</p>
<p begin="16:25:57.680" end="16:26:02.040" style="s2">expects a username or a password uh and</p>
<p begin="16:26:00.276" end="16:26:03.720" style="s2">then we&#39;ll try sending it with a correct</p>
<p begin="16:26:02.040" end="16:26:07.840" style="s2">email but no password at all we should</p>
<p begin="16:26:03.720" end="16:26:10.200" style="s2">get a 422 in this case because um pantic</p>
<p begin="16:26:07.840" end="16:26:11.400" style="s2">uh uh performed its validation and found</p>
<p begin="16:26:10.200" end="16:26:13.720" style="s2">that it was missing</p>
<p begin="16:26:11.400" end="16:26:15.240" style="s2">Fields so that&#39;s what I&#39;m doing here and</p>
<p begin="16:26:13.720" end="16:26:16.520" style="s2">then we&#39;re just going to update all of</p>
<p begin="16:26:15.240" end="16:26:19.520" style="s2">this so the</p>
<p begin="16:26:16.520" end="16:26:21.560" style="s2">email uh wait sorry yeah the email is no</p>
<p begin="16:26:19.520" end="16:26:25.956" style="s2">longer going to be test</p>
<p begin="16:26:21.560" end="16:26:27.276" style="s2">user um it&#39;s going to be</p>
<p begin="16:26:25.956" end="16:26:31.240" style="s2">well actually we first of all we have to</p>
<p begin="16:26:27.276" end="16:26:34.916" style="s2">pass it into our function so email</p>
<p begin="16:26:31.240" end="16:26:34.916" style="s2">password and status</p>
<p begin="16:26:36.160" end="16:26:41.956" style="s2">code so we&#39;ll say</p>
<p begin="16:26:38.520" end="16:26:45.436" style="s2">email password is going to be</p>
<p begin="16:26:41.956" end="16:26:48.040" style="s2">password and status code is going to be</p>
<p begin="16:26:45.436" end="16:26:50.436" style="s2">status code and we&#39;ll get rid of this</p>
<p begin="16:26:48.040" end="16:26:52.520" style="s2">check uh just because the invalid</p>
<p begin="16:26:50.436" end="16:26:55.520" style="s2">credentials won&#39;t apply when we get the</p>
<p begin="16:26:52.520" end="16:26:55.520" style="s2">422</p>
<p begin="16:26:57.200" end="16:27:00.000" style="s2">let&#39;s try this out</p>
<p begin="16:27:01.840" end="16:27:06.720" style="s2">now yep and we can see all of our tests</p>
<p begin="16:27:04.400" end="16:27:09.320" style="s2">have successfully passed so we have now</p>
<p begin="16:27:06.720" end="16:27:10.840" style="s2">finally set up a test for making sure</p>
<p begin="16:27:09.320" end="16:27:12.636" style="s2">that when a user does not provide the</p>
<p begin="16:27:10.840" end="16:27:15.276" style="s2">proper credentials we get the right</p>
<p begin="16:27:12.636" end="16:27:18.040" style="s2">response code and the right data</p>
<p begin="16:27:15.276" end="16:27:19.756" style="s2">back and keep in mind guys right in this</p>
<p begin="16:27:18.040" end="16:27:21.360" style="s2">case I just set this up to be a very</p>
<p begin="16:27:19.756" end="16:27:23.520" style="s2">simple test just to check on the status</p>
<p begin="16:27:21.360" end="16:27:25.160" style="s2">code but you could check any single</p>
<p begin="16:27:23.520" end="16:27:26.840" style="s2">field that you want want it&#39;s up to you</p>
<p begin="16:27:25.160" end="16:27:27.956" style="s2">you can make your tests as specific as</p>
<p begin="16:27:26.840" end="16:27:30.596" style="s2">possible you can make them a little bit</p>
<p begin="16:27:27.956" end="16:27:32.636" style="s2">more generic it&#39;s up to you to decide on</p>
<p begin="16:27:30.596" end="16:27:35.160" style="s2">what you want to validate yourself and</p>
<p begin="16:27:32.636" end="16:27:37.480" style="s2">like I said I&#39;m trying to keep this uh</p>
<p begin="16:27:35.160" end="16:27:39.040" style="s2">as basic as possible try to just make</p>
<p begin="16:27:37.480" end="16:27:41.000" style="s2">sure that we focus on how to actually</p>
<p begin="16:27:39.040" end="16:27:43.400" style="s2">create test and less on the actual</p>
<p begin="16:27:41.000" end="16:27:44.956" style="s2">specific test that&#39;s all of the things</p>
<p begin="16:27:43.400" end="16:27:47.796" style="s2">that I want to do for all of the user</p>
<p begin="16:27:44.956" end="16:27:50.160" style="s2">tests let&#39;s move on to uh all of the</p>
<p begin="16:27:47.796" end="16:27:52.400" style="s2">post test so test when it comes to</p>
<p begin="16:27:50.160" end="16:27:53.720" style="s2">creating reading updating and deleting</p>
<p begin="16:27:52.400" end="16:27:55.240" style="s2">posts so I&#39;m going to store this in a</p>
<p begin="16:27:53.720" end="16:27:57.956" style="s2">separate module just to keep things nice</p>
<p begin="16:27:55.240" end="16:27:59.200" style="s2">and organized however you can keep</p>
<p begin="16:27:57.956" end="16:28:01.320" style="s2">everything in one file if you really</p>
<p begin="16:27:59.200" end="16:28:04.720" style="s2">wanted to but no reason to do that so</p>
<p begin="16:28:01.320" end="16:28:07.880" style="s2">I&#39;ll call this testor post.</p>
<p begin="16:28:04.720" end="16:28:09.840" style="s2">py now when it comes to working with</p>
<p begin="16:28:07.880" end="16:28:12.320" style="s2">posts we do have to deal with a little</p>
<p begin="16:28:09.840" end="16:28:14.880" style="s2">bit of an extra Challenge and that is if</p>
<p begin="16:28:12.320" end="16:28:17.436" style="s2">you take a look at all of our post uh</p>
<p begin="16:28:14.880" end="16:28:20.360" style="s2">path operations they all require</p>
<p begin="16:28:17.436" end="16:28:23.720" style="s2">authentication so how exactly do we deal</p>
<p begin="16:28:20.360" end="16:28:24.956" style="s2">with authentication uh when it comes to</p>
<p begin="16:28:23.720" end="16:28:27.276" style="s2">testing</p>
<p begin="16:28:24.956" end="16:28:29.400" style="s2">well you&#39;re probably thinking you know</p>
<p begin="16:28:27.276" end="16:28:31.040" style="s2">we could you know Define a post uh</p>
<p begin="16:28:29.400" end="16:28:35.080" style="s2">Define a test and we can call this you</p>
<p begin="16:28:31.040" end="16:28:39.000" style="s2">know get all posts or something right</p>
<p begin="16:28:35.080" end="16:28:39.000" style="s2">and then here we can pass in</p>
<p begin="16:28:40.720" end="16:28:46.436" style="s2">client and then maybe test</p>
<p begin="16:28:44.040" end="16:28:49.400" style="s2">user so we have access to that and then</p>
<p begin="16:28:46.436" end="16:28:53.080" style="s2">we would just do you know client</p>
<p begin="16:28:49.400" end="16:28:55.436" style="s2">dopost login so we log in we get a token</p>
<p begin="16:28:53.080" end="16:28:57.000" style="s2">and then after after we get the token</p>
<p begin="16:28:55.436" end="16:28:59.276" style="s2">then we</p>
<p begin="16:28:57.000" end="16:29:01.680" style="s2">can um then we can make a request to</p>
<p begin="16:28:59.276" end="16:29:03.400" style="s2">post and that is technically valid but</p>
<p begin="16:29:01.680" end="16:29:05.200" style="s2">what I would like to do is I&#39;d ra I&#39;d</p>
<p begin="16:29:03.400" end="16:29:06.796" style="s2">rather set up a fixture that</p>
<p begin="16:29:05.200" end="16:29:09.276" style="s2">automatically does this for us but</p>
<p begin="16:29:06.796" end="16:29:12.400" style="s2">instead of um but instead of actually</p>
<p begin="16:29:09.276" end="16:29:15.680" style="s2">making a request uh to our API I want to</p>
<p begin="16:29:12.400" end="16:29:18.400" style="s2">just import the the method the oo 2</p>
<p begin="16:29:15.680" end="16:29:20.080" style="s2">method for uh creating an access token</p>
<p begin="16:29:18.400" end="16:29:21.480" style="s2">so we can just import this into our test</p>
<p begin="16:29:20.080" end="16:29:23.116" style="s2">so that we can actually fake our own</p>
<p begin="16:29:21.480" end="16:29:26.320" style="s2">token or create our own token without</p>
<p begin="16:29:23.116" end="16:29:28.560" style="s2">having to use the entire API and go all</p>
<p begin="16:29:26.320" end="16:29:29.956" style="s2">the way through um back into this same</p>
<p begin="16:29:28.560" end="16:29:31.160" style="s2">exact method to get a token cuz that</p>
<p begin="16:29:29.956" end="16:29:32.040" style="s2">seems like a waste and we&#39;re testing a</p>
<p begin="16:29:31.160" end="16:29:35.040" style="s2">whole bunch of other things that we</p>
<p begin="16:29:32.040" end="16:29:35.956" style="s2">don&#39;t want to test in this specific test</p>
<p begin="16:29:35.040" end="16:29:37.116" style="s2">so what we&#39;re going to do is we&#39;re going</p>
<p begin="16:29:35.956" end="16:29:40.916" style="s2">to go to comp</p>
<p begin="16:29:37.116" end="16:29:43.636" style="s2">test and I&#39;m going to create a new</p>
<p begin="16:29:40.916" end="16:29:46.880" style="s2">fixture I&#39;m going to grab</p>
<p begin="16:29:43.636" end="16:29:49.000" style="s2">this and I&#39;m going to call this token so</p>
<p begin="16:29:46.880" end="16:29:50.916" style="s2">we&#39;ll say token and this is going to be</p>
<p begin="16:29:49.000" end="16:29:52.756" style="s2">dependent on test user so we need a user</p>
<p begin="16:29:50.916" end="16:29:55.360" style="s2">to get created first before we run this</p>
<p begin="16:29:52.756" end="16:29:56.200" style="s2">fixture</p>
<p begin="16:29:55.360" end="16:29:58.560" style="s2">and what we&#39;re going to do is we&#39;re</p>
<p begin="16:29:56.200" end="16:30:00.636" style="s2">going to import this</p>
<p begin="16:29:58.560" end="16:30:03.796" style="s2">specific uh function right here create</p>
<p begin="16:30:00.636" end="16:30:03.796" style="s2">access token from oath</p>
<p begin="16:30:07.320" end="16:30:16.320" style="s2">2 and so I&#39;ll go from app. oo2 import</p>
<p begin="16:30:13.636" end="16:30:16.320" style="s2">create access</p>
<p begin="16:30:17.956" end="16:30:22.756" style="s2">token and just to quickly recap on how</p>
<p begin="16:30:20.880" end="16:30:24.956" style="s2">that function works we pass in a</p>
<p begin="16:30:22.756" end="16:30:29.476" style="s2">dictionary um but I don&#39;t actually know</p>
<p begin="16:30:24.956" end="16:30:33.040" style="s2">what is in the dictionary uh so let&#39;s go</p>
<p begin="16:30:29.476" end="16:30:34.040" style="s2">to uh where is this who calls this I</p>
<p begin="16:30:33.040" end="16:30:37.360" style="s2">think</p>
<p begin="16:30:34.040" end="16:30:39.840" style="s2">it&#39;s uh no it should be under users yeah</p>
<p begin="16:30:37.360" end="16:30:42.160" style="s2">so create</p>
<p begin="16:30:39.840" end="16:30:43.560" style="s2">user No it should be under login so</p>
<p begin="16:30:42.160" end="16:30:46.596" style="s2">under login this is where we create the</p>
<p begin="16:30:43.560" end="16:30:49.040" style="s2">token so we pass in uh data which is</p>
<p begin="16:30:46.596" end="16:30:51.360" style="s2">just a a property called user ID and</p>
<p begin="16:30:49.040" end="16:30:55.840" style="s2">then we pass in the ID that&#39;s all pretty</p>
<p begin="16:30:51.360" end="16:30:55.840" style="s2">straightforward uh so we can do that</p>
<p begin="16:30:59.116" end="16:31:02.400" style="s2">so I&#39;ll call create access</p>
<p begin="16:31:02.720" end="16:31:09.000" style="s2">token and it&#39;s going to be a dictionary</p>
<p begin="16:31:04.916" end="16:31:10.916" style="s2">and we call this what is it user ID and</p>
<p begin="16:31:09.000" end="16:31:13.160" style="s2">we&#39;re going to pass in and we can get</p>
<p begin="16:31:10.916" end="16:31:14.436" style="s2">the ID of the user from testore user</p>
<p begin="16:31:13.160" end="16:31:16.000" style="s2">which is being passed in and we&#39;ll grab</p>
<p begin="16:31:14.436" end="16:31:19.080" style="s2">the ID</p>
<p begin="16:31:16.000" end="16:31:21.680" style="s2">property and we&#39;ll just return this so</p>
<p begin="16:31:19.080" end="16:31:23.560" style="s2">this is going to return a token and</p>
<p begin="16:31:21.680" end="16:31:24.756" style="s2">that&#39;s why we call this function token</p>
<p begin="16:31:23.560" end="16:31:26.840" style="s2">then what I&#39;m going to do is I&#39;m going</p>
<p begin="16:31:24.756" end="16:31:28.560" style="s2">to create another fixture I know there&#39;s</p>
<p begin="16:31:26.840" end="16:31:29.636" style="s2">a lot of fixtures here but you&#39;ll</p>
<p begin="16:31:28.560" end="16:31:30.756" style="s2">understand why I want to do this so I&#39;ll</p>
<p begin="16:31:29.636" end="16:31:35.200" style="s2">do</p>
<p begin="16:31:30.756" end="16:31:38.160" style="s2">Def and here I&#39;m going to call this</p>
<p begin="16:31:35.200" end="16:31:40.040" style="s2">authorized undor client the reason I&#39;m</p>
<p begin="16:31:38.160" end="16:31:42.436" style="s2">calling that is um if we take a look at</p>
<p begin="16:31:40.040" end="16:31:45.276" style="s2">our current client this just gives us an</p>
<p begin="16:31:42.436" end="16:31:47.400" style="s2">unauthenticated client this new fixture</p>
<p begin="16:31:45.276" end="16:31:49.840" style="s2">will give us a authenticated client so</p>
<p begin="16:31:47.400" end="16:31:51.596" style="s2">anytime we want to uh deal with any path</p>
<p begin="16:31:49.840" end="16:31:53.040" style="s2">operations that require authentication</p>
<p begin="16:31:51.596" end="16:31:54.560" style="s2">we can just call this client the</p>
<p begin="16:31:53.040" end="16:31:56.320" style="s2">authorized client in of the regular</p>
<p begin="16:31:54.560" end="16:31:58.240" style="s2">client so that&#39;s going to save us a lot</p>
<p begin="16:31:56.320" end="16:32:00.840" style="s2">of</p>
<p begin="16:31:58.240" end="16:32:03.956" style="s2">time and this is going to require the</p>
<p begin="16:32:00.840" end="16:32:06.360" style="s2">regular client and token because we need</p>
<p begin="16:32:03.956" end="16:32:06.360" style="s2">to get a</p>
<p begin="16:32:08.116" end="16:32:11.796" style="s2">token all right so we have access to the</p>
<p begin="16:32:10.200" end="16:32:13.956" style="s2">original client and what we can do is we</p>
<p begin="16:32:11.796" end="16:32:15.200" style="s2">can update the headers um because we</p>
<p begin="16:32:13.956" end="16:32:17.436" style="s2">need to pass the token inside the</p>
<p begin="16:32:15.200" end="16:32:20.320" style="s2">headers so we do client.</p>
<p begin="16:32:17.436" end="16:32:22.596" style="s2">headers and then we have to pass in a</p>
<p begin="16:32:20.320" end="16:32:24.636" style="s2">dictionary and what we want to do is we</p>
<p begin="16:32:22.596" end="16:32:27.476" style="s2">want to spread out all of the current</p>
<p begin="16:32:24.636" end="16:32:29.000" style="s2">headers so we do client. headers and</p>
<p begin="16:32:27.476" end="16:32:31.636" style="s2">then we want to add one more which is</p>
<p begin="16:32:29.000" end="16:32:31.636" style="s2">going to be the</p>
<p begin="16:32:32.160" end="16:32:35.400" style="s2">authorization and this is going to be an</p>
<p begin="16:32:34.000" end="16:32:39.200" style="s2">F string because we need to add the word</p>
<p begin="16:32:35.400" end="16:32:42.200" style="s2">Bearer before it and then we can pass</p>
<p begin="16:32:39.200" end="16:32:42.200" style="s2">in</p>
<p begin="16:32:43.200" end="16:32:47.956" style="s2">token and then we&#39;ll return this client</p>
<p begin="16:32:46.560" end="16:32:49.400" style="s2">so it&#39;s basically taking the original</p>
<p begin="16:32:47.956" end="16:32:51.040" style="s2">client and then just adding this</p>
<p begin="16:32:49.400" end="16:32:55.360" style="s2">specific header that we get from the</p>
<p begin="16:32:51.040" end="16:32:55.360" style="s2">token fixture that&#39;s all</p>
<p begin="16:32:57.720" end="16:33:01.880" style="s2">and so now when we go into uh get all</p>
<p begin="16:33:03.276" end="16:33:07.000" style="s2">posts and I forgot to put the word test</p>
<p begin="16:33:05.720" end="16:33:09.916" style="s2">before</p>
<p begin="16:33:07.000" end="16:33:12.840" style="s2">it instead of client we want to import</p>
<p begin="16:33:09.916" end="16:33:12.840" style="s2">authorized</p>
<p begin="16:33:15.360" end="16:33:20.360" style="s2">client we don&#39;t necessarily need test</p>
<p begin="16:33:17.680" end="16:33:23.436" style="s2">user at this point it&#39;ll automatically</p>
<p begin="16:33:20.360" end="16:33:26.160" style="s2">get called because you know this calls</p>
<p begin="16:33:23.436" end="16:33:29.000" style="s2">token token calls test user uh we only</p>
<p begin="16:33:26.160" end="16:33:31.476" style="s2">need to pass in uh test user if we want</p>
<p begin="16:33:29.000" end="16:33:32.756" style="s2">access to specific user data but we&#39;re</p>
<p begin="16:33:31.476" end="16:33:36.596" style="s2">not using any of the information at the</p>
<p begin="16:33:32.756" end="16:33:40.160" style="s2">moment so I&#39;ll do authorized client.</p>
<p begin="16:33:36.596" end="16:33:40.160" style="s2">getet and it&#39;s going to be</p>
<p begin="16:33:41.560" end="16:33:48.636" style="s2">slost we&#39;ll set the response equal to</p>
<p begin="16:33:46.436" end="16:33:51.116" style="s2">that and we&#39;ll just do a</p>
<p begin="16:33:48.636" end="16:33:54.320" style="s2">print res. Json just to see what that</p>
<p begin="16:33:51.116" end="16:33:55.956" style="s2">looks like</p>
<p begin="16:33:54.320" end="16:33:57.360" style="s2">and I believe the status code should be</p>
<p begin="16:33:55.956" end="16:34:01.720" style="s2">at 200 because we&#39;re retrieving data so</p>
<p begin="16:33:57.360" end="16:34:04.636" style="s2">I&#39;ll do res. status code equals equals</p>
<p begin="16:34:01.720" end="16:34:07.560" style="s2">200 let&#39;s just take a look and see what</p>
<p begin="16:34:04.636" end="16:34:07.560" style="s2">exactly is happening</p>
<p begin="16:34:07.680" end="16:34:11.916" style="s2">here and now it&#39;s going to be test</p>
<p begin="16:34:15.000" end="16:34:20.360" style="s2">post and we get an error so let&#39;s see</p>
<p begin="16:34:17.840" end="16:34:23.360" style="s2">what happened authorized client not</p>
<p begin="16:34:20.360" end="16:34:26.160" style="s2">found so let&#39;s I think I forgot to save</p>
<p begin="16:34:23.360" end="16:34:26.160" style="s2">let&#39;s try this</p>
<p begin="16:34:26.520" end="16:34:30.720" style="s2">again and I forgot to turn this into a</p>
<p begin="16:34:29.000" end="16:34:32.796" style="s2">fixture so right now it&#39;s just a regular</p>
<p begin="16:34:30.720" end="16:34:36.680" style="s2">function so let&#39;s make sure I add the</p>
<p begin="16:34:32.796" end="16:34:36.680" style="s2">fixture there so it&#39;s accessible to</p>
<p begin="16:34:37.000" end="16:34:41.080" style="s2">everyone and now if I run</p>
<p begin="16:34:41.240" end="16:34:45.596" style="s2">this okay so one passed let&#39;s take a</p>
<p begin="16:34:43.840" end="16:34:47.680" style="s2">look at the data that we got back so</p>
<p begin="16:34:45.596" end="16:34:51.000" style="s2">when I did a</p>
<p begin="16:34:47.680" end="16:34:53.240" style="s2">print uh print of res. Json to see the</p>
<p begin="16:34:51.000" end="16:34:55.200" style="s2">data I got an empty array and the reason</p>
<p begin="16:34:53.240" end="16:34:56.880" style="s2">we got an empty array is that there&#39;s no</p>
<p begin="16:34:55.200" end="16:34:59.596" style="s2">test data in our database there&#39;s no</p>
<p begin="16:34:56.880" end="16:35:01.276" style="s2">test posts uh you know so we&#39;re going to</p>
<p begin="16:34:59.596" end="16:35:02.560" style="s2">have to actually create some test posts</p>
<p begin="16:35:01.276" end="16:35:05.116" style="s2">before we run this test so that we can</p>
<p begin="16:35:02.560" end="16:35:06.560" style="s2">actually verify that we got what we</p>
<p begin="16:35:05.116" end="16:35:09.160" style="s2">expected to</p>
<p begin="16:35:06.560" end="16:35:12.276" style="s2">get so just like we did with the login</p>
<p begin="16:35:09.160" end="16:35:13.520" style="s2">user where we created a test user before</p>
<p begin="16:35:12.276" end="16:35:15.040" style="s2">we&#39;re going to have to do this with our</p>
<p begin="16:35:13.520" end="16:35:17.040" style="s2">post we need to create a whole bunch of</p>
<p begin="16:35:15.040" end="16:35:18.840" style="s2">posts and then verify that we are able</p>
<p begin="16:35:17.040" end="16:35:21.240" style="s2">to retrieve those posts so we&#39;ll tackle</p>
<p begin="16:35:18.840" end="16:35:24.200" style="s2">that in the next video so let&#39;s create a</p>
<p begin="16:35:21.240" end="16:35:26.636" style="s2">fixture that will create a few initial</p>
<p begin="16:35:24.200" end="16:35:28.680" style="s2">posts so that we can uh actually test</p>
<p begin="16:35:26.636" end="16:35:30.476" style="s2">retrieving all posts and we can use that</p>
<p begin="16:35:28.680" end="16:35:32.400" style="s2">same fixture for performing a few other</p>
<p begin="16:35:30.476" end="16:35:33.636" style="s2">tests so things like updating a post</p>
<p begin="16:35:32.400" end="16:35:35.840" style="s2">right we would need to have a post in</p>
<p begin="16:35:33.636" end="16:35:37.596" style="s2">our database to update a post same thing</p>
<p begin="16:35:35.840" end="16:35:39.560" style="s2">with deleting same thing with getting an</p>
<p begin="16:35:37.596" end="16:35:41.476" style="s2">individual post so this fixture is</p>
<p begin="16:35:39.560" end="16:35:43.240" style="s2">definitely going to be very reusable</p>
<p begin="16:35:41.476" end="16:35:45.040" style="s2">across a lot of our tests let&#39;s figure</p>
<p begin="16:35:43.240" end="16:35:47.000" style="s2">out where we want to store our fixture</p>
<p begin="16:35:45.040" end="16:35:49.680" style="s2">we could keep it in our test app posts</p>
<p begin="16:35:47.000" end="16:35:53.720" style="s2">testore post file because um all of our</p>
<p begin="16:35:49.680" end="16:35:56.040" style="s2">posts uh all of our test posts sorry our</p>
<p begin="16:35:53.720" end="16:35:58.000" style="s2">tests for post dat I guess if you want</p>
<p begin="16:35:56.040" end="16:36:00.680" style="s2">to call that will require that fixture</p>
<p begin="16:35:58.000" end="16:36:03.560" style="s2">probably however there are going to be</p>
<p begin="16:36:00.680" end="16:36:05.636" style="s2">other tests in our application that will</p>
<p begin="16:36:03.560" end="16:36:06.956" style="s2">need posts initially so when you want to</p>
<p begin="16:36:05.636" end="16:36:08.796" style="s2">vote we need a post already in our</p>
<p begin="16:36:06.956" end="16:36:10.520" style="s2">database so I&#39;m actually going to put it</p>
<p begin="16:36:08.796" end="16:36:12.320" style="s2">in our conf test file so that you know</p>
<p begin="16:36:10.520" end="16:36:14.636" style="s2">everyone has access to it well</p>
<p begin="16:36:12.320" end="16:36:16.596" style="s2">technically anyone can access any uh</p>
<p begin="16:36:14.636" end="16:36:18.000" style="s2">fixture if they import it but having it</p>
<p begin="16:36:16.596" end="16:36:19.040" style="s2">in the comp test file makes it simpler</p>
<p begin="16:36:18.000" end="16:36:20.956" style="s2">because we don&#39;t have to import it so</p>
<p begin="16:36:19.040" end="16:36:22.720" style="s2">I&#39;m going to put it in here and I&#39;m</p>
<p begin="16:36:20.956" end="16:36:24.436" style="s2">gonna this this fixture is going to be a</p>
<p begin="16:36:22.720" end="16:36:26.720" style="s2">little bit different just because we&#39;re</p>
<p begin="16:36:24.436" end="16:36:28.916" style="s2">actually going to create the posts uh in</p>
<p begin="16:36:26.720" end="16:36:31.240" style="s2">the database</p>
<p begin="16:36:28.916" end="16:36:34.636" style="s2">ourselves so here I&#39;m going to call this</p>
<p begin="16:36:31.240" end="16:36:34.636" style="s2">uh testore</p>
<p begin="16:36:34.720" end="16:36:40.000" style="s2">posts and so what we need is a couple</p>
<p begin="16:36:38.360" end="16:36:42.000" style="s2">things so first of all we need a test</p>
<p begin="16:36:40.000" end="16:36:43.436" style="s2">user because if we don&#39;t have a user we</p>
<p begin="16:36:42.000" end="16:36:45.680" style="s2">can&#39;t create posts because all posts</p>
<p begin="16:36:43.436" end="16:36:46.560" style="s2">need to be associated with the user um</p>
<p begin="16:36:45.680" end="16:36:48.400" style="s2">since we&#39;re going to work with the</p>
<p begin="16:36:46.560" end="16:36:51.400" style="s2">database we&#39;re going to pass in session</p>
<p begin="16:36:48.400" end="16:36:51.400" style="s2">also</p>
<p begin="16:36:54.276" end="16:37:02.276" style="s2">all right and let&#39;s define some post</p>
<p begin="16:36:58.160" end="16:37:02.276" style="s2">data so I&#39;m going to create an</p>
<p begin="16:37:04.276" end="16:37:09.000" style="s2">array of dictionaries and I&#39;m actually</p>
<p begin="16:37:07.436" end="16:37:10.400" style="s2">going to copy and paste some data just</p>
<p begin="16:37:09.000" end="16:37:12.840" style="s2">because I don&#39;t want you guys to sit and</p>
<p begin="16:37:10.400" end="16:37:12.840" style="s2">watch as</p>
<p begin="16:37:18.680" end="16:37:23.596" style="s2">usual all right so what we&#39;re doing here</p>
<p begin="16:37:20.880" end="16:37:25.400" style="s2">now is we&#39;re creating three posts so in</p>
<p begin="16:37:23.596" end="16:37:27.476" style="s2">this post data I have an array or sorry</p>
<p begin="16:37:25.400" end="16:37:29.636" style="s2">in a list uh and then a dictionary and</p>
<p begin="16:37:27.476" end="16:37:33.000" style="s2">then here we&#39;re providing the title and</p>
<p begin="16:37:29.636" end="16:37:34.840" style="s2">the content and the owner ID all right</p>
<p begin="16:37:33.000" end="16:37:36.116" style="s2">so that&#39;s going to create a post and</p>
<p begin="16:37:34.840" end="16:37:37.680" style="s2">we&#39;re grabbing the owner ID from the</p>
<p begin="16:37:36.116" end="16:37:39.276" style="s2">test user fixture and we&#39;re just going</p>
<p begin="16:37:37.680" end="16:37:40.436" style="s2">to grab the ID from that so we&#39;re</p>
<p begin="16:37:39.276" end="16:37:41.880" style="s2">setting the owner ID and then I&#39;m just</p>
<p begin="16:37:40.436" end="16:37:43.636" style="s2">going to create another post here and</p>
<p begin="16:37:41.880" end="16:37:46.040" style="s2">another post here so the same user is</p>
<p begin="16:37:43.636" end="16:37:47.916" style="s2">essentially creating three posts uh and</p>
<p begin="16:37:46.040" end="16:37:49.840" style="s2">so now since we have access to session</p>
<p begin="16:37:47.916" end="16:37:51.436" style="s2">we can actually just directly tap into</p>
<p begin="16:37:49.840" end="16:37:55.116" style="s2">our database and create that information</p>
<p begin="16:37:51.436" end="16:37:57.880" style="s2">for us for those posts</p>
<p begin="16:37:55.116" end="16:38:02.276" style="s2">so we can do uh well the when it comes</p>
<p begin="16:37:57.880" end="16:38:04.756" style="s2">to SQL Alchemy uh if you want to add</p>
<p begin="16:38:02.276" end="16:38:08.080" style="s2">multiple entries into a database we have</p>
<p begin="16:38:04.756" end="16:38:12.160" style="s2">access to the add all method so we can</p>
<p begin="16:38:08.080" end="16:38:17.160" style="s2">call session. addore</p>
<p begin="16:38:12.160" end="16:38:17.160" style="s2">all and then here we have to pass in a</p>
<p begin="16:38:18.080" end="16:38:24.756" style="s2">list of user models so we this would be</p>
<p begin="16:38:22.240" end="16:38:27.080" style="s2">you know schemas sorry not schemas we&#39;d</p>
<p begin="16:38:24.756" end="16:38:29.596" style="s2">actually have to import</p>
<p begin="16:38:27.080" end="16:38:31.916" style="s2">models so I&#39;m going to import do I have</p>
<p begin="16:38:29.596" end="16:38:34.320" style="s2">models already in here doesn&#39;t look like</p>
<p begin="16:38:31.916" end="16:38:38.436" style="s2">it uh so I&#39;ll import that as well so</p>
<p begin="16:38:34.320" end="16:38:39.956" style="s2">we&#39;ll say from App dot we just say from</p>
<p begin="16:38:38.436" end="16:38:42.956" style="s2">App</p>
<p begin="16:38:39.956" end="16:38:42.956" style="s2">import</p>
<p begin="16:38:43.956" end="16:38:51.520" style="s2">models and I can say models do</p>
<p begin="16:38:49.320" end="16:38:52.880" style="s2">user so we&#39;ll create a new user model</p>
<p begin="16:38:51.520" end="16:38:54.916" style="s2">and then we have to pass in all of this</p>
<p begin="16:38:52.880" end="16:38:58.116" style="s2">data so right we would need to be title</p>
<p begin="16:38:54.916" end="16:39:02.476" style="s2">equals you know blah and</p>
<p begin="16:38:58.116" end="16:39:04.476" style="s2">then uh then content equals blah and</p>
<p begin="16:39:02.476" end="16:39:08.276" style="s2">then we&#39;d have to do another one so I&#39;d</p>
<p begin="16:39:04.476" end="16:39:08.276" style="s2">copy this paste this in</p>
<p begin="16:39:09.680" end="16:39:15.320" style="s2">here uh and so on and then this would</p>
<p begin="16:39:12.200" end="16:39:18.560" style="s2">add it all at once uh now I can manually</p>
<p begin="16:39:15.320" end="16:39:20.520" style="s2">hardcode this value uh into here just to</p>
<p begin="16:39:18.560" end="16:39:22.080" style="s2">kind of keep things simple and I could</p>
<p begin="16:39:20.520" end="16:39:24.636" style="s2">do that and actually I will show you how</p>
<p begin="16:39:22.080" end="16:39:25.796" style="s2">to do that just just just to in case but</p>
<p begin="16:39:24.636" end="16:39:28.160" style="s2">I&#39;ll show you what I did when I was</p>
<p begin="16:39:25.796" end="16:39:31.436" style="s2">doing a dry run so I&#39;ll copy the title</p>
<p begin="16:39:28.160" end="16:39:31.436" style="s2">this is going to be set to First</p>
<p begin="16:39:31.840" end="16:39:36.360" style="s2">Title uh the second title is going to be</p>
<p begin="16:39:36.680" end="16:39:39.680" style="s2">here</p>
<p begin="16:39:41.840" end="16:39:45.476" style="s2">content and second</p>
<p begin="16:39:45.956" end="16:39:50.436" style="s2">content and then the owner ID is going</p>
<p begin="16:39:47.956" end="16:39:53.756" style="s2">to be the same for both luckily well all</p>
<p begin="16:39:50.436" end="16:39:53.756" style="s2">three actually</p>
<p begin="16:40:00.200" end="16:40:07.320" style="s2">and that&#39;s not in the right</p>
<p begin="16:40:03.000" end="16:40:11.040" style="s2">format oh don&#39;t do that it should be</p>
<p begin="16:40:07.320" end="16:40:11.040" style="s2">equals and the same thing</p>
<p begin="16:40:15.796" end="16:40:21.276" style="s2">here and if we wanted to we can copy</p>
<p begin="16:40:18.240" end="16:40:25.560" style="s2">this last one and then put the third one</p>
<p begin="16:40:21.276" end="16:40:28.520" style="s2">in this will be called third</p>
<p begin="16:40:25.560" end="16:40:31.116" style="s2">title third content all right let&#39;s save</p>
<p begin="16:40:28.520" end="16:40:32.880" style="s2">this the auto formatter did not do much</p>
<p begin="16:40:31.116" end="16:40:34.360" style="s2">to help me out here still looks pretty</p>
<p begin="16:40:32.880" end="16:40:37.000" style="s2">ugly but that&#39;s</p>
<p begin="16:40:34.360" end="16:40:38.680" style="s2">okay uh and so that&#39;s one way of doing</p>
<p begin="16:40:37.000" end="16:40:42.880" style="s2">this so it&#39;ll add it all and then all we</p>
<p begin="16:40:38.680" end="16:40:45.320" style="s2">have to do is just do a session.</p>
<p begin="16:40:42.880" end="16:40:47.560" style="s2">commit and then to get all the data back</p>
<p begin="16:40:45.320" end="16:40:51.240" style="s2">I can just do a session.</p>
<p begin="16:40:47.560" end="16:40:54.400" style="s2">query and we&#39;ll just say models. poost</p>
<p begin="16:40:51.240" end="16:40:55.880" style="s2">oh this should be user by the way not</p>
<p begin="16:40:54.400" end="16:40:59.200" style="s2">I mean this should be post not user</p>
<p begin="16:40:55.880" end="16:40:59.200" style="s2">because we&#39;re creating a post and not a</p>
<p begin="16:41:05.116" end="16:41:09.240" style="s2">user we&#39;ll say models.</p>
<p begin="16:41:09.596" end="16:41:14.360" style="s2">poost and we can just grab all of</p>
<p begin="16:41:12.276" end="16:41:16.080" style="s2">them now if you wanted to be able to</p>
<p begin="16:41:14.360" end="16:41:18.116" style="s2">take this dictionary and convert it</p>
<p begin="16:41:16.080" end="16:41:20.160" style="s2">easily to this format uh there&#39;s a</p>
<p begin="16:41:18.116" end="16:41:21.320" style="s2">couple things you have to do um but</p>
<p begin="16:41:20.160" end="16:41:22.956" style="s2">technically you could just leave it like</p>
<p begin="16:41:21.320" end="16:41:24.520" style="s2">this and it&#39;ll work fine but just to</p>
<p begin="16:41:22.956" end="16:41:26.040" style="s2">this a little bit more of python than</p>
<p begin="16:41:24.520" end="16:41:28.320" style="s2">anything else if you didn&#39;t want to</p>
<p begin="16:41:26.040" end="16:41:29.956" style="s2">hardcode it in like this because at this</p>
<p begin="16:41:28.320" end="16:41:31.560" style="s2">point we don&#39;t even need this dictionary</p>
<p begin="16:41:29.956" end="16:41:34.560" style="s2">but if you wanted to take this</p>
<p begin="16:41:31.560" end="16:41:38.080" style="s2">dictionary uh and convert it into a list</p>
<p begin="16:41:34.560" end="16:41:42.160" style="s2">of user models oh sorry post models what</p>
<p begin="16:41:38.080" end="16:41:44.796" style="s2">we can do is we can use the map function</p>
<p begin="16:41:42.160" end="16:41:47.956" style="s2">and so the map function works like this</p>
<p begin="16:41:44.796" end="16:41:49.200" style="s2">you call map then you call some function</p>
<p begin="16:41:47.956" end="16:41:51.756" style="s2">that you define</p>
<p begin="16:41:49.200" end="16:41:54.880" style="s2">yourself and then you call the</p>
<p begin="16:41:51.756" end="16:41:56.840" style="s2">postscore uh d data list that we have up</p>
<p begin="16:41:54.880" end="16:41:58.080" style="s2">here and so this function what it&#39;s</p>
<p begin="16:41:56.840" end="16:42:00.320" style="s2">going to do is it&#39;s going to iterate</p>
<p begin="16:41:58.080" end="16:42:01.916" style="s2">through this list and it&#39;s going to take</p>
<p begin="16:42:00.320" end="16:42:04.080" style="s2">each item in the list which is a</p>
<p begin="16:42:01.916" end="16:42:07.680" style="s2">dictionary and it&#39;s going to convert it</p>
<p begin="16:42:04.080" end="16:42:09.476" style="s2">into a models. poost so how exactly does</p>
<p begin="16:42:07.680" end="16:42:11.560" style="s2">that look well let&#39;s first of all let&#39;s</p>
<p begin="16:42:09.476" end="16:42:14.840" style="s2">rename this and I&#39;m just going to call</p>
<p begin="16:42:11.560" end="16:42:19.040" style="s2">this maybe uh create user</p>
<p begin="16:42:14.840" end="16:42:19.040" style="s2">model and I&#39;ll Define a function up</p>
<p begin="16:42:19.680" end="16:42:25.240" style="s2">here and I don&#39;t know why I keep saying</p>
<p begin="16:42:21.720" end="16:42:29.320" style="s2">User it&#39;s a post we reading posts not</p>
<p begin="16:42:25.240" end="16:42:29.320" style="s2">users create postore</p>
<p begin="16:42:31.520" end="16:42:37.000" style="s2">model and this is going to get passed in</p>
<p begin="16:42:33.840" end="16:42:38.276" style="s2">some uh some some object but technically</p>
<p begin="16:42:37.000" end="16:42:41.400" style="s2">what&#39;s going to get passed into this</p>
<p begin="16:42:38.276" end="16:42:43.880" style="s2">function is each dictionary so I&#39;ll call</p>
<p begin="16:42:41.400" end="16:42:45.956" style="s2">this uh postore</p>
<p begin="16:42:43.880" end="16:42:48.560" style="s2">data well actually don&#39;t call it post</p>
<p begin="16:42:45.956" end="16:42:51.040" style="s2">data I&#39;ll just call this</p>
<p begin="16:42:48.560" end="16:42:53.400" style="s2">post and so we have to put the logic of</p>
<p begin="16:42:51.040" end="16:42:56.116" style="s2">converting a dictionary</p>
<p begin="16:42:53.400" end="16:43:00.880" style="s2">into a post model and that&#39;s pretty easy</p>
<p begin="16:42:56.116" end="16:43:04.160" style="s2">all we have to do is just say models.</p>
<p begin="16:43:00.880" end="16:43:06.880" style="s2">poost and then we take post and then we</p>
<p begin="16:43:04.160" end="16:43:09.636" style="s2">spread it that&#39;s it all right so what&#39;s</p>
<p begin="16:43:06.880" end="16:43:10.916" style="s2">happening here is we&#39;re taking the a</p>
<p begin="16:43:09.636" end="16:43:12.916" style="s2">dictionary which is what it&#39;s going to</p>
<p begin="16:43:10.916" end="16:43:14.560" style="s2">get passed into here and then we&#39;re</p>
<p begin="16:43:12.916" end="16:43:16.520" style="s2">taking it and spreading it so it looks</p>
<p begin="16:43:14.560" end="16:43:21.476" style="s2">like title equals blah content equals</p>
<p begin="16:43:16.520" end="16:43:21.476" style="s2">blah and then we can just return that</p>
<p begin="16:43:26.000" end="16:43:30.756" style="s2">and then this map we just set it equal</p>
<p begin="16:43:27.720" end="16:43:33.116" style="s2">to some variable I&#39;ll call this maybe um</p>
<p begin="16:43:30.756" end="16:43:33.116" style="s2">post</p>
<p begin="16:43:33.596" end="16:43:40.240" style="s2">map and I&#39;m forgetting an e okay so then</p>
<p begin="16:43:37.000" end="16:43:41.880" style="s2">so that&#39;s going to return um so that&#39;s</p>
<p begin="16:43:40.240" end="16:43:43.720" style="s2">going to so that&#39;s going to essentially</p>
<p begin="16:43:41.880" end="16:43:45.956" style="s2">convert all of those to user models but</p>
<p begin="16:43:43.720" end="16:43:48.320" style="s2">it doesn&#39;t return a list it it returns a</p>
<p begin="16:43:45.956" end="16:43:50.040" style="s2">map which isn&#39;t quite the same thing so</p>
<p begin="16:43:48.320" end="16:43:53.796" style="s2">to convert it to a list all we have to</p>
<p begin="16:43:50.040" end="16:43:57.240" style="s2">do is then say um posts</p>
<p begin="16:43:53.796" end="16:43:59.040" style="s2">equals and we just say list and then</p>
<p begin="16:43:57.240" end="16:44:01.796" style="s2">postore map so that&#39;ll convert it to a</p>
<p begin="16:43:59.040" end="16:44:03.560" style="s2">list and then under session. add all</p>
<p begin="16:44:01.796" end="16:44:07.596" style="s2">instead of hard coding those values I</p>
<p begin="16:44:03.560" end="16:44:10.116" style="s2">could just say session. addore all and I</p>
<p begin="16:44:07.596" end="16:44:13.320" style="s2">just pass in posts and we can just</p>
<p begin="16:44:10.116" end="16:44:15.680" style="s2">comment out this line right</p>
<p begin="16:44:13.320" end="16:44:18.080" style="s2">here either one works choose whichever</p>
<p begin="16:44:15.680" end="16:44:19.476" style="s2">one you like I don&#39;t really care um but</p>
<p begin="16:44:18.080" end="16:44:21.360" style="s2">this is all we need to do we just have</p>
<p begin="16:44:19.476" end="16:44:25.080" style="s2">to return</p>
<p begin="16:44:21.360" end="16:44:28.400" style="s2">this so I&#39;ll save this as</p>
<p begin="16:44:25.080" end="16:44:31.720" style="s2">posts and we&#39;ll return</p>
<p begin="16:44:28.400" end="16:44:34.116" style="s2">posts and that should create three posts</p>
<p begin="16:44:31.720" end="16:44:38.680" style="s2">in our database and so now if I go to</p>
<p begin="16:44:34.116" end="16:44:42.476" style="s2">test posts and make this reliant on uh</p>
<p begin="16:44:38.680" end="16:44:42.476" style="s2">what did I call it get uh test</p>
<p begin="16:44:47.756" end="16:44:53.680" style="s2">post if I then run</p>
<p begin="16:44:51.276" end="16:44:55.080" style="s2">this right you can see that we did in</p>
<p begin="16:44:53.680" end="16:44:57.756" style="s2">fact</p>
<p begin="16:44:55.080" end="16:45:00.756" style="s2">get multiple test</p>
<p begin="16:44:57.756" end="16:45:03.840" style="s2">posts and it&#39;s up to you to decide what</p>
<p begin="16:45:00.756" end="16:45:07.636" style="s2">checks you want to perform um if we go</p>
<p begin="16:45:03.840" end="16:45:09.360" style="s2">to our post route and we take a look at</p>
<p begin="16:45:07.636" end="16:45:12.756" style="s2">the schemas you can see that it&#39;s going</p>
<p begin="16:45:09.360" end="16:45:14.476" style="s2">to be a type list of schema. poost out a</p>
<p begin="16:45:12.756" end="16:45:15.840" style="s2">list comes from the typing Library so</p>
<p begin="16:45:14.476" end="16:45:17.840" style="s2">let&#39;s see if we can actually do this I</p>
<p begin="16:45:15.840" end="16:45:21.596" style="s2">never actually tried this with this but</p>
<p begin="16:45:17.840" end="16:45:27.476" style="s2">I think it should work so I will import</p>
<p begin="16:45:21.596" end="16:45:30.796" style="s2">that and then will also import from app</p>
<p begin="16:45:27.476" end="16:45:33.796" style="s2">from app</p>
<p begin="16:45:30.796" end="16:45:33.796" style="s2">import</p>
<p begin="16:45:36.560" end="16:45:43.520" style="s2">schemas and I&#39;ll just say</p>
<p begin="16:45:40.040" end="16:45:46.520" style="s2">uh posts equals</p>
<p begin="16:45:43.520" end="16:45:46.520" style="s2">res.</p>
<p begin="16:45:47.596" end="16:45:53.636" style="s2">Json and I&#39;ll say actually schemas dot</p>
<p begin="16:45:51.840" end="16:45:56.080" style="s2">uh what is it post out yep it&#39;s going to</p>
<p begin="16:45:53.636" end="16:45:56.080" style="s2">be post</p>
<p begin="16:45:59.200" end="16:46:03.040" style="s2">out I don&#39;t think that&#39;ll work because</p>
<p begin="16:46:01.720" end="16:46:05.400" style="s2">yeah I don&#39;t think that&#39;ll work because</p>
<p begin="16:46:03.040" end="16:46:06.840" style="s2">we&#39;re this is expecting one individual</p>
<p begin="16:46:05.400" end="16:46:10.240" style="s2">post but this is going to be a list of</p>
<p begin="16:46:06.840" end="16:46:12.596" style="s2">posts so I don&#39;t actually I wonder if I</p>
<p begin="16:46:10.240" end="16:46:14.240" style="s2">can do yeah we&#39;d have to do this</p>
<p begin="16:46:12.596" end="16:46:17.000" style="s2">manually like we&#39;d have to iterate</p>
<p begin="16:46:14.240" end="16:46:18.560" style="s2">through it and then uh basically copy it</p>
<p begin="16:46:17.000" end="16:46:20.520" style="s2">out and I think that would just take too</p>
<p begin="16:46:18.560" end="16:46:21.880" style="s2">much work so we&#39;ll leave this section</p>
<p begin="16:46:20.520" end="16:46:24.040" style="s2">out if you guys want to take that as a</p>
<p begin="16:46:21.880" end="16:46:25.200" style="s2">challenge you can uh essentially create</p>
<p begin="16:46:24.040" end="16:46:29.040" style="s2">a</p>
<p begin="16:46:25.200" end="16:46:31.276" style="s2">post uh pantic model for each entry uh</p>
<p begin="16:46:29.040" end="16:46:34.160" style="s2">within uh within the response and then</p>
<p begin="16:46:31.276" end="16:46:35.320" style="s2">try to validate each single one so</p>
<p begin="16:46:34.160" end="16:46:37.400" style="s2">instead I&#39;m just going to do a simple</p>
<p begin="16:46:35.320" end="16:46:42.160" style="s2">check I&#39;m just going to say assert and</p>
<p begin="16:46:37.400" end="16:46:44.400" style="s2">we&#39;ll just grab the length of response.</p>
<p begin="16:46:42.160" end="16:46:49.040" style="s2">Json and I&#39;m going to set this equal</p>
<p begin="16:46:44.400" end="16:46:52.276" style="s2">equal to length of testore post just to</p>
<p begin="16:46:49.040" end="16:46:53.476" style="s2">make sure that um we get three exact</p>
<p begin="16:46:52.276" end="16:46:54.756" style="s2">posts</p>
<p begin="16:46:53.476" end="16:46:55.880" style="s2">and if we ever change the number of</p>
<p begin="16:46:54.756" end="16:46:57.756" style="s2">posts that we have this should</p>
<p begin="16:46:55.880" end="16:47:00.596" style="s2">automatically get updated I think that&#39;s</p>
<p begin="16:46:57.756" end="16:47:02.400" style="s2">a good enough check for this test let&#39;s</p>
<p begin="16:47:00.596" end="16:47:04.916" style="s2">try this</p>
<p begin="16:47:02.400" end="16:47:07.400" style="s2">again and we shouldn&#39;t get any errors</p>
<p begin="16:47:04.916" end="16:47:09.596" style="s2">and it looks like it passed just</p>
<p begin="16:47:07.400" end="16:47:10.956" style="s2">fine all right guys so I figured you</p>
<p begin="16:47:09.596" end="16:47:13.200" style="s2">know what let me go ahead and just show</p>
<p begin="16:47:10.956" end="16:47:14.756" style="s2">you how we can actually uh do the</p>
<p begin="16:47:13.200" end="16:47:16.680" style="s2">validation using our schemas we&#39;re going</p>
<p begin="16:47:14.756" end="16:47:18.880" style="s2">to use the same exact logic that we use</p>
<p begin="16:47:16.680" end="16:47:20.320" style="s2">here when it comes to um performing the</p>
<p begin="16:47:18.880" end="16:47:23.276" style="s2">map because we&#39;re essentially going to</p>
<p begin="16:47:20.320" end="16:47:25.596" style="s2">take a list of dictionaries and convert</p>
<p begin="16:47:23.276" end="16:47:29.320" style="s2">it to a list</p>
<p begin="16:47:25.596" end="16:47:32.360" style="s2">of schema models so we&#39;re going to go</p>
<p begin="16:47:29.320" end="16:47:33.880" style="s2">back to our post our test and what we&#39;re</p>
<p begin="16:47:32.360" end="16:47:36.000" style="s2">going to do is we&#39;re going to first</p>
<p begin="16:47:33.880" end="16:47:38.680" style="s2">Define a</p>
<p begin="16:47:36.000" end="16:47:40.720" style="s2">function that&#39;s called um I don&#39;t know</p>
<p begin="16:47:38.680" end="16:47:42.796" style="s2">we can call it validate and this is</p>
<p begin="16:47:40.720" end="16:47:45.436" style="s2">going to receive a</p>
<p begin="16:47:42.796" end="16:47:46.756" style="s2">post uh and that&#39;s going to be a post uh</p>
<p begin="16:47:45.436" end="16:47:49.040" style="s2">that&#39;s going to be a dictionary that we</p>
<p begin="16:47:46.756" end="16:47:52.916" style="s2">get back and all we&#39;re going to do is</p>
<p begin="16:47:49.040" end="16:47:54.400" style="s2">we&#39;re going to return schemas Dot</p>
<p begin="16:47:52.916" end="16:47:56.436" style="s2">post</p>
<p begin="16:47:54.400" end="16:47:58.636" style="s2">out and here we&#39;re going to pass in the</p>
<p begin="16:47:56.436" end="16:48:00.796" style="s2">data we&#39;re just going to unpack it with</p>
<p begin="16:47:58.636" end="16:48:02.320" style="s2">post so that&#39;s all we have to do and</p>
<p begin="16:48:00.796" end="16:48:04.400" style="s2">then we can call the map function like</p>
<p begin="16:48:02.320" end="16:48:08.360" style="s2">we did before and I&#39;ll store this in a</p>
<p begin="16:48:04.400" end="16:48:10.636" style="s2">variable called uh post postore</p>
<p begin="16:48:08.360" end="16:48:12.116" style="s2">map which equals map we&#39;re going to call</p>
<p begin="16:48:10.636" end="16:48:15.160" style="s2">the validate function and we&#39;re going to</p>
<p begin="16:48:12.116" end="16:48:17.520" style="s2">pass in res.</p>
<p begin="16:48:15.160" end="16:48:20.040" style="s2">Json and so we have a map if you wanted</p>
<p begin="16:48:17.520" end="16:48:23.436" style="s2">to you could technically uh convert it</p>
<p begin="16:48:20.040" end="16:48:24.680" style="s2">to a list um by calling list um post.</p>
<p begin="16:48:23.436" end="16:48:26.520" style="s2">map but we&#39;re not doing anything with</p>
<p begin="16:48:24.680" end="16:48:28.360" style="s2">that data however just to show you we</p>
<p begin="16:48:26.520" end="16:48:32.360" style="s2">can just print this out real</p>
<p begin="16:48:28.360" end="16:48:32.360" style="s2">quick and so now if I run</p>
<p begin="16:48:32.436" end="16:48:37.160" style="s2">this and we take a look at the print</p>
<p begin="16:48:34.560" end="16:48:39.520" style="s2">statement you can see we&#39;ve got a post</p>
<p begin="16:48:37.160" end="16:48:40.680" style="s2">out model and it does all the validation</p>
<p begin="16:48:39.520" end="16:48:42.720" style="s2">so it&#39;s going to make sure all of the</p>
<p begin="16:48:40.680" end="16:48:46.080" style="s2">properties are set and are there and</p>
<p begin="16:48:42.720" end="16:48:48.436" style="s2">because we have it set as a post um as a</p>
<p begin="16:48:46.080" end="16:48:50.476" style="s2">post out pantic model uh you&#39;ll see that</p>
<p begin="16:48:48.436" end="16:48:52.436" style="s2">it&#39;s very easy to perform extra checks</p>
<p begin="16:48:50.476" end="16:48:55.840" style="s2">with the search statement so now I can</p>
<p begin="16:48:52.436" end="16:48:58.116" style="s2">do other checks like uh uh maybe I want</p>
<p begin="16:48:55.840" end="16:48:58.116" style="s2">to</p>
<p begin="16:48:58.160" end="16:49:05.880" style="s2">say actually let me first save this as a</p>
<p begin="16:49:01.360" end="16:49:10.400" style="s2">variable I&#39;ll say posts list equals</p>
<p begin="16:49:05.880" end="16:49:14.160" style="s2">list of posts map o and that&#39;s supposed</p>
<p begin="16:49:10.400" end="16:49:16.276" style="s2">to be post map so we have access to this</p>
<p begin="16:49:14.160" end="16:49:19.276" style="s2">list and now what I can do is I can just</p>
<p begin="16:49:16.276" end="16:49:19.276" style="s2">say</p>
<p begin="16:49:20.436" end="16:49:25.720" style="s2">assert and here we can grab postscore</p>
<p begin="16:49:23.756" end="16:49:27.956" style="s2">list grab the first</p>
<p begin="16:49:25.720" end="16:49:30.040" style="s2">post and we can check certain Fields I</p>
<p begin="16:49:27.956" end="16:49:33.040" style="s2">can say like hey does the</p>
<p begin="16:49:30.040" end="16:49:35.880" style="s2">ID uh sorry it&#39;s going to be the post.</p>
<p begin="16:49:33.040" end="16:49:37.840" style="s2">ID does that equal equal</p>
<p begin="16:49:35.880" end="16:49:41.840" style="s2">testore</p>
<p begin="16:49:37.840" end="16:49:43.636" style="s2">posts we&#39;ll grab the first object and</p>
<p begin="16:49:41.840" end="16:49:46.320" style="s2">then grab the ID well actually it&#39;s</p>
<p begin="16:49:43.636" end="16:49:49.200" style="s2">going to be I think I could do just do</p>
<p begin="16:49:46.320" end="16:49:51.476" style="s2">ID yeah because test post keep in mind</p>
<p begin="16:49:49.200" end="16:49:55.436" style="s2">uh when we do test post this is going to</p>
<p begin="16:49:51.476" end="16:49:57.680" style="s2">return uh uh this is going to return a</p>
<p begin="16:49:55.436" end="16:49:59.596" style="s2">not a pantic model or a dictionary but</p>
<p begin="16:49:57.680" end="16:50:02.000" style="s2">this is going to return a SQL Alchemy</p>
<p begin="16:49:59.596" end="16:50:03.596" style="s2">model so a little bit different but we</p>
<p begin="16:50:02.000" end="16:50:06.680" style="s2">just call ID and I think this should</p>
<p begin="16:50:03.596" end="16:50:06.680" style="s2">work so let&#39;s test this</p>
<p begin="16:50:08.276" end="16:50:16.400" style="s2">out it did not work what happened here</p>
<p begin="16:50:12.560" end="16:50:18.276" style="s2">yep so I accidentally grabbed I see yeah</p>
<p begin="16:50:16.400" end="16:50:19.476" style="s2">that so this is expected just because I</p>
<p begin="16:50:18.276" end="16:50:22.240" style="s2">don&#39;t know the order that we&#39;re going to</p>
<p begin="16:50:19.476" end="16:50:23.520" style="s2">retrieve the posts in I didn&#39;t provide a</p>
<p begin="16:50:22.240" end="16:50:26.720" style="s2">uh order</p>
<p begin="16:50:23.520" end="16:50:30.200" style="s2">by uh filter criteria uh when it comes</p>
<p begin="16:50:26.720" end="16:50:31.596" style="s2">to my uh my get post functionality so it</p>
<p begin="16:50:30.200" end="16:50:33.636" style="s2">could be returning any post so right now</p>
<p begin="16:50:31.596" end="16:50:36.320" style="s2">it&#39;s saying that hey this ID happens to</p>
<p begin="16:50:33.636" end="16:50:37.840" style="s2">be two this one happens to be one so it</p>
<p begin="16:50:36.320" end="16:50:40.476" style="s2">the order doesn&#39;t matter so this isn&#39;t</p>
<p begin="16:50:37.840" end="16:50:41.956" style="s2">exactly the best way to do it um but if</p>
<p begin="16:50:40.476" end="16:50:43.880" style="s2">you want to figure out a way to set up</p>
<p begin="16:50:41.956" end="16:50:45.400" style="s2">the order so that you always receive</p>
<p begin="16:50:43.880" end="16:50:47.116" style="s2">maybe the post with the lowest ID and</p>
<p begin="16:50:45.400" end="16:50:48.476" style="s2">then you compare the two that would be</p>
<p begin="16:50:47.116" end="16:50:50.200" style="s2">perfectly fine and then you can check</p>
<p begin="16:50:48.476" end="16:50:52.040" style="s2">other properties like what&#39;s the uh the</p>
<p begin="16:50:50.200" end="16:50:54.680" style="s2">title does it match up with what we</p>
<p begin="16:50:52.040" end="16:50:56.596" style="s2">expected to be does uh the content match</p>
<p begin="16:50:54.680" end="16:50:58.840" style="s2">up with the content you can put as many</p>
<p begin="16:50:56.596" end="16:51:01.476" style="s2">asserts as you can um but by having by</p>
<p begin="16:50:58.840" end="16:51:03.360" style="s2">doing this um we are able to perform a</p>
<p begin="16:51:01.476" end="16:51:05.520" style="s2">validation to ensure that at least we</p>
<p begin="16:51:03.360" end="16:51:07.520" style="s2">get what we expect all the fields are</p>
<p begin="16:51:05.520" end="16:51:09.160" style="s2">there and then it&#39;s just up to us to set</p>
<p begin="16:51:07.520" end="16:51:10.880" style="s2">up the necessary asserts to verify that</p>
<p begin="16:51:09.160" end="16:51:13.080" style="s2">the values are</p>
<p begin="16:51:10.880" end="16:51:14.520" style="s2">correct but I&#39;ll remove that and I think</p>
<p begin="16:51:13.080" end="16:51:17.476" style="s2">it&#39;s okay just to keep it like this for</p>
<p begin="16:51:14.520" end="16:51:19.360" style="s2">now all right so we set up a test for</p>
<p begin="16:51:17.476" end="16:51:21.320" style="s2">getting all posts and what I want to do</p>
<p begin="16:51:19.360" end="16:51:24.116" style="s2">now is I want to test to make sure that</p>
<p begin="16:51:21.320" end="16:51:26.200" style="s2">a unauthentic iated user is not able to</p>
<p begin="16:51:24.116" end="16:51:29.080" style="s2">retrieve all the posts so I&#39;ll create a</p>
<p begin="16:51:26.200" end="16:51:31.040" style="s2">new test and I&#39;ll call this test uh how</p>
<p begin="16:51:29.080" end="16:51:35.720" style="s2">about</p>
<p begin="16:51:31.040" end="16:51:38.200" style="s2">unauthorized user getor allore</p>
<p begin="16:51:35.720" end="16:51:40.360" style="s2">posts and instead of using authorized</p>
<p begin="16:51:38.200" end="16:51:42.880" style="s2">client because we want to test if a</p>
<p begin="16:51:40.360" end="16:51:44.400" style="s2">unauthenticated user uh tries to access</p>
<p begin="16:51:42.880" end="16:51:46.476" style="s2">as they get a 401 we&#39;ll just use the</p>
<p begin="16:51:44.400" end="16:51:48.916" style="s2">regular client which is going to be a</p>
<p begin="16:51:46.476" end="16:51:51.436" style="s2">non-logged in user and we want to make</p>
<p begin="16:51:48.916" end="16:51:53.756" style="s2">sure that test posts are here as</p>
<p begin="16:51:51.436" end="16:51:57.636" style="s2">well and remember because we&#39;re calling</p>
<p begin="16:51:53.756" end="16:51:59.596" style="s2">test posts that&#39;s going to ensure that</p>
<p begin="16:51:57.636" end="16:52:02.436" style="s2">because test post is reliant on test</p>
<p begin="16:51:59.596" end="16:52:04.160" style="s2">user it will in fact create a test user</p>
<p begin="16:52:02.436" end="16:52:05.560" style="s2">as well so just to give you a heads up</p>
<p begin="16:52:04.160" end="16:52:07.436" style="s2">we don&#39;t actually have to pass in test</p>
<p begin="16:52:05.560" end="16:52:09.436" style="s2">user into here because this should</p>
<p begin="16:52:07.436" end="16:52:13.160" style="s2">handle that automatically and here I&#39;ll</p>
<p begin="16:52:09.436" end="16:52:16.916" style="s2">just say res equals client. getet and</p>
<p begin="16:52:13.160" end="16:52:19.080" style="s2">we&#39;ll just go to posts</p>
<p begin="16:52:16.916" end="16:52:23.796" style="s2">again and I&#39;m just going to assert a</p>
<p begin="16:52:19.080" end="16:52:27.360" style="s2">simple 401 so res. status code</p>
<p begin="16:52:23.796" end="16:52:28.840" style="s2">equals equals 401 that&#39;s really the only</p>
<p begin="16:52:27.360" end="16:52:30.240" style="s2">check I want to do they&#39;re if they&#39;re</p>
<p begin="16:52:28.840" end="16:52:31.720" style="s2">unauthorized or unauthorized there&#39;s no</p>
<p begin="16:52:30.240" end="16:52:33.956" style="s2">other things to check</p>
<p begin="16:52:31.720" end="16:52:36.720" style="s2">really and we can see that it did</p>
<p begin="16:52:33.956" end="16:52:38.956" style="s2">successfully pass Okay so we&#39;ve tested</p>
<p begin="16:52:36.720" end="16:52:41.116" style="s2">the get all posts we&#39;re going to now</p>
<p begin="16:52:38.956" end="16:52:44.040" style="s2">move on to getting an individual post by</p>
<p begin="16:52:41.116" end="16:52:45.916" style="s2">an ID but before we do that I think it&#39;s</p>
<p begin="16:52:44.040" end="16:52:47.796" style="s2">best to actually test getting an</p>
<p begin="16:52:45.916" end="16:52:49.320" style="s2">individual post by ID when you&#39;re an</p>
<p begin="16:52:47.796" end="16:52:51.956" style="s2">unauthenticated user because we can</p>
<p begin="16:52:49.320" end="16:52:53.840" style="s2">essentially just copy this code and I</p>
<p begin="16:52:51.956" end="16:52:57.160" style="s2">can just paste here instead of doing a</p>
<p begin="16:52:53.840" end="16:52:59.636" style="s2">user get all post this will be user get</p>
<p begin="16:52:57.160" end="16:52:59.636" style="s2">one</p>
<p begin="16:52:59.796" end="16:53:06.160" style="s2">post and so everything else can be the</p>
<p begin="16:53:01.756" end="16:53:08.400" style="s2">same we just have to change the specific</p>
<p begin="16:53:06.160" end="16:53:10.756" style="s2">URL and so in this case we&#39;re just going</p>
<p begin="16:53:08.400" end="16:53:14.116" style="s2">to grab the ID of one of the posts so</p>
<p begin="16:53:10.756" end="16:53:14.116" style="s2">here I&#39;m going to change this to an F</p>
<p begin="16:53:15.276" end="16:53:21.840" style="s2">string and I&#39;m going to say testore</p>
<p begin="16:53:19.240" end="16:53:24.520" style="s2">posts we&#39;ll grab the first one and then</p>
<p begin="16:53:21.840" end="16:53:26.000" style="s2">remember this is a SQL Alchemy model uh</p>
<p begin="16:53:24.520" end="16:53:28.040" style="s2">and so we actually have to convert it to</p>
<p begin="16:53:26.000" end="16:53:31.520" style="s2">a dictionary so we have to do doore</p>
<p begin="16:53:28.040" end="16:53:31.520" style="s2">uncore dict uncore</p>
<p begin="16:53:34.000" end="16:53:40.636" style="s2">uncore sorry the test post is not a SQL</p>
<p begin="16:53:37.756" end="16:53:42.080" style="s2">is it a SE I think I could do ID I think</p>
<p begin="16:53:40.636" end="16:53:43.160" style="s2">that should work actually never mind I</p>
<p begin="16:53:42.080" end="16:53:45.520" style="s2">think we should be able to do that that</p>
<p begin="16:53:43.160" end="16:53:45.520" style="s2">should be</p>
<p begin="16:53:47.636" end="16:53:54.840" style="s2">fine and this should be a 401 so let&#39;s</p>
<p begin="16:53:50.560" end="16:53:54.840" style="s2">test this out let&#39;s make sure that this</p>
<p begin="16:53:55.116" end="16:53:59.720" style="s2">works and that</p>
<p begin="16:53:57.400" end="16:54:02.476" style="s2">works and what I also want to do is I</p>
<p begin="16:53:59.720" end="16:54:05.160" style="s2">want to test for a post uh test uh to</p>
<p begin="16:54:02.476" end="16:54:10.116" style="s2">retrieve a post with an ID that doesn&#39;t</p>
<p begin="16:54:05.160" end="16:54:10.116" style="s2">exist I guess so I&#39;ll call this a def</p>
<p begin="16:54:13.000" end="16:54:17.436" style="s2">test</p>
<p begin="16:54:15.116" end="16:54:20.756" style="s2">get</p>
<p begin="16:54:17.436" end="16:54:22.840" style="s2">one post how about not</p>
<p begin="16:54:20.756" end="16:54:24.680" style="s2">exist so this one we&#39;re going to need an</p>
<p begin="16:54:22.840" end="16:54:29.240" style="s2">authorized</p>
<p begin="16:54:24.680" end="16:54:29.240" style="s2">client and then testore poost as</p>
<p begin="16:54:30.000" end="16:54:35.476" style="s2">well and I&#39;m going to copy</p>
<p begin="16:54:33.040" end="16:54:38.880" style="s2">this but we&#39;re going to change this and</p>
<p begin="16:54:35.476" end="16:54:41.040" style="s2">I&#39;m going to hardcode some random number</p>
<p begin="16:54:38.880" end="16:54:41.040" style="s2">like</p>
<p begin="16:54:46.160" end="16:54:52.476" style="s2">88888 and then we&#39;ll just assert res.</p>
<p begin="16:54:49.400" end="16:54:55.116" style="s2">statuscode equals</p>
<p begin="16:54:52.476" end="16:54:55.116" style="s2">equals</p>
<p begin="16:54:55.240" end="16:54:59.240" style="s2">404 all right so now we&#39;re going to try</p>
<p begin="16:54:57.080" end="16:55:03.040" style="s2">to retrieve a post that doesn&#39;t exist</p>
<p begin="16:54:59.240" end="16:55:03.040" style="s2">and it looks like it passed</p>
<p begin="16:55:04.000" end="16:55:08.160" style="s2">perfect so now let&#39;s actually try to</p>
<p begin="16:55:06.240" end="16:55:09.276" style="s2">retrieve a valid post this one&#39;s going</p>
<p begin="16:55:08.160" end="16:55:14.436" style="s2">to be a little bit more work so we&#39;ll</p>
<p begin="16:55:09.276" end="16:55:19.560" style="s2">say def uh test get one</p>
<p begin="16:55:14.436" end="16:55:19.560" style="s2">post and we&#39;re going to copy these two</p>
<p begin="16:55:24.116" end="16:55:28.636" style="s2">and I&#39;m going to copy this one right</p>
<p begin="16:55:26.956" end="16:55:30.956" style="s2">here so we&#39;re going to retrieve the</p>
<p begin="16:55:28.636" end="16:55:32.240" style="s2">first post from test post with an ID of</p>
<p begin="16:55:30.956" end="16:55:34.320" style="s2">zero I</p>
<p begin="16:55:32.240" end="16:55:37.080" style="s2">think and I&#39;m just going to rename this</p>
<p begin="16:55:34.320" end="16:55:37.080" style="s2">to authorized</p>
<p begin="16:55:37.956" end="16:55:42.320" style="s2">client and let&#39;s just do a print let&#39;s</p>
<p begin="16:55:40.200" end="16:55:44.880" style="s2">see what this looks like so we&#39;ll say</p>
<p begin="16:55:42.320" end="16:55:44.880" style="s2">res.</p>
<p begin="16:55:47.160" end="16:55:54.040" style="s2">Json all right and that&#39;s going to run</p>
<p begin="16:55:52.560" end="16:55:56.400" style="s2">and it printed out the post so we can</p>
<p begin="16:55:54.040" end="16:55:58.596" style="s2">see what that looks like and just like</p>
<p begin="16:55:56.400" end="16:56:01.596" style="s2">we did before we can also do a</p>
<p begin="16:55:58.596" end="16:56:04.636" style="s2">validation so I can</p>
<p begin="16:56:01.596" end="16:56:07.636" style="s2">say um post</p>
<p begin="16:56:04.636" end="16:56:07.636" style="s2">equals</p>
<p begin="16:56:08.880" end="16:56:14.680" style="s2">schema schemas do uh what is it I think</p>
<p begin="16:56:12.360" end="16:56:20.680" style="s2">it&#39;s post out yeah post</p>
<p begin="16:56:14.680" end="16:56:20.680" style="s2">out and we&#39;re going to pass in res. Json</p>
<p begin="16:56:22.880" end="16:56:26.636" style="s2">and do we need to unpack it I think we</p>
<p begin="16:56:24.520" end="16:56:29.240" style="s2">have to unpack</p>
<p begin="16:56:26.636" end="16:56:31.636" style="s2">it let me let me print out post just to</p>
<p begin="16:56:29.240" end="16:56:33.400" style="s2">see what that looks like actually I</p>
<p begin="16:56:31.636" end="16:56:36.796" style="s2">could just take a look at what we did up</p>
<p begin="16:56:33.400" end="16:56:40.916" style="s2">here yeah we have to unpack</p>
<p begin="16:56:36.796" end="16:56:40.916" style="s2">it or spread it whatever it&#39;s</p>
<p begin="16:56:43.796" end="16:56:50.240" style="s2">called yep so now we&#39;ve got our post</p>
<p begin="16:56:47.000" end="16:56:52.200" style="s2">model uh well it&#39;s our pantic model and</p>
<p begin="16:56:50.240" end="16:56:53.476" style="s2">so that does some level of validation</p>
<p begin="16:56:52.200" end="16:56:56.756" style="s2">and then at this point what we can do is</p>
<p begin="16:56:53.476" end="16:56:59.360" style="s2">I can say assert and I can say does</p>
<p begin="16:56:56.756" end="16:57:05.116" style="s2">post Dot and then take a look at the</p>
<p begin="16:56:59.360" end="16:57:05.116" style="s2">format we have to grab the uh the post</p>
<p begin="16:57:05.240" end="16:57:14.276" style="s2">property it&#39;s this first one uh</p>
<p begin="16:57:09.796" end="16:57:15.756" style="s2">yeah yeah so we&#39;ll grab post. post. ID</p>
<p begin="16:57:14.276" end="16:57:17.400" style="s2">equals equals then we&#39;re going to</p>
<p begin="16:57:15.756" end="16:57:23.000" style="s2">compare it to the</p>
<p begin="16:57:17.400" end="16:57:23.000" style="s2">ID uh from testore Posts</p>
<p begin="16:57:23.360" end="16:57:28.636" style="s2">so it say testore</p>
<p begin="16:57:26.400" end="16:57:31.040" style="s2">posts</p>
<p begin="16:57:28.636" end="16:57:35.160" style="s2">z.</p>
<p begin="16:57:31.040" end="16:57:35.160" style="s2">ID and I think that should still</p>
<p begin="16:57:37.400" end="16:57:41.400" style="s2">work all right that works and we can</p>
<p begin="16:57:39.520" end="16:57:43.000" style="s2">check a few other things so we can say</p>
<p begin="16:57:41.400" end="16:57:46.000" style="s2">uh post.</p>
<p begin="16:57:43.000" end="16:57:46.000" style="s2">post.</p>
<p begin="16:57:49.756" end="16:57:53.756" style="s2">content and if you&#39;re wondering why it&#39;s</p>
<p begin="16:57:51.636" end="16:57:56.840" style="s2">post. post remember if you actually take</p>
<p begin="16:57:53.756" end="16:57:58.400" style="s2">a look at our schemas our post out you</p>
<p begin="16:57:56.840" end="16:57:59.636" style="s2">could see that we have to to grab the</p>
<p begin="16:57:58.400" end="16:58:01.796" style="s2">information about the post we have to go</p>
<p begin="16:57:59.636" end="16:58:03.436" style="s2">into the post property and then from in</p>
<p begin="16:58:01.796" end="16:58:05.636" style="s2">there we can then take a look at all of</p>
<p begin="16:58:03.436" end="16:58:05.636" style="s2">these</p>
<p begin="16:58:06.520" end="16:58:10.916" style="s2">fields so that&#39;s why we have to do it</p>
<p begin="16:58:08.680" end="16:58:10.916" style="s2">like</p>
<p begin="16:58:14.680" end="16:58:19.796" style="s2">that and we&#39;ll say testore</p>
<p begin="16:58:20.116" end="16:58:24.636" style="s2">posts zero and then let&#39;s see if we can</p>
<p begin="16:58:22.916" end="16:58:28.276" style="s2">do content I believe this will actually</p>
<p begin="16:58:24.636" end="16:58:30.720" style="s2">throw an error because uh this is a uh</p>
<p begin="16:58:28.276" end="16:58:33.916" style="s2">SQL Alchemy model so it&#39;s going</p>
<p begin="16:58:30.720" end="16:58:37.116" style="s2">to oh that actually did work I&#39;m</p>
<p begin="16:58:33.916" end="16:58:39.000" style="s2">surprised okay all right that worked so</p>
<p begin="16:58:37.116" end="16:58:40.680" style="s2">uh if you guys want to you can also</p>
<p begin="16:58:39.000" end="16:58:43.756" style="s2">essentially copy this line and then</p>
<p begin="16:58:40.680" end="16:58:43.756" style="s2">check to see if the titles</p>
<p begin="16:58:45.080" end="16:58:49.880" style="s2">match you can essentially check every</p>
<p begin="16:58:47.200" end="16:58:53.956" style="s2">property if you really want to so we&#39;ll</p>
<p begin="16:58:49.880" end="16:58:53.956" style="s2">just run that one last time</p>
<p begin="16:58:54.596" end="16:58:58.320" style="s2">perfect and I&#39;m just going to remove</p>
<p begin="16:58:55.956" end="16:58:59.720" style="s2">this print statement uh and so those are</p>
<p begin="16:58:58.320" end="16:59:01.360" style="s2">all of the tests that I want to do when</p>
<p begin="16:58:59.720" end="16:59:03.320" style="s2">it comes to retrieving an individual</p>
<p begin="16:59:01.360" end="16:59:04.520" style="s2">post I think um I&#39;m sure there&#39;s a</p>
<p begin="16:59:03.320" end="16:59:05.880" style="s2">couple of tests you guys might be able</p>
<p begin="16:59:04.520" end="16:59:07.116" style="s2">to think of so feel free to implement</p>
<p begin="16:59:05.880" end="16:59:09.116" style="s2">that but I think that&#39;s a good starting</p>
<p begin="16:59:07.116" end="16:59:11.276" style="s2">point on this um but in the next video</p>
<p begin="16:59:09.116" end="16:59:13.116" style="s2">we&#39;ll take a look at creating a post</p>
<p begin="16:59:11.276" end="16:59:14.476" style="s2">okay so let&#39;s move on to creating a post</p>
<p begin="16:59:13.116" end="16:59:16.880" style="s2">I&#39;ll create a function we&#39;ll call this</p>
<p begin="16:59:14.476" end="16:59:18.720" style="s2">test uh create</p>
<p begin="16:59:16.880" end="16:59:20.040" style="s2">post and we&#39;re going to need an</p>
<p begin="16:59:18.720" end="16:59:22.320" style="s2">authorized</p>
<p begin="16:59:20.040" end="16:59:25.596" style="s2">client we&#39;re going to need a test user</p>
<p begin="16:59:22.320" end="16:59:27.400" style="s2">for sure and lastly um this is purely</p>
<p begin="16:59:25.596" end="16:59:29.636" style="s2">optional if you want to we could also</p>
<p begin="16:59:27.400" end="16:59:31.240" style="s2">set up all of our test posts um if you</p>
<p begin="16:59:29.636" end="16:59:32.916" style="s2">wanted some posts in the database before</p>
<p begin="16:59:31.240" end="16:59:34.360" style="s2">you created one just to potentially see</p>
<p begin="16:59:32.916" end="16:59:36.520" style="s2">if you run into any issues when it comes</p>
<p begin="16:59:34.360" end="16:59:39.320" style="s2">to creating posts when there&#39;s already</p>
<p begin="16:59:36.520" end="16:59:41.360" style="s2">posts but it&#39;s</p>
<p begin="16:59:39.320" end="16:59:45.560" style="s2">optional and we&#39;re going to set the res</p>
<p begin="16:59:41.360" end="16:59:48.956" style="s2">and we&#39;ll set this to authorized client.</p>
<p begin="16:59:45.560" end="16:59:51.080" style="s2">poost and the URL is going to be/</p>
<p begin="16:59:48.956" end="16:59:53.276" style="s2">posts and then let&#39;s give all of the</p>
<p begin="16:59:51.080" end="16:59:56.240" style="s2">data for our new post so we&#39;ll say Json</p>
<p begin="16:59:53.276" end="17:00:00.200" style="s2">equals uh</p>
<p begin="16:59:56.240" end="17:00:04.116" style="s2">title and you know what instead of doing</p>
<p begin="17:00:00.200" end="17:00:07.160" style="s2">this uh let&#39;s go ahead and set up</p>
<p begin="17:00:04.116" end="17:00:09.560" style="s2">a uh py</p>
<p begin="17:00:07.160" end="17:00:11.680" style="s2">test dot uh what was it called I already</p>
<p begin="17:00:09.560" end="17:00:14.880" style="s2">forgot what it&#39;s what do we call</p>
<p begin="17:00:11.680" end="17:00:18.560" style="s2">it a parameterize so Mark parameterize</p>
<p begin="17:00:14.880" end="17:00:18.560" style="s2">so that we can test multiple different</p>
<p begin="17:00:18.956" end="17:00:26.560" style="s2">values mark do why is that not working</p>
<p begin="17:00:23.756" end="17:00:27.840" style="s2">okay I have to import P test and we</p>
<p begin="17:00:26.560" end="17:00:30.796" style="s2">don&#39;t need this line right here so we&#39;ll</p>
<p begin="17:00:27.840" end="17:00:30.796" style="s2">say import P</p>
<p begin="17:00:34.520" end="17:00:38.956" style="s2">test uh and so what are the values that</p>
<p begin="17:00:36.840" end="17:00:43.596" style="s2">we need how about uh</p>
<p begin="17:00:38.956" end="17:00:45.476" style="s2">title we need title for sure we need uh</p>
<p begin="17:00:43.596" end="17:00:49.560" style="s2">content and then we can also give a</p>
<p begin="17:00:45.476" end="17:00:49.560" style="s2">published value if we wanted to</p>
<p begin="17:00:54.720" end="17:00:59.476" style="s2">and then let&#39;s give all of our come on V</p>
<p begin="17:00:56.956" end="17:01:01.476" style="s2">Cod don&#39;t do that all right first two</p>
<p begin="17:00:59.476" end="17:01:07.796" style="s2">pull uh what do we want the title how</p>
<p begin="17:01:01.476" end="17:01:07.796" style="s2">about awesome new title o awesome new</p>
<p begin="17:01:09.400" end="17:01:16.436" style="s2">title uh what&#39;s the content awesome new</p>
<p begin="17:01:14.160" end="17:01:21.720" style="s2">content and what do we want published to</p>
<p begin="17:01:16.436" end="17:01:21.720" style="s2">be how about true</p>
<p begin="17:01:23.596" end="17:01:27.160" style="s2">and we&#39;re going to copy this and I&#39;m</p>
<p begin="17:01:25.080" end="17:01:30.560" style="s2">just going to put in some new</p>
<p begin="17:01:27.160" end="17:01:30.560" style="s2">values favorite</p>
<p begin="17:01:31.636" end="17:01:38.240" style="s2">pizza and we&#39;ll see I love</p>
<p begin="17:01:36.240" end="17:01:40.240" style="s2">pepperoni</p>
<p begin="17:01:38.240" end="17:01:42.320" style="s2">ooh</p>
<p begin="17:01:40.240" end="17:01:44.520" style="s2">published let&#39;s see that&#39;s still a work</p>
<p begin="17:01:42.320" end="17:01:44.520" style="s2">in</p>
<p begin="17:01:44.880" end="17:01:49.360" style="s2">progress allst skyscrapers</p>
<p begin="17:01:52.400" end="17:01:57.400" style="s2">all right so we&#39;ve got some test data uh</p>
<p begin="17:01:54.276" end="17:01:57.400" style="s2">let&#39;s pass those values</p>
<p begin="17:02:03.756" end="17:02:09.080" style="s2">in so</p>
<p begin="17:02:06.436" end="17:02:12.360" style="s2">title is going to be set to title</p>
<p begin="17:02:09.080" end="17:02:12.360" style="s2">content is going to be set to</p>
<p begin="17:02:18.200" end="17:02:25.756" style="s2">content and then finally uh published</p>
<p begin="17:02:22.436" end="17:02:25.756" style="s2">will be set to</p>
<p begin="17:02:29.240" end="17:02:33.116" style="s2">published all right we get our response</p>
<p begin="17:02:31.200" end="17:02:35.796" style="s2">back let&#39;s do a little bit of validation</p>
<p begin="17:02:33.116" end="17:02:38.520" style="s2">with our pantic model so I can say</p>
<p begin="17:02:35.796" end="17:02:38.520" style="s2">schemas</p>
<p begin="17:02:38.756" end="17:02:44.956" style="s2">dopost and we&#39;ll just uh take the</p>
<p begin="17:02:41.916" end="17:02:49.636" style="s2">response convert it to Json of course</p>
<p begin="17:02:44.956" end="17:02:49.636" style="s2">and set that to created unor poost</p>
<p begin="17:02:53.520" end="17:02:59.796" style="s2">and then we can just run a couple of</p>
<p begin="17:02:54.596" end="17:03:02.360" style="s2">checks so uh let&#39;s assert the status</p>
<p begin="17:02:59.796" end="17:03:04.680" style="s2">code so for creating a new post it</p>
<p begin="17:03:02.360" end="17:03:04.680" style="s2">should be a</p>
<p begin="17:03:06.840" end="17:03:12.160" style="s2">2011 and then</p>
<p begin="17:03:09.200" end="17:03:14.276" style="s2">for uh we can just assert a few extra</p>
<p begin="17:03:12.160" end="17:03:17.560" style="s2">values so I could say like res</p>
<p begin="17:03:14.276" end="17:03:21.956" style="s2">dot actually I can grab created unor</p>
<p begin="17:03:17.560" end="17:03:24.436" style="s2">poost do uh title</p>
<p begin="17:03:21.956" end="17:03:24.436" style="s2">should</p>
<p begin="17:03:26.756" end="17:03:31.636" style="s2">equal</p>
<p begin="17:03:28.880" end="17:03:34.520" style="s2">title and I can just do the whoops I</p>
<p begin="17:03:31.636" end="17:03:37.880" style="s2">need two equals and then I can just copy</p>
<p begin="17:03:34.520" end="17:03:37.880" style="s2">this a few times we&#39;ll change this to</p>
<p begin="17:03:39.160" end="17:03:44.956" style="s2">content content and then published</p>
<p begin="17:03:54.080" end="17:03:56.880" style="s2">and while we&#39;re ated it we can also</p>
<p begin="17:03:55.200" end="17:03:57.840" style="s2">verify that the owner ID gets set so I</p>
<p begin="17:03:56.880" end="17:04:00.840" style="s2">can say</p>
<p begin="17:03:57.840" end="17:04:00.840" style="s2">created</p>
<p begin="17:04:00.956" end="17:04:07.956" style="s2">underscore post. owner</p>
<p begin="17:04:04.720" end="17:04:10.276" style="s2">ID equals equals and then we can grab uh</p>
<p begin="17:04:07.956" end="17:04:12.880" style="s2">test</p>
<p begin="17:04:10.276" end="17:04:14.840" style="s2">user</p>
<p begin="17:04:12.880" end="17:04:16.796" style="s2">ID all right so I think that&#39;s a good</p>
<p begin="17:04:14.840" end="17:04:18.160" style="s2">number of things to check so at this</p>
<p begin="17:04:16.796" end="17:04:21.956" style="s2">point I think it&#39;s safe to say that all</p>
<p begin="17:04:18.160" end="17:04:21.956" style="s2">of these should work</p>
<p begin="17:04:22.476" end="17:04:27.040" style="s2">all right and all of</p>
<p begin="17:04:24.360" end="17:04:29.400" style="s2">those passed awesome so we&#39;ve got the</p>
<p begin="17:04:27.040" end="17:04:30.756" style="s2">create post done uh there&#39;s one other</p>
<p begin="17:04:29.400" end="17:04:34.080" style="s2">thing that I want to test with create</p>
<p begin="17:04:30.756" end="17:04:37.360" style="s2">post because um if you go back to</p>
<p begin="17:04:34.080" end="17:04:39.320" style="s2">our um what is it our schemas where is</p>
<p begin="17:04:37.360" end="17:04:41.436" style="s2">our</p>
<p begin="17:04:39.320" end="17:04:44.520" style="s2">schema I don&#39;t know if we have a create</p>
<p begin="17:04:41.436" end="17:04:46.596" style="s2">post post create um so that&#39;s just going</p>
<p begin="17:04:44.520" end="17:04:48.880" style="s2">to be from post base we can see</p>
<p begin="17:04:46.596" end="17:04:50.796" style="s2">published is set to a default value of</p>
<p begin="17:04:48.880" end="17:04:53.320" style="s2">true so let&#39;s test to see if the default</p>
<p begin="17:04:50.796" end="17:04:56.840" style="s2">value of true gets</p>
<p begin="17:04:53.320" end="17:04:59.000" style="s2">set and we theoretically could have put</p>
<p begin="17:04:56.840" end="17:05:00.636" style="s2">this test in here just by doing a none</p>
<p begin="17:04:59.000" end="17:05:01.756" style="s2">here but I like to separate this out</p>
<p begin="17:05:00.636" end="17:05:03.160" style="s2">into a different test because we are</p>
<p begin="17:05:01.756" end="17:05:06.400" style="s2">testing a different functionality in</p>
<p begin="17:05:03.160" end="17:05:09.320" style="s2">this case so we&#39;ll say test create</p>
<p begin="17:05:06.400" end="17:05:12.320" style="s2">post default</p>
<p begin="17:05:09.320" end="17:05:12.320" style="s2">published</p>
<p begin="17:05:13.160" end="17:05:17.276" style="s2">true I&#39;ll do authorized _ client and</p>
<p begin="17:05:16.276" end="17:05:19.840" style="s2">test</p>
<p begin="17:05:17.276" end="17:05:21.040" style="s2">user once again we don&#39;t need test post</p>
<p begin="17:05:19.840" end="17:05:22.320" style="s2">but if you want to have it in the</p>
<p begin="17:05:21.040" end="17:05:24.116" style="s2">database just just to make sure that</p>
<p begin="17:05:22.320" end="17:05:25.840" style="s2">everything&#39;s uh not broken when you</p>
<p begin="17:05:24.116" end="17:05:28.320" style="s2">already have posts already in there we</p>
<p begin="17:05:25.840" end="17:05:31.596" style="s2">can keep that</p>
<p begin="17:05:28.320" end="17:05:34.040" style="s2">in and I&#39;m just going to copy</p>
<p begin="17:05:31.596" end="17:05:36.400" style="s2">this actually I could essentially copy</p>
<p begin="17:05:34.040" end="17:05:36.400" style="s2">all of</p>
<p begin="17:05:37.520" end="17:05:41.796" style="s2">this and we can just give it arbitrary</p>
<p begin="17:05:48.080" end="17:05:53.840" style="s2">titles and then published we&#39;ll leave</p>
<p begin="17:05:50.160" end="17:05:53.840" style="s2">out published we don&#39;t want that</p>
<p begin="17:05:55.796" end="17:06:00.560" style="s2">anymore and I&#39;ll just copy these values</p>
<p begin="17:06:09.160" end="17:06:13.200" style="s2">here and published should be set to True</p>
<p begin="17:06:11.840" end="17:06:14.916" style="s2">by default so even though we&#39;re not</p>
<p begin="17:06:13.200" end="17:06:17.596" style="s2">passing it it should get set and</p>
<p begin="17:06:14.916" end="17:06:22.476" style="s2">everything else should still be just</p>
<p begin="17:06:17.596" end="17:06:22.476" style="s2">fine so let&#39;s test that out</p>
<p begin="17:06:28.116" end="17:06:31.840" style="s2">oh it looks like it failed so what</p>
<p begin="17:06:29.520" end="17:06:31.840" style="s2">happen</p>
<p begin="17:06:33.880" end="17:06:40.040" style="s2">here oh I just pasted in the wrong</p>
<p begin="17:06:37.040" end="17:06:40.040" style="s2">values</p>
<p begin="17:06:52.276" end="17:06:56.000" style="s2">all right and then one last thing just</p>
<p begin="17:06:53.720" end="17:06:57.796" style="s2">like we did for all the other uh routes</p>
<p begin="17:06:56.000" end="17:07:00.240" style="s2">within the post we also want to test if</p>
<p begin="17:06:57.796" end="17:07:02.116" style="s2">we&#39;re not logged in so I&#39;m going to copy</p>
<p begin="17:07:00.240" end="17:07:05.276" style="s2">this</p>
<p begin="17:07:02.116" end="17:07:08.040" style="s2">one and just rename it so test</p>
<p begin="17:07:05.276" end="17:07:08.040" style="s2">unauthorized</p>
<p begin="17:07:09.840" end="17:07:16.680" style="s2">user create post we don&#39;t need to have</p>
<p begin="17:07:13.320" end="17:07:16.680" style="s2">test user in there but why</p>
<p begin="17:07:17.320" end="17:07:23.436" style="s2">not and I&#39;m going to just copy this</p>
<p begin="17:07:20.720" end="17:07:23.436" style="s2">right here</p>
<p begin="17:07:25.000" end="17:07:32.956" style="s2">and then just change this to a plain</p>
<p begin="17:07:27.956" end="17:07:32.956" style="s2">client all right and this should</p>
<p begin="17:07:37.160" end="17:07:41.436" style="s2">work all right and that passed as well</p>
<p begin="17:07:39.360" end="17:07:44.320" style="s2">so we have got all of the create post</p>
<p begin="17:07:41.436" end="17:07:46.400" style="s2">tests done and I think in the next video</p>
<p begin="17:07:44.320" end="17:07:49.040" style="s2">we will tackle either deleting or</p>
<p begin="17:07:46.400" end="17:07:50.956" style="s2">updating a post okay so let&#39;s move on to</p>
<p begin="17:07:49.040" end="17:07:52.436" style="s2">deleting posts and the first thing that</p>
<p begin="17:07:50.956" end="17:07:55.840" style="s2">we&#39;re going to do is we&#39;re going to test</p>
<p begin="17:07:52.436" end="17:07:58.000" style="s2">a unauthorized user trying to delete a</p>
<p begin="17:07:55.840" end="17:08:02.160" style="s2">post we&#39;ll say</p>
<p begin="17:07:58.000" end="17:08:02.160" style="s2">test unauthorized</p>
<p begin="17:08:03.720" end="17:08:11.000" style="s2">oops delete post and we&#39;ll have client</p>
<p begin="17:08:08.040" end="17:08:12.476" style="s2">testore user and we&#39;ll definitely need</p>
<p begin="17:08:11.000" end="17:08:15.680" style="s2">test Post in this</p>
<p begin="17:08:12.476" end="17:08:20.200" style="s2">case and then we can essentially copy</p>
<p begin="17:08:15.680" end="17:08:20.200" style="s2">well I&#39;ll copy this one right up here</p>
<p begin="17:08:23.160" end="17:08:27.756" style="s2">and uh we&#39;ll change this to uh we don&#39;t</p>
<p begin="17:08:26.360" end="17:08:30.240" style="s2">need the body</p>
<p begin="17:08:27.756" end="17:08:35.240" style="s2">anymore and the route is going to be</p>
<p begin="17:08:30.240" end="17:08:37.680" style="s2">we&#39;re going to pass uh testore</p>
<p begin="17:08:35.240" end="17:08:41.680" style="s2">posts uh</p>
<p begin="17:08:37.680" end="17:08:41.680" style="s2">zero. ID</p>
<p begin="17:08:58.080" end="17:09:01.116" style="s2">all right let&#39;s test that</p>
<p begin="17:09:04.956" end="17:09:10.040" style="s2">out yep and I realized this should be a</p>
<p begin="17:09:07.520" end="17:09:15.560" style="s2">delete actually not a</p>
<p begin="17:09:10.040" end="17:09:15.560" style="s2">post that&#39;s why I got um other status</p>
<p begin="17:09:17.080" end="17:09:21.596" style="s2">code Perfect all right so we got that</p>
<p begin="17:09:19.200" end="17:09:24.756" style="s2">one to pass and so now let&#39;s test a</p>
<p begin="17:09:21.596" end="17:09:27.596" style="s2">valid deletion so I&#39;ll say uh test</p>
<p begin="17:09:24.756" end="17:09:29.080" style="s2">delete post and ideally I guess we</p>
<p begin="17:09:27.596" end="17:09:31.116" style="s2">should be calling like success like we</p>
<p begin="17:09:29.080" end="17:09:33.400" style="s2">successfully deleted</p>
<p begin="17:09:31.116" end="17:09:36.276" style="s2">it and this time we&#39;ll get the</p>
<p begin="17:09:33.400" end="17:09:38.796" style="s2">authorized</p>
<p begin="17:09:36.276" end="17:09:42.720" style="s2">client we&#39;ll get the test</p>
<p begin="17:09:38.796" end="17:09:46.560" style="s2">user and the testore posts all right</p>
<p begin="17:09:42.720" end="17:09:46.560" style="s2">we&#39;ll call this same request</p>
<p begin="17:09:46.636" end="17:09:52.116" style="s2">here and just change this to authorized</p>
<p begin="17:09:49.116" end="17:09:52.116" style="s2">client</p>
<p begin="17:09:52.360" end="17:09:56.400" style="s2">and this should give us a</p>
<p begin="17:09:57.916" end="17:10:03.320" style="s2">204 I mean you theoretically could also</p>
<p begin="17:10:00.840" end="17:10:05.400" style="s2">you know then fetch all posts again just</p>
<p begin="17:10:03.320" end="17:10:07.360" style="s2">to verify that the total number of posts</p>
<p begin="17:10:05.400" end="17:10:11.000" style="s2">is one less but we&#39;re not going to do</p>
<p begin="17:10:07.360" end="17:10:11.000" style="s2">that in this case you could however do</p>
<p begin="17:10:18.360" end="17:10:23.160" style="s2">that and that failed so what happened</p>
<p begin="17:10:21.000" end="17:10:25.880" style="s2">here a</p>
<p begin="17:10:23.160" end="17:10:27.476" style="s2">422 and uh two things so I don&#39;t even</p>
<p begin="17:10:25.880" end="17:10:29.436" style="s2">know how this one ran with the same</p>
<p begin="17:10:27.476" end="17:10:32.240" style="s2">issue we should we need to make that an</p>
<p begin="17:10:29.436" end="17:10:35.080" style="s2">F string so I genuinely don&#39;t know why</p>
<p begin="17:10:32.240" end="17:10:38.080" style="s2">that actually worked little alarming but</p>
<p begin="17:10:35.080" end="17:10:38.080" style="s2">let&#39;s test both of those</p>
<p begin="17:10:41.720" end="17:10:46.080" style="s2">out all right all of them passed so</p>
<p begin="17:10:44.000" end="17:10:49.200" style="s2">we&#39;ve got that</p>
<p begin="17:10:46.080" end="17:10:50.796" style="s2">done let&#39;s test deleting a non-existent</p>
<p begin="17:10:49.200" end="17:10:51.796" style="s2">post so an ID that doesn&#39;t exist in our</p>
<p begin="17:10:50.796" end="17:10:54.276" style="s2">database</p>
<p begin="17:10:51.796" end="17:10:57.276" style="s2">I&#39;ll say test delete</p>
<p begin="17:10:54.276" end="17:10:57.276" style="s2">post</p>
<p begin="17:10:58.040" end="17:11:01.956" style="s2">nonexist and I&#39;ll just copy</p>
<p begin="17:11:04.000" end="17:11:09.476" style="s2">these and I&#39;ll copy this actually I&#39;ll</p>
<p begin="17:11:06.796" end="17:11:13.040" style="s2">just copy all of</p>
<p begin="17:11:09.476" end="17:11:16.200" style="s2">this and I&#39;ll just change this to be</p>
<p begin="17:11:13.040" end="17:11:19.680" style="s2">some ridiculously high number and this</p>
<p begin="17:11:16.200" end="17:11:19.680" style="s2">should be a 404</p>
<p begin="17:11:28.680" end="17:11:32.520" style="s2">all right that one looks</p>
<p begin="17:11:30.320" end="17:11:34.796" style="s2">good all right so the next one&#39;s going</p>
<p begin="17:11:32.520" end="17:11:37.160" style="s2">to be a little bit trickier uh we&#39;re</p>
<p begin="17:11:34.796" end="17:11:39.880" style="s2">going to create a test where a user</p>
<p begin="17:11:37.160" end="17:11:41.320" style="s2">tries to delete a post that isn&#39;t theirs</p>
<p begin="17:11:39.880" end="17:11:45.560" style="s2">they try to delete a post that&#39;s owned</p>
<p begin="17:11:41.320" end="17:11:51.360" style="s2">by someone else so we&#39;ll say test</p>
<p begin="17:11:45.560" end="17:11:51.360" style="s2">delete other user post</p>
<p begin="17:11:53.116" end="17:11:57.320" style="s2">now there&#39;s a couple of issues here so</p>
<p begin="17:11:54.796" end="17:11:58.956" style="s2">first of all uh we need to actually have</p>
<p begin="17:11:57.320" end="17:12:03.276" style="s2">more than one user in the database and</p>
<p begin="17:11:58.956" end="17:12:05.320" style="s2">we need to have um posts owned by</p>
<p begin="17:12:03.276" end="17:12:07.040" style="s2">multiple users now so this creates a</p>
<p begin="17:12:05.320" end="17:12:10.956" style="s2">couple challenges so how exactly are we</p>
<p begin="17:12:07.040" end="17:12:13.436" style="s2">going to set up more than one user well</p>
<p begin="17:12:10.956" end="17:12:15.796" style="s2">uh I think it&#39;s best to use fixtures</p>
<p begin="17:12:13.436" end="17:12:17.880" style="s2">like we always have and ideally I would</p>
<p begin="17:12:15.796" end="17:12:21.520" style="s2">have uh set up a test</p>
<p begin="17:12:17.880" end="17:12:24.400" style="s2">user um where is it my test I would have</p>
<p begin="17:12:21.520" end="17:12:26.200" style="s2">set up a test user uh to actually create</p>
<p begin="17:12:24.400" end="17:12:29.400" style="s2">multiple users in our database but I</p>
<p begin="17:12:26.200" end="17:12:30.880" style="s2">didn&#39;t so I just have one um if we had</p>
<p begin="17:12:29.400" end="17:12:32.680" style="s2">set it up so that multiple users are in</p>
<p begin="17:12:30.880" end="17:12:34.560" style="s2">the database then this test would be a</p>
<p begin="17:12:32.680" end="17:12:35.840" style="s2">little bit easier since I didn&#39;t what</p>
<p begin="17:12:34.560" end="17:12:38.880" style="s2">I&#39;m going to do is I&#39;m essentially going</p>
<p begin="17:12:35.840" end="17:12:40.916" style="s2">to copy this I&#39;m going to copy</p>
<p begin="17:12:38.880" end="17:12:42.596" style="s2">this and right above it I&#39;m going to</p>
<p begin="17:12:40.916" end="17:12:44.720" style="s2">create just a second one I know it&#39;s not</p>
<p begin="17:12:42.596" end="17:12:47.240" style="s2">very original probably not the most</p>
<p begin="17:12:44.720" end="17:12:48.680" style="s2">efficient way of doing things and it&#39;s</p>
<p begin="17:12:47.240" end="17:12:51.116" style="s2">going to be dependent on client and</p>
<p begin="17:12:48.680" end="17:12:52.520" style="s2">we&#39;re just going to put a one or</p>
<p begin="17:12:51.116" end="17:12:53.956" style="s2">something it doesn&#39;t really matter just</p>
<p begin="17:12:52.520" end="17:12:57.160" style="s2">so that we have another user I&#39;ll make</p>
<p begin="17:12:53.956" end="17:13:01.240" style="s2">this 1 2 3 and so now we have two</p>
<p begin="17:12:57.160" end="17:13:03.916" style="s2">users which is perfect uh and uh down</p>
<p begin="17:13:01.240" end="17:13:05.720" style="s2">here in my post data what I&#39;m actually</p>
<p begin="17:13:03.916" end="17:13:07.476" style="s2">going to do is I&#39;m going to create one</p>
<p begin="17:13:05.720" end="17:13:10.320" style="s2">extra</p>
<p begin="17:13:07.476" end="17:13:12.520" style="s2">post and we could just copy this data</p>
<p begin="17:13:10.320" end="17:13:12.520" style="s2">right</p>
<p begin="17:13:13.476" end="17:13:18.840" style="s2">here and here I&#39;m actually going to pass</p>
<p begin="17:13:16.520" end="17:13:21.756" style="s2">in an extra fixture which is going to be</p>
<p begin="17:13:18.840" end="17:13:25.116" style="s2">testore user 2 so before test post get</p>
<p begin="17:13:21.756" end="17:13:25.116" style="s2">created we&#39;re going to create the second</p>
<p begin="17:13:25.636" end="17:13:30.436" style="s2">user and here I can just grab the ID of</p>
<p begin="17:13:28.240" end="17:13:32.400" style="s2">test user to and actually I don&#39;t even</p>
<p begin="17:13:30.436" end="17:13:33.880" style="s2">need to do that I don&#39;t know why I did</p>
<p begin="17:13:32.400" end="17:13:36.796" style="s2">that let&#39;s we don&#39;t even need to create</p>
<p begin="17:13:33.880" end="17:13:39.360" style="s2">a post uh owned by that user we&#39;ll leave</p>
<p begin="17:13:36.796" end="17:13:41.756" style="s2">it like this for</p>
<p begin="17:13:39.360" end="17:13:42.840" style="s2">now nope I was right actually we do I</p>
<p begin="17:13:41.756" end="17:13:47.560" style="s2">don&#39;t know why I&#39;m flip-flopping like</p>
<p begin="17:13:42.840" end="17:13:50.680" style="s2">this so so the fourth post 1 2 3 4 is</p>
<p begin="17:13:47.560" end="17:13:53.756" style="s2">going to be owned by test user 2 and so</p>
<p begin="17:13:50.680" end="17:13:55.080" style="s2">now if I go back to test post here we&#39;re</p>
<p begin="17:13:53.756" end="17:13:56.320" style="s2">going to be logged in remember</p>
<p begin="17:13:55.080" end="17:13:58.200" style="s2">authorized client is always going to be</p>
<p begin="17:13:56.320" end="17:14:01.116" style="s2">logged in as user one so we&#39;re going to</p>
<p begin="17:13:58.200" end="17:14:03.560" style="s2">try to delete that fourth post uh and so</p>
<p begin="17:14:01.116" end="17:14:06.520" style="s2">we can do that by uh grabbing the ID of</p>
<p begin="17:14:03.560" end="17:14:11.596" style="s2">the fourth post so we&#39;ll say</p>
<p begin="17:14:06.520" end="17:14:15.160" style="s2">testore need curly braces testore</p>
<p begin="17:14:11.596" end="17:14:17.040" style="s2">posts we&#39;ll grab the fourth one which is</p>
<p begin="17:14:15.160" end="17:14:21.720" style="s2">an index of</p>
<p begin="17:14:17.040" end="17:14:21.720" style="s2">three and then we&#39;ll grab ID</p>
<p begin="17:14:21.956" end="17:14:29.240" style="s2">and this should um I forget what kind of</p>
<p begin="17:14:25.520" end="17:14:29.240" style="s2">error it should get or what status</p>
<p begin="17:14:29.320" end="17:14:32.720" style="s2">code I think it&#39;s</p>
<p begin="17:14:34.756" end="17:14:44.956" style="s2">403 uh so we&#39;ll do assert res. status</p>
<p begin="17:14:39.560" end="17:14:44.956" style="s2">uncore code equals equals 403</p>
<p begin="17:14:53.320" end="17:14:59.000" style="s2">and it looks like that successfully</p>
<p begin="17:14:55.596" end="17:15:00.596" style="s2">passed uh and so that one&#39;s good and</p>
<p begin="17:14:59.000" end="17:15:03.360" style="s2">that pretty much wraps up all of the</p>
<p begin="17:15:00.596" end="17:15:04.720" style="s2">delete tests that I want uh and then in</p>
<p begin="17:15:03.360" end="17:15:07.360" style="s2">the next video we&#39;ll take a look at</p>
<p begin="17:15:04.720" end="17:15:13.200" style="s2">updating posts all right so let&#39;s update</p>
<p begin="17:15:07.360" end="17:15:17.040" style="s2">a post I&#39;ll say de testore update</p>
<p begin="17:15:13.200" end="17:15:21.320" style="s2">post here uh we need an authorized</p>
<p begin="17:15:17.040" end="17:15:24.840" style="s2">client and we&#39;ll need a test user</p>
<p begin="17:15:21.320" end="17:15:27.200" style="s2">and we&#39;ll need testore</p>
<p begin="17:15:24.840" end="17:15:28.840" style="s2">posts all right and I&#39;m going to define</p>
<p begin="17:15:27.200" end="17:15:30.880" style="s2">a dictionary with the values that I want</p>
<p begin="17:15:28.840" end="17:15:33.080" style="s2">to update and so here I&#39;ve got the title</p>
<p begin="17:15:30.880" end="17:15:35.000" style="s2">the content and then the ID which I&#39;m</p>
<p begin="17:15:33.080" end="17:15:38.276" style="s2">grabbing from test posts and I&#39;m just</p>
<p begin="17:15:35.000" end="17:15:41.320" style="s2">going to use the first test Post in</p>
<p begin="17:15:38.276" end="17:15:45.276" style="s2">there and I&#39;ll say res equals authorized</p>
<p begin="17:15:41.320" end="17:15:48.240" style="s2">client dot I think it&#39;s</p>
<p begin="17:15:45.276" end="17:15:52.160" style="s2">put and then we&#39;re going to do an F</p>
<p begin="17:15:48.240" end="17:15:54.240" style="s2">string and we&#39;ll say SL poost</p>
<p begin="17:15:52.160" end="17:15:56.796" style="s2">and this one will be</p>
<p begin="17:15:54.240" end="17:15:58.320" style="s2">testore</p>
<p begin="17:15:56.796" end="17:16:01.320" style="s2">posts</p>
<p begin="17:15:58.320" end="17:16:01.320" style="s2">z.</p>
<p begin="17:16:03.200" end="17:16:07.680" style="s2">ID and then we have to pass in the data</p>
<p begin="17:16:05.840" end="17:16:10.160" style="s2">so we&#39;ll do Json</p>
<p begin="17:16:07.680" end="17:16:14.080" style="s2">equals uh</p>
<p begin="17:16:10.160" end="17:16:14.080" style="s2">data so we passing in this</p>
<p begin="17:16:16.636" end="17:16:21.596" style="s2">dictionary right and uh just like we do</p>
<p begin="17:16:19.400" end="17:16:25.596" style="s2">with um</p>
<p begin="17:16:21.596" end="17:16:25.596" style="s2">the other routes if we go to the update</p>
<p begin="17:16:26.720" end="17:16:30.436" style="s2">post uh technically we&#39;re sending it out</p>
<p begin="17:16:28.956" end="17:16:32.596" style="s2">with the schema of post so we can just</p>
<p begin="17:16:30.436" end="17:16:35.360" style="s2">quickly validate it on our end on the</p>
<p begin="17:16:32.596" end="17:16:41.436" style="s2">test as well so I can</p>
<p begin="17:16:35.360" end="17:16:46.560" style="s2">say uh updated post equals schemas</p>
<p begin="17:16:41.436" end="17:16:46.560" style="s2">dopost and we&#39;ll pass in res.</p>
<p begin="17:16:49.840" end="17:16:54.796" style="s2">Json and then we can assert a couple</p>
<p begin="17:16:52.000" end="17:16:58.116" style="s2">things so we&#39;ll say uh res. status</p>
<p begin="17:16:54.796" end="17:17:01.276" style="s2">code is going to equal uh what&#39;s an</p>
<p begin="17:16:58.116" end="17:17:02.880" style="s2">update I guess we use 200 in that case</p>
<p begin="17:17:01.276" end="17:17:05.160" style="s2">and then we can assert a few things so</p>
<p begin="17:17:02.880" end="17:17:09.400" style="s2">we want to make sure that the new</p>
<p begin="17:17:05.160" end="17:17:12.916" style="s2">title uh we can do updated post.</p>
<p begin="17:17:09.400" end="17:17:12.916" style="s2">tile equals</p>
<p begin="17:17:13.276" end="17:17:21.476" style="s2">equals um data.</p>
<p begin="17:17:18.116" end="17:17:23.436" style="s2">updated uh sorry data dot ah this is a</p>
<p begin="17:17:21.476" end="17:17:25.720" style="s2">dictionary so</p>
<p begin="17:17:23.436" end="17:17:27.956" style="s2">title and we can do the same thing for</p>
<p begin="17:17:25.720" end="17:17:27.956" style="s2">the</p>
<p begin="17:17:37.360" end="17:17:40.560" style="s2">content and I think that should be</p>
<p begin="17:17:39.240" end="17:17:43.636" style="s2">everything that we</p>
<p begin="17:17:40.560" end="17:17:45.240" style="s2">need and just to you know just to make</p>
<p begin="17:17:43.636" end="17:17:48.000" style="s2">sure that my tests don&#39;t take too long</p>
<p begin="17:17:45.240" end="17:17:50.200" style="s2">I&#39;m going to start uh commenting out all</p>
<p begin="17:17:48.000" end="17:17:51.520" style="s2">of my other code all of my other tests</p>
<p begin="17:17:50.200" end="17:17:53.160" style="s2">in this file</p>
<p begin="17:17:51.520" end="17:17:54.880" style="s2">just to make things a little bit quicker</p>
<p begin="17:17:53.160" end="17:17:57.240" style="s2">but you can see how it starts to slow</p>
<p begin="17:17:54.880" end="17:17:58.520" style="s2">down uh just with just a couple of tests</p>
<p begin="17:17:57.240" end="17:18:01.080" style="s2">really</p>
<p begin="17:17:58.520" end="17:18:03.360" style="s2">so we can see that it did successfully</p>
<p begin="17:18:01.080" end="17:18:06.360" style="s2">pass so that&#39;s good um we&#39;ve got the</p>
<p begin="17:18:03.360" end="17:18:06.360" style="s2">first update post</p>
<p begin="17:18:06.520" end="17:18:11.880" style="s2">test uh the next thing I want to do is I</p>
<p begin="17:18:08.636" end="17:18:14.596" style="s2">want to try to update another user&#39;s</p>
<p begin="17:18:11.880" end="17:18:18.476" style="s2">post so we&#39;ll say</p>
<p begin="17:18:14.596" end="17:18:22.720" style="s2">update other user</p>
<p begin="17:18:18.476" end="17:18:25.080" style="s2">post so this we need to authorize</p>
<p begin="17:18:22.720" end="17:18:28.520" style="s2">client uh we need test</p>
<p begin="17:18:25.080" end="17:18:31.796" style="s2">user and we need test user</p>
<p begin="17:18:28.520" end="17:18:34.916" style="s2">2 and</p>
<p begin="17:18:31.796" end="17:18:37.080" style="s2">testore posts so we&#39;re going to try to</p>
<p begin="17:18:34.916" end="17:18:38.636" style="s2">update that last post and so I&#39;m going</p>
<p begin="17:18:37.080" end="17:18:41.000" style="s2">to define a dictionary with the values I</p>
<p begin="17:18:38.636" end="17:18:43.636" style="s2">want to update it with uh so same thing</p>
<p begin="17:18:41.000" end="17:18:45.200" style="s2">title content the only difference is the</p>
<p begin="17:18:43.636" end="17:18:49.000" style="s2">ID is going to be</p>
<p begin="17:18:45.200" end="17:18:51.840" style="s2">uh I think it&#39;s uh actually three the ID</p>
<p begin="17:18:49.000" end="17:18:52.720" style="s2">is going to be of um the third sorry the</p>
<p begin="17:18:51.840" end="17:18:55.040" style="s2">the</p>
<p begin="17:18:52.720" end="17:18:57.200" style="s2">fourth item in that list and I just want</p>
<p begin="17:18:55.040" end="17:19:01.400" style="s2">to make sure it&#39;s the fourth one so one</p>
<p begin="17:18:57.200" end="17:19:05.320" style="s2">two 3 four so yeah we need a a value of</p>
<p begin="17:19:01.400" end="17:19:05.320" style="s2">three and I&#39;m going to copy</p>
<p begin="17:19:06.756" end="17:19:10.796" style="s2">this and just change this to</p>
<p begin="17:19:12.000" end="17:19:19.916" style="s2">three and we should get a status code</p>
<p begin="17:19:15.916" end="17:19:19.916" style="s2">of 403</p>
<p begin="17:19:24.000" end="17:19:29.756" style="s2">and let&#39;s test that</p>
<p begin="17:19:26.756" end="17:19:29.756" style="s2">out</p>
<p begin="17:19:31.000" end="17:19:35.276" style="s2">perfect and the last thing we need to do</p>
<p begin="17:19:33.116" end="17:19:37.720" style="s2">is a unauthenticated user trying to</p>
<p begin="17:19:35.276" end="17:19:42.160" style="s2">update a post actually there&#39;s two more</p>
<p begin="17:19:37.720" end="17:19:48.200" style="s2">tests um so let me grab</p>
<p begin="17:19:42.160" end="17:19:48.200" style="s2">uh unauthorized user this one right here</p>
<p begin="17:19:53.560" end="17:19:56.560" style="s2">and this is going to be a</p>
<p begin="17:19:57.596" end="17:20:04.240" style="s2">put and that should return a 401 and the</p>
<p begin="17:20:01.360" end="17:20:05.596" style="s2">last thing that we need is and actually</p>
<p begin="17:20:04.240" end="17:20:07.160" style="s2">I need to update this name so</p>
<p begin="17:20:05.596" end="17:20:10.680" style="s2">unauthorized</p>
<p begin="17:20:07.160" end="17:20:10.680" style="s2">test update</p>
<p begin="17:20:14.160" end="17:20:21.116" style="s2">post we can also set up a test to um</p>
<p begin="17:20:18.116" end="17:20:22.796" style="s2">update a post that doesn&#39;t exist and I</p>
<p begin="17:20:21.116" end="17:20:25.720" style="s2">believe we can just copy the deleting</p>
<p begin="17:20:22.796" end="17:20:30.320" style="s2">the post that doesn&#39;t exist</p>
<p begin="17:20:25.720" end="17:20:33.360" style="s2">um uh Delete post delete post non-exist</p>
<p begin="17:20:30.320" end="17:20:33.360" style="s2">so I could just copy this</p>
<p begin="17:20:35.880" end="17:20:44.116" style="s2">one and change this to a</p>
<p begin="17:20:39.756" end="17:20:44.116" style="s2">put and we&#39;ll change the name to be</p>
<p begin="17:20:49.160" end="17:20:56.320" style="s2">update and Let&#39;s test this</p>
<p begin="17:20:52.636" end="17:20:56.320" style="s2">out hopefully everything</p>
<p begin="17:20:56.400" end="17:21:00.796" style="s2">works oh one failed what happened</p>
<p begin="17:21:02.720" end="17:21:08.000" style="s2">here okay so it tries to validate it um</p>
<p begin="17:21:05.756" end="17:21:10.000" style="s2">because I didn&#39;t provide any data so I</p>
<p begin="17:21:08.000" end="17:21:12.720" style="s2">can just copy this data right here just</p>
<p begin="17:21:10.000" end="17:21:12.720" style="s2">so we can give it</p>
<p begin="17:21:13.476" end="17:21:20.636" style="s2">something and so we can say uh Json</p>
<p begin="17:21:17.840" end="17:21:24.040" style="s2">equals data and that&#39;s going to to</p>
<p begin="17:21:20.636" end="17:21:24.040" style="s2">prevent us from getting validation</p>
<p begin="17:21:25.240" end="17:21:29.680" style="s2">errors and that passed perfect so let&#39;s</p>
<p begin="17:21:28.720" end="17:21:31.956" style="s2">take all that I&#39;m just going to</p>
<p begin="17:21:29.680" end="17:21:34.520" style="s2">uncomment everything else so we can get</p>
<p begin="17:21:31.956" end="17:21:38.240" style="s2">all of our tests back and that&#39;s going</p>
<p begin="17:21:34.520" end="17:21:42.840" style="s2">to wrap up updating posts and that&#39;s</p>
<p begin="17:21:38.240" end="17:21:45.276" style="s2">actually going to wrap up all of my post</p>
<p begin="17:21:42.840" end="17:21:47.160" style="s2">cases uh and so I guess the last thing</p>
<p begin="17:21:45.276" end="17:21:48.720" style="s2">that we got to do is set up uh all of</p>
<p begin="17:21:47.160" end="17:21:50.200" style="s2">the voting tests and there&#39;s only going</p>
<p begin="17:21:48.720" end="17:21:50.956" style="s2">to be a couple of voting tests but it</p>
<p begin="17:21:50.200" end="17:21:52.000" style="s2">should be</p>
<p begin="17:21:50.956" end="17:21:54.560" style="s2">fairly</p>
<p begin="17:21:52.000" end="17:21:56.240" style="s2">quick all right so let&#39;s move on to</p>
<p begin="17:21:54.560" end="17:21:58.560" style="s2">setting of our test for voting I&#39;m going</p>
<p begin="17:21:56.240" end="17:22:01.720" style="s2">to create a new file we&#39;ll call this</p>
<p begin="17:21:58.560" end="17:22:01.720" style="s2">testore votes.</p>
<p begin="17:22:01.916" end="17:22:07.956" style="s2">py and let&#39;s define our first function</p>
<p begin="17:22:04.276" end="17:22:09.720" style="s2">so I&#39;ll call this uh test uh vote on</p>
<p begin="17:22:07.956" end="17:22:12.276" style="s2">post so this is going to be a successful</p>
<p begin="17:22:09.720" end="17:22:15.360" style="s2">vote on a post what do we need we need</p>
<p begin="17:22:12.276" end="17:22:15.360" style="s2">an authorized client of</p>
<p begin="17:22:15.636" end="17:22:20.000" style="s2">course and we need uh to make sure that</p>
<p begin="17:22:18.756" end="17:22:22.436" style="s2">there&#39;s some posts already in our</p>
<p begin="17:22:20.000" end="17:22:22.436" style="s2">database</p>
<p begin="17:22:26.756" end="17:22:32.596" style="s2">all right and now I can do a authorized</p>
<p begin="17:22:29.160" end="17:22:36.720" style="s2">client. uh</p>
<p begin="17:22:32.596" end="17:22:38.596" style="s2">post and here this is going to be uh the</p>
<p begin="17:22:36.720" end="17:22:40.560" style="s2">vote</p>
<p begin="17:22:38.596" end="17:22:42.400" style="s2">endpoint and let&#39;s just give it some</p>
<p begin="17:22:40.560" end="17:22:43.756" style="s2">data so here we&#39;re going to pass the</p>
<p begin="17:22:42.400" end="17:22:48.160" style="s2">post</p>
<p begin="17:22:43.756" end="17:22:48.160" style="s2">ID so this will be postore</p>
<p begin="17:22:49.000" end="17:22:54.276" style="s2">ID and we&#39;ll Gra grab the first item in</p>
<p begin="17:22:52.880" end="17:22:58.476" style="s2">our</p>
<p begin="17:22:54.276" end="17:22:58.476" style="s2">list test post.</p>
<p begin="17:22:58.520" end="17:23:04.476" style="s2">ID and I forgot my curly braces that&#39;s</p>
<p begin="17:23:01.240" end="17:23:04.476" style="s2">why it&#39;s giving me an error right</p>
<p begin="17:23:07.400" end="17:23:13.276" style="s2">now and uh we&#39;ll say what is</p>
<p begin="17:23:11.040" end="17:23:16.720" style="s2">the oh the direction so we&#39;re going to</p>
<p begin="17:23:13.276" end="17:23:19.080" style="s2">be voting so this going to be dur set to</p>
<p begin="17:23:16.720" end="17:23:20.520" style="s2">one all right and now technically if you</p>
<p begin="17:23:19.080" end="17:23:23.680" style="s2">look at what&#39;s happening right we&#39;re</p>
<p begin="17:23:20.520" end="17:23:26.520" style="s2">logged in as user one and test post if</p>
<p begin="17:23:23.680" end="17:23:29.436" style="s2">we go back to that fixture where is this</p>
<p begin="17:23:26.520" end="17:23:31.840" style="s2">guy that&#39;s owned by user one as</p>
<p begin="17:23:29.436" end="17:23:33.880" style="s2">well so technically we&#39;re voting on our</p>
<p begin="17:23:31.840" end="17:23:35.560" style="s2">own post but if you look at our code we</p>
<p begin="17:23:33.880" end="17:23:38.360" style="s2">didn&#39;t actually put any checks to stop</p>
<p begin="17:23:35.560" end="17:23:40.320" style="s2">us from um liking one of our own posts</p>
<p begin="17:23:38.360" end="17:23:42.956" style="s2">so it&#39;s perfectly fine in our test to do</p>
<p begin="17:23:40.320" end="17:23:44.756" style="s2">that just because our our code is right</p>
<p begin="17:23:42.956" end="17:23:46.200" style="s2">now allowing it if you didn&#39;t want to do</p>
<p begin="17:23:44.756" end="17:23:47.956" style="s2">it then first of all we&#39;d have to update</p>
<p begin="17:23:46.200" end="17:23:49.400" style="s2">this code to make sure that we perform a</p>
<p begin="17:23:47.956" end="17:23:52.040" style="s2">check to verify that hey are we voting</p>
<p begin="17:23:49.400" end="17:23:53.756" style="s2">on our own code if so uh sorry voting on</p>
<p begin="17:23:52.040" end="17:23:55.956" style="s2">our own post then we should reject it</p>
<p begin="17:23:53.756" end="17:23:57.680" style="s2">but we don&#39;t have that implemented so</p>
<p begin="17:23:55.956" end="17:23:59.840" style="s2">for our test it&#39;s perfectly fine because</p>
<p begin="17:23:57.680" end="17:24:01.596" style="s2">that&#39;s how our application works but</p>
<p begin="17:23:59.840" end="17:24:03.000" style="s2">obviously if you wanted to um to make</p>
<p begin="17:24:01.596" end="17:24:05.320" style="s2">sure that you&#39;re testing someone else&#39;s</p>
<p begin="17:24:03.000" end="17:24:08.080" style="s2">post um then you could just obviously</p>
<p begin="17:24:05.320" end="17:24:09.720" style="s2">pick the last item so the third item in</p>
<p begin="17:24:08.080" end="17:24:11.596" style="s2">the array um because that&#39;s owned by</p>
<p begin="17:24:09.720" end="17:24:14.756" style="s2">test user to you just would have to make</p>
<p begin="17:24:11.596" end="17:24:16.596" style="s2">sure that you pass in test user to in</p>
<p begin="17:24:14.756" end="17:24:18.720" style="s2">this</p>
<p begin="17:24:16.596" end="17:24:21.116" style="s2">case uh just to make sure that he gets</p>
<p begin="17:24:18.720" end="17:24:22.720" style="s2">initialized</p>
<p begin="17:24:21.116" end="17:24:24.680" style="s2">um but that that&#39;s a good uh assignment</p>
<p begin="17:24:22.720" end="17:24:26.080" style="s2">for you guys um I would see if you guys</p>
<p begin="17:24:24.680" end="17:24:28.040" style="s2">can Implement logic to make sure that</p>
<p begin="17:24:26.080" end="17:24:29.880" style="s2">you can&#39;t vote on your own post and then</p>
<p begin="17:24:28.040" end="17:24:31.796" style="s2">go ahead and create your very own test</p>
<p begin="17:24:29.880" end="17:24:33.436" style="s2">to make sure that uh if a user tries to</p>
<p begin="17:24:31.796" end="17:24:36.360" style="s2">vote on his own post he gets an error of</p>
<p begin="17:24:33.436" end="17:24:38.400" style="s2">some kind um but for us this is good</p>
<p begin="17:24:36.360" end="17:24:40.040" style="s2">enough I&#39;ll leave it as three just so</p>
<p begin="17:24:38.400" end="17:24:42.756" style="s2">we&#39;re voting on someone else&#39;s post I&#39;m</p>
<p begin="17:24:40.040" end="17:24:44.400" style="s2">okay with that and we can just assert</p>
<p begin="17:24:42.756" end="17:24:47.756" style="s2">res. status</p>
<p begin="17:24:44.400" end="17:24:51.840" style="s2">code equals equals 2011 don&#39;t really</p>
<p begin="17:24:47.756" end="17:24:51.840" style="s2">need to check anything else</p>
<p begin="17:24:52.756" end="17:24:56.476" style="s2">and now I can just change this to test</p>
<p begin="17:24:57.796" end="17:25:02.276" style="s2">votes okay so that one successfully</p>
<p begin="17:25:02.840" end="17:25:06.840" style="s2">passed all right the next thing I want</p>
<p begin="17:25:04.680" end="17:25:09.360" style="s2">to test on is what happens when a user</p>
<p begin="17:25:06.840" end="17:25:11.320" style="s2">tries to uh Vote or like a post that</p>
<p begin="17:25:09.360" end="17:25:17.200" style="s2">he&#39;s already liked so we&#39;ll call this a</p>
<p begin="17:25:11.320" end="17:25:17.200" style="s2">def uh testore vote uncore twice</p>
<p begin="17:25:18.080" end="17:25:24.160" style="s2">poost and so uh we&#39;ll need an authorized</p>
<p begin="17:25:21.840" end="17:25:26.200" style="s2">client uh we&#39;ll definitely need test</p>
<p begin="17:25:24.160" end="17:25:28.880" style="s2">posts um but there&#39;s one little issue</p>
<p begin="17:25:26.200" end="17:25:32.160" style="s2">with this one right we need to have a</p>
<p begin="17:25:28.880" end="17:25:33.796" style="s2">post that&#39;s already been voted on and we</p>
<p begin="17:25:32.160" end="17:25:36.560" style="s2">don&#39;t have that right now so how do we</p>
<p begin="17:25:33.796" end="17:25:39.116" style="s2">do that well I mean theoretically we</p>
<p begin="17:25:36.560" end="17:25:41.436" style="s2">could initialize our uh test post</p>
<p begin="17:25:39.116" end="17:25:42.956" style="s2">fixture with some votes but instead of</p>
<p begin="17:25:41.436" end="17:25:44.756" style="s2">doing that I&#39;m going to actually create</p>
<p begin="17:25:42.956" end="17:25:46.520" style="s2">a new fixture and I&#39;m going to keep it</p>
<p begin="17:25:44.756" end="17:25:49.080" style="s2">in this file because all this fixture</p>
<p begin="17:25:46.520" end="17:25:51.596" style="s2">will do is it will set up one of our</p>
<p begin="17:25:49.080" end="17:25:54.080" style="s2">posts to have a vote on it already um</p>
<p begin="17:25:51.596" end="17:25:55.400" style="s2">and I don&#39;t think really anybody else in</p>
<p begin="17:25:54.080" end="17:25:58.200" style="s2">any other test in our application is</p>
<p begin="17:25:55.400" end="17:25:59.636" style="s2">going to need that outside of the voting</p>
<p begin="17:25:58.200" end="17:26:01.756" style="s2">file because that&#39;s the only one that&#39;s</p>
<p begin="17:25:59.636" end="17:26:05.436" style="s2">concerned with voting so let&#39;s test that</p>
<p begin="17:26:01.756" end="17:26:08.520" style="s2">out uh so we&#39;ll import py</p>
<p begin="17:26:05.436" end="17:26:12.520" style="s2">test and we&#39;ll set up our fixture so py</p>
<p begin="17:26:08.520" end="17:26:12.520" style="s2">test. fixture</p>
<p begin="17:26:20.636" end="17:26:24.436" style="s2">and I&#39;ll call this um test vote</p>
<p begin="17:26:24.796" end="17:26:30.160" style="s2">maybe and so for this fixture to work we</p>
<p begin="17:26:27.040" end="17:26:30.160" style="s2">definitely need an authorized</p>
<p begin="17:26:31.000" end="17:26:35.360" style="s2">client actually we don&#39;t need an</p>
<p begin="17:26:32.840" end="17:26:35.360" style="s2">authorized</p>
<p begin="17:26:37.756" end="17:26:43.360" style="s2">client uh we&#39;ll need a we&#39;ll need test</p>
<p begin="17:26:41.320" end="17:26:44.756" style="s2">posts uh we&#39;ll need a session because</p>
<p begin="17:26:43.360" end="17:26:46.756" style="s2">we&#39;re going to just change it in the</p>
<p begin="17:26:44.756" end="17:26:47.840" style="s2">database directly and then we&#39;ll need a</p>
<p begin="17:26:46.756" end="17:26:50.360" style="s2">test</p>
<p begin="17:26:47.840" end="17:26:51.680" style="s2">user and so let&#39;s uh well we&#39;re going to</p>
<p begin="17:26:50.360" end="17:26:53.320" style="s2">have to import our models so I&#39;m going</p>
<p begin="17:26:51.680" end="17:26:58.476" style="s2">to say</p>
<p begin="17:26:53.320" end="17:27:01.596" style="s2">import um import from</p>
<p begin="17:26:58.476" end="17:27:04.680" style="s2">App import</p>
<p begin="17:27:01.596" end="17:27:07.476" style="s2">models and I&#39;m going to say models. vote</p>
<p begin="17:27:04.680" end="17:27:09.436" style="s2">so let&#39;s create a new vote uh so we&#39;re</p>
<p begin="17:27:07.476" end="17:27:12.680" style="s2">going to have to pass in the postore ID</p>
<p begin="17:27:09.436" end="17:27:16.916" style="s2">which is going to equal uh testore</p>
<p begin="17:27:12.680" end="17:27:19.360" style="s2">user we&#39;ll grab the third one do</p>
<p begin="17:27:16.916" end="17:27:21.520" style="s2">ID and then we need to pass in the user</p>
<p begin="17:27:19.360" end="17:27:23.040" style="s2">ID</p>
<p begin="17:27:21.520" end="17:27:24.360" style="s2">which equals oh it looks like we</p>
<p begin="17:27:23.040" end="17:27:27.116" style="s2">actually yeah we already have the test</p>
<p begin="17:27:24.360" end="17:27:29.756" style="s2">user so I can say testore</p>
<p begin="17:27:27.116" end="17:27:33.720" style="s2">user</p>
<p begin="17:27:29.756" end="17:27:37.040" style="s2">ID and then I can just do session.</p>
<p begin="17:27:33.720" end="17:27:37.040" style="s2">add new</p>
<p begin="17:27:37.680" end="17:27:43.916" style="s2">vote and I need to create a variable or</p>
<p begin="17:27:40.520" end="17:27:43.916" style="s2">store this in a variable so new</p>
<p begin="17:27:46.720" end="17:27:54.116" style="s2">vote and then we can do session. commit</p>
<p begin="17:27:51.400" end="17:27:56.956" style="s2">and so down here I can pass in uh</p>
<p begin="17:27:54.116" end="17:27:56.956" style="s2">testore</p>
<p begin="17:28:02.560" end="17:28:10.680" style="s2">vote and I&#39;ll say res equals authorized</p>
<p begin="17:28:07.680" end="17:28:10.680" style="s2">client.</p>
<p begin="17:28:17.160" end="17:28:25.560" style="s2">poost and then Json equals</p>
<p begin="17:28:21.636" end="17:28:25.560" style="s2">uh what is the post ID we&#39;ll grab this</p>
<p begin="17:28:26.200" end="17:28:35.000" style="s2">from uh test underscore posts grab the</p>
<p begin="17:28:31.320" end="17:28:35.000" style="s2">third and we&#39;ll grab the</p>
<p begin="17:28:40.116" end="17:28:45.636" style="s2">ID and then we&#39;ll set</p>
<p begin="17:28:43.720" end="17:28:48.436" style="s2">the the</p>
<p begin="17:28:45.636" end="17:28:52.720" style="s2">dur to be a</p>
<p begin="17:28:48.436" end="17:28:55.636" style="s2">one so we&#39;re trying to revote on that</p>
<p begin="17:28:52.720" end="17:29:01.400" style="s2">vote and we should get a 409 so we&#39;ll do</p>
<p begin="17:28:55.636" end="17:29:01.400" style="s2">assert res. status code equals equals</p>
<p begin="17:29:03.080" end="17:29:06.956" style="s2">409 all right let&#39;s test that</p>
<p begin="17:29:07.000" end="17:29:12.276" style="s2">out one error oh man what happened</p>
<p begin="17:29:14.320" end="17:29:18.596" style="s2">here that&#39;s a key error so something</p>
<p begin="17:29:17.200" end="17:29:20.880" style="s2">very simple</p>
<p begin="17:29:18.596" end="17:29:23.636" style="s2">happened y and and I see my mistake they</p>
<p begin="17:29:20.880" end="17:29:23.636" style="s2">should be test</p>
<p begin="17:29:26.756" end="17:29:34.796" style="s2">posts all right let&#39;s try that out</p>
<p begin="17:29:30.560" end="17:29:34.796" style="s2">now and that worked</p>
<p begin="17:29:36.560" end="17:29:42.560" style="s2">perfect all right now let&#39;s try</p>
<p begin="17:29:38.476" end="17:29:42.560" style="s2">successfully deleting a vote</p>
<p begin="17:29:50.520" end="17:29:54.840" style="s2">and so we will need all of these we&#39;ll</p>
<p begin="17:29:52.040" end="17:29:54.840" style="s2">also need a test</p>
<p begin="17:29:57.080" end="17:30:04.116" style="s2">vote and so we do res</p>
<p begin="17:30:00.560" end="17:30:08.476" style="s2">equals authorized client. poost once</p>
<p begin="17:30:04.116" end="17:30:08.476" style="s2">again G I&#39;m just going to copy all of</p>
<p begin="17:30:09.436" end="17:30:14.916" style="s2">this uh so we got that and then the</p>
<p begin="17:30:11.596" end="17:30:14.916" style="s2">direction is going to be zero for</p>
<p begin="17:30:17.596" end="17:30:23.040" style="s2">deletion and then we just need to assert</p>
<p begin="17:30:20.080" end="17:30:26.796" style="s2">res. status code uh this is going to</p>
<p begin="17:30:23.040" end="17:30:26.796" style="s2">equal I think we just left it as a</p>
<p begin="17:30:31.956" end="17:30:37.840" style="s2">2011 okay so that worked and then now we</p>
<p begin="17:30:35.200" end="17:30:39.956" style="s2">want to delete a vote uh that doesn&#39;t</p>
<p begin="17:30:37.840" end="17:30:43.520" style="s2">exist so unlike a post that doesn&#39;t that</p>
<p begin="17:30:39.956" end="17:30:47.636" style="s2">we never liked so we&#39;ll say uh def</p>
<p begin="17:30:43.520" end="17:30:47.636" style="s2">testore uh Delete</p>
<p begin="17:30:47.840" end="17:30:54.560" style="s2">vote non</p>
<p begin="17:30:51.756" end="17:30:57.276" style="s2">exist uh so we&#39;ll need the same exact</p>
<p begin="17:30:54.560" end="17:30:58.436" style="s2">stuff right here I&#39;m just going to copy</p>
<p begin="17:30:57.276" end="17:31:01.200" style="s2">all of this for now and then we&#39;ll</p>
<p begin="17:30:58.436" end="17:31:04.636" style="s2">change up the few</p>
<p begin="17:31:01.200" end="17:31:07.436" style="s2">details uh Direction zero same</p>
<p begin="17:31:04.636" end="17:31:10.680" style="s2">post um but I&#39;ll just</p>
<p begin="17:31:07.436" end="17:31:12.040" style="s2">grab actually um we don&#39;t want the test</p>
<p begin="17:31:10.680" end="17:31:13.956" style="s2">vote because we want to make sure that</p>
<p begin="17:31:12.040" end="17:31:15.636" style="s2">there isn&#39;t a vote so we&#39;re going to</p>
<p begin="17:31:13.956" end="17:31:21.840" style="s2">remove that</p>
<p begin="17:31:15.636" end="17:31:21.840" style="s2">fixture and this should be a 404</p>
<p begin="17:31:22.520" end="17:31:28.400" style="s2">or let&#39;s try</p>
<p begin="17:31:25.756" end="17:31:31.276" style="s2">that that worked and then finally let&#39;s</p>
<p begin="17:31:28.400" end="17:31:34.160" style="s2">try uh voting on a post that doesn&#39;t</p>
<p begin="17:31:31.276" end="17:31:36.880" style="s2">exist so we&#39;ll yeah liking a post that</p>
<p begin="17:31:34.160" end="17:31:41.520" style="s2">doesn&#39;t exist so we&#39;ll say def toast uh</p>
<p begin="17:31:36.880" end="17:31:41.520" style="s2">test vote post</p>
<p begin="17:31:42.720" end="17:31:49.200" style="s2">nonexist and uh copy all of these</p>
<p begin="17:31:50.720" end="17:31:53.400" style="s2">I copy</p>
<p begin="17:31:53.520" end="17:32:02.476" style="s2">this set the direction to one and uh the</p>
<p begin="17:31:57.916" end="17:32:02.476" style="s2">ID is going to be</p>
<p begin="17:32:04.116" end="17:32:12.200" style="s2">8,000 and we expect the status code to</p>
<p begin="17:32:08.160" end="17:32:12.200" style="s2">be uh 404 as</p>
<p begin="17:32:16.520" end="17:32:19.880" style="s2">well all right it looks like</p>
<p begin="17:32:18.400" end="17:32:21.560" style="s2">everything&#39;s good the last thing that we</p>
<p begin="17:32:19.880" end="17:32:24.840" style="s2">just want to check is make sure that a</p>
<p begin="17:32:21.560" end="17:32:27.916" style="s2">user who isn&#39;t authenticated can&#39;t vote</p>
<p begin="17:32:24.840" end="17:32:27.916" style="s2">so I will copy</p>
<p begin="17:32:28.520" end="17:32:35.476" style="s2">this uh test</p>
<p begin="17:32:31.476" end="17:32:37.680" style="s2">vote um unauthorized</p>
<p begin="17:32:35.476" end="17:32:40.360" style="s2">user and then we want just the regular</p>
<p begin="17:32:37.680" end="17:32:40.360" style="s2">client in this</p>
<p begin="17:32:43.636" end="17:32:52.956" style="s2">case we&#39;ll do uh test posts 3. ID</p>
<p begin="17:32:50.000" end="17:32:55.160" style="s2">and this should be what is it a</p>
<p begin="17:32:52.956" end="17:32:59.680" style="s2">401 um I can&#39;t remember let me go to the</p>
<p begin="17:32:55.160" end="17:32:59.680" style="s2">other one it should be a 401</p>
<p begin="17:33:03.956" end="17:33:09.000" style="s2">okay all right guys so I think we&#39;ve</p>
<p begin="17:33:06.796" end="17:33:11.276" style="s2">covered uh all of the tests that I</p>
<p begin="17:33:09.000" end="17:33:13.520" style="s2">wanted to cover um we don&#39;t need this</p>
<p begin="17:33:11.276" end="17:33:15.240" style="s2">test calculations py file but I&#39;ll keep</p>
<p begin="17:33:13.520" end="17:33:18.000" style="s2">it in there in the repo just so you can</p>
<p begin="17:33:15.240" end="17:33:19.840" style="s2">take a look at it the database. py file</p>
<p begin="17:33:18.000" end="17:33:22.080" style="s2">is absolutely useless now so I&#39;m I&#39;m</p>
<p begin="17:33:19.840" end="17:33:23.400" style="s2">actually going to just delete I&#39;ll keep</p>
<p begin="17:33:22.080" end="17:33:26.916" style="s2">it in there just in case you want to see</p>
<p begin="17:33:23.400" end="17:33:27.956" style="s2">it but most of it moved to contest. py</p>
<p begin="17:33:26.916" end="17:33:30.160" style="s2">um but just to make sure that</p>
<p begin="17:33:27.956" end="17:33:33.796" style="s2">everything&#39;s still working I&#39;m going to</p>
<p begin="17:33:30.160" end="17:33:36.560" style="s2">run my tests for all o what happened</p>
<p begin="17:33:33.796" end="17:33:39.276" style="s2">here nope nope nope oh</p>
<p begin="17:33:36.560" end="17:33:42.880" style="s2">oh okay yeah that was</p>
<p begin="17:33:39.276" end="17:33:47.360" style="s2">wild all right remove this let&#39;s see</p>
<p begin="17:33:42.880" end="17:33:47.360" style="s2">what happens hopefully everything passes</p>
<p begin="17:33:51.080" end="17:33:56.276" style="s2">and all 46 tests have successfully</p>
<p begin="17:33:53.636" end="17:33:59.000" style="s2">passed so that pretty much wraps up all</p>
<p begin="17:33:56.276" end="17:34:00.680" style="s2">of the testing section um I recommend</p>
<p begin="17:33:59.000" end="17:34:01.916" style="s2">you guys think of different scenarios</p>
<p begin="17:34:00.680" end="17:34:04.320" style="s2">that could potentially break our</p>
<p begin="17:34:01.916" end="17:34:06.276" style="s2">application um and set up tests for each</p>
<p begin="17:34:04.320" end="17:34:08.476" style="s2">and every individual scenario because</p>
<p begin="17:34:06.276" end="17:34:09.720" style="s2">that&#39;s how you uh successfully set up</p>
<p begin="17:34:08.476" end="17:34:12.320" style="s2">tests because you want to make sure you</p>
<p begin="17:34:09.720" end="17:34:13.840" style="s2">cover every individual corner case that</p>
<p begin="17:34:12.320" end="17:34:16.400" style="s2">you can possibly think</p>
<p begin="17:34:13.840" end="17:34:18.116" style="s2">of currently when it comes to adding in</p>
<p begin="17:34:16.400" end="17:34:20.276" style="s2">new features and making changes to our</p>
<p begin="17:34:18.116" end="17:34:22.320" style="s2">code uh we have to go through very</p>
<p begin="17:34:20.276" end="17:34:24.200" style="s2">manual and cumbersome process before we</p>
<p begin="17:34:22.320" end="17:34:26.520" style="s2">can get those changes pushed out to our</p>
<p begin="17:34:24.200" end="17:34:28.160" style="s2">production environment and so what I</p>
<p begin="17:34:26.520" end="17:34:30.596" style="s2">think would be good is for us to set up</p>
<p begin="17:34:28.160" end="17:34:32.916" style="s2">a cicd pipeline so that we can do all of</p>
<p begin="17:34:30.596" end="17:34:34.436" style="s2">this in an automated fashion so I&#39;ve</p>
<p begin="17:34:32.916" end="17:34:36.720" style="s2">created a couple slides just to kind of</p>
<p begin="17:34:34.436" end="17:34:39.756" style="s2">go over what our cicd pipeline&#39;s going</p>
<p begin="17:34:36.720" end="17:34:42.436" style="s2">to do and I&#39;ve got the generic uh</p>
<p begin="17:34:39.756" end="17:34:43.720" style="s2">definition of cicd and it&#39;s probably not</p>
<p begin="17:34:42.436" end="17:34:44.680" style="s2">a very good definition and I was</p>
<p begin="17:34:43.720" end="17:34:45.880" style="s2">thinking about just leaving out the</p>
<p begin="17:34:44.680" end="17:34:47.360" style="s2">slide because it doesn&#39;t really provide</p>
<p begin="17:34:45.880" end="17:34:49.880" style="s2">much but i&#39; figur I&#39;d just add it just</p>
<p begin="17:34:47.360" end="17:34:51.756" style="s2">in case so cic CD stands for for</p>
<p begin="17:34:49.880" end="17:34:54.720" style="s2">continuous integration and continuous</p>
<p begin="17:34:51.756" end="17:34:56.880" style="s2">delivery so continuous integration is</p>
<p begin="17:34:54.720" end="17:34:58.916" style="s2">the automated process to build package</p>
<p begin="17:34:56.880" end="17:35:01.040" style="s2">and test your application and then the</p>
<p begin="17:34:58.916" end="17:35:02.560" style="s2">continuous delivery picks up where your</p>
<p begin="17:35:01.040" end="17:35:04.080" style="s2">continuous integration ends and</p>
<p begin="17:35:02.560" end="17:35:06.276" style="s2">automates the whole delivery of the</p>
<p begin="17:35:04.080" end="17:35:08.520" style="s2">application so continuous delivery is</p>
<p begin="17:35:06.276" end="17:35:10.796" style="s2">responsible for actually pushing out</p>
<p begin="17:35:08.520" end="17:35:13.116" style="s2">those changes to your production Network</p>
<p begin="17:35:10.796" end="17:35:15.636" style="s2">so those two things make up our cicd</p>
<p begin="17:35:13.116" end="17:35:18.520" style="s2">pipeline um but let&#39;s actually take a</p>
<p begin="17:35:15.636" end="17:35:20.596" style="s2">look at what our whole manual process</p>
<p begin="17:35:18.520" end="17:35:23.880" style="s2">looks like right now so that we can see</p>
<p begin="17:35:20.596" end="17:35:26.080" style="s2">where a lot of the extren time</p>
<p begin="17:35:23.880" end="17:35:29.200" style="s2">consumption and manual process takes</p>
<p begin="17:35:26.080" end="17:35:30.200" style="s2">place so our current manual process is</p>
<p begin="17:35:29.200" end="17:35:33.080" style="s2">that you know we&#39;re going to make some</p>
<p begin="17:35:30.200" end="17:35:34.956" style="s2">changes to our code and then we&#39;re going</p>
<p begin="17:35:33.080" end="17:35:36.116" style="s2">to commit those changes to get right</p>
<p begin="17:35:34.956" end="17:35:38.000" style="s2">because you know we don&#39;t want to lose</p>
<p begin="17:35:36.116" end="17:35:39.916" style="s2">those changes and then after that we</p>
<p begin="17:35:38.000" end="17:35:41.796" style="s2">want to go ahead and run P test so that</p>
<p begin="17:35:39.916" end="17:35:44.400" style="s2">we can verify that our changes didn&#39;t</p>
<p begin="17:35:41.796" end="17:35:47.276" style="s2">actually break any known functionality</p>
<p begin="17:35:44.400" end="17:35:49.596" style="s2">to our code and if the our tests pass uh</p>
<p begin="17:35:47.276" end="17:35:51.240" style="s2">we have an optional step of um you know</p>
<p begin="17:35:49.596" end="17:35:53.116" style="s2">building any images so things like</p>
<p begin="17:35:51.240" end="17:35:55.040" style="s2">Docker images if we happen to be running</p>
<p begin="17:35:53.116" end="17:35:56.596" style="s2">Docker in our development and production</p>
<p begin="17:35:55.040" end="17:35:58.880" style="s2">environment if we&#39;re not then this is an</p>
<p begin="17:35:56.596" end="17:36:01.160" style="s2">optional step however when it comes to</p>
<p begin="17:35:58.880" end="17:36:03.520" style="s2">the build phase in this case that some</p>
<p begin="17:36:01.160" end="17:36:05.116" style="s2">people referred to uh other programming</p>
<p begin="17:36:03.520" end="17:36:07.720" style="s2">languages might require you to kind of</p>
<p begin="17:36:05.116" end="17:36:09.796" style="s2">build uh the application at the end to</p>
<p begin="17:36:07.720" end="17:36:11.520" style="s2">actually be able to deploy it um python</p>
<p begin="17:36:09.796" end="17:36:13.040" style="s2">you don&#39;t really need to do that so</p>
<p begin="17:36:11.520" end="17:36:15.160" style="s2">that&#39;s why it&#39;s kind of an optional step</p>
<p begin="17:36:13.040" end="17:36:17.000" style="s2">here if you&#39;re not using Docker um but</p>
<p begin="17:36:15.160" end="17:36:19.000" style="s2">after we do that we then move on to</p>
<p begin="17:36:17.000" end="17:36:20.916" style="s2">deploying our application so I just have</p>
<p begin="17:36:19.000" end="17:36:23.636" style="s2">one row called deploy here but keep in</p>
<p begin="17:36:20.916" end="17:36:25.916" style="s2">mind this um this one little block could</p>
<p begin="17:36:23.636" end="17:36:27.476" style="s2">represent multiple steps because</p>
<p begin="17:36:25.916" end="17:36:30.116" style="s2">depending on how you actually deploy</p>
<p begin="17:36:27.476" end="17:36:32.040" style="s2">your application um making uh any</p>
<p begin="17:36:30.116" end="17:36:33.276" style="s2">changes or updating the code in your</p>
<p begin="17:36:32.040" end="17:36:36.636" style="s2">production environment could actually</p>
<p begin="17:36:33.276" end="17:36:39.476" style="s2">involve uh a very complex process so</p>
<p begin="17:36:36.636" end="17:36:41.116" style="s2">with Git or sorry with Heroku right it&#39;s</p>
<p begin="17:36:39.476" end="17:36:45.476" style="s2">obviously a very simple process because</p>
<p begin="17:36:41.116" end="17:36:47.636" style="s2">all we do is we just do a uh a get push</p>
<p begin="17:36:45.476" end="17:36:49.200" style="s2">uh to Heroku and that&#39;s going to</p>
<p begin="17:36:47.636" end="17:36:51.636" style="s2">automatically cause Heroku to kind of</p>
<p begin="17:36:49.200" end="17:36:53.000" style="s2">hand all of the the updating of the</p>
<p begin="17:36:51.636" end="17:36:55.000" style="s2">processes so that&#39;s a feature that&#39;s</p>
<p begin="17:36:53.000" end="17:36:57.040" style="s2">built into Heroku but we only get that</p>
<p begin="17:36:55.000" end="17:36:58.840" style="s2">if we use Heroku um there&#39;s obviously a</p>
<p begin="17:36:57.040" end="17:37:00.000" style="s2">number of different ways that we can</p>
<p begin="17:36:58.840" end="17:37:02.756" style="s2">deploy our</p>
<p begin="17:37:00.000" end="17:37:04.756" style="s2">application uh if we uh decide to go the</p>
<p begin="17:37:02.756" end="17:37:07.000" style="s2">route of deploying our application uh on</p>
<p begin="17:37:04.756" end="17:37:09.360" style="s2">an abunto server then the deployment</p>
<p begin="17:37:07.000" end="17:37:11.880" style="s2">process in this case would be us logging</p>
<p begin="17:37:09.360" end="17:37:13.520" style="s2">into our server us pulling in the new</p>
<p begin="17:37:11.880" end="17:37:15.116" style="s2">code with the changes and then</p>
<p begin="17:37:13.520" end="17:37:17.320" style="s2">restarting the service so that our</p>
<p begin="17:37:15.116" end="17:37:19.116" style="s2">application actually uses the new code</p>
<p begin="17:37:17.320" end="17:37:20.240" style="s2">um but if you&#39;re using you know some</p>
<p begin="17:37:19.116" end="17:37:22.160" style="s2">other</p>
<p begin="17:37:20.240" end="17:37:24.160" style="s2">production environment or you use some</p>
<p begin="17:37:22.160" end="17:37:25.880" style="s2">other method to deploy your application</p>
<p begin="17:37:24.160" end="17:37:27.636" style="s2">uh this could be an even more complex</p>
<p begin="17:37:25.880" end="17:37:29.116" style="s2">process something to keep in mind so</p>
<p begin="17:37:27.636" end="17:37:31.200" style="s2">even though it&#39;s just one block listed</p>
<p begin="17:37:29.116" end="17:37:33.680" style="s2">here it could actually be um you know</p>
<p begin="17:37:31.200" end="17:37:36.080" style="s2">numerous</p>
<p begin="17:37:33.680" end="17:37:38.956" style="s2">steps all right and so now I want to</p>
<p begin="17:37:36.080" end="17:37:40.956" style="s2">show you guys what our automated cicd</p>
<p begin="17:37:38.956" end="17:37:43.956" style="s2">pipeline is going to look like after we</p>
<p begin="17:37:40.956" end="17:37:45.916" style="s2">set it up uh and so just like we did in</p>
<p begin="17:37:43.956" end="17:37:47.560" style="s2">the manual process we&#39;re going to make</p>
<p begin="17:37:45.916" end="17:37:49.276" style="s2">changes to our code obviously that&#39;s a</p>
<p begin="17:37:47.560" end="17:37:51.360" style="s2">manual step because we have to implement</p>
<p begin="17:37:49.276" end="17:37:53.360" style="s2">the the changes to our code and then</p>
<p begin="17:37:51.360" end="17:37:55.476" style="s2">we&#39;re going to commit those changes and</p>
<p begin="17:37:53.360" end="17:37:56.956" style="s2">with a cicd pipeline or specifically</p>
<p begin="17:37:55.476" end="17:37:58.636" style="s2">with the one we&#39;re building that&#39;s all</p>
<p begin="17:37:56.956" end="17:38:00.080" style="s2">the manual steps that we have to do we</p>
<p begin="17:37:58.636" end="17:38:02.360" style="s2">are done we don&#39;t have to touch our</p>
<p begin="17:38:00.080" end="17:38:04.040" style="s2">keyboard or our Mouse um it&#39;s basically</p>
<p begin="17:38:02.360" end="17:38:05.560" style="s2">hands off at this point and we&#39;re going</p>
<p begin="17:38:04.040" end="17:38:07.880" style="s2">to let automation take</p>
<p begin="17:38:05.560" end="17:38:09.756" style="s2">over uh and so usually when you commit</p>
<p begin="17:38:07.880" end="17:38:13.000" style="s2">changes to your code that&#39;s going to</p>
<p begin="17:38:09.756" end="17:38:14.956" style="s2">trigger our cicd pipeline to run and so</p>
<p begin="17:38:13.000" end="17:38:17.000" style="s2">what happens is our continuous</p>
<p begin="17:38:14.956" end="17:38:19.040" style="s2">integration phase starts at this point</p>
<p begin="17:38:17.000" end="17:38:21.720" style="s2">as soon as we commit those changes so in</p>
<p begin="17:38:19.040" end="17:38:24.040" style="s2">the C I phase we do the the first thing</p>
<p begin="17:38:21.720" end="17:38:25.360" style="s2">that we do is we pull our source code so</p>
<p begin="17:38:24.040" end="17:38:28.000" style="s2">we pull our source code so that we can</p>
<p begin="17:38:25.360" end="17:38:29.320" style="s2">actually work with it we then install</p>
<p begin="17:38:28.000" end="17:38:31.320" style="s2">any dependencies so this is the</p>
<p begin="17:38:29.320" end="17:38:32.520" style="s2">equivalent of uh installing all of the</p>
<p begin="17:38:31.320" end="17:38:33.880" style="s2">dependencies listed in our</p>
<p begin="17:38:32.520" end="17:38:37.160" style="s2">requirements.txt</p>
<p begin="17:38:33.880" end="17:38:39.240" style="s2">file we then run our automated tests uh</p>
<p begin="17:38:37.160" end="17:38:41.240" style="s2">so that&#39;s running Pi test and then you</p>
<p begin="17:38:39.240" end="17:38:43.040" style="s2">know assuming the tests pass we then</p>
<p begin="17:38:41.240" end="17:38:45.880" style="s2">build any images this is once again an</p>
<p begin="17:38:43.040" end="17:38:47.520" style="s2">optional step for us uh it&#39;s only in</p>
<p begin="17:38:45.880" end="17:38:50.160" style="s2">that&#39;s only needed if we are have if we</p>
<p begin="17:38:47.520" end="17:38:51.756" style="s2">use Docker um but that wraps up the</p>
<p begin="17:38:50.160" end="17:38:53.916" style="s2">continuous integration phase so once</p>
<p begin="17:38:51.756" end="17:38:56.240" style="s2">that&#39;s done uh The Continuous delivery</p>
<p begin="17:38:53.916" end="17:38:57.956" style="s2">phase is going to take over and so the</p>
<p begin="17:38:56.240" end="17:38:59.320" style="s2">continuous delivery phase what it&#39;s</p>
<p begin="17:38:57.956" end="17:39:01.680" style="s2">going to do is it&#39;s either going to grab</p>
<p begin="17:38:59.320" end="17:39:04.080" style="s2">the latest code or the new build image</p>
<p begin="17:39:01.680" end="17:39:06.000" style="s2">depending on what our deployment model</p>
<p begin="17:39:04.080" end="17:39:07.796" style="s2">actually is and with the new image or</p>
<p begin="17:39:06.000" end="17:39:11.240" style="s2">code it&#39;s going to then have all of the</p>
<p begin="17:39:07.796" end="17:39:13.000" style="s2">logic needed to push that new image or</p>
<p begin="17:39:11.240" end="17:39:14.080" style="s2">the new code into our production and</p>
<p begin="17:39:13.000" end="17:39:16.476" style="s2">make sure that our production is</p>
<p begin="17:39:14.080" end="17:39:18.240" style="s2">actually using our brand new code uh and</p>
<p begin="17:39:16.476" end="17:39:20.400" style="s2">so these two steps are really the only</p>
<p begin="17:39:18.240" end="17:39:21.720" style="s2">manual steps The Continuous integration</p>
<p begin="17:39:20.400" end="17:39:24.916" style="s2">and the continuous deliver phase is all</p>
<p begin="17:39:21.720" end="17:39:28.200" style="s2">done in an automated fashion through</p>
<p begin="17:39:24.916" end="17:39:31.000" style="s2">code essentially uh and so some of the</p>
<p begin="17:39:28.200" end="17:39:35.000" style="s2">more common cicd tools include Jenkins</p>
<p begin="17:39:31.000" end="17:39:37.240" style="s2">Travis CI Circle CI uh and uh and GitHub</p>
<p begin="17:39:35.000" end="17:39:39.116" style="s2">actions now for our course we&#39;re</p>
<p begin="17:39:37.240" end="17:39:41.000" style="s2">actually going to use GitHub actions</p>
<p begin="17:39:39.116" end="17:39:43.320" style="s2">just because it&#39;s already integrated</p>
<p begin="17:39:41.000" end="17:39:45.200" style="s2">into GitHub it&#39;s free uh we don&#39;t need</p>
<p begin="17:39:43.320" end="17:39:46.596" style="s2">to install anything on our local machine</p>
<p begin="17:39:45.200" end="17:39:48.956" style="s2">there&#39;s no software that we have to set</p>
<p begin="17:39:46.596" end="17:39:51.200" style="s2">up because it&#39;s all hosted on GitHub so</p>
<p begin="17:39:48.956" end="17:39:53.360" style="s2">it&#39;s like a hosted service and it&#39;s just</p>
<p begin="17:39:51.200" end="17:39:56.000" style="s2">going to make things very clean very</p>
<p begin="17:39:53.360" end="17:39:58.040" style="s2">simple and it&#39;s free so uh it&#39;s going to</p>
<p begin="17:39:56.000" end="17:39:59.636" style="s2">make and so everyone will be able to</p>
<p begin="17:39:58.040" end="17:40:03.796" style="s2">have access to</p>
<p begin="17:39:59.636" end="17:40:07.476" style="s2">it so what exactly is a cicd tool what</p>
<p begin="17:40:03.796" end="17:40:10.160" style="s2">does it provide uh and so every time I</p>
<p begin="17:40:07.476" end="17:40:11.476" style="s2">heard cicd before I learned what it is</p>
<p begin="17:40:10.160" end="17:40:12.916" style="s2">um I always thought it was like a very</p>
<p begin="17:40:11.476" end="17:40:14.436" style="s2">complex thing and then when you find out</p>
<p begin="17:40:12.916" end="17:40:17.160" style="s2">what it actually is it&#39;s actually the</p>
<p begin="17:40:14.436" end="17:40:21.276" style="s2">stupidly simple it it is there&#39;s no</p>
<p begin="17:40:17.160" end="17:40:22.560" style="s2">magic behind cicd it&#39;s all very manual</p>
<p begin="17:40:21.276" end="17:40:23.956" style="s2">even though it&#39;s an automated process</p>
<p begin="17:40:22.560" end="17:40:25.240" style="s2">you&#39;ll see that when we actually go to</p>
<p begin="17:40:23.956" end="17:40:26.840" style="s2">configure it it&#39;s not really doing</p>
<p begin="17:40:25.240" end="17:40:28.636" style="s2">anything special it&#39;s it&#39;s doing</p>
<p begin="17:40:26.840" end="17:40:31.000" style="s2">everything that we already do but we&#39;re</p>
<p begin="17:40:28.636" end="17:40:32.796" style="s2">just providing instructions to a machine</p>
<p begin="17:40:31.000" end="17:40:35.560" style="s2">so a cicd tool what it does is it</p>
<p begin="17:40:32.796" end="17:40:39.116" style="s2">provides us a runner and so a runner is</p>
<p begin="17:40:35.560" end="17:40:40.956" style="s2">just a fancy term for a computer or or a</p>
<p begin="17:40:39.116" end="17:40:42.320" style="s2">virtual machine it doesn&#39;t really matter</p>
<p begin="17:40:40.956" end="17:40:43.880" style="s2">um you know what is the underlying</p>
<p begin="17:40:42.320" end="17:40:46.476" style="s2">infrastructure they give you a little</p>
<p begin="17:40:43.880" end="17:40:49.080" style="s2">machine uh that we can provide a bunch</p>
<p begin="17:40:46.476" end="17:40:50.756" style="s2">of commands for it to run right so just</p>
<p begin="17:40:49.080" end="17:40:54.040" style="s2">like like in our terminal where we run</p>
<p begin="17:40:50.756" end="17:40:56.116" style="s2">commands like pest or uh or pip install</p>
<p begin="17:40:54.040" end="17:40:58.400" style="s2">right we provide these commands to a</p>
<p begin="17:40:56.116" end="17:41:01.080" style="s2">computer and these commands are usually</p>
<p begin="17:40:58.400" end="17:41:02.720" style="s2">configured or provided in a yaml or Json</p>
<p begin="17:41:01.080" end="17:41:05.040" style="s2">file or even through a guey depending on</p>
<p begin="17:41:02.720" end="17:41:06.436" style="s2">what your cicd tool is but the different</p>
<p begin="17:41:05.040" end="17:41:09.116" style="s2">commands that we provide that little</p>
<p begin="17:41:06.436" end="17:41:12.276" style="s2">mini computer to run make up all of the</p>
<p begin="17:41:09.116" end="17:41:15.636" style="s2">actions uh that our pipeline will</p>
<p begin="17:41:12.276" end="17:41:17.916" style="s2">perform and this pipeline or this</p>
<p begin="17:41:15.636" end="17:41:19.596" style="s2">virtual machine that we have is going to</p>
<p begin="17:41:17.916" end="17:41:21.476" style="s2">run based off of some of event getting</p>
<p begin="17:41:19.596" end="17:41:24.636" style="s2">triggered and so like I mentioned this</p>
<p begin="17:41:21.476" end="17:41:26.436" style="s2">is usually us either doing a g push or</p>
<p begin="17:41:24.636" end="17:41:28.000" style="s2">uh performing like a merge pull a merge</p>
<p begin="17:41:26.436" end="17:41:29.276" style="s2">request it doesn&#39;t really matter there&#39;s</p>
<p begin="17:41:28.000" end="17:41:32.320" style="s2">a lot of different events that you can</p>
<p begin="17:41:29.276" end="17:41:33.840" style="s2">configure depending on your uh cicd tool</p>
<p begin="17:41:32.320" end="17:41:35.796" style="s2">you can also set it up to run every</p>
<p begin="17:41:33.840" end="17:41:37.040" style="s2">single night at 2 in the morning uh</p>
<p begin="17:41:35.796" end="17:41:38.360" style="s2">there&#39;s a lot of different options but</p>
<p begin="17:41:37.040" end="17:41:40.636" style="s2">mostly it&#39;s going to be based off of a</p>
<p begin="17:41:38.360" end="17:41:44.720" style="s2">get push and I wanted to provide just a</p>
<p begin="17:41:40.636" end="17:41:46.400" style="s2">quick example config uh of what our CI</p>
<p begin="17:41:44.720" end="17:41:47.956" style="s2">uh CD pipeline is going to look like</p>
<p begin="17:41:46.400" end="17:41:49.680" style="s2">when we&#39;re done so this is just a little</p>
<p begin="17:41:47.956" end="17:41:51.476" style="s2">snapshot of it it&#39;s not all of it but I</p>
<p begin="17:41:49.680" end="17:41:54.040" style="s2">wanted to show you just how simple</p>
<p begin="17:41:51.476" end="17:41:56.400" style="s2">setting up a cicd pipeline is so this is</p>
<p begin="17:41:54.040" end="17:41:58.756" style="s2">the yaml file that we use to kind of</p>
<p begin="17:41:56.400" end="17:42:00.160" style="s2">tell the machine what are the steps that</p>
<p begin="17:41:58.756" end="17:42:02.040" style="s2">we wanted to</p>
<p begin="17:42:00.160" end="17:42:04.080" style="s2">perform and so you can see here we&#39;ve</p>
<p begin="17:42:02.040" end="17:42:05.360" style="s2">got this section called steps so already</p>
<p begin="17:42:04.080" end="17:42:08.400" style="s2">you can tell we&#39;re just providing it a</p>
<p begin="17:42:05.360" end="17:42:10.240" style="s2">list of steps um now the the syntax may</p>
<p begin="17:42:08.400" end="17:42:12.276" style="s2">be a little foreign but you&#39;ll see that</p>
<p begin="17:42:10.240" end="17:42:13.680" style="s2">it&#39;s pretty easy to learn uh you&#39;ll see</p>
<p begin="17:42:12.276" end="17:42:15.080" style="s2">that the first step that we have is</p>
<p begin="17:42:13.680" end="17:42:16.720" style="s2">there&#39;s this thing called action SL</p>
<p begin="17:42:15.080" end="17:42:19.116" style="s2">checkout so what this is actually doing</p>
<p begin="17:42:16.720" end="17:42:21.320" style="s2">is it&#39;s telling our machine to pull our</p>
<p begin="17:42:19.116" end="17:42:23.200" style="s2">our code so after we do a get push it&#39;s</p>
<p begin="17:42:21.320" end="17:42:24.596" style="s2">going to pull our brand new code so that</p>
<p begin="17:42:23.200" end="17:42:26.560" style="s2">we can actually do something with the</p>
<p begin="17:42:24.596" end="17:42:29.080" style="s2">code and then the next step is here</p>
<p begin="17:42:26.560" end="17:42:31.796" style="s2">we&#39;re setting up python 3.9 so all it&#39;s</p>
<p begin="17:42:29.080" end="17:42:34.080" style="s2">doing is it&#39;s installing python 3.9 for</p>
<p begin="17:42:31.796" end="17:42:36.000" style="s2">us and then afterwards we have to update</p>
<p begin="17:42:34.080" end="17:42:38.080" style="s2">pip so it&#39;s going to run python DM pip</p>
<p begin="17:42:36.000" end="17:42:39.436" style="s2">install D- upgrade pip so that&#39;s going</p>
<p begin="17:42:38.080" end="17:42:41.320" style="s2">to upgrade pip so we have the latest</p>
<p begin="17:42:39.436" end="17:42:43.400" style="s2">version then we&#39;re going to install the</p>
<p begin="17:42:41.320" end="17:42:45.436" style="s2">dependency so that&#39;s pip install dasr</p>
<p begin="17:42:43.400" end="17:42:47.116" style="s2">requirements.txt so you can see all the</p>
<p begin="17:42:45.436" end="17:42:48.520" style="s2">things that we do on our local machine</p>
<p begin="17:42:47.116" end="17:42:50.560" style="s2">we&#39;re just telling this little machine</p>
<p begin="17:42:48.520" end="17:42:52.720" style="s2">to do the same same thing and then</p>
<p begin="17:42:50.560" end="17:42:54.560" style="s2">afterwards we then run uh py test so</p>
<p begin="17:42:52.720" end="17:42:56.476" style="s2">that&#39;s going to first install py test</p>
<p begin="17:42:54.560" end="17:42:57.956" style="s2">and then we just run P test right just</p>
<p begin="17:42:56.476" end="17:42:59.520" style="s2">like we did on our local machine we&#39;re</p>
<p begin="17:42:57.956" end="17:43:01.520" style="s2">just telling the machine to do the same</p>
<p begin="17:42:59.520" end="17:43:03.680" style="s2">exact thing so we&#39;re just telling the</p>
<p begin="17:43:01.520" end="17:43:05.956" style="s2">machine a list of instructions that we</p>
<p begin="17:43:03.680" end="17:43:07.276" style="s2">have done um by ourselves manually we&#39;re</p>
<p begin="17:43:05.956" end="17:43:09.476" style="s2">just giving that list to it so it can</p>
<p begin="17:43:07.276" end="17:43:11.956" style="s2">run automatically right and so hopefully</p>
<p begin="17:43:09.476" end="17:43:13.916" style="s2">you guys see just how simple a cicd</p>
<p begin="17:43:11.956" end="17:43:16.040" style="s2">pipeline is there&#39;s nothing magical to</p>
<p begin="17:43:13.916" end="17:43:17.916" style="s2">it it&#39;s just like telling a machine this</p>
<p begin="17:43:16.040" end="17:43:20.040" style="s2">is what we want to do I want you to run</p>
<p begin="17:43:17.916" end="17:43:22.080" style="s2">this every single time we do a push all</p>
<p begin="17:43:20.040" end="17:43:23.720" style="s2">right so hopefully you guys understand</p>
<p begin="17:43:22.080" end="17:43:25.956" style="s2">this uh in the next video we&#39;ll get</p>
<p begin="17:43:23.720" end="17:43:27.360" style="s2">started on setting up uh GitHub actions</p>
<p begin="17:43:25.956" end="17:43:29.956" style="s2">so that we can actually build out our</p>
<p begin="17:43:27.360" end="17:43:31.720" style="s2">cicd pipeline all right before we get</p>
<p begin="17:43:29.956" end="17:43:33.276" style="s2">started with working with uh GitHub</p>
<p begin="17:43:31.720" end="17:43:35.636" style="s2">actions I want you to open up a couple</p>
<p begin="17:43:33.276" end="17:43:37.596" style="s2">of web pages so if you go to the GitHub</p>
<p begin="17:43:35.636" end="17:43:39.436" style="s2">actions uh documents page I definitely</p>
<p begin="17:43:37.596" end="17:43:40.756" style="s2">recommend you pull this up uh take a</p>
<p begin="17:43:39.436" end="17:43:42.560" style="s2">look at the quick start page and the</p>
<p begin="17:43:40.756" end="17:43:44.680" style="s2">reference page just to get an idea of</p>
<p begin="17:43:42.560" end="17:43:46.160" style="s2">how to work with GitHub actions um I</p>
<p begin="17:43:44.680" end="17:43:47.756" style="s2">will cover everything but you know you</p>
<p begin="17:43:46.160" end="17:43:49.160" style="s2">are going to forget some things I cover</p>
<p begin="17:43:47.756" end="17:43:51.840" style="s2">so definitely know where the</p>
<p begin="17:43:49.160" end="17:43:53.360" style="s2">documentation is um pull up the GitHub</p>
<p begin="17:43:51.840" end="17:43:56.080" style="s2">Marketplace as well so this is where we</p>
<p begin="17:43:53.360" end="17:43:59.080" style="s2">can look up built-in actions that we can</p>
<p begin="17:43:56.080" end="17:44:00.476" style="s2">use uh in our cicd pipeline that have</p>
<p begin="17:43:59.080" end="17:44:02.956" style="s2">kind of handled a lot of the more</p>
<p begin="17:44:00.476" end="17:44:04.880" style="s2">complex logic and then on top of that</p>
<p begin="17:44:02.956" end="17:44:07.276" style="s2">you&#39;ll see that GitHub has this uh</p>
<p begin="17:44:04.880" end="17:44:09.520" style="s2">example tutorial on how to set up a cicd</p>
<p begin="17:44:07.276" end="17:44:12.360" style="s2">pipeline for a python application so</p>
<p begin="17:44:09.520" end="17:44:14.276" style="s2">this is what I kind of looked at to um</p>
<p begin="17:44:12.360" end="17:44:16.720" style="s2">get started with building out a cicd</p>
<p begin="17:44:14.276" end="17:44:18.560" style="s2">pipeline for our fast API and it kind of</p>
<p begin="17:44:16.720" end="17:44:20.116" style="s2">covers most of the things we do that we</p>
<p begin="17:44:18.560" end="17:44:21.596" style="s2">need so if you want to you could just</p>
<p begin="17:44:20.116" end="17:44:23.116" style="s2">follow this and I think at that point</p>
<p begin="17:44:21.596" end="17:44:25.160" style="s2">you&#39;ll have a good idea as to how to</p>
<p begin="17:44:23.116" end="17:44:26.160" style="s2">work with this um but once again like I</p>
<p begin="17:44:25.160" end="17:44:27.400" style="s2">said we&#39;re going to cover everything</p>
<p begin="17:44:26.160" end="17:44:29.476" style="s2">from</p>
<p begin="17:44:27.400" end="17:44:30.880" style="s2">scratch um but if we go to the</p>
<p begin="17:44:29.476" end="17:44:32.520" style="s2">documentation you go to Quick Start</p>
<p begin="17:44:30.880" end="17:44:35.080" style="s2">Right Here Right it tells you that we</p>
<p begin="17:44:32.520" end="17:44:36.436" style="s2">want to create a folder called GitHub</p>
<p begin="17:44:35.080" end="17:44:39.080" style="s2">and then in that folder we want to</p>
<p begin="17:44:36.436" end="17:44:42.520" style="s2">create a folder called</p>
<p begin="17:44:39.080" end="17:44:45.880" style="s2">workflows so let&#39;s go ahead and and do</p>
<p begin="17:44:42.520" end="17:44:47.080" style="s2">that uh so in our main project directory</p>
<p begin="17:44:45.880" end="17:44:50.040" style="s2">let me just minimize everything I&#39;m</p>
<p begin="17:44:47.080" end="17:44:52.040" style="s2">going to create a brand new folder</p>
<p begin="17:44:50.040" end="17:44:54.756" style="s2">and I&#39;ll call this a</p>
<p begin="17:44:52.040" end="17:44:58.400" style="s2">GitHub and then we want a new folder</p>
<p begin="17:44:54.756" end="17:44:58.400" style="s2">within here called</p>
<p begin="17:44:58.560" end="17:45:02.520" style="s2">workflows all right and so here we can</p>
<p begin="17:45:00.756" end="17:45:04.720" style="s2">Define all of our workflows which kind</p>
<p begin="17:45:02.520" end="17:45:06.400" style="s2">of make up our cicd pipeline you can</p>
<p begin="17:45:04.720" end="17:45:08.276" style="s2">have more than one you don&#39;t need to</p>
<p begin="17:45:06.400" end="17:45:09.276" style="s2">just have one in this case but we&#39;re</p>
<p begin="17:45:08.276" end="17:45:11.276" style="s2">just going to use one because we&#39;re</p>
<p begin="17:45:09.276" end="17:45:12.720" style="s2">keeping things simple and so here this</p>
<p begin="17:45:11.276" end="17:45:14.240" style="s2">is where we&#39;re going to create a yaml</p>
<p begin="17:45:12.720" end="17:45:17.840" style="s2">file so if you aren&#39;t familiar with a</p>
<p begin="17:45:14.240" end="17:45:20.160" style="s2">yaml it&#39;s just a a certain type of um</p>
<p begin="17:45:17.840" end="17:45:22.080" style="s2">markup language uh that&#39;s commonly used</p>
<p begin="17:45:20.160" end="17:45:24.080" style="s2">for like config files and things like</p>
<p begin="17:45:22.080" end="17:45:25.596" style="s2">that because it&#39;s very easy to read but</p>
<p begin="17:45:24.080" end="17:45:28.276" style="s2">the most important thing to keep in mind</p>
<p begin="17:45:25.596" end="17:45:29.360" style="s2">is that spacing matters in yaml so um</p>
<p begin="17:45:28.276" end="17:45:31.000" style="s2">you definitely want to make sure that</p>
<p begin="17:45:29.360" end="17:45:33.840" style="s2">all the things are lined up very</p>
<p begin="17:45:31.000" end="17:45:36.276" style="s2">carefully uh just like it was uh when it</p>
<p begin="17:45:33.840" end="17:45:37.436" style="s2">comes to like the docker compos file so</p>
<p begin="17:45:36.276" end="17:45:38.956" style="s2">we&#39;ll go here and I&#39;m going to create a</p>
<p begin="17:45:37.436" end="17:45:40.276" style="s2">brand new file and I&#39;m going to call</p>
<p begin="17:45:38.956" end="17:45:42.680" style="s2">this</p>
<p begin="17:45:40.276" end="17:45:44.476" style="s2">build- deoy</p>
<p begin="17:45:42.680" end="17:45:46.400" style="s2">doyl all right and so we&#39;re going to</p>
<p begin="17:45:44.476" end="17:45:48.276" style="s2">give this workflow a name so even though</p>
<p begin="17:45:46.400" end="17:45:49.840" style="s2">we gave it the file a name we actually</p>
<p begin="17:45:48.276" end="17:45:52.116" style="s2">have to provide a name here so we just</p>
<p begin="17:45:49.840" end="17:45:53.080" style="s2">do name and feel free to call it</p>
<p begin="17:45:52.116" end="17:45:56.276" style="s2">whatever you want I&#39;m just going to call</p>
<p begin="17:45:53.080" end="17:45:59.276" style="s2">this build and deploy</p>
<p begin="17:45:56.276" end="17:46:02.040" style="s2">code okay and then we have to Define</p>
<p begin="17:45:59.276" end="17:46:03.796" style="s2">when should our workflow or in this case</p>
<p begin="17:46:02.040" end="17:46:05.520" style="s2">which is our cicd pipeline when should</p>
<p begin="17:46:03.796" end="17:46:08.520" style="s2">it run when should it trigger what</p>
<p begin="17:46:05.520" end="17:46:12.596" style="s2">triggers our code to run and so like I</p>
<p begin="17:46:08.520" end="17:46:16.520" style="s2">mentioned it&#39;s usually a either a um a</p>
<p begin="17:46:12.596" end="17:46:20.400" style="s2">polar request or a uh get push</p>
<p begin="17:46:16.520" end="17:46:23.040" style="s2">so to specify when we trigger this you</p>
<p begin="17:46:20.400" end="17:46:25.476" style="s2">pass in the on field and then you</p>
<p begin="17:46:23.040" end="17:46:28.956" style="s2">specify you know should this be a push</p>
<p begin="17:46:25.476" end="17:46:31.400" style="s2">or a pull request or should it run for</p>
<p begin="17:46:28.956" end="17:46:33.520" style="s2">both and so if you want this to run only</p>
<p begin="17:46:31.400" end="17:46:36.116" style="s2">on uh get pushes you would just do on</p>
<p begin="17:46:33.520" end="17:46:38.400" style="s2">push if you wanted to run on a pull</p>
<p begin="17:46:36.116" end="17:46:40.880" style="s2">request you do pull request</p>
<p begin="17:46:38.400" end="17:46:43.636" style="s2">here um but if you wanted to run for</p>
<p begin="17:46:40.880" end="17:46:47.680" style="s2">both both uh get push and pull request</p>
<p begin="17:46:43.636" end="17:46:49.956" style="s2">then you would do push and pull request</p>
<p begin="17:46:47.680" end="17:46:51.756" style="s2">and there&#39;s a lot of flexibility too so</p>
<p begin="17:46:49.956" end="17:46:53.956" style="s2">um the way we have it set up right here</p>
<p begin="17:46:51.756" end="17:46:56.240" style="s2">this would happen on every push on every</p>
<p begin="17:46:53.956" end="17:46:58.160" style="s2">single branch and every pull request on</p>
<p begin="17:46:56.240" end="17:46:59.436" style="s2">every single Branch but there&#39;s a</p>
<p begin="17:46:58.160" end="17:47:01.560" style="s2">possibility that maybe you don&#39;t want</p>
<p begin="17:46:59.436" end="17:47:03.560" style="s2">this to run for all of your branches</p>
<p begin="17:47:01.560" end="17:47:05.756" style="s2">right maybe you only want this to run on</p>
<p begin="17:47:03.560" end="17:47:06.796" style="s2">the main branch and a couple of other</p>
<p begin="17:47:05.756" end="17:47:09.116" style="s2">branches and then the rest of the</p>
<p begin="17:47:06.796" end="17:47:11.000" style="s2">branches you don&#39;t really care about so</p>
<p begin="17:47:09.116" end="17:47:13.756" style="s2">what you can do is we can go down a</p>
<p begin="17:47:11.000" end="17:47:15.360" style="s2">level and then hit tab in this case and</p>
<p begin="17:47:13.756" end="17:47:17.720" style="s2">remember like I said spacing matters so</p>
<p begin="17:47:15.360" end="17:47:21.400" style="s2">we&#39;ll say push and then here you can</p>
<p begin="17:47:17.720" end="17:47:25.436" style="s2">Define all of the branch es that should</p>
<p begin="17:47:21.400" end="17:47:27.756" style="s2">run whenever you uh uh do a push so if I</p>
<p begin="17:47:25.436" end="17:47:30.040" style="s2">here I pass in</p>
<p begin="17:47:27.756" end="17:47:31.636" style="s2">main what&#39;s going to happen is that this</p>
<p begin="17:47:30.040" end="17:47:34.040" style="s2">workflow is going to trigger every time</p>
<p begin="17:47:31.636" end="17:47:36.160" style="s2">we do a push specifically only to the</p>
<p begin="17:47:34.040" end="17:47:37.400" style="s2">main branch and no other branches and so</p>
<p begin="17:47:36.160" end="17:47:40.916" style="s2">you can provide a list of all the</p>
<p begin="17:47:37.400" end="17:47:43.160" style="s2">branches so this is you know another</p>
<p begin="17:47:40.916" end="17:47:45.116" style="s2">Branch this is uh you know maybe some</p>
<p begin="17:47:43.160" end="17:47:46.560" style="s2">feature Branch all the names of the</p>
<p begin="17:47:45.116" end="17:47:49.240" style="s2">branches that you want your workflow to</p>
<p begin="17:47:46.560" end="17:47:51.720" style="s2">run on uh you can specify that and this</p>
<p begin="17:47:49.240" end="17:47:54.040" style="s2">is one way of providing a list in yaml</p>
<p begin="17:47:51.720" end="17:47:56.880" style="s2">uh the other way uh is to actually go</p>
<p begin="17:47:54.040" end="17:47:58.560" style="s2">down here and then do a dash and then</p>
<p begin="17:47:56.880" end="17:48:02.116" style="s2">provide the name so I would do</p>
<p begin="17:47:58.560" end="17:48:04.720" style="s2">Main and then you know some other</p>
<p begin="17:48:02.116" end="17:48:06.796" style="s2">branch and so</p>
<p begin="17:48:04.720" end="17:48:11.520" style="s2">on and then if we wanted to we could</p>
<p begin="17:48:06.796" end="17:48:14.200" style="s2">also customize um all of the branches</p>
<p begin="17:48:11.520" end="17:48:15.756" style="s2">that should trigger this workflow on a</p>
<p begin="17:48:14.200" end="17:48:18.756" style="s2">pull request as well so if I do pull</p>
<p begin="17:48:15.756" end="17:48:18.756" style="s2">request</p>
<p begin="17:48:21.116" end="17:48:25.880" style="s2">and then I do uh</p>
<p begin="17:48:22.840" end="17:48:29.520" style="s2">branches and this should be moved back</p>
<p begin="17:48:25.880" end="17:48:31.756" style="s2">here and then here I do</p>
<p begin="17:48:29.520" end="17:48:33.436" style="s2">branches and then I can do a list here</p>
<p begin="17:48:31.756" end="17:48:36.596" style="s2">as well and I&#39;ll just call this uh we&#39;ll</p>
<p begin="17:48:33.436" end="17:48:38.880" style="s2">give an example Branch I&#39;ll say test</p>
<p begin="17:48:36.596" end="17:48:41.080" style="s2">Branch right and so just to kind of read</p>
<p begin="17:48:38.880" end="17:48:42.276" style="s2">this through uh anytime we do a push to</p>
<p begin="17:48:41.080" end="17:48:44.520" style="s2">either one of these branches it&#39;s going</p>
<p begin="17:48:42.276" end="17:48:46.116" style="s2">to run our code and anytime we do a pull</p>
<p begin="17:48:44.520" end="17:48:48.276" style="s2">request to this specific Branch it&#39;s</p>
<p begin="17:48:46.116" end="17:48:50.000" style="s2">going to run our code as well so that&#39;s</p>
<p begin="17:48:48.276" end="17:48:51.320" style="s2">just how to set this up uh we&#39;re not</p>
<p begin="17:48:50.000" end="17:48:53.276" style="s2">going to do any of that cuz we just have</p>
<p begin="17:48:51.320" end="17:48:55.520" style="s2">one branch in this case so I&#39;m just</p>
<p begin="17:48:53.276" end="17:48:58.880" style="s2">going to say we&#39;re going to have run</p>
<p begin="17:48:55.520" end="17:49:01.080" style="s2">this on push and pull</p>
<p begin="17:48:58.880" end="17:49:03.560" style="s2">requests for all</p>
<p begin="17:49:01.080" end="17:49:06.160" style="s2">branches and if we actually go to the</p>
<p begin="17:49:03.560" end="17:49:07.476" style="s2">documentation um I think yeah the</p>
<p begin="17:49:06.160" end="17:49:09.680" style="s2">reference</p>
<p begin="17:49:07.476" end="17:49:11.436" style="s2">page uh you can go to the reference page</p>
<p begin="17:49:09.680" end="17:49:13.476" style="s2">and then select events that trigger</p>
<p begin="17:49:11.436" end="17:49:14.636" style="s2">workflows uh and that&#39;s going to cover</p>
<p begin="17:49:13.476" end="17:49:16.560" style="s2">everything that we just covered so it&#39;s</p>
<p begin="17:49:14.636" end="17:49:18.040" style="s2">going to go over all of that and you&#39;ll</p>
<p begin="17:49:16.560" end="17:49:19.360" style="s2">even see that there&#39;s a scheduled event</p>
<p begin="17:49:18.040" end="17:49:20.720" style="s2">so you can tell it to run kind of like a</p>
<p begin="17:49:19.360" end="17:49:22.636" style="s2">Cron job like hey I want this to run</p>
<p begin="17:49:20.720" end="17:49:24.560" style="s2">every single hour and there&#39;s a few</p>
<p begin="17:49:22.636" end="17:49:27.040" style="s2">other like manual events that you can</p>
<p begin="17:49:24.560" end="17:49:29.000" style="s2">trigger uh and a couple of like web hook</p>
<p begin="17:49:27.040" end="17:49:30.000" style="s2">Integrations as well but we&#39;re not going</p>
<p begin="17:49:29.000" end="17:49:31.956" style="s2">to do any of that we&#39;re just going to</p>
<p begin="17:49:30.000" end="17:49:33.840" style="s2">keep things simple for now all right so</p>
<p begin="17:49:31.956" end="17:49:36.596" style="s2">once we&#39;ve defined what&#39;s going to</p>
<p begin="17:49:33.840" end="17:49:39.320" style="s2">trigger our workflow we have to then</p>
<p begin="17:49:36.596" end="17:49:41.560" style="s2">create a job and so if you go to the</p>
<p begin="17:49:39.320" end="17:49:43.240" style="s2">documentation the the GitHub actions</p>
<p begin="17:49:41.560" end="17:49:45.680" style="s2">documentation says that a job is just a</p>
<p begin="17:49:43.240" end="17:49:47.320" style="s2">set of steps that execute on the same</p>
<p begin="17:49:45.680" end="17:49:49.436" style="s2">Runner so our runner is just a virtual</p>
<p begin="17:49:47.320" end="17:49:51.240" style="s2">machine so when our workflow runs runs</p>
<p begin="17:49:49.436" end="17:49:54.200" style="s2">right it&#39;s going to we have to provide</p>
<p begin="17:49:51.240" end="17:49:55.636" style="s2">it a job which is just a list of steps</p>
<p begin="17:49:54.200" end="17:49:57.680" style="s2">that&#39;s going to run on that specific</p>
<p begin="17:49:55.636" end="17:49:59.680" style="s2">runner in that case and so here I&#39;ll go</p>
<p begin="17:49:57.680" end="17:50:01.200" style="s2">to jobs this is where we provide a list</p>
<p begin="17:49:59.680" end="17:50:02.840" style="s2">of jobs we&#39;re going to start out with</p>
<p begin="17:50:01.200" end="17:50:04.040" style="s2">just one in this case and we can give</p>
<p begin="17:50:02.840" end="17:50:06.276" style="s2">this whatever name we want I&#39;m going to</p>
<p begin="17:50:04.040" end="17:50:07.596" style="s2">call this job one uh not a very good</p>
<p begin="17:50:06.276" end="17:50:09.000" style="s2">name we&#39;re going to rename it in the</p>
<p begin="17:50:07.596" end="17:50:10.160" style="s2">future but I want to just keep it simple</p>
<p begin="17:50:09.000" end="17:50:12.360" style="s2">for</p>
<p begin="17:50:10.160" end="17:50:14.276" style="s2">now and what we want to do is we want to</p>
<p begin="17:50:12.360" end="17:50:17.756" style="s2">specify what type of machine do we want</p>
<p begin="17:50:14.276" end="17:50:19.520" style="s2">to run this on and so like I said a cicd</p>
<p begin="17:50:17.756" end="17:50:21.596" style="s2">tool like gith actions is going to</p>
<p begin="17:50:19.520" end="17:50:23.720" style="s2">provide us a machine a computer and we</p>
<p begin="17:50:21.596" end="17:50:25.520" style="s2">have to specify what operating system do</p>
<p begin="17:50:23.720" end="17:50:27.840" style="s2">we want to run it on uh so we&#39;re going</p>
<p begin="17:50:25.520" end="17:50:29.360" style="s2">to just use it on on Linux but keep in</p>
<p begin="17:50:27.840" end="17:50:30.916" style="s2">mind you can run this on Windows you can</p>
<p begin="17:50:29.360" end="17:50:32.720" style="s2">run this on Mac you can even run it on</p>
<p begin="17:50:30.916" end="17:50:35.200" style="s2">all three if you want to test all of</p>
<p begin="17:50:32.720" end="17:50:36.840" style="s2">them but since our</p>
<p begin="17:50:35.200" end="17:50:38.040" style="s2">deployment since our production</p>
<p begin="17:50:36.840" end="17:50:39.360" style="s2">environment is running on a Linux</p>
<p begin="17:50:38.040" end="17:50:41.200" style="s2">machine I think it makes sense that we</p>
<p begin="17:50:39.360" end="17:50:44.320" style="s2">do all of the testing and all of this on</p>
<p begin="17:50:41.200" end="17:50:48.720" style="s2">a Linux machine so you pass in the runs</p>
<p begin="17:50:44.320" end="17:50:50.160" style="s2">on field and then here we say a buntu l</p>
<p begin="17:50:48.720" end="17:50:52.680" style="s2">so this is going to be the latest auntu</p>
<p begin="17:50:50.160" end="17:50:54.840" style="s2">version and uh if we go to the reference</p>
<p begin="17:50:52.680" end="17:50:57.560" style="s2">page here and go to the workflow syntax</p>
<p begin="17:50:54.840" end="17:50:59.200" style="s2">I think and we go to jobs um that&#39;s</p>
<p begin="17:50:57.560" end="17:51:01.720" style="s2">going to provide us uh all the</p>
<p begin="17:50:59.200" end="17:51:03.320" style="s2">information when it comes to um what we</p>
<p begin="17:51:01.720" end="17:51:04.636" style="s2">can run this on so you can see here we</p>
<p begin="17:51:03.320" end="17:51:06.720" style="s2">can provide Windows</p>
<p begin="17:51:04.636" end="17:51:09.160" style="s2">2022 um or you can just grab Windows</p>
<p begin="17:51:06.720" end="17:51:11.840" style="s2">latest we&#39;ve also got and I realized the</p>
<p begin="17:51:09.160" end="17:51:14.000" style="s2">text is probably small for you guys we</p>
<p begin="17:51:11.840" end="17:51:15.796" style="s2">got different versions of Windows we got</p>
<p begin="17:51:14.000" end="17:51:16.880" style="s2">a bunto latest which in this case at the</p>
<p begin="17:51:15.796" end="17:51:19.240" style="s2">moment is just going to be the same</p>
<p begin="17:51:16.880" end="17:51:20.880" style="s2">thing as writing auntu 20.0 before but</p>
<p begin="17:51:19.240" end="17:51:23.756" style="s2">you can grab any one of these specific</p>
<p begin="17:51:20.880" end="17:51:25.756" style="s2">auntu versions as well as Mac OS 11 and</p>
<p begin="17:51:23.756" end="17:51:27.680" style="s2">some of the other previous Mac</p>
<p begin="17:51:25.756" end="17:51:29.560" style="s2">versions but like I said we&#39;re going to</p>
<p begin="17:51:27.680" end="17:51:30.636" style="s2">stick to just running on a buntu and we</p>
<p begin="17:51:29.560" end="17:51:32.720" style="s2">might as well just grab the latest</p>
<p begin="17:51:30.636" end="17:51:34.360" style="s2">version and so once we specify the</p>
<p begin="17:51:32.720" end="17:51:37.400" style="s2">operating system the next thing that we</p>
<p begin="17:51:34.360" end="17:51:39.160" style="s2">have to do is provide a list of steps so</p>
<p begin="17:51:37.400" end="17:51:40.476" style="s2">we kind of went over what the steps</p>
<p begin="17:51:39.160" end="17:51:43.840" style="s2">would look like when we did the little</p>
<p begin="17:51:40.476" end="17:51:46.080" style="s2">PowerPoint demonstration so here we say</p>
<p begin="17:51:43.840" end="17:51:48.636" style="s2">steps and then we provide a list of</p>
<p begin="17:51:46.080" end="17:51:49.916" style="s2">steps so uh when it comes to lists in</p>
<p begin="17:51:48.636" end="17:51:51.720" style="s2">well you just do the dash and then you</p>
<p begin="17:51:49.916" end="17:51:53.956" style="s2">provide the</p>
<p begin="17:51:51.720" end="17:51:56.880" style="s2">lists and usually when it comes to a</p>
<p begin="17:51:53.956" end="17:52:00.276" style="s2">specific step um we give it the specific</p>
<p begin="17:51:56.880" end="17:52:02.276" style="s2">command that we want to run as well as a</p>
<p begin="17:52:00.276" end="17:52:03.476" style="s2">name right a human readable name so that</p>
<p begin="17:52:02.276" end="17:52:05.436" style="s2">when we look through the logs we know</p>
<p begin="17:52:03.476" end="17:52:07.880" style="s2">which step is doing what so we can say</p>
<p begin="17:52:05.436" end="17:52:11.636" style="s2">like hey this step is installing python</p>
<p begin="17:52:07.880" end="17:52:14.840" style="s2">or this step is uh running py test uh</p>
<p begin="17:52:11.636" end="17:52:16.520" style="s2">and so here we if we say name this is</p>
<p begin="17:52:14.840" end="17:52:17.636" style="s2">where we provide a description for what</p>
<p begin="17:52:16.520" end="17:52:19.636" style="s2">we&#39;re about to do so the first thing</p>
<p begin="17:52:17.636" end="17:52:22.080" style="s2">that we always want to do is we want to</p>
<p begin="17:52:19.636" end="17:52:24.000" style="s2">check out our code and so I&#39;m going to</p>
<p begin="17:52:22.080" end="17:52:27.200" style="s2">say hey this is uh</p>
<p begin="17:52:24.000" end="17:52:29.320" style="s2">checking or I&#39;ll just say this is uh</p>
<p begin="17:52:27.200" end="17:52:31.276" style="s2">pulling get repo right it&#39;s going to</p>
<p begin="17:52:29.320" end="17:52:33.880" style="s2">pull our code and then we have to</p>
<p begin="17:52:31.276" end="17:52:36.636" style="s2">provide the uses so this is the actual</p>
<p begin="17:52:33.880" end="17:52:37.916" style="s2">command that needs to run on our machine</p>
<p begin="17:52:36.636" end="17:52:41.520" style="s2">to pull our</p>
<p begin="17:52:37.916" end="17:52:43.276" style="s2">repo and with GitHub actions uh like I</p>
<p begin="17:52:41.520" end="17:52:45.916" style="s2">said there&#39;s a Marketplace of pre-built</p>
<p begin="17:52:43.276" end="17:52:48.520" style="s2">actions that we can use to um you know</p>
<p begin="17:52:45.916" end="17:52:50.476" style="s2">essentially perform various tasks so</p>
<p begin="17:52:48.520" end="17:52:52.160" style="s2">pulling your code is a very common task</p>
<p begin="17:52:50.476" end="17:52:53.840" style="s2">so they&#39;ve definitely got an action for</p>
<p begin="17:52:52.160" end="17:52:56.476" style="s2">this and so if I just search for</p>
<p begin="17:52:53.840" end="17:52:58.880" style="s2">checkout because I know that&#39;s what it&#39;s</p>
<p begin="17:52:56.476" end="17:53:01.436" style="s2">called Uh you can see this is the one we</p>
<p begin="17:52:58.880" end="17:53:02.956" style="s2">want and so this is uh this is what&#39;s</p>
<p begin="17:53:01.436" end="17:53:05.520" style="s2">going to be responsible for pulling your</p>
<p begin="17:53:02.956" end="17:53:09.476" style="s2">code and so here you just say uses you</p>
<p begin="17:53:05.520" end="17:53:09.476" style="s2">do actions SL checkout</p>
<p begin="17:53:09.916" end="17:53:15.840" style="s2">V2 and you could specify a specific</p>
<p begin="17:53:13.240" end="17:53:18.080" style="s2">repository that you want to pull however</p>
<p begin="17:53:15.840" end="17:53:19.840" style="s2">GitHub already knows what repository</p>
<p begin="17:53:18.080" end="17:53:21.680" style="s2">we&#39;re working on because we did a get</p>
<p begin="17:53:19.840" end="17:53:23.476" style="s2">push and since all of this is integrated</p>
<p begin="17:53:21.680" end="17:53:26.596" style="s2">together we don&#39;t actually have to pass</p>
<p begin="17:53:23.476" end="17:53:27.916" style="s2">in any other field however um you know</p>
<p begin="17:53:26.596" end="17:53:29.756" style="s2">if you look at the documentation you can</p>
<p begin="17:53:27.916" end="17:53:32.596" style="s2">specify what specific repository you</p>
<p begin="17:53:29.756" end="17:53:33.956" style="s2">want uh as well as you know any SSH keys</p>
<p begin="17:53:32.596" end="17:53:35.720" style="s2">that you may need and things like that</p>
<p begin="17:53:33.956" end="17:53:37.400" style="s2">but this is GitHub action so it&#39;s all</p>
<p begin="17:53:35.720" end="17:53:39.636" style="s2">already hosted on GitHub so it&#39;s a</p>
<p begin="17:53:37.400" end="17:53:42.116" style="s2">pretty simplified process so all we have</p>
<p begin="17:53:39.636" end="17:53:43.596" style="s2">to do is just copy this right here and</p>
<p begin="17:53:42.116" end="17:53:45.476" style="s2">we can just kind of continue down and</p>
<p begin="17:53:43.596" end="17:53:47.400" style="s2">just provide as many extra steps as we</p>
<p begin="17:53:45.476" end="17:53:49.720" style="s2">want um I&#39;m just going to provide a very</p>
<p begin="17:53:47.400" end="17:53:51.040" style="s2">simple step after this just to show you</p>
<p begin="17:53:49.720" end="17:53:52.520" style="s2">you know a step is just nothing more</p>
<p begin="17:53:51.040" end="17:53:53.956" style="s2">than us giving a command so I&#39;m going to</p>
<p begin="17:53:52.520" end="17:53:57.116" style="s2">name this</p>
<p begin="17:53:53.956" end="17:53:59.596" style="s2">one uh say hi to</p>
<p begin="17:53:57.116" end="17:54:02.596" style="s2">seve and what we can do is this is a</p>
<p begin="17:53:59.596" end="17:54:04.116" style="s2">special um action that&#39;s that we grab</p>
<p begin="17:54:02.596" end="17:54:06.320" style="s2">from the marketplace but if you just</p>
<p begin="17:54:04.116" end="17:54:08.116" style="s2">want to run a command on the machine uh</p>
<p begin="17:54:06.320" end="17:54:10.040" style="s2">which is just a Linux machine we can run</p>
<p begin="17:54:08.116" end="17:54:12.400" style="s2">any specific Linux command that we want</p>
<p begin="17:54:10.040" end="17:54:14.276" style="s2">because we have access to the CLI all we</p>
<p begin="17:54:12.400" end="17:54:15.756" style="s2">have to do is just use the Run keyword</p>
<p begin="17:54:14.276" end="17:54:18.720" style="s2">and then we specify the command we want</p>
<p begin="17:54:15.756" end="17:54:20.880" style="s2">so if you wanted to install a you know a</p>
<p begin="17:54:18.720" end="17:54:22.916" style="s2">package we could do you know pseudo apt</p>
<p begin="17:54:20.880" end="17:54:24.560" style="s2">install whatever or if you want to</p>
<p begin="17:54:22.916" end="17:54:26.200" style="s2">reload the machine you know you could do</p>
<p begin="17:54:24.560" end="17:54:27.916" style="s2">a reboot I&#39;m not sure why you would do</p>
<p begin="17:54:26.200" end="17:54:29.436" style="s2">that so all I&#39;m just going to do is I&#39;m</p>
<p begin="17:54:27.916" end="17:54:32.080" style="s2">going to just make it say echo which is</p>
<p begin="17:54:29.436" end="17:54:34.276" style="s2">just going to uh Echo out exactly what I</p>
<p begin="17:54:32.080" end="17:54:36.276" style="s2">type in here I&#39;m going to say hello</p>
<p begin="17:54:34.276" end="17:54:39.080" style="s2">sanie and so it&#39;s just going to run this</p>
<p begin="17:54:36.276" end="17:54:42.436" style="s2">command on our Linux machine uh and so</p>
<p begin="17:54:39.080" end="17:54:43.796" style="s2">this is a very simple uh example so far</p>
<p begin="17:54:42.436" end="17:54:45.040" style="s2">but I think that&#39;s a good starting point</p>
<p begin="17:54:43.796" end="17:54:47.240" style="s2">so that we can actually understand</p>
<p begin="17:54:45.040" end="17:54:49.956" style="s2">what&#39;s happening and what we want to do</p>
<p begin="17:54:47.240" end="17:54:52.956" style="s2">is we now want to actually push this</p>
<p begin="17:54:49.956" end="17:54:54.756" style="s2">changes uh to our git repository so let</p>
<p begin="17:54:52.956" end="17:54:57.880" style="s2">me open up my</p>
<p begin="17:54:54.756" end="17:54:59.320" style="s2">terminal make sure you do uh save all</p>
<p begin="17:54:57.880" end="17:55:01.080" style="s2">and so once we push this this will</p>
<p begin="17:54:59.320" end="17:55:03.956" style="s2">actually be part of our repository and</p>
<p begin="17:55:01.080" end="17:55:05.796" style="s2">it&#39;s going to actually trigger um GitHub</p>
<p begin="17:55:03.956" end="17:55:07.596" style="s2">actions to actually trigger this</p>
<p begin="17:55:05.796" end="17:55:10.520" style="s2">workflow because we said that on every</p>
<p begin="17:55:07.596" end="17:55:12.400" style="s2">push we should run this workflow so I&#39;ll</p>
<p begin="17:55:10.520" end="17:55:17.520" style="s2">do a get add</p>
<p begin="17:55:12.400" end="17:55:18.840" style="s2">all I&#39;ll do a get push sorry get commit</p>
<p begin="17:55:17.520" end="17:55:21.520" style="s2">DM</p>
<p begin="17:55:18.840" end="17:55:25.680" style="s2">adding first GitHub</p>
<p begin="17:55:21.520" end="17:55:26.956" style="s2">action and then we&#39;ll do a git push and</p>
<p begin="17:55:25.680" end="17:55:29.160" style="s2">we can do an origin main if you want to</p>
<p begin="17:55:26.956" end="17:55:29.160" style="s2">be</p>
<p begin="17:55:29.840" end="17:55:34.956" style="s2">specific all right so it&#39;s been</p>
<p begin="17:55:32.596" end="17:55:37.400" style="s2">pushed uh and so now if we go to our</p>
<p begin="17:55:34.956" end="17:55:39.560" style="s2">GitHub repository there&#39;s a actions tab</p>
<p begin="17:55:37.400" end="17:55:39.560" style="s2">right</p>
<p begin="17:55:39.956" end="17:55:43.840" style="s2">here and so you&#39;ll see that I had a</p>
<p begin="17:55:41.956" end="17:55:45.360" style="s2">previous I had a couple of other uh</p>
<p begin="17:55:43.840" end="17:55:47.596" style="s2">actions that ran because I was you know</p>
<p begin="17:55:45.360" end="17:55:49.520" style="s2">doing a dry run but you&#39;ll see that the</p>
<p begin="17:55:47.596" end="17:55:51.080" style="s2">most recent one which is the one we had</p>
<p begin="17:55:49.520" end="17:55:52.436" style="s2">which is called adding first GitHub</p>
<p begin="17:55:51.080" end="17:55:55.520" style="s2">action so this actually comes from the</p>
<p begin="17:55:52.436" end="17:55:57.520" style="s2">commit name and we could select this and</p>
<p begin="17:55:55.520" end="17:55:58.880" style="s2">we can see exactly what happened so this</p>
<p begin="17:55:57.520" end="17:56:01.320" style="s2">uh gives us a little summary we can see</p>
<p begin="17:55:58.880" end="17:56:03.276" style="s2">that we have one job called job one and</p>
<p begin="17:56:01.320" end="17:56:04.796" style="s2">then we can see that the job uh ran and</p>
<p begin="17:56:03.276" end="17:56:06.560" style="s2">it successfully ran and it took 4</p>
<p begin="17:56:04.796" end="17:56:08.116" style="s2">seconds and if you click on the job</p>
<p begin="17:56:06.560" end="17:56:10.320" style="s2">you&#39;ll see all of the steps so the first</p>
<p begin="17:56:08.116" end="17:56:11.880" style="s2">thing is it sets up the job and so you</p>
<p begin="17:56:10.320" end="17:56:13.360" style="s2">can see that it&#39;s creating a runner</p>
<p begin="17:56:11.880" end="17:56:15.200" style="s2">which is once again just a virtual</p>
<p begin="17:56:13.360" end="17:56:16.916" style="s2">machine and then it&#39;s going to provide</p>
<p begin="17:56:15.200" end="17:56:18.880" style="s2">us a buntu because we specified that as</p>
<p begin="17:56:16.916" end="17:56:20.360" style="s2">our operating system</p>
<p begin="17:56:18.880" end="17:56:21.880" style="s2">uh it&#39;s going to set up a virtual</p>
<p begin="17:56:20.360" end="17:56:24.116" style="s2">environment don&#39;t worry too much about</p>
<p begin="17:56:21.880" end="17:56:25.476" style="s2">that uh it&#39;s going to handle all of the</p>
<p begin="17:56:24.116" end="17:56:27.956" style="s2">GitHub permissions because it&#39;s all</p>
<p begin="17:56:25.476" end="17:56:30.360" style="s2">integrated with GitHub uh then we go</p>
<p begin="17:56:27.956" end="17:56:32.796" style="s2">down to the first action which was</p>
<p begin="17:56:30.360" end="17:56:34.880" style="s2">pulling the git repo because we did say</p>
<p begin="17:56:32.796" end="17:56:37.160" style="s2">action checkout V2 so then it&#39;s going to</p>
<p begin="17:56:34.880" end="17:56:39.636" style="s2">pull the GitHub repo and then we could</p>
<p begin="17:56:37.160" end="17:56:41.756" style="s2">see the second option uh sorry the</p>
<p begin="17:56:39.636" end="17:56:43.080" style="s2">second action which was say hi to sanj</p>
<p begin="17:56:41.756" end="17:56:44.880" style="s2">so all it&#39;s doing is just running this</p>
<p begin="17:56:43.080" end="17:56:46.436" style="s2">command on our Linux machine so it&#39;s</p>
<p begin="17:56:44.880" end="17:56:49.160" style="s2">just saying Echo hello sanjie and then</p>
<p begin="17:56:46.436" end="17:56:51.160" style="s2">it just prints out hello sanjie so this</p>
<p begin="17:56:49.160" end="17:56:53.240" style="s2">is all a cicd pipeline is it&#39;s just</p>
<p begin="17:56:51.160" end="17:56:55.160" style="s2">providing a bunch of instructions for a</p>
<p begin="17:56:53.240" end="17:56:56.796" style="s2">little machine on the internet to run</p>
<p begin="17:56:55.160" end="17:56:57.916" style="s2">for us now technically the machine</p>
<p begin="17:56:56.796" end="17:56:59.680" style="s2">doesn&#39;t have to be on the internet it</p>
<p begin="17:56:57.916" end="17:57:02.080" style="s2">doesn&#39;t have to be hosted uh there&#39;s</p>
<p begin="17:56:59.680" end="17:57:03.956" style="s2">some uh cicd tools that you host</p>
<p begin="17:57:02.080" end="17:57:05.360" style="s2">yourselves on your on your own machine</p>
<p begin="17:57:03.956" end="17:57:07.916" style="s2">or your own server so that they actually</p>
<p begin="17:57:05.360" end="17:57:09.840" style="s2">handle uh running all of this because uh</p>
<p begin="17:57:07.916" end="17:57:11.520" style="s2">even though GitHub actions is free they</p>
<p begin="17:57:09.840" end="17:57:13.320" style="s2">only give you a certain number of build</p>
<p begin="17:57:11.520" end="17:57:15.040" style="s2">minutes for free and then after that</p>
<p begin="17:57:13.320" end="17:57:16.880" style="s2">they&#39;ll start charging for it so uh</p>
<p begin="17:57:15.040" end="17:57:18.276" style="s2">depending on how many times you build it</p>
<p begin="17:57:16.880" end="17:57:19.720" style="s2">may actually be more cost effective eff</p>
<p begin="17:57:18.276" end="17:57:21.560" style="s2">if to just set it up</p>
<p begin="17:57:19.720" end="17:57:23.240" style="s2">yourself and then it looks like you know</p>
<p begin="17:57:21.560" end="17:57:25.240" style="s2">GitHub actions there&#39;s a post pulling</p>
<p begin="17:57:23.240" end="17:57:26.880" style="s2">git repo uh so it&#39;s going to perform a</p>
<p begin="17:57:25.240" end="17:57:29.116" style="s2">few other like cleanup actions and then</p>
<p begin="17:57:26.880" end="17:57:32.040" style="s2">it&#39;s going to then clean up the job so</p>
<p begin="17:57:29.116" end="17:57:35.880" style="s2">we have successfully uh created our</p>
<p begin="17:57:32.040" end="17:57:38.756" style="s2">first simple example cicd pipeline or</p>
<p begin="17:57:35.880" end="17:57:41.160" style="s2">GitHub actions workflow in this case so</p>
<p begin="17:57:38.756" end="17:57:43.436" style="s2">let&#39;s take our GitHub actions to the</p>
<p begin="17:57:41.160" end="17:57:45.360" style="s2">next step and I&#39;m going to actually</p>
<p begin="17:57:43.436" end="17:57:47.200" style="s2">remove this uh example I just wanted to</p>
<p begin="17:57:45.360" end="17:57:48.596" style="s2">show you guys how to do that but after</p>
<p begin="17:57:47.200" end="17:57:49.796" style="s2">we pull our GitHub</p>
<p begin="17:57:48.596" end="17:57:51.560" style="s2">the next thing that I want to do is I</p>
<p begin="17:57:49.796" end="17:57:54.320" style="s2">want to set up</p>
<p begin="17:57:51.560" end="17:57:56.680" style="s2">Python and so to set up python once</p>
<p begin="17:57:54.320" end="17:57:59.840" style="s2">again we can go back to um the</p>
<p begin="17:57:56.680" end="17:58:01.436" style="s2">marketplace if I can find it because you</p>
<p begin="17:57:59.840" end="17:58:05.520" style="s2">know setting up python seems like a very</p>
<p begin="17:58:01.436" end="17:58:07.916" style="s2">common task so um we can just search for</p>
<p begin="17:58:05.520" end="17:58:10.240" style="s2">Python and keep in mind when it comes to</p>
<p begin="17:58:07.916" end="17:58:11.476" style="s2">setting up python you could technically</p>
<p begin="17:58:10.240" end="17:58:13.080" style="s2">uh just do the same thing where we can</p>
<p begin="17:58:11.476" end="17:58:14.520" style="s2">say uses and then we can you know run</p>
<p begin="17:58:13.080" end="17:58:15.916" style="s2">the command on a Linux machine to</p>
<p begin="17:58:14.520" end="17:58:18.796" style="s2">install python which would be something</p>
<p begin="17:58:15.916" end="17:58:20.956" style="s2">like pseudo app install python right we</p>
<p begin="17:58:18.796" end="17:58:23.080" style="s2">could 100% do that and that would 100%</p>
<p begin="17:58:20.956" end="17:58:25.200" style="s2">work but because this is such a common</p>
<p begin="17:58:23.080" end="17:58:28.040" style="s2">task task there&#39;s already a pre-built</p>
<p begin="17:58:25.200" end="17:58:30.240" style="s2">action so we don&#39;t even have to do</p>
<p begin="17:58:28.040" end="17:58:31.680" style="s2">that and uh I think I searched for</p>
<p begin="17:58:30.240" end="17:58:33.680" style="s2">python did that work it didn&#39;t look like</p>
<p begin="17:58:31.680" end="17:58:36.276" style="s2">it</p>
<p begin="17:58:33.680" end="17:58:39.080" style="s2">worked um here we go set up python down</p>
<p begin="17:58:36.276" end="17:58:41.400" style="s2">here so this is going to be responsible</p>
<p begin="17:58:39.080" end="17:58:43.560" style="s2">for setting up and installing python on</p>
<p begin="17:58:41.400" end="17:58:46.116" style="s2">our machine and you&#39;ll see an example of</p>
<p begin="17:58:43.560" end="17:58:48.476" style="s2">how to do this you just say uses action</p>
<p begin="17:58:46.116" end="17:58:50.040" style="s2">setup Python atv2 and then you you say</p>
<p begin="17:58:48.476" end="17:58:51.200" style="s2">with and then you specify the version</p>
<p begin="17:58:50.040" end="17:58:53.720" style="s2">and then you can also provide the</p>
<p begin="17:58:51.200" end="17:58:55.436" style="s2">architecture as well and what&#39;s really</p>
<p begin="17:58:53.720" end="17:58:57.596" style="s2">cool about this is that let&#39;s say we</p>
<p begin="17:58:55.436" end="17:59:00.240" style="s2">wanted to test our code on multiple</p>
<p begin="17:58:57.596" end="17:59:02.360" style="s2">different versions of python well we can</p>
<p begin="17:59:00.240" end="17:59:04.520" style="s2">go under the strategy section so right</p>
<p begin="17:59:02.360" end="17:59:06.200" style="s2">under where it says runs on we can do</p>
<p begin="17:59:04.520" end="17:59:08.596" style="s2">strategy and then we can provide a</p>
<p begin="17:59:06.200" end="17:59:10.596" style="s2">matrix and then a list of versions so if</p>
<p begin="17:59:08.596" end="17:59:13.636" style="s2">we wanted to test version 3.7 version</p>
<p begin="17:59:10.596" end="17:59:15.476" style="s2">3.8 3.9 3.6 uh and make sure that our</p>
<p begin="17:59:13.636" end="17:59:18.200" style="s2">code works on all of them we can then</p>
<p begin="17:59:15.476" end="17:59:20.840" style="s2">create this Matrix here and then when we</p>
<p begin="17:59:18.200" end="17:59:22.320" style="s2">go to set up our python right we would</p>
<p begin="17:59:20.840" end="17:59:23.720" style="s2">say with and then for python version</p>
<p begin="17:59:22.320" end="17:59:25.680" style="s2">instead of providing one specific</p>
<p begin="17:59:23.720" end="17:59:28.040" style="s2">version we actually pass this is a</p>
<p begin="17:59:25.680" end="17:59:30.276" style="s2">essentially a variable syntax in yl and</p>
<p begin="17:59:28.040" end="17:59:32.080" style="s2">then we just call matrix. python version</p>
<p begin="17:59:30.276" end="17:59:35.240" style="s2">which is referencing this list right</p>
<p begin="17:59:32.080" end="17:59:37.320" style="s2">here and so it&#39;ll just run our actions</p>
<p begin="17:59:35.240" end="17:59:38.756" style="s2">for all of these versions just to verify</p>
<p begin="17:59:37.320" end="17:59:40.436" style="s2">that everything works in all of the</p>
<p begin="17:59:38.756" end="17:59:41.720" style="s2">versions but we&#39;re going to keep it</p>
<p begin="17:59:40.436" end="17:59:43.436" style="s2">simple we&#39;re just going to do version</p>
<p begin="17:59:41.720" end="17:59:44.756" style="s2">3.9 if you want to play around with it I</p>
<p begin="17:59:43.436" end="17:59:46.560" style="s2">definitely recommend you try testing</p>
<p begin="17:59:44.756" end="17:59:48.200" style="s2">this out but for us it doesn&#39;t really</p>
<p begin="17:59:46.560" end="17:59:50.040" style="s2">matter</p>
<p begin="17:59:48.200" end="17:59:51.956" style="s2">um but keep in mind it looks like you</p>
<p begin="17:59:50.040" end="17:59:53.840" style="s2">can even do the same thing for different</p>
<p begin="17:59:51.956" end="17:59:56.680" style="s2">operating systems so if you want to test</p>
<p begin="17:59:53.840" end="17:59:59.360" style="s2">on a buntu Mac and windows you can do</p>
<p begin="17:59:56.680" end="18:00:02.520" style="s2">the same thing as well but like I said</p>
<p begin="17:59:59.360" end="18:00:02.520" style="s2">we&#39;re going to keep things very</p>
<p begin="18:00:02.680" end="18:00:07.880" style="s2">simple and I&#39;m actually going to change</p>
<p begin="18:00:04.720" end="18:00:09.000" style="s2">this to name give this a name I&#39;m going</p>
<p begin="18:00:07.880" end="18:00:11.276" style="s2">to say</p>
<p begin="18:00:09.000" end="18:00:14.040" style="s2">install</p>
<p begin="18:00:11.276" end="18:00:16.200" style="s2">python version</p>
<p begin="18:00:14.040" end="18:00:18.400" style="s2">3.9 and we&#39;ll say uses and then we&#39;ll</p>
<p begin="18:00:16.200" end="18:00:21.276" style="s2">call that action now so we&#39;ll do actions</p>
<p begin="18:00:18.400" end="18:00:24.160" style="s2">slash set up-</p>
<p begin="18:00:21.276" end="18:00:29.000" style="s2">python at</p>
<p begin="18:00:24.160" end="18:00:31.276" style="s2">V2 and then we pass in wi Tab and we&#39;ll</p>
<p begin="18:00:29.000" end="18:00:34.560" style="s2">say python Das</p>
<p begin="18:00:31.276" end="18:00:36.796" style="s2">version and we&#39;ll say</p>
<p begin="18:00:34.560" end="18:00:39.160" style="s2">3.9 and I think that&#39;s all we have to do</p>
<p begin="18:00:36.796" end="18:00:41.320" style="s2">let me see the example uh python version</p>
<p begin="18:00:39.160" end="18:00:42.436" style="s2">3.9 yep that&#39;s all uh we can leave the</p>
<p begin="18:00:41.320" end="18:00:44.476" style="s2">architecture I&#39;m going to use the</p>
<p begin="18:00:42.436" end="18:00:49.840" style="s2">default uh which looks like it defaults</p>
<p begin="18:00:44.476" end="18:00:49.840" style="s2">to x64 so not a problem in our case</p>
<p begin="18:00:51.796" end="18:00:55.560" style="s2">all right and then after installing</p>
<p begin="18:00:53.040" end="18:00:57.956" style="s2">python the next thing that I want to do</p>
<p begin="18:00:55.560" end="18:01:01.476" style="s2">is I want to upgrade</p>
<p begin="18:00:57.956" end="18:01:04.840" style="s2">pip so I&#39;ll create um a description of</p>
<p begin="18:01:01.476" end="18:01:06.916" style="s2">update pip and then we&#39;ll say</p>
<p begin="18:01:04.840" end="18:01:09.520" style="s2">uses actually instead of uses we&#39;re just</p>
<p begin="18:01:06.916" end="18:01:12.756" style="s2">going to run a command on the the Linux</p>
<p begin="18:01:09.520" end="18:01:12.756" style="s2">shell so we&#39;ll say</p>
<p begin="18:01:13.160" end="18:01:21.840" style="s2">run and we just run python</p>
<p begin="18:01:16.840" end="18:01:23.240" style="s2">DM pip install -- upgrade pip so this is</p>
<p begin="18:01:21.840" end="18:01:24.880" style="s2">the command that you would run on any</p>
<p begin="18:01:23.240" end="18:01:27.080" style="s2">Linux operating system or even on a</p>
<p begin="18:01:24.880" end="18:01:28.720" style="s2">Windows machine to upgrade pip and then</p>
<p begin="18:01:27.080" end="18:01:30.680" style="s2">the next thing that I want to do is</p>
<p begin="18:01:28.720" end="18:01:33.080" style="s2">we&#39;re going to install all of our</p>
<p begin="18:01:30.680" end="18:01:35.560" style="s2">dependencies so since we pulled our git</p>
<p begin="18:01:33.080" end="18:01:36.756" style="s2">repo right with the actions checkout</p>
<p begin="18:01:35.560" end="18:01:38.160" style="s2">we&#39;re going to have access to all of</p>
<p begin="18:01:36.756" end="18:01:40.160" style="s2">this code and we&#39;re going to have access</p>
<p begin="18:01:38.160" end="18:01:42.000" style="s2">to our requirements.txt so we have to</p>
<p begin="18:01:40.160" end="18:01:44.880" style="s2">make sure that we install all of these</p>
<p begin="18:01:42.000" end="18:01:47.160" style="s2">packages there as</p>
<p begin="18:01:44.880" end="18:01:48.680" style="s2">well and so here I&#39;ll just say this is</p>
<p begin="18:01:47.160" end="18:01:50.520" style="s2">install</p>
<p begin="18:01:48.680" end="18:01:52.596" style="s2">all</p>
<p begin="18:01:50.520" end="18:01:55.080" style="s2">dependencies and uh the command that</p>
<p begin="18:01:52.596" end="18:01:57.756" style="s2">we&#39;re going to run for</p>
<p begin="18:01:55.080" end="18:01:59.040" style="s2">this is going to be a and you guys</p>
<p begin="18:01:57.756" end="18:02:00.520" style="s2">should know this this is just pip</p>
<p begin="18:01:59.040" end="18:02:04.636" style="s2">install</p>
<p begin="18:02:00.520" end="18:02:04.636" style="s2">dasr requirements.txt</p>
<p begin="18:02:05.916" end="18:02:11.240" style="s2">all right so let&#39;s I think this is a</p>
<p begin="18:02:08.360" end="18:02:13.080" style="s2">good starting point let&#39;s try um</p>
<p begin="18:02:11.240" end="18:02:17.916" style="s2">committing our code again I&#39;ll just do</p>
<p begin="18:02:13.080" end="18:02:19.916" style="s2">get add-- all we&#39;ll do a get commit DM</p>
<p begin="18:02:17.916" end="18:02:23.476" style="s2">added more</p>
<p begin="18:02:19.916" end="18:02:25.796" style="s2">steps and then we&#39;ll do a get push</p>
<p begin="18:02:23.476" end="18:02:29.916" style="s2">origin</p>
<p begin="18:02:25.796" end="18:02:33.040" style="s2">main all right and then we&#39;ll go back to</p>
<p begin="18:02:29.916" end="18:02:34.636" style="s2">actions right and we can see that our</p>
<p begin="18:02:33.040" end="18:02:36.276" style="s2">workflow is starting to run that&#39;s why</p>
<p begin="18:02:34.636" end="18:02:37.636" style="s2">it&#39;s yellow and we can take a look at</p>
<p begin="18:02:36.276" end="18:02:39.916" style="s2">its current status so it&#39;s still running</p>
<p begin="18:02:37.636" end="18:02:41.320" style="s2">job one which is the name we gave it and</p>
<p begin="18:02:39.916" end="18:02:43.956" style="s2">we can just kind of follow along so it</p>
<p begin="18:02:41.320" end="18:02:47.080" style="s2">looks like it pulled our repo in whoops</p>
<p begin="18:02:43.956" end="18:02:48.916" style="s2">installed python version 3.9 it&#39;s then</p>
<p begin="18:02:47.080" end="18:02:50.400" style="s2">in updated pip and that&#39;s already</p>
<p begin="18:02:48.916" end="18:02:52.636" style="s2">completed and now it&#39;s installing all</p>
<p begin="18:02:50.400" end="18:02:54.000" style="s2">the dependencies so obviously installing</p>
<p begin="18:02:52.636" end="18:02:54.956" style="s2">all the dependencies takes a certain</p>
<p begin="18:02:54.000" end="18:02:58.000" style="s2">amount of time that&#39;s probably going to</p>
<p begin="18:02:54.956" end="18:03:00.916" style="s2">be the longest specific step in our uh</p>
<p begin="18:02:58.000" end="18:03:02.560" style="s2">GitHub workflow at this point all right</p>
<p begin="18:03:00.916" end="18:03:03.916" style="s2">and it looks like that ran and then it&#39;s</p>
<p begin="18:03:02.560" end="18:03:05.320" style="s2">essentially cleaning things up and then</p>
<p begin="18:03:03.916" end="18:03:06.636" style="s2">it&#39;s completed and we get the beautiful</p>
<p begin="18:03:05.320" end="18:03:10.880" style="s2">green check</p>
<p begin="18:03:06.636" end="18:03:13.000" style="s2">mark so we can just close out of this go</p>
<p begin="18:03:10.880" end="18:03:14.880" style="s2">back and you can even see the list of</p>
<p begin="18:03:13.000" end="18:03:16.956" style="s2">all of our workflows that GitHub actions</p>
<p begin="18:03:14.880" end="18:03:19.000" style="s2">uh detected so we have buil-in deploy</p>
<p begin="18:03:16.956" end="18:03:21.560" style="s2">code so that&#39;s the only workflow that we</p>
<p begin="18:03:19.000" end="18:03:23.680" style="s2">have but keep in mind I can create</p>
<p begin="18:03:21.560" end="18:03:25.916" style="s2">essentially as many different yaml files</p>
<p begin="18:03:23.680" end="18:03:28.520" style="s2">inside this workflow folders to have uh</p>
<p begin="18:03:25.916" end="18:03:30.360" style="s2">different uh workflows so I might have</p>
<p begin="18:03:28.520" end="18:03:32.756" style="s2">one specific set of uh I might have a</p>
<p begin="18:03:30.360" end="18:03:34.320" style="s2">workflow specifically for one branch and</p>
<p begin="18:03:32.756" end="18:03:36.560" style="s2">a completely separate workflow for</p>
<p begin="18:03:34.320" end="18:03:37.916" style="s2">another Branch um it just gives you a</p>
<p begin="18:03:36.560" end="18:03:39.400" style="s2">lot of customizability but we&#39;re just</p>
<p begin="18:03:37.916" end="18:03:41.476" style="s2">going to have one workflow that works</p>
<p begin="18:03:39.400" end="18:03:43.680" style="s2">across all of our branches now the next</p>
<p begin="18:03:41.476" end="18:03:44.520" style="s2">thing that I want to do is I want to run</p>
<p begin="18:03:43.680" end="18:03:48.240" style="s2">py</p>
<p begin="18:03:44.520" end="18:03:49.756" style="s2">test so to run py test right it&#39;s a</p>
<p begin="18:03:48.240" end="18:03:51.756" style="s2">pretty simple process so let me set up</p>
<p begin="18:03:49.756" end="18:03:54.276" style="s2">the name</p>
<p begin="18:03:51.756" end="18:03:57.680" style="s2">first and we&#39;ll say uh</p>
<p begin="18:03:54.276" end="18:04:00.720" style="s2">whoops test with py</p>
<p begin="18:03:57.680" end="18:04:02.880" style="s2">test and then we&#39;ll say</p>
<p begin="18:04:00.720" end="18:04:04.880" style="s2">run all right and I need to run two</p>
<p begin="18:04:02.880" end="18:04:07.240" style="s2">commands so if you ever want to provide</p>
<p begin="18:04:04.880" end="18:04:08.476" style="s2">a list of commands to run uh instead of</p>
<p begin="18:04:07.240" end="18:04:13.200" style="s2">having to create multiple different</p>
<p begin="18:04:08.476" end="18:04:14.840" style="s2">steps I can do uh a pipe go down a line</p>
<p begin="18:04:13.200" end="18:04:17.756" style="s2">and just provide the list of commands so</p>
<p begin="18:04:14.840" end="18:04:19.040" style="s2">we&#39;ll do pip install py test and then we</p>
<p begin="18:04:17.756" end="18:04:20.596" style="s2">can go down the line and provide the</p>
<p begin="18:04:19.040" end="18:04:22.520" style="s2">second command so then we just run P</p>
<p begin="18:04:20.596" end="18:04:24.080" style="s2">test and you can you know pass in</p>
<p begin="18:04:22.520" end="18:04:26.956" style="s2">whatever Flags if you want the- V and</p>
<p begin="18:04:24.080" end="18:04:28.880" style="s2">the- S but I&#39;m going to keep it simple</p>
<p begin="18:04:26.956" end="18:04:30.080" style="s2">and we&#39;re just going to keep it blank</p>
<p begin="18:04:28.880" end="18:04:33.796" style="s2">for</p>
<p begin="18:04:30.080" end="18:04:35.276" style="s2">now let&#39;s save this and I&#39;m going to</p>
<p begin="18:04:33.796" end="18:04:40.520" style="s2">then do the same thing we&#39;ll do a get</p>
<p begin="18:04:35.276" end="18:04:40.520" style="s2">add-- all we&#39;ll do a get commit</p>
<p begin="18:04:40.796" end="18:04:47.756" style="s2">DM and I&#39;ll say um added P test</p>
<p begin="18:04:45.200" end="18:04:50.080" style="s2">step and then we&#39;ll do a get push origin</p>
<p begin="18:04:47.756" end="18:04:50.080" style="s2">main</p>
<p begin="18:04:50.636" end="18:04:54.560" style="s2">again and so from a from a learning</p>
<p begin="18:04:52.880" end="18:04:56.560" style="s2">perspective right this is kind of a slow</p>
<p begin="18:04:54.560" end="18:04:58.040" style="s2">process cuz we have to push all of our</p>
<p begin="18:04:56.560" end="18:05:00.276" style="s2">changes and then now we have to wait for</p>
<p begin="18:04:58.040" end="18:05:02.200" style="s2">this whole thing to run but once you</p>
<p begin="18:05:00.276" end="18:05:03.956" style="s2">understand how all of this works and how</p>
<p begin="18:05:02.200" end="18:05:05.520" style="s2">easy it is to set up you won&#39;t have to</p>
<p begin="18:05:03.956" end="18:05:06.756" style="s2">keep doing this every single time or</p>
<p begin="18:05:05.520" end="18:05:10.840" style="s2">every single project you can just</p>
<p begin="18:05:06.756" end="18:05:10.840" style="s2">essentially copy and paste most of your</p>
<p begin="18:05:10.916" end="18:05:15.200" style="s2">workflow all right so it looks like it&#39;s</p>
<p begin="18:05:12.880" end="18:05:16.720" style="s2">completed and we get a red X so it looks</p>
<p begin="18:05:15.200" end="18:05:18.560" style="s2">like something broke and that&#39;s to be</p>
<p begin="18:05:16.720" end="18:05:21.040" style="s2">expected and it&#39;s going to highlight</p>
<p begin="18:05:18.560" end="18:05:23.200" style="s2">what uh specific test failed or sorry</p>
<p begin="18:05:21.040" end="18:05:26.116" style="s2">what specific step failed but we can see</p>
<p begin="18:05:23.200" end="18:05:28.080" style="s2">that it was the uh running pie test so</p>
<p begin="18:05:26.116" end="18:05:29.636" style="s2">if I just open this up a bit and then</p>
<p begin="18:05:28.080" end="18:05:32.276" style="s2">expand it we can take a look at what the</p>
<p begin="18:05:29.636" end="18:05:33.956" style="s2">error was so it looks like it installed</p>
<p begin="18:05:32.276" end="18:05:36.000" style="s2">P test and that seems to have worked</p>
<p begin="18:05:33.956" end="18:05:38.436" style="s2">fine and then down here you can see that</p>
<p begin="18:05:36.000" end="18:05:39.840" style="s2">there&#39;s a couple of validation errors</p>
<p begin="18:05:38.436" end="18:05:41.080" style="s2">and so it says that you know we didn&#39;t</p>
<p begin="18:05:39.840" end="18:05:43.520" style="s2">provide a</p>
<p begin="18:05:41.080" end="18:05:45.080" style="s2">database um host name Port so it looks</p>
<p begin="18:05:43.520" end="18:05:47.160" style="s2">like there&#39;s issues with environment</p>
<p begin="18:05:45.080" end="18:05:48.840" style="s2">variables and that makes sense because</p>
<p begin="18:05:47.160" end="18:05:50.436" style="s2">this is a brand new computer that we</p>
<p begin="18:05:48.840" end="18:05:51.916" style="s2">haven&#39;t touched so none of the</p>
<p begin="18:05:50.436" end="18:05:54.436" style="s2">environment variables have been set up</p>
<p begin="18:05:51.916" end="18:05:57.040" style="s2">so obviously it has no environment</p>
<p begin="18:05:54.436" end="18:05:58.840" style="s2">variables in in our uh pantic validation</p>
<p begin="18:05:57.040" end="18:06:01.160" style="s2">of environment variables should have</p>
<p begin="18:05:58.840" end="18:06:03.476" style="s2">failed and it did absolutely fail so</p>
<p begin="18:06:01.160" end="18:06:05.720" style="s2">this is all to be expected uh and so in</p>
<p begin="18:06:03.476" end="18:06:07.956" style="s2">the next video we&#39;ll figure out how we</p>
<p begin="18:06:05.720" end="18:06:09.956" style="s2">can set environment variables in our</p>
<p begin="18:06:07.956" end="18:06:12.880" style="s2">workflows so that we can provide the</p>
<p begin="18:06:09.956" end="18:06:14.756" style="s2">information for reaching our specific</p>
<p begin="18:06:12.880" end="18:06:16.200" style="s2">database so there&#39;s a couple of</p>
<p begin="18:06:14.756" end="18:06:18.360" style="s2">different ways that we can set up</p>
<p begin="18:06:16.200" end="18:06:19.560" style="s2">environment variables um uh and there&#39;s</p>
<p begin="18:06:18.360" end="18:06:21.436" style="s2">a couple of different places where we</p>
<p begin="18:06:19.560" end="18:06:23.840" style="s2">can Define them so I&#39;m going to show you</p>
<p begin="18:06:21.436" end="18:06:25.596" style="s2">a job how to set a job specific</p>
<p begin="18:06:23.840" end="18:06:27.276" style="s2">environment variable that means this is</p>
<p begin="18:06:25.596" end="18:06:30.476" style="s2">an environment variable that will only</p>
<p begin="18:06:27.276" end="18:06:31.796" style="s2">be accessible from within one job so in</p>
<p begin="18:06:30.476" end="18:06:34.080" style="s2">this case our job that we&#39;ve been</p>
<p begin="18:06:31.796" end="18:06:35.560" style="s2">working on is called job one and so if</p>
<p begin="18:06:34.080" end="18:06:38.116" style="s2">you want to set an environment variable</p>
<p begin="18:06:35.560" end="18:06:39.720" style="s2">you just set it right here so we say EnV</p>
<p begin="18:06:38.116" end="18:06:41.080" style="s2">and then you provide all of your</p>
<p begin="18:06:39.720" end="18:06:44.596" style="s2">environment variables so in this case</p>
<p begin="18:06:41.080" end="18:06:44.596" style="s2">let&#39;s say we want database host</p>
<p begin="18:06:46.160" end="18:06:52.560" style="s2">name and in this case is going to</p>
<p begin="18:06:49.200" end="18:06:54.560" style="s2">be Local Host we&#39;ve now successfully</p>
<p begin="18:06:52.560" end="18:06:55.840" style="s2">sent uh set up one environment variable</p>
<p begin="18:06:54.560" end="18:06:58.000" style="s2">and I&#39;m just going to copy and paste all</p>
<p begin="18:06:55.840" end="18:06:58.000" style="s2">the</p>
<p begin="18:06:58.320" end="18:07:04.680" style="s2">others and so now we&#39;ve defined all of</p>
<p begin="18:07:01.080" end="18:07:07.596" style="s2">our environment variables in this case</p>
<p begin="18:07:04.680" end="18:07:09.116" style="s2">and that should fix the issue um but I</p>
<p begin="18:07:07.596" end="18:07:10.560" style="s2">want to show you guys what other</p>
<p begin="18:07:09.116" end="18:07:12.436" style="s2">environment variables that we have as</p>
<p begin="18:07:10.560" end="18:07:14.276" style="s2">well and if you want to know where I&#39;m</p>
<p begin="18:07:12.436" end="18:07:15.880" style="s2">kind of getting all this information</p>
<p begin="18:07:14.276" end="18:07:17.680" style="s2">like I said we have the documentation</p>
<p begin="18:07:15.880" end="18:07:20.116" style="s2">and there should be a section for</p>
<p begin="18:07:17.680" end="18:07:22.080" style="s2">environment variables here and so I</p>
<p begin="18:07:20.116" end="18:07:23.720" style="s2">think we should see the same thing right</p>
<p begin="18:07:22.080" end="18:07:26.636" style="s2">yep we see the same thing so EnV under</p>
<p begin="18:07:23.720" end="18:07:28.560" style="s2">the specific job and you just provide uh</p>
<p begin="18:07:26.636" end="18:07:30.720" style="s2">the list of all of your environment</p>
<p begin="18:07:28.560" end="18:07:32.400" style="s2">variables and then there&#39;s some built-in</p>
<p begin="18:07:30.720" end="18:07:34.636" style="s2">ones so these are default environment</p>
<p begin="18:07:32.400" end="18:07:37.596" style="s2">variables that get set for you so here</p>
<p begin="18:07:34.636" end="18:07:40.560" style="s2">you can see um uh what&#39;s the run number</p>
<p begin="18:07:37.596" end="18:07:42.200" style="s2">what&#39;s the GitHub job uh what&#39;s the uh</p>
<p begin="18:07:40.560" end="18:07:43.360" style="s2">action path we can even see what&#39;s a</p>
<p begin="18:07:42.200" end="18:07:45.116" style="s2">repository so if you want to get the</p>
<p begin="18:07:43.360" end="18:07:46.720" style="s2">name of your repository you can</p>
<p begin="18:07:45.116" end="18:07:48.880" style="s2">reference this specific environment</p>
<p begin="18:07:46.720" end="18:07:50.796" style="s2">variable but we don&#39;t need to do any of</p>
<p begin="18:07:48.880" end="18:07:53.436" style="s2">that um but what I do want to show you</p>
<p begin="18:07:50.796" end="18:07:57.320" style="s2">is uh you know if I had gone in and then</p>
<p begin="18:07:53.436" end="18:07:59.240" style="s2">created a second job called job two</p>
<p begin="18:07:57.320" end="18:08:00.956" style="s2">right this environment variable that we</p>
<p begin="18:07:59.240" end="18:08:03.040" style="s2">defined here is not available because</p>
<p begin="18:08:00.956" end="18:08:04.520" style="s2">this is defined under job one so if you</p>
<p begin="18:08:03.040" end="18:08:07.000" style="s2">want to have a environment variable</p>
<p begin="18:08:04.520" end="18:08:09.080" style="s2">that&#39;s shared across all of your jobs I</p>
<p begin="18:08:07.000" end="18:08:11.560" style="s2">can specify an environment variable here</p>
<p begin="18:08:09.080" end="18:08:13.880" style="s2">so I can say</p>
<p begin="18:08:11.560" end="18:08:15.476" style="s2">EnV and then I just provide my</p>
<p begin="18:08:13.880" end="18:08:17.636" style="s2">environment VAR so I can just copy this</p>
<p begin="18:08:15.476" end="18:08:19.080" style="s2">one as an example and we can provide so</p>
<p begin="18:08:17.636" end="18:08:21.560" style="s2">then database host name is going to be</p>
<p begin="18:08:19.080" end="18:08:23.560" style="s2">available for job one and job</p>
<p begin="18:08:21.560" end="18:08:25.200" style="s2">two but for now we&#39;re just going to</p>
<p begin="18:08:23.560" end="18:08:27.040" style="s2">remove that cuz we don&#39;t really need we</p>
<p begin="18:08:25.200" end="18:08:29.320" style="s2">don&#39;t really need that right now and I&#39;m</p>
<p begin="18:08:27.040" end="18:08:31.520" style="s2">going to keep everything as a default in</p>
<p begin="18:08:29.320" end="18:08:31.520" style="s2">this</p>
<p begin="18:08:31.680" end="18:08:37.040" style="s2">case and we&#39;re going to check this into</p>
<p begin="18:08:34.160" end="18:08:41.436" style="s2">git so I&#39;m going to do a git add-- all</p>
<p begin="18:08:37.040" end="18:08:44.476" style="s2">we&#39;ll do a g commit DM added EnV</p>
<p begin="18:08:41.436" end="18:08:47.476" style="s2">variables and we&#39;ll do a get push origin</p>
<p begin="18:08:44.476" end="18:08:47.476" style="s2">Main</p>
<p begin="18:08:47.720" end="18:08:52.080" style="s2">okay and then back to our actions page</p>
<p begin="18:08:49.916" end="18:08:54.360" style="s2">if I see the added environment variable</p>
<p begin="18:08:52.080" end="18:08:57.400" style="s2">section uh we can see that failed once</p>
<p begin="18:08:54.360" end="18:08:59.160" style="s2">again this is going to be uh expected so</p>
<p begin="18:08:57.400" end="18:09:03.040" style="s2">if we go under oh it looks like there&#39;s</p>
<p begin="18:08:59.160" end="18:09:04.320" style="s2">a weird failure no steps defin okay so</p>
<p begin="18:09:03.040" end="18:09:06.276" style="s2">we got an error because I accidentally</p>
<p begin="18:09:04.320" end="18:09:09.000" style="s2">left job two so it doesn&#39;t like it the</p>
<p begin="18:09:06.276" end="18:09:10.796" style="s2">fact that I have jobs 2 with no steps so</p>
<p begin="18:09:09.000" end="18:09:13.520" style="s2">we&#39;re going to save this again and we&#39;re</p>
<p begin="18:09:10.796" end="18:09:13.520" style="s2">going to do another</p>
<p begin="18:09:15.436" end="18:09:20.400" style="s2">commit and I&#39;ll just call this commit</p>
<p begin="18:09:17.320" end="18:09:20.400" style="s2">committing again cuz I&#39;m getting</p>
<p begin="18:09:23.276" end="18:09:26.880" style="s2">lazy right and let&#39;s just make sure that</p>
<p begin="18:09:25.520" end="18:09:28.200" style="s2">we&#39;ve kicked this off all right so it</p>
<p begin="18:09:26.880" end="18:09:31.000" style="s2">looks like we kicked it off and there&#39;s</p>
<p begin="18:09:28.200" end="18:09:33.200" style="s2">no um like major showstopping errors at</p>
<p begin="18:09:31.000" end="18:09:34.756" style="s2">the beginning but we should still see</p>
<p begin="18:09:33.200" end="18:09:36.756" style="s2">this fail and that&#39;s to be expected but</p>
<p begin="18:09:34.756" end="18:09:38.400" style="s2">I just want to make sure that we no</p>
<p begin="18:09:36.756" end="18:09:40.240" style="s2">longer have issues with environment</p>
<p begin="18:09:38.400" end="18:09:42.040" style="s2">variables and I want to make sure that</p>
<p begin="18:09:40.240" end="18:09:44.520" style="s2">the environment variables that we set</p>
<p begin="18:09:42.040" end="18:09:47.880" style="s2">did successfully get applied to our</p>
<p begin="18:09:44.520" end="18:09:49.200" style="s2">runner okay guys so uh couple things to</p>
<p begin="18:09:47.880" end="18:09:51.080" style="s2">point out so there&#39;s a whole bunch of</p>
<p begin="18:09:49.200" end="18:09:53.436" style="s2">errors and that&#39;s to be expected and</p>
<p begin="18:09:51.080" end="18:09:55.040" style="s2">that&#39;s okay um but we can see that it</p>
<p begin="18:09:53.436" end="18:09:56.840" style="s2">did process all of our environment</p>
<p begin="18:09:55.040" end="18:09:58.680" style="s2">variables so that&#39;s great so we did fix</p>
<p begin="18:09:56.840" end="18:09:59.916" style="s2">that issue but you&#39;ll notice that you</p>
<p begin="18:09:58.680" end="18:10:01.080" style="s2">know when we&#39;re running our test we get</p>
<p begin="18:09:59.916" end="18:10:02.840" style="s2">a whole bunch of errors and then</p>
<p begin="18:10:01.080" end="18:10:05.080" style="s2">eventually you&#39;ll see a whole bunch of</p>
<p begin="18:10:02.840" end="18:10:06.636" style="s2">SQL Alchemy errors and the reason we see</p>
<p begin="18:10:05.080" end="18:10:08.476" style="s2">a whole bunch of SQL Alchemy errors is</p>
<p begin="18:10:06.636" end="18:10:09.636" style="s2">because uh if you look at the</p>
<p begin="18:10:08.476" end="18:10:11.476" style="s2">environment variables we&#39;re pointing to</p>
<p begin="18:10:09.636" end="18:10:13.116" style="s2">Local Host for our database there&#39;s no</p>
<p begin="18:10:11.476" end="18:10:14.520" style="s2">database on this Runner this is a brand</p>
<p begin="18:10:13.116" end="18:10:16.880" style="s2">new computer that why would there be a</p>
<p begin="18:10:14.520" end="18:10:19.840" style="s2">database installed so we do eventually</p>
<p begin="18:10:16.880" end="18:10:21.756" style="s2">have to set up a database for testing on</p>
<p begin="18:10:19.840" end="18:10:23.880" style="s2">the runner itself or we would have to</p>
<p begin="18:10:21.756" end="18:10:26.916" style="s2">point it to a remote database whether</p>
<p begin="18:10:23.880" end="18:10:28.520" style="s2">that&#39;s hosted on Heroku or AWS it</p>
<p begin="18:10:26.916" end="18:10:30.116" style="s2">doesn&#39;t matter but you know for testing</p>
<p begin="18:10:28.520" end="18:10:32.080" style="s2">purposes in your cicd pipeline I&#39;d</p>
<p begin="18:10:30.116" end="18:10:33.680" style="s2">rather create one on our runner that we</p>
<p begin="18:10:32.080" end="18:10:36.476" style="s2">can just quickly spin up for</p>
<p begin="18:10:33.680" end="18:10:38.080" style="s2">testing so once again I just wanted to</p>
<p begin="18:10:36.476" end="18:10:40.476" style="s2">point out how to set up environment</p>
<p begin="18:10:38.080" end="18:10:41.596" style="s2">variables the one thing I don&#39;t like and</p>
<p begin="18:10:40.476" end="18:10:43.000" style="s2">I want to make sure I want to teach you</p>
<p begin="18:10:41.596" end="18:10:45.436" style="s2">guys is that in this case we&#39;re</p>
<p begin="18:10:43.000" end="18:10:47.756" style="s2">hardcoding these values in here and so</p>
<p begin="18:10:45.436" end="18:10:49.636" style="s2">this is all stored in our reposit anyone</p>
<p begin="18:10:47.756" end="18:10:51.840" style="s2">can have access to it this is our test</p>
<p begin="18:10:49.636" end="18:10:55.720" style="s2">day base so it&#39;s not a big deal but I do</p>
<p begin="18:10:51.840" end="18:10:58.956" style="s2">want to show you how we can um how we</p>
<p begin="18:10:55.720" end="18:11:01.160" style="s2">can store these as secrets so that the</p>
<p begin="18:10:58.956" end="18:11:03.040" style="s2">runner has access to them but no one</p>
<p begin="18:11:01.160" end="18:11:05.436" style="s2">else can see them because storing in</p>
<p begin="18:11:03.040" end="18:11:07.360" style="s2">here could potentially cause issues uh</p>
<p begin="18:11:05.436" end="18:11:10.560" style="s2">you know if you didn&#39;t want this uh</p>
<p begin="18:11:07.360" end="18:11:12.116" style="s2">these these um the the password and the</p>
<p begin="18:11:10.560" end="18:11:14.720" style="s2">username for your test database to get</p>
<p begin="18:11:12.116" end="18:11:16.360" style="s2">out in my case I don&#39;t really care but</p>
<p begin="18:11:14.720" end="18:11:18.560" style="s2">um you know it is important for you guys</p>
<p begin="18:11:16.360" end="18:11:21.636" style="s2">to understand how to actually do</p>
<p begin="18:11:18.560" end="18:11:23.116" style="s2">that so as I mentioned in the last video</p>
<p begin="18:11:21.636" end="18:11:24.840" style="s2">um our environment variables are</p>
<p begin="18:11:23.116" end="18:11:26.360" style="s2">hardcoded into our workflow so</p>
<p begin="18:11:24.840" end="18:11:28.320" style="s2">technically when we check this into git</p>
<p begin="18:11:26.360" end="18:11:29.956" style="s2">anyone can see it which may or may not</p>
<p begin="18:11:28.320" end="18:11:31.116" style="s2">be a problem but if it is a problem I&#39;m</p>
<p begin="18:11:29.956" end="18:11:33.560" style="s2">going to show you guys how we can work</p>
<p begin="18:11:31.116" end="18:11:36.520" style="s2">with GitHub secrets so if we go to our</p>
<p begin="18:11:33.560" end="18:11:38.680" style="s2">GitHub page and go to settings here</p>
<p begin="18:11:36.520" end="18:11:41.560" style="s2">there&#39;s a section called secrets so we</p>
<p begin="18:11:38.680" end="18:11:43.160" style="s2">can Define secrets that we can use an</p>
<p begin="18:11:41.560" end="18:11:45.840" style="s2">access in our</p>
<p begin="18:11:43.160" end="18:11:48.400" style="s2">workflows uh and so this is a repository</p>
<p begin="18:11:45.840" end="18:11:50.116" style="s2">secret that means it&#39;s um globally</p>
<p begin="18:11:48.400" end="18:11:52.240" style="s2">accessible across the entire repository</p>
<p begin="18:11:50.116" end="18:11:53.680" style="s2">across all branches uh there&#39;s no you</p>
<p begin="18:11:52.240" end="18:11:55.436" style="s2">know any kind of environments or</p>
<p begin="18:11:53.680" end="18:11:57.400" style="s2">anything like that so we&#39;ll select new</p>
<p begin="18:11:55.436" end="18:11:59.276" style="s2">repository secret and here we just give</p>
<p begin="18:11:57.400" end="18:12:01.240" style="s2">it a name so if you take a look at our</p>
<p begin="18:11:59.276" end="18:12:02.436" style="s2">environment variables I figured since</p>
<p begin="18:12:01.240" end="18:12:04.200" style="s2">that&#39;s what it&#39;s going to represent we</p>
<p begin="18:12:02.436" end="18:12:06.240" style="s2">might as well use the same one so I&#39;ll</p>
<p begin="18:12:04.200" end="18:12:08.840" style="s2">say database host name in this case and</p>
<p begin="18:12:06.240" end="18:12:10.560" style="s2">then just give it a value so Local Host</p>
<p begin="18:12:08.840" end="18:12:13.080" style="s2">that&#39;s it right it&#39;s just a key value</p>
<p begin="18:12:10.560" end="18:12:16.400" style="s2">pair we do add secret and then you&#39;ll</p>
<p begin="18:12:13.080" end="18:12:19.556" style="s2">see it&#39;s stored in here and so now in</p>
<p begin="18:12:16.400" end="18:12:21.436" style="s2">our code if if we want to reference the</p>
<p begin="18:12:19.556" end="18:12:23.680" style="s2">uh this secret which I happen to call</p>
<p begin="18:12:21.436" end="18:12:26.000" style="s2">database host name we just copy the name</p>
<p begin="18:12:23.680" end="18:12:26.000" style="s2">of the</p>
<p begin="18:12:26.476" end="18:12:32.196" style="s2">secret and then what we do is we use</p>
<p begin="18:12:29.600" end="18:12:35.400" style="s2">dollar curly brace curly brace so two</p>
<p begin="18:12:32.196" end="18:12:37.280" style="s2">sets of curly braces and we say Secrets</p>
<p begin="18:12:35.400" end="18:12:39.516" style="s2">Dot and then the name of the secret so</p>
<p begin="18:12:37.280" end="18:12:43.080" style="s2">this will allow the runner to access the</p>
<p begin="18:12:39.516" end="18:12:45.156" style="s2">secret from our GitHub repo so that our</p>
<p begin="18:12:43.080" end="18:12:49.040" style="s2">our workflow code doesn&#39;t actually</p>
<p begin="18:12:45.156" end="18:12:49.040" style="s2">expose all of this information</p>
<p begin="18:12:49.876" end="18:12:52.476" style="s2">and so this is what you want to do for</p>
<p begin="18:12:51.156" end="18:12:54.516" style="s2">your passwords and things like that</p>
<p begin="18:12:52.476" end="18:12:56.836" style="s2">especially when it comes to storing the</p>
<p begin="18:12:54.516" end="18:12:58.720" style="s2">information for um connecting to your</p>
<p begin="18:12:56.836" end="18:13:01.040" style="s2">production database which we will do in</p>
<p begin="18:12:58.720" end="18:13:03.436" style="s2">one of the later</p>
<p begin="18:13:01.040" end="18:13:04.920" style="s2">lessons um but before we proceed any</p>
<p begin="18:13:03.436" end="18:13:07.196" style="s2">further I want to actually show you</p>
<p begin="18:13:04.920" end="18:13:09.156" style="s2">another option so I&#39;m actually going to</p>
<p begin="18:13:07.196" end="18:13:11.836" style="s2">remove this repository Secret in this</p>
<p begin="18:13:09.156" end="18:13:15.436" style="s2">case which is once again a global secret</p>
<p begin="18:13:11.836" end="18:13:16.796" style="s2">that um our entire uh repo can access</p>
<p begin="18:13:15.436" end="18:13:19.280" style="s2">instead what I like to do is I like to</p>
<p begin="18:13:16.796" end="18:13:20.516" style="s2">set up environments so you can set up a</p>
<p begin="18:13:19.280" end="18:13:21.960" style="s2">whole bunch of secrets that are</p>
<p begin="18:13:20.516" end="18:13:23.280" style="s2">available depending on what the</p>
<p begin="18:13:21.960" end="18:13:25.476" style="s2">environment is so I can create one for</p>
<p begin="18:13:23.280" end="18:13:27.196" style="s2">testing one for development one for</p>
<p begin="18:13:25.476" end="18:13:29.000" style="s2">production it gives us a lot of</p>
<p begin="18:13:27.196" end="18:13:32.756" style="s2">flexibility so I&#39;m going to create a new</p>
<p begin="18:13:29.000" end="18:13:32.756" style="s2">environment and I&#39;m going to call this</p>
<p begin="18:13:35.960" end="18:13:39.756" style="s2">testing and within the environment we&#39;re</p>
<p begin="18:13:38.680" end="18:13:41.680" style="s2">right we&#39;re under the testing</p>
<p begin="18:13:39.756" end="18:13:43.556" style="s2">environment we can add a secret</p>
<p begin="18:13:41.680" end="18:13:45.720" style="s2">here and so we&#39;re going to do the same</p>
<p begin="18:13:43.556" end="18:13:47.556" style="s2">thing I&#39;m going to call it database host</p>
<p begin="18:13:45.720" end="18:13:51.436" style="s2">name and in this case we&#39;ll say</p>
<p begin="18:13:47.556" end="18:13:51.436" style="s2">Local Host we&#39;ll add the</p>
<p begin="18:13:51.876" end="18:13:56.516" style="s2">secret and we can provide as many</p>
<p begin="18:13:53.876" end="18:13:59.960" style="s2">Secrets as we want and then what we can</p>
<p begin="18:13:56.516" end="18:14:02.680" style="s2">do is in our job we can specify what the</p>
<p begin="18:13:59.960" end="18:14:05.756" style="s2">environment is for the job so I can say</p>
<p begin="18:14:02.680" end="18:14:05.756" style="s2">en oops</p>
<p begin="18:14:06.320" end="18:14:10.436" style="s2">environment and then we provide the name</p>
<p begin="18:14:09.156" end="18:14:12.836" style="s2">which is going to</p>
<p begin="18:14:10.436" end="18:14:14.556" style="s2">be testing right this is going to match</p>
<p begin="18:14:12.836" end="18:14:16.600" style="s2">up with whatever name we gave here so I</p>
<p begin="18:14:14.556" end="18:14:18.320" style="s2">called it testing so we give this the</p>
<p begin="18:14:16.600" end="18:14:20.040" style="s2">name t testing and it&#39;s going to have</p>
<p begin="18:14:18.320" end="18:14:21.436" style="s2">access to all of the environment</p>
<p begin="18:14:20.040" end="18:14:23.600" style="s2">variables that we defined here and the</p>
<p begin="18:14:21.436" end="18:14:25.556" style="s2">way to access them is exactly the same</p>
<p begin="18:14:23.600" end="18:14:26.836" style="s2">way you just do dollar two curly braces</p>
<p begin="18:14:25.556" end="18:14:28.796" style="s2">secrets and then the name of the</p>
<p begin="18:14:26.836" end="18:14:30.836" style="s2">environment variable now if there&#39;s an</p>
<p begin="18:14:28.796" end="18:14:32.680" style="s2">overlap uh with the name of your</p>
<p begin="18:14:30.836" end="18:14:34.040" style="s2">environment variables when it comes to</p>
<p begin="18:14:32.680" end="18:14:35.640" style="s2">uh the ones that you set in your</p>
<p begin="18:14:34.040" end="18:14:37.280" style="s2">environment as well as the one you set</p>
<p begin="18:14:35.640" end="18:14:39.600" style="s2">globally for the repository I don&#39;t</p>
<p begin="18:14:37.280" end="18:14:41.196" style="s2">actually know who takes precedence um I</p>
<p begin="18:14:39.600" end="18:14:42.600" style="s2">suspect it&#39;s probably the environment</p>
<p begin="18:14:41.196" end="18:14:44.400" style="s2">but you should check the documentation</p>
<p begin="18:14:42.600" end="18:14:45.360" style="s2">to verify but we don&#39;t have any Global</p>
<p begin="18:14:44.400" end="18:14:47.080" style="s2">secrets I&#39;m going to be using</p>
<p begin="18:14:45.360" end="18:14:49.876" style="s2">environments for everything so this</p>
<p begin="18:14:47.080" end="18:14:50.960" style="s2">keeps things nice and simple and so now</p>
<p begin="18:14:49.876" end="18:14:53.116" style="s2">that we&#39;ve set up this one let&#39;s go</p>
<p begin="18:14:50.960" end="18:14:55.920" style="s2">ahead and just set up all of these uh</p>
<p begin="18:14:53.116" end="18:14:55.920" style="s2">while we have the</p>
<p begin="18:14:56.280" end="18:15:00.556" style="s2">option and so we&#39;re going to set the</p>
<p begin="18:14:58.040" end="18:15:00.556" style="s2">port as</p>
<p begin="18:15:03.280" end="18:15:06.960" style="s2">well here we&#39;ll set the</p>
<p begin="18:15:13.196" end="18:15:18.920" style="s2">password now we&#39;ve got the database name</p>
<p begin="18:15:15.476" end="18:15:18.920" style="s2">which will just say fast API</p>
<p begin="18:15:22.720" end="18:15:26.080" style="s2">uh then the database username it autof</p>
<p begin="18:15:24.280" end="18:15:28.244" style="s2">fil because uh you know I I ran through</p>
<p begin="18:15:26.080" end="18:15:30.040" style="s2">this all in a quick trial run before I</p>
<p begin="18:15:28.244" end="18:15:32.244" style="s2">started recording so it&#39;s kind of cached</p>
<p begin="18:15:30.040" end="18:15:32.244" style="s2">in</p>
<p begin="18:15:45.836" end="18:15:49.640" style="s2">there all right and so now that we have</p>
<p begin="18:15:47.960" end="18:15:51.920" style="s2">all of our environment variables or our</p>
<p begin="18:15:49.640" end="18:15:54.116" style="s2">environment Secrets Set uh we can just</p>
<p begin="18:15:51.920" end="18:15:56.244" style="s2">change all of these to reference those</p>
<p begin="18:15:54.116" end="18:15:58.280" style="s2">uh secrets we just do the same process</p>
<p begin="18:15:56.244" end="18:16:00.516" style="s2">and in this case it&#39;s just going to be</p>
<p begin="18:15:58.280" end="18:16:02.720" style="s2">the same exact name as the the key in</p>
<p begin="18:16:00.516" end="18:16:02.720" style="s2">this</p>
<p begin="18:16:12.116" end="18:16:17.080" style="s2">case all right and so now that we got</p>
<p begin="18:16:14.320" end="18:16:19.920" style="s2">all of these Set uh let&#39;s just save this</p>
<p begin="18:16:17.080" end="18:16:21.156" style="s2">and I&#39;m going to check this into git now</p>
<p begin="18:16:19.920" end="18:16:24.436" style="s2">uh just to make sure that you know</p>
<p begin="18:16:21.156" end="18:16:24.436" style="s2">everything is kind of working so</p>
<p begin="18:16:30.000" end="18:16:35.400" style="s2">far and we&#39;ll take a look at the job</p>
<p begin="18:16:32.400" end="18:16:37.320" style="s2">real quick and hopefully there&#39;s uh no</p>
<p begin="18:16:35.400" end="18:16:41.600" style="s2">errors or only errors that we expect to</p>
<p begin="18:16:37.320" end="18:16:41.600" style="s2">see and what did I call this</p>
<p begin="18:16:43.960" end="18:16:48.196" style="s2">one ASDF oh okay so it looks like it</p>
<p begin="18:16:46.556" end="18:16:50.436" style="s2">failed already so we clearly did</p>
<p begin="18:16:48.196" end="18:16:54.720" style="s2">something wrong this workflow is not</p>
<p begin="18:16:50.436" end="18:16:56.476" style="s2">valid unrecognized name database Port</p>
<p begin="18:16:54.720" end="18:16:58.116" style="s2">well what happened there and it even</p>
<p begin="18:16:56.476" end="18:17:00.000" style="s2">tells me the position so if I select</p>
<p begin="18:16:58.116" end="18:17:03.156" style="s2">show</p>
<p begin="18:17:00.000" end="18:17:05.476" style="s2">more uh database password so let&#39;s see</p>
<p begin="18:17:03.156" end="18:17:07.796" style="s2">what did we mess</p>
<p begin="18:17:05.476" end="18:17:10.836" style="s2">up yeah simple mistake I forgot the</p>
<p begin="18:17:07.796" end="18:17:13.116" style="s2">secrets dot before all of my variables</p>
<p begin="18:17:10.836" end="18:17:14.720" style="s2">so that&#39;s why it had no idea what that</p>
<p begin="18:17:13.116" end="18:17:18.556" style="s2">was we have to reference secrets to</p>
<p begin="18:17:14.720" end="18:17:18.556" style="s2">actually get access to them</p>
<p begin="18:17:19.876" end="18:17:23.360" style="s2">and now let&#39;s try this one more</p>
<p begin="18:17:30.640" end="18:17:34.436" style="s2">time right this looks a little</p>
<p begin="18:17:37.960" end="18:17:42.400" style="s2">better all right and so now if we look</p>
<p begin="18:17:40.196" end="18:17:43.756" style="s2">at the test with P test you could see</p>
<p begin="18:17:42.400" end="18:17:46.476" style="s2">that the environment variables were</p>
<p begin="18:17:43.756" end="18:17:50.116" style="s2">passed in and GitHub will automatically</p>
<p begin="18:17:46.476" end="18:17:51.436" style="s2">um kind of uh hide what all of the uh V</p>
<p begin="18:17:50.116" end="18:17:52.756" style="s2">the secrets are because once again</p>
<p begin="18:17:51.436" end="18:17:54.080" style="s2">they&#39;re secret so you shouldn&#39;t see them</p>
<p begin="18:17:52.756" end="18:17:55.960" style="s2">but it does show that we were</p>
<p begin="18:17:54.080" end="18:17:57.516" style="s2">successfully able to retrieve them and</p>
<p begin="18:17:55.960" end="18:17:58.876" style="s2">we got the same error down here this is</p>
<p begin="18:17:57.516" end="18:18:01.080" style="s2">just an issue with accessing the</p>
<p begin="18:17:58.876" end="18:18:03.436" style="s2">database because there is no database on</p>
<p begin="18:18:01.080" end="18:18:04.756" style="s2">on Local Host so it&#39;s trying to connect</p>
<p begin="18:18:03.436" end="18:18:06.156" style="s2">to a database that doesn&#39;t exist which</p>
<p begin="18:18:04.756" end="18:18:08.000" style="s2">is going to create all sorts of issues</p>
<p begin="18:18:06.156" end="18:18:10.600" style="s2">so in the next video we&#39;ll figure out</p>
<p begin="18:18:08.000" end="18:18:12.360" style="s2">what we can do to set up a test database</p>
<p begin="18:18:10.600" end="18:18:15.156" style="s2">on our runner so that we can actually</p>
<p begin="18:18:12.360" end="18:18:18.280" style="s2">run our tests so when it comes to</p>
<p begin="18:18:15.156" end="18:18:19.876" style="s2">setting up a database on our runner the</p>
<p begin="18:18:18.280" end="18:18:21.320" style="s2">easiest way to do that is to create a</p>
<p begin="18:18:19.876" end="18:18:23.000" style="s2">service container so what&#39;s going to</p>
<p begin="18:18:21.320" end="18:18:25.196" style="s2">happen is GitHub actions is actually</p>
<p begin="18:18:23.000" end="18:18:26.920" style="s2">going to allow us to spin up a Docker</p>
<p begin="18:18:25.196" end="18:18:29.556" style="s2">container which really is the easiest</p>
<p begin="18:18:26.920" end="18:18:31.836" style="s2">way to set up Docker on uh sorry to set</p>
<p begin="18:18:29.556" end="18:18:33.156" style="s2">up postgress on a remote machine that</p>
<p begin="18:18:31.836" end="18:18:34.960" style="s2">way we don&#39;t have to worry about any</p>
<p begin="18:18:33.156" end="18:18:37.320" style="s2">issues with potential installation of a</p>
<p begin="18:18:34.960" end="18:18:39.476" style="s2">postgress database and so I recommend</p>
<p begin="18:18:37.320" end="18:18:40.876" style="s2">you take a look at this um tutorial</p>
<p begin="18:18:39.476" end="18:18:43.400" style="s2">which kind of walks you through how to</p>
<p begin="18:18:40.876" end="18:18:44.920" style="s2">set up a postgress service container uh</p>
<p begin="18:18:43.400" end="18:18:46.280" style="s2">and it just gives you an example in this</p>
<p begin="18:18:44.920" end="18:18:48.600" style="s2">case which we are essentially just going</p>
<p begin="18:18:46.280" end="18:18:51.476" style="s2">to copy in this case but here we just</p>
<p begin="18:18:48.600" end="18:18:53.720" style="s2">under jobs we specify a service uh we</p>
<p begin="18:18:51.476" end="18:18:55.796" style="s2">give this service a specific name or</p>
<p begin="18:18:53.720" end="18:18:57.436" style="s2">label and then we just tell the image</p>
<p begin="18:18:55.796" end="18:18:58.836" style="s2">that we want to use uh and in this case</p>
<p begin="18:18:57.436" end="18:19:00.000" style="s2">we&#39;re just using the default postgress</p>
<p begin="18:18:58.836" end="18:19:01.836" style="s2">image this is the one that comes from</p>
<p begin="18:19:00.000" end="18:19:03.476" style="s2">Docker Hub by the way but you could</p>
<p begin="18:19:01.836" end="18:19:05.400" style="s2">technically use any image that you</p>
<p begin="18:19:03.476" end="18:19:07.360" style="s2">wanted to but it&#39;s post so we might as</p>
<p begin="18:19:05.400" end="18:19:09.244" style="s2">well just use the default one and then</p>
<p begin="18:19:07.360" end="18:19:11.280" style="s2">we can pass environment variables into</p>
<p begin="18:19:09.244" end="18:19:13.080" style="s2">the docker container as well so one of</p>
<p begin="18:19:11.280" end="18:19:16.960" style="s2">the things that we want to do is set up</p>
<p begin="18:19:13.080" end="18:19:19.516" style="s2">the uh password for postgress as well us</p>
<p begin="18:19:16.960" end="18:19:21.600" style="s2">even potentially the database</p>
<p begin="18:19:19.516" end="18:19:22.960" style="s2">name and then what we want to do is we</p>
<p begin="18:19:21.600" end="18:19:25.040" style="s2">want to set up some health checks to</p>
<p begin="18:19:22.960" end="18:19:27.080" style="s2">wait until post Chris is started because</p>
<p begin="18:19:25.040" end="18:19:29.000" style="s2">until postgress starts we should not run</p>
<p begin="18:19:27.080" end="18:19:30.720" style="s2">any tests because the tests are going to</p>
<p begin="18:19:29.000" end="18:19:32.156" style="s2">fail because the database is down so we</p>
<p begin="18:19:30.720" end="18:19:33.680" style="s2">want to make sure that postgress is up</p>
<p begin="18:19:32.156" end="18:19:35.000" style="s2">and ready before we actually start</p>
<p begin="18:19:33.680" end="18:19:37.836" style="s2">running our test so we&#39;re essentially</p>
<p begin="18:19:35.000" end="18:19:39.516" style="s2">just going to uh copy this line here but</p>
<p begin="18:19:37.836" end="18:19:42.436" style="s2">let&#39;s go back to our code and we&#39;ll take</p>
<p begin="18:19:39.516" end="18:19:43.796" style="s2">a look at how to do this step by step</p>
<p begin="18:19:42.436" end="18:19:45.640" style="s2">and so I&#39;ll just go under the</p>
<p begin="18:19:43.796" end="18:19:48.640" style="s2">environment variable section here and</p>
<p begin="18:19:45.640" end="18:19:48.640" style="s2">we&#39;ll create a section called</p>
<p begin="18:19:49.116" end="18:19:53.360" style="s2">services and I&#39;m going to create a</p>
<p begin="18:19:50.796" end="18:19:53.360" style="s2">service called</p>
<p begin="18:19:53.680" end="18:19:57.000" style="s2">postgress and we&#39;re going to provide the</p>
<p begin="18:19:55.436" end="18:19:59.836" style="s2">image just like we saw in that example</p>
<p begin="18:19:57.000" end="18:19:59.836" style="s2">and that&#39;s going to be uh</p>
<p begin="18:19:59.876" end="18:20:03.680" style="s2">postgress and let&#39;s uh pass some</p>
<p begin="18:20:01.920" end="18:20:06.360" style="s2">environment variables so the first thing</p>
<p begin="18:20:03.680" end="18:20:07.360" style="s2">is going to be the postgress password so</p>
<p begin="18:20:06.360" end="18:20:09.600" style="s2">we&#39;re going to do</p>
<p begin="18:20:07.360" end="18:20:11.756" style="s2">postgress</p>
<p begin="18:20:09.600" end="18:20:13.400" style="s2">password and here for the password we</p>
<p begin="18:20:11.756" end="18:20:14.436" style="s2">can literally reference the same exact</p>
<p begin="18:20:13.400" end="18:20:17.796" style="s2">secret because we&#39;re going to be using</p>
<p begin="18:20:14.436" end="18:20:17.796" style="s2">the same password</p>
<p begin="18:20:18.836" end="18:20:24.196" style="s2">and then we also want to give it a uh</p>
<p begin="18:20:21.156" end="18:20:26.436" style="s2">custom database name so we want to</p>
<p begin="18:20:24.196" end="18:20:28.116" style="s2">automatically create the uh fast API</p>
<p begin="18:20:26.436" end="18:20:30.960" style="s2">uncore test database so that we don&#39;t</p>
<p begin="18:20:28.116" end="18:20:33.960" style="s2">have to do it in code so I&#39;ll do</p>
<p begin="18:20:30.960" end="18:20:33.960" style="s2">postgress</p>
<p begin="18:20:36.244" end="18:20:40.720" style="s2">DB and we&#39;ll do dollar dollar and then</p>
<p begin="18:20:38.756" end="18:20:43.196" style="s2">here I can pass in uh where&#39;s my</p>
<p begin="18:20:40.720" end="18:20:45.556" style="s2">database</p>
<p begin="18:20:43.196" end="18:20:47.600" style="s2">name so this is just going to be fast</p>
<p begin="18:20:45.556" end="18:20:50.556" style="s2">API at this point but we want fast API</p>
<p begin="18:20:47.600" end="18:20:54.796" style="s2">uncore test because that&#39;s what our code</p>
<p begin="18:20:50.556" end="18:20:57.320" style="s2">has been set up to run so we&#39;ll do</p>
<p begin="18:20:54.796" end="18:20:59.920" style="s2">underscore test right so this is kind of</p>
<p begin="18:20:57.320" end="18:21:01.680" style="s2">like string interpolation so same thing</p>
<p begin="18:20:59.920" end="18:21:03.720" style="s2">uh and then at that point I think our</p>
<p begin="18:21:01.680" end="18:21:05.196" style="s2">Docker container is pretty much set up</p>
<p begin="18:21:03.720" end="18:21:08.796" style="s2">we do have to specify the ports that we</p>
<p begin="18:21:05.196" end="18:21:11.600" style="s2">want to open up uh so we&#39;ll say</p>
<p begin="18:21:08.796" end="18:21:15.040" style="s2">ports and you know we want to do</p>
<p begin="18:21:11.600" end="18:21:16.280" style="s2">5432 uh and then 54 32 so this is what</p>
<p begin="18:21:15.040" end="18:21:17.080" style="s2">we want and you&#39;re probably thinking</p>
<p begin="18:21:16.280" end="18:21:20.600" style="s2">well</p>
<p begin="18:21:17.080" end="18:21:23.040" style="s2">can we use the uh uh the variables here</p>
<p begin="18:21:20.600" end="18:21:25.436" style="s2">and I tried to do this I tried to paste</p>
<p begin="18:21:23.040" end="18:21:27.080" style="s2">this here and then paste this here and I</p>
<p begin="18:21:25.436" end="18:21:28.556" style="s2">actually got errors I don&#39;t know why it</p>
<p begin="18:21:27.080" end="18:21:30.600" style="s2">didn&#39;t work but for some reason this</p>
<p begin="18:21:28.556" end="18:21:33.196" style="s2">wasn&#39;t allowed so you have to hardcode</p>
<p begin="18:21:30.600" end="18:21:33.196" style="s2">these values</p>
<p begin="18:21:33.640" end="18:21:37.244" style="s2">unfortunately and then lastly let&#39;s set</p>
<p begin="18:21:35.640" end="18:21:39.400" style="s2">up the options so I&#39;m going to just copy</p>
<p begin="18:21:37.244" end="18:21:43.280" style="s2">these options right here CU we want</p>
<p begin="18:21:39.400" end="18:21:43.280" style="s2">those health checks for sure</p>
<p begin="18:21:53.640" end="18:21:57.516" style="s2">let&#39;s save this uh and make sure that</p>
<p begin="18:21:55.640" end="18:21:59.836" style="s2">all the spacing lines up because a lot</p>
<p begin="18:21:57.516" end="18:22:02.756" style="s2">of times the spacings can mess up things</p>
<p begin="18:21:59.836" end="18:22:05.116" style="s2">I have a auto formatter so with a for yo</p>
<p begin="18:22:02.756" end="18:22:06.600" style="s2">syntax uh it&#39;ll automatically format it</p>
<p begin="18:22:05.116" end="18:22:08.720" style="s2">so that all the spacing is set up</p>
<p begin="18:22:06.600" end="18:22:10.876" style="s2">properly uh you want to make sure that</p>
<p begin="18:22:08.720" end="18:22:12.876" style="s2">you do it manually or set up or install</p>
<p begin="18:22:10.876" end="18:22:14.196" style="s2">a extension in VSS code if that&#39;s an</p>
<p begin="18:22:12.876" end="18:22:17.400" style="s2">option for</p>
<p begin="18:22:14.196" end="18:22:19.280" style="s2">you okay so we&#39;ve got our post database</p>
<p begin="18:22:17.400" end="18:22:23.720" style="s2">and I think we should be good to go so</p>
<p begin="18:22:19.280" end="18:22:23.720" style="s2">let&#39;s try this get add all get</p>
<p begin="18:22:38.156" end="18:22:43.400" style="s2">commit all right and so we can see that</p>
<p begin="18:22:40.640" end="18:22:45.600" style="s2">our most recent test in this case</p>
<p begin="18:22:43.400" end="18:22:47.756" style="s2">happened to succeed and uh if you</p>
<p begin="18:22:45.600" end="18:22:50.040" style="s2">actually go to the test test with P test</p>
<p begin="18:22:47.756" end="18:22:53.244" style="s2">and just see the results we could see</p>
<p begin="18:22:50.040" end="18:22:55.320" style="s2">that 46 tests pass with no</p>
<p begin="18:22:53.244" end="18:22:57.796" style="s2">issues uh and so that means it did</p>
<p begin="18:22:55.320" end="18:23:00.960" style="s2">successfully connect to our database and</p>
<p begin="18:22:57.796" end="18:23:03.476" style="s2">after that it essentially completed the</p>
<p begin="18:23:00.960" end="18:23:05.920" style="s2">job so now we&#39;ve successfully added a</p>
<p begin="18:23:03.476" end="18:23:08.640" style="s2">database and we&#39;ve successfully set up</p>
<p begin="18:23:05.920" end="18:23:12.080" style="s2">our CI pipeline this is the CI portion</p>
<p begin="18:23:08.640" end="18:23:14.920" style="s2">of things to pull our code I install</p>
<p begin="18:23:12.080" end="18:23:17.360" style="s2">python set up uh you know install all</p>
<p begin="18:23:14.920" end="18:23:19.196" style="s2">the dependencies and run our test so all</p>
<p begin="18:23:17.360" end="18:23:21.836" style="s2">of this happens in an automated fashion</p>
<p begin="18:23:19.196" end="18:23:23.680" style="s2">now just by doing a git push so you</p>
<p begin="18:23:21.836" end="18:23:27.196" style="s2">could see how easy it is to get things</p>
<p begin="18:23:23.680" end="18:23:28.244" style="s2">started and so um I think from the CI</p>
<p begin="18:23:27.196" end="18:23:31.640" style="s2">perspective the last thing I want to</p>
<p begin="18:23:28.244" end="18:23:34.280" style="s2">show you guys is how to uh essentially</p>
<p begin="18:23:31.640" end="18:23:38.720" style="s2">create a Docker image uh in our runner</p>
<p begin="18:23:34.280" end="18:23:40.360" style="s2">and push that out to um to uh Docker Hub</p>
<p begin="18:23:38.720" end="18:23:42.280" style="s2">so that our production Network can then</p>
<p begin="18:23:40.360" end="18:23:43.876" style="s2">pull that brand new image so there&#39;s a</p>
<p begin="18:23:42.280" end="18:23:46.720" style="s2">couple things that we have to do to get</p>
<p begin="18:23:43.876" end="18:23:48.400" style="s2">Docker working in our GitHub workflow um</p>
<p begin="18:23:46.720" end="18:23:50.796" style="s2">the first thing is we need to have a</p>
<p begin="18:23:48.400" end="18:23:52.960" style="s2">repository set up on Docker Hub to store</p>
<p begin="18:23:50.796" end="18:23:54.796" style="s2">our images and if you did not create one</p>
<p begin="18:23:52.960" end="18:23:56.920" style="s2">during the docker section go ahead and</p>
<p begin="18:23:54.796" end="18:23:58.476" style="s2">create a new one so log into Docker Hub</p>
<p begin="18:23:56.920" end="18:24:00.400" style="s2">select create repository and just give</p>
<p begin="18:23:58.476" end="18:24:02.080" style="s2">this a name that you can remember in</p>
<p begin="18:24:00.400" end="18:24:03.360" style="s2">this case this is going to be fast API</p>
<p begin="18:24:02.080" end="18:24:06.116" style="s2">I&#39;m going to call it that and then make</p>
<p begin="18:24:03.360" end="18:24:07.796" style="s2">it public just to keep it simple and so</p>
<p begin="18:24:06.116" end="18:24:09.360" style="s2">this is our repo and then it&#39;s going to</p>
<p begin="18:24:07.796" end="18:24:12.796" style="s2">tell us how to actually push an image to</p>
<p begin="18:24:09.360" end="18:24:17.196" style="s2">it uh and then if you go to uh this page</p>
<p begin="18:24:12.796" end="18:24:18.836" style="s2">right here so docs. do.com UHC cd/</p>
<p begin="18:24:17.196" end="18:24:20.836" style="s2">GitHub actions it&#39;s got an excellent</p>
<p begin="18:24:18.836" end="18:24:24.876" style="s2">tutorial that we can follow for setting</p>
<p begin="18:24:20.836" end="18:24:24.876" style="s2">up Docker with our GitHub</p>
<p begin="18:24:25.476" end="18:24:28.640" style="s2">actions and so if we go back to our</p>
<p begin="18:24:27.436" end="18:24:31.320" style="s2">Docker Hub the first thing that we want</p>
<p begin="18:24:28.640" end="18:24:34.476" style="s2">to do is we want to get an access token</p>
<p begin="18:24:31.320" end="18:24:36.680" style="s2">so let&#39;s go here and I think we go under</p>
<p begin="18:24:34.476" end="18:24:40.040" style="s2">settings or well it doesn&#39;t look like</p>
<p begin="18:24:36.680" end="18:24:42.244" style="s2">it&#39;s here maybe account</p>
<p begin="18:24:40.040" end="18:24:46.400" style="s2">settings yep and then security and then</p>
<p begin="18:24:42.244" end="18:24:46.400" style="s2">we can select new access token</p>
<p begin="18:24:46.556" end="18:24:50.680" style="s2">and I&#39;ll maybe we can call this uh</p>
<p begin="18:24:49.360" end="18:24:52.836" style="s2">GitHub</p>
<p begin="18:24:50.680" end="18:24:54.280" style="s2">actions and we&#39;re going to give it um</p>
<p begin="18:24:52.836" end="18:24:56.680" style="s2">you know whatever permission that you</p>
<p begin="18:24:54.280" end="18:24:58.796" style="s2">want uh does the docker give us</p>
<p begin="18:24:56.680" end="18:25:00.720" style="s2">information on what permissions uh it</p>
<p begin="18:24:58.796" end="18:25:02.836" style="s2">doesn&#39;t look like it</p>
<p begin="18:25:00.720" end="18:25:04.756" style="s2">um in this case so just go ahead and</p>
<p begin="18:25:02.836" end="18:25:06.796" style="s2">select all of them for</p>
<p begin="18:25:04.756" end="18:25:10.116" style="s2">now all right and so it&#39;s going to give</p>
<p begin="18:25:06.796" end="18:25:12.280" style="s2">you your access token uh make sure that</p>
<p begin="18:25:10.116" end="18:25:13.516" style="s2">uh you don&#39;t share this with anyone else</p>
<p begin="18:25:12.280" end="18:25:14.960" style="s2">and it&#39;s only going to be displayed once</p>
<p begin="18:25:13.516" end="18:25:18.244" style="s2">so go ahead and copy it and make sure</p>
<p begin="18:25:14.960" end="18:25:18.244" style="s2">that you have this</p>
<p begin="18:25:20.960" end="18:25:25.244" style="s2">then what it&#39;s telling us to do is we</p>
<p begin="18:25:22.436" end="18:25:29.116" style="s2">want to create a</p>
<p begin="18:25:25.244" end="18:25:31.720" style="s2">um a secret for both our username as</p>
<p begin="18:25:29.116" end="18:25:34.360" style="s2">well as the dockerhub access token so</p>
<p begin="18:25:31.720" end="18:25:36.320" style="s2">let&#39;s create these two secrets in GitHub</p>
<p begin="18:25:34.360" end="18:25:38.476" style="s2">for dockerhub Access token and dockerhub</p>
<p begin="18:25:36.320" end="18:25:42.756" style="s2">username and I actually forgot what my</p>
<p begin="18:25:38.476" end="18:25:42.756" style="s2">username was okay so it&#39;s sloppy</p>
<p begin="18:25:43.320" end="18:25:46.836" style="s2">networks and so here we&#39;ll go into</p>
<p begin="18:25:45.244" end="18:25:49.920" style="s2">settings</p>
<p begin="18:25:46.836" end="18:25:52.320" style="s2">and uh feel free to use uh either um the</p>
<p begin="18:25:49.920" end="18:25:53.680" style="s2">global repository Secrets or uh</p>
<p begin="18:25:52.320" end="18:25:55.244" style="s2">environment secrets I&#39;m going to just</p>
<p begin="18:25:53.680" end="18:25:59.400" style="s2">put this in the testing environment for</p>
<p begin="18:25:55.244" end="18:25:59.400" style="s2">now but you can use either one in this</p>
<p begin="18:26:01.320" end="18:26:08.156" style="s2">case and so we got Docker uncore hubor</p>
<p begin="18:26:06.116" end="18:26:09.556" style="s2">username so this is going to be sloppy</p>
<p begin="18:26:08.156" end="18:26:12.400" style="s2">networks for me but it&#39;s going to be</p>
<p begin="18:26:09.556" end="18:26:12.400" style="s2">something else for you</p>
<p begin="18:26:14.640" end="18:26:22.476" style="s2">guys and the last one is going to be</p>
<p begin="18:26:17.080" end="18:26:22.476" style="s2">dockerhub uh what is it dockerhub access</p>
<p begin="18:26:34.476" end="18:26:38.116" style="s2">token all right and so once we&#39;ve got</p>
<p begin="18:26:36.516" end="18:26:39.476" style="s2">that set up uh you&#39;ll see that they&#39;re</p>
<p begin="18:26:38.116" end="18:26:41.600" style="s2">going to give us the steps on how to</p>
<p begin="18:26:39.476" end="18:26:43.720" style="s2">actually set this up in our yaml file</p>
<p begin="18:26:41.600" end="18:26:45.836" style="s2">you can ignore the original the the</p>
<p begin="18:26:43.720" end="18:26:47.796" style="s2">setup process and what we want to do is</p>
<p begin="18:26:45.836" end="18:26:49.040" style="s2">we want to go down to the this section</p>
<p begin="18:26:47.796" end="18:26:51.320" style="s2">right here which shows us how to log</p>
<p begin="18:26:49.040" end="18:26:53.400" style="s2">into dockerhub so we can literally just</p>
<p begin="18:26:51.320" end="18:26:55.960" style="s2">copy this straight</p>
<p begin="18:26:53.400" end="18:26:58.080" style="s2">up and just paste it in here so we can</p>
<p begin="18:26:55.960" end="18:27:01.080" style="s2">just say uh we&#39;ll do it at</p>
<p begin="18:26:58.080" end="18:27:03.080" style="s2">the uh what step should we do this at um</p>
<p begin="18:27:01.080" end="18:27:05.280" style="s2">we&#39;ll do it at the end just because why</p>
<p begin="18:27:03.080" end="18:27:07.796" style="s2">not um because some of you guys might</p>
<p begin="18:27:05.280" end="18:27:09.360" style="s2">not be interested in setting up Docker</p>
<p begin="18:27:07.796" end="18:27:11.000" style="s2">uh so it&#39;s going to be an optional Step</p>
<p begin="18:27:09.360" end="18:27:13.320" style="s2">at the end so we&#39;ll log into Docker hub</p>
<p begin="18:27:11.000" end="18:27:14.836" style="s2">using this built-in action uh from the</p>
<p begin="18:27:13.320" end="18:27:16.796" style="s2">marketplace and then here it&#39;s just</p>
<p begin="18:27:14.836" end="18:27:18.756" style="s2">going to provide two properties username</p>
<p begin="18:27:16.796" end="18:27:21.196" style="s2">and password which is going to reference</p>
<p begin="18:27:18.756" end="18:27:23.360" style="s2">the two secrets that we</p>
<p begin="18:27:21.196" end="18:27:26.796" style="s2">created all right and then we want to</p>
<p begin="18:27:23.360" end="18:27:26.796" style="s2">set up a Docker build</p>
<p begin="18:27:27.000" end="18:27:31.556" style="s2">X so we&#39;ll copy this one as</p>
<p begin="18:27:38.400" end="18:27:43.196" style="s2">well right and then we have the build</p>
<p begin="18:27:40.796" end="18:27:43.196" style="s2">and</p>
<p begin="18:27:43.680" end="18:27:49.196" style="s2">push uh step right here which it in this</p>
<p begin="18:27:46.476" end="18:27:50.156" style="s2">case it&#39;s a Once Again a built-in action</p>
<p begin="18:27:49.196" end="18:27:51.640" style="s2">uh and all it&#39;s going to do is we&#39;re</p>
<p begin="18:27:50.156" end="18:27:52.680" style="s2">going to provide a path to the context</p>
<p begin="18:27:51.640" end="18:27:56.436" style="s2">so this is essentially where is the</p>
<p begin="18:27:52.680" end="18:27:58.640" style="s2">docker file located uh and we I this is</p>
<p begin="18:27:56.436" end="18:28:00.196" style="s2">technically optional but if you want to</p>
<p begin="18:27:58.640" end="18:28:02.244" style="s2">you can hardcode the specific Docker</p>
<p begin="18:28:00.196" end="18:28:03.244" style="s2">file um I think it should default to</p>
<p begin="18:28:02.244" end="18:28:04.796" style="s2">this one because that&#39;s the default</p>
<p begin="18:28:03.244" end="18:28:07.156" style="s2">Docker file but we&#39;ll just put it in</p>
<p begin="18:28:04.796" end="18:28:08.320" style="s2">just in case and then the push is means</p>
<p begin="18:28:07.156" end="18:28:10.040" style="s2">not only are we going to build the</p>
<p begin="18:28:08.320" end="18:28:12.556" style="s2">docker image we&#39;re also going to push it</p>
<p begin="18:28:10.040" end="18:28:14.756" style="s2">up to uh Docker Hub and then we have to</p>
<p begin="18:28:12.556" end="18:28:17.320" style="s2">give it a specific tag and if we go back</p>
<p begin="18:28:14.756" end="18:28:19.556" style="s2">to Docker Hub and I go to my</p>
<p begin="18:28:17.320" end="18:28:22.196" style="s2">repositories and I go to my fast API</p>
<p begin="18:28:19.556" end="18:28:24.196" style="s2">it&#39;s going to show me the format of the</p>
<p begin="18:28:22.196" end="18:28:25.360" style="s2">tag that I need so that I can actually</p>
<p begin="18:28:24.196" end="18:28:27.244" style="s2">push it up properly so it&#39;s going to be</p>
<p begin="18:28:25.360" end="18:28:28.720" style="s2">the username slash and then the name of</p>
<p begin="18:28:27.244" end="18:28:30.600" style="s2">the repository which is fast API and</p>
<p begin="18:28:28.720" end="18:28:31.756" style="s2">then we can also give it an optional tag</p>
<p begin="18:28:30.600" end="18:28:34.000" style="s2">name as</p>
<p begin="18:28:31.756" end="18:28:37.640" style="s2">well so once again we&#39;re going to copy</p>
<p begin="18:28:34.000" end="18:28:37.640" style="s2">this and just update a few</p>
<p begin="18:28:42.000" end="18:28:45.836" style="s2">Fields uh everything else should be just</p>
<p begin="18:28:44.556" end="18:28:47.280" style="s2">fine uh the only thing that we have to</p>
<p begin="18:28:45.836" end="18:28:48.960" style="s2">change CH is this is going to be fast</p>
<p begin="18:28:47.280" end="18:28:50.040" style="s2">API and it&#39;s going to reference the</p>
<p begin="18:28:48.960" end="18:28:51.320" style="s2">username so it&#39;s going to be in the</p>
<p begin="18:28:50.040" end="18:28:53.476" style="s2">exact format and if you want to give it</p>
<p begin="18:28:51.320" end="18:28:54.400" style="s2">a very specific tag you can give that as</p>
<p begin="18:28:53.476" end="18:28:56.516" style="s2">well but I&#39;m going to just give it the</p>
<p begin="18:28:54.400" end="18:28:58.116" style="s2">default latest and then here it&#39;s just</p>
<p begin="18:28:56.516" end="18:29:00.640" style="s2">printing out the image digest which is</p>
<p begin="18:28:58.116" end="18:29:02.920" style="s2">for us is optional uh you&#39;ll see that it</p>
<p begin="18:29:00.640" end="18:29:04.400" style="s2">does provide us some uh optional things</p>
<p begin="18:29:02.920" end="18:29:08.040" style="s2">that we can do for optimization so we</p>
<p begin="18:29:04.400" end="18:29:09.796" style="s2">can use uh um the build cache so that we</p>
<p begin="18:29:08.040" end="18:29:11.400" style="s2">don&#39;t have to redownload all of our</p>
<p begin="18:29:09.796" end="18:29:14.156" style="s2">images every time we run because that&#39;s</p>
<p begin="18:29:11.400" end="18:29:16.040" style="s2">going to extend the build time and the</p>
<p begin="18:29:14.156" end="18:29:18.436" style="s2">the run time for our runner which is</p>
<p begin="18:29:16.040" end="18:29:22.116" style="s2">eventually going to cost us a certain</p>
<p begin="18:29:18.436" end="18:29:24.196" style="s2">amount of um money so this is the code</p>
<p begin="18:29:22.116" end="18:29:25.360" style="s2">that you can use and if you look at the</p>
<p begin="18:29:24.196" end="18:29:28.080" style="s2">bottom right here this is going to show</p>
<p begin="18:29:25.360" end="18:29:29.720" style="s2">us all of the uh code at the very end so</p>
<p begin="18:29:28.080" end="18:29:32.244" style="s2">we can literally just copy all of this</p>
<p begin="18:29:29.720" end="18:29:34.556" style="s2">if we wanted to and just use that</p>
<p begin="18:29:32.244" end="18:29:36.156" style="s2">instead of what we put so that&#39;s what we</p>
<p begin="18:29:34.556" end="18:29:39.080" style="s2">will do so let</p>
<p begin="18:29:36.156" end="18:29:42.756" style="s2">me just delete all of</p>
<p begin="18:29:39.080" end="18:29:42.756" style="s2">this and then paste it</p>
<p begin="18:29:44.556" end="18:29:49.516" style="s2">in and we have have everything and once</p>
<p begin="18:29:47.796" end="18:29:51.556" style="s2">again we just want to change the name to</p>
<p begin="18:29:49.516" end="18:29:52.920" style="s2">be the our repository name which is</p>
<p begin="18:29:51.556" end="18:29:56.436" style="s2">right here we could also use a secret</p>
<p begin="18:29:52.920" end="18:29:56.436" style="s2">for that but don&#39;t worry too much about</p>
<p begin="18:29:56.720" end="18:30:03.476" style="s2">that and that should be all that we have</p>
<p begin="18:29:58.876" end="18:30:06.156" style="s2">to do um for uh the docker integration</p>
<p begin="18:30:03.476" end="18:30:08.436" style="s2">um if you don&#39;t have a Docker file then</p>
<p begin="18:30:06.156" end="18:30:10.920" style="s2">i&#39; recommend you well I&#39;ll just pause</p>
<p begin="18:30:08.436" end="18:30:12.320" style="s2">this video create a file in your root in</p>
<p begin="18:30:10.920" end="18:30:14.116" style="s2">the root of your project directory</p>
<p begin="18:30:12.320" end="18:30:16.556" style="s2">called Docker file with a capital D and</p>
<p begin="18:30:14.116" end="18:30:18.556" style="s2">just copy all of this or you can follow</p>
<p begin="18:30:16.556" end="18:30:21.320" style="s2">what I go through in the docker section</p>
<p begin="18:30:18.556" end="18:30:23.436" style="s2">if you guys skip</p>
<p begin="18:30:21.320" end="18:30:26.116" style="s2">that and I think that should be</p>
<p begin="18:30:23.436" end="18:30:28.080" style="s2">everything that we need so let&#39;s go</p>
<p begin="18:30:26.116" end="18:30:30.156" style="s2">ahead and push this and pray that it</p>
<p begin="18:30:28.080" end="18:30:31.680" style="s2">does not break anything and it works</p>
<p begin="18:30:30.156" end="18:30:36.320" style="s2">just the way we expected to so we&#39;ll do</p>
<p begin="18:30:31.680" end="18:30:38.400" style="s2">get add-- all get</p>
<p begin="18:30:36.320" end="18:30:40.360" style="s2">commit added</p>
<p begin="18:30:38.400" end="18:30:43.360" style="s2">Docker and then we&#39;ll do a get push</p>
<p begin="18:30:40.360" end="18:30:43.360" style="s2">origin</p>
<p begin="18:30:48.244" end="18:30:54.876" style="s2">yep and it failed so fully expected this</p>
<p begin="18:30:52.040" end="18:30:57.876" style="s2">a step cannot have both uses and run key</p>
<p begin="18:30:54.876" end="18:30:58.920" style="s2">so what did we break here actually it</p>
<p begin="18:30:57.876" end="18:31:02.796" style="s2">should</p>
<p begin="18:30:58.920" end="18:31:02.796" style="s2">uh where is it telling us</p>
<p begin="18:31:05.000" end="18:31:09.920" style="s2">this yeah this spacing got messed up so</p>
<p begin="18:31:07.876" end="18:31:12.244" style="s2">that was a very obvious mistake that I</p>
<p begin="18:31:09.920" end="18:31:12.244" style="s2">should have</p>
<p begin="18:31:13.280" end="18:31:20.040" style="s2">caught and I just have to move this</p>
<p begin="18:31:16.836" end="18:31:23.920" style="s2">back right there and that should fix</p>
<p begin="18:31:20.040" end="18:31:23.920" style="s2">everything so let&#39;s do this</p>
<p begin="18:31:29.244" end="18:31:35.516" style="s2">again all right so so far it&#39;s not AED</p>
<p begin="18:31:31.756" end="18:31:35.516" style="s2">out so it looks like things look</p>
<p begin="18:31:38.796" end="18:31:44.116" style="s2">okay and we can see the build uh and</p>
<p begin="18:31:41.720" end="18:31:46.756" style="s2">push section failed so let&#39;s see if</p>
<p begin="18:31:44.116" end="18:31:49.244" style="s2">there&#39;s an error</p>
<p begin="18:31:46.756" end="18:31:51.960" style="s2">and it looks like the there&#39;s some issue</p>
<p begin="18:31:49.244" end="18:31:54.680" style="s2">with the driver um please switch to a</p>
<p begin="18:31:51.960" end="18:31:58.920" style="s2">different driver Docker build X create--</p>
<p begin="18:31:54.680" end="18:32:01.516" style="s2">use so let&#39;s see what that is in this</p>
<p begin="18:31:58.920" end="18:32:03.320" style="s2">case and I realized the documentation</p>
<p begin="18:32:01.516" end="18:32:05.400" style="s2">was a little confusing this section that</p>
<p begin="18:32:03.320" end="18:32:07.476" style="s2">we copied at the end uh it didn&#39;t</p>
<p begin="18:32:05.400" end="18:32:11.116" style="s2">include one of these steps which is the</p>
<p begin="18:32:07.476" end="18:32:12.756" style="s2">build X step so before we or actually</p>
<p begin="18:32:11.116" end="18:32:15.156" style="s2">after we log in we want to set up a</p>
<p begin="18:32:12.756" end="18:32:17.040" style="s2">buildex which is the mistake that we ran</p>
<p begin="18:32:15.156" end="18:32:19.640" style="s2">into so we want to copy this page right</p>
<p begin="18:32:17.040" end="18:32:23.244" style="s2">here this section and then we&#39;ll run</p>
<p begin="18:32:19.640" end="18:32:23.244" style="s2">that right after the</p>
<p begin="18:32:26.156" end="18:32:34.400" style="s2">login and so now if we do a get ad</p>
<p begin="18:32:30.876" end="18:32:38.600" style="s2">all get commit</p>
<p begin="18:32:34.400" end="18:32:38.600" style="s2">DM and then I get push origin</p>
<p begin="18:32:42.920" end="18:32:47.040" style="s2">main okay so I think this time</p>
<p begin="18:32:45.116" end="18:32:49.244" style="s2">everything should should work um but</p>
<p begin="18:32:47.040" end="18:32:51.796" style="s2">just to reiterate uh cuz I think I went</p>
<p begin="18:32:49.244" end="18:32:53.876" style="s2">a little bit quickly um the steps are we</p>
<p begin="18:32:51.796" end="18:32:55.960" style="s2">first log into Docker using the login</p>
<p begin="18:32:53.876" end="18:32:58.960" style="s2">action right here then the next thing is</p>
<p begin="18:32:55.960" end="18:33:01.360" style="s2">we used uh we set up uh build x uh and</p>
<p begin="18:32:58.960" end="18:33:03.116" style="s2">then we call the build and push action</p>
<p begin="18:33:01.360" end="18:33:04.476" style="s2">in this case and here we specify the</p>
<p begin="18:33:03.116" end="18:33:06.476" style="s2">context which is saying just this</p>
<p begin="18:33:04.476" end="18:33:07.720" style="s2">current directory and then the location</p>
<p begin="18:33:06.476" end="18:33:09.756" style="s2">of our Docker file and then we&#39;re going</p>
<p begin="18:33:07.720" end="18:33:11.000" style="s2">to use buildex for the Builder and we</p>
<p begin="18:33:09.756" end="18:33:13.320" style="s2">set push to be true because we want to</p>
<p begin="18:33:11.000" end="18:33:15.000" style="s2">actually push it to the um to the GitHub</p>
<p begin="18:33:13.320" end="18:33:17.600" style="s2">repo and then here the repo is going to</p>
<p begin="18:33:15.000" end="18:33:19.116" style="s2">be our user username slash then the</p>
<p begin="18:33:17.600" end="18:33:21.600" style="s2">repository name which is it happens to</p>
<p begin="18:33:19.116" end="18:33:24.320" style="s2">be fast API we could store this in a</p>
<p begin="18:33:21.600" end="18:33:27.196" style="s2">secret but I decided not to uh and then</p>
<p begin="18:33:24.320" end="18:33:28.876" style="s2">these are just copied from the uh the</p>
<p begin="18:33:27.196" end="18:33:30.756" style="s2">documentation so that we can cach all of</p>
<p begin="18:33:28.876" end="18:33:32.244" style="s2">the images so that we don&#39;t have to keep</p>
<p begin="18:33:30.756" end="18:33:34.600" style="s2">running all of this from scratch which</p>
<p begin="18:33:32.244" end="18:33:37.196" style="s2">is a fairly long process and then here</p>
<p begin="18:33:34.600" end="18:33:39.400" style="s2">we&#39;re just spitting out the image digest</p>
<p begin="18:33:37.196" end="18:33:40.960" style="s2">and if we take a look at our uh</p>
<p begin="18:33:39.400" end="18:33:43.600" style="s2">workflows and we can see that the last</p>
<p begin="18:33:40.960" end="18:33:45.836" style="s2">one which is called ASDF uh successfully</p>
<p begin="18:33:43.600" end="18:33:50.116" style="s2">ran and if I actually go back to my</p>
<p begin="18:33:45.836" end="18:33:52.360" style="s2">Docker Hub in this case and just hit</p>
<p begin="18:33:50.116" end="18:33:55.320" style="s2">refresh right we can see that we did</p>
<p begin="18:33:52.360" end="18:33:57.796" style="s2">successfully push an image a minute ago</p>
<p begin="18:33:55.320" end="18:34:01.156" style="s2">so that means we have now successfully</p>
<p begin="18:33:57.796" end="18:34:04.556" style="s2">completed our uh entire CI portion of</p>
<p begin="18:34:01.156" end="18:34:07.244" style="s2">our CI uh cicd pipeline the next step is</p>
<p begin="18:34:04.556" end="18:34:08.640" style="s2">to set up the continuous delivery which</p>
<p begin="18:34:07.244" end="18:34:11.080" style="s2">is a matter of just providing a whole</p>
<p begin="18:34:08.640" end="18:34:14.876" style="s2">bunch of commands needed</p>
<p begin="18:34:11.080" end="18:34:17.116" style="s2">to um actually push out our new code to</p>
<p begin="18:34:14.876" end="18:34:18.600" style="s2">our production Network and you know</p>
<p begin="18:34:17.116" end="18:34:20.556" style="s2">moving forward um just to kind of keep</p>
<p begin="18:34:18.600" end="18:34:21.876" style="s2">things simple and as quick as possible</p>
<p begin="18:34:20.556" end="18:34:23.280" style="s2">I&#39;m actually going to copy out all of</p>
<p begin="18:34:21.876" end="18:34:25.244" style="s2">the docker steps because we&#39;re not even</p>
<p begin="18:34:23.280" end="18:34:27.040" style="s2">using Docker and production so we don&#39;t</p>
<p begin="18:34:25.244" end="18:34:28.796" style="s2">actually need this so we&#39;ll just comment</p>
<p begin="18:34:27.040" end="18:34:30.436" style="s2">that out just to make things as quick</p>
<p begin="18:34:28.796" end="18:34:32.360" style="s2">and snappy as possible so that we don&#39;t</p>
<p begin="18:34:30.436" end="18:34:34.720" style="s2">use too many of our build</p>
<p begin="18:34:32.360" end="18:34:37.600" style="s2">minutes so now that we set up the</p>
<p begin="18:34:34.720" end="18:34:39.920" style="s2">continuous integration part of our cicd</p>
<p begin="18:34:37.600" end="18:34:43.320" style="s2">pipeline it&#39;s now time to move on to the</p>
<p begin="18:34:39.920" end="18:34:45.000" style="s2">continuous delivery aspect of our cicd</p>
<p begin="18:34:43.320" end="18:34:47.876" style="s2">pipeline so this part is going to be</p>
<p begin="18:34:45.000" end="18:34:50.000" style="s2">responsible for pushing out the update</p>
<p begin="18:34:47.876" end="18:34:52.040" style="s2">to our production environment so that</p>
<p begin="18:34:50.000" end="18:34:54.116" style="s2">our code or our production environment</p>
<p begin="18:34:52.040" end="18:34:56.280" style="s2">is running our newest and latest</p>
<p begin="18:34:54.116" end="18:34:59.680" style="s2">code so there&#39;s a couple things we can</p>
<p begin="18:34:56.280" end="18:35:02.400" style="s2">do uh and I&#39;m actually going</p>
<p begin="18:34:59.680" end="18:35:04.196" style="s2">to uh do this up here actually we&#39;ll</p>
<p begin="18:35:02.400" end="18:35:05.600" style="s2">just do it down here it&#39;s fine so what</p>
<p begin="18:35:04.196" end="18:35:07.640" style="s2">we could do is you know just to keep</p>
<p begin="18:35:05.600" end="18:35:09.600" style="s2">things simple um I could just provide</p>
<p begin="18:35:07.640" end="18:35:11.000" style="s2">another step right and we can give this</p>
<p begin="18:35:09.600" end="18:35:16.000" style="s2">you know whatever name we want I could</p>
<p begin="18:35:11.000" end="18:35:17.516" style="s2">say name and then hey this is uh push</p>
<p begin="18:35:16.000" end="18:35:19.640" style="s2">changes to</p>
<p begin="18:35:17.516" end="18:35:21.756" style="s2">production and then we can you know</p>
<p begin="18:35:19.640" end="18:35:24.516" style="s2">provide the steps needed to actually</p>
<p begin="18:35:21.756" end="18:35:25.836" style="s2">push those changes out um however</p>
<p begin="18:35:24.516" end="18:35:27.400" style="s2">instead of doing it like this what I</p>
<p begin="18:35:25.836" end="18:35:30.000" style="s2">would like to do is I actually want to</p>
<p begin="18:35:27.400" end="18:35:31.796" style="s2">break it out into a separate job so that</p>
<p begin="18:35:30.000" end="18:35:33.756" style="s2">we can kind of have things nice and</p>
<p begin="18:35:31.796" end="18:35:35.280" style="s2">organized and uh what I actually want to</p>
<p begin="18:35:33.756" end="18:35:37.156" style="s2">do is I want to rename job one because</p>
<p begin="18:35:35.280" end="18:35:38.920" style="s2">it&#39;s not very uh descriptive I&#39;m going</p>
<p begin="18:35:37.156" end="18:35:40.836" style="s2">to rename it to</p>
<p begin="18:35:38.920" end="18:35:42.876" style="s2">build and then I&#39;m going to create a</p>
<p begin="18:35:40.836" end="18:35:45.876" style="s2">second job and we&#39;ll call this one</p>
<p begin="18:35:42.876" end="18:35:45.876" style="s2">deploy</p>
<p begin="18:35:46.360" end="18:35:51.680" style="s2">so we&#39;ve got two different jobs however</p>
<p begin="18:35:48.756" end="18:35:53.400" style="s2">the uh the issue with jobs is that they</p>
<p begin="18:35:51.680" end="18:35:55.720" style="s2">don&#39;t behave the way that you think they</p>
<p begin="18:35:53.400" end="18:35:58.680" style="s2">would and let me delete this uh the way</p>
<p begin="18:35:55.720" end="18:36:02.400" style="s2">that jobs work is that by default in</p>
<p begin="18:35:58.680" end="18:36:04.680" style="s2">GitHub the jobs run in</p>
<p begin="18:36:02.400" end="18:36:08.720" style="s2">parallel and so what I mean by that is</p>
<p begin="18:36:04.680" end="18:36:11.920" style="s2">that when our workflow runs uh GitHub is</p>
<p begin="18:36:08.720" end="18:36:14.320" style="s2">actually going to run the build job and</p>
<p begin="18:36:11.920" end="18:36:16.436" style="s2">the deploy job in parallel at the same</p>
<p begin="18:36:14.320" end="18:36:18.280" style="s2">exact time now we would definitely not</p>
<p begin="18:36:16.436" end="18:36:20.436" style="s2">want to do that because that would mean</p>
<p begin="18:36:18.280" end="18:36:22.516" style="s2">before we&#39;ve even you know run our tests</p>
<p begin="18:36:20.436" end="18:36:24.400" style="s2">and done anything else we would try to</p>
<p begin="18:36:22.516" end="18:36:27.080" style="s2">actually deploy our new changes which</p>
<p begin="18:36:24.400" end="18:36:28.960" style="s2">would be a terrible thing to happen so</p>
<p begin="18:36:27.080" end="18:36:31.680" style="s2">we don&#39;t want it to run in parallel how</p>
<p begin="18:36:28.960" end="18:36:34.960" style="s2">exactly do we configure that well we</p>
<p begin="18:36:31.680" end="18:36:38.080" style="s2">pass in an option called runs uh sorry</p>
<p begin="18:36:34.960" end="18:36:42.280" style="s2">needs so you say needs and here we we</p>
<p begin="18:36:38.080" end="18:36:44.600" style="s2">tell it the list of uh jobs that need to</p>
<p begin="18:36:42.280" end="18:36:48.000" style="s2">complete before this job can run so here</p>
<p begin="18:36:44.600" end="18:36:50.960" style="s2">we just say this needs to wait for uh</p>
<p begin="18:36:48.000" end="18:36:54.040" style="s2">the build job to run before this job</p>
<p begin="18:36:50.960" end="18:36:56.436" style="s2">runs and so we just pass that into here</p>
<p begin="18:36:54.040" end="18:36:58.080" style="s2">and you could pass in multiple uh</p>
<p begin="18:36:56.436" end="18:36:59.516" style="s2">multiple jobs if you wanted to we only</p>
<p begin="18:36:58.080" end="18:37:02.556" style="s2">have one other one so this is going to</p>
<p begin="18:36:59.516" end="18:37:05.640" style="s2">cause this to run in a sequential</p>
<p begin="18:37:02.556" end="18:37:06.920" style="s2">order and just like with uh the other</p>
<p begin="18:37:05.640" end="18:37:09.476" style="s2">job we need the</p>
<p begin="18:37:06.920" end="18:37:11.476" style="s2">runson property to Define you know that</p>
<p begin="18:37:09.476" end="18:37:13.116" style="s2">we want to run this on a bun to latest</p>
<p begin="18:37:11.476" end="18:37:15.680" style="s2">and then I&#39;m just going to create a test</p>
<p begin="18:37:13.116" end="18:37:18.836" style="s2">step in this case we&#39;ll do steps and and</p>
<p begin="18:37:15.680" end="18:37:21.476" style="s2">the first step is going to say uh</p>
<p begin="18:37:18.836" end="18:37:25.960" style="s2">uses actually I&#39;m just going to say</p>
<p begin="18:37:21.476" end="18:37:27.280" style="s2">name uh you know deploying stuff and</p>
<p begin="18:37:25.960" end="18:37:28.156" style="s2">here I&#39;m just going to run a command on</p>
<p begin="18:37:27.280" end="18:37:31.876" style="s2">our</p>
<p begin="18:37:28.156" end="18:37:35.920" style="s2">server and I&#39;ll just say</p>
<p begin="18:37:31.876" end="18:37:39.680" style="s2">Echo uh going to deploy some</p>
<p begin="18:37:35.920" end="18:37:42.476" style="s2">stuff all right so let&#39;s test this</p>
<p begin="18:37:39.680" end="18:37:47.436" style="s2">out do a get add-</p>
<p begin="18:37:42.476" end="18:37:47.436" style="s2">Dall get commit DM</p>
<p begin="18:37:53.796" end="18:37:59.156" style="s2">and if we go ahead and check</p>
<p begin="18:37:56.556" end="18:38:01.436" style="s2">GitHub and go to our actions let&#39;s take</p>
<p begin="18:37:59.156" end="18:38:03.556" style="s2">a look at what happened in the adding</p>
<p begin="18:38:01.436" end="18:38:05.360" style="s2">deploy and so you could see now that we</p>
<p begin="18:38:03.556" end="18:38:07.156" style="s2">have two different jobs uh we can</p>
<p begin="18:38:05.360" end="18:38:09.040" style="s2">actually see the two different jobs here</p>
<p begin="18:38:07.156" end="18:38:11.196" style="s2">and so it looked like build ran just</p>
<p begin="18:38:09.040" end="18:38:12.796" style="s2">fine and then it looked like deploy also</p>
<p begin="18:38:11.196" end="18:38:14.640" style="s2">ran just fine and so if I take a look at</p>
<p begin="18:38:12.796" end="18:38:16.156" style="s2">the deploying stuff we can see that I</p>
<p begin="18:38:14.640" end="18:38:18.040" style="s2">ran the command going to deploy some</p>
<p begin="18:38:16.156" end="18:38:19.196" style="s2">stuff and it was successfully deployed</p>
<p begin="18:38:18.040" end="18:38:21.000" style="s2">although we didn&#39;t actually deploy</p>
<p begin="18:38:19.196" end="18:38:23.116" style="s2">anything but you get the gist of it so</p>
<p begin="18:38:21.000" end="18:38:24.640" style="s2">now it&#39;s just a matter of figuring out</p>
<p begin="18:38:23.116" end="18:38:26.556" style="s2">what commands we need to run to actually</p>
<p begin="18:38:24.640" end="18:38:28.320" style="s2">push those changes out to our production</p>
<p begin="18:38:26.556" end="18:38:30.192" style="s2">server and so you know we covered two</p>
<p begin="18:38:28.320" end="18:38:32.360" style="s2">different deployment models in this</p>
<p begin="18:38:30.192" end="18:38:33.832" style="s2">course there&#39;s Heroku and then there&#39;s</p>
<p begin="18:38:32.360" end="18:38:35.480" style="s2">the auntu server so we&#39;re going to start</p>
<p begin="18:38:33.832" end="18:38:39.120" style="s2">off by going over how we can actually</p>
<p begin="18:38:35.480" end="18:38:41.240" style="s2">handle this with Heroku uh and if we go</p>
<p begin="18:38:39.120" end="18:38:44.120" style="s2">to our code right here we&#39;re going to</p>
<p begin="18:38:41.240" end="18:38:46.080" style="s2">provide the steps to actually um push an</p>
<p begin="18:38:44.120" end="18:38:47.680" style="s2">update to Heroku now if you don&#39;t</p>
<p begin="18:38:46.080" end="18:38:50.832" style="s2">remember what we actually did to push</p>
<p begin="18:38:47.680" end="18:38:52.800" style="s2">changes out to Heroku uh do a get remote</p>
<p begin="18:38:50.832" end="18:38:55.600" style="s2">I think yep so this is going to list out</p>
<p begin="18:38:52.800" end="18:38:57.360" style="s2">the um the Heroku remote so if you want</p>
<p begin="18:38:55.600" end="18:38:59.760" style="s2">to actually push out the changes to your</p>
<p begin="18:38:57.360" end="18:39:02.240" style="s2">Heroku application you would do a get</p>
<p begin="18:38:59.760" end="18:39:03.872" style="s2">push Heroku and then your branch which</p>
<p begin="18:39:02.240" end="18:39:05.512" style="s2">is Main and that&#39;s going to update our</p>
<p begin="18:39:03.872" end="18:39:09.160" style="s2">application it&#39;s pretty simple with</p>
<p begin="18:39:05.512" end="18:39:11.440" style="s2">Heroku uh so in this machine right in</p>
<p begin="18:39:09.160" end="18:39:14.080" style="s2">our cicd pipeline it&#39;s not quite as</p>
<p begin="18:39:11.440" end="18:39:16.040" style="s2">simple as running get push uh Heroku</p>
<p begin="18:39:14.080" end="18:39:18.080" style="s2">main just because</p>
<p begin="18:39:16.040" end="18:39:19.960" style="s2">we don&#39;t have Heroku installed on this</p>
<p begin="18:39:18.080" end="18:39:22.192" style="s2">machine because when we set up Heroku we</p>
<p begin="18:39:19.960" end="18:39:24.760" style="s2">had to install the Heroku CLI we had to</p>
<p begin="18:39:22.192" end="18:39:28.000" style="s2">run Heroku login put in our credentials</p>
<p begin="18:39:24.760" end="18:39:29.600" style="s2">and then we had to um pull we have to</p>
<p begin="18:39:28.000" end="18:39:31.920" style="s2">get our git repo we have to add the</p>
<p begin="18:39:29.600" end="18:39:33.400" style="s2">Heroku remote and then we have to do a</p>
<p begin="18:39:31.920" end="18:39:35.800" style="s2">get push so there&#39;s a couple of</p>
<p begin="18:39:33.400" end="18:39:37.440" style="s2">different steps uh and so manually doing</p>
<p begin="18:39:35.800" end="18:39:41.080" style="s2">it I just want to kind of write this out</p>
<p begin="18:39:37.440" end="18:39:44.320" style="s2">we would you know install Heroku</p>
<p begin="18:39:41.080" end="18:39:46.000" style="s2">CLI we would actually before we even do</p>
<p begin="18:39:44.320" end="18:39:49.480" style="s2">that we would</p>
<p begin="18:39:46.000" end="18:39:52.600" style="s2">uh first of all you know pull our GitHub</p>
<p begin="18:39:49.480" end="18:39:54.400" style="s2">repo um because remember this job is</p>
<p begin="18:39:52.600" end="18:39:56.920" style="s2">essentially starting everything from</p>
<p begin="18:39:54.400" end="18:39:59.160" style="s2">scratch uh potentially on a different</p>
<p begin="18:39:56.920" end="18:40:00.600" style="s2">machine so anything we did here none of</p>
<p begin="18:39:59.160" end="18:40:03.160" style="s2">this stuff is available so we don&#39;t</p>
<p begin="18:40:00.600" end="18:40:04.600" style="s2">actually have access to the the repo</p>
<p begin="18:40:03.160" end="18:40:06.640" style="s2">that we pulled here so we would have to</p>
<p begin="18:40:04.600" end="18:40:09.960" style="s2">do it again here so we pull the repo we</p>
<p begin="18:40:06.640" end="18:40:13.080" style="s2">install Heroku C then we do a Heroku</p>
<p begin="18:40:09.960" end="18:40:17.480" style="s2">login and then we do</p>
<p begin="18:40:13.080" end="18:40:19.120" style="s2">a um we have to add in a remote in git</p>
<p begin="18:40:17.480" end="18:40:22.920" style="s2">and I forget the command so but we&#39;ll</p>
<p begin="18:40:19.120" end="18:40:25.160" style="s2">just say add git remote for Heroku and</p>
<p begin="18:40:22.920" end="18:40:28.760" style="s2">then we have to do a</p>
<p begin="18:40:25.160" end="18:40:31.512" style="s2">get push Heroku main so those are the</p>
<p begin="18:40:28.760" end="18:40:34.360" style="s2">steps that we would have to run to</p>
<p begin="18:40:31.512" end="18:40:37.400" style="s2">actually deploy our application uh in</p>
<p begin="18:40:34.360" end="18:40:39.160" style="s2">our cicd Pipeline and this is all</p>
<p begin="18:40:37.400" end="18:40:41.872" style="s2">technically possible you can manually do</p>
<p begin="18:40:39.160" end="18:40:44.720" style="s2">this but it&#39;s actually a kind of a pain</p>
<p begin="18:40:41.872" end="18:40:45.960" style="s2">in the uh the butt to actually do this</p>
<p begin="18:40:44.720" end="18:40:50.280" style="s2">and instead</p>
<p begin="18:40:45.960" end="18:40:53.552" style="s2">what I recommend you do is look for a um</p>
<p begin="18:40:50.280" end="18:40:54.960" style="s2">a a action in the GitHub Marketplace</p>
<p begin="18:40:53.552" end="18:40:56.720" style="s2">that kind of does this all under the</p>
<p begin="18:40:54.960" end="18:40:58.680" style="s2">hood so that&#39;s what we&#39;re going to do</p>
<p begin="18:40:56.720" end="18:41:00.600" style="s2">because uh you know deploying to Heroku</p>
<p begin="18:40:58.680" end="18:41:03.640" style="s2">is a very common task so if I go to the</p>
<p begin="18:41:00.600" end="18:41:05.400" style="s2">marketplace which I forget which tab was</p>
<p begin="18:41:03.640" end="18:41:08.040" style="s2">the</p>
<p begin="18:41:05.400" end="18:41:11.512" style="s2">marketplace oh I think it&#39;s this one</p>
<p begin="18:41:08.040" end="18:41:13.480" style="s2">yeah and so here if I search for</p>
<p begin="18:41:11.512" end="18:41:16.080" style="s2">Heroku uh you&#39;ll see that we have a</p>
<p begin="18:41:13.480" end="18:41:18.080" style="s2">couple of different options</p>
<p begin="18:41:16.080" end="18:41:19.800" style="s2">for deploying to Heroku in the</p>
<p begin="18:41:18.080" end="18:41:21.280" style="s2">marketplace let me just see view all</p>
<p begin="18:41:19.800" end="18:41:23.600" style="s2">because I got to figure out which one is</p>
<p begin="18:41:21.280" end="18:41:26.640" style="s2">the one that I want and this is the one</p>
<p begin="18:41:23.600" end="18:41:28.760" style="s2">that I want by ailesh NS so this is the</p>
<p begin="18:41:26.640" end="18:41:31.552" style="s2">one that&#39;s got the most stars so we&#39;ll</p>
<p begin="18:41:28.760" end="18:41:33.120" style="s2">select this one uh and you&#39;ll see that</p>
<p begin="18:41:31.552" end="18:41:35.512" style="s2">in the example the way that we actually</p>
<p begin="18:41:33.120" end="18:41:38.600" style="s2">deploy to Heroku is we have to get a</p>
<p begin="18:41:35.512" end="18:41:41.000" style="s2">Heroku API key we have to provide our</p>
<p begin="18:41:38.600" end="18:41:42.920" style="s2">Heroku app name and then we have to</p>
<p begin="18:41:41.000" end="18:41:46.240" style="s2">provide our Heroku</p>
<p begin="18:41:42.920" end="18:41:48.480" style="s2">email so let&#39;s get this from our account</p>
<p begin="18:41:46.240" end="18:41:51.240" style="s2">and then we will create</p>
<p begin="18:41:48.480" end="18:41:52.400" style="s2">Secrets within our GitHub repository so</p>
<p begin="18:41:51.240" end="18:41:55.552" style="s2">we can store the information because we</p>
<p begin="18:41:52.400" end="18:41:59.600" style="s2">don&#39;t want to hard code that uh into our</p>
<p begin="18:41:55.552" end="18:42:02.440" style="s2">um yaml file so going back to Heroku uh</p>
<p begin="18:41:59.600" end="18:42:04.400" style="s2">if you go to your account which is your</p>
<p begin="18:42:02.440" end="18:42:08.000" style="s2">the little logo here then select account</p>
<p begin="18:42:04.400" end="18:42:09.832" style="s2">settings uh you&#39;ll see that the API key</p>
<p begin="18:42:08.000" end="18:42:11.872" style="s2">is right here so we can just s</p>
<p begin="18:42:09.832" end="18:42:13.680" style="s2">reveal and then I&#39;m just going to copy</p>
<p begin="18:42:11.872" end="18:42:15.600" style="s2">this key and what we&#39;re going to do is</p>
<p begin="18:42:13.680" end="18:42:17.320" style="s2">we&#39;re going to go to our uh GitHub</p>
<p begin="18:42:15.600" end="18:42:19.040" style="s2">repository we&#39;ll go to</p>
<p begin="18:42:17.320" end="18:42:21.760" style="s2">settings and then we can create our</p>
<p begin="18:42:19.040" end="18:42:23.800" style="s2">secrets so you can create a global</p>
<p begin="18:42:21.760" end="18:42:24.832" style="s2">repository secret or you can do what I&#39;m</p>
<p begin="18:42:23.800" end="18:42:26.800" style="s2">going to do which is I&#39;m going to create</p>
<p begin="18:42:24.832" end="18:42:30.192" style="s2">a brand new environment uh for</p>
<p begin="18:42:26.800" end="18:42:30.192" style="s2">production we&#39;ll call this</p>
<p begin="18:42:31.280" end="18:42:35.320" style="s2">production that is not how you spell</p>
<p begin="18:42:37.760" end="18:42:44.040" style="s2">production and we&#39;re going to add a</p>
<p begin="18:42:41.280" end="18:42:45.552" style="s2">secret and um I&#39;m going to well paste</p>
<p begin="18:42:44.040" end="18:42:48.120" style="s2">the value here but the name I&#39;m going to</p>
<p begin="18:42:45.552" end="18:42:50.680" style="s2">just stick to what they used uh just to</p>
<p begin="18:42:48.120" end="18:42:54.832" style="s2">make it easier to</p>
<p begin="18:42:50.680" end="18:42:57.512" style="s2">remember so Heroku API key add</p>
<p begin="18:42:54.832" end="18:43:00.000" style="s2">secret uh and then what else do we need</p>
<p begin="18:42:57.512" end="18:43:02.760" style="s2">uh we have to add the email so let&#39;s</p>
<p begin="18:43:00.000" end="18:43:04.680" style="s2">create uh a secret for the email as well</p>
<p begin="18:43:02.760" end="18:43:06.872" style="s2">cuz why not they didn&#39;t do that but</p>
<p begin="18:43:04.680" end="18:43:09.920" style="s2">we&#39;re going to be a little bit more</p>
<p begin="18:43:06.872" end="18:43:12.552" style="s2">secure and I&#39;ll call this a</p>
<p begin="18:43:09.920" end="18:43:14.600" style="s2">Heroku</p>
<p begin="18:43:12.552" end="18:43:17.800" style="s2">email and this is just going to be your</p>
<p begin="18:43:14.600" end="18:43:17.800" style="s2">email that you use to</p>
<p begin="18:43:18.760" end="18:43:24.720" style="s2">register and then if you want to you can</p>
<p begin="18:43:20.872" end="18:43:26.640" style="s2">also add the Heroku app name uh as a</p>
<p begin="18:43:24.720" end="18:43:29.000" style="s2">secret as well you don&#39;t have to do this</p>
<p begin="18:43:26.640" end="18:43:32.000" style="s2">but I&#39;m going to do it and what did I</p>
<p begin="18:43:29.000" end="18:43:36.040" style="s2">call my app I can&#39;t even</p>
<p begin="18:43:32.000" end="18:43:39.440" style="s2">remember uh fast API s yours is going to</p>
<p begin="18:43:36.040" end="18:43:39.440" style="s2">be different so make sure you update it</p>
<p begin="18:43:41.480" end="18:43:47.400" style="s2">accordingly okay</p>
<p begin="18:43:43.800" end="18:43:49.720" style="s2">so wait what happened here why is there</p>
<p begin="18:43:47.400" end="18:43:49.720" style="s2">only</p>
<p begin="18:43:50.360" end="18:43:54.872" style="s2">two I think I may have accidentally</p>
<p begin="18:43:52.600" end="18:43:57.080" style="s2">overridden one of these</p>
<p begin="18:43:54.872" end="18:43:58.872" style="s2">keys so let me let me put this</p>
<p begin="18:43:57.080" end="18:44:00.160" style="s2">information back in just in case because</p>
<p begin="18:43:58.872" end="18:44:02.920" style="s2">you can&#39;t actually look at the keys</p>
<p begin="18:44:00.160" end="18:44:04.920" style="s2">after you save them you can only update</p>
<p begin="18:44:02.920" end="18:44:08.440" style="s2">them okay so we</p>
<p begin="18:44:04.920" end="18:44:11.000" style="s2">updated that and</p>
<p begin="18:44:08.440" end="18:44:13.240" style="s2">then the API key I have to copy this</p>
<p begin="18:44:11.000" end="18:44:13.240" style="s2">once</p>
<p begin="18:44:13.720" end="18:44:18.832" style="s2">more all right so we got those and then</p>
<p begin="18:44:15.920" end="18:44:22.240" style="s2">let me once again add the Heroku app</p>
<p begin="18:44:18.832" end="18:44:22.240" style="s2">name this is going to</p>
<p begin="18:44:28.872" end="18:44:33.640" style="s2">be all right so now we&#39;ve got our three</p>
<p begin="18:44:31.280" end="18:44:35.960" style="s2">keys hopefully I set those all up</p>
<p begin="18:44:33.640" end="18:44:36.832" style="s2">correctly uh and keep in mind the name</p>
<p begin="18:44:35.960" end="18:44:40.000" style="s2">of</p>
<p begin="18:44:36.832" end="18:44:42.120" style="s2">this environment is called production so</p>
<p begin="18:44:40.000" end="18:44:44.480" style="s2">for the other job which is the the</p>
<p begin="18:44:42.120" end="18:44:45.600" style="s2">deploy job we&#39;re going to specify the</p>
<p begin="18:44:44.480" end="18:44:48.160" style="s2">Environ</p>
<p begin="18:44:45.600" end="18:44:50.160" style="s2">the same way we did with the first job</p>
<p begin="18:44:48.160" end="18:44:53.240" style="s2">um just by referencing this code right</p>
<p begin="18:44:50.160" end="18:44:53.240" style="s2">here and just updating the</p>
<p begin="18:44:55.760" end="18:44:59.680" style="s2">name and so this is going to be</p>
<p begin="18:45:01.760" end="18:45:06.680" style="s2">production and then we can remove this</p>
<p begin="18:45:04.240" end="18:45:09.920" style="s2">unnecessary X step and I actually I&#39;ll</p>
<p begin="18:45:06.680" end="18:45:12.192" style="s2">change this to be deploying to</p>
<p begin="18:45:09.920" end="18:45:15.192" style="s2">Heroku and then we&#39;ll change this to be</p>
<p begin="18:45:12.192" end="18:45:15.192" style="s2">Ed</p>
<p begin="18:45:16.400" end="18:45:19.192" style="s2">and so just like in the documentation</p>
<p begin="18:45:17.920" end="18:45:20.400" style="s2">actually I might as well just copy it</p>
<p begin="18:45:19.192" end="18:45:21.800" style="s2">because it&#39;s a little bit easier so I</p>
<p begin="18:45:20.400" end="18:45:24.800" style="s2">can just</p>
<p begin="18:45:21.800" end="18:45:24.800" style="s2">copy</p>
<p begin="18:45:34.960" end="18:45:42.320" style="s2">this and we can just update the app name</p>
<p begin="18:45:38.240" end="18:45:42.320" style="s2">with the secret that we defined</p>
<p begin="18:45:52.680" end="18:45:56.680" style="s2">as well as the secret for the</p>
<p begin="18:46:07.192" end="18:46:12.512" style="s2">email and that&#39;s all we have to do for</p>
<p begin="18:46:10.240" end="18:46:13.960" style="s2">the Heroku side of things we don&#39;t it&#39;s</p>
<p begin="18:46:12.512" end="18:46:16.360" style="s2">as simple as that so that&#39;s why I always</p>
<p begin="18:46:13.960" end="18:46:17.760" style="s2">recommend you look for a built-in action</p>
<p begin="18:46:16.360" end="18:46:20.080" style="s2">uh so that you don&#39;t have to perform all</p>
<p begin="18:46:17.760" end="18:46:22.280" style="s2">of these steps by</p>
<p begin="18:46:20.080" end="18:46:23.680" style="s2">yourself and I realized before we even</p>
<p begin="18:46:22.280" end="18:46:26.160" style="s2">do that we have to actually pull our</p>
<p begin="18:46:23.680" end="18:46:28.512" style="s2">code just like we did in the first job</p>
<p begin="18:46:26.160" end="18:46:31.400" style="s2">so we&#39;re going to copy uh that section</p>
<p begin="18:46:28.512" end="18:46:31.400" style="s2">right here where we pull the</p>
<p begin="18:46:37.720" end="18:46:41.552" style="s2">repo all right so we&#39;ve got the repo and</p>
<p begin="18:46:40.080" end="18:46:43.872" style="s2">then we deploy to</p>
<p begin="18:46:41.552" end="18:46:47.280" style="s2">Heroku and so what I&#39;m going to do now</p>
<p begin="18:46:43.872" end="18:46:49.480" style="s2">is we want to check our code real quick</p>
<p begin="18:46:47.280" end="18:46:51.552" style="s2">um and make some changes uh that that&#39;ll</p>
<p begin="18:46:49.480" end="18:46:52.680" style="s2">be easy to kind of quickly just test and</p>
<p begin="18:46:51.552" end="18:46:55.360" style="s2">see that we actually pushed out a</p>
<p begin="18:46:52.680" end="18:46:56.360" style="s2">changes so under our main.py file you</p>
<p begin="18:46:55.360" end="18:46:59.600" style="s2">know I&#39;m just going to do what I always</p>
<p begin="18:46:56.360" end="18:47:01.600" style="s2">do uh I&#39;m just going to add um</p>
<p begin="18:46:59.600" end="18:47:07.680" style="s2">successfully</p>
<p begin="18:47:01.600" end="18:47:09.760" style="s2">deployed from CI CD pipeline okay and so</p>
<p begin="18:47:07.680" end="18:47:15.400" style="s2">going to save that and then now we want</p>
<p begin="18:47:09.760" end="18:47:17.832" style="s2">to do a get add --all</p>
<p begin="18:47:15.400" end="18:47:21.080" style="s2">uh get commit</p>
<p begin="18:47:17.832" end="18:47:23.160" style="s2">DM push to Heroku</p>
<p begin="18:47:21.080" end="18:47:25.080" style="s2">example and then we&#39;ll do a get push</p>
<p begin="18:47:23.160" end="18:47:28.552" style="s2">origin</p>
<p begin="18:47:25.080" end="18:47:31.040" style="s2">Main and before I do that uh let me go</p>
<p begin="18:47:28.552" end="18:47:33.512" style="s2">to my</p>
<p begin="18:47:31.040" end="18:47:35.440" style="s2">app so if I actually go to my app on</p>
<p begin="18:47:33.512" end="18:47:37.832" style="s2">Heroku we can see it just says message</p>
<p begin="18:47:35.440" end="18:47:39.960" style="s2">hello world and so after we commit these</p>
<p begin="18:47:37.832" end="18:47:42.240" style="s2">changes we should see it send the new</p>
<p begin="18:47:39.960" end="18:47:44.920" style="s2">meage message so I&#39;m going to send uh</p>
<p begin="18:47:42.240" end="18:47:47.480" style="s2">I&#39;m going to push this to GitHub now and</p>
<p begin="18:47:44.920" end="18:47:49.832" style="s2">our cicd pipeline should run and push</p>
<p begin="18:47:47.480" end="18:47:52.160" style="s2">those changes</p>
<p begin="18:47:49.832" end="18:47:54.720" style="s2">out all right so now if I go back to</p>
<p begin="18:47:52.160" end="18:47:56.832" style="s2">GitHub and we take a look at the actions</p>
<p begin="18:47:54.720" end="18:47:58.760" style="s2">I can see my push to Heroku example</p>
<p begin="18:47:56.832" end="18:48:01.192" style="s2">succeeded and so you can see both the</p>
<p begin="18:47:58.760" end="18:48:02.440" style="s2">build phase and the deploy phase both</p>
<p begin="18:48:01.192" end="18:48:04.552" style="s2">succeeded and if we want to take a look</p>
<p begin="18:48:02.440" end="18:48:06.160" style="s2">at the notes um and just see what</p>
<p begin="18:48:04.552" end="18:48:08.040" style="s2">happened with the deploying to Heroku</p>
<p begin="18:48:06.160" end="18:48:10.920" style="s2">section we&#39;ll see the logs for this</p>
<p begin="18:48:08.040" end="18:48:12.640" style="s2">specific step and so it looks like yeah</p>
<p begin="18:48:10.920" end="18:48:14.800" style="s2">we can see Heroku is running in this</p>
<p begin="18:48:12.640" end="18:48:17.512" style="s2">case and it looks like everything worked</p>
<p begin="18:48:14.800" end="18:48:19.960" style="s2">so if I go back to my app and hit</p>
<p begin="18:48:17.512" end="18:48:22.720" style="s2">refresh right we can see we get the new</p>
<p begin="18:48:19.960" end="18:48:26.040" style="s2">message so we have successfully updated</p>
<p begin="18:48:22.720" end="18:48:28.920" style="s2">Heroku using our cicd pipeline it&#39;s as</p>
<p begin="18:48:26.040" end="18:48:30.960" style="s2">simple as that um and before I wrap up</p>
<p begin="18:48:28.920" end="18:48:33.640" style="s2">this video uh this section or this video</p>
<p begin="18:48:30.960" end="18:48:36.080" style="s2">on uh deploying to Heroku um I found</p>
<p begin="18:48:33.640" end="18:48:38.160" style="s2">this one good article that shows you how</p>
<p begin="18:48:36.080" end="18:48:40.440" style="s2">to deploy to Heroku in a manual way so</p>
<p begin="18:48:38.160" end="18:48:43.480" style="s2">if you don&#39;t want to use the built-in um</p>
<p begin="18:48:40.440" end="18:48:45.120" style="s2">or the preconfigured GitHub action you</p>
<p begin="18:48:43.480" end="18:48:47.080" style="s2">can actually create a custom workflow</p>
<p begin="18:48:45.120" end="18:48:50.280" style="s2">when it comes to uh you know actually</p>
<p begin="18:48:47.080" end="18:48:53.800" style="s2">manually logging in um and then pushing</p>
<p begin="18:48:50.280" end="18:48:55.360" style="s2">all of these changes out to Heroku um</p>
<p begin="18:48:53.800" end="18:48:58.040" style="s2">the manual way instead of using that</p>
<p begin="18:48:55.360" end="18:49:00.040" style="s2">pre-built action um but this is a little</p>
<p begin="18:48:58.040" end="18:49:01.680" style="s2">bit more complex and this would uh only</p>
<p begin="18:49:00.040" end="18:49:04.240" style="s2">really be needed under very specific</p>
<p begin="18:49:01.680" end="18:49:06.360" style="s2">circumstances or just for a learning uh</p>
<p begin="18:49:04.240" end="18:49:07.512" style="s2">or just for learning purposes so take a</p>
<p begin="18:49:06.360" end="18:49:09.080" style="s2">look at it if you want to see how it&#39;s</p>
<p begin="18:49:07.512" end="18:49:11.192" style="s2">done manually but you never actually</p>
<p begin="18:49:09.080" end="18:49:12.872" style="s2">have to do that now before we move any</p>
<p begin="18:49:11.192" end="18:49:15.240" style="s2">further there&#39;s one thing that I want to</p>
<p begin="18:49:12.872" end="18:49:17.160" style="s2">check to make sure that our cicd uh</p>
<p begin="18:49:15.240" end="18:49:19.040" style="s2">pipeline properly does and that is that</p>
<p begin="18:49:17.160" end="18:49:21.280" style="s2">if we get any kind of errors in the</p>
<p begin="18:49:19.040" end="18:49:23.960" style="s2">build job I want to make sure that the</p>
<p begin="18:49:21.280" end="18:49:25.480" style="s2">deploy job does not run right and so</p>
<p begin="18:49:23.960" end="18:49:27.720" style="s2">when I say errors it could be anything</p>
<p begin="18:49:25.480" end="18:49:30.040" style="s2">right maybe we&#39;re uh unable to install</p>
<p begin="18:49:27.720" end="18:49:32.800" style="s2">all of our dependencies or maybe and</p>
<p begin="18:49:30.040" end="18:49:35.400" style="s2">more importantly if our tests fail right</p>
<p begin="18:49:32.800" end="18:49:37.800" style="s2">if my tests fail I don&#39;t want to push my</p>
<p begin="18:49:35.400" end="18:49:39.832" style="s2">broken code out to production so I want</p>
<p begin="18:49:37.800" end="18:49:41.720" style="s2">to make sure that if the test fails we</p>
<p begin="18:49:39.832" end="18:49:43.960" style="s2">stop right there and we don&#39;t proceed</p>
<p begin="18:49:41.720" end="18:49:46.120" style="s2">any further with the deploy and so from</p>
<p begin="18:49:43.960" end="18:49:47.440" style="s2">a configuration perspective you don&#39;t</p>
<p begin="18:49:46.120" end="18:49:49.680" style="s2">technically have to do anything that&#39;s</p>
<p begin="18:49:47.440" end="18:49:51.872" style="s2">the default configuration but I do want</p>
<p begin="18:49:49.680" end="18:49:55.640" style="s2">to verify that it actually does what we</p>
<p begin="18:49:51.872" end="18:49:59.160" style="s2">expected to so in the tests files if I</p>
<p begin="18:49:55.640" end="18:50:00.640" style="s2">can find it uh tests I&#39;m going to go to</p>
<p begin="18:49:59.160" end="18:50:02.600" style="s2">you know it doesn&#39;t really matter what</p>
<p begin="18:50:00.640" end="18:50:06.120" style="s2">test I&#39;m just going to go under test</p>
<p begin="18:50:02.600" end="18:50:07.600" style="s2">posts and I&#39;m just going to um modify</p>
<p begin="18:50:06.120" end="18:50:10.480" style="s2">this to an incorrect</p>
<p begin="18:50:07.600" end="18:50:12.640" style="s2">value I&#39;m going to put this in the notes</p>
<p begin="18:50:10.480" end="18:50:14.600" style="s2">change to this one so I I remember which</p>
<p begin="18:50:12.640" end="18:50:17.280" style="s2">one I changed so I can change it back</p>
<p begin="18:50:14.600" end="18:50:19.640" style="s2">from 200 so this should cause this test</p>
<p begin="18:50:17.280" end="18:50:22.480" style="s2">to fail and if the test fails then we</p>
<p begin="18:50:19.640" end="18:50:24.960" style="s2">want to make sure that we don&#39;t deploy</p>
<p begin="18:50:22.480" end="18:50:27.640" style="s2">and I&#39;m also going to go back to our</p>
<p begin="18:50:24.960" end="18:50:28.800" style="s2">main.py file to actually make some</p>
<p begin="18:50:27.640" end="18:50:31.080" style="s2">Visible</p>
<p begin="18:50:28.800" end="18:50:33.920" style="s2">Changes um by changing this back to</p>
<p begin="18:50:31.080" end="18:50:36.760" style="s2">hello world to see if our code actually</p>
<p begin="18:50:33.920" end="18:50:37.800" style="s2">got updated accidentally or not so we</p>
<p begin="18:50:36.760" end="18:50:42.720" style="s2">got everything</p>
<p begin="18:50:37.800" end="18:50:42.720" style="s2">set we&#39;ll do a get ad once</p>
<p begin="18:50:43.512" end="18:50:47.832" style="s2">again we&#39;ll do a get</p>
<p begin="18:50:45.760" end="18:50:51.720" style="s2">commit</p>
<p begin="18:50:47.832" end="18:50:55.280" style="s2">DM broke stuff and then we&#39;ll do a get</p>
<p begin="18:50:51.720" end="18:50:55.280" style="s2">or get push origin</p>
<p begin="18:50:56.280" end="18:51:00.000" style="s2">Main and we&#39;ll let that</p>
<p begin="18:51:01.640" end="18:51:07.280" style="s2">run all right so going back to GitHub</p>
<p begin="18:51:04.240" end="18:51:09.440" style="s2">now um let me go back to the the actions</p>
<p begin="18:51:07.280" end="18:51:11.040" style="s2">page and we can see the last run it</p>
<p begin="18:51:09.440" end="18:51:13.600" style="s2">looks like it failed so let&#39;s see where</p>
<p begin="18:51:11.040" end="18:51:15.480" style="s2">it failed and so you could see here um</p>
<p begin="18:51:13.600" end="18:51:18.320" style="s2">it failed in the build build stage and</p>
<p begin="18:51:15.480" end="18:51:19.960" style="s2">then the deploy stage if I select this</p>
<p begin="18:51:18.320" end="18:51:22.600" style="s2">uh this check was skipped so that means</p>
<p begin="18:51:19.960" end="18:51:24.760" style="s2">we actually did properly skip the deploy</p>
<p begin="18:51:22.600" end="18:51:27.280" style="s2">phase because the build phase failed and</p>
<p begin="18:51:24.760" end="18:51:29.960" style="s2">we can see that um we exited with an</p>
<p begin="18:51:27.280" end="18:51:33.080" style="s2">error code because one of our tests</p>
<p begin="18:51:29.960" end="18:51:34.680" style="s2">failed awesome so let&#39;s go back let&#39;s</p>
<p begin="18:51:33.080" end="18:51:37.000" style="s2">fix this code real</p>
<p begin="18:51:34.680" end="18:51:39.832" style="s2">quick and what is it test</p>
<p begin="18:51:37.000" end="18:51:43.192" style="s2">posts and we&#39;ll change that back to a</p>
<p begin="18:51:39.832" end="18:51:45.552" style="s2">200 don&#39;t need those notes</p>
<p begin="18:51:43.192" end="18:51:48.320" style="s2">anymore and now let&#39;s push out those</p>
<p begin="18:51:45.552" end="18:51:48.320" style="s2">changes once</p>
<p begin="18:51:59.120" end="18:52:03.440" style="s2">more all right and uh we&#39;ll go back to</p>
<p begin="18:52:02.320" end="18:52:06.040" style="s2">GitHub</p>
<p begin="18:52:03.440" end="18:52:07.280" style="s2">again and let&#39;s go back to actions and</p>
<p begin="18:52:06.040" end="18:52:09.872" style="s2">let&#39;s take a look and we can see the</p>
<p begin="18:52:07.280" end="18:52:12.160" style="s2">last one did get deployed built and</p>
<p begin="18:52:09.872" end="18:52:15.080" style="s2">deployed successfully so if I go to</p>
<p begin="18:52:12.160" end="18:52:18.720" style="s2">Heroku refresh this we should see that</p>
<p begin="18:52:15.080" end="18:52:22.080" style="s2">this gets updated just fine all right so</p>
<p begin="18:52:18.720" end="18:52:24.040" style="s2">now that we can uh deploy our updates to</p>
<p begin="18:52:22.080" end="18:52:27.360" style="s2">Heroku let&#39;s take a look at how we can</p>
<p begin="18:52:24.040" end="18:52:29.192" style="s2">deploy our updates to our auntu server</p>
<p begin="18:52:27.360" end="18:52:32.552" style="s2">so once again it&#39;s just a matter of</p>
<p begin="18:52:29.192" end="18:52:35.552" style="s2">figuring out um what exactly are the</p>
<p begin="18:52:32.552" end="18:52:38.640" style="s2">commands that we would need to run to</p>
<p begin="18:52:35.552" end="18:52:40.552" style="s2">update our production environment so</p>
<p begin="18:52:38.640" end="18:52:41.832" style="s2">there&#39;s going to be a couple things uh</p>
<p begin="18:52:40.552" end="18:52:46.832" style="s2">the first thing is first of all we would</p>
<p begin="18:52:41.832" end="18:52:48.960" style="s2">have to log into our uh a buntu</p>
<p begin="18:52:46.832" end="18:52:50.240" style="s2">server and then once we log and when I</p>
<p begin="18:52:48.960" end="18:52:53.000" style="s2">say a log into our buntu server I mean</p>
<p begin="18:52:50.240" end="18:52:57.800" style="s2">like SSH to it we would then have</p>
<p begin="18:52:53.000" end="18:53:00.192" style="s2">to move into our slapp SL Source</p>
<p begin="18:52:57.800" end="18:53:02.400" style="s2">directory and then we would run a get</p>
<p begin="18:53:00.192" end="18:53:06.160" style="s2">pull so that we can pull the latest code</p>
<p begin="18:53:02.400" end="18:53:11.600" style="s2">and then we&#39;d have to do a</p>
<p begin="18:53:06.160" end="18:53:15.120" style="s2">um a uh a system CTL restart</p>
<p begin="18:53:11.600" end="18:53:16.760" style="s2">API so how exactly do we do all of this</p>
<p begin="18:53:15.120" end="18:53:19.240" style="s2">how do we log into our buntu server how</p>
<p begin="18:53:16.760" end="18:53:22.600" style="s2">do we SSH to it well there&#39;s a there&#39;s a</p>
<p begin="18:53:19.240" end="18:53:24.552" style="s2">really nice um built-in action I can</p>
<p begin="18:53:22.600" end="18:53:30.120" style="s2">find the marketplace</p>
<p begin="18:53:24.552" end="18:53:33.320" style="s2">again and I believe it&#39;s called um s-</p>
<p begin="18:53:30.120" end="18:53:35.872" style="s2">action and uh I don&#39;t think that&#39;s I</p>
<p begin="18:53:33.320" end="18:53:37.800" style="s2">can&#39;t find it in here the one I used um</p>
<p begin="18:53:35.872" end="18:53:40.512" style="s2">but it&#39;s by Apple</p>
<p begin="18:53:37.800" end="18:53:42.600" style="s2">boy and I&#39;ll just do Apple boy SSH so</p>
<p begin="18:53:40.512" end="18:53:44.440" style="s2">search for that that&#39;s there we go this</p>
<p begin="18:53:42.600" end="18:53:46.192" style="s2">is the one we want SSH remote command so</p>
<p begin="18:53:44.440" end="18:53:48.872" style="s2">this will allow you to run commands on a</p>
<p begin="18:53:46.192" end="18:53:50.960" style="s2">remote machine so let&#39;s take a look at</p>
<p begin="18:53:48.872" end="18:53:53.280" style="s2">how to do this um here they give you an</p>
<p begin="18:53:50.960" end="18:53:56.192" style="s2">example so you have to pass in the host</p>
<p begin="18:53:53.280" end="18:53:59.192" style="s2">which is the IP address the username and</p>
<p begin="18:53:56.192" end="18:54:01.040" style="s2">the password and then the SSH Port is</p>
<p begin="18:53:59.192" end="18:54:04.512" style="s2">optional but I think it should default</p>
<p begin="18:54:01.040" end="18:54:06.480" style="s2">to um uh to Port 22 which is the one</p>
<p begin="18:54:04.512" end="18:54:08.160" style="s2">that&#39;s running on our abun server so we</p>
<p begin="18:54:06.480" end="18:54:09.440" style="s2">don&#39;t actually have to Define that um</p>
<p begin="18:54:08.160" end="18:54:11.440" style="s2">but that&#39;s all we really need and then</p>
<p begin="18:54:09.440" end="18:54:13.040" style="s2">the script is going to be the uh</p>
<p begin="18:54:11.440" end="18:54:15.552" style="s2">commands that we want to run on the</p>
<p begin="18:54:13.040" end="18:54:19.680" style="s2">remote machine so so let&#39;s set this</p>
<p begin="18:54:15.552" end="18:54:22.360" style="s2">up uh and I&#39;ll go down to</p>
<p begin="18:54:19.680" end="18:54:25.440" style="s2">here and I&#39;ll say</p>
<p begin="18:54:22.360" end="18:54:27.960" style="s2">name deploy to auntu</p>
<p begin="18:54:25.440" end="18:54:32.872" style="s2">server and we&#39;re going to say</p>
<p begin="18:54:27.960" end="18:54:35.872" style="s2">uses Apple boy SL s-</p>
<p begin="18:54:32.872" end="18:54:35.872" style="s2">action</p>
<p begin="18:54:35.920" end="18:54:41.552" style="s2">atmas and then</p>
<p begin="18:54:38.120" end="18:54:43.192" style="s2">with so first we have to provide a host</p>
<p begin="18:54:41.552" end="18:54:46.192" style="s2">and I&#39;m going to store this in a secret</p>
<p begin="18:54:43.192" end="18:54:48.920" style="s2">and we&#39;ll call this uh</p>
<p begin="18:54:46.192" end="18:54:50.872" style="s2">um what do you think we should call this</p>
<p begin="18:54:48.920" end="18:54:54.600" style="s2">about</p>
<p begin="18:54:50.872" end="18:54:54.600" style="s2">auntu uncore</p>
<p begin="18:54:55.480" end="18:54:59.640" style="s2">host actually we&#39;ll call this prod</p>
<p begin="18:54:59.720" end="18:55:05.240" style="s2">host and then username same thing we&#39;re</p>
<p begin="18:55:03.000" end="18:55:09.320" style="s2">going to store this in a uh secret so</p>
<p begin="18:55:05.240" end="18:55:11.800" style="s2">we&#39;ll do secrets. prod</p>
<p begin="18:55:09.320" end="18:55:15.480" style="s2">username and then</p>
<p begin="18:55:11.800" end="18:55:18.280" style="s2">password once again in another Secret</p>
<p begin="18:55:15.480" end="18:55:21.280" style="s2">and I&#39;ll call this</p>
<p begin="18:55:18.280" end="18:55:21.280" style="s2">prod</p>
<p begin="18:55:21.832" end="18:55:25.120" style="s2">password all right then we have to</p>
<p begin="18:55:23.600" end="18:55:26.192" style="s2">provide the commands that we want to run</p>
<p begin="18:55:25.120" end="18:55:27.800" style="s2">and so since we&#39;re going to use more</p>
<p begin="18:55:26.192" end="18:55:30.960" style="s2">than one command we&#39;re going to do the</p>
<p begin="18:55:27.800" end="18:55:32.400" style="s2">little pipe symbol and then here we just</p>
<p begin="18:55:30.960" end="18:55:33.760" style="s2">list out the command so the first thing</p>
<p begin="18:55:32.400" end="18:55:35.960" style="s2">that we want to do is we need to move</p>
<p begin="18:55:33.760" end="18:55:37.640" style="s2">into our app directory so we just going</p>
<p begin="18:55:35.960" end="18:55:40.160" style="s2">to be app SL</p>
<p begin="18:55:37.640" end="18:55:42.872" style="s2">source and make sure there is no front</p>
<p begin="18:55:40.160" end="18:55:46.040" style="s2">slash that&#39;s going to break</p>
<p begin="18:55:42.872" end="18:55:48.960" style="s2">things uh then we we want to do a git</p>
<p begin="18:55:46.040" end="18:55:50.240" style="s2">pull now this is where it might get a</p>
<p begin="18:55:48.960" end="18:55:52.960" style="s2">little interesting um I&#39;m going to do it</p>
<p begin="18:55:50.240" end="18:55:57.160" style="s2">the wrong way first so we do a system</p>
<p begin="18:55:52.960" end="18:55:59.280" style="s2">CTL restart API but we do need pseudo</p>
<p begin="18:55:57.160" end="18:56:02.760" style="s2">privilege so we&#39;ll do</p>
<p begin="18:55:59.280" end="18:56:05.320" style="s2">pseudo restart API or whatever you call</p>
<p begin="18:56:02.760" end="18:56:07.552" style="s2">it yours uh and so let&#39;s define these</p>
<p begin="18:56:05.320" end="18:56:08.832" style="s2">secrets real quick and we&#39;ll go into the</p>
<p begin="18:56:07.552" end="18:56:10.512" style="s2">environments and then we&#39;ll go to our</p>
<p begin="18:56:08.832" end="18:56:14.680" style="s2">production environment and so just go</p>
<p begin="18:56:10.512" end="18:56:14.680" style="s2">ahead and just create them here</p>
<p begin="18:56:26.512" end="18:56:29.040" style="s2">all right and then we&#39;re going to put in</p>
<p begin="18:56:27.440" end="18:56:30.512" style="s2">our password I&#39;m not going to show this</p>
<p begin="18:56:29.040" end="18:56:34.680" style="s2">one to you guys so I&#39;ll just going to</p>
<p begin="18:56:30.512" end="18:56:34.680" style="s2">pause the video and then add it</p>
<p begin="18:56:35.480" end="18:56:40.000" style="s2">myself and then finally we need</p>
<p begin="18:56:41.280" end="18:56:45.552" style="s2">the uh the username</p>
<p begin="18:56:45.760" end="18:56:50.280" style="s2">and I believe I called mine just sanie I</p>
<p begin="18:56:48.320" end="18:56:52.440" style="s2">think that should work</p>
<p begin="18:56:50.280" end="18:56:56.160" style="s2">hopefully and so now we&#39;ve got all of</p>
<p begin="18:56:52.440" end="18:56:58.600" style="s2">our secrets and um I think we should be</p>
<p begin="18:56:56.160" end="18:57:01.360" style="s2">good to go prod host username password</p>
<p begin="18:56:58.600" end="18:57:01.360" style="s2">so let&#39;s try</p>
<p begin="18:57:03.480" end="18:57:07.480" style="s2">this actually before we do that going to</p>
<p begin="18:57:05.800" end="18:57:09.640" style="s2">make one more change to the code that we</p>
<p begin="18:57:07.480" end="18:57:12.960" style="s2">can actually see the changes and so this</p>
<p begin="18:57:09.640" end="18:57:14.760" style="s2">is uh pushing out to a</p>
<p begin="18:57:12.960" end="18:57:19.760" style="s2">buntu and and we&#39;re going to have to do</p>
<p begin="18:57:14.760" end="18:57:19.760" style="s2">a get ad once again then a get</p>
<p begin="18:57:22.160" end="18:57:27.040" style="s2">commit and then get push origin</p>
<p begin="18:57:30.480" end="18:57:36.080" style="s2">main all right and let&#39;s go back now</p>
<p begin="18:57:33.240" end="18:57:38.280" style="s2">let&#39;s check on our actions it looks like</p>
<p begin="18:57:36.080" end="18:57:40.920" style="s2">it&#39;s still running so it&#39;s in the deploy</p>
<p begin="18:57:38.280" end="18:57:42.872" style="s2">phase and it looks like it&#39;s uh</p>
<p begin="18:57:40.920" end="18:57:46.800" style="s2">connecting oh and it looks like it just</p>
<p begin="18:57:42.872" end="18:57:48.872" style="s2">finished and it failed so what exactly</p>
<p begin="18:57:46.800" end="18:57:52.512" style="s2">happened here uh if we take a look at</p>
<p begin="18:57:48.872" end="18:57:55.960" style="s2">the logs it says pseudo a terminal is</p>
<p begin="18:57:52.512" end="18:57:57.240" style="s2">required to read the password so uh it&#39;s</p>
<p begin="18:57:55.960" end="18:57:58.480" style="s2">basically saying that when you run the</p>
<p begin="18:57:57.240" end="18:58:00.480" style="s2">pseudo command you know you get the</p>
<p begin="18:57:58.480" end="18:58:03.240" style="s2">prompt so that you can input the Pudo</p>
<p begin="18:58:00.480" end="18:58:04.960" style="s2">password and since this is all through a</p>
<p begin="18:58:03.240" end="18:58:07.400" style="s2">remote SSH connection that&#39;s not really</p>
<p begin="18:58:04.960" end="18:58:09.960" style="s2">an option so we have to pass in the dash</p>
<p begin="18:58:07.400" end="18:58:12.440" style="s2">s option the- s</p>
<p begin="18:58:09.960" end="18:58:13.552" style="s2">flag and so the way we actually Define</p>
<p begin="18:58:12.440" end="18:58:14.600" style="s2">this is going to be actually pretty</p>
<p begin="18:58:13.552" end="18:58:17.872" style="s2">interesting</p>
<p begin="18:58:14.600" end="18:58:19.760" style="s2">um but let&#39;s see where where&#39;s my file</p>
<p begin="18:58:17.872" end="18:58:23.552" style="s2">so to use the- S flag what we&#39;re going</p>
<p begin="18:58:19.760" end="18:58:26.280" style="s2">to do is we&#39;re going to say</p>
<p begin="18:58:23.552" end="18:58:30.680" style="s2">Echo and then we&#39;re going to Echo the</p>
<p begin="18:58:26.280" end="18:58:33.800" style="s2">password our pseudo password and then we</p>
<p begin="18:58:30.680" end="18:58:37.800" style="s2">pipe into the next command and we do</p>
<p begin="18:58:33.800" end="18:58:41.000" style="s2">pseudo- s so the- s means that we&#39;re</p>
<p begin="18:58:37.800" end="18:58:43.680" style="s2">going to accept what um the password as</p>
<p begin="18:58:41.000" end="18:58:46.080" style="s2">an argument essentially and the this</p>
<p begin="18:58:43.680" end="18:58:47.832" style="s2">pipe command what it&#39;s doing is we um we</p>
<p begin="18:58:46.080" end="18:58:49.960" style="s2">run Echo and then whatever our password</p>
<p begin="18:58:47.832" end="18:58:52.360" style="s2">is uh so this we actually replace with</p>
<p begin="18:58:49.960" end="18:58:55.400" style="s2">the actual password and it&#39;s going to</p>
<p begin="18:58:52.360" end="18:58:57.192" style="s2">pass that into the input of this command</p>
<p begin="18:58:55.400" end="18:58:59.000" style="s2">so it&#39;s going to pass it into the- s</p>
<p begin="18:58:57.192" end="18:59:01.320" style="s2">flag essentially so that&#39;s how you do</p>
<p begin="18:58:59.000" end="18:59:03.680" style="s2">this with the oneline command um here</p>
<p begin="18:59:01.320" end="18:59:06.680" style="s2">we&#39;re just going to um pass our same</p>
<p begin="18:59:03.680" end="18:59:11.240" style="s2">environment variable so we&#39;ll do</p>
<p begin="18:59:06.680" end="18:59:11.240" style="s2">Secrets do uh prod</p>
<p begin="18:59:11.320" end="18:59:16.720" style="s2">password and I think that should fix it</p>
<p begin="18:59:13.640" end="18:59:20.512" style="s2">actually so we&#39;ll do a get add--</p>
<p begin="18:59:16.720" end="18:59:20.512" style="s2">all get commit</p>
<p begin="18:59:20.920" end="18:59:26.000" style="s2">DM password fix and a get</p>
<p begin="18:59:31.600" end="18:59:35.832" style="s2">push okay so let&#39;s go back to our</p>
<p begin="18:59:33.872" end="18:59:38.800" style="s2">actions uh we can see that the password</p>
<p begin="18:59:35.832" end="18:59:40.280" style="s2">fix commit ran just fine and it</p>
<p begin="18:59:38.800" end="18:59:42.720" style="s2">succeeded so the build phase and the</p>
<p begin="18:59:40.280" end="18:59:45.720" style="s2">deploy phase succeeded so if I go to my</p>
<p begin="18:59:42.720" end="18:59:47.760" style="s2">uh buntu server and I and we take a look</p>
<p begin="18:59:45.720" end="18:59:49.760" style="s2">at this we can see that uh we did get</p>
<p begin="18:59:47.760" end="18:59:52.000" style="s2">the updated code so we did successfully</p>
<p begin="18:59:49.760" end="18:59:54.000" style="s2">update our production server and on top</p>
<p begin="18:59:52.000" end="18:59:55.872" style="s2">of that um technically since we never</p>
<p begin="18:59:54.000" end="18:59:59.160" style="s2">took out the code for Heroku we should</p>
<p begin="18:59:55.872" end="19:00:01.280" style="s2">see Heroku also deploy so um if I go to</p>
<p begin="18:59:59.160" end="19:00:04.720" style="s2">my Heroku app we can see that pushed out</p>
<p begin="19:00:01.280" end="19:00:08.040" style="s2">to a bunch so we now have successfully</p>
<p begin="19:00:04.720" end="19:00:10.680" style="s2">completed our cicd pipeline we set up</p>
<p begin="19:00:08.040" end="19:00:12.960" style="s2">all of the uh continuous integration</p>
<p begin="19:00:10.680" end="19:00:15.720" style="s2">steps which included um copying our</p>
<p begin="19:00:12.960" end="19:00:17.760" style="s2">source code uh installing all of the uh</p>
<p begin="19:00:15.720" end="19:00:19.440" style="s2">python dependencies testing our</p>
<p begin="19:00:17.760" end="19:00:21.552" style="s2">application and then we set up the CD</p>
<p begin="19:00:19.440" end="19:00:23.120" style="s2">phase which was just a matter of pushing</p>
<p begin="19:00:21.552" end="19:00:26.120" style="s2">those changes out to our production</p>
<p begin="19:00:23.120" end="19:00:26.120" style="s2">environment</p>
</div>
</body>
</tt>
